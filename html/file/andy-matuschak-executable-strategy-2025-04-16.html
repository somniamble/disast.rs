<!-- Saved from https://notes.andymatuschak.org/zVyJffuisLSjaDVtBtxsmSS at 2025-04-16T17:01:51Z using monolith v2.8.3 -->
<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta charset="utf-8"><title class="jsx-1937205853 jsx-2368987559">Executable strategy</title><meta property="og:title" content="Executable strategy" class="jsx-1937205853 jsx-2368987559"><meta property="og:type" content="article" class="jsx-1937205853 jsx-2368987559"><meta property="og:site_name" content="AndyÊ¼s working notes" class="jsx-1937205853 jsx-2368987559"><meta name="next-head-count" content="6"><link href="/_next/static/css/styles.af8b7709.chunk.css" as="style"><link rel="stylesheet" href="data:text/css;charset=UTF-8;base64,I2hlYWRlciB7CiAgd2lkdGg6IDEwMCU7CiAgbWluLWhlaWdodDogNDRweDsKICB6LWluZGV4OiA1OwogIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGFkYWRhOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBwYWRkaW5nLXRvcDogMTBweDsKICBwYWRkaW5nLWJvdHRvbTogMTBweDsKICBmbGV4LXdyYXA6IHdyYXA7IH0KICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc5OXB4KSB7CiAgICAjaGVhZGVyIHsKICAgICAgcGFkZGluZy1sZWZ0OiAxNnB4OwogICAgICBwYWRkaW5nLXJpZ2h0OiAxNnB4OyB9IH0KICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDgwMHB4KSB7CiAgICAjaGVhZGVyIHsKICAgICAgcGFkZGluZy1sZWZ0OiAzMnB4OwogICAgICBwYWRkaW5nLXJpZ2h0OiAzMnB4OyB9IH0KICAjaGVhZGVyIGgxIHsKICAgIG1hcmdpbjogMDsKICAgIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIiwgIlNlZ29lIFVJIFN5bWJvbCI7CiAgICBmb250LXdlaWdodDogNTAwOwogICAgZm9udC1zaXplOiAxN3B4OwogICAgbWFyZ2luLXJpZ2h0OiAxNnB4OyB9CiAgI2hlYWRlciAubm90ZUxpbmsgewogICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmLCAiQXBwbGUgQ29sb3IgRW1vamkiLCAiU2Vnb2UgVUkgRW1vamkiLCAiU2Vnb2UgVUkgU3ltYm9sIjsKICAgIGZvbnQtc2l6ZTogMTVweDsKICAgIGNvbG9yOiAjMzMzOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgbWFyZ2luLWxlZnQ6IDE2cHg7IH0KICAgICNoZWFkZXIgLm5vdGVMaW5rOmhvdmVyIHsKICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7IH0KICAgICNoZWFkZXIgLm5vdGVMaW5rOnZpc2l0ZWQgewogICAgICBjb2xvcjogaW5oZXJpdDsgfQogICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3OTlweCkgewogICAgICAjaGVhZGVyIC5ub3RlTGluayB7CiAgICAgICAgZGlzcGxheTogbm9uZTsgfSB9CiAgI2hlYWRlciAudXNlclN0YXRlIHsKICAgIG1hcmdpbi1sZWZ0OiBhdXRvOyB9CiAgICAjaGVhZGVyIC51c2VyU3RhdGUgLmFub255bW91c05vdGljZSB7CiAgICAgIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIiwgIlNlZ29lIFVJIFN5bWJvbCI7CiAgICAgIGZvbnQtc2l6ZTogMTVweDsKICAgICAgY29sb3I6ICMwYTg0ZmY7IH0KICAgICAgI2hlYWRlciAudXNlclN0YXRlIC5hbm9ueW1vdXNOb3RpY2UgYSB7CiAgICAgICAgY29sb3I6IGluaGVyaXQ7IH0KICAgICNoZWFkZXIgLnVzZXJTdGF0ZSAuaWRlbnRpdHkgewogICAgICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYsICJBcHBsZSBDb2xvciBFbW9qaSIsICJTZWdvZSBVSSBFbW9qaSIsICJTZWdvZSBVSSBTeW1ib2wiOwogICAgICBmb250LXNpemU6IDE1cHg7CiAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7CiAgICAgIGNvbG9yOiAjOTk5OyB9CiAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzk5cHgpIHsKICAgICAgICAjaGVhZGVyIC51c2VyU3RhdGUgLmlkZW50aXR5IHsKICAgICAgICAgIGRpc3BsYXk6IG5vbmU7IH0gfQoKCi8qIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlcy5hZjhiNzcwOS5jaHVuay5jc3MubWFwKi8="><link href="/_next/static/d3AhszHS2XKFxCZtCz_mu/pages/%5Bnote%5D.js" as="script"><link href="/_next/static/d3AhszHS2XKFxCZtCz_mu/pages/_app.js" as="script"><link href="/_next/static/runtime/webpack-9a1dc14bbed04abf6704.js" as="script"><link href="/_next/static/chunks/framework.74d547792b3163b4d6d2.js" as="script"><link href="/_next/static/chunks/commons.c2974388a2462b28b6b5.js" as="script"><link href="/_next/static/runtime/main-5d5a51c312deca4d894c.js" as="script"><link href="/_next/static/chunks/484bcb1e.441d7edb435a1dc61bf0.js" as="script"><link href="/_next/static/chunks/ff239f9d.a7e0183771fec2399e58.js" as="script"><link href="/_next/static/chunks/0938bdecdc379ead52a6327579ade583c01e0c8c.4bfc644b2614f83f6757.js" as="script"><link href="/_next/static/chunks/2177072ad3b33e7a9ea5a8269738276f63cb507b.1859c8fa67d80d520a99.js" as="script"><link href="/_next/static/chunks/47ecb806e3e12e23cc348937acd30f69440b02a6.d84cad56b7e7bd3d0c3c.js" as="script"><link href="/_next/static/chunks/styles.741b6c7f778422f18e01.js" as="script"><style id="__jsx-1555031696">.Active.jsx-1555031696{background-color:rgba(10,132,255,0.15);}</style><style id="__jsx-732926425">div.jsx-732926425{height:100%;overflow:hidden;}div.jsx-732926425 .MarkdownContainer{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
"Segoe UI Symbol";color:#333;font-size:17px;line-height:24px;-webkit-letter-spacing:-0.024%;-moz-letter-spacing:-0.024%;-ms-letter-spacing:-0.024%;letter-spacing:-0.024%;}div.jsx-732926425 .MarkdownContainer p{margin-top:0em;margin-bottom:1em;}div.jsx-732926425 .MarkdownContainer ul{margin-top:0em;margin-bottom:0em;}div.jsx-732926425 .MarkdownContainer ul li{margin-bottom:0.5em;}div.jsx-732926425 .MarkdownContainer ul li>p{margin-top:0;margin-bottom:0;}div.jsx-732926425 .MarkdownContainer ul ul{margin-top:0.5em;}div.jsx-732926425 .MarkdownContainer a{-webkit-text-decoration:none;text-decoration:none;color:rgba(10, 132, 255, 1);}div.jsx-732926425 .MarkdownContainer a:hover{-webkit-text-decoration:underline;text-decoration:underline;}div.jsx-732926425 .MarkdownContainer a:visited{color:#af52de;}div.jsx-732926425 .MarkdownContainer h1{font-size:28px;line-height:34px;-webkit-letter-spacing:0.011%;-moz-letter-spacing:0.011%;-ms-letter-spacing:0.011%;letter-spacing:0.011%;font-weight:600;margin-top:0px;margin-bottom:16px;color:inherit;}div.jsx-732926425 .MarkdownContainer h2{font-size:25px;line-height:31px;-webkit-letter-spacing:0.014%;-moz-letter-spacing:0.014%;-ms-letter-spacing:0.014%;letter-spacing:0.014%;font-weight:normal;margin-top:1.5em;margin-bottom:0.5em;}div.jsx-732926425 .MarkdownContainer h3{font-weight:600;margin-top:1em;margin-bottom:0.5em;}div.jsx-732926425 .MarkdownContainer hr{margin-top:2em;margin-bottom:1em;height:1px;border:none;background-color:#ddd;}div.jsx-732926425 .MarkdownContainer pre{font-size:13px;line-height:17px;overflow-x:auto;background-color:#fafafc;padding:4px;}div.jsx-732926425 .MarkdownContainer img{max-width:100%;max-height:500px;object-fit:contain;display:block;margin-left:auto;margin-right:auto;}</style><style id="__jsx-2479918432">.NoteContainer.jsx-2479918432{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}.NoteContainer.jsx-2479918432 h3.jsx-2479918432{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:17px;line-height:24px;-webkit-letter-spacing:-0.024%;-moz-letter-spacing:-0.024%;-ms-letter-spacing:-0.024%;letter-spacing:-0.024%;color:#888;margin:0px 0px 0px 0px;}@media screen and (min-width:801px){.NoteContainer.jsx-2479918432 .PrimaryNote.jsx-2479918432{padding:32px;}}@media screen and (max-width:800px){.NoteContainer.jsx-2479918432 .PrimaryNote.jsx-2479918432{padding:16px;}}.NoteContainer.jsx-2479918432 .FooterMeta.jsx-2479918432{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:12px;line-height:15px;font-weight:500;color:#aaa;}.NoteContainer.jsx-2479918432 .Footer.jsx-2479918432{margin:16px;padding:16px;background-color:#fafafc;border-radius:16px;}@media screen and (max-width:800px){.NoteContainer.jsx-2479918432 .Footer.jsx-2479918432{margin:8px;padding:8px;}}.NoteContainer.jsx-2479918432 .BacklinksContainer.jsx-2479918432{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:relative;}.NoteContainer.jsx-2479918432 .BacklinksContainer.jsx-2479918432>a{-webkit-text-decoration:none;text-decoration:none;}</style><style id="__jsx-1831269130">div.jsx-1831269130{opacity:0 !important;}</style><style id="__jsx-640005356">div.jsx-640005356{
animation-name: FadeTransitionAnimation;
animation-duration: 150ms;
animation-timing-function: linear;
animation-fill-mode: both;
 opacity:1 !important;}</style><style id="__jsx-1649199117">div.jsx-1649199117{opacity:1 !important;}</style><style id="__jsx-1142221322">div.jsx-1142221322{
animation-name: FadeTransitionAnimation;
animation-duration: 150ms;
animation-timing-function: linear;
animation-fill-mode: both;
 opacity:0 !important;}</style><style id="__jsx-3179990917">.NoteContainer.jsx-3179990917{background-color:white;}@media screen and (min-width:801px){.PresentedNote.jsx-3179990917{-webkit-transition:opacity 150ms linear;transition:opacity 150ms linear;}.HiddenNote.jsx-3179990917{opacity:0 !important;-webkit-transform:scale(0.95);-ms-transform:scale(0.95);transform:scale(0.95);pointer-events:none;}.Overlay.jsx-3179990917{box-shadow:0px 0px 15px 3px rgba(0,0,0,0.1);}.NoteContainer.jsx-3179990917{-webkit-transition:box-shadow 100ms linear,opacity 75ms linear,-webkit-transform 200ms cubic-bezier(0.19, 1, 0.22, 1);-webkit-transition:box-shadow 100ms linear,opacity 75ms linear,transform 200ms cubic-bezier(0.19, 1, 0.22, 1);transition:box-shadow 100ms linear,opacity 75ms linear,transform 200ms cubic-bezier(0.19, 1, 0.22, 1);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:625px;max-width:625px;top:0px;position:-webkit-sticky;position:sticky;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow-y:auto;border-left:1px solid rgba(0,0,0,0.05);}.NoteContainer.jsx-3179990917:first-of-type{border-left:none;}.NoteContainer.PendingExit.jsx-3179990917{background-color:#fafafc;}.ObscuredLabel.jsx-3179990917{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
"Segoe UI Symbol";font-size:17px;line-height:40px;-webkit-letter-spacing:0.03em;-moz-letter-spacing:0.03em;-ms-letter-spacing:0.03em;letter-spacing:0.03em;font-weight:500;-webkit-writing-mode:vertical-lr;-ms-writing-mode:tb;writing-mode:vertical-lr;margin-top:36px;top:0px;bottom:0px;left:0px;position:absolute;background-color:transparent;width:40px;color:#333;overflow:hidden;}.HoveredDestination.jsx-3179990917{color:rgba(10, 132, 255, 1);}}</style><style id="__jsx-1937205853">.NotePageRoot.jsx-1937205853{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}@media screen and (min-width:801px){.NotePageRoot.jsx-1937205853{height:100vh;}}.NoteColumnsScrollingContainer.jsx-1937205853{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow-x:auto;overflow-y:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}.NoteColumnsContainer.jsx-1937205853{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-transition:width 100ms cubic-bezier(0.19, 1, 0.22, 1);transition:width 100ms cubic-bezier(0.19, 1, 0.22, 1);}@media screen and (max-width:800px){.NoteColumnsContainer.jsx-1937205853{width:unset !important;}}</style><style id="__jsx-2368987559">body{background-color:#fafafc;margin:0;padding:0;height:100vh;}html{box-sizing:border-box;}*{box-sizing:inherit;}</style></head><body><div id="__next"><div class="jsx-1937205853 jsx-2368987559 NotePageRoot"><header id="header"><h1>AndyÊ¼s working notes</h1><a class="noteLink" href="https://notes.andymatuschak.org/About_these_notes">About these notes</a><div class="userState"></div></header><div class="jsx-1937205853 jsx-2368987559 NoteColumnsScrollingContainer"><div style="width:625px" class="jsx-1937205853 jsx-2368987559 NoteColumnsContainer"><div style="left:0;right:-585px" class="jsx-3179990917 NoteContainer   "><div class="jsx-3179990917 PresentedNote"><div class="jsx-2479918432 NoteContainer"><div class="jsx-2479918432 PrimaryNote"><div class="jsx-732926425"><div class="MarkdownContainer"><h1>Executable strategy</h1><p>In creative work and in life, many goals seem unpredictable and unwieldy, reliant on hope and luck: starting a habit, getting in shape, writing a book, doing a research project, etc. (see <a href="https://notes.andymatuschak.org/zPFYKBrsvL88opKh28UYxWv" class="jsx-1555031696 "><span>Core practices in knowledge work are often ad-hoc</span></a>)</p><p>Cleaning the kitchen isnât like that. Even clearing out oneâs inbox isnât like that (<a href="https://notes.andymatuschak.org/z2Pg1CbUyvjV4jEoqmr8Xua" class="jsx-1555031696 "><span>Triage strategies for maintaining inboxes (e.g. Inbox Zero) are often too brittle</span></a>). For many prosaic goals, you have <strong>executable strategies</strong>, which reliably achieve the goal with a predictable, manageable amount of effort. Theyâre a kind of metacognitive support (<a href="https://notes.andymatuschak.org/zL2zRTTRhWf1Lx4x9p2uCDt" class="jsx-1555031696 "><span>Metacognitive supports as cognitive scaffolding</span></a>).</p><p>To construct an executable strategy, we must factor the task into activities such that:</p><ul><li>completing more of those activities will reliably bring you closer to the goal</li><li>each activity consumes a predictable amount of effort</li><li>each activity feels doable</li><li>little effort is required to select and plan an activity</li></ul><p>One common choice is to set daily goals for a certain number of hours at work. Success with this strategy requires a clear theory of how those hours will inexorably accumulate to the desired outcome. Simply spending some number of hours on a project is a fairly weak constraint: itâs easy to work with focus many hours unproductively.</p><p>Another common choice is to discretize the creative output. If youâre trying to write an essay, you might aim to write a certain number of words per day; if youâre designing an interface, you might aim to design one element of the UI per day. But these steps donât consume a predictable amount of effort, and they often donât feel doable. If youâre stuck in your writing because youâve become confused about one of your ideas, you wonât be able to write 500 words for your manuscript. Instead, you need to spend more time thinking about the idea. A manuscript is a challenging place to do that. By contrast, see <a href="https://notes.andymatuschak.org/zR6RRbCfY5rFkiimFnaJZKB" class="jsx-1555031696 "><span>Evergreen note-writing as fundamental unit of knowledge work</span></a>.</p><h2>List of executable strategies</h2><ul><li><a href="https://notes.andymatuschak.org/zCknixwETdFm1MWdWPwMcXs" class="jsx-1555031696 "><span>Executable strategy for writing</span></a></li><li><a href="https://notes.andymatuschak.org/zSTqsQ4ATXB61k3Z43TforN" class="jsx-1555031696 "><span>Spaced repetition memory systems make memory a choice</span></a></li><li><a href="https://notes.andymatuschak.org/zEr7kCcH6zUUroDJBwDj2n5" class="jsx-1555031696 "><span>How to process reading annotations into evergreen notes</span></a></li><li>Starting a habit </li></ul><hr></div></div><div class="jsx-2479918432 FooterMeta">Last updated <!-- -->2023-07-13<!-- -->.</div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"initialNoteCache":{"zVyJffuisLSjaDVtBtxsmSS":{"data":{"slug":"zVyJffuisLSjaDVtBtxsmSS","title":"Executable strategy","contentMarkdown":"# Executable strategy\n\nIn creative work and in life, many goals seem unpredictable and unwieldy, reliant on hope and luck: starting a habit, getting in shape, writing a book, doing a research project, etc. (see [[zPFYKBrsvL88opKh28UYxWv:::Core practices in knowledge work are often ad-hoc]])\n\nCleaning the kitchen isnât like that. Even clearing out oneâs inbox isnât like that ([[z2Pg1CbUyvjV4jEoqmr8Xua:::Triage strategies for maintaining inboxes (e.g. Inbox Zero) are often too brittle]]). For many prosaic goals, you have **executable strategies**, which reliably achieve the goal with a predictable, manageable amount of effort. Theyâre a kind of metacognitive support ([[zL2zRTTRhWf1Lx4x9p2uCDt:::Metacognitive supports as cognitive scaffolding]]).\n\nTo construct an executable strategy, we must factor the task into activities such that:\n\n*   completing more of those activities will reliably bring you closer to the goal\n*   each activity consumes a predictable amount of effort\n*   each activity feels doable\n*   little effort is required to select and plan an activity\n\nOne common choice is to set daily goals for a certain number of hours at work. Success with this strategy requires a clear theory of how those hours will inexorably accumulate to the desired outcome. Simply spending some number of hours on a project is a fairly weak constraint: itâs easy to work with focus many hours unproductively.\n\nAnother common choice is to discretize the creative output. If youâre trying to write an essay, you might aim to write a certain number of words per day; if youâre designing an interface, you might aim to design one element of the UI per day. But these steps donât consume a predictable amount of effort, and they often donât feel doable. If youâre stuck in your writing because youâve become confused about one of your ideas, you wonât be able to write 500 words for your manuscript. Instead, you need to spend more time thinking about the idea. A manuscript is a challenging place to do that. By contrast, see [[zR6RRbCfY5rFkiimFnaJZKB:::Evergreen note-writing as fundamental unit of knowledge work]].\n\n## List of executable strategies\n\n*   [[zCknixwETdFm1MWdWPwMcXs:::Executable strategy for writing]]\n*   [[zSTqsQ4ATXB61k3Z43TforN:::Spaced repetition memory systems make memory a choice]]\n*   [[zEr7kCcH6zUUroDJBwDj2n5:::How to process reading annotations into evergreen notes]]\n*   Starting a habit \n\n---\n\n\n\n\n\n\n","backlinkedNotes":[{"linkingNoteTitle":"Spaced repetition memory systems make memory a choice","linkingNoteSlug":"zSTqsQ4ATXB61k3Z43TforN","contextBlocks":["This radically changes oneâs relationship with memory! [[zPFYKBrsvL88opKh28UYxWv:::Core practices in knowledge work are often ad-hoc]], and âremembering detailsâ is a good example of a typically ad-hoc practice. But spaced repetition memory systems are an authentic [[zVyJffuisLSjaDVtBtxsmSS:::Executable strategy]] for remembering specific details."],"hidden":true},{"linkingNoteTitle":"Executable strategy for writing","linkingNoteSlug":"zCknixwETdFm1MWdWPwMcXs","contextBlocks":["Instead of having a task like âwrite an outline of the first chapter,â you have a task like âfind notes which seem relevant.â Each step feels doable. This is an executable strategy (see [[zVyJffuisLSjaDVtBtxsmSS:::Executable strategy]]). But bewareâdonât let this strategy âpoisonâ the initial note-writing process: [[zXDPrYcxUSZbF5M8vM5Y1U9:::Write notes for yourself by default, disregarding audience]]."],"hidden":true},{"linkingNoteTitle":"Core practices in knowledge work are often ad-hoc","linkingNoteSlug":"zPFYKBrsvL88opKh28UYxWv","contextBlocks":["Knowledge workersâ routinely involves complex, underspecified tasks like understanding the basics of a new industry or writing a memo on some strategic consideration. Even when these responsibilities are core to their work, knowledge workersâ approach to these tasks is often ad-hocâcreated on the spot based on past experience, instincts, aphorisms, and whim. These practices are the opposite of a [[zVyJffuisLSjaDVtBtxsmSS:::Executable strategy]]."],"hidden":true},{"linkingNoteTitle":"Prefer note titles with complete phrases to sharpen claims","linkingNoteSlug":"zLhoRUyjKU665EY16u4XXJy","contextBlocks":["I use nouns and noun phrases in note titles only to define core terms (which other notes generally orbit around). Examples: [[zVyJffuisLSjaDVtBtxsmSS:::Executable strategy]],  [[z92TGMiBsnraf5KXxSTNkBJ:::Enacted experience]], [[z492hGrHvRvJiEY9UfB4Mby:::Enabling environment]]"],"hidden":true},{"linkingNoteTitle":"Mnemonic essays may offer detailed retention of their contents in exchange for 35-50% reading time overhead","linkingNoteSlug":"z4biJ7i6da3exh3qmXXohjh","contextBlocks":["The inevitability associated with this proposition is what makes the mnemonic medium a possible [[zVyJffuisLSjaDVtBtxsmSS:::Executable strategy]] for solving [[zL33c5cHy4bH7HvMcv2py9H:::People seem to forget most of what they read, and they mostly donât notice]]."],"hidden":true},{"linkingNoteTitle":"In the Cells of the Eggplant - Chapman","linkingNoteSlug":"zAQj4GEE7PWDDcSreCGHTP9","contextBlocks":["**Rationality** emphasizes âformal, systematic, explicit, technical, abstract, atypical, non-obvious ways of thinking and acting.â Chapman also notes that one way to think about a formal system is as a procedure which could be printed in a book and followed (like an [[zVyJffuisLSjaDVtBtxsmSS:::Executable strategy]]). Rationality aspires to be universal."],"hidden":true},{"linkingNoteTitle":"Â§Knowledge work as serious discipline","linkingNoteSlug":"zAVF3mepMcuTWVUJaeHTL77","contextBlocks":["[[zVyJffuisLSjaDVtBtxsmSS:::Executable strategy]]"],"hidden":true}],"linkedNoteSlugs":["zPFYKBrsvL88opKh28UYxWv","z2Pg1CbUyvjV4jEoqmr8Xua","zL2zRTTRhWf1Lx4x9p2uCDt","zR6RRbCfY5rFkiimFnaJZKB","zCknixwETdFm1MWdWPwMcXs","zSTqsQ4ATXB61k3Z43TforN","zEr7kCcH6zUUroDJBwDj2n5"],"ctimeMillis":1725658914270.2048,"mtimeMillis":1689272808659.06}}}}},"page":"/[note]","query":{"note":"zVyJffuisLSjaDVtBtxsmSS"},"buildId":"d3AhszHS2XKFxCZtCz_mu"}</script><script nomodule="" src="data:application/javascript;charset=UTF-8;base64,KHdpbmRvdy53ZWJwYWNrSnNvbnA9d2luZG93LndlYnBhY2tKc29ucHx8W10pLnB1c2goW1sxNV0se0drWGs6ZnVuY3Rpb24odCxlLHIpeyFmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7dmFyIGU9e3NlYXJjaFBhcmFtczoiVVJMU2VhcmNoUGFyYW1zImluIHNlbGYsaXRlcmFibGU6IlN5bWJvbCJpbiBzZWxmJiYiaXRlcmF0b3IiaW4gU3ltYm9sLGJsb2I6IkZpbGVSZWFkZXIiaW4gc2VsZiYmIkJsb2IiaW4gc2VsZiYmZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBCbG9iLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmb3JtRGF0YToiRm9ybURhdGEiaW4gc2VsZixhcnJheUJ1ZmZlcjoiQXJyYXlCdWZmZXIiaW4gc2VsZn07aWYoZS5hcnJheUJ1ZmZlcil2YXIgcj1bIltvYmplY3QgSW50OEFycmF5XSIsIltvYmplY3QgVWludDhBcnJheV0iLCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XSIsIltvYmplY3QgSW50MTZBcnJheV0iLCJbb2JqZWN0IFVpbnQxNkFycmF5XSIsIltvYmplY3QgSW50MzJBcnJheV0iLCJbb2JqZWN0IFVpbnQzMkFycmF5XSIsIltvYmplY3QgRmxvYXQzMkFycmF5XSIsIltvYmplY3QgRmxvYXQ2NEFycmF5XSJdLG49QXJyYXlCdWZmZXIuaXNWaWV3fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmci5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSk+LTF9O2Z1bmN0aW9uIG8odCl7aWYoInN0cmluZyIhPT10eXBlb2YgdCYmKHQ9U3RyaW5nKHQpKSwvW15hLXowLTlcLSMkJSYnKisuXl9gfH5dL2kudGVzdCh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZSIpO3JldHVybiB0LnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gaSh0KXtyZXR1cm4ic3RyaW5nIiE9PXR5cGVvZiB0JiYodD1TdHJpbmcodCkpLHR9ZnVuY3Rpb24gYSh0KXt2YXIgcj17bmV4dDpmdW5jdGlvbigpe3ZhciBlPXQuc2hpZnQoKTtyZXR1cm57ZG9uZTp2b2lkIDA9PT1lLHZhbHVlOmV9fX07cmV0dXJuIGUuaXRlcmFibGUmJihyW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gcn0pLHJ9ZnVuY3Rpb24gcyh0KXt0aGlzLm1hcD17fSx0IGluc3RhbmNlb2Ygcz90LmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7dGhpcy5hcHBlbmQoZSx0KX0pLHRoaXMpOkFycmF5LmlzQXJyYXkodCk/dC5mb3JFYWNoKChmdW5jdGlvbih0KXt0aGlzLmFwcGVuZCh0WzBdLHRbMV0pfSksdGhpcyk6dCYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dGhpcy5hcHBlbmQoZSx0W2VdKX0pLHRoaXMpfWZ1bmN0aW9uIGModCl7aWYodC5ib2R5VXNlZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcigiQWxyZWFkeSByZWFkIikpO3QuYm9keVVzZWQ9ITB9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUscil7dC5vbmxvYWQ9ZnVuY3Rpb24oKXtlKHQucmVzdWx0KX0sdC5vbmVycm9yPWZ1bmN0aW9uKCl7cih0LmVycm9yKX19KSl9ZnVuY3Rpb24gZih0KXt2YXIgZT1uZXcgRmlsZVJlYWRlcixyPWgoZSk7cmV0dXJuIGUucmVhZEFzQXJyYXlCdWZmZXIodCkscn1mdW5jdGlvbiB1KHQpe2lmKHQuc2xpY2UpcmV0dXJuIHQuc2xpY2UoMCk7dmFyIGU9bmV3IFVpbnQ4QXJyYXkodC5ieXRlTGVuZ3RoKTtyZXR1cm4gZS5zZXQobmV3IFVpbnQ4QXJyYXkodCkpLGUuYnVmZmVyfWZ1bmN0aW9uIGwoKXtyZXR1cm4gdGhpcy5ib2R5VXNlZD0hMSx0aGlzLl9pbml0Qm9keT1mdW5jdGlvbih0KXt2YXIgcjt0aGlzLl9ib2R5SW5pdD10LHQ/InN0cmluZyI9PT10eXBlb2YgdD90aGlzLl9ib2R5VGV4dD10OmUuYmxvYiYmQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZih0KT90aGlzLl9ib2R5QmxvYj10OmUuZm9ybURhdGEmJkZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpP3RoaXMuX2JvZHlGb3JtRGF0YT10OmUuc2VhcmNoUGFyYW1zJiZVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCk/dGhpcy5fYm9keVRleHQ9dC50b1N0cmluZygpOmUuYXJyYXlCdWZmZXImJmUuYmxvYiYmKHI9dCkmJkRhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHIpPyh0aGlzLl9ib2R5QXJyYXlCdWZmZXI9dSh0LmJ1ZmZlciksdGhpcy5fYm9keUluaXQ9bmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKTplLmFycmF5QnVmZmVyJiYoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCl8fG4odCkpP3RoaXMuX2JvZHlBcnJheUJ1ZmZlcj11KHQpOnRoaXMuX2JvZHlUZXh0PXQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpOnRoaXMuX2JvZHlUZXh0PSIiLHRoaXMuaGVhZGVycy5nZXQoImNvbnRlbnQtdHlwZSIpfHwoInN0cmluZyI9PT10eXBlb2YgdD90aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgiKTp0aGlzLl9ib2R5QmxvYiYmdGhpcy5fYm9keUJsb2IudHlwZT90aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLHRoaXMuX2JvZHlCbG9iLnR5cGUpOmUuc2VhcmNoUGFyYW1zJiZVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCkmJnRoaXMuaGVhZGVycy5zZXQoImNvbnRlbnQtdHlwZSIsImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04IikpfSxlLmJsb2ImJih0aGlzLmJsb2I9ZnVuY3Rpb24oKXt2YXIgdD1jKHRoaXMpO2lmKHQpcmV0dXJuIHQ7aWYodGhpcy5fYm9keUJsb2IpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYik7aWYodGhpcy5fYm9keUFycmF5QnVmZmVyKXJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKTtpZih0aGlzLl9ib2R5Rm9ybURhdGEpdGhyb3cgbmV3IEVycm9yKCJjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2IiKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKX0sdGhpcy5hcnJheUJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ib2R5QXJyYXlCdWZmZXI/Yyh0aGlzKXx8UHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcik6dGhpcy5ibG9iKCkudGhlbihmKX0pLHRoaXMudGV4dD1mdW5jdGlvbigpe3ZhciB0PWModGhpcyk7aWYodClyZXR1cm4gdDtpZih0aGlzLl9ib2R5QmxvYilyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9bmV3IEZpbGVSZWFkZXIscj1oKGUpO3JldHVybiBlLnJlYWRBc1RleHQodCkscn0odGhpcy5fYm9keUJsb2IpO2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgVWludDhBcnJheSh0KSxyPW5ldyBBcnJheShlLmxlbmd0aCksbj0wO248ZS5sZW5ndGg7bisrKXJbbl09U3RyaW5nLmZyb21DaGFyQ29kZShlW25dKTtyZXR1cm4gci5qb2luKCIiKX0odGhpcy5fYm9keUFycmF5QnVmZmVyKSk7aWYodGhpcy5fYm9keUZvcm1EYXRhKXRocm93IG5ldyBFcnJvcigiY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0Iik7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dCl9LGUuZm9ybURhdGEmJih0aGlzLmZvcm1EYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oeSl9KSx0aGlzLmpzb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKX0sdGhpc31zLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24odCxlKXt0PW8odCksZT1pKGUpO3ZhciByPXRoaXMubWFwW3RdO3RoaXMubWFwW3RdPXI/cisiLCAiK2U6ZX0scy5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLm1hcFtvKHQpXX0scy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0PW8odCksdGhpcy5oYXModCk/dGhpcy5tYXBbdF06bnVsbH0scy5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShvKHQpKX0scy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5tYXBbbyh0KV09aShlKX0scy5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiB0aGlzLm1hcCl0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShyKSYmdC5jYWxsKGUsdGhpcy5tYXBbcl0scix0aGlzKX0scy5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUscil7dC5wdXNoKHIpfSkpLGEodCl9LHMucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QucHVzaChlKX0pKSxhKHQpfSxzLnByb3RvdHlwZS5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXt0LnB1c2goW3IsZV0pfSkpLGEodCl9LGUuaXRlcmFibGUmJihzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPXMucHJvdG90eXBlLmVudHJpZXMpO3ZhciBwPVsiREVMRVRFIiwiR0VUIiwiSEVBRCIsIk9QVElPTlMiLCJQT1NUIiwiUFVUIl07ZnVuY3Rpb24gZCh0LGUpe3ZhciByPShlPWV8fHt9KS5ib2R5O2lmKHQgaW5zdGFuY2VvZiBkKXtpZih0LmJvZHlVc2VkKXRocm93IG5ldyBUeXBlRXJyb3IoIkFscmVhZHkgcmVhZCIpO3RoaXMudXJsPXQudXJsLHRoaXMuY3JlZGVudGlhbHM9dC5jcmVkZW50aWFscyxlLmhlYWRlcnN8fCh0aGlzLmhlYWRlcnM9bmV3IHModC5oZWFkZXJzKSksdGhpcy5tZXRob2Q9dC5tZXRob2QsdGhpcy5tb2RlPXQubW9kZSx0aGlzLnNpZ25hbD10LnNpZ25hbCxyfHxudWxsPT10Ll9ib2R5SW5pdHx8KHI9dC5fYm9keUluaXQsdC5ib2R5VXNlZD0hMCl9ZWxzZSB0aGlzLnVybD1TdHJpbmcodCk7aWYodGhpcy5jcmVkZW50aWFscz1lLmNyZWRlbnRpYWxzfHx0aGlzLmNyZWRlbnRpYWxzfHwic2FtZS1vcmlnaW4iLCFlLmhlYWRlcnMmJnRoaXMuaGVhZGVyc3x8KHRoaXMuaGVhZGVycz1uZXcgcyhlLmhlYWRlcnMpKSx0aGlzLm1ldGhvZD1mdW5jdGlvbih0KXt2YXIgZT10LnRvVXBwZXJDYXNlKCk7cmV0dXJuIHAuaW5kZXhPZihlKT4tMT9lOnR9KGUubWV0aG9kfHx0aGlzLm1ldGhvZHx8IkdFVCIpLHRoaXMubW9kZT1lLm1vZGV8fHRoaXMubW9kZXx8bnVsbCx0aGlzLnNpZ25hbD1lLnNpZ25hbHx8dGhpcy5zaWduYWwsdGhpcy5yZWZlcnJlcj1udWxsLCgiR0VUIj09PXRoaXMubWV0aG9kfHwiSEVBRCI9PT10aGlzLm1ldGhvZCkmJnIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMiKTt0aGlzLl9pbml0Qm9keShyKX1mdW5jdGlvbiB5KHQpe3ZhciBlPW5ldyBGb3JtRGF0YTtyZXR1cm4gdC50cmltKCkuc3BsaXQoIiYiKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZih0KXt2YXIgcj10LnNwbGl0KCI9Iiksbj1yLnNoaWZ0KCkucmVwbGFjZSgvXCsvZywiICIpLG89ci5qb2luKCI9IikucmVwbGFjZSgvXCsvZywiICIpO2UuYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuKSxkZWNvZGVVUklDb21wb25lbnQobykpfX0pKSxlfWZ1bmN0aW9uIGIodCl7dmFyIGU9bmV3IHM7cmV0dXJuIHQucmVwbGFjZSgvXHI/XG5bXHQgXSsvZywiICIpLnNwbGl0KC9ccj9cbi8pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPXQuc3BsaXQoIjoiKSxuPXIuc2hpZnQoKS50cmltKCk7aWYobil7dmFyIG89ci5qb2luKCI6IikudHJpbSgpO2UuYXBwZW5kKG4sbyl9fSkpLGV9ZnVuY3Rpb24gbSh0LGUpe2V8fChlPXt9KSx0aGlzLnR5cGU9ImRlZmF1bHQiLHRoaXMuc3RhdHVzPXZvaWQgMD09PWUuc3RhdHVzPzIwMDplLnN0YXR1cyx0aGlzLm9rPXRoaXMuc3RhdHVzPj0yMDAmJnRoaXMuc3RhdHVzPDMwMCx0aGlzLnN0YXR1c1RleHQ9InN0YXR1c1RleHQiaW4gZT9lLnN0YXR1c1RleHQ6Ik9LIix0aGlzLmhlYWRlcnM9bmV3IHMoZS5oZWFkZXJzKSx0aGlzLnVybD1lLnVybHx8IiIsdGhpcy5faW5pdEJvZHkodCl9ZC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGQodGhpcyx7Ym9keTp0aGlzLl9ib2R5SW5pdH0pfSxsLmNhbGwoZC5wcm90b3R5cGUpLGwuY2FsbChtLnByb3RvdHlwZSksbS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG0odGhpcy5fYm9keUluaXQse3N0YXR1czp0aGlzLnN0YXR1cyxzdGF0dXNUZXh0OnRoaXMuc3RhdHVzVGV4dCxoZWFkZXJzOm5ldyBzKHRoaXMuaGVhZGVycyksdXJsOnRoaXMudXJsfSl9LG0uZXJyb3I9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgbShudWxsLHtzdGF0dXM6MCxzdGF0dXNUZXh0OiIifSk7cmV0dXJuIHQudHlwZT0iZXJyb3IiLHR9O3ZhciB2PVszMDEsMzAyLDMwMywzMDcsMzA4XTttLnJlZGlyZWN0PWZ1bmN0aW9uKHQsZSl7aWYoLTE9PT12LmluZGV4T2YoZSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgc3RhdHVzIGNvZGUiKTtyZXR1cm4gbmV3IG0obnVsbCx7c3RhdHVzOmUsaGVhZGVyczp7bG9jYXRpb246dH19KX0sdC5ET01FeGNlcHRpb249c2VsZi5ET01FeGNlcHRpb247dHJ5e25ldyB0LkRPTUV4Y2VwdGlvbn1jYXRjaChnKXt0LkRPTUV4Y2VwdGlvbj1mdW5jdGlvbih0LGUpe3RoaXMubWVzc2FnZT10LHRoaXMubmFtZT1lO3ZhciByPUVycm9yKHQpO3RoaXMuc3RhY2s9ci5zdGFja30sdC5ET01FeGNlcHRpb24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSx0LkRPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I9dC5ET01FeGNlcHRpb259ZnVuY3Rpb24gdyhyLG4pe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obyxpKXt2YXIgYT1uZXcgZChyLG4pO2lmKGEuc2lnbmFsJiZhLnNpZ25hbC5hYm9ydGVkKXJldHVybiBpKG5ldyB0LkRPTUV4Y2VwdGlvbigiQWJvcnRlZCIsIkFib3J0RXJyb3IiKSk7dmFyIHM9bmV3IFhNTEh0dHBSZXF1ZXN0O2Z1bmN0aW9uIGMoKXtzLmFib3J0KCl9cy5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD17c3RhdHVzOnMuc3RhdHVzLHN0YXR1c1RleHQ6cy5zdGF0dXNUZXh0LGhlYWRlcnM6YihzLmdldEFsbFJlc3BvbnNlSGVhZGVycygpfHwiIil9O3QudXJsPSJyZXNwb25zZVVSTCJpbiBzP3MucmVzcG9uc2VVUkw6dC5oZWFkZXJzLmdldCgiWC1SZXF1ZXN0LVVSTCIpO3ZhciBlPSJyZXNwb25zZSJpbiBzP3MucmVzcG9uc2U6cy5yZXNwb25zZVRleHQ7byhuZXcgbShlLHQpKX0scy5vbmVycm9yPWZ1bmN0aW9uKCl7aShuZXcgVHlwZUVycm9yKCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkIikpfSxzLm9udGltZW91dD1mdW5jdGlvbigpe2kobmV3IFR5cGVFcnJvcigiTmV0d29yayByZXF1ZXN0IGZhaWxlZCIpKX0scy5vbmFib3J0PWZ1bmN0aW9uKCl7aShuZXcgdC5ET01FeGNlcHRpb24oIkFib3J0ZWQiLCJBYm9ydEVycm9yIikpfSxzLm9wZW4oYS5tZXRob2QsYS51cmwsITApLCJpbmNsdWRlIj09PWEuY3JlZGVudGlhbHM/cy53aXRoQ3JlZGVudGlhbHM9ITA6Im9taXQiPT09YS5jcmVkZW50aWFscyYmKHMud2l0aENyZWRlbnRpYWxzPSExKSwicmVzcG9uc2VUeXBlImluIHMmJmUuYmxvYiYmKHMucmVzcG9uc2VUeXBlPSJibG9iIiksYS5oZWFkZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7cy5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9KSksYS5zaWduYWwmJihhLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsYykscy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09cy5yZWFkeVN0YXRlJiZhLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCJhYm9ydCIsYyl9KSxzLnNlbmQoInVuZGVmaW5lZCI9PT10eXBlb2YgYS5fYm9keUluaXQ/bnVsbDphLl9ib2R5SW5pdCl9KSl9dy5wb2x5ZmlsbD0hMCxzZWxmLmZldGNofHwoc2VsZi5mZXRjaD13LHNlbGYuSGVhZGVycz1zLHNlbGYuUmVxdWVzdD1kLHNlbGYuUmVzcG9uc2U9bSksdC5IZWFkZXJzPXMsdC5SZXF1ZXN0PWQsdC5SZXNwb25zZT1tLHQuZmV0Y2g9dyxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KGUpfSxNZ3pXOmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksaT1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO2Z1bmN0aW9uIGEodCl7aWYobnVsbD09PXR8fHZvaWQgMD09PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQiKTtyZXR1cm4gT2JqZWN0KHQpfXQuZXhwb3J0cz1mdW5jdGlvbigpe3RyeXtpZighT2JqZWN0LmFzc2lnbilyZXR1cm4hMTt2YXIgdD1uZXcgU3RyaW5nKCJhYmMiKTtpZih0WzVdPSJkZSIsIjUiPT09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModClbMF0pcmV0dXJuITE7Zm9yKHZhciBlPXt9LHI9MDtyPDEwO3IrKyllWyJfIitTdHJpbmcuZnJvbUNoYXJDb2RlKHIpXT1yO2lmKCIwMTIzNDU2Nzg5IiE9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KSkuam9pbigiIikpcmV0dXJuITE7dmFyIG49e307cmV0dXJuImFiY2RlZmdoaWprbG1ub3BxcnN0Ii5zcGxpdCgiIikuZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0XT10fSkpLCJhYmNkZWZnaGlqa2xtbm9wcXJzdCI9PT1PYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LG4pKS5qb2luKCIiKX1jYXRjaChvKXtyZXR1cm4hMX19KCk/T2JqZWN0LmFzc2lnbjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcixzLGM9YSh0KSxoPTE7aDxhcmd1bWVudHMubGVuZ3RoO2grKyl7Zm9yKHZhciBmIGluIHI9T2JqZWN0KGFyZ3VtZW50c1toXSkpby5jYWxsKHIsZikmJihjW2ZdPXJbZl0pO2lmKG4pe3M9bihyKTtmb3IodmFyIHU9MDt1PHMubGVuZ3RoO3UrKylpLmNhbGwocixzW3VdKSYmKGNbc1t1XV09cltzW3VdXSl9fXJldHVybiBjfX0sVDFxQjpmdW5jdGlvbih0LGUscil7KGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe3RyeXtyZXR1cm4hIVN5bWJvbC5pdGVyYXRvcn1jYXRjaCh0KXtyZXR1cm4hMX19KCkscj1mdW5jdGlvbih0KXt2YXIgcj17bmV4dDpmdW5jdGlvbigpe3ZhciBlPXQuc2hpZnQoKTtyZXR1cm57ZG9uZTp2b2lkIDA9PT1lLHZhbHVlOmV9fX07cmV0dXJuIGUmJihyW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gcn0pLHJ9LG49ZnVuY3Rpb24odCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKC8lMjAvZywiKyIpfSxvPWZ1bmN0aW9uKHQpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoU3RyaW5nKHQpLnJlcGxhY2UoL1wrL2csIiAiKSl9OyhmdW5jdGlvbigpe3RyeXt2YXIgZT10LlVSTFNlYXJjaFBhcmFtcztyZXR1cm4iYT0xIj09PW5ldyBlKCI/YT0xIikudG9TdHJpbmcoKSYmImZ1bmN0aW9uIj09PXR5cGVvZiBlLnByb3RvdHlwZS5zZXR9Y2F0Y2gocil7cmV0dXJuITF9fSkoKXx8ZnVuY3Rpb24oKXt2YXIgbz1mdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiX2VudHJpZXMiLHt3cml0YWJsZTohMCx2YWx1ZTp7fX0pO3ZhciBlPXR5cGVvZiB0O2lmKCJ1bmRlZmluZWQiPT09ZSk7ZWxzZSBpZigic3RyaW5nIj09PWUpIiIhPT10JiZ0aGlzLl9mcm9tU3RyaW5nKHQpO2Vsc2UgaWYodCBpbnN0YW5jZW9mIG8pe3ZhciByPXRoaXM7dC5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3IuYXBwZW5kKGUsdCl9KSl9ZWxzZXtpZihudWxsPT09dHx8Im9iamVjdCIhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoIlVuc3VwcG9ydGVkIGlucHV0J3MgdHlwZSBmb3IgVVJMU2VhcmNoUGFyYW1zIik7aWYoIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZigiW29iamVjdCBBcnJheV0iIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGkpJiYyPT09aS5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcigiRXhwZWN0ZWQgW3N0cmluZywgYW55XSBhcyBlbnRyeSBhdCBpbmRleCAiK24rIiBvZiBVUkxTZWFyY2hQYXJhbXMncyBpbnB1dCIpO3RoaXMuYXBwZW5kKGlbMF0saVsxXSl9ZWxzZSBmb3IodmFyIGEgaW4gdCl0Lmhhc093blByb3BlcnR5KGEpJiZ0aGlzLmFwcGVuZChhLHRbYV0pfX0saT1vLnByb3RvdHlwZTtpLmFwcGVuZD1mdW5jdGlvbih0LGUpe3QgaW4gdGhpcy5fZW50cmllcz90aGlzLl9lbnRyaWVzW3RdLnB1c2goU3RyaW5nKGUpKTp0aGlzLl9lbnRyaWVzW3RdPVtTdHJpbmcoZSldfSxpLmRlbGV0ZT1mdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fZW50cmllc1t0XX0saS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW4gdGhpcy5fZW50cmllcz90aGlzLl9lbnRyaWVzW3RdWzBdOm51bGx9LGkuZ2V0QWxsPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluIHRoaXMuX2VudHJpZXM/dGhpcy5fZW50cmllc1t0XS5zbGljZSgwKTpbXX0saS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW4gdGhpcy5fZW50cmllc30saS5zZXQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9lbnRyaWVzW3RdPVtTdHJpbmcoZSldfSxpLmZvckVhY2g9ZnVuY3Rpb24odCxlKXt2YXIgcjtmb3IodmFyIG4gaW4gdGhpcy5fZW50cmllcylpZih0aGlzLl9lbnRyaWVzLmhhc093blByb3BlcnR5KG4pKXtyPXRoaXMuX2VudHJpZXNbbl07Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspdC5jYWxsKGUscltvXSxuLHRoaXMpfX0saS5rZXlzPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXt0LnB1c2gocil9KSkscih0KX0saS52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnB1c2goZSl9KSkscih0KX0saS5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXt0LnB1c2goW3IsZV0pfSkpLHIodCl9LGUmJihpW1N5bWJvbC5pdGVyYXRvcl09aS5lbnRyaWVzKSxpLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXt0LnB1c2gobihyKSsiPSIrbihlKSl9KSksdC5qb2luKCImIil9LHQuVVJMU2VhcmNoUGFyYW1zPW99KCk7dmFyIGk9dC5VUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlOyJmdW5jdGlvbiIhPT10eXBlb2YgaS5zb3J0JiYoaS5zb3J0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPVtdO3RoaXMuZm9yRWFjaCgoZnVuY3Rpb24ocixuKXtlLnB1c2goW24scl0pLHQuX2VudHJpZXN8fHQuZGVsZXRlKG4pfSkpLGUuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXTxlWzBdPy0xOnRbMF0+ZVswXT8xOjB9KSksdC5fZW50cmllcyYmKHQuX2VudHJpZXM9e30pO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXRoaXMuYXBwZW5kKGVbcl1bMF0sZVtyXVsxXSl9KSwiZnVuY3Rpb24iIT09dHlwZW9mIGkuX2Zyb21TdHJpbmcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfZnJvbVN0cmluZyIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExLHdyaXRhYmxlOiExLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX2VudHJpZXMpdGhpcy5fZW50cmllcz17fTtlbHNle3ZhciBlPVtdO3RoaXMuZm9yRWFjaCgoZnVuY3Rpb24odCxyKXtlLnB1c2gocil9KSk7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdGhpcy5kZWxldGUoZVtyXSl9dmFyIG4saT0odD10LnJlcGxhY2UoL15cPy8sIiIpKS5zcGxpdCgiJiIpO2ZvcihyPTA7cjxpLmxlbmd0aDtyKyspbj1pW3JdLnNwbGl0KCI9IiksdGhpcy5hcHBlbmQobyhuWzBdKSxuLmxlbmd0aD4xP28oblsxXSk6IiIpfX0pfSgidW5kZWZpbmVkIiE9PXR5cGVvZiB0P3Q6InVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9PXR5cGVvZiBzZWxmP3NlbGY6dGhpcyksZnVuY3Rpb24odCl7aWYoZnVuY3Rpb24oKXt0cnl7dmFyIGU9bmV3IHQuVVJMKCJiIiwiaHR0cDovL2EiKTtyZXR1cm4gZS5wYXRobmFtZT0iYyUyMGQiLCJodHRwOi8vYS9jJTIwZCI9PT1lLmhyZWYmJmUuc2VhcmNoUGFyYW1zfWNhdGNoKHIpe3JldHVybiExfX0oKXx8ZnVuY3Rpb24oKXt2YXIgZT10LlVSTCxyPWZ1bmN0aW9uKGUscil7InN0cmluZyIhPT10eXBlb2YgZSYmKGU9U3RyaW5nKGUpKTt2YXIgbixvPWRvY3VtZW50O2lmKHImJih2b2lkIDA9PT10LmxvY2F0aW9ufHxyIT09dC5sb2NhdGlvbi5ocmVmKSl7KG49KG89ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPXIsby5oZWFkLmFwcGVuZENoaWxkKG4pO3RyeXtpZigwIT09bi5ocmVmLmluZGV4T2YocikpdGhyb3cgbmV3IEVycm9yKG4uaHJlZil9Y2F0Y2godSl7dGhyb3cgbmV3IEVycm9yKCJVUkwgdW5hYmxlIHRvIHNldCBiYXNlICIrcisiIGR1ZSB0byAiK3UpfX12YXIgaT1vLmNyZWF0ZUVsZW1lbnQoImEiKTtpZihpLmhyZWY9ZSxuJiYoby5ib2R5LmFwcGVuZENoaWxkKGkpLGkuaHJlZj1pLmhyZWYpLCI6Ij09PWkucHJvdG9jb2x8fCEvOi8udGVzdChpLmhyZWYpKXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgVVJMIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIl9hbmNob3JFbGVtZW50Iix7dmFsdWU6aX0pO3ZhciBhPW5ldyB0LlVSTFNlYXJjaFBhcmFtcyh0aGlzLnNlYXJjaCkscz0hMCxjPSEwLGg9dGhpcztbImFwcGVuZCIsImRlbGV0ZSIsInNldCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPWFbdF07YVt0XT1mdW5jdGlvbigpe2UuYXBwbHkoYSxhcmd1bWVudHMpLHMmJihjPSExLGguc2VhcmNoPWEudG9TdHJpbmcoKSxjPSEwKX19KSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsInNlYXJjaFBhcmFtcyIse3ZhbHVlOmEsZW51bWVyYWJsZTohMH0pO3ZhciBmPXZvaWQgMDtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiX3VwZGF0ZVNlYXJjaFBhcmFtcyIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExLHdyaXRhYmxlOiExLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZWFyY2ghPT1mJiYoZj10aGlzLnNlYXJjaCxjJiYocz0hMSx0aGlzLnNlYXJjaFBhcmFtcy5fZnJvbVN0cmluZyh0aGlzLnNlYXJjaCkscz0hMCkpfX0pfSxuPXIucHJvdG90eXBlO1siaGFzaCIsImhvc3QiLCJob3N0bmFtZSIsInBvcnQiLCJwcm90b2NvbCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkobix0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5jaG9yRWxlbWVudFt0XX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2FuY2hvckVsZW1lbnRbdF09ZX0sZW51bWVyYWJsZTohMH0pfSh0KX0pKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwic2VhcmNoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuY2hvckVsZW1lbnQuc2VhcmNofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYW5jaG9yRWxlbWVudC5zZWFyY2g9dCx0aGlzLl91cGRhdGVTZWFyY2hQYXJhbXMoKX0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se3RvU3RyaW5nOntnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmhyZWZ9fX0saHJlZjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuY2hvckVsZW1lbnQuaHJlZi5yZXBsYWNlKC9cPyQvLCIiKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2FuY2hvckVsZW1lbnQuaHJlZj10LHRoaXMuX3VwZGF0ZVNlYXJjaFBhcmFtcygpfSxlbnVtZXJhYmxlOiEwfSxwYXRobmFtZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuY2hvckVsZW1lbnQucGF0aG5hbWUucmVwbGFjZSgvKF5cLz8pLywiLyIpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYW5jaG9yRWxlbWVudC5wYXRobmFtZT10fSxlbnVtZXJhYmxlOiEwfSxvcmlnaW46e2dldDpmdW5jdGlvbigpe3ZhciB0PXsiaHR0cDoiOjgwLCJodHRwczoiOjQ0MywiZnRwOiI6MjF9W3RoaXMuX2FuY2hvckVsZW1lbnQucHJvdG9jb2xdLGU9dGhpcy5fYW5jaG9yRWxlbWVudC5wb3J0IT10JiYiIiE9PXRoaXMuX2FuY2hvckVsZW1lbnQucG9ydDtyZXR1cm4gdGhpcy5fYW5jaG9yRWxlbWVudC5wcm90b2NvbCsiLy8iK3RoaXMuX2FuY2hvckVsZW1lbnQuaG9zdG5hbWUrKGU/IjoiK3RoaXMuX2FuY2hvckVsZW1lbnQucG9ydDoiIil9LGVudW1lcmFibGU6ITB9LHBhc3N3b3JkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iIn0sc2V0OmZ1bmN0aW9uKHQpe30sZW51bWVyYWJsZTohMH0sdXNlcm5hbWU6e2dldDpmdW5jdGlvbigpe3JldHVybiIifSxzZXQ6ZnVuY3Rpb24odCl7fSxlbnVtZXJhYmxlOiEwfX0pLHIuY3JlYXRlT2JqZWN0VVJMPWZ1bmN0aW9uKHQpe3JldHVybiBlLmNyZWF0ZU9iamVjdFVSTC5hcHBseShlLGFyZ3VtZW50cyl9LHIucmV2b2tlT2JqZWN0VVJMPWZ1bmN0aW9uKHQpe3JldHVybiBlLnJldm9rZU9iamVjdFVSTC5hcHBseShlLGFyZ3VtZW50cyl9LHQuVVJMPXJ9KCksdm9pZCAwIT09dC5sb2NhdGlvbiYmISgib3JpZ2luImluIHQubG9jYXRpb24pKXt2YXIgZT1mdW5jdGlvbigpe3JldHVybiB0LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrdC5sb2NhdGlvbi5ob3N0bmFtZSsodC5sb2NhdGlvbi5wb3J0PyI6Iit0LmxvY2F0aW9uLnBvcnQ6IiIpfTt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQubG9jYXRpb24sIm9yaWdpbiIse2dldDplLGVudW1lcmFibGU6ITB9KX1jYXRjaChyKXtzZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXt0LmxvY2F0aW9uLm9yaWdpbj1lKCl9KSwxMDApfX19KCJ1bmRlZmluZWQiIT09dHlwZW9mIHQ/dDoidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT09dHlwZW9mIHNlbGY/c2VsZjp0aGlzKX0pLmNhbGwodGhpcyxyKCJ5THBqIikpfSxYTEVSOmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7cigiR2tYayIpLHIoIlQxcUIiKSxPYmplY3QuYXNzaWduPXIoIk1nelciKX19LFtbIlhMRVIiLDEsMF1dXSk7"></script><script async="" data-next-page="/[note]" src="data:application/javascript;charset=UTF-8;base64,KHdpbmRvdy53ZWJwYWNrSnNvbnA9d2luZG93LndlYnBhY2tKc29ucHx8W10pLnB1c2goW1s5XSx7IitMbGQiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHIsbz1uKCIwVytOIiksaT1uKCJIWVlYIiksYT1uKCJVU2pSIikscz1uKCJLNEEyIiksYz1PYmplY3QuZGVmaW5lUHJvcGVydHk7cj10LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoISh0aGlzIGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ29uc3RydWN0b3IgcmVxdWlyZXMgJ25ldyciKTt0PVN0cmluZyh0KSxzLmNhbGwodGhpcyx0KSxjKHRoaXMsIl9fbGVuZ3RoX18iLGkoIiIsdC5sZW5ndGgpKX0sbyYmbyhyLHMpLGRlbGV0ZSByLnByb3RvdHlwZS5jb25zdHJ1Y3RvcixyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMucHJvdG90eXBlLHtfbmV4dDppKChmdW5jdGlvbigpe2lmKHRoaXMuX19saXN0X18pcmV0dXJuIHRoaXMuX19uZXh0SW5kZXhfXzx0aGlzLl9fbGVuZ3RoX18/dGhpcy5fX25leHRJbmRleF9fKys6dm9pZCB0aGlzLl91bkJpbmQoKX0pKSxfcmVzb2x2ZTppKChmdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMuX19saXN0X19bdF07cmV0dXJuIHRoaXMuX19uZXh0SW5kZXhfXz09PXRoaXMuX19sZW5ndGhfXz9uOihlPW4uY2hhckNvZGVBdCgwKSk+PTU1Mjk2JiZlPD01NjMxOT9uK3RoaXMuX19saXN0X19bdGhpcy5fX25leHRJbmRleF9fKytdOm59KSl9KSxjKHIucHJvdG90eXBlLGEudG9TdHJpbmdUYWcsaSgiYyIsIlN0cmluZyBJdGVyYXRvciIpKX0sIitXZHMiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9U3RyaW5nLnByb3RvdHlwZS5pbmRleE9mO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gci5jYWxsKHRoaXMsdCxhcmd1bWVudHNbMV0pPi0xfX0sIitYTVYiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPW4oIkdPemQiKSgpP1N0cmluZy5wcm90b3R5cGUuY29udGFpbnM6bigiK1dkcyIpfSwiK2RrRSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj0iPFtBLVphLXpdW0EtWmEtejAtOVxcLV0qKD86XFxzK1thLXpBLVpfOl1bYS16QS1aMC05Oi5fLV0qKD86XFxzKj1cXHMqKD86W15cIic9PD5gXFx1MDAwMC1cXHUwMDIwXSt8J1teJ10qJ3xcIlteXCJdKlwiKSk/KSpcXHMqXFwvPz4iLG89IjxcXC9bQS1aYS16XVtBLVphLXowLTlcXC1dKlxccyo+IjtlLm9wZW5DbG9zZVRhZz1uZXcgUmVnRXhwKCJeKD86IityKyJ8IitvKyIpIiksZS50YWc9bmV3IFJlZ0V4cCgiXig/OiIrcisifCIrbysifFx4M2MhLS0tLVx4M2V8XHgzYyEtLSg/Oi0/W14+LV0pKD86LT9bXi1dKSotLVx4M2V8PFs/XS4qP1s/XT58PCFbQS1aYS16XStcXHMrW14+XSo+fDwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XFxdXFxdPikiKX0sIitxbEQiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybih0Lm9yZGVyZWQ/dGhpcy52aXNpdE9yZGVyZWRJdGVtczp0aGlzLnZpc2l0VW5vcmRlcmVkSXRlbXMpLmNhbGwodGhpcyx0KX19LCIvMGo2IjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLHI9U3RyaW5nKHQpLG89MDtpZigic3RyaW5nIiE9PXR5cGVvZiBlfHwxIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCBjaGFyYWN0ZXIiKTtuPXIuaW5kZXhPZihlKTtmb3IoOy0xIT09bjspbysrLG49ci5pbmRleE9mKGUsbisxKTtyZXR1cm4gb319LCIvMVZzIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiJvYmplY3QiPT09dHlwZW9mIGdsb2JhbFRoaXMmJighIWdsb2JhbFRoaXMmJmdsb2JhbFRoaXMuQXJyYXk9PT1BcnJheSl9fSwiL0FaWSI6ZnVuY3Rpb24odCl7dC5leHBvcnRzPUpTT04ucGFyc2UoJ3sibmJzcCI6Ilx4YTAiLCJpZXhjbCI6Ilx4YTEiLCJjZW50IjoiXHhhMiIsInBvdW5kIjoiXHhhMyIsImN1cnJlbiI6Ilx4YTQiLCJ5ZW4iOiJceGE1IiwiYnJ2YmFyIjoiXHhhNiIsInNlY3QiOiJceGE3IiwidW1sIjoiXHhhOCIsImNvcHkiOiJceGE5Iiwib3JkZiI6Ilx4YWEiLCJsYXF1byI6Ilx4YWIiLCJub3QiOiJceGFjIiwic2h5IjoiXHhhZCIsInJlZyI6Ilx4YWUiLCJtYWNyIjoiXHhhZiIsImRlZyI6Ilx4YjAiLCJwbHVzbW4iOiJceGIxIiwic3VwMiI6Ilx4YjIiLCJzdXAzIjoiXHhiMyIsImFjdXRlIjoiXHhiNCIsIm1pY3JvIjoiXHhiNSIsInBhcmEiOiJceGI2IiwibWlkZG90IjoiXHhiNyIsImNlZGlsIjoiXHhiOCIsInN1cDEiOiJceGI5Iiwib3JkbSI6Ilx4YmEiLCJyYXF1byI6Ilx4YmIiLCJmcmFjMTQiOiJceGJjIiwiZnJhYzEyIjoiXHhiZCIsImZyYWMzNCI6Ilx4YmUiLCJpcXVlc3QiOiJceGJmIiwiQWdyYXZlIjoiXHhjMCIsIkFhY3V0ZSI6Ilx4YzEiLCJBY2lyYyI6Ilx4YzIiLCJBdGlsZGUiOiJceGMzIiwiQXVtbCI6Ilx4YzQiLCJBcmluZyI6Ilx4YzUiLCJBRWxpZyI6Ilx4YzYiLCJDY2VkaWwiOiJceGM3IiwiRWdyYXZlIjoiXHhjOCIsIkVhY3V0ZSI6Ilx4YzkiLCJFY2lyYyI6Ilx4Y2EiLCJFdW1sIjoiXHhjYiIsIklncmF2ZSI6Ilx4Y2MiLCJJYWN1dGUiOiJceGNkIiwiSWNpcmMiOiJceGNlIiwiSXVtbCI6Ilx4Y2YiLCJFVEgiOiJceGQwIiwiTnRpbGRlIjoiXHhkMSIsIk9ncmF2ZSI6Ilx4ZDIiLCJPYWN1dGUiOiJceGQzIiwiT2NpcmMiOiJceGQ0IiwiT3RpbGRlIjoiXHhkNSIsIk91bWwiOiJceGQ2IiwidGltZXMiOiJceGQ3IiwiT3NsYXNoIjoiXHhkOCIsIlVncmF2ZSI6Ilx4ZDkiLCJVYWN1dGUiOiJceGRhIiwiVWNpcmMiOiJceGRiIiwiVXVtbCI6Ilx4ZGMiLCJZYWN1dGUiOiJceGRkIiwiVEhPUk4iOiJceGRlIiwic3psaWciOiJceGRmIiwiYWdyYXZlIjoiXHhlMCIsImFhY3V0ZSI6Ilx4ZTEiLCJhY2lyYyI6Ilx4ZTIiLCJhdGlsZGUiOiJceGUzIiwiYXVtbCI6Ilx4ZTQiLCJhcmluZyI6Ilx4ZTUiLCJhZWxpZyI6Ilx4ZTYiLCJjY2VkaWwiOiJceGU3IiwiZWdyYXZlIjoiXHhlOCIsImVhY3V0ZSI6Ilx4ZTkiLCJlY2lyYyI6Ilx4ZWEiLCJldW1sIjoiXHhlYiIsImlncmF2ZSI6Ilx4ZWMiLCJpYWN1dGUiOiJceGVkIiwiaWNpcmMiOiJceGVlIiwiaXVtbCI6Ilx4ZWYiLCJldGgiOiJceGYwIiwibnRpbGRlIjoiXHhmMSIsIm9ncmF2ZSI6Ilx4ZjIiLCJvYWN1dGUiOiJceGYzIiwib2NpcmMiOiJceGY0Iiwib3RpbGRlIjoiXHhmNSIsIm91bWwiOiJceGY2IiwiZGl2aWRlIjoiXHhmNyIsIm9zbGFzaCI6Ilx4ZjgiLCJ1Z3JhdmUiOiJceGY5IiwidWFjdXRlIjoiXHhmYSIsInVjaXJjIjoiXHhmYiIsInV1bWwiOiJceGZjIiwieWFjdXRlIjoiXHhmZCIsInRob3JuIjoiXHhmZSIsInl1bWwiOiJceGZmIiwiZm5vZiI6Ilx1MDE5MiIsIkFscGhhIjoiXHUwMzkxIiwiQmV0YSI6Ilx1MDM5MiIsIkdhbW1hIjoiXHUwMzkzIiwiRGVsdGEiOiJcdTAzOTQiLCJFcHNpbG9uIjoiXHUwMzk1IiwiWmV0YSI6Ilx1MDM5NiIsIkV0YSI6Ilx1MDM5NyIsIlRoZXRhIjoiXHUwMzk4IiwiSW90YSI6Ilx1MDM5OSIsIkthcHBhIjoiXHUwMzlhIiwiTGFtYmRhIjoiXHUwMzliIiwiTXUiOiJcdTAzOWMiLCJOdSI6Ilx1MDM5ZCIsIlhpIjoiXHUwMzllIiwiT21pY3JvbiI6Ilx1MDM5ZiIsIlBpIjoiXHUwM2EwIiwiUmhvIjoiXHUwM2ExIiwiU2lnbWEiOiJcdTAzYTMiLCJUYXUiOiJcdTAzYTQiLCJVcHNpbG9uIjoiXHUwM2E1IiwiUGhpIjoiXHUwM2E2IiwiQ2hpIjoiXHUwM2E3IiwiUHNpIjoiXHUwM2E4IiwiT21lZ2EiOiJcdTAzYTkiLCJhbHBoYSI6Ilx1MDNiMSIsImJldGEiOiJcdTAzYjIiLCJnYW1tYSI6Ilx1MDNiMyIsImRlbHRhIjoiXHUwM2I0IiwiZXBzaWxvbiI6Ilx1MDNiNSIsInpldGEiOiJcdTAzYjYiLCJldGEiOiJcdTAzYjciLCJ0aGV0YSI6Ilx1MDNiOCIsImlvdGEiOiJcdTAzYjkiLCJrYXBwYSI6Ilx1MDNiYSIsImxhbWJkYSI6Ilx1MDNiYiIsIm11IjoiXHUwM2JjIiwibnUiOiJcdTAzYmQiLCJ4aSI6Ilx1MDNiZSIsIm9taWNyb24iOiJcdTAzYmYiLCJwaSI6Ilx1MDNjMCIsInJobyI6Ilx1MDNjMSIsInNpZ21hZiI6Ilx1MDNjMiIsInNpZ21hIjoiXHUwM2MzIiwidGF1IjoiXHUwM2M0IiwidXBzaWxvbiI6Ilx1MDNjNSIsInBoaSI6Ilx1MDNjNiIsImNoaSI6Ilx1MDNjNyIsInBzaSI6Ilx1MDNjOCIsIm9tZWdhIjoiXHUwM2M5IiwidGhldGFzeW0iOiJcdTAzZDEiLCJ1cHNpaCI6Ilx1MDNkMiIsInBpdiI6Ilx1MDNkNiIsImJ1bGwiOiJcdTIwMjIiLCJoZWxsaXAiOiJcdTIwMjYiLCJwcmltZSI6Ilx1MjAzMiIsIlByaW1lIjoiXHUyMDMzIiwib2xpbmUiOiJcdTIwM2UiLCJmcmFzbCI6Ilx1MjA0NCIsIndlaWVycCI6Ilx1MjExOCIsImltYWdlIjoiXHUyMTExIiwicmVhbCI6Ilx1MjExYyIsInRyYWRlIjoiXHUyMTIyIiwiYWxlZnN5bSI6Ilx1MjEzNSIsImxhcnIiOiJcdTIxOTAiLCJ1YXJyIjoiXHUyMTkxIiwicmFyciI6Ilx1MjE5MiIsImRhcnIiOiJcdTIxOTMiLCJoYXJyIjoiXHUyMTk0IiwiY3JhcnIiOiJcdTIxYjUiLCJsQXJyIjoiXHUyMWQwIiwidUFyciI6Ilx1MjFkMSIsInJBcnIiOiJcdTIxZDIiLCJkQXJyIjoiXHUyMWQzIiwiaEFyciI6Ilx1MjFkNCIsImZvcmFsbCI6Ilx1MjIwMCIsInBhcnQiOiJcdTIyMDIiLCJleGlzdCI6Ilx1MjIwMyIsImVtcHR5IjoiXHUyMjA1IiwibmFibGEiOiJcdTIyMDciLCJpc2luIjoiXHUyMjA4Iiwibm90aW4iOiJcdTIyMDkiLCJuaSI6Ilx1MjIwYiIsInByb2QiOiJcdTIyMGYiLCJzdW0iOiJcdTIyMTEiLCJtaW51cyI6Ilx1MjIxMiIsImxvd2FzdCI6Ilx1MjIxNyIsInJhZGljIjoiXHUyMjFhIiwicHJvcCI6Ilx1MjIxZCIsImluZmluIjoiXHUyMjFlIiwiYW5nIjoiXHUyMjIwIiwiYW5kIjoiXHUyMjI3Iiwib3IiOiJcdTIyMjgiLCJjYXAiOiJcdTIyMjkiLCJjdXAiOiJcdTIyMmEiLCJpbnQiOiJcdTIyMmIiLCJ0aGVyZTQiOiJcdTIyMzQiLCJzaW0iOiJcdTIyM2MiLCJjb25nIjoiXHUyMjQ1IiwiYXN5bXAiOiJcdTIyNDgiLCJuZSI6Ilx1MjI2MCIsImVxdWl2IjoiXHUyMjYxIiwibGUiOiJcdTIyNjQiLCJnZSI6Ilx1MjI2NSIsInN1YiI6Ilx1MjI4MiIsInN1cCI6Ilx1MjI4MyIsIm5zdWIiOiJcdTIyODQiLCJzdWJlIjoiXHUyMjg2Iiwic3VwZSI6Ilx1MjI4NyIsIm9wbHVzIjoiXHUyMjk1Iiwib3RpbWVzIjoiXHUyMjk3IiwicGVycCI6Ilx1MjJhNSIsInNkb3QiOiJcdTIyYzUiLCJsY2VpbCI6Ilx1MjMwOCIsInJjZWlsIjoiXHUyMzA5IiwibGZsb29yIjoiXHUyMzBhIiwicmZsb29yIjoiXHUyMzBiIiwibGFuZyI6Ilx1MjMyOSIsInJhbmciOiJcdTIzMmEiLCJsb3oiOiJcdTI1Y2EiLCJzcGFkZXMiOiJcdTI2NjAiLCJjbHVicyI6Ilx1MjY2MyIsImhlYXJ0cyI6Ilx1MjY2NSIsImRpYW1zIjoiXHUyNjY2IiwicXVvdCI6IlxcIiIsImFtcCI6IiYiLCJsdCI6IjwiLCJndCI6Ij4iLCJPRWxpZyI6Ilx1MDE1MiIsIm9lbGlnIjoiXHUwMTUzIiwiU2Nhcm9uIjoiXHUwMTYwIiwic2Nhcm9uIjoiXHUwMTYxIiwiWXVtbCI6Ilx1MDE3OCIsImNpcmMiOiJcdTAyYzYiLCJ0aWxkZSI6Ilx1MDJkYyIsImVuc3AiOiJcdTIwMDIiLCJlbXNwIjoiXHUyMDAzIiwidGhpbnNwIjoiXHUyMDA5IiwienduaiI6Ilx1MjAwYyIsInp3aiI6Ilx1MjAwZCIsImxybSI6Ilx1MjAwZSIsInJsbSI6Ilx1MjAwZiIsIm5kYXNoIjoiXHUyMDEzIiwibWRhc2giOiJcdTIwMTQiLCJsc3F1byI6Ilx1MjAxOCIsInJzcXVvIjoiXHUyMDE5Iiwic2JxdW8iOiJcdTIwMWEiLCJsZHF1byI6Ilx1MjAxYyIsInJkcXVvIjoiXHUyMDFkIiwiYmRxdW8iOiJcdTIwMWUiLCJkYWdnZXIiOiJcdTIwMjAiLCJEYWdnZXIiOiJcdTIwMjEiLCJwZXJtaWwiOiJcdTIwMzAiLCJsc2FxdW8iOiJcdTIwMzkiLCJyc2FxdW8iOiJcdTIwM2EiLCJldXJvIjoiXHUyMGFjIn0nKX0sIi9Fc0UiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5pbmRleE9mKCIqIixlKSxyPXQuaW5kZXhPZigiXyIsZSk7aWYoLTE9PT1yKXJldHVybiBuO2lmKC0xPT09bilyZXR1cm4gcjtyZXR1cm4gcjxuP3I6bn19LCIvTGErIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIGMsdSxsLGY9dGhpcy5vcHRpb25zLnBlZGFudGljLHA9ZS5sZW5ndGgrMSxoPS0xLGQ9dC5ub3coKSx2PSIiLHk9IiI7Zm9yKDsrK2g8cDspe2lmKChjPWUuY2hhckF0KGgpKSE9PWkmJmMhPT1vKXtoLS07YnJlYWt9dis9Y31sPTA7Zm9yKDsrK2g8PXA7KXtpZigoYz1lLmNoYXJBdChoKSkhPT1hKXtoLS07YnJlYWt9dis9YyxsKyt9aWYobD5zKXJldHVybjtpZighbHx8IWYmJmUuY2hhckF0KGgrMSk9PT1hKXJldHVybjtwPWUubGVuZ3RoKzEsdT0iIjtmb3IoOysraDxwOyl7aWYoKGM9ZS5jaGFyQXQoaCkpIT09aSYmYyE9PW8pe2gtLTticmVha311Kz1jfWlmKCFmJiYwPT09dS5sZW5ndGgmJmMmJmMhPT1yKXJldHVybjtpZihuKXJldHVybiEwO3YrPXUsdT0iIix5PSIiO2Zvcig7KytoPHAmJihjPWUuY2hhckF0KGgpKSYmYyE9PXI7KWlmKGM9PT1pfHxjPT09b3x8Yz09PWEpe2Zvcig7Yz09PWl8fGM9PT1vOyl1Kz1jLGM9ZS5jaGFyQXQoKytoKTtpZihmfHwheXx8dXx8YyE9PWEpe2Zvcig7Yz09PWE7KXUrPWMsYz1lLmNoYXJBdCgrK2gpO2Zvcig7Yz09PWl8fGM9PT1vOyl1Kz1jLGM9ZS5jaGFyQXQoKytoKTtoLS19ZWxzZSB5Kz1jfWVsc2UgeSs9dStjLHU9IiI7cmV0dXJuIGQuY29sdW1uKz12Lmxlbmd0aCxkLm9mZnNldCs9di5sZW5ndGgsdCh2Kz15K3UpKHt0eXBlOiJoZWFkaW5nIixkZXB0aDpsLGNoaWxkcmVuOnRoaXMudG9rZW5pemVJbmxpbmUoeSxkKX0pfTt2YXIgcj0iXG4iLG89Ilx0IixpPSIgIixhPSIjIixzPTZ9LCIvTWhSIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1uKCJLOUFzIikoKT9nbG9iYWxUaGlzOm4oIjlNd20iKX0sIi9nVXciOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiaGZLbSIpLG89dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07cihlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1vKG4oIkJmNVUiKSksYT1vKG4oIlBqb2QiKSkscz1vKG4oIlpRdzkiKSksYz1vKG4oIjgvZEciKSksdT1vKG4oIlIvRHciKSksbD1vKG4oIk9sUFMiKSksZj1vKG4oInlRZUEiKSkscD1vKG4oIlBiNHAiKSk7ZS5tYXJrZG93blByb2Nlc3Nvcj1zLmRlZmF1bHQoKS51c2UoaS5kZWZhdWx0LHtjb21tb25tYXJrOiEwLHBlZGFudGljOiEwfSkudXNlKGEuZGVmYXVsdCx7YnVsbGV0OiIqIixlbXBoYXNpczoiKiIsbGlzdEl0ZW1JbmRlbnQ6InRhYiIscnVsZToiLSIscnVsZVNwYWNlczohMX0pO3ZhciBoPWUubWFya2Rvd25Qcm9jZXNzb3IoKS51c2UobC5kZWZhdWx0KS51c2UoYy5kZWZhdWx0KS51c2UodS5kZWZhdWx0KS51c2UoZi5kZWZhdWx0KS51c2UocC5kZWZhdWx0KTtlLmRlZmF1bHQ9aH0sIi9xTnAiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9e30uaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmIm9iamVjdCI9PT10eXBlb2YgdHx8KHQ9e30pLGEodC5saW5lKSsiOiIrYSh0LmNvbHVtbil9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmIm9iamVjdCI9PT10eXBlb2YgdHx8KHQ9e30pLG8odC5zdGFydCkrIi0iK28odC5lbmQpfWZ1bmN0aW9uIGEodCl7cmV0dXJuIHQmJiJudW1iZXIiPT09dHlwZW9mIHQ/dDoxfXQuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighdHx8Im9iamVjdCIhPT10eXBlb2YgdClyZXR1cm4gbnVsbDtpZihyLmNhbGwodCwicG9zaXRpb24iKXx8ci5jYWxsKHQsInR5cGUiKSlyZXR1cm4gaSh0LnBvc2l0aW9uKTtpZihyLmNhbGwodCwic3RhcnQiKXx8ci5jYWxsKHQsImVuZCIpKXJldHVybiBpKHQpO2lmKHIuY2FsbCh0LCJsaW5lIil8fHIuY2FsbCh0LCJjb2x1bW4iKSlyZXR1cm4gbyh0KTtyZXR1cm4gbnVsbH19LCIvdHo0IjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2UuX19lc01vZHVsZT0hMDt2YXIgcj1pKG4oInExdEkiKSksbz1pKG4oImFjQ0giKSk7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZS5kZWZhdWx0PXIuZGVmYXVsdC5jcmVhdGVDb250ZXh0fHxvLmRlZmF1bHQsdC5leHBvcnRzPWUuZGVmYXVsdH0sIi93RVAiOmZ1bmN0aW9uKHQsZSxuKXsod2luZG93Ll9fTkVYVF9QPXdpbmRvdy5fX05FWFRfUHx8W10pLnB1c2goWyIvW25vdGVdIixmdW5jdGlvbigpe3JldHVybiBuKCJpSUFUIil9XSl9LCIwMFdYIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1uKCJJcExzIikoKT9XZWFrTWFwOm4oIkhCckgiKX0sIjA0NEMiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5pbmRleE9mKCIqKiIsZSkscj10LmluZGV4T2YoIl9fIixlKTtpZigtMT09PXIpcmV0dXJuIG47aWYoLTE9PT1uKXJldHVybiByO3JldHVybiByPG4/cjpufX0sIjA3UDUiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKHQrIiBpcyBub3QgYSBmdW5jdGlvbiIpO3JldHVybiB0fX0sIjBXK04iOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPW4oIkNvNk4iKSgpP09iamVjdC5zZXRQcm90b3R5cGVPZjpuKCJvS0hOIil9LCIxM0RRIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByLG89IiI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoInN0cmluZyIhPT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJleHBlY3RlZCBhIHN0cmluZyIpO2lmKDE9PT1lKXJldHVybiB0O2lmKDI9PT1lKXJldHVybiB0K3Q7dmFyIG49dC5sZW5ndGgqZTtpZihyIT09dHx8InVuZGVmaW5lZCI9PT10eXBlb2YgcilyPXQsbz0iIjtlbHNlIGlmKG8ubGVuZ3RoPj1uKXJldHVybiBvLnN1YnN0cigwLG4pO2Zvcig7bj5vLmxlbmd0aCYmZT4xOykxJmUmJihvKz10KSxlPj49MSx0Kz10O3JldHVybiBvPShvKz10KS5zdWJzdHIoMCxuKX19LCIxQzNrIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgbyxpPTAsYT1uLmluZGV4T2Yocikscz10W2VdLGM9W107Zm9yKDstMSE9PWE7KWMucHVzaChuLnNsaWNlKGksYSkpLGk9YSsxLChvPW4uY2hhckF0KGkpKSYmLTEhPT1zLmluZGV4T2Yobyl8fGMucHVzaChyKSxhPW4uaW5kZXhPZihyLGkrMSk7cmV0dXJuIGMucHVzaChuLnNsaWNlKGkpKSxjLmpvaW4oIiIpfX07dmFyIHI9IlxcIn0sIjFLc0siOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9ci5jYWxsKHQpLG49IltvYmplY3QgQXJndW1lbnRzXSI9PT1lO3JldHVybiBufHwobj0iW29iamVjdCBBcnJheV0iIT09ZSYmbnVsbCE9PXQmJiJvYmplY3QiPT09dHlwZW9mIHQmJiJudW1iZXIiPT09dHlwZW9mIHQubGVuZ3RoJiZ0Lmxlbmd0aD49MCYmIltvYmplY3QgRnVuY3Rpb25dIj09PXIuY2FsbCh0LmNhbGxlZSkpLG59fSwiMVQ4QiI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj0iPFtBLVphLXpdW0EtWmEtejAtOVxcLV0qKD86XFxzK1thLXpBLVpfOl1bYS16QS1aMC05Oi5fLV0qKD86XFxzKj1cXHMqKD86W15cIic9PD5gXFx1MDAwMC1cXHUwMDIwXSt8J1teJ10qJ3xcIlteXCJdKlwiKSk/KSpcXHMqXFwvPz4iLG89IjxcXC9bQS1aYS16XVtBLVphLXowLTlcXC1dKlxccyo+IjtlLm9wZW5DbG9zZVRhZz1uZXcgUmVnRXhwKCJeKD86IityKyJ8IitvKyIpIiksZS50YWc9bmV3IFJlZ0V4cCgiXig/OiIrcisifCIrbysifFx4M2MhLS0tLVx4M2V8XHgzYyEtLSg/Oi0/W14+LV0pKD86LT9bXi1dKSotLVx4M2V8PFs/XS4qP1s/XT58PCFbQS1aYS16XStcXHMrW14+XSo+fDwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XFxdXFxdPikiKX0sIjFUdEsiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigieGZUcCIpLG89TWF0aC5tYXg7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvKDAscih0KSl9fSwiMWRiMyI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJVNmp5Iiksbz1uKCJaV2syIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpLnJhdz1mdW5jdGlvbih0LGksYSl7cmV0dXJuIG8odCxyKGEse3Bvc2l0aW9uOmUoaSksd2FybmluZzpufSkpfSxpO2Z1bmN0aW9uIGUoZSl7Zm9yKHZhciBuPXQub2Zmc2V0LHI9ZS5saW5lLG89W107KytyJiZyIGluIG47KW8ucHVzaCgobltyXXx8MCkrMSk7cmV0dXJue3N0YXJ0OmUsaW5kZW50Om99fWZ1bmN0aW9uIG4oZSxuLHIpezMhPT1yJiZ0LmZpbGUubWVzc2FnZShlLG4pfWZ1bmN0aW9uIGkocixpLGEpe28ocix7cG9zaXRpb246ZShpKSx3YXJuaW5nOm4sdGV4dDphLHJlZmVyZW5jZTphLHRleHRDb250ZXh0OnQscmVmZXJlbmNlQ29udGV4dDp0fSl9fX0sIjFpQUUiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPSJzdHJpbmciPT09dHlwZW9mIHQ/dC5jaGFyQ29kZUF0KDApOnQ7cmV0dXJuIGU+PTk3JiZlPD0xMjJ8fGU+PTY1JiZlPD05MH19LCIxbTl6IjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oInNZVnYiKSxvPW4oIklERWYiKSxpPW4oImxxNXkiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KGkodCkpLG49YXJndW1lbnRzWzFdLGE9T2JqZWN0KGFyZ3VtZW50c1syXSk7aWYoZSE9PXQmJiFuKXJldHVybiBlO3ZhciBzPXt9O3JldHVybiBuP3IobiwoZnVuY3Rpb24oZSl7KGEuZW5zdXJlfHxlIGluIHQpJiYoc1tlXT10W2VdKX0pKTpvKHMsdCksc319LCIxc2VTIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZSxvPW4oIjFLc0siKSxpPU9iamVjdC5rZXlzLGE9aT9mdW5jdGlvbih0KXtyZXR1cm4gaSh0KX06bigic1luMyIpLHM9T2JqZWN0LmtleXM7YS5zaGltPWZ1bmN0aW9uKCl7T2JqZWN0LmtleXM/ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3Qua2V5cyhhcmd1bWVudHMpO3JldHVybiB0JiZ0Lmxlbmd0aD09PWFyZ3VtZW50cy5sZW5ndGh9KDEsMil8fChPYmplY3Qua2V5cz1mdW5jdGlvbih0KXtyZXR1cm4gbyh0KT9zKHIuY2FsbCh0KSk6cyh0KX0pOk9iamVjdC5rZXlzPWE7cmV0dXJuIE9iamVjdC5rZXlzfHxhfSx0LmV4cG9ydHM9YX0sIjIycEMiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciBpLGEscyxjLHUsbCxmPXRoaXMscD1mLm9mZnNldCxoPVtdLGQ9Zlt0KyJNZXRob2RzIl0sdj1mW3QrIlRva2VuaXplcnMiXSx5PW4ubGluZSxtPW4uY29sdW1uO2lmKCFlKXJldHVybiBoO3cubm93PWIsdy5maWxlPWYuZmlsZSxnKCIiKTtmb3IoO2U7KXtmb3IoaT0tMSxhPWQubGVuZ3RoLHU9ITE7KytpPGEmJihjPWRbaV0sIShzPXZbY10pfHxzLm9ubHlBdFN0YXJ0JiYhZi5hdFN0YXJ0fHxzLm5vdEluTGlzdCYmZi5pbkxpc3R8fHMubm90SW5CbG9jayYmZi5pbkJsb2NrfHxzLm5vdEluTGluayYmZi5pbkxpbmt8fChsPWUubGVuZ3RoLHMuYXBwbHkoZixbdyxlXSksISh1PWwhPT1lLmxlbmd0aCkpKTspO3V8fGYuZmlsZS5mYWlsKG5ldyBFcnJvcigiSW5maW5pdGUgbG9vcCIpLHcubm93KCkpfXJldHVybiBmLmVvZj1iKCksaDtmdW5jdGlvbiBnKHQpe2Zvcih2YXIgZT0tMSxuPXQuaW5kZXhPZigiXG4iKTstMSE9PW47KXkrKyxlPW4sbj10LmluZGV4T2YoIlxuIixuKzEpOy0xPT09ZT9tKz10Lmxlbmd0aDptPXQubGVuZ3RoLWUseSBpbiBwJiYoLTEhPT1lP20rPXBbeV06bTw9cFt5XSYmKG09cFt5XSsxKSl9ZnVuY3Rpb24gYigpe3ZhciB0PXtsaW5lOnksY29sdW1uOm19O3JldHVybiB0Lm9mZnNldD1mLnRvT2Zmc2V0KHQpLHR9ZnVuY3Rpb24geCh0KXt0aGlzLnN0YXJ0PXQsdGhpcy5lbmQ9YigpfWZ1bmN0aW9uIHcodCl7dmFyIG49ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPXkrMTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIG49eSsxO2U8bjspdC5wdXNoKChwW2VdfHwwKSsxKSxlKys7cmV0dXJuIHR9fSgpLGk9ZnVuY3Rpb24oKXt2YXIgdD1iKCk7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHI9ZS5wb3NpdGlvbixvPXI/ci5zdGFydDp0LGk9W10sYT1yJiZyLmVuZC5saW5lLHM9dC5saW5lO2lmKGUucG9zaXRpb249bmV3IHgobyksciYmbiYmci5pbmRlbnQpe2lmKGk9ci5pbmRlbnQsYTxzKXtmb3IoOysrYTxzOylpLnB1c2goKHBbYV18fDApKzEpO2kucHVzaCh0LmNvbHVtbil9bj1pLmNvbmNhdChuKX1yZXR1cm4gZS5wb3NpdGlvbi5pbmRlbnQ9bnx8W10sZX19KCksYT1iKCk7cmV0dXJuIGZ1bmN0aW9uKHQpe2Uuc3Vic3RyaW5nKDAsdC5sZW5ndGgpIT09dCYmZi5maWxlLmZhaWwobmV3IEVycm9yKCJJbmNvcnJlY3RseSBlYXRlbiB2YWx1ZTogcGxlYXNlIHJlcG9ydCB0aGlzIHdhcm5pbmcgb24gaHR0cDovL2dpdC5pby92ZzVGdCIpLGIoKSl9KHQpLHMucmVzZXQ9YyxjLnRlc3Q9dSxzLnRlc3Q9dSxlPWUuc3Vic3RyaW5nKHQubGVuZ3RoKSxnKHQpLG49bigpLHM7ZnVuY3Rpb24gcyh0LGUpe3JldHVybiBpKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZT9lLmNoaWxkcmVuOmgsaT1uW24ubGVuZ3RoLTFdO3JldHVybiBpJiZ0LnR5cGU9PT1pLnR5cGUmJnQudHlwZSBpbiByJiZvKGkpJiZvKHQpJiYodD1yW3QudHlwZV0uY2FsbChmLGksdCkpLHQhPT1pJiZuLnB1c2godCksZi5hdFN0YXJ0JiYwIT09aC5sZW5ndGgmJmYuZXhpdFN0YXJ0KCksdH0oaSh0KSxlKSxuKX1mdW5jdGlvbiBjKCl7dmFyIG49cy5hcHBseShudWxsLGFyZ3VtZW50cyk7cmV0dXJuIHk9YS5saW5lLG09YS5jb2x1bW4sZT10K2Usbn1mdW5jdGlvbiB1KCl7dmFyIG49aSh7fSk7cmV0dXJuIHk9YS5saW5lLG09YS5jb2x1bW4sZT10K2Usbi5wb3NpdGlvbn19fX07dmFyIHI9e3RleHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52YWx1ZSs9ZS52YWx1ZSx0fSxibG9ja3F1b3RlOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5vcHRpb25zLmNvbW1vbm1hcmspcmV0dXJuIGU7cmV0dXJuIHQuY2hpbGRyZW49dC5jaGlsZHJlbi5jb25jYXQoZS5jaGlsZHJlbiksdH19O2Z1bmN0aW9uIG8odCl7dmFyIGUsbjtyZXR1cm4idGV4dCIhPT10LnR5cGV8fCF0LnBvc2l0aW9ufHwoZT10LnBvc2l0aW9uLnN0YXJ0LG49dC5wb3NpdGlvbi5lbmQsZS5saW5lIT09bi5saW5lfHxuLmNvbHVtbi1lLmNvbHVtbj09PXQudmFsdWUubGVuZ3RoKX19LCIyRWVrIjpmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oIlc3b00iKX0sIjJOanUiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigib05OUCIpLG89UmVnRXhwLnByb3RvdHlwZS5leGVjLGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixhPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcscz0iZnVuY3Rpb24iPT09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PT10eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighdHx8Im9iamVjdCIhPT10eXBlb2YgdClyZXR1cm4hMTtpZighcylyZXR1cm4iW29iamVjdCBSZWdFeHBdIj09PWEuY2FsbCh0KTt2YXIgZT1pKHQsImxhc3RJbmRleCIpO3JldHVybiEoIWV8fCFyKGUsInZhbHVlIikpJiZmdW5jdGlvbih0KXt0cnl7dmFyIGU9dC5sYXN0SW5kZXg7cmV0dXJuIHQubGFzdEluZGV4PTAsby5jYWxsKHQpLCEwfWNhdGNoKG4pe3JldHVybiExfWZpbmFsbHl7dC5sYXN0SW5kZXg9ZX19KHQpfX0sIjJSMGkiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigidDRRciIpLG89bigicTNFTiIpLGk9bigiZlVJZSIpO3QuZXhwb3J0cz13LHcubG9jYXRvcj1pLHcubm90SW5MaW5rPSEwO3ZhciBhPSciJyxzPSInIixjPSIoIix1PSIpIixsPSIsIixmPSIuIixwPSI6IixoPSI7IixkPSI8Iix2PSJAIix5PSJbIixtPSJdIixnPSJtYWlsdG86IixiPVsiaHR0cDovLyIsImh0dHBzOi8vIixnXSx4PWIubGVuZ3RoO2Z1bmN0aW9uIHcodCxlLG4pe3ZhciBpLHcsayxfLEEsTyxqLEUsUyxOLFAsQyxJO2lmKHRoaXMub3B0aW9ucy5nZm0pe2ZvcihpPSIiLF89LTE7KytfPHg7KWlmKE89YltfXSwoaj1lLnNsaWNlKDAsTy5sZW5ndGgpKS50b0xvd2VyQ2FzZSgpPT09Tyl7aT1qO2JyZWFrfWlmKGkpe2ZvcihfPWkubGVuZ3RoLEU9ZS5sZW5ndGgsUz0iIixOPTA7XzxFJiYoaz1lLmNoYXJBdChfKSwhbyhrKSYmayE9PWQpJiYoayE9PWYmJmshPT1sJiZrIT09cCYmayE9PWgmJmshPT1hJiZrIT09cyYmayE9PXUmJmshPT1tfHwoUD1lLmNoYXJBdChfKzEpKSYmIW8oUCkpJiYoayE9PWMmJmshPT15fHxOKyssayE9PXUmJmshPT1tfHwhKC0tTjwwKSk7KVMrPWssXysrO2lmKFMpe2lmKHc9aSs9UyxPPT09Zyl7aWYoLTE9PT0oQT1TLmluZGV4T2YodikpfHxBPT09RS0xKXJldHVybjt3PXcuc2xpY2UoZy5sZW5ndGgpfXJldHVybiEhbnx8KEk9dGhpcy5lbnRlckxpbmsoKSxDPXRoaXMuaW5saW5lVG9rZW5pemVycyx0aGlzLmlubGluZVRva2VuaXplcnM9e3RleHQ6Qy50ZXh0fSx3PXRoaXMudG9rZW5pemVJbmxpbmUodyx0Lm5vdygpKSx0aGlzLmlubGluZVRva2VuaXplcnM9QyxJKCksdChpKSh7dHlwZToibGluayIsdGl0bGU6bnVsbCx1cmw6cihpLHtub25UZXJtaW5hdGVkOiExfSksY2hpbGRyZW46d30pKX19fX19LCIyVzZ6IjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPWZ1bmN0aW9uKCl7fTt0LmV4cG9ydHM9cn0sIjJhK2IiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiSVBBciIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIGcsYix4LHcsayxfLEEsTyxqLEUsUyxOLFAsQyxJLFQsTSxMLHosUixGLEQsQixVO2lmKCF0aGlzLm9wdGlvbnMuZ2ZtKXJldHVybjtnPTAsTD0wLF89ZS5sZW5ndGgrMSxBPVtdO2Zvcig7ZzxfOyl7aWYoRD1lLmluZGV4T2YobCxnKSxCPWUuaW5kZXhPZihzLGcrMSksLTE9PT1EJiYoRD1lLmxlbmd0aCksLTE9PT1CfHxCPkQpe2lmKEw8aClyZXR1cm47YnJlYWt9QS5wdXNoKGUuc2xpY2UoZyxEKSksTCsrLGc9RCsxfXc9QS5qb2luKGwpLGI9QS5zcGxpY2UoMSwxKVswXXx8W10sZz0wLF89Yi5sZW5ndGgsTC0tLHg9ITEsUz1bXTtmb3IoO2c8Xzspe2lmKChqPWIuY2hhckF0KGcpKT09PXMpe2lmKEU9bnVsbCwhMT09PXgpe2lmKCExPT09VSlyZXR1cm59ZWxzZSBTLnB1c2goeCkseD0hMTtVPSExfWVsc2UgaWYoaj09PWEpRT0hMCx4PXh8fG07ZWxzZSBpZihqPT09Yyl4PXg9PT1kP3Y6RSYmeD09PW0/eTpkO2Vsc2UgaWYoIXIoaikpcmV0dXJuO2crK30hMSE9PXgmJlMucHVzaCh4KTtpZihTLmxlbmd0aDxwKXJldHVybjtpZihuKXJldHVybiEwO009LTEsUj1bXSxGPXQodykucmVzZXQoe3R5cGU6InRhYmxlIixhbGlnbjpTLGNoaWxkcmVuOlJ9KTtmb3IoOysrTTxMOyl7Zm9yKHo9QVtNXSxrPXt0eXBlOiJ0YWJsZVJvdyIsY2hpbGRyZW46W119LE0mJnQobCksdCh6KS5yZXNldChrLEYpLF89ei5sZW5ndGgrMSxnPTAsTz0iIixOPSIiLFA9ITAsQz1udWxsLEk9bnVsbDtnPF87KWlmKChqPXouY2hhckF0KGcpKSE9PWYmJmohPT11KXtpZigiIj09PWp8fGo9PT1zKWlmKFApdChqKTtlbHNle2lmKGomJkkpe08rPWosZysrO2NvbnRpbnVlfSFOJiYhanx8UHx8KHc9TixPLmxlbmd0aD4xJiYoaj8odys9Ty5zbGljZSgwLE8ubGVuZ3RoLTEpLE89Ty5jaGFyQXQoTy5sZW5ndGgtMSkpOih3Kz1PLE89IiIpKSxUPXQubm93KCksdCh3KSh7dHlwZToidGFibGVDZWxsIixjaGlsZHJlbjp0aGlzLnRva2VuaXplSW5saW5lKE4sVCl9LGspKSx0KE8raiksTz0iIixOPSIifWVsc2UgaWYoTyYmKE4rPU8sTz0iIiksTis9aixqPT09byYmZyE9PV8tMiYmKE4rPXouY2hhckF0KGcrMSksZysrKSxqPT09aSl7Zm9yKEM9MTt6LmNoYXJBdChnKzEpPT09ajspTis9aixnKyssQysrO0k/Qz49SSYmKEk9MCk6ST1DfVA9ITEsZysrfWVsc2UgTj9PKz1qOnQoaiksZysrO018fHQobCtiKX1yZXR1cm4gRn07dmFyIG89IlxcIixpPSJgIixhPSItIixzPSJ8IixjPSI6Iix1PSIgIixsPSJcbiIsZj0iXHQiLHA9MSxoPTIsZD0ibGVmdCIsdj0iY2VudGVyIix5PSJyaWdodCIsbT1udWxsfSwiMmxRNyI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuUGFyc2VyO2lmKCFmdW5jdGlvbih0KXtyZXR1cm4gQm9vbGVhbih0JiZ0LnByb3RvdHlwZSYmdC5wcm90b3R5cGUuaW5saW5lVG9rZW5pemVycyYmdC5wcm90b3R5cGUuaW5saW5lVG9rZW5pemVycy5icmVhayYmdC5wcm90b3R5cGUuaW5saW5lVG9rZW5pemVycy5icmVhay5sb2NhdG9yKX0oZSkpdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nIHBhcnNlciB0byBhdHRhY2ggYHJlbWFyay1icmVha3NgIHRvIik7ZnVuY3Rpb24gbih0LGUsbil7Zm9yKHZhciByLG89ZS5sZW5ndGgsaT0tMSxhPSIiOysraTxvOyl7aWYoIlxuIj09PShyPWUuY2hhckF0KGkpKSlyZXR1cm4hIW58fHQoYSs9cikoe3R5cGU6ImJyZWFrIn0pO2lmKCIgIiE9PXIpcmV0dXJuO2ErPXJ9fXQ9ZS5wcm90b3R5cGUuaW5saW5lVG9rZW5pemVycyxuLmxvY2F0b3I9dC5icmVhay5sb2NhdG9yLHQuYnJlYWs9bn19LCIyeWZJIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7aWYoInN0cmluZyI9PT10eXBlb2YgdClyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBCb29sZWFuKGUmJmUudHlwZT09PXQpfX0odCk7aWYobnVsbD09PXR8fHZvaWQgMD09PXQpcmV0dXJuIGE7aWYoIm9iamVjdCI9PT10eXBlb2YgdClyZXR1cm4oImxlbmd0aCJpbiB0P2k6bykodCk7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiB0KXJldHVybiB0O3Rocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgZnVuY3Rpb24sIHN0cmluZywgb3Igb2JqZWN0IGFzIHRlc3QiKX1mdW5jdGlvbiBvKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbjtmb3IobiBpbiB0KWlmKGVbbl0hPT10W25dKXJldHVybiExO3JldHVybiEwfX1mdW5jdGlvbiBpKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPXQubGVuZ3RoLG89LTE7KytvPG47KWVbb109cih0W29dKTtyZXR1cm4gZX0odCksbj1lLmxlbmd0aDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD0tMTtmb3IoOysrdDxuOylpZihlW3RdLmFwcGx5KHRoaXMsYXJndW1lbnRzKSlyZXR1cm4hMDtyZXR1cm4hMX19ZnVuY3Rpb24gYSgpe3JldHVybiEwfXQuZXhwb3J0cz1yfSwiMytOYiI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9e3Bvc2l0aW9uOiEwLGdmbTohMCxjb21tb25tYXJrOiExLGZvb3Rub3RlczohMSxwZWRhbnRpYzohMSxibG9ja3M6bigiVkhscyIpfX0sIjM2eXIiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaW5kZXhPZigiYCIsZSl9fSwiM0dsSSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9U3RyaW5nKHQpLG49ZS5sZW5ndGg7Zm9yKDtlLmNoYXJBdCgtLW4pPT09cjspO3JldHVybiBlLnNsaWNlKDAsbisxKX07dmFyIHI9IlxuIn0sIjNYbFYiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCJzdHJpbmciIT09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiRXhwZWN0ZWQgYHN0cmluZ2AgYXMgc2VsZWN0b3IsIG5vdCBgIit0KyJgIik7cmV0dXJuIGMocy5wYXJzZSh0KSl9O3ZhciByPW4oIk1Lc2kiKS5Dc3NTZWxlY3RvclBhcnNlcixvPW4oImFPMDMiKSxpPW4oIlE2cFUiKSxhPVsibnRoLWNoaWxkIiwibnRoLWxhc3QtY2hpbGQiLCJudGgtb2YtdHlwZSIsIm50aC1sYXN0LW9mLXR5cGUiXSxzPW5ldyByLGM9bygidHlwZSIpLHU9Yy5oYW5kbGVycztmdW5jdGlvbiBsKHQpe2Zvcih2YXIgZSxuPXQucHNldWRvcyxyPW4mJm4ubGVuZ3RoLG89LTE7KytvPHI7KWU9bltvXSwtMSE9PWEuaW5kZXhPZihlLm5hbWUpJiYoZS52YWx1ZT1pKGUudmFsdWUpLGUudmFsdWVUeXBlPSJmdW5jdGlvbiIpO3JldHVybiBjKHQucnVsZSksdH1zLnJlZ2lzdGVyQXR0ckVxdWFsaXR5TW9kcygifiIsIl4iLCIkIiwiKiIpLHMucmVnaXN0ZXJTZWxlY3RvclBzZXVkb3MoImFueSIsIm1hdGNoZXMiLCJub3QiLCJoYXMiKSxzLnJlZ2lzdGVyTmVzdGluZ09wZXJhdG9ycygiPiIsIisiLCJ+IiksdS5zZWxlY3RvcnM9ZnVuY3Rpb24odCl7dmFyIGU9dC5zZWxlY3RvcnMsbj1lLmxlbmd0aCxyPS0xO2Zvcig7KytyPG47KWMoZVtyXSk7cmV0dXJuIHR9LHUucnVsZVNldD1mdW5jdGlvbih0KXtyZXR1cm4gbCh0LnJ1bGUpfSx1LnJ1bGU9bH0sIjNtMzYiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiVTZqeSIpLG89bigicTF0SSIpLGk9cGFyc2VJbnQoKG8udmVyc2lvbnx8IjE2Iikuc2xpY2UoMCwyKSwxMCk+PTE2LGE9by5jcmVhdGVFbGVtZW50O2Z1bmN0aW9uIHModCxlKXtyZXR1cm4gYSh0LGMoZSksZS5jaGlsZHJlbil9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gdFsiZGF0YS1zb3VyY2Vwb3MiXT97ImRhdGEtc291cmNlcG9zIjp0WyJkYXRhLXNvdXJjZXBvcyJdfTp7fX10LmV4cG9ydHM9e2JyZWFrOiJiciIscGFyYWdyYXBoOiJwIixlbXBoYXNpczoiZW0iLHN0cm9uZzoic3Ryb25nIix0aGVtYXRpY0JyZWFrOiJociIsYmxvY2txdW90ZToiYmxvY2txdW90ZSIsZGVsZXRlOiJkZWwiLGxpbms6ImEiLGltYWdlOiJpbWciLGxpbmtSZWZlcmVuY2U6ImEiLGltYWdlUmVmZXJlbmNlOiJpbWciLHRhYmxlOnMuYmluZChudWxsLCJ0YWJsZSIpLHRhYmxlSGVhZDpzLmJpbmQobnVsbCwidGhlYWQiKSx0YWJsZUJvZHk6cy5iaW5kKG51bGwsInRib2R5IiksdGFibGVSb3c6cy5iaW5kKG51bGwsInRyIiksdGFibGVDZWxsOmZ1bmN0aW9uKHQpe3ZhciBlPXQuYWxpZ24/e3RleHRBbGlnbjp0LmFsaWdufTp2b2lkIDAsbj1jKHQpO3JldHVybiBhKHQuaXNIZWFkZXI/InRoIjoidGQiLGU/cih7c3R5bGU6ZX0sbik6bix0LmNoaWxkcmVuKX0scm9vdDpmdW5jdGlvbih0KXt2YXIgZT0hdC5jbGFzc05hbWUsbj1lJiZvLkZyYWdtZW50fHwiZGl2IjtyZXR1cm4gYShuLGU/bnVsbDp0LHQuY2hpbGRyZW4pfSx0ZXh0OmZ1bmN0aW9uKHQpe3JldHVybiBpP3QuY2hpbGRyZW46YSgic3BhbiIsbnVsbCx0LmNoaWxkcmVuKX0sbGlzdDpmdW5jdGlvbih0KXt2YXIgZT1jKHQpO251bGwhPT10LnN0YXJ0JiYxIT09dC5zdGFydCYmdm9pZCAwIT09dC5zdGFydCYmKGUuc3RhcnQ9dC5zdGFydC50b1N0cmluZygpKTtyZXR1cm4gYSh0Lm9yZGVyZWQ/Im9sIjoidWwiLGUsdC5jaGlsZHJlbil9LGxpc3RJdGVtOmZ1bmN0aW9uKHQpe3ZhciBlPW51bGw7aWYobnVsbCE9PXQuY2hlY2tlZCYmdm9pZCAwIT09dC5jaGVja2VkKXt2YXIgbj10LmNoZWNrZWQ7ZT1hKCJpbnB1dCIse3R5cGU6ImNoZWNrYm94IixjaGVja2VkOm4scmVhZE9ubHk6ITB9KX1yZXR1cm4gYSgibGkiLGModCksZSx0LmNoaWxkcmVuKX0sZGVmaW5pdGlvbjpmdW5jdGlvbigpe3JldHVybiBudWxsfSxoZWFkaW5nOmZ1bmN0aW9uKHQpe3JldHVybiBhKCJoIi5jb25jYXQodC5sZXZlbCksYyh0KSx0LmNoaWxkcmVuKX0saW5saW5lQ29kZTpmdW5jdGlvbih0KXtyZXR1cm4gYSgiY29kZSIsYyh0KSx0LmNoaWxkcmVuKX0sY29kZTpmdW5jdGlvbih0KXt2YXIgZT10Lmxhbmd1YWdlJiYibGFuZ3VhZ2UtIi5jb25jYXQodC5sYW5ndWFnZSksbj1hKCJjb2RlIixlP3tjbGFzc05hbWU6ZX06bnVsbCx0LnZhbHVlKTtyZXR1cm4gYSgicHJlIixjKHQpLG4pfSxodG1sOmZ1bmN0aW9uKHQpe2lmKHQuc2tpcEh0bWwpcmV0dXJuIG51bGw7dmFyIGU9dC5pc0Jsb2NrPyJkaXYiOiJzcGFuIjtpZih0LmVzY2FwZUh0bWwpe3ZhciBuPW8uRnJhZ21lbnR8fGU7cmV0dXJuIGEobixudWxsLHQudmFsdWUpfXZhciByPXtkYW5nZXJvdXNseVNldElubmVySFRNTDp7X19odG1sOnQudmFsdWV9fTtyZXR1cm4gYShlLHIpfSx2aXJ0dWFsSHRtbDpmdW5jdGlvbih0KXtyZXR1cm4gYSh0LnRhZyxjKHQpLHQuY2hpbGRyZW4pfSxwYXJzZWRIdG1sOmZ1bmN0aW9uKHQpe3JldHVybiB0WyJkYXRhLXNvdXJjZXBvcyJdP28uY2xvbmVFbGVtZW50KHQuZWxlbWVudCx7ImRhdGEtc291cmNlcG9zIjp0WyJkYXRhLXNvdXJjZXBvcyJdfSk6dC5lbGVtZW50fX19LCI0MXF0IjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsbz1yLmNhbGwoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIuY2FsbCh0KT09PW99fSwiNDV6YiI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj0iZnVuY3Rpb24iPT09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PT10eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnLG89T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxpPWZ1bmN0aW9uKHQpe3JldHVybiEociYmdCYmIm9iamVjdCI9PT10eXBlb2YgdCYmU3ltYm9sLnRvU3RyaW5nVGFnIGluIHQpJiYiW29iamVjdCBBcmd1bWVudHNdIj09PW8uY2FsbCh0KX0sYT1mdW5jdGlvbih0KXtyZXR1cm4hIWkodCl8fG51bGwhPT10JiYib2JqZWN0Ij09PXR5cGVvZiB0JiYibnVtYmVyIj09PXR5cGVvZiB0Lmxlbmd0aCYmdC5sZW5ndGg+PTAmJiJbb2JqZWN0IEFycmF5XSIhPT1vLmNhbGwodCkmJiJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1vLmNhbGwodC5jYWxsZWUpfSxzPWZ1bmN0aW9uKCl7cmV0dXJuIGkoYXJndW1lbnRzKX0oKTtpLmlzTGVnYWN5QXJndW1lbnRzPWEsdC5leHBvcnRzPXM/aTphfSwiNDdXNSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1bXS5zbGljZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZSxhPXIuY2FsbChhcmd1bWVudHMsMCkscz10Lmxlbmd0aD5hLmxlbmd0aDtzJiZhLnB1c2gobyk7dHJ5e2U9dC5hcHBseShudWxsLGEpfWNhdGNoKGMpe2lmKHMmJm4pdGhyb3cgYztyZXR1cm4gbyhjKX1zfHwoZSYmImZ1bmN0aW9uIj09PXR5cGVvZiBlLnRoZW4/ZS50aGVuKGksbyk6ZSBpbnN0YW5jZW9mIEVycm9yP28oZSk6aShlKSl9O2Z1bmN0aW9uIG8oKXtufHwobj0hMCxlLmFwcGx5KG51bGwsYXJndW1lbnRzKSl9ZnVuY3Rpb24gaSh0KXtvKG51bGwsdCl9fX0sIjQ4cTUiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiUG85cCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCJzdHJpbmciIT09dHlwZW9mIHQpcmV0dXJuIHQ7aWYoMD09PXQubGVuZ3RoKXJldHVybiB0O3ZhciBuPXIuYmFzZW5hbWUodCxyLmV4dG5hbWUodCkpK2U7cmV0dXJuIHIuam9pbihyLmRpcm5hbWUodCksbil9fSwiNDh5UyI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjsoZnVuY3Rpb24oZSl7dmFyIHI9bigiUG85cCIpLG89bigiT3NqbSIpLGk9bigiSG1SRyIpO3QuZXhwb3J0cz11O3ZhciBhPXt9Lmhhc093blByb3BlcnR5LHM9dS5wcm90b3R5cGUsYz1bImhpc3RvcnkiLCJwYXRoIiwiYmFzZW5hbWUiLCJzdGVtIiwiZXh0bmFtZSIsImRpcm5hbWUiXTtmdW5jdGlvbiB1KHQpe3ZhciBuLHIsbztpZih0KXtpZigic3RyaW5nIj09PXR5cGVvZiB0fHxpKHQpKXQ9e2NvbnRlbnRzOnR9O2Vsc2UgaWYoIm1lc3NhZ2UiaW4gdCYmIm1lc3NhZ2VzImluIHQpcmV0dXJuIHR9ZWxzZSB0PXt9O2lmKCEodGhpcyBpbnN0YW5jZW9mIHUpKXJldHVybiBuZXcgdSh0KTtmb3IodGhpcy5kYXRhPXt9LHRoaXMubWVzc2FnZXM9W10sdGhpcy5oaXN0b3J5PVtdLHRoaXMuY3dkPWUuY3dkKCkscj0tMSxvPWMubGVuZ3RoOysrcjxvOyluPWNbcl0sYS5jYWxsKHQsbikmJih0aGlzW25dPXRbbl0pO2ZvcihuIGluIHQpLTE9PT1jLmluZGV4T2YobikmJih0aGlzW25dPXRbbl0pfWZ1bmN0aW9uIGwodCxlKXtpZigtMSE9PXQuaW5kZXhPZihyLnNlcCkpdGhyb3cgbmV3IEVycm9yKCJgIitlKyJgIGNhbm5vdCBiZSBhIHBhdGg6IGRpZCBub3QgZXhwZWN0IGAiK3Iuc2VwKyJgIil9ZnVuY3Rpb24gZih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigiYCIrZSsiYCBjYW5ub3QgYmUgZW1wdHkiKX1mdW5jdGlvbiBwKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJTZXR0aW5nIGAiK2UrImAgcmVxdWlyZXMgYHBhdGhgIHRvIGJlIHNldCB0b28iKX1zLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGVudHN8fCIiO3JldHVybiBpKGUpP2UudG9TdHJpbmcodCk6U3RyaW5nKGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocywicGF0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhpc3RvcnlbdGhpcy5oaXN0b3J5Lmxlbmd0aC0xXX0sc2V0OmZ1bmN0aW9uKHQpe2YodCwicGF0aCIpLHQhPT10aGlzLnBhdGgmJnRoaXMuaGlzdG9yeS5wdXNoKHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLCJkaXJuYW1lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuInN0cmluZyI9PT10eXBlb2YgdGhpcy5wYXRoP3IuZGlybmFtZSh0aGlzLnBhdGgpOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKHQpe3AodGhpcy5wYXRoLCJkaXJuYW1lIiksdGhpcy5wYXRoPXIuam9pbih0fHwiIix0aGlzLmJhc2VuYW1lKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocywiYmFzZW5hbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiB0aGlzLnBhdGg/ci5iYXNlbmFtZSh0aGlzLnBhdGgpOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKHQpe2YodCwiYmFzZW5hbWUiKSxsKHQsImJhc2VuYW1lIiksdGhpcy5wYXRoPXIuam9pbih0aGlzLmRpcm5hbWV8fCIiLHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLCJleHRuYW1lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuInN0cmluZyI9PT10eXBlb2YgdGhpcy5wYXRoP3IuZXh0bmFtZSh0aGlzLnBhdGgpOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXR8fCIiO2lmKGwoZSwiZXh0bmFtZSIpLHAodGhpcy5wYXRoLCJleHRuYW1lIiksZSl7aWYoIi4iIT09ZS5jaGFyQXQoMCkpdGhyb3cgbmV3IEVycm9yKCJgZXh0bmFtZWAgbXVzdCBzdGFydCB3aXRoIGAuYCIpO2lmKC0xIT09ZS5pbmRleE9mKCIuIiwxKSl0aHJvdyBuZXcgRXJyb3IoImBleHRuYW1lYCBjYW5ub3QgY29udGFpbiBtdWx0aXBsZSBkb3RzIil9dGhpcy5wYXRoPW8odGhpcy5wYXRoLGUpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLCJzdGVtIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuInN0cmluZyI9PT10eXBlb2YgdGhpcy5wYXRoP3IuYmFzZW5hbWUodGhpcy5wYXRoLHRoaXMuZXh0bmFtZSk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24odCl7Zih0LCJzdGVtIiksbCh0LCJzdGVtIiksdGhpcy5wYXRoPXIuam9pbih0aGlzLmRpcm5hbWV8fCIiLHQrKHRoaXMuZXh0bmFtZXx8IiIpKX19KX0pLmNhbGwodGhpcyxuKCI4b3hCIikpfSwiNEFSKyI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJxM0VOIiksbz1uKCJWTmRBIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixtLHgsdyxrLF8sQSxPLGo9dGhpcy5vcHRpb25zLmNvbW1vbm1hcmssRT0wLFM9ZS5sZW5ndGgsTj0iIjtmb3IoO0U8UyYmKCh3PWUuY2hhckF0KEUpKT09PWx8fHc9PT11KTspTis9dyxFKys7aWYoKHc9ZS5jaGFyQXQoRSkpIT09ZilyZXR1cm47RSsrLE4rPXcseD0iIjtmb3IoO0U8UyYmKHc9ZS5jaGFyQXQoRSkpIT09cDspdz09PXMmJih4Kz13LEUrKyx3PWUuY2hhckF0KEUpKSx4Kz13LEUrKztpZigheHx8ZS5jaGFyQXQoRSkhPT1wfHxlLmNoYXJBdChFKzEpIT09dilyZXR1cm47Xz14LEU9KE4rPXgrcCt2KS5sZW5ndGgseD0iIjtmb3IoO0U8UyYmKCh3PWUuY2hhckF0KEUpKT09PXV8fHc9PT1sfHx3PT09Yyk7KU4rPXcsRSsrO2lmKHc9ZS5jaGFyQXQoRSkseD0iIixyPU4sdz09PXkpe2ZvcihFKys7RTxTJiZnKHc9ZS5jaGFyQXQoRSkpOyl4Kz13LEUrKztpZigodz1lLmNoYXJBdChFKSk9PT1nLmRlbGltaXRlcilOKz15K3grdyxFKys7ZWxzZXtpZihqKXJldHVybjtFLT14Lmxlbmd0aCsxLHg9IiJ9fWlmKCF4KXtmb3IoO0U8UyYmYih3PWUuY2hhckF0KEUpKTspeCs9dyxFKys7Tis9eH1pZigheClyZXR1cm47QT14LHg9IiI7Zm9yKDtFPFMmJigodz1lLmNoYXJBdChFKSk9PT11fHx3PT09bHx8dz09PWMpOyl4Kz13LEUrKzt3PWUuY2hhckF0KEUpLGs9bnVsbCx3PT09aT9rPWk6dz09PWE/az1hOnc9PT1oJiYoaz1kKTtpZihrKXtpZigheClyZXR1cm47Zm9yKEU9KE4rPXgrdykubGVuZ3RoLHg9IiI7RTxTJiYodz1lLmNoYXJBdChFKSkhPT1rOyl7aWYodz09PWMpe2lmKEUrKywodz1lLmNoYXJBdChFKSk9PT1jfHx3PT09aylyZXR1cm47eCs9Y314Kz13LEUrK31pZigodz1lLmNoYXJBdChFKSkhPT1rKXJldHVybjttPU4sTis9eCt3LEUrKyxPPXgseD0iIn1lbHNlIHg9IiIsRT1OLmxlbmd0aDtmb3IoO0U8UyYmKCh3PWUuY2hhckF0KEUpKT09PXV8fHc9PT1sKTspTis9dyxFKys7aWYoISh3PWUuY2hhckF0KEUpKXx8dz09PWMpcmV0dXJuISFufHwocj10KHIpLnRlc3QoKS5lbmQsQT10aGlzLmRlY29kZS5yYXcodGhpcy51bmVzY2FwZShBKSxyLHtub25UZXJtaW5hdGVkOiExfSksTyYmKG09dChtKS50ZXN0KCkuZW5kLE89dGhpcy5kZWNvZGUucmF3KHRoaXMudW5lc2NhcGUoTyksbSkpLHQoTikoe3R5cGU6ImRlZmluaXRpb24iLGlkZW50aWZpZXI6byhfKSxsYWJlbDpfLHRpdGxlOk98fG51bGwsdXJsOkF9KSl9O3ZhciBpPSciJyxhPSInIixzPSJcXCIsYz0iXG4iLHU9Ilx0IixsPSIgIixmPSJbIixwPSJdIixoPSIoIixkPSIpIix2PSI6Iix5PSI8IixtPSI+IjtmdW5jdGlvbiBnKHQpe3JldHVybiB0IT09bSYmdCE9PWYmJnQhPT1wfWZ1bmN0aW9uIGIodCl7cmV0dXJuIHQhPT1mJiZ0IT09cCYmIXIodCl9Zy5kZWxpbWl0ZXI9bX0sIjREOGsiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiOVFoNCIpLG89bigiZkVwYiIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQse2hhc0luc3RhbmNlOnIoIiIsbyYmby5oYXNJbnN0YW5jZXx8dCgiaGFzSW5zdGFuY2UiKSksaXNDb25jYXRTcHJlYWRhYmxlOnIoIiIsbyYmby5pc0NvbmNhdFNwcmVhZGFibGV8fHQoImlzQ29uY2F0U3ByZWFkYWJsZSIpKSxpdGVyYXRvcjpyKCIiLG8mJm8uaXRlcmF0b3J8fHQoIml0ZXJhdG9yIikpLG1hdGNoOnIoIiIsbyYmby5tYXRjaHx8dCgibWF0Y2giKSkscmVwbGFjZTpyKCIiLG8mJm8ucmVwbGFjZXx8dCgicmVwbGFjZSIpKSxzZWFyY2g6cigiIixvJiZvLnNlYXJjaHx8dCgic2VhcmNoIikpLHNwZWNpZXM6cigiIixvJiZvLnNwZWNpZXN8fHQoInNwZWNpZXMiKSksc3BsaXQ6cigiIixvJiZvLnNwbGl0fHx0KCJzcGxpdCIpKSx0b1ByaW1pdGl2ZTpyKCIiLG8mJm8udG9QcmltaXRpdmV8fHQoInRvUHJpbWl0aXZlIikpLHRvU3RyaW5nVGFnOnIoIiIsbyYmby50b1N0cmluZ1RhZ3x8dCgidG9TdHJpbmdUYWciKSksdW5zY29wYWJsZXM6cigiIixvJiZvLnVuc2NvcGFibGVzfHx0KCJ1bnNjb3BhYmxlcyIpKX0pfX0sIjRNcUQiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcj1ufHx0aGlzLG89clt0XTtyZXR1cm4gclt0XT0hZSxmdW5jdGlvbigpe3JbdF09b319fX0sIjROODMiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHIsbz1PYmplY3QuY3JlYXRlO24oIkNvNk4iKSgpfHwocj1uKCJvS0hOIikpLHQuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0LGUsbjtyZXR1cm4gcj8xIT09ci5sZXZlbD9vOih0PXt9LGU9e30sbj17Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSxPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QucHJvdG90eXBlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtlW3RdPSJfX3Byb3RvX18iIT09dD9uOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCx2YWx1ZTp2b2lkIDB9fSkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIm51bGxQb2x5ZmlsbCIse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiExLHZhbHVlOnR9KSxmdW5jdGlvbihlLG4pe3JldHVybiBvKG51bGw9PT1lP3Q6ZSxuKX0pOm99KCl9LCI0UFk4IjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1uKCJuZkJYIikoKT9PYmplY3Quc2V0UHJvdG90eXBlT2Y6bigiNFp5QyIpfSwiNFp5QyI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixvPW4oIklXQi8iKSxpPW4oImxxNXkiKSxhPU9iamVjdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZixzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxjPXtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCx2YWx1ZTp2b2lkIDB9O3I9ZnVuY3Rpb24odCxlKXtpZihpKHQpLG51bGw9PT1lfHxvKGUpKXJldHVybiB0O3Rocm93IG5ldyBUeXBlRXJyb3IoIlByb3RvdHlwZSBtdXN0IGJlIG51bGwgb3IgYW4gb2JqZWN0Iil9LHQuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiB0PygyPT09dC5sZXZlbD90LnNldD8obj10LnNldCxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbChyKHQsZSksZSksdH0pOmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcih0LGUpLl9fcHJvdG9fXz1lLHR9OmU9ZnVuY3Rpb24gdChlLG4pe3ZhciBvO3JldHVybiByKGUsbiksKG89YS5jYWxsKHQubnVsbFBvbHlmaWxsLGUpKSYmZGVsZXRlIHQubnVsbFBvbHlmaWxsLl9fcHJvdG9fXyxudWxsPT09biYmKG49dC5udWxsUG9seWZpbGwpLGUuX19wcm90b19fPW4sbyYmcyh0Lm51bGxQb2x5ZmlsbCwiX19wcm90b19fIixjKSxlfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwibGV2ZWwiLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMSx2YWx1ZTp0LmxldmVsfSkpOm51bGx9KGZ1bmN0aW9uKCl7dmFyIHQsZT1PYmplY3QuY3JlYXRlKG51bGwpLG49e30scj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpO2lmKHIpe3RyeXsodD1yLnNldCkuY2FsbChlLG4pfWNhdGNoKG8pe31pZihPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk9PT1uKXJldHVybntzZXQ6dCxsZXZlbDoyfX1yZXR1cm4gZS5fX3Byb3RvX189bixPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk9PT1uP3tsZXZlbDoyfTooKGU9e30pLl9fcHJvdG9fXz1uLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKT09PW4mJntsZXZlbDoxfSl9KCkpLG4oInVrdVciKX0sIjRhalgiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPW4oIkVUYXIiKSgpP01hdGguc2lnbjpuKCJkaTJ4Iil9LCI0bVhPIjpmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oIjdUUEYiKX0sIjR4U1kiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bigiaGZLbSIpKGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPW4oIi9nVXciKTtlLnByb2Nlc3Nvcj1yLmRlZmF1bHQ7dmFyIG89bigiT2xQUyIpO2Uubm90ZUxpbmtOb2RlVHlwZT1vLm5vdGVMaW5rTm9kZVR5cGU7dmFyIGk9bigiOC9kRyIpO2UuYmFja2xpbmtzTm9kZVR5cGU9aS5iYWNrbGlua3NOb2RlVHlwZSxlLmJhY2tsaW5rc1NvdXJjZU5vZGVUeXBlPWkuYmFja2xpbmtzU291cmNlTm9kZVR5cGU7dmFyIGE9bigiaTJTYyIpO2UuY2xvemVQcm9tcHRUeXBlPWEuY2xvemVQcm9tcHRUeXBlLGUucWFQcm9tcHRUeXBlPWEucWFQcm9tcHRUeXBlLGUuZmluZEFsbFByb21wdHM9YS5maW5kQWxsUHJvbXB0cyxlLmdldENsb3plTm9kZXNJbkNsb3plUHJvbXB0PWEuZ2V0Q2xvemVOb2Rlc0luQ2xvemVQcm9tcHQsZS5jbG96ZU5vZGVUeXBlPWEuY2xvemVOb2RlVHlwZTt2YXIgcz1uKCJVQTUvIik7ZS5saXN0Tm90ZUZpbGVzPXMubGlzdE5vdGVGaWxlcyxlLmdldE5vdGVUaXRsZT1zLmdldE5vdGVUaXRsZSxlLmdldE5vdGVJRD1zLmdldE5vdGVJRCxlLmJlYXJOb3RlSURUeXBlPXMuYmVhck5vdGVJRFR5cGV9LCI1MngyIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbigpe319LCI1TkdCIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oInl6MDkiKSxvPW4oIjEzRFEiKSxpPW4oIlp6aTQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixsLGYscCxoPXQuc3BsaXQocyksZD1oLmxlbmd0aCsxLHY9MS8wLHk9W107aC51bnNoaWZ0KG8oYyxlKSt1KTtmb3IoO2QtLTspaWYobD1pKGhbZF0pLHlbZF09bC5zdG9wcywwIT09cihoW2RdKS5sZW5ndGgpe2lmKCFsLmluZGVudCl7dj0xLzA7YnJlYWt9bC5pbmRlbnQ+MCYmbC5pbmRlbnQ8diYmKHY9bC5pbmRlbnQpfWlmKHYhPT0xLzApZm9yKGQ9aC5sZW5ndGg7ZC0tOyl7Zm9yKGY9eVtkXSxuPXY7biYmIShuIGluIGYpOyluLS07cD0wIT09cihoW2RdKS5sZW5ndGgmJnYmJm4hPT12P2E6IiIsaFtkXT1wK2hbZF0uc2xpY2UobiBpbiBmP2Zbbl0rMTowKX1yZXR1cm4gaC5zaGlmdCgpLGguam9pbihzKX07dmFyIGE9Ilx0IixzPSJcbiIsYz0iICIsdT0iISJ9LCI1UkdSIjpmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0sbj10WzFdLTE7aWYobjwwJiZlPD0wKXJldHVybiBpO2lmKC0xPT09ZSlyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQ8PW59O2lmKDA9PT1lKXJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdD09PW59O2lmKDE9PT1lKXJldHVybiBuPDA/bzpmdW5jdGlvbih0KXtyZXR1cm4gdD49bn07dmFyIHI9biVlO3I8MCYmKHIrPWUpO2lmKGU+MSlyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQ+PW4mJnQlZT09PXJ9O3JldHVybiBlKj0tMSxmdW5jdGlvbih0KXtyZXR1cm4gdDw9biYmdCVlPT09cn19O3ZhciByPW4oIndXNG0iKSxvPXIudHJ1ZUZ1bmMsaT1yLmZhbHNlRnVuY30sIjVUNG0iOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvLGksYSxzLGMsdSxsLGYscDtpZihuKXJldHVybiEwO3I9dGhpcy5pbmxpbmVNZXRob2RzLGE9ci5sZW5ndGgsbz10aGlzLmlubGluZVRva2VuaXplcnMsaT0tMSxmPWUubGVuZ3RoO2Zvcig7KytpPGE7KSJ0ZXh0IiE9PShsPXJbaV0pJiZvW2xdJiYoKHU9b1tsXS5sb2NhdG9yKXx8dC5maWxlLmZhaWwoIk1pc3NpbmcgbG9jYXRvcjogYCIrbCsiYCIpLC0xIT09KGM9dS5jYWxsKHRoaXMsZSwxKSkmJmM8ZiYmKGY9YykpO3M9ZS5zbGljZSgwLGYpLHA9dC5ub3coKSx0aGlzLmRlY29kZShzLHAsKGZ1bmN0aW9uKGUsbixyKXt0KHJ8fGUpKHt0eXBlOiJ0ZXh0Iix2YWx1ZTplfSl9KSl9fSwiNXBLdiI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Ilx0XG5cdlxmXHIgXHhhMFx1MTY4MFx1MTgwZVx1MjAwMFx1MjAwMVx1MjAwMlx1MjAwM1x1MjAwNFx1MjAwNVx1MjAwNlx1MjAwN1x1MjAwOFx1MjAwOVx1MjAwYVx1MjAyZlx1MjA1Zlx1MzAwMFx1MjAyOFx1MjAyOVx1ZmVmZiJ9LCI1dDY5IjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlU2ankiKSxvPW4oIlA3WE0iKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbixpO2ZvcihuIGluIG8ocyx0KSxvKGEscyksZT1zLnByb3RvdHlwZSkoaT1lW25dKSYmIm9iamVjdCI9PT10eXBlb2YgaSYmKGVbbl09ImNvbmNhdCJpbiBpP2kuY29uY2F0KCk6cihpKSk7cmV0dXJuIHM7ZnVuY3Rpb24gYShlKXtyZXR1cm4gdC5hcHBseSh0aGlzLGUpfWZ1bmN0aW9uIHMoKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHM/dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6bmV3IGEoYXJndW1lbnRzKX19fSwiNXhBWCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCI4MmMyIiksbz1uKCJSTGVGIiksaT1uKCJWd2lQIiksYT1uKCJWK3hzIikscz1uKCJISDZaIiksYz1vKGkpO3IoYyx7Z2V0UG9seWZpbGw6YSxpbXBsZW1lbnRhdGlvbjppLHNoaW06c30pLHQuZXhwb3J0cz1jfSwiNXpTNCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJ0eVdZIiksbz1NYXRoLm1heDt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8oMCxyKHQpKX19LCI1em5UIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oInJ3Qy8iKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbixhPXRoaXMub3B0aW9ucyxzPWEubG9vc2VUYWJsZSxjPWEuc3BhY2VkVGFibGUsdT1hLnBhZGRlZFRhYmxlLGw9YS5zdHJpbmdMZW5ndGgsZj10LmNoaWxkcmVuLHA9Zi5sZW5ndGgsaD10aGlzLmVudGVyVGFibGUoKSxkPVtdO2Zvcig7cC0tOylkW3BdPXRoaXMuYWxsKGZbcF0pO2goKSxzPyhlPSIiLG49IiIpOmM/KGU9aStvLG49bytpKTooZT1pLG49aSk7cmV0dXJuIHIoZCx7YWxpZ246dC5hbGlnbixwYWQ6dSxzdGFydDplLGVuZDpuLHN0cmluZ0xlbmd0aDpsLGRlbGltaXRlcjpjP28raStvOml9KX07dmFyIG89IiAiLGk9InwifSwiNjFZMSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJ5Y1hrIiksbz1uKCJKUkpvIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQucmVmZXJlbmNlVHlwZSxuPXRoaXMuZW50ZXJMaW5rUmVmZXJlbmNlKHRoaXMsdCksdT10aGlzLmFsbCh0KS5qb2luKCIiKTtuKCksKGU9PT1zfHxlPT09YykmJih1PXIodSx0LmxhYmVsfHx0LmlkZW50aWZpZXIpKTtyZXR1cm4gaSt1K2Erbyh0KX07dmFyIGk9IlsiLGE9Il0iLHM9InNob3J0Y3V0IixjPSJjb2xsYXBzZWQifSwiNjIraiI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJJUEFyIiksbz1uKCJkK0pqIik7dC5leHBvcnRzPWQsZC5ub3RJbkxpc3Q9ITAsZC5ub3RJbkJsb2NrPSEwO3ZhciBpPSJcXCIsYT0iXG4iLHM9Ilx0IixjPSIgIix1PSJbIixsPSJdIixmPSJeIixwPSI6IixoPS9eKCB7NH18XHQpPy9nbTtmdW5jdGlvbiBkKHQsZSxuKXt2YXIgZCx2LHksbSxnLGIseCx3LGssXyxBLE8saj10aGlzLm9mZnNldDtpZih0aGlzLm9wdGlvbnMuZm9vdG5vdGVzKXtmb3IoZD0wLHY9ZS5sZW5ndGgseT0iIixtPXQubm93KCksZz1tLmxpbmU7ZDx2JiYoaz1lLmNoYXJBdChkKSxyKGspKTspeSs9ayxkKys7aWYoZS5jaGFyQXQoZCk9PT11JiZlLmNoYXJBdChkKzEpPT09Zil7Zm9yKGQ9KHkrPXUrZikubGVuZ3RoLHg9IiI7ZDx2JiYoaz1lLmNoYXJBdChkKSkhPT1sOylrPT09aSYmKHgrPWssZCsrLGs9ZS5jaGFyQXQoZCkpLHgrPWssZCsrO2lmKHgmJmUuY2hhckF0KGQpPT09bCYmZS5jaGFyQXQoZCsxKT09PXApe2lmKG4pcmV0dXJuITA7Zm9yKF89byh4KSxkPSh5Kz14K2wrcCkubGVuZ3RoO2Q8diYmKChrPWUuY2hhckF0KGQpKT09PXN8fGs9PT1jKTspeSs9ayxkKys7Zm9yKG0uY29sdW1uKz15Lmxlbmd0aCxtLm9mZnNldCs9eS5sZW5ndGgseD0iIixiPSIiLHc9IiI7ZDx2Oyl7aWYoKGs9ZS5jaGFyQXQoZCkpPT09YSl7Zm9yKHc9ayxkKys7ZDx2JiYoaz1lLmNoYXJBdChkKSk9PT1hOyl3Kz1rLGQrKztmb3IoeCs9dyx3PSIiO2Q8diYmKGs9ZS5jaGFyQXQoZCkpPT09Yzspdys9ayxkKys7aWYoMD09PXcubGVuZ3RoKWJyZWFrO3grPXd9eCYmKGIrPXgseD0iIiksYis9ayxkKyt9cmV0dXJuIHkrPWIsYj1iLnJlcGxhY2UoaCwoZnVuY3Rpb24odCl7cmV0dXJuIGpbZ109KGpbZ118fDApK3QubGVuZ3RoLGcrKywiIn0pKSxBPXQoeSksTz10aGlzLmVudGVyQmxvY2soKSxiPXRoaXMudG9rZW5pemVCbG9jayhiLG0pLE8oKSxBKHt0eXBlOiJmb290bm90ZURlZmluaXRpb24iLGlkZW50aWZpZXI6XyxjaGlsZHJlbjpifSl9fX19fSwiNjludyI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciByLG8saSxhLHMsYyx1LGwsZixwO2lmKG4pcmV0dXJuITA7cj10aGlzLmlubGluZU1ldGhvZHMsYT1yLmxlbmd0aCxvPXRoaXMuaW5saW5lVG9rZW5pemVycyxpPS0xLGY9ZS5sZW5ndGg7Zm9yKDsrK2k8YTspInRleHQiIT09KGw9cltpXSkmJm9bbF0mJigodT1vW2xdLmxvY2F0b3IpfHx0LmZpbGUuZmFpbCgiTWlzc2luZyBsb2NhdG9yOiBgIitsKyJgIiksLTEhPT0oYz11LmNhbGwodGhpcyxlLDEpKSYmYzxmJiYoZj1jKSk7cz1lLnNsaWNlKDAsZikscD10Lm5vdygpLHRoaXMuZGVjb2RlKHMscCwoZnVuY3Rpb24oZSxuLHIpe3Qocnx8ZSkoe3R5cGU6InRleHQiLHZhbHVlOmV9KX0pKX19LCI2YXloIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPVR5cGVFcnJvcixvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7aWYobyl0cnl7byh7fSwiIil9Y2F0Y2gobSl7bz1udWxsfXZhciBpPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IHJ9LGE9bz9mdW5jdGlvbigpe3RyeXtyZXR1cm4gYXJndW1lbnRzLmNhbGxlZSxpfWNhdGNoKHQpe3RyeXtyZXR1cm4gbyhhcmd1bWVudHMsImNhbGxlZSIpLmdldH1jYXRjaChlKXtyZXR1cm4gaX19fSgpOmkscz1uKCJVVmFIIikoKSxjPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffSx1PXZvaWQgMCxsPSJ1bmRlZmluZWQiPT09dHlwZW9mIFVpbnQ4QXJyYXk/dm9pZCAwOmMoVWludDhBcnJheSksZj17IiVBcnJheSUiOkFycmF5LCIlQXJyYXlCdWZmZXIlIjoidW5kZWZpbmVkIj09PXR5cGVvZiBBcnJheUJ1ZmZlcj92b2lkIDA6QXJyYXlCdWZmZXIsIiVBcnJheUJ1ZmZlclByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT09dHlwZW9mIEFycmF5QnVmZmVyP3ZvaWQgMDpBcnJheUJ1ZmZlci5wcm90b3R5cGUsIiVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJSI6cz9jKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSk6dm9pZCAwLCIlQXJyYXlQcm90b3R5cGUlIjpBcnJheS5wcm90b3R5cGUsIiVBcnJheVByb3RvX2VudHJpZXMlIjpBcnJheS5wcm90b3R5cGUuZW50cmllcywiJUFycmF5UHJvdG9fZm9yRWFjaCUiOkFycmF5LnByb3RvdHlwZS5mb3JFYWNoLCIlQXJyYXlQcm90b19rZXlzJSI6QXJyYXkucHJvdG90eXBlLmtleXMsIiVBcnJheVByb3RvX3ZhbHVlcyUiOkFycmF5LnByb3RvdHlwZS52YWx1ZXMsIiVBc3luY0Zyb21TeW5jSXRlcmF0b3JQcm90b3R5cGUlIjp2b2lkIDAsIiVBc3luY0Z1bmN0aW9uJSI6dm9pZCAwLCIlQXN5bmNGdW5jdGlvblByb3RvdHlwZSUiOnZvaWQgMCwiJUFzeW5jR2VuZXJhdG9yJSI6dm9pZCAwLCIlQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUiOnZvaWQgMCwiJUFzeW5jR2VuZXJhdG9yUHJvdG90eXBlJSI6dm9pZCAwLCIlQXN5bmNJdGVyYXRvclByb3RvdHlwZSUiOnUmJnMmJlN5bWJvbC5hc3luY0l0ZXJhdG9yP3VbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk6dm9pZCAwLCIlQXRvbWljcyUiOiJ1bmRlZmluZWQiPT09dHlwZW9mIEF0b21pY3M/dm9pZCAwOkF0b21pY3MsIiVCb29sZWFuJSI6Qm9vbGVhbiwiJUJvb2xlYW5Qcm90b3R5cGUlIjpCb29sZWFuLnByb3RvdHlwZSwiJURhdGFWaWV3JSI6InVuZGVmaW5lZCI9PT10eXBlb2YgRGF0YVZpZXc/dm9pZCAwOkRhdGFWaWV3LCIlRGF0YVZpZXdQcm90b3R5cGUlIjoidW5kZWZpbmVkIj09PXR5cGVvZiBEYXRhVmlldz92b2lkIDA6RGF0YVZpZXcucHJvdG90eXBlLCIlRGF0ZSUiOkRhdGUsIiVEYXRlUHJvdG90eXBlJSI6RGF0ZS5wcm90b3R5cGUsIiVkZWNvZGVVUkklIjpkZWNvZGVVUkksIiVkZWNvZGVVUklDb21wb25lbnQlIjpkZWNvZGVVUklDb21wb25lbnQsIiVlbmNvZGVVUkklIjplbmNvZGVVUkksIiVlbmNvZGVVUklDb21wb25lbnQlIjplbmNvZGVVUklDb21wb25lbnQsIiVFcnJvciUiOkVycm9yLCIlRXJyb3JQcm90b3R5cGUlIjpFcnJvci5wcm90b3R5cGUsIiVldmFsJSI6ZXZhbCwiJUV2YWxFcnJvciUiOkV2YWxFcnJvciwiJUV2YWxFcnJvclByb3RvdHlwZSUiOkV2YWxFcnJvci5wcm90b3R5cGUsIiVGbG9hdDMyQXJyYXklIjoidW5kZWZpbmVkIj09PXR5cGVvZiBGbG9hdDMyQXJyYXk/dm9pZCAwOkZsb2F0MzJBcnJheSwiJUZsb2F0MzJBcnJheVByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT09dHlwZW9mIEZsb2F0MzJBcnJheT92b2lkIDA6RmxvYXQzMkFycmF5LnByb3RvdHlwZSwiJUZsb2F0NjRBcnJheSUiOiJ1bmRlZmluZWQiPT09dHlwZW9mIEZsb2F0NjRBcnJheT92b2lkIDA6RmxvYXQ2NEFycmF5LCIlRmxvYXQ2NEFycmF5UHJvdG90eXBlJSI6InVuZGVmaW5lZCI9PT10eXBlb2YgRmxvYXQ2NEFycmF5P3ZvaWQgMDpGbG9hdDY0QXJyYXkucHJvdG90eXBlLCIlRnVuY3Rpb24lIjpGdW5jdGlvbiwiJUZ1bmN0aW9uUHJvdG90eXBlJSI6RnVuY3Rpb24ucHJvdG90eXBlLCIlR2VuZXJhdG9yJSI6dm9pZCAwLCIlR2VuZXJhdG9yRnVuY3Rpb24lIjp2b2lkIDAsIiVHZW5lcmF0b3JQcm90b3R5cGUlIjp2b2lkIDAsIiVJbnQ4QXJyYXklIjoidW5kZWZpbmVkIj09PXR5cGVvZiBJbnQ4QXJyYXk/dm9pZCAwOkludDhBcnJheSwiJUludDhBcnJheVByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT09dHlwZW9mIEludDhBcnJheT92b2lkIDA6SW50OEFycmF5LnByb3RvdHlwZSwiJUludDE2QXJyYXklIjoidW5kZWZpbmVkIj09PXR5cGVvZiBJbnQxNkFycmF5P3ZvaWQgMDpJbnQxNkFycmF5LCIlSW50MTZBcnJheVByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT09dHlwZW9mIEludDE2QXJyYXk/dm9pZCAwOkludDhBcnJheS5wcm90b3R5cGUsIiVJbnQzMkFycmF5JSI6InVuZGVmaW5lZCI9PT10eXBlb2YgSW50MzJBcnJheT92b2lkIDA6SW50MzJBcnJheSwiJUludDMyQXJyYXlQcm90b3R5cGUlIjoidW5kZWZpbmVkIj09PXR5cGVvZiBJbnQzMkFycmF5P3ZvaWQgMDpJbnQzMkFycmF5LnByb3RvdHlwZSwiJWlzRmluaXRlJSI6aXNGaW5pdGUsIiVpc05hTiUiOmlzTmFOLCIlSXRlcmF0b3JQcm90b3R5cGUlIjpzP2MoYyhbXVtTeW1ib2wuaXRlcmF0b3JdKCkpKTp2b2lkIDAsIiVKU09OJSI6Im9iamVjdCI9PT10eXBlb2YgSlNPTj9KU09OOnZvaWQgMCwiJUpTT05QYXJzZSUiOiJvYmplY3QiPT09dHlwZW9mIEpTT04/SlNPTi5wYXJzZTp2b2lkIDAsIiVNYXAlIjoidW5kZWZpbmVkIj09PXR5cGVvZiBNYXA/dm9pZCAwOk1hcCwiJU1hcEl0ZXJhdG9yUHJvdG90eXBlJSI6InVuZGVmaW5lZCIhPT10eXBlb2YgTWFwJiZzP2MoKG5ldyBNYXApW1N5bWJvbC5pdGVyYXRvcl0oKSk6dm9pZCAwLCIlTWFwUHJvdG90eXBlJSI6InVuZGVmaW5lZCI9PT10eXBlb2YgTWFwP3ZvaWQgMDpNYXAucHJvdG90eXBlLCIlTWF0aCUiOk1hdGgsIiVOdW1iZXIlIjpOdW1iZXIsIiVOdW1iZXJQcm90b3R5cGUlIjpOdW1iZXIucHJvdG90eXBlLCIlT2JqZWN0JSI6T2JqZWN0LCIlT2JqZWN0UHJvdG90eXBlJSI6T2JqZWN0LnByb3RvdHlwZSwiJU9ialByb3RvX3RvU3RyaW5nJSI6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZywiJU9ialByb3RvX3ZhbHVlT2YlIjpPYmplY3QucHJvdG90eXBlLnZhbHVlT2YsIiVwYXJzZUZsb2F0JSI6cGFyc2VGbG9hdCwiJXBhcnNlSW50JSI6cGFyc2VJbnQsIiVQcm9taXNlJSI6InVuZGVmaW5lZCI9PT10eXBlb2YgUHJvbWlzZT92b2lkIDA6UHJvbWlzZSwiJVByb21pc2VQcm90b3R5cGUlIjoidW5kZWZpbmVkIj09PXR5cGVvZiBQcm9taXNlP3ZvaWQgMDpQcm9taXNlLnByb3RvdHlwZSwiJVByb21pc2VQcm90b190aGVuJSI6InVuZGVmaW5lZCI9PT10eXBlb2YgUHJvbWlzZT92b2lkIDA6UHJvbWlzZS5wcm90b3R5cGUudGhlbiwiJVByb21pc2VfYWxsJSI6InVuZGVmaW5lZCI9PT10eXBlb2YgUHJvbWlzZT92b2lkIDA6UHJvbWlzZS5hbGwsIiVQcm9taXNlX3JlamVjdCUiOiJ1bmRlZmluZWQiPT09dHlwZW9mIFByb21pc2U/dm9pZCAwOlByb21pc2UucmVqZWN0LCIlUHJvbWlzZV9yZXNvbHZlJSI6InVuZGVmaW5lZCI9PT10eXBlb2YgUHJvbWlzZT92b2lkIDA6UHJvbWlzZS5yZXNvbHZlLCIlUHJveHklIjoidW5kZWZpbmVkIj09PXR5cGVvZiBQcm94eT92b2lkIDA6UHJveHksIiVSYW5nZUVycm9yJSI6UmFuZ2VFcnJvciwiJVJhbmdlRXJyb3JQcm90b3R5cGUlIjpSYW5nZUVycm9yLnByb3RvdHlwZSwiJVJlZmVyZW5jZUVycm9yJSI6UmVmZXJlbmNlRXJyb3IsIiVSZWZlcmVuY2VFcnJvclByb3RvdHlwZSUiOlJlZmVyZW5jZUVycm9yLnByb3RvdHlwZSwiJVJlZmxlY3QlIjoidW5kZWZpbmVkIj09PXR5cGVvZiBSZWZsZWN0P3ZvaWQgMDpSZWZsZWN0LCIlUmVnRXhwJSI6UmVnRXhwLCIlUmVnRXhwUHJvdG90eXBlJSI6UmVnRXhwLnByb3RvdHlwZSwiJVNldCUiOiJ1bmRlZmluZWQiPT09dHlwZW9mIFNldD92b2lkIDA6U2V0LCIlU2V0SXRlcmF0b3JQcm90b3R5cGUlIjoidW5kZWZpbmVkIiE9PXR5cGVvZiBTZXQmJnM/YygobmV3IFNldClbU3ltYm9sLml0ZXJhdG9yXSgpKTp2b2lkIDAsIiVTZXRQcm90b3R5cGUlIjoidW5kZWZpbmVkIj09PXR5cGVvZiBTZXQ/dm9pZCAwOlNldC5wcm90b3R5cGUsIiVTaGFyZWRBcnJheUJ1ZmZlciUiOiJ1bmRlZmluZWQiPT09dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyP3ZvaWQgMDpTaGFyZWRBcnJheUJ1ZmZlciwiJVNoYXJlZEFycmF5QnVmZmVyUHJvdG90eXBlJSI6InVuZGVmaW5lZCI9PT10eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI/dm9pZCAwOlNoYXJlZEFycmF5QnVmZmVyLnByb3RvdHlwZSwiJVN0cmluZyUiOlN0cmluZywiJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJSI6cz9jKCIiW1N5bWJvbC5pdGVyYXRvcl0oKSk6dm9pZCAwLCIlU3RyaW5nUHJvdG90eXBlJSI6U3RyaW5nLnByb3RvdHlwZSwiJVN5bWJvbCUiOnM/U3ltYm9sOnZvaWQgMCwiJVN5bWJvbFByb3RvdHlwZSUiOnM/U3ltYm9sLnByb3RvdHlwZTp2b2lkIDAsIiVTeW50YXhFcnJvciUiOlN5bnRheEVycm9yLCIlU3ludGF4RXJyb3JQcm90b3R5cGUlIjpTeW50YXhFcnJvci5wcm90b3R5cGUsIiVUaHJvd1R5cGVFcnJvciUiOmEsIiVUeXBlZEFycmF5JSI6bCwiJVR5cGVkQXJyYXlQcm90b3R5cGUlIjpsP2wucHJvdG90eXBlOnZvaWQgMCwiJVR5cGVFcnJvciUiOnIsIiVUeXBlRXJyb3JQcm90b3R5cGUlIjpyLnByb3RvdHlwZSwiJVVpbnQ4QXJyYXklIjoidW5kZWZpbmVkIj09PXR5cGVvZiBVaW50OEFycmF5P3ZvaWQgMDpVaW50OEFycmF5LCIlVWludDhBcnJheVByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT09dHlwZW9mIFVpbnQ4QXJyYXk/dm9pZCAwOlVpbnQ4QXJyYXkucHJvdG90eXBlLCIlVWludDhDbGFtcGVkQXJyYXklIjoidW5kZWZpbmVkIj09PXR5cGVvZiBVaW50OENsYW1wZWRBcnJheT92b2lkIDA6VWludDhDbGFtcGVkQXJyYXksIiVVaW50OENsYW1wZWRBcnJheVByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT09dHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5P3ZvaWQgMDpVaW50OENsYW1wZWRBcnJheS5wcm90b3R5cGUsIiVVaW50MTZBcnJheSUiOiJ1bmRlZmluZWQiPT09dHlwZW9mIFVpbnQxNkFycmF5P3ZvaWQgMDpVaW50MTZBcnJheSwiJVVpbnQxNkFycmF5UHJvdG90eXBlJSI6InVuZGVmaW5lZCI9PT10eXBlb2YgVWludDE2QXJyYXk/dm9pZCAwOlVpbnQxNkFycmF5LnByb3RvdHlwZSwiJVVpbnQzMkFycmF5JSI6InVuZGVmaW5lZCI9PT10eXBlb2YgVWludDMyQXJyYXk/dm9pZCAwOlVpbnQzMkFycmF5LCIlVWludDMyQXJyYXlQcm90b3R5cGUlIjoidW5kZWZpbmVkIj09PXR5cGVvZiBVaW50MzJBcnJheT92b2lkIDA6VWludDMyQXJyYXkucHJvdG90eXBlLCIlVVJJRXJyb3IlIjpVUklFcnJvciwiJVVSSUVycm9yUHJvdG90eXBlJSI6VVJJRXJyb3IucHJvdG90eXBlLCIlV2Vha01hcCUiOiJ1bmRlZmluZWQiPT09dHlwZW9mIFdlYWtNYXA/dm9pZCAwOldlYWtNYXAsIiVXZWFrTWFwUHJvdG90eXBlJSI6InVuZGVmaW5lZCI9PT10eXBlb2YgV2Vha01hcD92b2lkIDA6V2Vha01hcC5wcm90b3R5cGUsIiVXZWFrU2V0JSI6InVuZGVmaW5lZCI9PT10eXBlb2YgV2Vha1NldD92b2lkIDA6V2Vha1NldCwiJVdlYWtTZXRQcm90b3R5cGUlIjoidW5kZWZpbmVkIj09PXR5cGVvZiBXZWFrU2V0P3ZvaWQgMDpXZWFrU2V0LnByb3RvdHlwZX0scD1uKCJEM3pBIikuY2FsbChGdW5jdGlvbi5jYWxsLFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSksaD0vW14lLltcXV0rfFxbKD86KC0/XGQrKD86XC5cZCspPyl8KFsiJ10pKCg/Oig/IVwyKVteXFxdfFxcLikqPylcMilcXXwoPz0oPzpcLnxcW1xdKSg/OlwufFxbXF18JSQpKS9nLGQ9L1xcKFxcKT8vZyx2PWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBwKHQsaCwoZnVuY3Rpb24odCxuLHIsbyl7ZVtlLmxlbmd0aF09cj9wKG8sZCwiJDEiKTpufHx0fSkpLGV9LHk9ZnVuY3Rpb24odCxlKXtpZighKHQgaW4gZikpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJpbnRyaW5zaWMgIit0KyIgZG9lcyBub3QgZXhpc3QhIik7aWYoInVuZGVmaW5lZCI9PT10eXBlb2YgZlt0XSYmIWUpdGhyb3cgbmV3IHIoImludHJpbnNpYyAiK3QrIiBleGlzdHMsIGJ1dCBpcyBub3QgYXZhaWxhYmxlLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZSEiKTtyZXR1cm4gZlt0XX07dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoInN0cmluZyIhPT10eXBlb2YgdHx8MD09PXQubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoImludHJpbnNpYyBuYW1lIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nIik7aWYoYXJndW1lbnRzLmxlbmd0aD4xJiYiYm9vbGVhbiIhPT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCciYWxsb3dNaXNzaW5nIiBhcmd1bWVudCBtdXN0IGJlIGEgYm9vbGVhbicpO2Zvcih2YXIgbj12KHQpLGk9eSgiJSIrKG4ubGVuZ3RoPjA/blswXToiIikrIiUiLGUpLGE9MTthPG4ubGVuZ3RoO2ErPTEpaWYobnVsbCE9aSlpZihvJiZhKzE+PW4ubGVuZ3RoKXt2YXIgcz1vKGksblthXSk7aWYoIWUmJiEoblthXWluIGkpKXRocm93IG5ldyByKCJiYXNlIGludHJpbnNpYyBmb3IgIit0KyIgZXhpc3RzLCBidXQgdGhlIHByb3BlcnR5IGlzIG5vdCBhdmFpbGFibGUuIik7aT1zP3MuZ2V0fHxzLnZhbHVlOmlbblthXV19ZWxzZSBpPWlbblthXV07cmV0dXJuIGl9fSwiNmIzNCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLG89ci5jYWxsKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByLmNhbGwodCk9PT1vfX0sIjZkQnMiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxvPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsaT1PYmplY3QuZGVmaW5lUHJvcGVydHksYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHM9ZnVuY3Rpb24odCl7cmV0dXJuImZ1bmN0aW9uIj09PXR5cGVvZiBBcnJheS5pc0FycmF5P0FycmF5LmlzQXJyYXkodCk6IltvYmplY3QgQXJyYXldIj09PW8uY2FsbCh0KX0sYz1mdW5jdGlvbih0KXtpZighdHx8IltvYmplY3QgT2JqZWN0XSIhPT1vLmNhbGwodCkpcmV0dXJuITE7dmFyIGUsbj1yLmNhbGwodCwiY29uc3RydWN0b3IiKSxpPXQuY29uc3RydWN0b3ImJnQuY29uc3RydWN0b3IucHJvdG90eXBlJiZyLmNhbGwodC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKTtpZih0LmNvbnN0cnVjdG9yJiYhbiYmIWkpcmV0dXJuITE7Zm9yKGUgaW4gdCk7cmV0dXJuInVuZGVmaW5lZCI9PT10eXBlb2YgZXx8ci5jYWxsKHQsZSl9LHU9ZnVuY3Rpb24odCxlKXtpJiYiX19wcm90b19fIj09PWUubmFtZT9pKHQsZS5uYW1lLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx2YWx1ZTplLm5ld1ZhbHVlLHdyaXRhYmxlOiEwfSk6dFtlLm5hbWVdPWUubmV3VmFsdWV9LGw9ZnVuY3Rpb24odCxlKXtpZigiX19wcm90b19fIj09PWUpe2lmKCFyLmNhbGwodCxlKSlyZXR1cm47aWYoYSlyZXR1cm4gYSh0LGUpLnZhbHVlfXJldHVybiB0W2VdfTt0LmV4cG9ydHM9ZnVuY3Rpb24gdCgpe3ZhciBlLG4scixvLGksYSxmPWFyZ3VtZW50c1swXSxwPTEsaD1hcmd1bWVudHMubGVuZ3RoLGQ9ITE7Zm9yKCJib29sZWFuIj09PXR5cGVvZiBmJiYoZD1mLGY9YXJndW1lbnRzWzFdfHx7fSxwPTIpLChudWxsPT1mfHwib2JqZWN0IiE9PXR5cGVvZiBmJiYiZnVuY3Rpb24iIT09dHlwZW9mIGYpJiYoZj17fSk7cDxoOysrcClpZihudWxsIT0oZT1hcmd1bWVudHNbcF0pKWZvcihuIGluIGUpcj1sKGYsbiksZiE9PShvPWwoZSxuKSkmJihkJiZvJiYoYyhvKXx8KGk9cyhvKSkpPyhpPyhpPSExLGE9ciYmcyhyKT9yOltdKTphPXImJmMocik/cjp7fSx1KGYse25hbWU6bixuZXdWYWx1ZTp0KGQsYSxvKX0pKToidW5kZWZpbmVkIiE9PXR5cGVvZiBvJiZ1KGYse25hbWU6bixuZXdWYWx1ZTpvfSkpO3JldHVybiBmfX0sIjZwV3UiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPW4oIm9VYTYiKSgpP09iamVjdC5rZXlzOm4oIjc4VW4iKX0sIjZ1QmkiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiazJxTSIpLG89bigiWHQxWSIpLGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkpcmV0dXJuIG51bGw7aWYobyh0KSl7dmFyIGU9dC50b1N0cmluZztpZigiZnVuY3Rpb24iIT09dHlwZW9mIGUpcmV0dXJuIG51bGw7aWYoZT09PWkpcmV0dXJuIG51bGx9dHJ5e3JldHVybiIiK3R9Y2F0Y2gobil7cmV0dXJuIG51bGx9fX0sIjcrRUEiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiWkxPcSIpO3QuZXhwb3J0cz1zLHMubG9jYXRvcj1yO3ZhciBvPSIgIixpPSJcbiIsYT0yO2Z1bmN0aW9uIHModCxlLG4pe2Zvcih2YXIgcixzPWUubGVuZ3RoLGM9LTEsdT0iIjsrK2M8czspe2lmKChyPWUuY2hhckF0KGMpKT09PWkpe2lmKGM8YSlyZXR1cm47cmV0dXJuISFufHx0KHUrPXIpKHt0eXBlOiJicmVhayJ9KX1pZihyIT09bylyZXR1cm47dSs9cn19fSwiNzNyNiI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9TnVtYmVyKHQpLGlzTmFOKHQpfHwwPT09dD90OnQ+MD8xOi0xfX0sIjc4VW4iOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigidDRnYyIpLG89T2JqZWN0LmtleXM7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvKHIodCk/T2JqZWN0KHQpOnQpfX0sIjdMaWQiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy52aXNpdG9yczsiZnVuY3Rpb24iIT09dHlwZW9mIG5bdC50eXBlXSYmdGhpcy5maWxlLmZhaWwobmV3IEVycm9yKCJNaXNzaW5nIGNvbXBpbGVyIGZvciBub2RlIG9mIHR5cGUgYCIrdC50eXBlKyJgOiBgIit0KyJgIiksdCk7cmV0dXJuIG5bdC50eXBlXS5jYWxsKHRoaXMsdCxlKX19LCI3TXhSIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlU2ankiKSxvPW4oImNCTmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdCxlPVN0cmluZyh0aGlzLmZpbGUpLG49e2xpbmU6MSxjb2x1bW46MSxvZmZzZXQ6MH0scz1yKG4pOzY1Mjc5PT09KGU9ZS5yZXBsYWNlKGEsaSkpLmNoYXJDb2RlQXQoMCkmJihlPWUuc2xpY2UoMSkscy5jb2x1bW4rKyxzLm9mZnNldCsrKTt0PXt0eXBlOiJyb290IixjaGlsZHJlbjp0aGlzLnRva2VuaXplQmxvY2soZSxzKSxwb3NpdGlvbjp7c3RhcnQ6bixlbmQ6dGhpcy5lb2Z8fHIobil9fSx0aGlzLm9wdGlvbnMucG9zaXRpb258fG8odCwhMCk7cmV0dXJuIHR9O3ZhciBpPSJcbiIsYT0vXHJcbnxcci9nfSwiN1BtQSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIE9iamVjdC5rZXlzKCJwcmltaXRpdmUiKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19fSwiN1RQRiI6ZnVuY3Rpb24odCxlLG4pe24oIkFVdm0iKSx0LmV4cG9ydHM9bigiV0VwayIpLk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LCI3VGhXIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlZ3ZTYiKSxvPW4oIjQ4eVMiKTt0LmV4cG9ydHM9bzt2YXIgaT1vLnByb3RvdHlwZTtpLm1lc3NhZ2U9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMucGF0aCxpPW5ldyByKHQsZSxuKTtvJiYoaS5uYW1lPW8rIjoiK2kubmFtZSxpLmZpbGU9byk7cmV0dXJuIGkuZmF0YWw9ITEsdGhpcy5tZXNzYWdlcy5wdXNoKGkpLGl9LGkuaW5mbz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubWVzc2FnZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHQuZmF0YWw9bnVsbCx0fSxpLmZhaWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1lc3NhZ2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3Rocm93IHQuZmF0YWw9ITAsdH19LCI3WHJZIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuaW5kZXhPZigiXG4iLGUpO2Zvcig7bj5lJiYiICI9PT10LmNoYXJBdChuLTEpOyluLS07cmV0dXJuIG59fSwiN20wbSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIlk3WkMiKSxvPW4oInVwbGgiKSxpPW4oIk5zTy8iKSxhPW4oInZ3dUwiKSxzPW4oIklQMVoiKTtyKHIuUywiT2JqZWN0Iix7Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yczpmdW5jdGlvbih0KXtmb3IodmFyIGUsbixyPWkodCksYz1hLmYsdT1vKHIpLGw9e30sZj0wO3UubGVuZ3RoPmY7KXZvaWQgMCE9PShuPWMocixlPXVbZisrXSkpJiZzKGwsZSxuKTtyZXR1cm4gbH19KX0sIjduUE0iOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49LTEscj10Lmxlbmd0aDtpZihlPDApcmV0dXJue307Zm9yKDsrK248cjspaWYodFtuXT5lKXJldHVybntsaW5lOm4rMSxjb2x1bW46ZS0odFtuLTFdfHwwKSsxLG9mZnNldDplfTtyZXR1cm57fX19ZnVuY3Rpb24gbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49ZSYmZS5saW5lLHI9ZSYmZS5jb2x1bW47aWYoIWlzTmFOKG4pJiYhaXNOYU4ocikmJm4tMSBpbiB0KXJldHVybih0W24tMl18fDApK3ItMXx8MDtyZXR1cm4tMX19dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49dC5pbmRleE9mKCJcbiIpO2Zvcig7LTEhPT1uOyllLnB1c2gobisxKSxuPXQuaW5kZXhPZigiXG4iLG4rMSk7cmV0dXJuIGUucHVzaCh0Lmxlbmd0aCsxKSxlfShTdHJpbmcodCkpO3JldHVybnt0b1Bvc2l0aW9uOnIoZSksdG9PZmZzZXQ6byhlKX19fSwiN3B3VSI6ZnVuY3Rpb24odCl7dC5leHBvcnRzPUpTT04ucGFyc2UoJ3siMCI6Ilx1ZmZmZCIsIjEyOCI6Ilx1MjBhYyIsIjEzMCI6Ilx1MjAxYSIsIjEzMSI6Ilx1MDE5MiIsIjEzMiI6Ilx1MjAxZSIsIjEzMyI6Ilx1MjAyNiIsIjEzNCI6Ilx1MjAyMCIsIjEzNSI6Ilx1MjAyMSIsIjEzNiI6Ilx1MDJjNiIsIjEzNyI6Ilx1MjAzMCIsIjEzOCI6Ilx1MDE2MCIsIjEzOSI6Ilx1MjAzOSIsIjE0MCI6Ilx1MDE1MiIsIjE0MiI6Ilx1MDE3ZCIsIjE0NSI6Ilx1MjAxOCIsIjE0NiI6Ilx1MjAxOSIsIjE0NyI6Ilx1MjAxYyIsIjE0OCI6Ilx1MjAxZCIsIjE0OSI6Ilx1MjAyMiIsIjE1MCI6Ilx1MjAxMyIsIjE1MSI6Ilx1MjAxNCIsIjE1MiI6Ilx1MDJkYyIsIjE1MyI6Ilx1MjEyMiIsIjE1NCI6Ilx1MDE2MSIsIjE1NSI6Ilx1MjAzYSIsIjE1NiI6Ilx1MDE1MyIsIjE1OCI6Ilx1MDE3ZSIsIjE1OSI6Ilx1MDE3OCJ9Jyl9LCI3eGpQIjpmdW5jdGlvbih0LGUpeyJmdW5jdGlvbiI9PT10eXBlb2YgT2JqZWN0LmNyZWF0ZT90LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtlJiYodC5zdXBlcl89ZSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSl9OnQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKGUpe3Quc3VwZXJfPWU7dmFyIG49ZnVuY3Rpb24oKXt9O24ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXR9fX0sIjgvZEciOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiVGJHdSIpLG89bigiOUprZyIpLGk9bigiaGZLbSIpLGE9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07aShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcz1hKG4oIngxbGEiKSksYz1uKCJNVDEyIiksdT1uKCJPbFBTIik7ZnVuY3Rpb24gbCh0KXtyZXR1cm4gcy5kZWZhdWx0KHQsIkJhY2tsaW5rcyIsKGZ1bmN0aW9uKHQsbixpLGEpe3ZhciBzPWEucGFyZW50LGw9YS5zdGFydCxmPWEuZW5kLHA9blswXSxoPXMuY2hpbGRyZW4uc2xpY2UobCxudWxsIT09ZiYmdm9pZCAwIT09Zj9mOnZvaWQgMCk7aWYoIXB8fCJsaXN0IiE9PXAudHlwZSlyZXR1cm4gY29uc29sZS53YXJuKCJVbmV4cGVjdGVkIG5vZGUgaW4gYmFja2xpbmtzIG5vZGU6IixwKSxoO3ZhciBkPW4uc2xpY2UoMSksdj1kLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuImh0bWwiIT09dC50eXBlfHwhdC52YWx1ZS5zdGFydHNXaXRoKCJceDNjIS0tIil9KSk7aWYodi5sZW5ndGg+MClyZXR1cm4gY29uc29sZS53YXJuKCJVbmV4cGVjdGVkIG5vZGVzIGluIGJhY2tsaW5rcyBub2RlOiAiLmNvbmNhdChvKHYsbnVsbCwiXHQiKSkpLGg7dHJ5e3ZhciB5PWZ1bmN0aW9uKHQpe3JldHVybiB0LmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9dC5jaGlsZHJlblswXTtpZighZXx8InBhcmFncmFwaCIhPT1lLnR5cGUpdGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIGJhY2tsaW5rcyBzb3VyY2Ugbm9kZTogIi5jb25jYXQobyhlKSwiICIpLmNvbmNhdChvKHQpKSk7dmFyIG49Yy5zZWxlY3QodS5ub3RlTGlua05vZGVUeXBlLGUpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiQ291bGRuJ3QgZmluZCBzb3VyY2Ugbm9kZSBsaW5rICIuY29uY2F0KG8oZSksIiAiKS5jb25jYXQobyh0KSkpO3ZhciByPXQuY2hpbGRyZW5bMV07aWYociYmImxpc3QiIT09ci50eXBlKXRocm93IG5ldyBFcnJvcigiVW5leHBlY3RlZCBiYWNrbGlua3MgZXhjZXJwdCBsaXN0IG5vZGU6ICIuY29uY2F0KG8ociksIiAiKS5jb25jYXQobyh0KSkpO3JldHVybnt0eXBlOiJiYWNrbGlua1NvdXJjZU5vZGUiLHNvdXJjZU5vZGVMaW5rOm4sY2hpbGRyZW46cj9yLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24oZSl7aWYoImxpc3RJdGVtIiE9PWUudHlwZSl0aHJvdyBuZXcgRXJyb3IoIlVuZXhwZWN0ZWQgYmFja2xpbmtzIGV4Y2VycHQgbGlzdCBpdGVtOiAiLmNvbmNhdChvKGUsbnVsbCwiXHQiKSwiXG4gICAgICAgICAgICAgIFxuSW5zaWRlIGJhY2tsaW5rcyBub2RlOiAiKS5jb25jYXQobyh0LG51bGwsIlx0IikpKTtpZihlLmNoaWxkcmVuLmxlbmd0aD4xKXRocm93IG5ldyBFcnJvcigiQmFja2xpbmtzIGV4Y2VycHQgbGlzdCBpdGVtIGhhcyB0b28gbWFueSBjaGlsZHJlbjogIi5jb25jYXQobyhlLG51bGwsIlx0IiksIlxuICAgICAgICAgICAgICBcbkluc2lkZSBiYWNrbGlua3Mgbm9kZTogIikuY29uY2F0KG8odCxudWxsLCJcdCIpKSk7cmV0dXJuIGUuY2hpbGRyZW5bMF19KSk6W119fSkpfShwKTtyZXR1cm5be3R5cGU6ZS5iYWNrbGlua3NOb2RlVHlwZSxjaGlsZHJlbjp5fV0uY29uY2F0KHIoZCkscihpP1tpXTpbXSkpfWNhdGNoKG0pe3JldHVybiBjb25zb2xlLndhcm4obSksaH19KSksdH1lLmJhY2tsaW5rc05vZGVUeXBlPSJiYWNrbGlua3NOb2RlIixlLmJhY2tsaW5rc1NvdXJjZU5vZGVUeXBlPSJiYWNrbGlua1NvdXJjZU5vZGUiLGUuZGVmYXVsdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuQ29tcGlsZXIucHJvdG90eXBlLnZpc2l0b3JzO3RbZS5iYWNrbGlua3NOb2RlVHlwZV09ZnVuY3Rpb24odCl7dmFyIGU9dC5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybnt0eXBlOiJsaXN0SXRlbSIsY2hpbGRyZW46W3t0eXBlOiJwYXJhZ3JhcGgiLGNoaWxkcmVuOlt0LnNvdXJjZU5vZGVMaW5rXX0se3R5cGU6Imxpc3QiLG9yZGVyZWQ6ITEsY2hpbGRyZW46dC5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybnt0eXBlOiJsaXN0SXRlbSIsY2hpbGRyZW46W3RdfX0pKX1dfX0pKSxyPXt0eXBlOiJyb290IixjaGlsZHJlbjpbe3R5cGU6ImhlYWRpbmciLGRlcHRoOjIsY2hpbGRyZW46W3t0eXBlOiJ0ZXh0Iix2YWx1ZToiQmFja2xpbmtzIn1dfSx7dHlwZToibGlzdCIsb3JkZXJlZDohMSxjaGlsZHJlbjplfV19O3JldHVybiBuLmFwcGx5KHRoaXMsW3JdKX07dmFyIG49dC5yb290O3JldHVybiBsfX0sIjgyYzIiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiMXNlUyIpLG89ImZ1bmN0aW9uIj09PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT09dHlwZW9mIFN5bWJvbCgiZm9vIiksaT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGE9QXJyYXkucHJvdG90eXBlLmNvbmNhdCxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxjPXMmJmZ1bmN0aW9uKCl7dmFyIHQ9e307dHJ5e2Zvcih2YXIgZSBpbiBzKHQsIngiLHtlbnVtZXJhYmxlOiExLHZhbHVlOnR9KSx0KXJldHVybiExO3JldHVybiB0Lng9PT10fWNhdGNoKG4pe3JldHVybiExfX0oKSx1PWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvO2UgaW4gdCYmKCJmdW5jdGlvbiIhPT10eXBlb2Yobz1yKXx8IltvYmplY3QgRnVuY3Rpb25dIiE9PWkuY2FsbChvKXx8IXIoKSl8fChjP3ModCxlLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx2YWx1ZTpuLHdyaXRhYmxlOiEwfSk6dFtlXT1uKX0sbD1mdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06e30saT1yKGUpO28mJihpPWEuY2FsbChpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkpKTtmb3IodmFyIHM9MDtzPGkubGVuZ3RoO3MrPTEpdSh0LGlbc10sZVtpW3NdXSxuW2lbc11dKX07bC5zdXBwb3J0c0Rlc2NyaXB0b3JzPSEhYyx0LmV4cG9ydHM9bH0sIjgyenYiOmZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e0Nzc1NlbGVjdG9yUGFyc2VyOm4oImJ4M3ciKS5Dc3NTZWxlY3RvclBhcnNlcn19LCI4NmJwIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIllzVHoiKSxvPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLGk9T2JqZWN0LmNyZWF0ZSxhPWZ1bmN0aW9uKHQsZSl7dmFyIG47Zm9yKG4gaW4gdCllW25dPXRbbl19O3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1pKG51bGwpO3JldHVybiBvLmNhbGwoYXJndW1lbnRzLChmdW5jdGlvbih0KXtyKHQpJiZhKE9iamVjdCh0KSxlKX0pKSxlfX0sIjg4S1MiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQsZTtpZigiZnVuY3Rpb24iIT09dHlwZW9mIFdlYWtNYXApcmV0dXJuITE7dHJ5e3Q9bmV3IFdlYWtNYXAoW1tlPXt9LCJvbmUiXSxbe30sInR3byJdLFt7fSwidGhyZWUiXV0pfWNhdGNoKG4pe3JldHVybiExfXJldHVybiJbb2JqZWN0IFdlYWtNYXBdIj09PVN0cmluZyh0KSYmKCJmdW5jdGlvbiI9PT10eXBlb2YgdC5zZXQmJih0LnNldCh7fSwxKT09PXQmJigiZnVuY3Rpb24iPT09dHlwZW9mIHQuZGVsZXRlJiYoImZ1bmN0aW9uIj09PXR5cGVvZiB0LmhhcyYmIm9uZSI9PT10LmdldChlKSkpKSl9fSwiOEwzRiI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjsoZnVuY3Rpb24odCl7dmFyIG49InVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93JiYidW5kZWZpbmVkIiE9PXR5cGVvZiBkb2N1bWVudCYmInVuZGVmaW5lZCIhPT10eXBlb2YgbmF2aWdhdG9yLHI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9WyJFZGdlIiwiVHJpZGVudCIsIkZpcmVmb3giXSxlPTA7ZTx0Lmxlbmd0aDtlKz0xKWlmKG4mJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZih0W2VdKT49MClyZXR1cm4gMTtyZXR1cm4gMH0oKTt2YXIgbz1uJiZ3aW5kb3cuUHJvbWlzZT9mdW5jdGlvbih0KXt2YXIgZT0hMTtyZXR1cm4gZnVuY3Rpb24oKXtlfHwoZT0hMCx3aW5kb3cuUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtlPSExLHQoKX0pKSl9fTpmdW5jdGlvbih0KXt2YXIgZT0hMTtyZXR1cm4gZnVuY3Rpb24oKXtlfHwoZT0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2U9ITEsdCgpfSkscikpfX07ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmIltvYmplY3QgRnVuY3Rpb25dIj09PXt9LnRvU3RyaW5nLmNhbGwodCl9ZnVuY3Rpb24gYSh0LGUpe2lmKDEhPT10Lm5vZGVUeXBlKXJldHVybltdO3ZhciBuPXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCk7cmV0dXJuIGU/bltlXTpufWZ1bmN0aW9uIHModCl7cmV0dXJuIkhUTUwiPT09dC5ub2RlTmFtZT90OnQucGFyZW50Tm9kZXx8dC5ob3N0fWZ1bmN0aW9uIGModCl7aWYoIXQpcmV0dXJuIGRvY3VtZW50LmJvZHk7c3dpdGNoKHQubm9kZU5hbWUpe2Nhc2UiSFRNTCI6Y2FzZSJCT0RZIjpyZXR1cm4gdC5vd25lckRvY3VtZW50LmJvZHk7Y2FzZSIjZG9jdW1lbnQiOnJldHVybiB0LmJvZHl9dmFyIGU9YSh0KSxuPWUub3ZlcmZsb3cscj1lLm92ZXJmbG93WCxvPWUub3ZlcmZsb3dZO3JldHVybi8oYXV0b3xzY3JvbGx8b3ZlcmxheSkvLnRlc3QobitvK3IpP3Q6YyhzKHQpKX1mdW5jdGlvbiB1KHQpe3JldHVybiB0JiZ0LnJlZmVyZW5jZU5vZGU/dC5yZWZlcmVuY2VOb2RlOnR9dmFyIGw9biYmISghd2luZG93Lk1TSW5wdXRNZXRob2RDb250ZXh0fHwhZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSxmPW4mJi9NU0lFIDEwLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO2Z1bmN0aW9uIHAodCl7cmV0dXJuIDExPT09dD9sOjEwPT09dD9mOmx8fGZ9ZnVuY3Rpb24gaCh0KXtpZighdClyZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2Zvcih2YXIgZT1wKDEwKT9kb2N1bWVudC5ib2R5Om51bGwsbj10Lm9mZnNldFBhcmVudHx8bnVsbDtuPT09ZSYmdC5uZXh0RWxlbWVudFNpYmxpbmc7KW49KHQ9dC5uZXh0RWxlbWVudFNpYmxpbmcpLm9mZnNldFBhcmVudDt2YXIgcj1uJiZuLm5vZGVOYW1lO3JldHVybiByJiYiQk9EWSIhPT1yJiYiSFRNTCIhPT1yPy0xIT09WyJUSCIsIlREIiwiVEFCTEUiXS5pbmRleE9mKG4ubm9kZU5hbWUpJiYic3RhdGljIj09PWEobiwicG9zaXRpb24iKT9oKG4pOm46dD90Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH1mdW5jdGlvbiBkKHQpe3JldHVybiBudWxsIT09dC5wYXJlbnROb2RlP2QodC5wYXJlbnROb2RlKTp0fWZ1bmN0aW9uIHYodCxlKXtpZighdHx8IXQubm9kZVR5cGV8fCFlfHwhZS5ub2RlVHlwZSlyZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3ZhciBuPXQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSkmTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkcscj1uP3Q6ZSxvPW4/ZTp0LGk9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtpLnNldFN0YXJ0KHIsMCksaS5zZXRFbmQobywwKTt2YXIgYT1pLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO2lmKHQhPT1hJiZlIT09YXx8ci5jb250YWlucyhvKSlyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9dC5ub2RlTmFtZTtyZXR1cm4iQk9EWSIhPT1lJiYoIkhUTUwiPT09ZXx8aCh0LmZpcnN0RWxlbWVudENoaWxkKT09PXQpfShhKT9hOmgoYSk7dmFyIHM9ZCh0KTtyZXR1cm4gcy5ob3N0P3Yocy5ob3N0LGUpOnYodCxkKGUpLmhvc3QpfWZ1bmN0aW9uIHkodCl7dmFyIGU9InRvcCI9PT0oYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOiJ0b3AiKT8ic2Nyb2xsVG9wIjoic2Nyb2xsTGVmdCIsbj10Lm5vZGVOYW1lO2lmKCJCT0RZIj09PW58fCJIVE1MIj09PW4pe3ZhciByPXQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuKHQub3duZXJEb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50fHxyKVtlXX1yZXR1cm4gdFtlXX1mdW5jdGlvbiBtKHQsZSl7dmFyIG49IngiPT09ZT8iTGVmdCI6IlRvcCIscj0iTGVmdCI9PT1uPyJSaWdodCI6IkJvdHRvbSI7cmV0dXJuIHBhcnNlRmxvYXQodFsiYm9yZGVyIituKyJXaWR0aCJdKStwYXJzZUZsb2F0KHRbImJvcmRlciIrcisiV2lkdGgiXSl9ZnVuY3Rpb24gZyh0LGUsbixyKXtyZXR1cm4gTWF0aC5tYXgoZVsib2Zmc2V0Iit0XSxlWyJzY3JvbGwiK3RdLG5bImNsaWVudCIrdF0sblsib2Zmc2V0Iit0XSxuWyJzY3JvbGwiK3RdLHAoMTApP3BhcnNlSW50KG5bIm9mZnNldCIrdF0pK3BhcnNlSW50KHJbIm1hcmdpbiIrKCJIZWlnaHQiPT09dD8iVG9wIjoiTGVmdCIpXSkrcGFyc2VJbnQoclsibWFyZ2luIisoIkhlaWdodCI9PT10PyJCb3R0b20iOiJSaWdodCIpXSk6MCl9ZnVuY3Rpb24gYih0KXt2YXIgZT10LmJvZHksbj10LmRvY3VtZW50RWxlbWVudCxyPXAoMTApJiZnZXRDb21wdXRlZFN0eWxlKG4pO3JldHVybntoZWlnaHQ6ZygiSGVpZ2h0IixlLG4sciksd2lkdGg6ZygiV2lkdGgiLGUsbixyKX19dmFyIHg9ZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX0sdz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxrPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH0sXz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fTtmdW5jdGlvbiBBKHQpe3JldHVybiBfKHt9LHQse3JpZ2h0OnQubGVmdCt0LndpZHRoLGJvdHRvbTp0LnRvcCt0LmhlaWdodH0pfWZ1bmN0aW9uIE8odCl7dmFyIGU9e307dHJ5e2lmKHAoMTApKXtlPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dmFyIG49eSh0LCJ0b3AiKSxyPXkodCwibGVmdCIpO2UudG9wKz1uLGUubGVmdCs9cixlLmJvdHRvbSs9bixlLnJpZ2h0Kz1yfWVsc2UgZT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWNhdGNoKGgpe312YXIgbz17bGVmdDplLmxlZnQsdG9wOmUudG9wLHdpZHRoOmUucmlnaHQtZS5sZWZ0LGhlaWdodDplLmJvdHRvbS1lLnRvcH0saT0iSFRNTCI9PT10Lm5vZGVOYW1lP2IodC5vd25lckRvY3VtZW50KTp7fSxzPWkud2lkdGh8fHQuY2xpZW50V2lkdGh8fG8ud2lkdGgsYz1pLmhlaWdodHx8dC5jbGllbnRIZWlnaHR8fG8uaGVpZ2h0LHU9dC5vZmZzZXRXaWR0aC1zLGw9dC5vZmZzZXRIZWlnaHQtYztpZih1fHxsKXt2YXIgZj1hKHQpO3UtPW0oZiwieCIpLGwtPW0oZiwieSIpLG8ud2lkdGgtPXUsby5oZWlnaHQtPWx9cmV0dXJuIEEobyl9ZnVuY3Rpb24gaih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0scj1wKDEwKSxvPSJIVE1MIj09PWUubm9kZU5hbWUsaT1PKHQpLHM9TyhlKSx1PWModCksbD1hKGUpLGY9cGFyc2VGbG9hdChsLmJvcmRlclRvcFdpZHRoKSxoPXBhcnNlRmxvYXQobC5ib3JkZXJMZWZ0V2lkdGgpO24mJm8mJihzLnRvcD1NYXRoLm1heChzLnRvcCwwKSxzLmxlZnQ9TWF0aC5tYXgocy5sZWZ0LDApKTt2YXIgZD1BKHt0b3A6aS50b3Atcy50b3AtZixsZWZ0OmkubGVmdC1zLmxlZnQtaCx3aWR0aDppLndpZHRoLGhlaWdodDppLmhlaWdodH0pO2lmKGQubWFyZ2luVG9wPTAsZC5tYXJnaW5MZWZ0PTAsIXImJm8pe3ZhciB2PXBhcnNlRmxvYXQobC5tYXJnaW5Ub3ApLG09cGFyc2VGbG9hdChsLm1hcmdpbkxlZnQpO2QudG9wLT1mLXYsZC5ib3R0b20tPWYtdixkLmxlZnQtPWgtbSxkLnJpZ2h0LT1oLW0sZC5tYXJnaW5Ub3A9dixkLm1hcmdpbkxlZnQ9bX1yZXR1cm4ociYmIW4/ZS5jb250YWlucyh1KTplPT09dSYmIkJPRFkiIT09dS5ub2RlTmFtZSkmJihkPWZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxyPXkoZSwidG9wIiksbz15KGUsImxlZnQiKSxpPW4/LTE6MTtyZXR1cm4gdC50b3ArPXIqaSx0LmJvdHRvbSs9cippLHQubGVmdCs9byppLHQucmlnaHQrPW8qaSx0fShkLGUpKSxkfWZ1bmN0aW9uIEUodCl7aWYoIXR8fCF0LnBhcmVudEVsZW1lbnR8fHAoKSlyZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2Zvcih2YXIgZT10LnBhcmVudEVsZW1lbnQ7ZSYmIm5vbmUiPT09YShlLCJ0cmFuc2Zvcm0iKTspZT1lLnBhcmVudEVsZW1lbnQ7cmV0dXJuIGV8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudH1mdW5jdGlvbiBTKHQsZSxuLHIpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0saT17dG9wOjAsbGVmdDowfSxsPW8/RSh0KTp2KHQsdShlKSk7aWYoInZpZXdwb3J0Ij09PXIpaT1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLG49dC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxyPWoodCxuKSxvPU1hdGgubWF4KG4uY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApLGk9TWF0aC5tYXgobi5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHwwKSxhPWU/MDp5KG4pLHM9ZT8wOnkobiwibGVmdCIpO3JldHVybiBBKHt0b3A6YS1yLnRvcCtyLm1hcmdpblRvcCxsZWZ0OnMtci5sZWZ0K3IubWFyZ2luTGVmdCx3aWR0aDpvLGhlaWdodDppfSl9KGwsbyk7ZWxzZXt2YXIgZj12b2lkIDA7InNjcm9sbFBhcmVudCI9PT1yPyJCT0RZIj09PShmPWMocyhlKSkpLm5vZGVOYW1lJiYoZj10Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTpmPSJ3aW5kb3ciPT09cj90Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OnI7dmFyIHA9aihmLGwsbyk7aWYoIkhUTUwiIT09Zi5ub2RlTmFtZXx8ZnVuY3Rpb24gdChlKXt2YXIgbj1lLm5vZGVOYW1lO2lmKCJCT0RZIj09PW58fCJIVE1MIj09PW4pcmV0dXJuITE7aWYoImZpeGVkIj09PWEoZSwicG9zaXRpb24iKSlyZXR1cm4hMDt2YXIgcj1zKGUpO3JldHVybiEhciYmdChyKX0obCkpaT1wO2Vsc2V7dmFyIGg9Yih0Lm93bmVyRG9jdW1lbnQpLGQ9aC5oZWlnaHQsbT1oLndpZHRoO2kudG9wKz1wLnRvcC1wLm1hcmdpblRvcCxpLmJvdHRvbT1kK3AudG9wLGkubGVmdCs9cC5sZWZ0LXAubWFyZ2luTGVmdCxpLnJpZ2h0PW0rcC5sZWZ0fX12YXIgZz0ibnVtYmVyIj09PXR5cGVvZihuPW58fDApO3JldHVybiBpLmxlZnQrPWc/bjpuLmxlZnR8fDAsaS50b3ArPWc/bjpuLnRvcHx8MCxpLnJpZ2h0LT1nP246bi5yaWdodHx8MCxpLmJvdHRvbS09Zz9uOm4uYm90dG9tfHwwLGl9ZnVuY3Rpb24gTih0LGUsbixyLG8pe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdP2FyZ3VtZW50c1s1XTowO2lmKC0xPT09dC5pbmRleE9mKCJhdXRvIikpcmV0dXJuIHQ7dmFyIGE9UyhuLHIsaSxvKSxzPXt0b3A6e3dpZHRoOmEud2lkdGgsaGVpZ2h0OmUudG9wLWEudG9wfSxyaWdodDp7d2lkdGg6YS5yaWdodC1lLnJpZ2h0LGhlaWdodDphLmhlaWdodH0sYm90dG9tOnt3aWR0aDphLndpZHRoLGhlaWdodDphLmJvdHRvbS1lLmJvdHRvbX0sbGVmdDp7d2lkdGg6ZS5sZWZ0LWEubGVmdCxoZWlnaHQ6YS5oZWlnaHR9fSxjPU9iamVjdC5rZXlzKHMpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIF8oe2tleTp0fSxzW3RdLHthcmVhOihlPXNbdF0sZS53aWR0aCplLmhlaWdodCl9KTt2YXIgZX0pKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLmFyZWEtdC5hcmVhfSkpLHU9Yy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3ZhciBlPXQud2lkdGgscj10LmhlaWdodDtyZXR1cm4gZT49bi5jbGllbnRXaWR0aCYmcj49bi5jbGllbnRIZWlnaHR9KSksbD11Lmxlbmd0aD4wP3VbMF0ua2V5OmNbMF0ua2V5LGY9dC5zcGxpdCgiLSIpWzFdO3JldHVybiBsKyhmPyItIitmOiIiKX1mdW5jdGlvbiBQKHQsZSxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106bnVsbDtyZXR1cm4gaihuLHI/RShlKTp2KGUsdShuKSkscil9ZnVuY3Rpb24gQyh0KXt2YXIgZT10Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxuPXBhcnNlRmxvYXQoZS5tYXJnaW5Ub3B8fDApK3BhcnNlRmxvYXQoZS5tYXJnaW5Cb3R0b218fDApLHI9cGFyc2VGbG9hdChlLm1hcmdpbkxlZnR8fDApK3BhcnNlRmxvYXQoZS5tYXJnaW5SaWdodHx8MCk7cmV0dXJue3dpZHRoOnQub2Zmc2V0V2lkdGgrcixoZWlnaHQ6dC5vZmZzZXRIZWlnaHQrbn19ZnVuY3Rpb24gSSh0KXt2YXIgZT17bGVmdDoicmlnaHQiLHJpZ2h0OiJsZWZ0Iixib3R0b206InRvcCIsdG9wOiJib3R0b20ifTtyZXR1cm4gdC5yZXBsYWNlKC9sZWZ0fHJpZ2h0fGJvdHRvbXx0b3AvZywoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KSl9ZnVuY3Rpb24gVCh0LGUsbil7bj1uLnNwbGl0KCItIilbMF07dmFyIHI9Qyh0KSxvPXt3aWR0aDpyLndpZHRoLGhlaWdodDpyLmhlaWdodH0saT0tMSE9PVsicmlnaHQiLCJsZWZ0Il0uaW5kZXhPZihuKSxhPWk/InRvcCI6ImxlZnQiLHM9aT8ibGVmdCI6InRvcCIsYz1pPyJoZWlnaHQiOiJ3aWR0aCIsdT1pPyJ3aWR0aCI6ImhlaWdodCI7cmV0dXJuIG9bYV09ZVthXStlW2NdLzItcltjXS8yLG9bc109bj09PXM/ZVtzXS1yW3VdOmVbSShzKV0sb31mdW5jdGlvbiBNKHQsZSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5maW5kP3QuZmluZChlKTp0LmZpbHRlcihlKVswXX1mdW5jdGlvbiBMKHQsZSxuKXtyZXR1cm4odm9pZCAwPT09bj90OnQuc2xpY2UoMCxmdW5jdGlvbih0LGUsbil7aWYoQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleClyZXR1cm4gdC5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiB0W2VdPT09bn0pKTt2YXIgcj1NKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0W2VdPT09bn0pKTtyZXR1cm4gdC5pbmRleE9mKHIpfSh0LCJuYW1lIixuKSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZnVuY3Rpb24mJmNvbnNvbGUud2FybigiYG1vZGlmaWVyLmZ1bmN0aW9uYCBpcyBkZXByZWNhdGVkLCB1c2UgYG1vZGlmaWVyLmZuYCEiKTt2YXIgbj10LmZ1bmN0aW9ufHx0LmZuO3QuZW5hYmxlZCYmaShuKSYmKGUub2Zmc2V0cy5wb3BwZXI9QShlLm9mZnNldHMucG9wcGVyKSxlLm9mZnNldHMucmVmZXJlbmNlPUEoZS5vZmZzZXRzLnJlZmVyZW5jZSksZT1uKGUsdCkpfSkpLGV9ZnVuY3Rpb24geigpe2lmKCF0aGlzLnN0YXRlLmlzRGVzdHJveWVkKXt2YXIgdD17aW5zdGFuY2U6dGhpcyxzdHlsZXM6e30sYXJyb3dTdHlsZXM6e30sYXR0cmlidXRlczp7fSxmbGlwcGVkOiExLG9mZnNldHM6e319O3Qub2Zmc2V0cy5yZWZlcmVuY2U9UCh0aGlzLnN0YXRlLHRoaXMucG9wcGVyLHRoaXMucmVmZXJlbmNlLHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkKSx0LnBsYWNlbWVudD1OKHRoaXMub3B0aW9ucy5wbGFjZW1lbnQsdC5vZmZzZXRzLnJlZmVyZW5jZSx0aGlzLnBvcHBlcix0aGlzLnJlZmVyZW5jZSx0aGlzLm9wdGlvbnMubW9kaWZpZXJzLmZsaXAuYm91bmRhcmllc0VsZW1lbnQsdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLnBhZGRpbmcpLHQub3JpZ2luYWxQbGFjZW1lbnQ9dC5wbGFjZW1lbnQsdC5wb3NpdGlvbkZpeGVkPXRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkLHQub2Zmc2V0cy5wb3BwZXI9VCh0aGlzLnBvcHBlcix0Lm9mZnNldHMucmVmZXJlbmNlLHQucGxhY2VtZW50KSx0Lm9mZnNldHMucG9wcGVyLnBvc2l0aW9uPXRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkPyJmaXhlZCI6ImFic29sdXRlIix0PUwodGhpcy5tb2RpZmllcnMsdCksdGhpcy5zdGF0ZS5pc0NyZWF0ZWQ/dGhpcy5vcHRpb25zLm9uVXBkYXRlKHQpOih0aGlzLnN0YXRlLmlzQ3JlYXRlZD0hMCx0aGlzLm9wdGlvbnMub25DcmVhdGUodCkpfX1mdW5jdGlvbiBSKHQsZSl7cmV0dXJuIHQuc29tZSgoZnVuY3Rpb24odCl7dmFyIG49dC5uYW1lO3JldHVybiB0LmVuYWJsZWQmJm49PT1lfSkpfWZ1bmN0aW9uIEYodCl7Zm9yKHZhciBlPVshMSwibXMiLCJXZWJraXQiLCJNb3oiLCJPIl0sbj10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSkscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdLGk9bz8iIitvK246dDtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiBkb2N1bWVudC5ib2R5LnN0eWxlW2ldKXJldHVybiBpfXJldHVybiBudWxsfWZ1bmN0aW9uIEQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5pc0Rlc3Ryb3llZD0hMCxSKHRoaXMubW9kaWZpZXJzLCJhcHBseVN0eWxlIikmJih0aGlzLnBvcHBlci5yZW1vdmVBdHRyaWJ1dGUoIngtcGxhY2VtZW50IiksdGhpcy5wb3BwZXIuc3R5bGUucG9zaXRpb249IiIsdGhpcy5wb3BwZXIuc3R5bGUudG9wPSIiLHRoaXMucG9wcGVyLnN0eWxlLmxlZnQ9IiIsdGhpcy5wb3BwZXIuc3R5bGUucmlnaHQ9IiIsdGhpcy5wb3BwZXIuc3R5bGUuYm90dG9tPSIiLHRoaXMucG9wcGVyLnN0eWxlLndpbGxDaGFuZ2U9IiIsdGhpcy5wb3BwZXIuc3R5bGVbRigidHJhbnNmb3JtIildPSIiKSx0aGlzLmRpc2FibGVFdmVudExpc3RlbmVycygpLHRoaXMub3B0aW9ucy5yZW1vdmVPbkRlc3Ryb3kmJnRoaXMucG9wcGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wb3BwZXIpLHRoaXN9ZnVuY3Rpb24gQih0KXt2YXIgZT10Lm93bmVyRG9jdW1lbnQ7cmV0dXJuIGU/ZS5kZWZhdWx0Vmlldzp3aW5kb3d9ZnVuY3Rpb24gVSh0LGUsbixyKXtuLnVwZGF0ZUJvdW5kPXIsQih0KS5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLG4udXBkYXRlQm91bmQse3Bhc3NpdmU6ITB9KTt2YXIgbz1jKHQpO3JldHVybiBmdW5jdGlvbiB0KGUsbixyLG8pe3ZhciBpPSJCT0RZIj09PWUubm9kZU5hbWUsYT1pP2Uub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldzplO2EuYWRkRXZlbnRMaXN0ZW5lcihuLHIse3Bhc3NpdmU6ITB9KSxpfHx0KGMoYS5wYXJlbnROb2RlKSxuLHIsbyksby5wdXNoKGEpfShvLCJzY3JvbGwiLG4udXBkYXRlQm91bmQsbi5zY3JvbGxQYXJlbnRzKSxuLnNjcm9sbEVsZW1lbnQ9byxuLmV2ZW50c0VuYWJsZWQ9ITAsbn1mdW5jdGlvbiBxKCl7dGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkfHwodGhpcy5zdGF0ZT1VKHRoaXMucmVmZXJlbmNlLHRoaXMub3B0aW9ucyx0aGlzLnN0YXRlLHRoaXMuc2NoZWR1bGVVcGRhdGUpKX1mdW5jdGlvbiBIKCl7dmFyIHQsZTt0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQmJihjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnNjaGVkdWxlVXBkYXRlKSx0aGlzLnN0YXRlPSh0PXRoaXMucmVmZXJlbmNlLGU9dGhpcy5zdGF0ZSxCKHQpLnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsZS51cGRhdGVCb3VuZCksZS5zY3JvbGxQYXJlbnRzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIixlLnVwZGF0ZUJvdW5kKX0pKSxlLnVwZGF0ZUJvdW5kPW51bGwsZS5zY3JvbGxQYXJlbnRzPVtdLGUuc2Nyb2xsRWxlbWVudD1udWxsLGUuZXZlbnRzRW5hYmxlZD0hMSxlKSl9ZnVuY3Rpb24gVyh0KXtyZXR1cm4iIiE9PXQmJiFpc05hTihwYXJzZUZsb2F0KHQpKSYmaXNGaW5pdGUodCl9ZnVuY3Rpb24gWSh0LGUpe09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByPSIiOy0xIT09WyJ3aWR0aCIsImhlaWdodCIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCJdLmluZGV4T2YobikmJlcoZVtuXSkmJihyPSJweCIpLHQuc3R5bGVbbl09ZVtuXStyfSkpfXZhciBaPW4mJi9GaXJlZm94L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtmdW5jdGlvbiBYKHQsZSxuKXt2YXIgcj1NKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lfSkpLG89ISFyJiZ0LnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1uJiZ0LmVuYWJsZWQmJnQub3JkZXI8ci5vcmRlcn0pKTtpZighbyl7dmFyIGk9ImAiK2UrImAiLGE9ImAiK24rImAiO2NvbnNvbGUud2FybihhKyIgbW9kaWZpZXIgaXMgcmVxdWlyZWQgYnkgIitpKyIgbW9kaWZpZXIgaW4gb3JkZXIgdG8gd29yaywgYmUgc3VyZSB0byBpbmNsdWRlIGl0IGJlZm9yZSAiK2krIiEiKX1yZXR1cm4gb312YXIgJD1bImF1dG8tc3RhcnQiLCJhdXRvIiwiYXV0by1lbmQiLCJ0b3Atc3RhcnQiLCJ0b3AiLCJ0b3AtZW5kIiwicmlnaHQtc3RhcnQiLCJyaWdodCIsInJpZ2h0LWVuZCIsImJvdHRvbS1lbmQiLCJib3R0b20iLCJib3R0b20tc3RhcnQiLCJsZWZ0LWVuZCIsImxlZnQiLCJsZWZ0LXN0YXJ0Il0sVj0kLnNsaWNlKDMpO2Z1bmN0aW9uIEoodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxuPVYuaW5kZXhPZih0KSxyPVYuc2xpY2UobisxKS5jb25jYXQoVi5zbGljZSgwLG4pKTtyZXR1cm4gZT9yLnJldmVyc2UoKTpyfXZhciBLPXtGTElQOiJmbGlwIixDTE9DS1dJU0U6ImNsb2Nrd2lzZSIsQ09VTlRFUkNMT0NLV0lTRToiY291bnRlcmNsb2Nrd2lzZSJ9O2Z1bmN0aW9uIEcodCxlLG4scil7dmFyIG89WzAsMF0saT0tMSE9PVsicmlnaHQiLCJsZWZ0Il0uaW5kZXhPZihyKSxhPXQuc3BsaXQoLyhcK3xcLSkvKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyaW0oKX0pKSxzPWEuaW5kZXhPZihNKGEsKGZ1bmN0aW9uKHQpe3JldHVybi0xIT09dC5zZWFyY2goLyx8XHMvKX0pKSk7YVtzXSYmLTE9PT1hW3NdLmluZGV4T2YoIiwiKSYmY29uc29sZS53YXJuKCJPZmZzZXRzIHNlcGFyYXRlZCBieSB3aGl0ZSBzcGFjZShzKSBhcmUgZGVwcmVjYXRlZCwgdXNlIGEgY29tbWEgKCwpIGluc3RlYWQuIik7dmFyIGM9L1xzKixccyp8XHMrLyx1PS0xIT09cz9bYS5zbGljZSgwLHMpLmNvbmNhdChbYVtzXS5zcGxpdChjKVswXV0pLFthW3NdLnNwbGl0KGMpWzFdXS5jb25jYXQoYS5zbGljZShzKzEpKV06W2FdO3JldHVybih1PXUubWFwKChmdW5jdGlvbih0LHIpe3ZhciBvPSgxPT09cj8haTppKT8iaGVpZ2h0Ijoid2lkdGgiLGE9ITE7cmV0dXJuIHQucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiIiPT09dFt0Lmxlbmd0aC0xXSYmLTEhPT1bIisiLCItIl0uaW5kZXhPZihlKT8odFt0Lmxlbmd0aC0xXT1lLGE9ITAsdCk6YT8odFt0Lmxlbmd0aC0xXSs9ZSxhPSExLHQpOnQuY29uY2F0KGUpfSksW10pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQubWF0Y2goLygoPzpcLXxcKyk/XGQqXC4/XGQqKSguKikvKSxpPStvWzFdLGE9b1syXTtpZighaSlyZXR1cm4gdDtpZigwPT09YS5pbmRleE9mKCIlIikpe3ZhciBzPXZvaWQgMDtzd2l0Y2goYSl7Y2FzZSIlcCI6cz1uO2JyZWFrO2Nhc2UiJSI6Y2FzZSIlciI6ZGVmYXVsdDpzPXJ9cmV0dXJuIEEocylbZV0vMTAwKml9aWYoInZoIj09PWF8fCJ2dyI9PT1hKXtyZXR1cm4oInZoIj09PWE/TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApOk1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCkpLzEwMCppfXJldHVybiBpfSh0LG8sZSxuKX0pKX0pKSkuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXt0LmZvckVhY2goKGZ1bmN0aW9uKG4scil7VyhuKSYmKG9bZV0rPW4qKCItIj09PXRbci0xXT8tMToxKSl9KSl9KSksb312YXIgUT17cGxhY2VtZW50OiJib3R0b20iLHBvc2l0aW9uRml4ZWQ6ITEsZXZlbnRzRW5hYmxlZDohMCxyZW1vdmVPbkRlc3Ryb3k6ITEsb25DcmVhdGU6ZnVuY3Rpb24oKXt9LG9uVXBkYXRlOmZ1bmN0aW9uKCl7fSxtb2RpZmllcnM6e3NoaWZ0OntvcmRlcjoxMDAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbih0KXt2YXIgZT10LnBsYWNlbWVudCxuPWUuc3BsaXQoIi0iKVswXSxyPWUuc3BsaXQoIi0iKVsxXTtpZihyKXt2YXIgbz10Lm9mZnNldHMsaT1vLnJlZmVyZW5jZSxhPW8ucG9wcGVyLHM9LTEhPT1bImJvdHRvbSIsInRvcCJdLmluZGV4T2YobiksYz1zPyJsZWZ0IjoidG9wIix1PXM/IndpZHRoIjoiaGVpZ2h0IixsPXtzdGFydDprKHt9LGMsaVtjXSksZW5kOmsoe30sYyxpW2NdK2lbdV0tYVt1XSl9O3Qub2Zmc2V0cy5wb3BwZXI9Xyh7fSxhLGxbcl0pfXJldHVybiB0fX0sb2Zmc2V0OntvcmRlcjoyMDAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbih0LGUpe3ZhciBuPWUub2Zmc2V0LHI9dC5wbGFjZW1lbnQsbz10Lm9mZnNldHMsaT1vLnBvcHBlcixhPW8ucmVmZXJlbmNlLHM9ci5zcGxpdCgiLSIpWzBdLGM9dm9pZCAwO3JldHVybiBjPVcoK24pP1srbiwwXTpHKG4saSxhLHMpLCJsZWZ0Ij09PXM/KGkudG9wKz1jWzBdLGkubGVmdC09Y1sxXSk6InJpZ2h0Ij09PXM/KGkudG9wKz1jWzBdLGkubGVmdCs9Y1sxXSk6InRvcCI9PT1zPyhpLmxlZnQrPWNbMF0saS50b3AtPWNbMV0pOiJib3R0b20iPT09cyYmKGkubGVmdCs9Y1swXSxpLnRvcCs9Y1sxXSksdC5wb3BwZXI9aSx0fSxvZmZzZXQ6MH0scHJldmVudE92ZXJmbG93OntvcmRlcjozMDAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbih0LGUpe3ZhciBuPWUuYm91bmRhcmllc0VsZW1lbnR8fGgodC5pbnN0YW5jZS5wb3BwZXIpO3QuaW5zdGFuY2UucmVmZXJlbmNlPT09biYmKG49aChuKSk7dmFyIHI9RigidHJhbnNmb3JtIiksbz10Lmluc3RhbmNlLnBvcHBlci5zdHlsZSxpPW8udG9wLGE9by5sZWZ0LHM9b1tyXTtvLnRvcD0iIixvLmxlZnQ9IiIsb1tyXT0iIjt2YXIgYz1TKHQuaW5zdGFuY2UucG9wcGVyLHQuaW5zdGFuY2UucmVmZXJlbmNlLGUucGFkZGluZyxuLHQucG9zaXRpb25GaXhlZCk7by50b3A9aSxvLmxlZnQ9YSxvW3JdPXMsZS5ib3VuZGFyaWVzPWM7dmFyIHU9ZS5wcmlvcml0eSxsPXQub2Zmc2V0cy5wb3BwZXIsZj17cHJpbWFyeTpmdW5jdGlvbih0KXt2YXIgbj1sW3RdO3JldHVybiBsW3RdPGNbdF0mJiFlLmVzY2FwZVdpdGhSZWZlcmVuY2UmJihuPU1hdGgubWF4KGxbdF0sY1t0XSkpLGsoe30sdCxuKX0sc2Vjb25kYXJ5OmZ1bmN0aW9uKHQpe3ZhciBuPSJyaWdodCI9PT10PyJsZWZ0IjoidG9wIixyPWxbbl07cmV0dXJuIGxbdF0+Y1t0XSYmIWUuZXNjYXBlV2l0aFJlZmVyZW5jZSYmKHI9TWF0aC5taW4obFtuXSxjW3RdLSgicmlnaHQiPT09dD9sLndpZHRoOmwuaGVpZ2h0KSkpLGsoe30sbixyKX19O3JldHVybiB1LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPS0xIT09WyJsZWZ0IiwidG9wIl0uaW5kZXhPZih0KT8icHJpbWFyeSI6InNlY29uZGFyeSI7bD1fKHt9LGwsZltlXSh0KSl9KSksdC5vZmZzZXRzLnBvcHBlcj1sLHR9LHByaW9yaXR5OlsibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIl0scGFkZGluZzo1LGJvdW5kYXJpZXNFbGVtZW50OiJzY3JvbGxQYXJlbnQifSxrZWVwVG9nZXRoZXI6e29yZGVyOjQwMCxlbmFibGVkOiEwLGZuOmZ1bmN0aW9uKHQpe3ZhciBlPXQub2Zmc2V0cyxuPWUucG9wcGVyLHI9ZS5yZWZlcmVuY2Usbz10LnBsYWNlbWVudC5zcGxpdCgiLSIpWzBdLGk9TWF0aC5mbG9vcixhPS0xIT09WyJ0b3AiLCJib3R0b20iXS5pbmRleE9mKG8pLHM9YT8icmlnaHQiOiJib3R0b20iLGM9YT8ibGVmdCI6InRvcCIsdT1hPyJ3aWR0aCI6ImhlaWdodCI7cmV0dXJuIG5bc108aShyW2NdKSYmKHQub2Zmc2V0cy5wb3BwZXJbY109aShyW2NdKS1uW3VdKSxuW2NdPmkocltzXSkmJih0Lm9mZnNldHMucG9wcGVyW2NdPWkocltzXSkpLHR9fSxhcnJvdzp7b3JkZXI6NTAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24odCxlKXt2YXIgbjtpZighWCh0Lmluc3RhbmNlLm1vZGlmaWVycywiYXJyb3ciLCJrZWVwVG9nZXRoZXIiKSlyZXR1cm4gdDt2YXIgcj1lLmVsZW1lbnQ7aWYoInN0cmluZyI9PT10eXBlb2Ygcil7aWYoIShyPXQuaW5zdGFuY2UucG9wcGVyLnF1ZXJ5U2VsZWN0b3IocikpKXJldHVybiB0fWVsc2UgaWYoIXQuaW5zdGFuY2UucG9wcGVyLmNvbnRhaW5zKHIpKXJldHVybiBjb25zb2xlLndhcm4oIldBUk5JTkc6IGBhcnJvdy5lbGVtZW50YCBtdXN0IGJlIGNoaWxkIG9mIGl0cyBwb3BwZXIgZWxlbWVudCEiKSx0O3ZhciBvPXQucGxhY2VtZW50LnNwbGl0KCItIilbMF0saT10Lm9mZnNldHMscz1pLnBvcHBlcixjPWkucmVmZXJlbmNlLHU9LTEhPT1bImxlZnQiLCJyaWdodCJdLmluZGV4T2YobyksbD11PyJoZWlnaHQiOiJ3aWR0aCIsZj11PyJUb3AiOiJMZWZ0IixwPWYudG9Mb3dlckNhc2UoKSxoPXU/ImxlZnQiOiJ0b3AiLGQ9dT8iYm90dG9tIjoicmlnaHQiLHY9QyhyKVtsXTtjW2RdLXY8c1twXSYmKHQub2Zmc2V0cy5wb3BwZXJbcF0tPXNbcF0tKGNbZF0tdikpLGNbcF0rdj5zW2RdJiYodC5vZmZzZXRzLnBvcHBlcltwXSs9Y1twXSt2LXNbZF0pLHQub2Zmc2V0cy5wb3BwZXI9QSh0Lm9mZnNldHMucG9wcGVyKTt2YXIgeT1jW3BdK2NbbF0vMi12LzIsbT1hKHQuaW5zdGFuY2UucG9wcGVyKSxnPXBhcnNlRmxvYXQobVsibWFyZ2luIitmXSksYj1wYXJzZUZsb2F0KG1bImJvcmRlciIrZisiV2lkdGgiXSkseD15LXQub2Zmc2V0cy5wb3BwZXJbcF0tZy1iO3JldHVybiB4PU1hdGgubWF4KE1hdGgubWluKHNbbF0tdix4KSwwKSx0LmFycm93RWxlbWVudD1yLHQub2Zmc2V0cy5hcnJvdz0oayhuPXt9LHAsTWF0aC5yb3VuZCh4KSksayhuLGgsIiIpLG4pLHR9LGVsZW1lbnQ6Ilt4LWFycm93XSJ9LGZsaXA6e29yZGVyOjYwMCxlbmFibGVkOiEwLGZuOmZ1bmN0aW9uKHQsZSl7aWYoUih0Lmluc3RhbmNlLm1vZGlmaWVycywiaW5uZXIiKSlyZXR1cm4gdDtpZih0LmZsaXBwZWQmJnQucGxhY2VtZW50PT09dC5vcmlnaW5hbFBsYWNlbWVudClyZXR1cm4gdDt2YXIgbj1TKHQuaW5zdGFuY2UucG9wcGVyLHQuaW5zdGFuY2UucmVmZXJlbmNlLGUucGFkZGluZyxlLmJvdW5kYXJpZXNFbGVtZW50LHQucG9zaXRpb25GaXhlZCkscj10LnBsYWNlbWVudC5zcGxpdCgiLSIpWzBdLG89SShyKSxpPXQucGxhY2VtZW50LnNwbGl0KCItIilbMV18fCIiLGE9W107c3dpdGNoKGUuYmVoYXZpb3Ipe2Nhc2UgSy5GTElQOmE9W3Isb107YnJlYWs7Y2FzZSBLLkNMT0NLV0lTRTphPUoocik7YnJlYWs7Y2FzZSBLLkNPVU5URVJDTE9DS1dJU0U6YT1KKHIsITApO2JyZWFrO2RlZmF1bHQ6YT1lLmJlaGF2aW9yfXJldHVybiBhLmZvckVhY2goKGZ1bmN0aW9uKHMsYyl7aWYociE9PXN8fGEubGVuZ3RoPT09YysxKXJldHVybiB0O3I9dC5wbGFjZW1lbnQuc3BsaXQoIi0iKVswXSxvPUkocik7dmFyIHU9dC5vZmZzZXRzLnBvcHBlcixsPXQub2Zmc2V0cy5yZWZlcmVuY2UsZj1NYXRoLmZsb29yLHA9ImxlZnQiPT09ciYmZih1LnJpZ2h0KT5mKGwubGVmdCl8fCJyaWdodCI9PT1yJiZmKHUubGVmdCk8ZihsLnJpZ2h0KXx8InRvcCI9PT1yJiZmKHUuYm90dG9tKT5mKGwudG9wKXx8ImJvdHRvbSI9PT1yJiZmKHUudG9wKTxmKGwuYm90dG9tKSxoPWYodS5sZWZ0KTxmKG4ubGVmdCksZD1mKHUucmlnaHQpPmYobi5yaWdodCksdj1mKHUudG9wKTxmKG4udG9wKSx5PWYodS5ib3R0b20pPmYobi5ib3R0b20pLG09ImxlZnQiPT09ciYmaHx8InJpZ2h0Ij09PXImJmR8fCJ0b3AiPT09ciYmdnx8ImJvdHRvbSI9PT1yJiZ5LGc9LTEhPT1bInRvcCIsImJvdHRvbSJdLmluZGV4T2YociksYj0hIWUuZmxpcFZhcmlhdGlvbnMmJihnJiYic3RhcnQiPT09aSYmaHx8ZyYmImVuZCI9PT1pJiZkfHwhZyYmInN0YXJ0Ij09PWkmJnZ8fCFnJiYiZW5kIj09PWkmJnkpLHg9ISFlLmZsaXBWYXJpYXRpb25zQnlDb250ZW50JiYoZyYmInN0YXJ0Ij09PWkmJmR8fGcmJiJlbmQiPT09aSYmaHx8IWcmJiJzdGFydCI9PT1pJiZ5fHwhZyYmImVuZCI9PT1pJiZ2KSx3PWJ8fHg7KHB8fG18fHcpJiYodC5mbGlwcGVkPSEwLChwfHxtKSYmKHI9YVtjKzFdKSx3JiYoaT1mdW5jdGlvbih0KXtyZXR1cm4iZW5kIj09PXQ/InN0YXJ0Ijoic3RhcnQiPT09dD8iZW5kIjp0fShpKSksdC5wbGFjZW1lbnQ9cisoaT8iLSIraToiIiksdC5vZmZzZXRzLnBvcHBlcj1fKHt9LHQub2Zmc2V0cy5wb3BwZXIsVCh0Lmluc3RhbmNlLnBvcHBlcix0Lm9mZnNldHMucmVmZXJlbmNlLHQucGxhY2VtZW50KSksdD1MKHQuaW5zdGFuY2UubW9kaWZpZXJzLHQsImZsaXAiKSl9KSksdH0sYmVoYXZpb3I6ImZsaXAiLHBhZGRpbmc6NSxib3VuZGFyaWVzRWxlbWVudDoidmlld3BvcnQiLGZsaXBWYXJpYXRpb25zOiExLGZsaXBWYXJpYXRpb25zQnlDb250ZW50OiExfSxpbm5lcjp7b3JkZXI6NzAwLGVuYWJsZWQ6ITEsZm46ZnVuY3Rpb24odCl7dmFyIGU9dC5wbGFjZW1lbnQsbj1lLnNwbGl0KCItIilbMF0scj10Lm9mZnNldHMsbz1yLnBvcHBlcixpPXIucmVmZXJlbmNlLGE9LTEhPT1bImxlZnQiLCJyaWdodCJdLmluZGV4T2Yobikscz0tMT09PVsidG9wIiwibGVmdCJdLmluZGV4T2Yobik7cmV0dXJuIG9bYT8ibGVmdCI6InRvcCJdPWlbbl0tKHM/b1thPyJ3aWR0aCI6ImhlaWdodCJdOjApLHQucGxhY2VtZW50PUkoZSksdC5vZmZzZXRzLnBvcHBlcj1BKG8pLHR9fSxoaWRlOntvcmRlcjo4MDAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbih0KXtpZighWCh0Lmluc3RhbmNlLm1vZGlmaWVycywiaGlkZSIsInByZXZlbnRPdmVyZmxvdyIpKXJldHVybiB0O3ZhciBlPXQub2Zmc2V0cy5yZWZlcmVuY2Usbj1NKHQuaW5zdGFuY2UubW9kaWZpZXJzLChmdW5jdGlvbih0KXtyZXR1cm4icHJldmVudE92ZXJmbG93Ij09PXQubmFtZX0pKS5ib3VuZGFyaWVzO2lmKGUuYm90dG9tPG4udG9wfHxlLmxlZnQ+bi5yaWdodHx8ZS50b3A+bi5ib3R0b218fGUucmlnaHQ8bi5sZWZ0KXtpZighMD09PXQuaGlkZSlyZXR1cm4gdDt0LmhpZGU9ITAsdC5hdHRyaWJ1dGVzWyJ4LW91dC1vZi1ib3VuZGFyaWVzIl09IiJ9ZWxzZXtpZighMT09PXQuaGlkZSlyZXR1cm4gdDt0LmhpZGU9ITEsdC5hdHRyaWJ1dGVzWyJ4LW91dC1vZi1ib3VuZGFyaWVzIl09ITF9cmV0dXJuIHR9fSxjb21wdXRlU3R5bGU6e29yZGVyOjg1MCxlbmFibGVkOiEwLGZuOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS54LHI9ZS55LG89dC5vZmZzZXRzLnBvcHBlcixpPU0odC5pbnN0YW5jZS5tb2RpZmllcnMsKGZ1bmN0aW9uKHQpe3JldHVybiJhcHBseVN0eWxlIj09PXQubmFtZX0pKS5ncHVBY2NlbGVyYXRpb247dm9pZCAwIT09aSYmY29uc29sZS53YXJuKCJXQVJOSU5HOiBgZ3B1QWNjZWxlcmF0aW9uYCBvcHRpb24gbW92ZWQgdG8gYGNvbXB1dGVTdHlsZWAgbW9kaWZpZXIgYW5kIHdpbGwgbm90IGJlIHN1cHBvcnRlZCBpbiBmdXR1cmUgdmVyc2lvbnMgb2YgUG9wcGVyLmpzISIpO3ZhciBhPXZvaWQgMCE9PWk/aTplLmdwdUFjY2VsZXJhdGlvbixzPWgodC5pbnN0YW5jZS5wb3BwZXIpLGM9TyhzKSx1PXtwb3NpdGlvbjpvLnBvc2l0aW9ufSxsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5vZmZzZXRzLHI9bi5wb3BwZXIsbz1uLnJlZmVyZW5jZSxpPU1hdGgucm91bmQsYT1NYXRoLmZsb29yLHM9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGM9aShvLndpZHRoKSx1PWkoci53aWR0aCksbD0tMSE9PVsibGVmdCIsInJpZ2h0Il0uaW5kZXhPZih0LnBsYWNlbWVudCksZj0tMSE9PXQucGxhY2VtZW50LmluZGV4T2YoIi0iKSxwPWU/bHx8Znx8YyUyPT09dSUyP2k6YTpzLGg9ZT9pOnM7cmV0dXJue2xlZnQ6cChjJTI9PT0xJiZ1JTI9PT0xJiYhZiYmZT9yLmxlZnQtMTpyLmxlZnQpLHRvcDpoKHIudG9wKSxib3R0b206aChyLmJvdHRvbSkscmlnaHQ6cChyLnJpZ2h0KX19KHQsd2luZG93LmRldmljZVBpeGVsUmF0aW88Mnx8IVopLGY9ImJvdHRvbSI9PT1uPyJ0b3AiOiJib3R0b20iLHA9InJpZ2h0Ij09PXI/ImxlZnQiOiJyaWdodCIsZD1GKCJ0cmFuc2Zvcm0iKSx2PXZvaWQgMCx5PXZvaWQgMDtpZih5PSJib3R0b20iPT09Zj8iSFRNTCI9PT1zLm5vZGVOYW1lPy1zLmNsaWVudEhlaWdodCtsLmJvdHRvbTotYy5oZWlnaHQrbC5ib3R0b206bC50b3Asdj0icmlnaHQiPT09cD8iSFRNTCI9PT1zLm5vZGVOYW1lPy1zLmNsaWVudFdpZHRoK2wucmlnaHQ6LWMud2lkdGgrbC5yaWdodDpsLmxlZnQsYSYmZCl1W2RdPSJ0cmFuc2xhdGUzZCgiK3YrInB4LCAiK3krInB4LCAwKSIsdVtmXT0wLHVbcF09MCx1LndpbGxDaGFuZ2U9InRyYW5zZm9ybSI7ZWxzZXt2YXIgbT0iYm90dG9tIj09PWY/LTE6MSxnPSJyaWdodCI9PT1wPy0xOjE7dVtmXT15Km0sdVtwXT12KmcsdS53aWxsQ2hhbmdlPWYrIiwgIitwfXZhciBiPXsieC1wbGFjZW1lbnQiOnQucGxhY2VtZW50fTtyZXR1cm4gdC5hdHRyaWJ1dGVzPV8oe30sYix0LmF0dHJpYnV0ZXMpLHQuc3R5bGVzPV8oe30sdSx0LnN0eWxlcyksdC5hcnJvd1N0eWxlcz1fKHt9LHQub2Zmc2V0cy5hcnJvdyx0LmFycm93U3R5bGVzKSx0fSxncHVBY2NlbGVyYXRpb246ITAseDoiYm90dG9tIix5OiJyaWdodCJ9LGFwcGx5U3R5bGU6e29yZGVyOjkwMCxlbmFibGVkOiEwLGZuOmZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIFkodC5pbnN0YW5jZS5wb3BwZXIsdC5zdHlsZXMpLGU9dC5pbnN0YW5jZS5wb3BwZXIsbj10LmF0dHJpYnV0ZXMsT2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24odCl7ITEhPT1uW3RdP2Uuc2V0QXR0cmlidXRlKHQsblt0XSk6ZS5yZW1vdmVBdHRyaWJ1dGUodCl9KSksdC5hcnJvd0VsZW1lbnQmJk9iamVjdC5rZXlzKHQuYXJyb3dTdHlsZXMpLmxlbmd0aCYmWSh0LmFycm93RWxlbWVudCx0LmFycm93U3R5bGVzKSx0fSxvbkxvYWQ6ZnVuY3Rpb24odCxlLG4scixvKXt2YXIgaT1QKG8sZSx0LG4ucG9zaXRpb25GaXhlZCksYT1OKG4ucGxhY2VtZW50LGksZSx0LG4ubW9kaWZpZXJzLmZsaXAuYm91bmRhcmllc0VsZW1lbnQsbi5tb2RpZmllcnMuZmxpcC5wYWRkaW5nKTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoIngtcGxhY2VtZW50IixhKSxZKGUse3Bvc2l0aW9uOm4ucG9zaXRpb25GaXhlZD8iZml4ZWQiOiJhYnNvbHV0ZSJ9KSxufSxncHVBY2NlbGVyYXRpb246dm9pZCAwfX19LHR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3ZhciByPXRoaXMsYT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307eCh0aGlzLHQpLHRoaXMuc2NoZWR1bGVVcGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHIudXBkYXRlKX0sdGhpcy51cGRhdGU9byh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKSx0aGlzLm9wdGlvbnM9Xyh7fSx0LkRlZmF1bHRzLGEpLHRoaXMuc3RhdGU9e2lzRGVzdHJveWVkOiExLGlzQ3JlYXRlZDohMSxzY3JvbGxQYXJlbnRzOltdfSx0aGlzLnJlZmVyZW5jZT1lJiZlLmpxdWVyeT9lWzBdOmUsdGhpcy5wb3BwZXI9biYmbi5qcXVlcnk/blswXTpuLHRoaXMub3B0aW9ucy5tb2RpZmllcnM9e30sT2JqZWN0LmtleXMoXyh7fSx0LkRlZmF1bHRzLm1vZGlmaWVycyxhLm1vZGlmaWVycykpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3Iub3B0aW9ucy5tb2RpZmllcnNbZV09Xyh7fSx0LkRlZmF1bHRzLm1vZGlmaWVyc1tlXXx8e30sYS5tb2RpZmllcnM/YS5tb2RpZmllcnNbZV06e30pfSkpLHRoaXMubW9kaWZpZXJzPU9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5tb2RpZmllcnMpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIF8oe25hbWU6dH0sci5vcHRpb25zLm1vZGlmaWVyc1t0XSl9KSkuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5vcmRlci1lLm9yZGVyfSkpLHRoaXMubW9kaWZpZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZW5hYmxlZCYmaSh0Lm9uTG9hZCkmJnQub25Mb2FkKHIucmVmZXJlbmNlLHIucG9wcGVyLHIub3B0aW9ucyx0LHIuc3RhdGUpfSkpLHRoaXMudXBkYXRlKCk7dmFyIHM9dGhpcy5vcHRpb25zLmV2ZW50c0VuYWJsZWQ7cyYmdGhpcy5lbmFibGVFdmVudExpc3RlbmVycygpLHRoaXMuc3RhdGUuZXZlbnRzRW5hYmxlZD1zfXJldHVybiB3KHQsW3trZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gei5jYWxsKHRoaXMpfX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gRC5jYWxsKHRoaXMpfX0se2tleToiZW5hYmxlRXZlbnRMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHEuY2FsbCh0aGlzKX19LHtrZXk6ImRpc2FibGVFdmVudExpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gSC5jYWxsKHRoaXMpfX1dKSx0fSgpO3R0LlV0aWxzPSgidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3c/d2luZG93OnQpLlBvcHBlclV0aWxzLHR0LnBsYWNlbWVudHM9JCx0dC5EZWZhdWx0cz1RLGUuYT10dH0pLmNhbGwodGhpcyxuKCJ5THBqIikpfSwiOFNydSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLG89ci5jYWxsKCIiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PT10eXBlb2YgdHx8dCYmIm9iamVjdCI9PT10eXBlb2YgdCYmKHQgaW5zdGFuY2VvZiBTdHJpbmd8fHIuY2FsbCh0KT09PW8pfHwhMX19LCI4dEJNIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJih0LnZhbHVlfHx0LmFsdHx8dC50aXRsZXx8ImNoaWxkcmVuImluIHQmJm8odC5jaGlsZHJlbil8fCJsZW5ndGgiaW4gdCYmbyh0KSl8fCIifWZ1bmN0aW9uIG8odCl7Zm9yKHZhciBlPVtdLG49dC5sZW5ndGgsbz0tMTsrK288bjspZVtvXT1yKHRbb10pO3JldHVybiBlLmpvaW4oIiIpfXQuZXhwb3J0cz1yfSwiOUhSTCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9InN0cmluZyI9PT10eXBlb2YgdD90LmNoYXJDb2RlQXQoMCk6dDtyZXR1cm4gZT49NDgmJmU8PTU3fX0sIjlKa2ciOmZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigib2grZyIpfSwiOU13bSI6ZnVuY3Rpb24odCxlKXt2YXIgbj1mdW5jdGlvbigpe2lmKCJvYmplY3QiPT09dHlwZW9mIHNlbGYmJnNlbGYpcmV0dXJuIHNlbGY7aWYoIm9iamVjdCI9PT10eXBlb2Ygd2luZG93JiZ3aW5kb3cpcmV0dXJuIHdpbmRvdzt0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byByZXNvbHZlIGdsb2JhbCBgdGhpc2AiKX07dC5leHBvcnRzPWZ1bmN0aW9uKCl7aWYodGhpcylyZXR1cm4gdGhpczt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdC5wcm90b3R5cGUsIl9fZ2xvYmFsX18iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sY29uZmlndXJhYmxlOiEwfSl9Y2F0Y2godCl7cmV0dXJuIG4oKX10cnl7cmV0dXJuIF9fZ2xvYmFsX198fG4oKX1maW5hbGx5e2RlbGV0ZSBPYmplY3QucHJvdG90eXBlLl9fZ2xvYmFsX199fSgpfSwiOVFoNCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJrMnFNIiksbz1uKCJGNU1jIiksaT1uKCJJREVmIiksYT1uKCI4NmJwIikscz1uKCIrWE1WIik7KHQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLG8sYyx1LGw7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mnx8InN0cmluZyIhPT10eXBlb2YgdD8odT1lLGU9dCx0PW51bGwpOnU9YXJndW1lbnRzWzJdLHIodCk/KG49cy5jYWxsKHQsImMiKSxvPXMuY2FsbCh0LCJlIiksYz1zLmNhbGwodCwidyIpKToobj1jPSEwLG89ITEpLGw9e3ZhbHVlOmUsY29uZmlndXJhYmxlOm4sZW51bWVyYWJsZTpvLHdyaXRhYmxlOmN9LHU/aShhKHUpLGwpOmx9KS5ncz1mdW5jdGlvbih0LGUsbil7dmFyIGMsdSxsLGY7cmV0dXJuInN0cmluZyIhPT10eXBlb2YgdD8obD1uLG49ZSxlPXQsdD1udWxsKTpsPWFyZ3VtZW50c1szXSxyKGUpP28oZSk/cihuKT9vKG4pfHwobD1uLG49dm9pZCAwKTpuPXZvaWQgMDoobD1lLGU9bj12b2lkIDApOmU9dm9pZCAwLHIodCk/KGM9cy5jYWxsKHQsImMiKSx1PXMuY2FsbCh0LCJlIikpOihjPSEwLHU9ITEpLGY9e2dldDplLHNldDpuLGNvbmZpZ3VyYWJsZTpjLGVudW1lcmFibGU6dX0sbD9pKGEobCksZik6Zn19LCI5VXd2IjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1uKCJodkN3IikoKT9PYmplY3QuYXNzaWduOm4oIllPeXUiKX0sIjlaNVAiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiZzErZSIpO2Z1bmN0aW9uIG8odCl7dmFyIGU9dC5jaGlsZHJlbjt0LmNoaWxkcmVuPVt7dHlwZToidGFibGVIZWFkIixhbGlnbjp0LmFsaWduLGNoaWxkcmVuOltlWzBdXSxwb3NpdGlvbjplWzBdLnBvc2l0aW9ufV0sZS5sZW5ndGg+MSYmdC5jaGlsZHJlbi5wdXNoKHt0eXBlOiJ0YWJsZUJvZHkiLGFsaWduOnQuYWxpZ24sY2hpbGRyZW46ZS5zbGljZSgxKSxwb3NpdGlvbjp7c3RhcnQ6ZVsxXS5wb3NpdGlvbi5zdGFydCxlbmQ6ZVtlLmxlbmd0aC0xXS5wb3NpdGlvbi5lbmR9fSl9dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKHQsInRhYmxlIixvKSx0fX0sIjlaZXgiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxvPVJlZ0V4cC5wcm90b3R5cGUudGVzdC5iaW5kKC9eW29iamVjdCBbQS1aYS16MC05XSpGdW5jdGlvbl0kLyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgdCYmbyhyLmNhbGwodCkpfX0sIjlnNjYiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiZTk4OSIpLG89bigibHE1eSIpLGk9TWF0aC5tYXg7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sYSxzLGM9aShhcmd1bWVudHMubGVuZ3RoLDIpO2Zvcih0PU9iamVjdChvKHQpKSxzPWZ1bmN0aW9uKHIpe3RyeXt0W3JdPWVbcl19Y2F0Y2gobyl7bnx8KG49byl9fSxhPTE7YTxjOysrYSllPWFyZ3VtZW50c1thXSxyKGUpLmZvckVhY2gocyk7aWYodm9pZCAwIT09bil0aHJvdyBuO3JldHVybiB0fX0sIjlpdUwiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKSxvPU1hdGgucmFuZG9tO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0O2Rve3Q9bygpLnRvU3RyaW5nKDM2KS5zbGljZSgyKX13aGlsZShyW3RdKTtyZXR1cm4gdH19LEFDR2s6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmluZGV4T2YoIlsiLGUpLHI9dC5pbmRleE9mKCIhWyIsZSk7aWYoLTE9PT1yKXJldHVybiBuO3JldHVybiBuPHI/bjpyfX0sQUhFQjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oInEzRU4iKSxvPW4oIlZOZEEiKTt0LmV4cG9ydHM9ZCxkLm5vdEluTGlzdD0hMCxkLm5vdEluQmxvY2s9ITA7dmFyIGk9IlxcIixhPSJcbiIscz0iXHQiLGM9IiAiLHU9IlsiLGw9Il0iLGY9Il4iLHA9IjoiLGg9L14oIHs0fXxcdCk/L2dtO2Z1bmN0aW9uIGQodCxlLG4pe3ZhciBkLHYseSxtLGcsYix4LHcsayxfLEEsTyxqPXRoaXMub2Zmc2V0O2lmKHRoaXMub3B0aW9ucy5mb290bm90ZXMpe2ZvcihkPTAsdj1lLmxlbmd0aCx5PSIiLG09dC5ub3coKSxnPW0ubGluZTtkPHYmJihrPWUuY2hhckF0KGQpLHIoaykpOyl5Kz1rLGQrKztpZihlLmNoYXJBdChkKT09PXUmJmUuY2hhckF0KGQrMSk9PT1mKXtmb3IoZD0oeSs9dStmKS5sZW5ndGgseD0iIjtkPHYmJihrPWUuY2hhckF0KGQpKSE9PWw7KWs9PT1pJiYoeCs9ayxkKyssaz1lLmNoYXJBdChkKSkseCs9ayxkKys7aWYoeCYmZS5jaGFyQXQoZCk9PT1sJiZlLmNoYXJBdChkKzEpPT09cCl7aWYobilyZXR1cm4hMDtmb3IoXz14LGQ9KHkrPXgrbCtwKS5sZW5ndGg7ZDx2JiYoKGs9ZS5jaGFyQXQoZCkpPT09c3x8az09PWMpOyl5Kz1rLGQrKztmb3IobS5jb2x1bW4rPXkubGVuZ3RoLG0ub2Zmc2V0Kz15Lmxlbmd0aCx4PSIiLGI9IiIsdz0iIjtkPHY7KXtpZigoaz1lLmNoYXJBdChkKSk9PT1hKXtmb3Iodz1rLGQrKztkPHYmJihrPWUuY2hhckF0KGQpKT09PWE7KXcrPWssZCsrO2Zvcih4Kz13LHc9IiI7ZDx2JiYoaz1lLmNoYXJBdChkKSk9PT1jOyl3Kz1rLGQrKztpZigwPT09dy5sZW5ndGgpYnJlYWs7eCs9d314JiYoYis9eCx4PSIiKSxiKz1rLGQrK31yZXR1cm4geSs9YixiPWIucmVwbGFjZShoLChmdW5jdGlvbih0KXtyZXR1cm4galtnXT0oaltnXXx8MCkrdC5sZW5ndGgsZysrLCIifSkpLEE9dCh5KSxPPXRoaXMuZW50ZXJCbG9jaygpLGI9dGhpcy50b2tlbml6ZUJsb2NrKGIsbSksTygpLEEoe3R5cGU6ImZvb3Rub3RlRGVmaW5pdGlvbiIsaWRlbnRpZmllcjpvKF8pLGxhYmVsOl8sY2hpbGRyZW46Yn0pfX19fX0sQUpQejpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0LGUsbj1BcnJheS5mcm9tO3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgbiYmKGU9bih0PVsicmF6IiwiZHdhIl0pLEJvb2xlYW4oZSYmZSE9PXQmJiJkd2EiPT09ZVsxXSkpfX0sQU1WZTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPS0xLHI9dC5sZW5ndGg7aWYoZTwwKXJldHVybnt9O2Zvcig7KytuPHI7KWlmKHRbbl0+ZSlyZXR1cm57bGluZTpuKzEsY29sdW1uOmUtKHRbbi0xXXx8MCkrMSxvZmZzZXQ6ZX07cmV0dXJue319fWZ1bmN0aW9uIG8odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPWUmJmUubGluZSxyPWUmJmUuY29sdW1uO2lmKCFpc05hTihuKSYmIWlzTmFOKHIpJiZuLTEgaW4gdClyZXR1cm4odFtuLTJdfHwwKStyLTF8fDA7cmV0dXJuLTF9fXQuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZT1bXSxuPXQuaW5kZXhPZigiXG4iKTtmb3IoOy0xIT09bjspZS5wdXNoKG4rMSksbj10LmluZGV4T2YoIlxuIixuKzEpO3JldHVybiBlLnB1c2godC5sZW5ndGgrMSksZX0oU3RyaW5nKHQpKTtyZXR1cm57dG9Qb3NpdGlvbjpyKGUpLHRvT2Zmc2V0Om8oZSl9fX0sQVQ2ZzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImJ0REYiKSxvPW4oIjd4alAiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbixpO2ZvcihuIGluIG8ocyx0KSxvKGEscyksZT1zLnByb3RvdHlwZSkoaT1lW25dKSYmIm9iamVjdCI9PT10eXBlb2YgaSYmKGVbbl09ImNvbmNhdCJpbiBpP2kuY29uY2F0KCk6cihpKSk7cmV0dXJuIHM7ZnVuY3Rpb24gYShlKXtyZXR1cm4gdC5hcHBseSh0aGlzLGUpfWZ1bmN0aW9uIHMoKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHM/dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6bmV3IGEoYXJndW1lbnRzKX19fSxBeUZCOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9fSxCNVA5OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHIsbyxpLGE9bigiSFlZWCIpLHM9bigibU1vNyIpLGM9bigiL01oUiIpLlN5bWJvbCx1PW4oIk5zanYiKSxsPW4oInowN1UiKSxmPW4oInV4ZEIiKSxwPU9iamVjdC5jcmVhdGUsaD1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxkPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtpZigiZnVuY3Rpb24iPT09dHlwZW9mIGMpdHJ5e1N0cmluZyhjKCkpLGk9ITB9Y2F0Y2godil7fWVsc2UgYz1udWxsO289ZnVuY3Rpb24odCl7aWYodGhpcyBpbnN0YW5jZW9mIG8pdGhyb3cgbmV3IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIik7cmV0dXJuIHIodCl9LHQuZXhwb3J0cz1yPWZ1bmN0aW9uIHQoZSl7dmFyIG47aWYodGhpcyBpbnN0YW5jZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIik7cmV0dXJuIGk/YyhlKToobj1wKG8ucHJvdG90eXBlKSxlPXZvaWQgMD09PWU/IiI6U3RyaW5nKGUpLGgobix7X19kZXNjcmlwdGlvbl9fOmEoIiIsZSksX19uYW1lX186YSgiIix1KGUpKX0pKX0sbChyKSxmKHIpLGgoby5wcm90b3R5cGUse2NvbnN0cnVjdG9yOmEociksdG9TdHJpbmc6YSgiIiwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX25hbWVfX30pKX0pLGgoci5wcm90b3R5cGUse3RvU3RyaW5nOmEoKGZ1bmN0aW9uKCl7cmV0dXJuIlN5bWJvbCAoIitzKHRoaXMpLl9fZGVzY3JpcHRpb25fXysiKSJ9KSksdmFsdWVPZjphKChmdW5jdGlvbigpe3JldHVybiBzKHRoaXMpfSkpfSksZChyLnByb3RvdHlwZSxyLnRvUHJpbWl0aXZlLGEoIiIsKGZ1bmN0aW9uKCl7dmFyIHQ9cyh0aGlzKTtyZXR1cm4ic3ltYm9sIj09PXR5cGVvZiB0P3Q6dC50b1N0cmluZygpfSkpKSxkKHIucHJvdG90eXBlLHIudG9TdHJpbmdUYWcsYSgiYyIsIlN5bWJvbCIpKSxkKG8ucHJvdG90eXBlLHIudG9TdHJpbmdUYWcsYSgiYyIsci5wcm90b3R5cGVbci50b1N0cmluZ1RhZ10pKSxkKG8ucHJvdG90eXBlLHIudG9QcmltaXRpdmUsYSgiYyIsci5wcm90b3R5cGVbci50b1ByaW1pdGl2ZV0pKX0sQjhQSzpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0sQkV0ZzpmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCl7cmV0dXJuISF0LmNvbnN0cnVjdG9yJiYiZnVuY3Rpb24iPT09dHlwZW9mIHQuY29uc3RydWN0b3IuaXNCdWZmZXImJnQuY29uc3RydWN0b3IuaXNCdWZmZXIodCl9dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10JiYobih0KXx8ZnVuY3Rpb24odCl7cmV0dXJuImZ1bmN0aW9uIj09PXR5cGVvZiB0LnJlYWRGbG9hdExFJiYiZnVuY3Rpb24iPT09dHlwZW9mIHQuc2xpY2UmJm4odC5zbGljZSgwLDApKX0odCl8fCEhdC5faXNCdWZmZXIpfX0sQmY1VTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIkFUNmciKSxvPW4oImJ0REYiKSxpPW4oIlZYNW8iKTtmdW5jdGlvbiBhKHQpe3ZhciBlPXRoaXMuZGF0YSgic2V0dGluZ3MiKSxuPXIoaSk7bi5wcm90b3R5cGUub3B0aW9ucz1vKG4ucHJvdG90eXBlLm9wdGlvbnMsZSx0KSx0aGlzLlBhcnNlcj1ufXQuZXhwb3J0cz1hLGEuUGFyc2VyPWl9LEJudVU6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9LTE9PT10LmluZGV4T2Yocik/cjpvO3JldHVybiBlK3QrZX07dmFyIHI9JyInLG89IicifSxCcUl0OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHIsbz1uKCJwbkhhIiksaT1uKCJJREVmIiksYT1uKCJHcFJMIikscz1uKCJscTV5IiksYz1uKCI5UWg0IiksdT1uKCJtR3YwIiksbD1uKCJIRW96IiksZj1PYmplY3QuZGVmaW5lUHJvcGVydHkscD1PYmplY3QuZGVmaW5lUHJvcGVydGllczt0LmV4cG9ydHM9cj1mdW5jdGlvbih0LGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNvbnN0cnVjdG9yIHJlcXVpcmVzICduZXcnIik7cCh0aGlzLHtfX2xpc3RfXzpjKCJ3IixzKHQpKSxfX2NvbnRleHRfXzpjKCJ3IixlKSxfX25leHRJbmRleF9fOmMoInciLDApfSksZSYmKGEoZS5vbiksZS5vbigiX2FkZCIsdGhpcy5fb25BZGQpLGUub24oIl9kZWxldGUiLHRoaXMuX29uRGVsZXRlKSxlLm9uKCJfY2xlYXIiLHRoaXMuX29uQ2xlYXIpKX0sZGVsZXRlIHIucHJvdG90eXBlLmNvbnN0cnVjdG9yLHAoci5wcm90b3R5cGUsaSh7X25leHQ6YygoZnVuY3Rpb24oKXt2YXIgdDtpZih0aGlzLl9fbGlzdF9fKXJldHVybiB0aGlzLl9fcmVkb19fJiZ2b2lkIDAhPT0odD10aGlzLl9fcmVkb19fLnNoaWZ0KCkpP3Q6dGhpcy5fX25leHRJbmRleF9fPHRoaXMuX19saXN0X18ubGVuZ3RoP3RoaXMuX19uZXh0SW5kZXhfXysrOnZvaWQgdGhpcy5fdW5CaW5kKCl9KSksbmV4dDpjKChmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jcmVhdGVSZXN1bHQodGhpcy5fbmV4dCgpKX0pKSxfY3JlYXRlUmVzdWx0OmMoKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10P3tkb25lOiEwLHZhbHVlOnZvaWQgMH06e2RvbmU6ITEsdmFsdWU6dGhpcy5fcmVzb2x2ZSh0KX19KSksX3Jlc29sdmU6YygoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19saXN0X19bdF19KSksX3VuQmluZDpjKChmdW5jdGlvbigpe3RoaXMuX19saXN0X189bnVsbCxkZWxldGUgdGhpcy5fX3JlZG9fXyx0aGlzLl9fY29udGV4dF9fJiYodGhpcy5fX2NvbnRleHRfXy5vZmYoIl9hZGQiLHRoaXMuX29uQWRkKSx0aGlzLl9fY29udGV4dF9fLm9mZigiX2RlbGV0ZSIsdGhpcy5fb25EZWxldGUpLHRoaXMuX19jb250ZXh0X18ub2ZmKCJfY2xlYXIiLHRoaXMuX29uQ2xlYXIpLHRoaXMuX19jb250ZXh0X189bnVsbCl9KSksdG9TdHJpbmc6YygoZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCAiKyh0aGlzW2wudG9TdHJpbmdUYWddfHwiT2JqZWN0IikrIl0ifSkpfSx1KHtfb25BZGQ6YygoZnVuY3Rpb24odCl7dD49dGhpcy5fX25leHRJbmRleF9ffHwoKyt0aGlzLl9fbmV4dEluZGV4X18sdGhpcy5fX3JlZG9fXz8odGhpcy5fX3JlZG9fXy5mb3JFYWNoKChmdW5jdGlvbihlLG4pe2U+PXQmJih0aGlzLl9fcmVkb19fW25dPSsrZSl9KSx0aGlzKSx0aGlzLl9fcmVkb19fLnB1c2godCkpOmYodGhpcywiX19yZWRvX18iLGMoImMiLFt0XSkpKX0pKSxfb25EZWxldGU6YygoZnVuY3Rpb24odCl7dmFyIGU7dD49dGhpcy5fX25leHRJbmRleF9ffHwoLS10aGlzLl9fbmV4dEluZGV4X18sdGhpcy5fX3JlZG9fXyYmKC0xIT09KGU9dGhpcy5fX3JlZG9fXy5pbmRleE9mKHQpKSYmdGhpcy5fX3JlZG9fXy5zcGxpY2UoZSwxKSx0aGlzLl9fcmVkb19fLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7ZT50JiYodGhpcy5fX3JlZG9fX1tuXT0tLWUpfSksdGhpcykpKX0pKSxfb25DbGVhcjpjKChmdW5jdGlvbigpe3RoaXMuX19yZWRvX18mJm8uY2FsbCh0aGlzLl9fcmVkb19fKSx0aGlzLl9fbmV4dEluZGV4X189MH0pKX0pKSksZihyLnByb3RvdHlwZSxsLml0ZXJhdG9yLGMoKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSkpfSxDZGxpOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHIsbz1uKCI0UFk4IiksaT1uKCI5UWg0IiksYT1uKCJIRW96Iikscz1uKCJCcUl0IiksYz1PYmplY3QuZGVmaW5lUHJvcGVydHk7cj10LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoISh0aGlzIGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ29uc3RydWN0b3IgcmVxdWlyZXMgJ25ldyciKTt0PVN0cmluZyh0KSxzLmNhbGwodGhpcyx0KSxjKHRoaXMsIl9fbGVuZ3RoX18iLGkoIiIsdC5sZW5ndGgpKX0sbyYmbyhyLHMpLGRlbGV0ZSByLnByb3RvdHlwZS5jb25zdHJ1Y3RvcixyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMucHJvdG90eXBlLHtfbmV4dDppKChmdW5jdGlvbigpe2lmKHRoaXMuX19saXN0X18pcmV0dXJuIHRoaXMuX19uZXh0SW5kZXhfXzx0aGlzLl9fbGVuZ3RoX18/dGhpcy5fX25leHRJbmRleF9fKys6dm9pZCB0aGlzLl91bkJpbmQoKX0pKSxfcmVzb2x2ZTppKChmdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMuX19saXN0X19bdF07cmV0dXJuIHRoaXMuX19uZXh0SW5kZXhfXz09PXRoaXMuX19sZW5ndGhfXz9uOihlPW4uY2hhckNvZGVBdCgwKSk+PTU1Mjk2JiZlPD01NjMxOT9uK3RoaXMuX19saXN0X19bdGhpcy5fX25leHRJbmRleF9fKytdOm59KSl9KSxjKHIucHJvdG90eXBlLGEudG9TdHJpbmdUYWcsaSgiYyIsIlN0cmluZyBJdGVyYXRvciIpKX0sQ282TjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPU9iamVjdC5jcmVhdGUsbz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsaT17fTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3Quc2V0UHJvdG90eXBlT2YsZT1hcmd1bWVudHNbMF18fHI7cmV0dXJuImZ1bmN0aW9uIj09PXR5cGVvZiB0JiZvKHQoZShudWxsKSxpKSk9PT1pfX0sQ3BCYzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiWTdaQyIpLG89bigiRVA5SCIpO3Ioci5HK3IuRioocGFyc2VGbG9hdCE9bykse3BhcnNlRmxvYXQ6b30pfSxEM3pBOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiYUk3WCIpO3QuZXhwb3J0cz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8cn0sRENDdDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlJzRkoiKSxvPW4oIm9iWFoiKSxpPW4oIklQQXIiKSxhPW4oIlc4UUIiKTt0LmV4cG9ydHM9dSx1LmxvY2F0b3I9YTt2YXIgcz0iKiIsYz0iXyI7ZnVuY3Rpb24gdSh0LGUsbil7dmFyIGEsdSxsLGYscCxoLGQsdj0wLHk9ZS5jaGFyQXQodik7aWYoKHk9PT1zfHx5PT09YykmJih1PXRoaXMub3B0aW9ucy5wZWRhbnRpYyxwPXksbD15LGg9ZS5sZW5ndGgsdisrLGY9IiIseT0iIiwhdXx8IWkoZS5jaGFyQXQodikpKSlmb3IoO3Y8aDspe2lmKGQ9eSwoeT1lLmNoYXJBdCh2KSk9PT1sJiYoIXV8fCFpKGQpKSl7aWYoKHk9ZS5jaGFyQXQoKyt2KSkhPT1sKXtpZighcihmKXx8ZD09PWwpcmV0dXJuO2lmKCF1JiZsPT09YyYmbyh5KSl7Zis9bDtjb250aW51ZX1yZXR1cm4hIW58fCgoYT10Lm5vdygpKS5jb2x1bW4rKyxhLm9mZnNldCsrLHQocCtmK2wpKHt0eXBlOiJlbXBoYXNpcyIsY2hpbGRyZW46dGhpcy50b2tlbml6ZUlubGluZShmLGEpfSkpfWYrPWx9dXx8IlxcIiE9PXl8fChmKz15LHk9ZS5jaGFyQXQoKyt2KSksZis9eSx2Kyt9fX0sREoydzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIitka0UiKS5vcGVuQ2xvc2VUYWc7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcix4LHcsayxfLEEsTyxqPXRoaXMub3B0aW9ucy5ibG9ja3Muam9pbigifCIpLEU9bmV3IFJlZ0V4cCgiXjwvPygiK2orIikoPz0oXFxzfC8/PnwkKSkiLCJpIiksUz1lLmxlbmd0aCxOPTAsUD1bW2MsdSwhMF0sW2wsZiwhMF0sW3AsaCwhMF0sW2QsdiwhMF0sW3ksbSwhMF0sW0UsZywhMF0sW2IsZywhMV1dO2Zvcig7TjxTJiYoKGs9ZS5jaGFyQXQoTikpPT09b3x8az09PWkpOylOKys7aWYoZS5jaGFyQXQoTikhPT1zKXJldHVybjtyPS0xPT09KHI9ZS5pbmRleE9mKGEsTisxKSk/UzpyLHg9ZS5zbGljZShOLHIpLHc9LTEsXz1QLmxlbmd0aDtmb3IoOysrdzxfOylpZihQW3ddWzBdLnRlc3QoeCkpe0E9UFt3XTticmVha31pZighQSlyZXR1cm47aWYobilyZXR1cm4gQVsyXTtpZihOPXIsIUFbMV0udGVzdCh4KSlmb3IoO048Uzspe2lmKHI9LTE9PT0ocj1lLmluZGV4T2YoYSxOKzEpKT9TOnIseD1lLnNsaWNlKE4rMSxyKSxBWzFdLnRlc3QoeCkpe3gmJihOPXIpO2JyZWFrfU49cn1yZXR1cm4gTz1lLnNsaWNlKDAsTiksdChPKSh7dHlwZToiaHRtbCIsdmFsdWU6T30pfTt2YXIgbz0iXHQiLGk9IiAiLGE9IlxuIixzPSI8IixjPS9ePChzY3JpcHR8cHJlfHN0eWxlKSg/PShcc3w+fCQpKS9pLHU9LzxcLyhzY3JpcHR8cHJlfHN0eWxlKT4vaSxsPS9ePCEtLS8sZj0vLS0+LyxwPS9ePFw/LyxoPS9cPz4vLGQ9L148IVtBLVphLXpdLyx2PS8+Lyx5PS9ePCFcW0NEQVRBXFsvLG09L1xdXF0+LyxnPS9eJC8sYj1uZXcgUmVnRXhwKHIuc291cmNlKyJcXHMqJCIpfSxETlhlOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiWldrMiIpLG89bigiSVBBciIpLGk9bigiRHVIVyIpO3QuZXhwb3J0cz12LHYubG9jYXRvcj1pLHYubm90SW5MaW5rPSEwO3ZhciBhPSJbIixzPSJdIixjPSIoIix1PSIpIixsPSI8IixmPSJAIixwPSJtYWlsdG86IixoPVsiaHR0cDovLyIsImh0dHBzOi8vIixwXSxkPWgubGVuZ3RoO2Z1bmN0aW9uIHYodCxlLG4pe3ZhciBpLHYseSxtLGcsYix4LHcsayxfLEEsTztpZih0aGlzLm9wdGlvbnMuZ2ZtKXtmb3IoaT0iIixtPS0xLHc9ZDsrK208dzspaWYoYj1oW21dLCh4PWUuc2xpY2UoMCxiLmxlbmd0aCkpLnRvTG93ZXJDYXNlKCk9PT1iKXtpPXg7YnJlYWt9aWYoaSl7Zm9yKG09aS5sZW5ndGgsdz1lLmxlbmd0aCxrPSIiLF89MDttPHcmJih5PWUuY2hhckF0KG0pLCFvKHkpJiZ5IT09bCkmJigiLiIhPT15JiYiLCIhPT15JiYiOiIhPT15JiYiOyIhPT15JiYnIichPT15JiYiJyIhPT15JiYiKSIhPT15JiYiXSIhPT15fHwoQT1lLmNoYXJBdChtKzEpKSYmIW8oQSkpJiYoeSE9PWMmJnkhPT1hfHxfKysseSE9PXUmJnkhPT1zfHwhKC0tXzwwKSk7KWsrPXksbSsrO2lmKGspe2lmKHY9aSs9ayxiPT09cCl7aWYoLTE9PT0oZz1rLmluZGV4T2YoZikpfHxnPT09dy0xKXJldHVybjt2PXYuc3Vic3RyKHAubGVuZ3RoKX1yZXR1cm4hIW58fChPPXRoaXMuZW50ZXJMaW5rKCksdj10aGlzLnRva2VuaXplSW5saW5lKHYsdC5ub3coKSksTygpLHQoaSkoe3R5cGU6ImxpbmsiLHRpdGxlOm51bGwsdXJsOnIoaSx7bm9uVGVybWluYXRlZDohMX0pLGNoaWxkcmVuOnZ9KSl9fX19fSxEUG03OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJBeUZCIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYodCl7aWYoInN0cmluZyI9PT10eXBlb2YgdClyZXR1cm4gcih0LGUpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShuKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP3IodCxlKTp2b2lkIDB9fX0sRFdQdjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oInl6MDkiKSxvPW4oIlIvZlUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciB1LGwsZixwLGgsZCx2LHksbSxnPXRoaXMub2Zmc2V0LGI9dGhpcy5ibG9ja1Rva2VuaXplcnMseD10aGlzLmludGVycnVwdEJsb2NrcXVvdGUsdz10Lm5vdygpLGs9dy5saW5lLF89ZS5sZW5ndGgsQT1bXSxPPVtdLGo9W10sRT0wO2Zvcig7RTxfJiYoKGw9ZS5jaGFyQXQoRSkpPT09c3x8bD09PWEpOylFKys7aWYoZS5jaGFyQXQoRSkhPT1jKXJldHVybjtpZihuKXJldHVybiEwO0U9MDtmb3IoO0U8Xzspe2ZvcihwPWUuaW5kZXhPZihpLEUpLHY9RSx5PSExLC0xPT09cCYmKHA9Xyk7RTxfJiYoKGw9ZS5jaGFyQXQoRSkpPT09c3x8bD09PWEpOylFKys7aWYoZS5jaGFyQXQoRSk9PT1jPyhFKysseT0hMCxlLmNoYXJBdChFKT09PXMmJkUrKyk6RT12LGg9ZS5zbGljZShFLHApLCF5JiYhcihoKSl7RT12O2JyZWFrfWlmKCF5JiYoZj1lLnNsaWNlKEUpLG8oeCxiLHRoaXMsW3QsZiwhMF0pKSlicmVhaztkPXY9PT1FP2g6ZS5zbGljZSh2LHApLGoucHVzaChFLXYpLEEucHVzaChkKSxPLnB1c2goaCksRT1wKzF9RT0tMSxfPWoubGVuZ3RoLHU9dChBLmpvaW4oaSkpO2Zvcig7KytFPF87KWdba109KGdba118fDApK2pbRV0saysrO3JldHVybiBtPXRoaXMuZW50ZXJCbG9jaygpLE89dGhpcy50b2tlbml6ZUJsb2NrKE8uam9pbihpKSx3KSxtKCksdSh7dHlwZToiYmxvY2txdW90ZSIsY2hpbGRyZW46T30pfTt2YXIgaT0iXG4iLGE9Ilx0IixzPSIgIixjPSI+In0sRG1YUDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPURhdGUucHJvdG90eXBlLmdldERheSxvPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsaT0iZnVuY3Rpb24iPT09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PT10eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4ib2JqZWN0Ij09PXR5cGVvZiB0JiZudWxsIT09dCYmKGk/ZnVuY3Rpb24odCl7dHJ5e3JldHVybiByLmNhbGwodCksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSh0KToiW29iamVjdCBEYXRlXSI9PT1vLmNhbGwodCkpfX0sRHVIVzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLG89ci5sZW5ndGgsaT0tMSxhPS0xO2lmKCF0aGlzLm9wdGlvbnMuZ2ZtKXJldHVybi0xO2Zvcig7KytpPG87KS0xIT09KG49dC5pbmRleE9mKHJbaV0sZSkpJiYobjxhfHwtMT09PWEpJiYoYT1uKTtyZXR1cm4gYX07dmFyIHI9WyJodHRwczovLyIsImh0dHA6Ly8iLCJtYWlsdG86Il19LER2OVI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9U3RyaW5nKHQpLG49ZS5sZW5ndGg7Zm9yKDtlLmNoYXJBdCgtLW4pPT09cjspO3JldHVybiBlLnNsaWNlKDAsbisxKX07dmFyIHI9IlxuIn0sRThnWjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiam1ESCIpLG89bigidzZHTyIpLGk9bigiTnNPLyIpLGE9bigiTlYwayIpLmY7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIG4scz1pKGUpLGM9byhzKSx1PWMubGVuZ3RoLGw9MCxmPVtdO3U+bDspbj1jW2wrK10sciYmIWEuY2FsbChzLG4pfHxmLnB1c2godD9bbixzW25dXTpzW25dKTtyZXR1cm4gZn19fSxFQnpxOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9W10uc2xpY2U7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGUsYT1yLmNhbGwoYXJndW1lbnRzLDApLHM9dC5sZW5ndGg+YS5sZW5ndGg7cyYmYS5wdXNoKG8pO3RyeXtlPXQuYXBwbHkobnVsbCxhKX1jYXRjaChjKXtpZihzJiZuKXRocm93IGM7cmV0dXJuIG8oYyl9c3x8KGUmJiJmdW5jdGlvbiI9PT10eXBlb2YgZS50aGVuP2UudGhlbihpLG8pOmUgaW5zdGFuY2VvZiBFcnJvcj9vKGUpOmkoZSkpfTtmdW5jdGlvbiBvKCl7bnx8KG49ITAsZS5hcHBseShudWxsLGFyZ3VtZW50cykpfWZ1bmN0aW9uIGkodCl7byhudWxsLHQpfX19LEVFTXk6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9bigiQUpQeiIpKCk/QXJyYXkuZnJvbTpuKCJKYmg0Iil9LEVQOUg6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjVUMlkiKS5wYXJzZUZsb2F0LG89bigib2M0NiIpLnRyaW07dC5leHBvcnRzPTEvcihuKCI1cEt2IikrIi0wIikhPT0tMS8wP2Z1bmN0aW9uKHQpe3ZhciBlPW8oU3RyaW5nKHQpLDMpLG49cihlKTtyZXR1cm4gMD09PW4mJiItIj09ZS5jaGFyQXQoMCk/LTA6bn06cn0sRVNiZjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4hIXQmJigic3ltYm9sIj09PXR5cGVvZiB0fHwhIXQuY29uc3RydWN0b3ImJigiU3ltYm9sIj09PXQuY29uc3RydWN0b3IubmFtZSYmIlN5bWJvbCI9PT10W3QuY29uc3RydWN0b3IudG9TdHJpbmdUYWddKSl9fSxFVGFyOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5zaWduO3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgdCYmKDE9PT10KDEwKSYmLTE9PT10KC0yMCkpfX0sRWJSUDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIi8wajYiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihlfHwwPT09dC5sZW5ndGh8fGMudGVzdCh0KXx8cih0LG8pIT09cih0LGkpKXJldHVybiBhK3QrcztyZXR1cm4gdH07dmFyIG89IigiLGk9IikiLGE9IjwiLHM9Ij4iLGM9L1xzL30sRW5JUjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlFndjciKTt0LmV4cG9ydHM9YSxhLmxvY2F0b3I9cjt2YXIgbz0iXG4iLGk9IlxcIjtmdW5jdGlvbiBhKHQsZSxuKXt2YXIgcixhO2lmKGUuY2hhckF0KDApPT09aSYmKHI9ZS5jaGFyQXQoMSksLTEhPT10aGlzLmVzY2FwZS5pbmRleE9mKHIpKSlyZXR1cm4hIW58fChhPXI9PT1vP3t0eXBlOiJicmVhayJ9Ont0eXBlOiJ0ZXh0Iix2YWx1ZTpyfSx0KGkrcikoYSkpfX0sRjVNYzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIll5RjAiKSxvPS9eXHMqY2xhc3NbXHN7L31dLyxpPUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuISFyKHQpJiYhby50ZXN0KGkuY2FsbCh0KSl9fSwiRkZ0KyI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH19LEZJeTk6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCIxM0RRIiksbz0iICIsaT0iOiIsYT0iWyIscz0iXSIsYz0iXiIsdT0iXG5cbiIsbD1yKG8sNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWxsKHQpLmpvaW4odStsKTtyZXR1cm4gYStjKyh0LmxhYmVsfHx0LmlkZW50aWZpZXIpK3MraStvK2V9fSxGS3ZFOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQsZT1PYmplY3QuYXNzaWduO3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgZSYmKGUodD17Zm9vOiJyYXoifSx7YmFyOiJkd2EifSx7dHJ6eToidHJ6eSJ9KSx0LmZvbyt0LmJhcit0LnRyenk9PT0icmF6ZHdhdHJ6eSIpfX0sIkZNL0IiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuPUFycmF5LmZyb207cmV0dXJuImZ1bmN0aW9uIj09PXR5cGVvZiBuJiYoZT1uKHQ9WyJyYXoiLCJkd2EiXSksQm9vbGVhbihlJiZlIT09dCYmImR3YSI9PT1lWzFdKSl9fSxGaHE0OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaW5kZXhPZigifn4iLGUpfX0sRnBaSjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbigpe2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgU3ltYm9sfHwiZnVuY3Rpb24iIT09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpcmV0dXJuITE7aWYoInN5bWJvbCI9PT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yKXJldHVybiEwO3ZhciB0PXt9LGU9U3ltYm9sKCJ0ZXN0Iiksbj1PYmplY3QoZSk7aWYoInN0cmluZyI9PT10eXBlb2YgZSlyZXR1cm4hMTtpZigiW29iamVjdCBTeW1ib2xdIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSlyZXR1cm4hMTtpZigiW29iamVjdCBTeW1ib2xdIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKSlyZXR1cm4hMTtmb3IoZSBpbiB0W2VdPTQyLHQpcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBPYmplY3Qua2V5cyYmMCE9PU9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzJiYwIT09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkubGVuZ3RoKXJldHVybiExO3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7aWYoMSE9PXIubGVuZ3RofHxyWzBdIT09ZSlyZXR1cm4hMTtpZighT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHQsZSkpcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSk7aWYoNDIhPT1vLnZhbHVlfHwhMCE9PW8uZW51bWVyYWJsZSlyZXR1cm4hMX1yZXR1cm4hMH19LEZ4T2E6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pbmRleE9mKCJcXCIsZSl9fSxHT3pkOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9InJhemR3YXRyenkiO3QuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2Ygci5jb250YWlucyYmKCEwPT09ci5jb250YWlucygiZHdhIikmJiExPT09ci5jb250YWlucygiZm9vIikpfX0sR2NXdjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5fX3Byb3RvX189ZX19LEdkRFU6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJHdWlYIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhbiBPYmplY3QiKTtyZXR1cm4gdH19LEdkYm86ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodCl0aHJvdyB0fX0sR3BSTDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZigiZnVuY3Rpb24iIT09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcih0KyIgaXMgbm90IGEgZnVuY3Rpb24iKTtyZXR1cm4gdH19LEd1aVg6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJ0NGdjIiksbz17ZnVuY3Rpb246ITAsb2JqZWN0OiEwfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIodCkmJm9bdHlwZW9mIHRdfHwhMX19LEd5ZVo6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHIsbz0wLGk9bi5pbmRleE9mKCJcXCIpLGE9dFtlXSxzPVtdO2Zvcig7LTEhPT1pOylzLnB1c2gobi5zbGljZShvLGkpKSxvPWkrMSwocj1uLmNoYXJBdChvKSkmJi0xIT09YS5pbmRleE9mKHIpfHxzLnB1c2goIlxcIiksaT1uLmluZGV4T2YoIlxcIixvKTtyZXR1cm4gcy5wdXNoKG4uc2xpY2UobykpLHMuam9pbigiIil9fX0sIkgrR3UiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigicTNFTiIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIGksYSxzLGMsdT1lLmNoYXJBdCgwKTtpZih1IT09bylyZXR1cm47aWYobilyZXR1cm4hMDtjPTEsaT1lLmxlbmd0aCxhPXUscz0iIjtmb3IoO2M8aSYmKHU9ZS5jaGFyQXQoYykscih1KSk7KXMrPXUsdT09PW8mJihhKz1zLHM9IiIpLGMrKzt0KGEpfTt2YXIgbz0iXG4ifSxIQnJIOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHIsbz1uKCJZc1R6IiksaT1uKCI0UFk4IiksYT1uKCJhT1lnIikscz1uKCJscTV5IiksYz1uKCJaWm1nIiksdT1uKCI5UWg0IiksbD1uKCJpbERiIiksZj1uKCJ3MUh0IikscD1uKCJIRW96IikudG9TdHJpbmdUYWcsaD1uKCJmWElRIiksZD1BcnJheS5pc0FycmF5LHY9T2JqZWN0LmRlZmluZVByb3BlcnR5LHk9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxtPU9iamVjdC5nZXRQcm90b3R5cGVPZjt0LmV4cG9ydHM9cj1mdW5jdGlvbigpe3ZhciB0LGU9YXJndW1lbnRzWzBdO2lmKCEodGhpcyBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNvbnN0cnVjdG9yIHJlcXVpcmVzICduZXcnIik7cmV0dXJuIHQ9aCYmaSYmV2Vha01hcCE9PXI/aShuZXcgV2Vha01hcCxtKHRoaXMpKTp0aGlzLG8oZSkmJihkKGUpfHwoZT1sKGUpKSksdih0LCJfX3dlYWtNYXBEYXRhX18iLHUoImMiLCIkd2Vha01hcCQiK2MoKSkpLGU/KGYoZSwoZnVuY3Rpb24oZSl7cyhlKSx0LnNldChlWzBdLGVbMV0pfSkpLHQpOnR9LGgmJihpJiZpKHIsV2Vha01hcCksci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShXZWFrTWFwLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6dShyKX0pKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhyLnByb3RvdHlwZSx7ZGVsZXRlOnUoKGZ1bmN0aW9uKHQpe3JldHVybiEheS5jYWxsKGEodCksdGhpcy5fX3dlYWtNYXBEYXRhX18pJiYoZGVsZXRlIHRbdGhpcy5fX3dlYWtNYXBEYXRhX19dLCEwKX0pKSxnZXQ6dSgoZnVuY3Rpb24odCl7aWYoeS5jYWxsKGEodCksdGhpcy5fX3dlYWtNYXBEYXRhX18pKXJldHVybiB0W3RoaXMuX193ZWFrTWFwRGF0YV9fXX0pKSxoYXM6dSgoZnVuY3Rpb24odCl7cmV0dXJuIHkuY2FsbChhKHQpLHRoaXMuX193ZWFrTWFwRGF0YV9fKX0pKSxzZXQ6dSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdihhKHQpLHRoaXMuX193ZWFrTWFwRGF0YV9fLHUoImMiLGUpKSx0aGlzfSkpLHRvU3RyaW5nOnUoKGZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgV2Vha01hcF0ifSkpfSksdihyLnByb3RvdHlwZSxwLHUoImMiLCJXZWFrTWFwIikpfSxIRW96OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPW4oInVtRlMiKSgpP24oImZFcGIiKS5TeW1ib2w6bigibE81cyIpfSxISDZaOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiODJjMiIpLnN1cHBvcnRzRGVzY3JpcHRvcnMsbz1uKCJWK3hzIiksaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LHM9VHlwZUVycm9yLGM9T2JqZWN0LmdldFByb3RvdHlwZU9mLHU9L2EvO3QuZXhwb3J0cz1mdW5jdGlvbigpe2lmKCFyfHwhYyl0aHJvdyBuZXcgcygiUmVnRXhwLnByb3RvdHlwZS5mbGFncyByZXF1aXJlcyBhIHRydWUgRVM1IGVudmlyb25tZW50IHRoYXQgc3VwcG9ydHMgcHJvcGVydHkgZGVzY3JpcHRvcnMiKTt2YXIgdD1vKCksZT1jKHUpLG49aShlLCJmbGFncyIpO3JldHVybiBuJiZuLmdldD09PXR8fGEoZSwiZmxhZ3MiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSxnZXQ6dH0pLHR9fSxITDh6OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmZT9zKHQsZSxuKTpbXX07dmFyIHI9bigiYU8wMyIpLG89bigid1R6MSIpLm5lZWRzSW5kZXgsaT1uKCJhb3BOIiksYT1uKCJRbkl6Iikscz1yKCJ0eXBlIiksYz1zLmhhbmRsZXJzO2Z1bmN0aW9uIHUodCxlLG4pe3JldHVybiBsKHQucnVsZSxlLG4pfWZ1bmN0aW9uIGwodCxlLG4pe3ZhciByPWYobi5vbmUpLHM9e3Njb3BlTm9kZXM6InJvb3QiPT09ZS50eXBlP2UuY2hpbGRyZW46W2VdLGl0ZXJhdG9yOmZ1bmN0aW9uKHQsZSxuLG8scyl7aSh0LGUsbixvLHMpJiYodC5ydWxlP2EodC5ydWxlLGUsbixvLGModC5ydWxlLHMpKToocihlKSxzLmZvdW5kPSEwKSl9LG9uZTpuLm9uZSxzaGFsbG93Om4uc2hhbGxvd307aWYobi5zaGFsbG93JiZ0LnJ1bGUpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCBzZWxlY3RvciB3aXRob3V0IG5lc3RpbmciKTtyZXR1cm4gYSh0LGUsMCxudWxsLGModCxzKSksci5yZXN1bHQ7ZnVuY3Rpb24gYyh0LGUpe2Zvcih2YXIgbj10LnBzZXVkb3Mscj1uJiZuLmxlbmd0aCxpPS0xOysraTxyOylpZigtMSE9PW8uaW5kZXhPZihuW2ldLm5hbWUpKXtlLmluZGV4PSEwO2JyZWFrfXJldHVybiBlfX1mdW5jdGlvbiBmKHQpe3ZhciBlLG49W107cmV0dXJuIHIucmVzdWx0PW4scjtmdW5jdGlvbiByKHIpe2Z1bmN0aW9uIG8ocil7aWYodCl7aWYoZSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBjb2xsZWN0IG11bHRpcGxlIG5vZGVzIik7ZT0hMH0tMT09PW4uaW5kZXhPZihyKSYmbi5wdXNoKHIpfSJsZW5ndGgiaW4gcj9mdW5jdGlvbigpe3ZhciB0PXIubGVuZ3RoLGU9LTE7Zm9yKDsrK2U8dDspbyhyW2VdKX0oKTpvKHIpfX1zLnVua25vd249ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHR5cGUgYCIrdC50eXBlKyJgIil9LHMuaW52YWxpZD1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW52YWxpZCB0eXBlIil9LGMuc2VsZWN0b3JzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1mKG4ub25lKSxvPXQuc2VsZWN0b3JzLGk9by5sZW5ndGgsYT0tMTtmb3IoOysrYTxpOylyKHUob1thXSxlLG4pKTtyZXR1cm4gci5yZXN1bHR9LGMucnVsZVNldD11LGMucnVsZT1sfSxIWVlYOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigicEl3QyIpLG89bigiYTZCQyIpLGk9bigiOVV3diIpLGE9bigiWUNKQSIpLHM9bigia1NKSyIpOyh0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixvLGMsdSxsO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDJ8fCJzdHJpbmciIT09dHlwZW9mIHQ/KHU9ZSxlPXQsdD1udWxsKTp1PWFyZ3VtZW50c1syXSxyKHQpPyhuPXMuY2FsbCh0LCJjIiksbz1zLmNhbGwodCwiZSIpLGM9cy5jYWxsKHQsInciKSk6KG49Yz0hMCxvPSExKSxsPXt2YWx1ZTplLGNvbmZpZ3VyYWJsZTpuLGVudW1lcmFibGU6byx3cml0YWJsZTpjfSx1P2koYSh1KSxsKTpsfSkuZ3M9ZnVuY3Rpb24odCxlLG4pe3ZhciBjLHUsbCxmO3JldHVybiJzdHJpbmciIT09dHlwZW9mIHQ/KGw9bixuPWUsZT10LHQ9bnVsbCk6bD1hcmd1bWVudHNbM10scihlKT9vKGUpP3Iobik/byhuKXx8KGw9bixuPXZvaWQgMCk6bj12b2lkIDA6KGw9ZSxlPW49dm9pZCAwKTplPXZvaWQgMCxyKHQpPyhjPXMuY2FsbCh0LCJjIiksdT1zLmNhbGwodCwiZSIpKTooYz0hMCx1PSExKSxmPXtnZXQ6ZSxzZXQ6bixjb25maWd1cmFibGU6YyxlbnVtZXJhYmxlOnV9LGw/aShhKGwpLGYpOmZ9fSxIZzdMOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiYnRGUyIpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiByKHRoaXMpLmxlbmd0aD0wLHRoaXN9fSxIZ3JYOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdC50b1N0cmluZygpfWNhdGNoKGUpe3RyeXtyZXR1cm4gU3RyaW5nKHQpfWNhdGNoKG4pe3JldHVybiBudWxsfX19fSxIa0J4OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtpZigic3RyaW5nIj09PXR5cGVvZiB0KXJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIEJvb2xlYW4oZSYmZS50eXBlPT09dCl9fSh0KTtpZihudWxsPT09dHx8dm9pZCAwPT09dClyZXR1cm4gYTtpZigib2JqZWN0Ij09PXR5cGVvZiB0KXJldHVybigibGVuZ3RoImluIHQ/aTpvKSh0KTtpZigiZnVuY3Rpb24iPT09dHlwZW9mIHQpcmV0dXJuIHQ7dGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCBmdW5jdGlvbiwgc3RyaW5nLCBvciBvYmplY3QgYXMgdGVzdCIpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuO2ZvcihuIGluIHQpaWYoZVtuXSE9PXRbbl0pcmV0dXJuITE7cmV0dXJuITB9fWZ1bmN0aW9uIGkodCl7dmFyIGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49dC5sZW5ndGgsbz0tMTsrK288bjspZVtvXT1yKHRbb10pO3JldHVybiBlfSh0KSxuPWUubGVuZ3RoO3JldHVybiBmdW5jdGlvbigpe3ZhciB0PS0xO2Zvcig7Kyt0PG47KWlmKGVbdF0uYXBwbHkodGhpcyxhcmd1bWVudHMpKXJldHVybiEwO3JldHVybiExfX1mdW5jdGlvbiBhKCl7cmV0dXJuITB9dC5leHBvcnRzPXJ9LEhtUkc6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJm51bGwhPXQuY29uc3RydWN0b3ImJiJmdW5jdGlvbiI9PT10eXBlb2YgdC5jb25zdHJ1Y3Rvci5pc0J1ZmZlciYmdC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcih0KX19LCJJNyt1IjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7aWYoInN0cmluZyI9PT10eXBlb2YgdClyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBCb29sZWFuKGUmJmUudHlwZT09PXQpfX0odCk7aWYobnVsbD09PXR8fHZvaWQgMD09PXQpcmV0dXJuIGE7aWYoIm9iamVjdCI9PT10eXBlb2YgdClyZXR1cm4oImxlbmd0aCJpbiB0P2k6bykodCk7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiB0KXJldHVybiB0O3Rocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgZnVuY3Rpb24sIHN0cmluZywgb3Igb2JqZWN0IGFzIHRlc3QiKX1mdW5jdGlvbiBvKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbjtmb3IobiBpbiB0KWlmKGVbbl0hPT10W25dKXJldHVybiExO3JldHVybiEwfX1mdW5jdGlvbiBpKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPXQubGVuZ3RoLG89LTE7KytvPG47KWVbb109cih0W29dKTtyZXR1cm4gZX0odCksbj1lLmxlbmd0aDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD0tMTtmb3IoOysrdDxuOylpZihlW3RdLmFwcGx5KHRoaXMsYXJndW1lbnRzKSlyZXR1cm4hMDtyZXR1cm4hMX19ZnVuY3Rpb24gYSgpe3JldHVybiEwfXQuZXhwb3J0cz1yfSxJQldKOmZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dFswXSxuPXRbMV0tMTtpZihuPDAmJmU8PTApcmV0dXJuIGk7aWYoLTE9PT1lKXJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdDw9bn07aWYoMD09PWUpcmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0PT09bn07aWYoMT09PWUpcmV0dXJuIG48MD9vOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj1ufTt2YXIgcj1uJWU7cjwwJiYocis9ZSk7aWYoZT4xKXJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdD49biYmdCVlPT09cn07cmV0dXJuIGUqPS0xLGZ1bmN0aW9uKHQpe3JldHVybiB0PD1uJiZ0JWU9PT1yfX07dmFyIHI9bigibWVSKyIpLG89ci50cnVlRnVuYyxpPXIuZmFsc2VGdW5jfSxJREVmOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPW4oIkZLdkUiKSgpP09iamVjdC5hc3NpZ246bigiOWc2NiIpfSxJSGtqOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiYnRERiIpLG89bigid282bCIpLGk9bigiTWtQaSIpLGE9bigiYnkxdSIpLHM9bigiWHc1dSIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuLGY9dGhpcy5vcHRpb25zO2lmKG51bGw9PXQpdD17fTtlbHNle2lmKCJvYmplY3QiIT09dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHZhbHVlIGAiK3QrImAgZm9yIHNldHRpbmcgYG9wdGlvbnNgIik7dD1yKHQpfWZvcihuIGluIGkpdVt0eXBlb2YgaVtuXV0odCxuLGZbbl0sY1tuXSk7KGU9dC5ydWxlUmVwZXRpdGlvbikmJmU8MyYmbChlLCJvcHRpb25zLnJ1bGVSZXBldGl0aW9uIik7cmV0dXJuIHRoaXMuZW5jb2RlPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O2lmKCJmYWxzZSI9PT10KXJldHVybiBzOyJ0cnVlIj09PXQmJihlLnVzZU5hbWVkUmVmZXJlbmNlcz0hMCk7ImVzY2FwZSI9PT10JiYoZS5lc2NhcGVPbmx5PSEwLGUudXNlTmFtZWRSZWZlcmVuY2VzPSEwKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG8odCxlKX19KFN0cmluZyh0LmVudGl0aWVzKSksdGhpcy5lc2NhcGU9YSh0KSx0aGlzLm9wdGlvbnM9dCx0aGlzfTt2YXIgYz17ZW50aXRpZXM6e3RydWU6ITAsZmFsc2U6ITAsbnVtYmVyczohMCxlc2NhcGU6ITB9LGJ1bGxldDp7IioiOiEwLCItIjohMCwiKyI6ITB9LHJ1bGU6eyItIjohMCxfOiEwLCIqIjohMH0sbGlzdEl0ZW1JbmRlbnQ6e3RhYjohMCxtaXhlZDohMCwxOiEwfSxlbXBoYXNpczp7XzohMCwiKiI6ITB9LHN0cm9uZzp7XzohMCwiKiI6ITB9LGZlbmNlOnsiYCI6ITAsIn4iOiEwfX0sdT17Ym9vbGVhbjpmdW5jdGlvbih0LGUsbil7dmFyIHI9dFtlXTtudWxsPT1yJiYocj1uKTsiYm9vbGVhbiIhPT10eXBlb2YgciYmbChyLCJvcHRpb25zLiIrZSk7dFtlXT1yfSxzdHJpbmc6ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dFtlXTtudWxsPT1vJiYobz1uKTsobz1TdHJpbmcobykpaW4gcnx8bChvLCJvcHRpb25zLiIrZSk7dFtlXT1vfSxudW1iZXI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRbZV07bnVsbD09ciYmKHI9bik7aXNOYU4ocikmJmwociwib3B0aW9ucy4iK2UpO3RbZV09cn0sZnVuY3Rpb246ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRbZV07bnVsbD09ciYmKHI9bik7ImZ1bmN0aW9uIiE9PXR5cGVvZiByJiZsKHIsIm9wdGlvbnMuIitlKTt0W2VdPXJ9fTtmdW5jdGlvbiBsKHQsZSl7dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHZhbHVlIGAiK3QrImAgZm9yIHNldHRpbmcgYCIrZSsiYCIpfX0sSVBBcjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gby50ZXN0KCJudW1iZXIiPT09dHlwZW9mIHQ/cih0KTp0LmNoYXJBdCgwKSl9O3ZhciByPVN0cmluZy5mcm9tQ2hhckNvZGUsbz0vXHMvfSxJUllBOmZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgU3RyaW5nXSI9PT1uLmNhbGwodCl9fSwiSVdCLyI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJZc1R6Iiksbz17ZnVuY3Rpb246ITAsb2JqZWN0OiEwfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIodCkmJm9bdHlwZW9mIHRdfHwhMX19LElvZUU6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuKGUuY2hpbGRyZW58fFtdKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuImRlZmluaXRpb24iPT09bi50eXBlJiYoZVtuLmlkZW50aWZpZXJdPXtocmVmOm4udXJsLHRpdGxlOm4udGl0bGV9KSx0KG4sZSl9KSxuKX19LElwTHM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdCxlO2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgV2Vha01hcClyZXR1cm4hMTt0cnl7dD1uZXcgV2Vha01hcChbW2U9e30sIm9uZSJdLFt7fSwidHdvIl0sW3t9LCJ0aHJlZSJdXSl9Y2F0Y2gobil7cmV0dXJuITF9cmV0dXJuIltvYmplY3QgV2Vha01hcF0iPT09U3RyaW5nKHQpJiYoImZ1bmN0aW9uIj09PXR5cGVvZiB0LnNldCYmKHQuc2V0KHt9LDEpPT09dCYmKCJmdW5jdGlvbiI9PT10eXBlb2YgdC5kZWxldGUmJigiZnVuY3Rpb24iPT09dHlwZW9mIHQuaGFzJiYib25lIj09PXQuZ2V0KGUpKSkpKX19LEl1MnY6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihudWxsPT10KXJldHVybnt9O3ZhciBuLHIsbz17fSxpPU9iamVjdC5rZXlzKHQpO2ZvcihyPTA7cjxpLmxlbmd0aDtyKyspbj1pW3JdLGUuaW5kZXhPZihuKT49MHx8KG9bbl09dFtuXSk7cmV0dXJuIG99fSxJdWpXOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsbj1uZXcgQXJyYXkodC5sZW5ndGgpO2U8dC5sZW5ndGg7ZSsrKW5bZV09dFtlXTtyZXR1cm4gbn19KHQpfHxmdW5jdGlvbih0KXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gQXJyYXkuZnJvbSh0KX0odCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKX12YXIgbz1uKCJVNmp5IiksaT1uKCJaRXgvIiksYT1uKCJ2MG9MIikscz1uKCIxN3g5IiksYz1uKCJ3bk9KIiksdT1uKCJjVldqIiksbD1uKCJ1M2kvIiksZj1uKCJVVitQIikscD1uKCI5WjVQIiksaD1uKCJJb2VFIiksZD1uKCJOdzhYIiksdj1uKCIzbTM2IikseT1uKCJoOWNrIiksbT1PYmplY3Qua2V5cyh2KSxnPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc291cmNlfHx0LmNoaWxkcmVufHwiIixuPXQucGFyc2VyT3B0aW9ucztpZih0LmFsbG93ZWRUeXBlcyYmdC5kaXNhbGxvd2VkVHlwZXMpdGhyb3cgbmV3IEVycm9yKCJPbmx5IG9uZSBvZiBgYWxsb3dlZFR5cGVzYCBhbmQgYGRpc2FsbG93ZWRUeXBlc2Agc2hvdWxkIGJlIGRlZmluZWQiKTt2YXIgcj1vKHYsdC5yZW5kZXJlcnMpLHM9W1thLG5dXS5jb25jYXQodC5wbHVnaW5zfHxbXSkucmVkdWNlKGIsaSgpKSxkPXMucGFyc2UoZSksZz1vKHQse3JlbmRlcmVyczpyLGRlZmluaXRpb25zOmgoZCl9KSx4PWZ1bmN0aW9uKHQpe3ZhciBlPVtwLGMoKV0sbj10LmRpc2FsbG93ZWRUeXBlczt0LmFsbG93ZWRUeXBlcyYmKG49bS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJyb290IiE9PWUmJi0xPT09dC5hbGxvd2VkVHlwZXMuaW5kZXhPZihlKX0pKSk7dmFyIHI9dC51bndyYXBEaXNhbGxvd2VkPyJ1bndyYXAiOiJyZW1vdmUiO24mJm4ubGVuZ3RoPjAmJmUucHVzaChsLm9mVHlwZShuLHIpKTt0LmFsbG93Tm9kZSYmZS5wdXNoKGwuaWZOb3RNYXRjaCh0LmFsbG93Tm9kZSxyKSk7dmFyIG89IXQuZXNjYXBlSHRtbCYmIXQuc2tpcEh0bWwsaT0odC5hc3RQbHVnaW5zfHxbXSkuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuKEFycmF5LmlzQXJyYXkodCk/dFswXTp0KS5pZGVudGl0eT09PXkuSHRtbFBhcnNlcn0pKTtvJiYhaSYmZS5wdXNoKHUpO3JldHVybiB0LmFzdFBsdWdpbnM/ZS5jb25jYXQodC5hc3RQbHVnaW5zKTplfSh0KSx3PXMucnVuU3luYyhkKSxrPXgucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiBlKHQsZyl9KSx3KTtyZXR1cm4gZihrLGcpfTtmdW5jdGlvbiBiKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/dC51c2UuYXBwbHkodCxyKGUpKTp0LnVzZShlKX1nLmRlZmF1bHRQcm9wcz17cmVuZGVyZXJzOnt9LGVzY2FwZUh0bWw6ITAsc2tpcEh0bWw6ITEsc291cmNlUG9zOiExLHJhd1NvdXJjZVBvczohMSx0cmFuc2Zvcm1MaW5rVXJpOmQsYXN0UGx1Z2luczpbXSxwbHVnaW5zOltdLHBhcnNlck9wdGlvbnM6e319LGcucHJvcFR5cGVzPXtjbGFzc05hbWU6cy5zdHJpbmcsc291cmNlOnMuc3RyaW5nLGNoaWxkcmVuOnMuc3RyaW5nLHNvdXJjZVBvczpzLmJvb2wscmF3U291cmNlUG9zOnMuYm9vbCxlc2NhcGVIdG1sOnMuYm9vbCxza2lwSHRtbDpzLmJvb2wsYWxsb3dOb2RlOnMuZnVuYyxhbGxvd2VkVHlwZXM6cy5hcnJheU9mKHMub25lT2YobSkpLGRpc2FsbG93ZWRUeXBlczpzLmFycmF5T2Yocy5vbmVPZihtKSksdHJhbnNmb3JtTGlua1VyaTpzLm9uZU9mVHlwZShbcy5mdW5jLHMuYm9vbF0pLGxpbmtUYXJnZXQ6cy5vbmVPZlR5cGUoW3MuZnVuYyxzLnN0cmluZ10pLHRyYW5zZm9ybUltYWdlVXJpOnMuZnVuYyxhc3RQbHVnaW5zOnMuYXJyYXlPZihzLmZ1bmMpLHVud3JhcERpc2FsbG93ZWQ6cy5ib29sLHJlbmRlcmVyczpzLm9iamVjdCxwbHVnaW5zOnMuYXJyYXkscGFyc2VyT3B0aW9uczpzLm9iamVjdH0sZy50eXBlcz1tLGcucmVuZGVyZXJzPXYsZy51cmlUcmFuc2Zvcm1lcj1kLHQuZXhwb3J0cz1nfSxKNHpwOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJ3VFZBIiksbz1uKCJtMExJIiksaT1uKCJ3a0JUIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIodCl8fG8odCxlKXx8aSgpfX0sSjV5VzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjFpQUUiKSxvPW4oIlpPTlAiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIodCl8fG8odCl9fSxKSG1WOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiMDdQNSIpLG89bigiZzZtUSIpLGk9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49e30sYT1hcmd1bWVudHNbMl07cmV0dXJuIHIoZSksbyh0LChmdW5jdGlvbih0LHIsbyxzKXtuW3JdPWkuY2FsbChlLGEsdCxyLG8scyl9KSksbn19LEpPdWU6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJLNUxnIik7dC5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlzaXQocih0aGlzLnRyZWUsdGhpcy5vcHRpb25zLmNvbW1vbm1hcmspKX19LEpSSm86ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5yZWZlcmVuY2VUeXBlO2lmKGU9PT1pKXJldHVybiIiO3JldHVybiByKyhlPT09YT8iIjp0LmxhYmVsfHx0LmlkZW50aWZpZXIpK299O3ZhciByPSJbIixvPSJdIixpPSJzaG9ydGN1dCIsYT0iY29sbGFwc2VkIn0sSldCODpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlU2ankiKSxvPW4oIjRNcUQiKSxpPW4oIjduUE0iKSxhPW4oIkd5ZVoiKSxzPW4oIjFkYjMiKSxjPW4oIjIycEMiKTtmdW5jdGlvbiB1KHQsZSl7dGhpcy5maWxlPWUsdGhpcy5vZmZzZXQ9e30sdGhpcy5vcHRpb25zPXIodGhpcy5vcHRpb25zKSx0aGlzLnNldE9wdGlvbnMoe30pLHRoaXMuaW5MaXN0PSExLHRoaXMuaW5CbG9jaz0hMSx0aGlzLmluTGluaz0hMSx0aGlzLmF0U3RhcnQ9ITAsdGhpcy50b09mZnNldD1pKGUpLnRvT2Zmc2V0LHRoaXMudW5lc2NhcGU9YSh0aGlzLCJlc2NhcGUiKSx0aGlzLmRlY29kZT1zKHRoaXMpfXQuZXhwb3J0cz11O3ZhciBsPXUucHJvdG90eXBlO2Z1bmN0aW9uIGYodCl7dmFyIGUsbj1bXTtmb3IoZSBpbiB0KW4ucHVzaChlKTtyZXR1cm4gbn1sLnNldE9wdGlvbnM9bigicVVpayIpLGwucGFyc2U9bigiN014UiIpLGwub3B0aW9ucz1uKCIzK05iIiksbC5leGl0U3RhcnQ9bygiYXRTdGFydCIsITApLGwuZW50ZXJMaXN0PW8oImluTGlzdCIsITEpLGwuZW50ZXJMaW5rPW8oImluTGluayIsITEpLGwuZW50ZXJCbG9jaz1vKCJpbkJsb2NrIiwhMSksbC5pbnRlcnJ1cHRQYXJhZ3JhcGg9W1sidGhlbWF0aWNCcmVhayJdLFsiYXR4SGVhZGluZyJdLFsiZmVuY2VkQ29kZSJdLFsiYmxvY2txdW90ZSJdLFsiaHRtbCJdLFsic2V0ZXh0SGVhZGluZyIse2NvbW1vbm1hcms6ITF9XSxbImRlZmluaXRpb24iLHtjb21tb25tYXJrOiExfV0sWyJmb290bm90ZSIse2NvbW1vbm1hcms6ITF9XV0sbC5pbnRlcnJ1cHRMaXN0PVtbImF0eEhlYWRpbmciLHtwZWRhbnRpYzohMX1dLFsiZmVuY2VkQ29kZSIse3BlZGFudGljOiExfV0sWyJ0aGVtYXRpY0JyZWFrIix7cGVkYW50aWM6ITF9XSxbImRlZmluaXRpb24iLHtjb21tb25tYXJrOiExfV0sWyJmb290bm90ZSIse2NvbW1vbm1hcms6ITF9XV0sbC5pbnRlcnJ1cHRCbG9ja3F1b3RlPVtbImluZGVudGVkQ29kZSIse2NvbW1vbm1hcms6ITB9XSxbImZlbmNlZENvZGUiLHtjb21tb25tYXJrOiEwfV0sWyJhdHhIZWFkaW5nIix7Y29tbW9ubWFyazohMH1dLFsic2V0ZXh0SGVhZGluZyIse2NvbW1vbm1hcms6ITB9XSxbInRoZW1hdGljQnJlYWsiLHtjb21tb25tYXJrOiEwfV0sWyJodG1sIix7Y29tbW9ubWFyazohMH1dLFsibGlzdCIse2NvbW1vbm1hcms6ITB9XSxbImRlZmluaXRpb24iLHtjb21tb25tYXJrOiExfV0sWyJmb290bm90ZSIse2NvbW1vbm1hcms6ITF9XV0sbC5ibG9ja1Rva2VuaXplcnM9e25ld2xpbmU6bigiYWtObiIpLGluZGVudGVkQ29kZTpuKCJrbUo3IiksZmVuY2VkQ29kZTpuKCJTeWQ3IiksYmxvY2txdW90ZTpuKCJzb1dqIiksYXR4SGVhZGluZzpuKCJrRHVYIiksdGhlbWF0aWNCcmVhazpuKCJyVVk4IiksbGlzdDpuKCJOeDdPIiksc2V0ZXh0SGVhZGluZzpuKCJsZWJxIiksaHRtbDpuKCJ0dk9vIiksZm9vdG5vdGU6bigiNjIraiIpLGRlZmluaXRpb246bigidXV5diIpLHRhYmxlOm4oIjJhK2IiKSxwYXJhZ3JhcGg6bigiTmlEQyIpfSxsLmlubGluZVRva2VuaXplcnM9e2VzY2FwZTpuKCJtY1VUIiksYXV0b0xpbms6bigiU2NlMyIpLHVybDpuKCJETlhlIiksaHRtbDpuKCJnMWswIiksbGluazpuKCJNTkdJIikscmVmZXJlbmNlOm4oImM2TFEiKSxzdHJvbmc6bigicVBNUiIpLGVtcGhhc2lzOm4oIkRDQ3QiKSxkZWxldGlvbjpuKCJlZ0k4IiksY29kZTpuKCJjRkFBIiksYnJlYWs6bigibGdGOSIpLHRleHQ6bigiNVQ0bSIpfSxsLmJsb2NrTWV0aG9kcz1mKGwuYmxvY2tUb2tlbml6ZXJzKSxsLmlubGluZU1ldGhvZHM9ZihsLmlubGluZVRva2VuaXplcnMpLGwudG9rZW5pemVCbG9jaz1jKCJibG9jayIpLGwudG9rZW5pemVJbmxpbmU9YygiaW5saW5lIiksbC50b2tlbml6ZUZhY3Rvcnk9Y30sSmI3ZzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjlRaDQiKSxvPW4oInM0QU8iKSxpPU9iamVjdC5jcmVhdGUobnVsbCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LHtmb3I6cigoZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV0/aVtlXTppW2VdPXQoU3RyaW5nKGUpKX0pKSxrZXlGb3I6cigoZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGUgaW4gbyh0KSxpKWlmKGlbZV09PT10KXJldHVybiBlfSkpfSl9fSxKYmg0OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiVVNqUiIpLml0ZXJhdG9yLG89bigiNDFxdCIpLGk9bigiOVpleCIpLGE9bigiNXpTNCIpLHM9bigiMDdQNSIpLGM9bigiYnRGUyIpLHU9bigidDRnYyIpLGw9bigiOFNydSIpLGY9QXJyYXkuaXNBcnJheSxwPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLGg9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm51bGx9LGQ9T2JqZWN0LmRlZmluZVByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuLHYseSxtLGcsYix4LHcsayxfPWFyZ3VtZW50c1sxXSxBPWFyZ3VtZW50c1syXTtpZih0PU9iamVjdChjKHQpKSx1KF8pJiZzKF8pLHRoaXMmJnRoaXMhPT1BcnJheSYmaSh0aGlzKSllPXRoaXM7ZWxzZXtpZighXyl7aWYobyh0KSlyZXR1cm4gMSE9PShtPXQubGVuZ3RoKT9BcnJheS5hcHBseShudWxsLHQpOigoeT1uZXcgQXJyYXkoMSkpWzBdPXRbMF0seSk7aWYoZih0KSl7Zm9yKHk9bmV3IEFycmF5KG09dC5sZW5ndGgpLG49MDtuPG07KytuKXlbbl09dFtuXTtyZXR1cm4geX19eT1bXX1pZighZih0KSlpZih2b2lkIDAhPT0odz10W3JdKSl7Zm9yKGI9cyh3KS5jYWxsKHQpLGUmJih5PW5ldyBlKSx4PWIubmV4dCgpLG49MDsheC5kb25lOylrPV8/cC5jYWxsKF8sQSx4LnZhbHVlLG4pOngudmFsdWUsZT8oaC52YWx1ZT1rLGQoeSxuLGgpKTp5W25dPWsseD1iLm5leHQoKSwrK247bT1ufWVsc2UgaWYobCh0KSl7Zm9yKG09dC5sZW5ndGgsZSYmKHk9bmV3IGUpLG49MCx2PTA7bjxtOysrbilrPXRbbl0sbisxPG0mJihnPWsuY2hhckNvZGVBdCgwKSk+PTU1Mjk2JiZnPD01NjMxOSYmKGsrPXRbKytuXSksaz1fP3AuY2FsbChfLEEsayx2KTprLGU/KGgudmFsdWU9ayxkKHksdixoKSk6eVt2XT1rLCsrdjttPXZ9aWYodm9pZCAwPT09bSlmb3IobT1hKHQubGVuZ3RoKSxlJiYoeT1uZXcgZShtKSksbj0wO248bTsrK24paz1fP3AuY2FsbChfLEEsdFtuXSxuKTp0W25dLGU/KGgudmFsdWU9ayxkKHksbixoKSk6eVtuXT1rO3JldHVybiBlJiYoaC52YWx1ZT1udWxsLHkubGVuZ3RoPW0pLHl9fSxKZjdqOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPXM7dmFyIHI9bigiMnlmSSIpLG89ITAsaT0ic2tpcCIsYT0hMTtmdW5jdGlvbiBzKHQsZSxuLG8pe3ZhciBzO2Z1bmN0aW9uIHUodCxyLGwpe3ZhciBmLHA9W107cmV0dXJuKGUmJiFzKHQscixsW2wubGVuZ3RoLTFdfHxudWxsKXx8KHA9YyhuKHQsbCkpKVswXSE9PWEpJiZ0LmNoaWxkcmVuJiZwWzBdIT09aSYmKGY9YyhmdW5jdGlvbih0LGUpe3ZhciBuLHI9bz8tMToxLGk9KG8/dC5sZW5ndGg6LTEpK3I7Zm9yKDtpPi0xJiZpPHQubGVuZ3RoOyl7aWYoKG49dSh0W2ldLGksZSkpWzBdPT09YSlyZXR1cm4gbjtpPSJudW1iZXIiPT09dHlwZW9mIG5bMV0/blsxXTppK3J9fSh0LmNoaWxkcmVuLGwuY29uY2F0KHQpKSkpWzBdPT09YT9mOnB9ImZ1bmN0aW9uIj09PXR5cGVvZiBlJiYiZnVuY3Rpb24iIT09dHlwZW9mIG4mJihvPW4sbj1lLGU9bnVsbCkscz1yKGUpLHUodCxudWxsLFtdKX1mdW5jdGlvbiBjKHQpe3JldHVybiBudWxsIT09dCYmIm9iamVjdCI9PT10eXBlb2YgdCYmImxlbmd0aCJpbiB0P3Q6Im51bWJlciI9PT10eXBlb2YgdD9bbyx0XTpbdF19cy5DT05USU5VRT1vLHMuU0tJUD1pLHMuRVhJVD1hfSxKaXFMOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiaE5ONCIpLG89bigiazJxTSIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbyh0KT90OnIodCwiQ2Fubm90IHVzZSAldiIsYXJndW1lbnRzWzFdKX19LEpxQks6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZyh0KS5yZXBsYWNlKC9ccysvZywiICIpfX0sSzRBMjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByLG89bigiSGc3TCIpLGk9bigiOVV3diIpLGE9bigiMDdQNSIpLHM9bigiYnRGUyIpLGM9bigiSFlZWCIpLHU9bigidHpGWiIpLGw9bigiVVNqUiIpLGY9T2JqZWN0LmRlZmluZVByb3BlcnR5LHA9T2JqZWN0LmRlZmluZVByb3BlcnRpZXM7dC5leHBvcnRzPXI9ZnVuY3Rpb24odCxlKXtpZighKHRoaXMgaW5zdGFuY2VvZiByKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDb25zdHJ1Y3RvciByZXF1aXJlcyAnbmV3JyIpO3AodGhpcyx7X19saXN0X186YygidyIscyh0KSksX19jb250ZXh0X186YygidyIsZSksX19uZXh0SW5kZXhfXzpjKCJ3IiwwKX0pLGUmJihhKGUub24pLGUub24oIl9hZGQiLHRoaXMuX29uQWRkKSxlLm9uKCJfZGVsZXRlIix0aGlzLl9vbkRlbGV0ZSksZS5vbigiX2NsZWFyIix0aGlzLl9vbkNsZWFyKSl9LGRlbGV0ZSByLnByb3RvdHlwZS5jb25zdHJ1Y3RvcixwKHIucHJvdG90eXBlLGkoe19uZXh0OmMoKGZ1bmN0aW9uKCl7dmFyIHQ7aWYodGhpcy5fX2xpc3RfXylyZXR1cm4gdGhpcy5fX3JlZG9fXyYmdm9pZCAwIT09KHQ9dGhpcy5fX3JlZG9fXy5zaGlmdCgpKT90OnRoaXMuX19uZXh0SW5kZXhfXzx0aGlzLl9fbGlzdF9fLmxlbmd0aD90aGlzLl9fbmV4dEluZGV4X18rKzp2b2lkIHRoaXMuX3VuQmluZCgpfSkpLG5leHQ6YygoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3JlYXRlUmVzdWx0KHRoaXMuX25leHQoKSl9KSksX2NyZWF0ZVJlc3VsdDpjKChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dD97ZG9uZTohMCx2YWx1ZTp2b2lkIDB9Ontkb25lOiExLHZhbHVlOnRoaXMuX3Jlc29sdmUodCl9fSkpLF9yZXNvbHZlOmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fbGlzdF9fW3RdfSkpLF91bkJpbmQ6YygoZnVuY3Rpb24oKXt0aGlzLl9fbGlzdF9fPW51bGwsZGVsZXRlIHRoaXMuX19yZWRvX18sdGhpcy5fX2NvbnRleHRfXyYmKHRoaXMuX19jb250ZXh0X18ub2ZmKCJfYWRkIix0aGlzLl9vbkFkZCksdGhpcy5fX2NvbnRleHRfXy5vZmYoIl9kZWxldGUiLHRoaXMuX29uRGVsZXRlKSx0aGlzLl9fY29udGV4dF9fLm9mZigiX2NsZWFyIix0aGlzLl9vbkNsZWFyKSx0aGlzLl9fY29udGV4dF9fPW51bGwpfSkpLHRvU3RyaW5nOmMoKGZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgIisodGhpc1tsLnRvU3RyaW5nVGFnXXx8Ik9iamVjdCIpKyJdIn0pKX0sdSh7X29uQWRkOmMoKGZ1bmN0aW9uKHQpe3Q+PXRoaXMuX19uZXh0SW5kZXhfX3x8KCsrdGhpcy5fX25leHRJbmRleF9fLHRoaXMuX19yZWRvX18/KHRoaXMuX19yZWRvX18uZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXtlPj10JiYodGhpcy5fX3JlZG9fX1tuXT0rK2UpfSksdGhpcyksdGhpcy5fX3JlZG9fXy5wdXNoKHQpKTpmKHRoaXMsIl9fcmVkb19fIixjKCJjIixbdF0pKSl9KSksX29uRGVsZXRlOmMoKGZ1bmN0aW9uKHQpe3ZhciBlO3Q+PXRoaXMuX19uZXh0SW5kZXhfX3x8KC0tdGhpcy5fX25leHRJbmRleF9fLHRoaXMuX19yZWRvX18mJigtMSE9PShlPXRoaXMuX19yZWRvX18uaW5kZXhPZih0KSkmJnRoaXMuX19yZWRvX18uc3BsaWNlKGUsMSksdGhpcy5fX3JlZG9fXy5mb3JFYWNoKChmdW5jdGlvbihlLG4pe2U+dCYmKHRoaXMuX19yZWRvX19bbl09LS1lKX0pLHRoaXMpKSl9KSksX29uQ2xlYXI6YygoZnVuY3Rpb24oKXt0aGlzLl9fcmVkb19fJiZvLmNhbGwodGhpcy5fX3JlZG9fXyksdGhpcy5fX25leHRJbmRleF9fPTB9KSl9KSkpLGYoci5wcm90b3R5cGUsbC5pdGVyYXRvcixjKChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpKX0sSzVMZzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlpwY0oiKTtmdW5jdGlvbiBvKHQsZSl7dmFyIG4scjtyZXR1cm4idGV4dCI9PT10LnR5cGU/IXQucG9zaXRpb258fChuPXQucG9zaXRpb24uc3RhcnQscj10LnBvc2l0aW9uLmVuZCxuLmxpbmUhPT1yLmxpbmV8fHIuY29sdW1uLW4uY29sdW1uPT09dC52YWx1ZS5sZW5ndGgpOmUmJiJibG9ja3F1b3RlIj09PXQudHlwZX10LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcih0LChmdW5jdGlvbih0LG4scil7dmFyIGk9cj9yLmNoaWxkcmVuOltdLGE9biYmaVtuLTFdO2lmKGEmJnQudHlwZT09PWEudHlwZSYmbyhhLGUpJiZvKHQsZSkpcmV0dXJuIHQudmFsdWUmJihhLnZhbHVlKz10LnZhbHVlKSx0LmNoaWxkcmVuJiYoYS5jaGlsZHJlbj1hLmNoaWxkcmVuLmNvbmNhdCh0LmNoaWxkcmVuKSksaS5zcGxpY2UobiwxKSxhLnBvc2l0aW9uJiZ0LnBvc2l0aW9uJiYoYS5wb3NpdGlvbi5lbmQ9dC5wb3NpdGlvbi5lbmQpLG59KSksdH19LEs5QXM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4ib2JqZWN0Ij09PXR5cGVvZiBnbG9iYWxUaGlzJiYoISFnbG9iYWxUaGlzJiZnbG9iYWxUaGlzLkFycmF5PT09QXJyYXkpfX0sTDRyMDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT0ic3RyaW5nIj09PXR5cGVvZiB0P3QuY2hhckNvZGVBdCgwKTp0O3JldHVybiBlPj05NyYmZTw9MTAyfHxlPj02NSYmZTw9NzB8fGU+PTQ4JiZlPD01N319LEw4UXk6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj17fS5oYXNPd25Qcm9wZXJ0eTtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiYib2JqZWN0Ij09PXR5cGVvZiB0fHwodD17fSksYSh0LmxpbmUpKyI6IithKHQuY29sdW1uKX1mdW5jdGlvbiBpKHQpe3JldHVybiB0JiYib2JqZWN0Ij09PXR5cGVvZiB0fHwodD17fSksbyh0LnN0YXJ0KSsiLSIrbyh0LmVuZCl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdCYmIm51bWJlciI9PT10eXBlb2YgdD90OjF9dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCF0fHwib2JqZWN0IiE9PXR5cGVvZiB0KXJldHVybiIiO2lmKHIuY2FsbCh0LCJwb3NpdGlvbiIpfHxyLmNhbGwodCwidHlwZSIpKXJldHVybiBpKHQucG9zaXRpb24pO2lmKHIuY2FsbCh0LCJzdGFydCIpfHxyLmNhbGwodCwiZW5kIikpcmV0dXJuIGkodCk7aWYoci5jYWxsKHQsImxpbmUiKXx8ci5jYWxsKHQsImNvbHVtbiIpKXJldHVybiBvKHQpO3JldHVybiIifX0sTEg5YjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oInl6MDkiKSxvPW4oIjEzRFEiKSxpPW4oIjlIUkwiKSxhPW4oIlp6aTQiKSxzPW4oIjVOR0IiKSxjPW4oIlIvZlUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBvLGEscyxnLHgsdyxrLF8sQSxqLEUsUyxOLFAsQyxJLFQsTSxMLHosUixGLEQ9dGhpcy5vcHRpb25zLmNvbW1vbm1hcmssQj10aGlzLm9wdGlvbnMucGVkYW50aWMsVT10aGlzLmJsb2NrVG9rZW5pemVycyxxPXRoaXMuaW50ZXJydXB0TGlzdCxIPTAsVz1lLmxlbmd0aCxZPW51bGwsWj0wLFg9ITE7Zm9yKDtIPFc7KXtpZigocz1lLmNoYXJBdChIKSk9PT15KVorPWItWiViO2Vsc2V7aWYocyE9PWQpYnJlYWs7WisrfUgrK31pZihaPj1iKXJldHVybjtpZigocz1lLmNoYXJBdChIKSk9PT11fHxzPT09Znx8cz09PXApZz1zLGE9ITE7ZWxzZXtmb3IoYT0hMCxvPSIiO0g8VyYmKHM9ZS5jaGFyQXQoSCksaShzKSk7KW8rPXMsSCsrO2lmKHM9ZS5jaGFyQXQoSCksIW98fCEocz09PWh8fEQmJnM9PT1tKSlyZXR1cm47WT1wYXJzZUludChvLDEwKSxnPXN9aWYoKHM9ZS5jaGFyQXQoKytIKSkhPT1kJiZzIT09eSYmKEJ8fHMhPT12JiYiIiE9PXMpKXJldHVybjtpZihuKXJldHVybiEwO0g9MCxOPVtdLFA9W10sQz1bXTtmb3IoO0g8Vzspe2Zvcih4PWUuaW5kZXhPZih2LEgpLHc9SCxrPSExLEY9ITEsLTE9PT14JiYoeD1XKSxSPUgrYixaPTA7SDxXOyl7aWYoKHM9ZS5jaGFyQXQoSCkpPT09eSlaKz1iLVolYjtlbHNle2lmKHMhPT1kKWJyZWFrO1orK31IKyt9aWYoWj49YiYmKEY9ITApLEkmJlo+PUkuaW5kZW50JiYoRj0hMCkscz1lLmNoYXJBdChIKSxfPW51bGwsIUYpe2lmKHM9PT11fHxzPT09Znx8cz09PXApXz1zLEgrKyxaKys7ZWxzZXtmb3Iobz0iIjtIPFcmJihzPWUuY2hhckF0KEgpLGkocykpOylvKz1zLEgrKztzPWUuY2hhckF0KEgpLEgrKyxvJiYocz09PWh8fEQmJnM9PT1tKSYmKF89cyxaKz1vLmxlbmd0aCsxKX1pZihfKWlmKChzPWUuY2hhckF0KEgpKT09PXkpWis9Yi1aJWIsSCsrO2Vsc2UgaWYocz09PWQpe2ZvcihSPUgrYjtIPFImJmUuY2hhckF0KEgpPT09ZDspSCsrLForKztIPT09UiYmZS5jaGFyQXQoSCk9PT1kJiYoSC09Yi0xLFotPWItMSl9ZWxzZSBzIT09diYmIiIhPT1zJiYoXz1udWxsKX1pZihfKXtpZighQiYmZyE9PV8pYnJlYWs7az0hMH1lbHNlIER8fEZ8fGUuY2hhckF0KHcpIT09ZD9EJiZJJiYoRj1aPj1JLmluZGVudHx8Wj5iKTpGPSEwLGs9ITEsSD13O2lmKGo9ZS5zbGljZSh3LHgpLEE9dz09PUg/ajplLnNsaWNlKEgseCksKF89PT11fHxfPT09bHx8Xz09PXApJiZVLnRoZW1hdGljQnJlYWsuY2FsbCh0aGlzLHQsaiwhMCkpYnJlYWs7aWYoRT1TLFM9IWsmJiFyKEEpLmxlbmd0aCxGJiZJKUkudmFsdWU9SS52YWx1ZS5jb25jYXQoQyxqKSxQPVAuY29uY2F0KEMsaiksQz1bXTtlbHNlIGlmKGspMCE9PUMubGVuZ3RoJiYoWD0hMCxJLnZhbHVlLnB1c2goIiIpLEkudHJhaWw9Qy5jb25jYXQoKSksST17dmFsdWU6W2pdLGluZGVudDpaLHRyYWlsOltdfSxOLnB1c2goSSksUD1QLmNvbmNhdChDLGopLEM9W107ZWxzZSBpZihTKXtpZihFJiYhRClicmVhaztDLnB1c2goail9ZWxzZXtpZihFKWJyZWFrO2lmKGMocSxVLHRoaXMsW3QsaiwhMF0pKWJyZWFrO0kudmFsdWU9SS52YWx1ZS5jb25jYXQoQyxqKSxQPVAuY29uY2F0KEMsaiksQz1bXX1IPXgrMX1MPXQoUC5qb2luKHYpKS5yZXNldCh7dHlwZToibGlzdCIsb3JkZXJlZDphLHN0YXJ0Olksc3ByZWFkOlgsY2hpbGRyZW46W119KSxUPXRoaXMuZW50ZXJMaXN0KCksTT10aGlzLmVudGVyQmxvY2soKSxIPS0xLFc9Ti5sZW5ndGg7Zm9yKDsrK0g8VzspST1OW0hdLnZhbHVlLmpvaW4odiksej10Lm5vdygpLHQoSSkoTyh0aGlzLEkseiksTCksST1OW0hdLnRyYWlsLmpvaW4odiksSCE9PVctMSYmKEkrPXYpLHQoSSk7cmV0dXJuIFQoKSxNKCksTH07dmFyIHU9IioiLGw9Il8iLGY9IisiLHA9Ii0iLGg9Ii4iLGQ9IiAiLHY9IlxuIix5PSJcdCIsbT0iKSIsZz0ieCIsYj00LHg9L1xuXG4oPyFccyokKS8sdz0vXlxbKFsgXHRdfHh8WCldWyBcdF0vLGs9L14oWyBcdF0qKShbKistXXxcZCtbLildKSggezEsNH0oPyEgKXwgfFx0fCR8KD89XG4pKShbXlxuXSopLyxfPS9eKFsgXHRdKikoWyorLV18XGQrWy4pXSkoWyBcdF0rKS8sQT0vXiggezEsNH18XHQpPy9nbTtmdW5jdGlvbiBPKHQsZSxuKXt2YXIgcixvLGk9dC5vZmZzZXQsYT1udWxsO3JldHVybiBlPSh0Lm9wdGlvbnMucGVkYW50aWM/ajpFKS5hcHBseShudWxsLGFyZ3VtZW50cyksdC5vcHRpb25zLmdmbSYmKHI9ZS5tYXRjaCh3KSkmJihvPXJbMF0ubGVuZ3RoLGE9clsxXS50b0xvd2VyQ2FzZSgpPT09ZyxpW24ubGluZV0rPW8sZT1lLnNsaWNlKG8pKSx7dHlwZToibGlzdEl0ZW0iLHNwcmVhZDp4LnRlc3QoZSksY2hlY2tlZDphLGNoaWxkcmVuOnQudG9rZW5pemVCbG9jayhlLG4pfX1mdW5jdGlvbiBqKHQsZSxuKXt2YXIgcj10Lm9mZnNldCxvPW4ubGluZTtyZXR1cm4gZT1lLnJlcGxhY2UoXyxpKSxvPW4ubGluZSxlLnJlcGxhY2UoQSxpKTtmdW5jdGlvbiBpKHQpe3JldHVybiByW29dPShyW29dfHwwKSt0Lmxlbmd0aCxvKyssIiJ9fWZ1bmN0aW9uIEUodCxlLG4pe3ZhciByLGksYyx1LGwsZixwLGg9dC5vZmZzZXQseT1uLmxpbmU7Zm9yKHU9KGU9ZS5yZXBsYWNlKGssKGZ1bmN0aW9uKHQsZSxuLGEscyl7aT1lK24rYSxjPXMsTnVtYmVyKG4pPDEwJiZpLmxlbmd0aCUyPT09MSYmKG49ZCtuKTtyZXR1cm4ocj1lK28oZCxuLmxlbmd0aCkrYSkrY30pKSkuc3BsaXQodiksKGw9cyhlLGEocikuaW5kZW50KS5zcGxpdCh2KSlbMF09YyxoW3ldPShoW3ldfHwwKStpLmxlbmd0aCx5KyssZj0wLHA9dS5sZW5ndGg7KytmPHA7KWhbeV09KGhbeV18fDApK3VbZl0ubGVuZ3RoLWxbZl0ubGVuZ3RoLHkrKztyZXR1cm4gbC5qb2luKHYpfX0sIkxSL0oiOmZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigidGdaYSIpfSxNNjI4OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPXU7dmFyIHI9bigiZDB5WSIpLG89bigiQjhQSyIpLGk9bigiVEJieSIpKCk7dS5uZWVkc0luZGV4PVsiZmlyc3QtY2hpbGQiLCJmaXJzdC1vZi10eXBlIiwibGFzdC1jaGlsZCIsImxhc3Qtb2YtdHlwZSIsIm50aC1jaGlsZCIsIm50aC1sYXN0LWNoaWxkIiwibnRoLW9mLXR5cGUiLCJudGgtbGFzdC1vZi10eXBlIiwib25seS1jaGlsZCIsIm9ubHktb2YtdHlwZSJdO3ZhciBhPW4oIlI3SkoiKSxzPXIoIm5hbWUiKSxjPXMuaGFuZGxlcnM7ZnVuY3Rpb24gdSh0LGUsbixyLG8pe2Zvcih2YXIgaT10LnBzZXVkb3MsYT1pLmxlbmd0aCxjPS0xOysrYzxhOylpZighcyhpW2NdLGUsbixyLG8pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGwodCxlLG4scixvKXt2YXIgaSxzPW8uc2hhbGxvdyxjPW8ub25lO3JldHVybiBvLnNoYWxsb3c9ITAsby5vbmU9ITAsaT1hKHQudmFsdWUsZSxvKVswXT09PWUsby5zaGFsbG93PXMsby5vbmU9YyxpfWZ1bmN0aW9uIGYodCxlKXtyZXR1cm4gZS5jaGlsZHJlbj8wPT09ZS5jaGlsZHJlbi5sZW5ndGg6ISgidmFsdWUiaW4gZSl9ZnVuY3Rpb24gcCh0LGUpe2lmKHQuc2hhbGxvdyl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCB1c2UgYDoiK2UubmFtZSsiYCB3aXRob3V0IHBhcmVudCIpfXMudW5rbm93bj1mdW5jdGlvbih0KXtpZih0Lm5hbWUpdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHBzZXVkby1zZWxlY3RvciBgIit0Lm5hbWUrImAiKTt0aHJvdyBuZXcgRXJyb3IoIlVuZXhwZWN0ZWQgcHNldWRvLWVsZW1lbnQgb3IgZW1wdHkgcHNldWRvLWNsYXNzIil9LHMuaW52YWxpZD1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW52YWxpZCBwc2V1ZG8tc2VsZWN0b3IiKX0sYy5hbnk9bCxjLmJsYW5rPWYsYy5lbXB0eT1mLGNbImZpcnN0LWNoaWxkIl09ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gcChvLHQpLDA9PT1vLm5vZGVJbmRleH0sY1siZmlyc3Qtb2YtdHlwZSJdPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIHAobyx0KSwwPT09by50eXBlSW5kZXh9LGMuaGFzPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dmFyIGkscz1vLnNoYWxsb3csYz1vLm9uZSx1PW8uc2NvcGVOb2RlcyxsPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixvOyJydWxlU2V0Ij09PXQudHlwZSYmKHQ9e3R5cGU6InNlbGVjdG9ycyIsc2VsZWN0b3JzOlt0XX0pO2U9dC5zZWxlY3RvcnMsbj1lLmxlbmd0aCxyPS0xO2Zvcig7KytyPG47KShvPWVbcl0ucnVsZSkubmVzdGluZ09wZXJhdG9yPW51bGwsby5wc2V1ZG9zJiYxPT09by5wc2V1ZG9zLmxlbmd0aCYmInNjb3BlIj09PW8ucHNldWRvc1swXS5uYW1lfHwobz17dHlwZToicnVsZSIscnVsZTpvLHBzZXVkb3M6W3tuYW1lOiJzY29wZSJ9XX0pLGVbcl09bztyZXR1cm4gdH0odC52YWx1ZSk7cmV0dXJuIG8uc2hhbGxvdz0hMSxvLm9uZT0hMCxvLnNjb3BlTm9kZXM9W2VdLGk9YShsLGUsbylbMF0sby5zaGFsbG93PXMsby5vbmU9YyxvLnNjb3BlTm9kZXM9dSxpfSxjWyJsYXN0LWNoaWxkIl09ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gcChvLHQpLG8ubm9kZUluZGV4PT09by5ub2RlQ291bnQtMX0sY1sibGFzdC1vZi10eXBlIl09ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gcChvLHQpLG8udHlwZUluZGV4PT09by50eXBlQ291bnQtMX0sYy5tYXRjaGVzPWwsYy5ub3Q9byhsKSxjWyJudGgtY2hpbGQiXT1mdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiBwKG8sdCksdC52YWx1ZShvLm5vZGVJbmRleCl9LGNbIm50aC1sYXN0LWNoaWxkIl09ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gcChvLHQpLHQudmFsdWUoby5ub2RlQ291bnQtby5ub2RlSW5kZXgtMSl9LGNbIm50aC1vZi10eXBlIl09ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gcChvLHQpLHQudmFsdWUoby50eXBlSW5kZXgpfSxjWyJudGgtbGFzdC1vZi10eXBlIl09ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gcChvLHQpLHQudmFsdWUoby50eXBlQ291bnQtMS1vLnR5cGVJbmRleCl9LGNbIm9ubHktY2hpbGQiXT1mdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiBwKG8sdCksMT09PW8ubm9kZUNvdW50fSxjWyJvbmx5LW9mLXR5cGUiXT1mdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiBwKG8sdCksMT09PW8udHlwZUNvdW50fSxjLnJvb3Q9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGkoZSkmJiFyfSxjLnNjb3BlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIGkoZSkmJi0xIT09by5zY29wZU5vZGVzLmluZGV4T2YoZSl9fSxNSlM2OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiZHI5OSIpLG89bigicEl3QyIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbyh0KT90OnIodCwiQ2Fubm90IHVzZSAldiIsYXJndW1lbnRzWzFdKX19LE1Lc2k6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17Q3NzU2VsZWN0b3JQYXJzZXI6bigiTnU2WCIpLkNzc1NlbGVjdG9yUGFyc2VyfX0sTU5HSTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIklQQXIiKSxvPW4oIkFDR2siKTt0LmV4cG9ydHM9eSx5LmxvY2F0b3I9bzt2YXIgaT17fS5oYXNPd25Qcm9wZXJ0eSxhPSJcXCIscz0iWyIsYz0iXSIsdT0iKCIsbD0iKSIsZj0iPCIscD0iPiIsaD0iYCIsZD17JyInOiciJywiJyI6IicifSx2PXt9O2Z1bmN0aW9uIHkodCxlLG4pe3ZhciBvLHksbSxnLGIseCx3LGssXyxBLE8saixFLFMsTixQLEMsSSxULE09IiIsTD0wLHo9ZS5jaGFyQXQoMCksUj10aGlzLm9wdGlvbnMucGVkYW50aWMsRj10aGlzLm9wdGlvbnMuY29tbW9ubWFyayxEPXRoaXMub3B0aW9ucy5nZm07aWYoIiEiPT09eiYmKF89ITAsTT16LHo9ZS5jaGFyQXQoKytMKSksej09PXMmJihffHwhdGhpcy5pbkxpbmspKXtmb3IoTSs9eixOPSIiLEwrKyxqPWUubGVuZ3RoLFM9MCwoQz10Lm5vdygpKS5jb2x1bW4rPUwsQy5vZmZzZXQrPUw7TDxqOyl7aWYoeD16PWUuY2hhckF0KEwpLHo9PT1oKXtmb3IoeT0xO2UuY2hhckF0KEwrMSk9PT1oOyl4Kz16LEwrKyx5Kys7bT95Pj1tJiYobT0wKTptPXl9ZWxzZSBpZih6PT09YSlMKysseCs9ZS5jaGFyQXQoTCk7ZWxzZSBpZihtJiYhRHx8eiE9PXMpe2lmKCghbXx8RCkmJno9PT1jKXtpZighUyl7aWYoIVIpZm9yKDtMPGomJih6PWUuY2hhckF0KEwrMSkscih6KSk7KXgrPXosTCsrO2lmKGUuY2hhckF0KEwrMSkhPT11KXJldHVybjt4Kz11LG89ITAsTCsrO2JyZWFrfVMtLX19ZWxzZSBTKys7Tis9eCx4PSIiLEwrK31pZihvKXtmb3IoQT1OLE0rPU4reCxMKys7TDxqJiYoej1lLmNoYXJBdChMKSxyKHopKTspTSs9eixMKys7aWYoej1lLmNoYXJBdChMKSxrPUY/djpkLE49IiIsZz1NLHo9PT1mKXtmb3IoTCsrLGcrPWY7TDxqJiYoej1lLmNoYXJBdChMKSkhPT1wOyl7aWYoRiYmIlxuIj09PXopcmV0dXJuO04rPXosTCsrfWlmKGUuY2hhckF0KEwpIT09cClyZXR1cm47TSs9ZitOK3AsUD1OLEwrK31lbHNle2Zvcih6PW51bGwseD0iIjtMPGomJih6PWUuY2hhckF0KEwpLCF4fHwhaS5jYWxsKGsseikpOyl7aWYocih6KSl7aWYoIVIpYnJlYWs7eCs9en1lbHNle2lmKHo9PT11KVMrKztlbHNlIGlmKHo9PT1sKXtpZigwPT09UylicmVhaztTLS19Tis9eCx4PSIiLHo9PT1hJiYoTis9YSx6PWUuY2hhckF0KCsrTCkpLE4rPXp9TCsrfVA9TixMPShNKz1OKS5sZW5ndGh9Zm9yKE49IiI7TDxqJiYoej1lLmNoYXJBdChMKSxyKHopKTspTis9eixMKys7aWYoej1lLmNoYXJBdChMKSxNKz1OLE4mJmkuY2FsbChrLHopKWlmKEwrKyxNKz16LE49IiIsTz1rW3pdLGI9TSxGKXtmb3IoO0w8aiYmKHo9ZS5jaGFyQXQoTCkpIT09Tzspej09PWEmJihOKz1hLHo9ZS5jaGFyQXQoKytMKSksTCsrLE4rPXo7aWYoKHo9ZS5jaGFyQXQoTCkpIT09TylyZXR1cm47Zm9yKEU9TixNKz1OK3osTCsrO0w8aiYmKHo9ZS5jaGFyQXQoTCkscih6KSk7KU0rPXosTCsrfWVsc2UgZm9yKHg9IiI7TDxqOyl7aWYoKHo9ZS5jaGFyQXQoTCkpPT09Tyl3JiYoTis9Tyt4LHg9IiIpLHc9ITA7ZWxzZSBpZih3KXtpZih6PT09bCl7TSs9TitPK3gsRT1OO2JyZWFrfXIoeik/eCs9ejooTis9Tyt4K3oseD0iIix3PSExKX1lbHNlIE4rPXo7TCsrfWlmKGUuY2hhckF0KEwpPT09bClyZXR1cm4hIW58fChNKz1sLFA9dGhpcy5kZWNvZGUucmF3KHRoaXMudW5lc2NhcGUoUCksdChnKS50ZXN0KCkuZW5kLHtub25UZXJtaW5hdGVkOiExfSksRSYmKGI9dChiKS50ZXN0KCkuZW5kLEU9dGhpcy5kZWNvZGUucmF3KHRoaXMudW5lc2NhcGUoRSksYikpLFQ9e3R5cGU6Xz8iaW1hZ2UiOiJsaW5rIix0aXRsZTpFfHxudWxsLHVybDpQfSxfP1QuYWx0PXRoaXMuZGVjb2RlLnJhdyh0aGlzLnVuZXNjYXBlKEEpLEMpfHxudWxsOihJPXRoaXMuZW50ZXJMaW5rKCksVC5jaGlsZHJlbj10aGlzLnRva2VuaXplSW5saW5lKEEsQyksSSgpKSx0KE0pKFQpKX19fXZbJyInXT0nIicsdlsiJyJdPSInIix2W3VdPWx9LCJNUTUvIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1hO3ZhciByPVsiXFwiLCJgIiwiKiIsInsiLCJ9IiwiWyIsIl0iLCIoIiwiKSIsIiMiLCIrIiwiLSIsIi4iLCIhIiwiXyIsIj4iXSxvPXIuY29uY2F0KFsifiIsInwiXSksaT1vLmNvbmNhdChbIlxuIiwnIicsIiQiLCIlIiwiJiIsIiciLCIsIiwiLyIsIjoiLCI7IiwiPCIsIj0iLCI/IiwiQCIsIl4iXSk7ZnVuY3Rpb24gYSh0KXt2YXIgZT10fHx7fTtyZXR1cm4gZS5jb21tb25tYXJrP2k6ZS5nZm0/bzpyfWEuZGVmYXVsdD1yLGEuZ2ZtPW8sYS5jb21tb25tYXJrPWl9LE1UMTI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtlLm1hdGNoZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gQm9vbGVhbihyKG8odCksZSx7b25lOiEwLHNoYWxsb3c6ITB9KVswXSl9LGUuc2VsZWN0QWxsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIobyh0KSxlLHt9KX0sZS5zZWxlY3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcihvKHQpLGUse29uZTohMH0pWzBdfHxudWxsfTt2YXIgcj1uKCJSN0pKIiksbz1uKCJaUFpYIil9LE1rUGk6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9e2dmbTohMCxjb21tb25tYXJrOiExLHBlZGFudGljOiExLGVudGl0aWVzOiJmYWxzZSIsc2V0ZXh0OiExLGNsb3NlQXR4OiExLGxvb3NlVGFibGU6ITEsc3BhY2VkVGFibGU6ITAscGFkZGVkVGFibGU6ITAsc3RyaW5nTGVuZ3RoOmZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aH0saW5jcmVtZW50TGlzdE1hcmtlcjohMCxmZW5jZXM6ITEsZmVuY2U6ImAiLGJ1bGxldDoiLSIsbGlzdEl0ZW1JbmRlbnQ6InRhYiIscnVsZToiKiIscnVsZVNwYWNlczohMCxydWxlUmVwZXRpdGlvbjozLHN0cm9uZzoiKiIsZW1waGFzaXM6Il8ifX0sTjBwQzpmdW5jdGlvbih0KXt0LmV4cG9ydHM9SlNPTi5wYXJzZSgneyJBRWxpZyI6Ilx4YzYiLCJBTVAiOiImIiwiQWFjdXRlIjoiXHhjMSIsIkFjaXJjIjoiXHhjMiIsIkFncmF2ZSI6Ilx4YzAiLCJBcmluZyI6Ilx4YzUiLCJBdGlsZGUiOiJceGMzIiwiQXVtbCI6Ilx4YzQiLCJDT1BZIjoiXHhhOSIsIkNjZWRpbCI6Ilx4YzciLCJFVEgiOiJceGQwIiwiRWFjdXRlIjoiXHhjOSIsIkVjaXJjIjoiXHhjYSIsIkVncmF2ZSI6Ilx4YzgiLCJFdW1sIjoiXHhjYiIsIkdUIjoiPiIsIklhY3V0ZSI6Ilx4Y2QiLCJJY2lyYyI6Ilx4Y2UiLCJJZ3JhdmUiOiJceGNjIiwiSXVtbCI6Ilx4Y2YiLCJMVCI6IjwiLCJOdGlsZGUiOiJceGQxIiwiT2FjdXRlIjoiXHhkMyIsIk9jaXJjIjoiXHhkNCIsIk9ncmF2ZSI6Ilx4ZDIiLCJPc2xhc2giOiJceGQ4IiwiT3RpbGRlIjoiXHhkNSIsIk91bWwiOiJceGQ2IiwiUVVPVCI6IlxcIiIsIlJFRyI6Ilx4YWUiLCJUSE9STiI6Ilx4ZGUiLCJVYWN1dGUiOiJceGRhIiwiVWNpcmMiOiJceGRiIiwiVWdyYXZlIjoiXHhkOSIsIlV1bWwiOiJceGRjIiwiWWFjdXRlIjoiXHhkZCIsImFhY3V0ZSI6Ilx4ZTEiLCJhY2lyYyI6Ilx4ZTIiLCJhY3V0ZSI6Ilx4YjQiLCJhZWxpZyI6Ilx4ZTYiLCJhZ3JhdmUiOiJceGUwIiwiYW1wIjoiJiIsImFyaW5nIjoiXHhlNSIsImF0aWxkZSI6Ilx4ZTMiLCJhdW1sIjoiXHhlNCIsImJydmJhciI6Ilx4YTYiLCJjY2VkaWwiOiJceGU3IiwiY2VkaWwiOiJceGI4IiwiY2VudCI6Ilx4YTIiLCJjb3B5IjoiXHhhOSIsImN1cnJlbiI6Ilx4YTQiLCJkZWciOiJceGIwIiwiZGl2aWRlIjoiXHhmNyIsImVhY3V0ZSI6Ilx4ZTkiLCJlY2lyYyI6Ilx4ZWEiLCJlZ3JhdmUiOiJceGU4IiwiZXRoIjoiXHhmMCIsImV1bWwiOiJceGViIiwiZnJhYzEyIjoiXHhiZCIsImZyYWMxNCI6Ilx4YmMiLCJmcmFjMzQiOiJceGJlIiwiZ3QiOiI+IiwiaWFjdXRlIjoiXHhlZCIsImljaXJjIjoiXHhlZSIsImlleGNsIjoiXHhhMSIsImlncmF2ZSI6Ilx4ZWMiLCJpcXVlc3QiOiJceGJmIiwiaXVtbCI6Ilx4ZWYiLCJsYXF1byI6Ilx4YWIiLCJsdCI6IjwiLCJtYWNyIjoiXHhhZiIsIm1pY3JvIjoiXHhiNSIsIm1pZGRvdCI6Ilx4YjciLCJuYnNwIjoiXHhhMCIsIm5vdCI6Ilx4YWMiLCJudGlsZGUiOiJceGYxIiwib2FjdXRlIjoiXHhmMyIsIm9jaXJjIjoiXHhmNCIsIm9ncmF2ZSI6Ilx4ZjIiLCJvcmRmIjoiXHhhYSIsIm9yZG0iOiJceGJhIiwib3NsYXNoIjoiXHhmOCIsIm90aWxkZSI6Ilx4ZjUiLCJvdW1sIjoiXHhmNiIsInBhcmEiOiJceGI2IiwicGx1c21uIjoiXHhiMSIsInBvdW5kIjoiXHhhMyIsInF1b3QiOiJcXCIiLCJyYXF1byI6Ilx4YmIiLCJyZWciOiJceGFlIiwic2VjdCI6Ilx4YTciLCJzaHkiOiJceGFkIiwic3VwMSI6Ilx4YjkiLCJzdXAyIjoiXHhiMiIsInN1cDMiOiJceGIzIiwic3psaWciOiJceGRmIiwidGhvcm4iOiJceGZlIiwidGltZXMiOiJceGQ3IiwidWFjdXRlIjoiXHhmYSIsInVjaXJjIjoiXHhmYiIsInVncmF2ZSI6Ilx4ZjkiLCJ1bWwiOiJceGE4IiwidXVtbCI6Ilx4ZmMiLCJ5YWN1dGUiOiJceGZkIiwieWVuIjoiXHhhNSIsInl1bWwiOiJceGZmIn0nKX0sTkJ1MTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiB0LmluZGV4T2YoIjwiLGUpfX0sTkNjaTpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9fSxOSE15OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigia2VNcCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKHQrIiBpcyBub3QgaXRlcmFibGUiKTtyZXR1cm4gdH19LE5lRnY6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCI0MXF0Iiksbz1uKCIwN1A1IiksaT1uKCI4U3J1IiksYT1uKCJZenhlIikscz1BcnJheS5pc0FycmF5LGM9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsdT1BcnJheS5wcm90b3R5cGUuc29tZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixsLGYscCxoLGQsdix5LG09YXJndW1lbnRzWzJdO2lmKHModCl8fHIodCk/bj0iYXJyYXkiOmkodCk/bj0ic3RyaW5nIjp0PWEodCksbyhlKSxmPWZ1bmN0aW9uKCl7cD0hMH0sImFycmF5IiE9PW4paWYoInN0cmluZyIhPT1uKWZvcihsPXQubmV4dCgpOyFsLmRvbmU7KXtpZihjLmNhbGwoZSxtLGwudmFsdWUsZikscClyZXR1cm47bD10Lm5leHQoKX1lbHNlIGZvcihkPXQubGVuZ3RoLGg9MDtoPGQmJih2PXRbaF0saCsxPGQmJih5PXYuY2hhckNvZGVBdCgwKSk+PTU1Mjk2JiZ5PD01NjMxOSYmKHYrPXRbKytoXSksYy5jYWxsKGUsbSx2LGYpLCFwKTsrK2gpO2Vsc2UgdS5jYWxsKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBjLmNhbGwoZSxtLHQsZikscH0pKX19LE5pREM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJSc0ZKIiksbz1uKCJaT05QIiksaT1uKCIzR2xJIiksYT1uKCJjbUxOIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgZixwLGgsZCx2LHk9dGhpcy5vcHRpb25zLG09eS5jb21tb25tYXJrLGc9eS5nZm0sYj10aGlzLmJsb2NrVG9rZW5pemVycyx4PXRoaXMuaW50ZXJydXB0UGFyYWdyYXBoLHc9ZS5pbmRleE9mKHMpLGs9ZS5sZW5ndGg7Zm9yKDt3PGs7KXtpZigtMT09PXcpe3c9azticmVha31pZihlLmNoYXJBdCh3KzEpPT09cylicmVhaztpZihtKXtmb3IoZD0wLGY9dysxO2Y8azspe2lmKChoPWUuY2hhckF0KGYpKT09PWMpe2Q9bDticmVha31pZihoIT09dSlicmVhaztkKyssZisrfWlmKGQ+PWwpe3c9ZS5pbmRleE9mKHMsdysxKTtjb250aW51ZX19aWYocD1lLnNsaWNlKHcrMSksYSh4LGIsdGhpcyxbdCxwLCEwXSkpYnJlYWs7aWYoYi5saXN0LmNhbGwodGhpcyx0LHAsITApJiYodGhpcy5pbkxpc3R8fG18fGcmJiFvKHIubGVmdChwKS5jaGFyQXQoMCkpKSlicmVhaztpZihmPXcsLTEhPT0odz1lLmluZGV4T2Yocyx3KzEpKSYmIiI9PT1yKGUuc2xpY2UoZix3KSkpe3c9ZjticmVha319aWYocD1lLnNsaWNlKDAsdyksIiI9PT1yKHApKXJldHVybiB0KHApLG51bGw7aWYobilyZXR1cm4hMDtyZXR1cm4gdj10Lm5vdygpLHA9aShwKSx0KHApKHt0eXBlOiJwYXJhZ3JhcGgiLGNoaWxkcmVuOnRoaXMudG9rZW5pemVJbmxpbmUocCx2KX0pfTt2YXIgcz0iXG4iLGM9Ilx0Iix1PSIgIixsPTR9LCJOa0wrIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiJbb2JqZWN0IE9iamVjdF0iPT09ci5jYWxsKHQpJiYobnVsbD09PShlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KSl8fGU9PT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yoe30pKX19LE5zanY6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJIWVlYIiksbz1PYmplY3QuY3JlYXRlLGk9T2JqZWN0LmRlZmluZVByb3BlcnR5LGE9T2JqZWN0LnByb3RvdHlwZSxzPW8obnVsbCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuLG89MDtzW3QrKG98fCIiKV07KSsrbztyZXR1cm4gc1t0Kz1vfHwiIl09ITAsaShhLGU9IkBAIit0LHIuZ3MobnVsbCwoZnVuY3Rpb24odCl7bnx8KG49ITAsaSh0aGlzLGUscih0KSksbj0hMSl9KSkpLGV9fSxOdTZYOmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMucHNldWRvcz17fSx0aGlzLmF0dHJFcXVhbGl0eU1vZHM9e30sdGhpcy5ydWxlTmVzdGluZ09wZXJhdG9ycz17fSx0aGlzLnN1YnN0aXR1dGVzRW5hYmxlZD0hMX1mdW5jdGlvbiByKHQpe3JldHVybiB0Pj0iYSImJnQ8PSJmInx8dD49IkEiJiZ0PD0iRiJ8fHQ+PSIwIiYmdDw9IjkifW4ucHJvdG90eXBlLnJlZ2lzdGVyU2VsZWN0b3JQc2V1ZG9zPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49YXJndW1lbnRzLmxlbmd0aDtlPG47ZSsrKXQ9YXJndW1lbnRzW2VdLHRoaXMucHNldWRvc1t0XT0ic2VsZWN0b3IiO3JldHVybiB0aGlzfSxuLnByb3RvdHlwZS51bnJlZ2lzdGVyU2VsZWN0b3JQc2V1ZG9zPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49YXJndW1lbnRzLmxlbmd0aDtlPG47ZSsrKXQ9YXJndW1lbnRzW2VdLGRlbGV0ZSB0aGlzLnBzZXVkb3NbdF07cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLnJlZ2lzdGVyTnVtZXJpY1BzZXVkb3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj1hcmd1bWVudHMubGVuZ3RoO2U8bjtlKyspdD1hcmd1bWVudHNbZV0sdGhpcy5wc2V1ZG9zW3RdPSJudW1lcmljIjtyZXR1cm4gdGhpc30sbi5wcm90b3R5cGUudW5yZWdpc3Rlck51bWVyaWNQc2V1ZG9zPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49YXJndW1lbnRzLmxlbmd0aDtlPG47ZSsrKXQ9YXJndW1lbnRzW2VdLGRlbGV0ZSB0aGlzLnBzZXVkb3NbdF07cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLnJlZ2lzdGVyTmVzdGluZ09wZXJhdG9ycz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPWFyZ3VtZW50cy5sZW5ndGg7ZTxuO2UrKyl0PWFyZ3VtZW50c1tlXSx0aGlzLnJ1bGVOZXN0aW5nT3BlcmF0b3JzW3RdPSEwO3JldHVybiB0aGlzfSxuLnByb3RvdHlwZS51bnJlZ2lzdGVyTmVzdGluZ09wZXJhdG9ycz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPWFyZ3VtZW50cy5sZW5ndGg7ZTxuO2UrKyl0PWFyZ3VtZW50c1tlXSxkZWxldGUgdGhpcy5ydWxlTmVzdGluZ09wZXJhdG9yc1t0XTtyZXR1cm4gdGhpc30sbi5wcm90b3R5cGUucmVnaXN0ZXJBdHRyRXF1YWxpdHlNb2RzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49YXJndW1lbnRzLmxlbmd0aDtlPG47ZSsrKXQ9YXJndW1lbnRzW2VdLHRoaXMuYXR0ckVxdWFsaXR5TW9kc1t0XT0hMDtyZXR1cm4gdGhpc30sbi5wcm90b3R5cGUudW5yZWdpc3RlckF0dHJFcXVhbGl0eU1vZHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj1hcmd1bWVudHMubGVuZ3RoO2U8bjtlKyspdD1hcmd1bWVudHNbZV0sZGVsZXRlIHRoaXMuYXR0ckVxdWFsaXR5TW9kc1t0XTtyZXR1cm4gdGhpc30sbi5wcm90b3R5cGUuZW5hYmxlU3Vic3RpdHV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdWJzdGl0dXRlc0VuYWJsZWQ9ITAsdGhpc30sbi5wcm90b3R5cGUuZGlzYWJsZVN1YnN0aXR1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3Vic3RpdHV0ZXNFbmFibGVkPSExLHRoaXN9O3ZhciBvPXsiISI6ITAsJyInOiEwLCIjIjohMCwkOiEwLCIlIjohMCwiJiI6ITAsIiciOiEwLCIoIjohMCwiKSI6ITAsIioiOiEwLCIrIjohMCwiLCI6ITAsIi4iOiEwLCIvIjohMCwiOyI6ITAsIjwiOiEwLCI9IjohMCwiPiI6ITAsIj8iOiEwLCJAIjohMCwiWyI6ITAsIlxcIjohMCwiXSI6ITAsIl4iOiEwLCJgIjohMCwieyI6ITAsInwiOiEwLCJ9IjohMCwifiI6ITB9LGk9eyJcbiI6IlxcbiIsIlxyIjoiXFxyIiwiXHQiOiJcXHQiLCJcZiI6IlxcZiIsIlx2IjoiXFx2In0sYT17bjoiXG4iLHI6IlxyIix0OiJcdCIsZjoiXGYiLCJcXCI6IlxcIiwiJyI6IicifSxzPXtuOiJcbiIscjoiXHIiLHQ6Ilx0IixmOiJcZiIsIlxcIjoiXFwiLCciJzonIid9O2Z1bmN0aW9uIGModCxlLG4saSxjLHUpe3ZhciBsLGYscCxoLGQ7cmV0dXJuIGg9dC5sZW5ndGgsbD1udWxsLHA9ZnVuY3Rpb24obixvKXt2YXIgaSxhLHM7Zm9yKHM9IiIsZSsrLGw9dC5jaGFyQXQoZSk7ZTxoOyl7aWYobD09PW4pcmV0dXJuIGUrKyxzO2lmKCJcXCI9PT1sKWlmKGUrKywobD10LmNoYXJBdChlKSk9PT1uKXMrPW47ZWxzZSBpZihpPW9bbF0pcys9aTtlbHNle2lmKHIobCkpe2ZvcihhPWwsZSsrLGw9dC5jaGFyQXQoZSk7cihsKTspYSs9bCxlKyssbD10LmNoYXJBdChlKTsiICI9PT1sJiYoZSsrLGw9dC5jaGFyQXQoZSkpLHMrPVN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoYSwxNikpO2NvbnRpbnVlfXMrPWx9ZWxzZSBzKz1sO2UrKyxsPXQuY2hhckF0KGUpfXJldHVybiBzfSxmPWZ1bmN0aW9uKCl7dmFyIG4saT0iIjtmb3IobD10LmNoYXJBdChlKTtlPGg7KXtpZigobj1sKT49ImEiJiZuPD0ieiJ8fG4+PSJBIiYmbjw9IloifHxuPj0iMCImJm48PSI5Inx8Ii0iPT09bnx8Il8iPT09bilpKz1sO2Vsc2V7aWYoIlxcIiE9PWwpcmV0dXJuIGk7aWYoKytlPj1oKXRocm93IEVycm9yKCJFeHBlY3RlZCBzeW1ib2wgYnV0IGVuZCBvZiBmaWxlIHJlYWNoZWQuIik7aWYobD10LmNoYXJBdChlKSxvW2xdKWkrPWw7ZWxzZXtpZihyKGwpKXt2YXIgYT1sO2ZvcihlKyssbD10LmNoYXJBdChlKTtyKGwpOylhKz1sLGUrKyxsPXQuY2hhckF0KGUpOyIgIj09PWwmJihlKyssbD10LmNoYXJBdChlKSksaSs9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChhLDE2KSk7Y29udGludWV9aSs9bH19ZSsrLGw9dC5jaGFyQXQoZSl9cmV0dXJuIGl9LGQ9ZnVuY3Rpb24oKXtsPXQuY2hhckF0KGUpO2Zvcih2YXIgbj0hMTsiICI9PT1sfHwiXHQiPT09bHx8IlxuIj09PWx8fCJcciI9PT1sfHwiXGYiPT09bDspbj0hMCxlKyssbD10LmNoYXJBdChlKTtyZXR1cm4gbn0sdGhpcy5wYXJzZT1mdW5jdGlvbigpe3ZhciBuPXRoaXMucGFyc2VTZWxlY3RvcigpO2lmKGU8aCl0aHJvdyBFcnJvcignUnVsZSBleHBlY3RlZCBidXQgIicrdC5jaGFyQXQoZSkrJyIgZm91bmQuJyk7cmV0dXJuIG59LHRoaXMucGFyc2VTZWxlY3Rvcj1mdW5jdGlvbigpe3ZhciBuLHI9bj10aGlzLnBhcnNlU2luZ2xlU2VsZWN0b3IoKTtmb3IobD10LmNoYXJBdChlKTsiLCI9PT1sOyl7aWYoZSsrLGQoKSwic2VsZWN0b3JzIiE9PW4udHlwZSYmKG49e3R5cGU6InNlbGVjdG9ycyIsc2VsZWN0b3JzOltyXX0pLCEocj10aGlzLnBhcnNlU2luZ2xlU2VsZWN0b3IoKSkpdGhyb3cgRXJyb3IoJ1J1bGUgZXhwZWN0ZWQgYWZ0ZXIgIiwiLicpO24uc2VsZWN0b3JzLnB1c2gocil9cmV0dXJuIG59LHRoaXMucGFyc2VTaW5nbGVTZWxlY3Rvcj1mdW5jdGlvbigpe2QoKTt2YXIgbj17dHlwZToicnVsZVNldCJ9LHI9dGhpcy5wYXJzZVJ1bGUoKTtpZighcilyZXR1cm4gbnVsbDtmb3IodmFyIG89bjtyJiYoci50eXBlPSJydWxlIixvLnJ1bGU9cixvPXIsZCgpLGw9dC5jaGFyQXQoZSksIShlPj1ofHwiLCI9PT1sfHwiKSI9PT1sKSk7KWlmKGNbbF0pe3ZhciBpPWw7aWYoZSsrLGQoKSwhKHI9dGhpcy5wYXJzZVJ1bGUoKSkpdGhyb3cgRXJyb3IoJ1J1bGUgZXhwZWN0ZWQgYWZ0ZXIgIicraSsnIi4nKTtyLm5lc3RpbmdPcGVyYXRvcj1pfWVsc2Uocj10aGlzLnBhcnNlUnVsZSgpKSYmKHIubmVzdGluZ09wZXJhdG9yPW51bGwpO3JldHVybiBufSx0aGlzLnBhcnNlUnVsZT1mdW5jdGlvbigpe2Zvcih2YXIgcixvPW51bGw7ZTxoOylpZigiKiI9PT0obD10LmNoYXJBdChlKSkpZSsrLChvPW98fHt9KS50YWdOYW1lPSIqIjtlbHNlIGlmKChyPWwpPj0iYSImJnI8PSJ6Inx8cj49IkEiJiZyPD0iWiJ8fCItIj09PXJ8fCJfIj09PXJ8fCJcXCI9PT1sKShvPW98fHt9KS50YWdOYW1lPWYoKTtlbHNlIGlmKCIuIj09PWwpZSsrLCgobz1vfHx7fSkuY2xhc3NOYW1lcz1vLmNsYXNzTmFtZXN8fFtdKS5wdXNoKGYoKSk7ZWxzZSBpZigiIyI9PT1sKWUrKywobz1vfHx7fSkuaWQ9ZigpO2Vsc2UgaWYoIlsiPT09bCl7ZSsrLGQoKTt2YXIgYz17bmFtZTpmKCl9O2lmKGQoKSwiXSI9PT1sKWUrKztlbHNle3ZhciB2PSIiO2lmKGlbbF0mJih2PWwsZSsrLGw9dC5jaGFyQXQoZSkpLGU+PWgpdGhyb3cgRXJyb3IoJ0V4cGVjdGVkICI9IiBidXQgZW5kIG9mIGZpbGUgcmVhY2hlZC4nKTtpZigiPSIhPT1sKXRocm93IEVycm9yKCdFeHBlY3RlZCAiPSIgYnV0ICInK2wrJyIgZm91bmQuJyk7Yy5vcGVyYXRvcj12KyI9IixlKyssZCgpO3ZhciB5PSIiO2lmKGMudmFsdWVUeXBlPSJzdHJpbmciLCciJz09PWwpeT1wKCciJyxzKTtlbHNlIGlmKCInIj09PWwpeT1wKCInIixhKTtlbHNlIGlmKHUmJiIkIj09PWwpZSsrLHk9ZigpLGMudmFsdWVUeXBlPSJzdWJzdGl0dXRlIjtlbHNle2Zvcig7ZTxoJiYiXSIhPT1sOyl5Kz1sLGUrKyxsPXQuY2hhckF0KGUpO3k9eS50cmltKCl9aWYoZCgpLGU+PWgpdGhyb3cgRXJyb3IoJ0V4cGVjdGVkICJdIiBidXQgZW5kIG9mIGZpbGUgcmVhY2hlZC4nKTtpZigiXSIhPT1sKXRocm93IEVycm9yKCdFeHBlY3RlZCAiXSIgYnV0ICInK2wrJyIgZm91bmQuJyk7ZSsrLGMudmFsdWU9eX0oKG89b3x8e30pLmF0dHJzPW8uYXR0cnN8fFtdKS5wdXNoKGMpfWVsc2V7aWYoIjoiIT09bClicmVhaztlKys7dmFyIG09ZigpLGc9e25hbWU6bX07aWYoIigiPT09bCl7ZSsrO3ZhciBiPSIiO2lmKGQoKSwic2VsZWN0b3IiPT09blttXSlnLnZhbHVlVHlwZT0ic2VsZWN0b3IiLGI9dGhpcy5wYXJzZVNlbGVjdG9yKCk7ZWxzZXtpZihnLnZhbHVlVHlwZT1uW21dfHwic3RyaW5nIiwnIic9PT1sKWI9cCgnIicscyk7ZWxzZSBpZigiJyI9PT1sKWI9cCgiJyIsYSk7ZWxzZSBpZih1JiYiJCI9PT1sKWUrKyxiPWYoKSxnLnZhbHVlVHlwZT0ic3Vic3RpdHV0ZSI7ZWxzZXtmb3IoO2U8aCYmIikiIT09bDspYis9bCxlKyssbD10LmNoYXJBdChlKTtiPWIudHJpbSgpfWQoKX1pZihlPj1oKXRocm93IEVycm9yKCdFeHBlY3RlZCAiKSIgYnV0IGVuZCBvZiBmaWxlIHJlYWNoZWQuJyk7aWYoIikiIT09bCl0aHJvdyBFcnJvcignRXhwZWN0ZWQgIikiIGJ1dCAiJytsKyciIGZvdW5kLicpO2UrKyxnLnZhbHVlPWJ9KChvPW98fHt9KS5wc2V1ZG9zPW8ucHNldWRvc3x8W10pLnB1c2goZyl9cmV0dXJuIG99LHRoaXN9bi5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBjKHQsMCx0aGlzLnBzZXVkb3MsdGhpcy5hdHRyRXF1YWxpdHlNb2RzLHRoaXMucnVsZU5lc3RpbmdPcGVyYXRvcnMsdGhpcy5zdWJzdGl0dXRlc0VuYWJsZWQpLnBhcnNlKCl9LG4ucHJvdG90eXBlLmVzY2FwZUlkZW50aWZpZXI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPSIiLG49MCxyPXQubGVuZ3RoO248cjspe3ZhciBpPXQuY2hhckF0KG4pO2lmKG9baV0pZSs9IlxcIitpO2Vsc2UgaWYoIl8iPT09aXx8Ii0iPT09aXx8aT49IkEiJiZpPD0iWiJ8fGk+PSJhIiYmaTw9InoifHwwIT09biYmaT49IjAiJiZpPD0iOSIpZSs9aTtlbHNle3ZhciBhPWkuY2hhckNvZGVBdCgwKTtpZig1NTI5Nj09PSg2MzQ4OCZhKSl7dmFyIHM9dC5jaGFyQ29kZUF0KG4rKyk7aWYoNTUyOTYhPT0oNjQ1MTImYSl8fDU2MzIwIT09KDY0NTEyJnMpKXRocm93IEVycm9yKCJVQ1MtMihkZWNvZGUpOiBpbGxlZ2FsIHNlcXVlbmNlIik7YT0oKDEwMjMmYSk8PDEwKSsoMTAyMyZzKSs2NTUzNn1lKz0iXFwiK2EudG9TdHJpbmcoMTYpKyIgIn1uKyt9cmV0dXJuIGV9LG4ucHJvdG90eXBlLmVzY2FwZVN0cj1mdW5jdGlvbih0KXtmb3IodmFyIGUsbixyPSIiLG89MCxhPXQubGVuZ3RoO288YTspJyInPT09KGU9dC5jaGFyQXQobykpP2U9J1xcIic6IlxcIj09PWU/ZT0iXFxcXCI6KG49aVtlXSkmJihlPW4pLHIrPWUsbysrO3JldHVybiciJytyKyciJ30sbi5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZW5kZXJFbnRpdHkodCkudHJpbSgpfSxuLnByb3RvdHlwZS5fcmVuZGVyRW50aXR5PWZ1bmN0aW9uKHQpe3ZhciBlLG4scjtzd2l0Y2gocj0iIix0LnR5cGUpe2Nhc2UicnVsZVNldCI6Zm9yKGU9dC5ydWxlLG49W107ZTspZS5uZXN0aW5nT3BlcmF0b3ImJm4ucHVzaChlLm5lc3RpbmdPcGVyYXRvciksbi5wdXNoKHRoaXMuX3JlbmRlckVudGl0eShlKSksZT1lLnJ1bGU7cj1uLmpvaW4oIiAiKTticmVhaztjYXNlInNlbGVjdG9ycyI6cj10LnNlbGVjdG9ycy5tYXAodGhpcy5fcmVuZGVyRW50aXR5LHRoaXMpLmpvaW4oIiwgIik7YnJlYWs7Y2FzZSJydWxlIjp0LnRhZ05hbWUmJihyPSIqIj09PXQudGFnTmFtZT8iKiI6dGhpcy5lc2NhcGVJZGVudGlmaWVyKHQudGFnTmFtZSkpLHQuaWQmJihyKz0iIyIrdGhpcy5lc2NhcGVJZGVudGlmaWVyKHQuaWQpKSx0LmNsYXNzTmFtZXMmJihyKz10LmNsYXNzTmFtZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4iLiIrdGhpcy5lc2NhcGVJZGVudGlmaWVyKHQpfSksdGhpcykuam9pbigiIikpLHQuYXR0cnMmJihyKz10LmF0dHJzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQub3BlcmF0b3I/InN1YnN0aXR1dGUiPT09dC52YWx1ZVR5cGU/IlsiK3RoaXMuZXNjYXBlSWRlbnRpZmllcih0Lm5hbWUpK3Qub3BlcmF0b3IrIiQiK3QudmFsdWUrIl0iOiJbIit0aGlzLmVzY2FwZUlkZW50aWZpZXIodC5uYW1lKSt0Lm9wZXJhdG9yK3RoaXMuZXNjYXBlU3RyKHQudmFsdWUpKyJdIjoiWyIrdGhpcy5lc2NhcGVJZGVudGlmaWVyKHQubmFtZSkrIl0ifSksdGhpcykuam9pbigiIikpLHQucHNldWRvcyYmKHIrPXQucHNldWRvcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlVHlwZT8ic2VsZWN0b3IiPT09dC52YWx1ZVR5cGU/IjoiK3RoaXMuZXNjYXBlSWRlbnRpZmllcih0Lm5hbWUpKyIoIit0aGlzLl9yZW5kZXJFbnRpdHkodC52YWx1ZSkrIikiOiJzdWJzdGl0dXRlIj09PXQudmFsdWVUeXBlPyI6Iit0aGlzLmVzY2FwZUlkZW50aWZpZXIodC5uYW1lKSsiKCQiK3QudmFsdWUrIikiOiJudW1lcmljIj09PXQudmFsdWVUeXBlPyI6Iit0aGlzLmVzY2FwZUlkZW50aWZpZXIodC5uYW1lKSsiKCIrdC52YWx1ZSsiKSI6IjoiK3RoaXMuZXNjYXBlSWRlbnRpZmllcih0Lm5hbWUpKyIoIit0aGlzLmVzY2FwZUlkZW50aWZpZXIodC52YWx1ZSkrIikiOiI6Iit0aGlzLmVzY2FwZUlkZW50aWZpZXIodC5uYW1lKX0pLHRoaXMpLmpvaW4oIiIpKTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKCdVbmtub3duIGVudGl0eSB0eXBlOiAiJyt0LnR5cGUoTmFOKSl9cmV0dXJuIHJ9LGUuQ3NzU2VsZWN0b3JQYXJzZXI9bn0sTnc4WDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPVsiaHR0cCIsImh0dHBzIiwibWFpbHRvIiwidGVsIl07dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPSh0fHwiIikudHJpbSgpLG49ZS5jaGFyQXQoMCk7aWYoIiMiPT09bnx8Ii8iPT09bilyZXR1cm4gZTt2YXIgbz1lLmluZGV4T2YoIjoiKTtpZigtMT09PW8pcmV0dXJuIGU7Zm9yKHZhciBpPXIubGVuZ3RoLGE9LTE7KythPGk7KXt2YXIgcz1yW2FdO2lmKG89PT1zLmxlbmd0aCYmZS5zbGljZSgwLHMubGVuZ3RoKS50b0xvd2VyQ2FzZSgpPT09cylyZXR1cm4gZX1yZXR1cm4tMSE9PShhPWUuaW5kZXhPZigiPyIpKSYmbz5hP2U6LTEhPT0oYT1lLmluZGV4T2YoIiMiKSkmJm8+YT9lOiJqYXZhc2NyaXB0OnZvaWQoMCkifX0sTng3TzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlJzRkoiKSxvPW4oIlJqT0YiKSxpPW4oIlpPTlAiKSxhPW4oInZQZHkiKSxzPW4oInZ2clUiKSxjPW4oImNtTE4iKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBvLGEscyx2LG0sZyxiLHgsdyxqLEUsUyxOLFAsQyxJLFQsTSxMLHosUixGLEQsQixVPXRoaXMub3B0aW9ucy5jb21tb25tYXJrLHE9dGhpcy5vcHRpb25zLnBlZGFudGljLEg9dGhpcy5ibG9ja1Rva2VuaXplcnMsVz10aGlzLmludGVycnVwdExpc3QsWT0wLFo9ZS5sZW5ndGgsWD1udWxsLCQ9MDtmb3IoO1k8Wjspe2lmKCh2PWUuY2hhckF0KFkpKT09PWQpJCs9eS0kJXk7ZWxzZXtpZih2IT09cClicmVhazskKyt9WSsrfWlmKCQ+PXkpcmV0dXJuO2lmKHY9ZS5jaGFyQXQoWSksbz1VP0E6XywhMD09PWtbdl0pbT12LHM9ITE7ZWxzZXtmb3Iocz0hMCxhPSIiO1k8WiYmKHY9ZS5jaGFyQXQoWSksaSh2KSk7KWErPXYsWSsrO2lmKHY9ZS5jaGFyQXQoWSksIWF8fCEwIT09b1t2XSlyZXR1cm47WD1wYXJzZUludChhLDEwKSxtPXZ9aWYoKHY9ZS5jaGFyQXQoKytZKSkhPT1wJiZ2IT09ZClyZXR1cm47aWYobilyZXR1cm4hMDtZPTAsUD1bXSxDPVtdLEk9W107Zm9yKDtZPFo7KXtmb3IoZz1lLmluZGV4T2YoaCxZKSxiPVkseD0hMSxCPSExLC0xPT09ZyYmKGc9WiksRD1ZK3ksJD0wO1k8Wjspe2lmKCh2PWUuY2hhckF0KFkpKT09PWQpJCs9eS0kJXk7ZWxzZXtpZih2IT09cClicmVhazskKyt9WSsrfWlmKCQ+PXkmJihCPSEwKSxUJiYkPj1ULmluZGVudCYmKEI9ITApLHY9ZS5jaGFyQXQoWSksdz1udWxsLCFCKXtpZighMD09PWtbdl0pdz12LFkrKywkKys7ZWxzZXtmb3IoYT0iIjtZPFomJih2PWUuY2hhckF0KFkpLGkodikpOylhKz12LFkrKzt2PWUuY2hhckF0KFkpLFkrKyxhJiYhMD09PW9bdl0mJih3PXYsJCs9YS5sZW5ndGgrMSl9aWYodylpZigodj1lLmNoYXJBdChZKSk9PT1kKSQrPXktJCV5LFkrKztlbHNlIGlmKHY9PT1wKXtmb3IoRD1ZK3k7WTxEJiZlLmNoYXJBdChZKT09PXA7KVkrKywkKys7WT09PUQmJmUuY2hhckF0KFkpPT09cCYmKFktPXktMSwkLT15LTEpfWVsc2UgdiE9PWgmJiIiIT09diYmKHc9bnVsbCl9aWYodyl7aWYoIXEmJm0hPT13KWJyZWFrO3g9ITB9ZWxzZSBVfHxCfHxlLmNoYXJBdChiKSE9PXA/VSYmVCYmKEI9JD49VC5pbmRlbnR8fCQ+eSk6Qj0hMCx4PSExLFk9YjtpZihFPWUuc2xpY2UoYixnKSxqPWI9PT1ZP0U6ZS5zbGljZShZLGcpLCh3PT09dXx8dz09PWx8fHc9PT1mKSYmSC50aGVtYXRpY0JyZWFrLmNhbGwodGhpcyx0LEUsITApKWJyZWFrO2lmKFM9TixOPSFyKGopLmxlbmd0aCxCJiZUKVQudmFsdWU9VC52YWx1ZS5jb25jYXQoSSxFKSxDPUMuY29uY2F0KEksRSksST1bXTtlbHNlIGlmKHgpMCE9PUkubGVuZ3RoJiYoVC52YWx1ZS5wdXNoKCIiKSxULnRyYWlsPUkuY29uY2F0KCkpLFQ9e3ZhbHVlOltFXSxpbmRlbnQ6JCx0cmFpbDpbXX0sUC5wdXNoKFQpLEM9Qy5jb25jYXQoSSxFKSxJPVtdO2Vsc2UgaWYoTil7aWYoUylicmVhaztJLnB1c2goRSl9ZWxzZXtpZihTKWJyZWFrO2lmKGMoVyxILHRoaXMsW3QsRSwhMF0pKWJyZWFrO1QudmFsdWU9VC52YWx1ZS5jb25jYXQoSSxFKSxDPUMuY29uY2F0KEksRSksST1bXX1ZPWcrMX1SPXQoQy5qb2luKGgpKS5yZXNldCh7dHlwZToibGlzdCIsb3JkZXJlZDpzLHN0YXJ0OlgsbG9vc2U6bnVsbCxjaGlsZHJlbjpbXX0pLE09dGhpcy5lbnRlckxpc3QoKSxMPXRoaXMuZW50ZXJCbG9jaygpLHo9ITEsWT0tMSxaPVAubGVuZ3RoO2Zvcig7KytZPFo7KVQ9UFtZXS52YWx1ZS5qb2luKGgpLEY9dC5ub3coKSwoVD10KFQpKE8odGhpcyxULEYpLFIpKS5sb29zZSYmKHo9ITApLFQ9UFtZXS50cmFpbC5qb2luKGgpLFkhPT1aLTEmJihUKz1oKSx0KFQpO3JldHVybiBNKCksTCgpLFIubG9vc2U9eixSfTt2YXIgdT0iKiIsbD0iXyIsZj0iLSIscD0iICIsaD0iXG4iLGQ9Ilx0Iix2PSJ4Iix5PTQsbT0vXG5cbig/IVxzKiQpLyxnPS9eXFsoWyBcdF18eHxYKV1bIFx0XS8sYj0vXihbIFx0XSopKFsqKy1dfFxkK1suKV0pKCB7MSw0fSg/ISApfCB8XHR8JHwoPz1cbikpKFteXG5dKikvLHg9L14oWyBcdF0qKShbKistXXxcZCtbLildKShbIFx0XSspLyx3PS9eKCB7MSw0fXxcdCk/L2dtLGs9e307a1t1XT0hMCxrWyIrIl09ITAsa1tmXT0hMDt2YXIgXz17Ii4iOiEwfSxBPXt9O2Z1bmN0aW9uIE8odCxlLG4pe3ZhciByLG8saT10Lm9mZnNldCxhPW51bGw7cmV0dXJuIGU9KHQub3B0aW9ucy5wZWRhbnRpYz9qOkUpLmFwcGx5KG51bGwsYXJndW1lbnRzKSx0Lm9wdGlvbnMuZ2ZtJiYocj1lLm1hdGNoKGcpKSYmKG89clswXS5sZW5ndGgsYT1yWzFdLnRvTG93ZXJDYXNlKCk9PT12LGlbbi5saW5lXSs9byxlPWUuc2xpY2UobykpLHt0eXBlOiJsaXN0SXRlbSIsbG9vc2U6bS50ZXN0KGUpfHxlLmNoYXJBdChlLmxlbmd0aC0xKT09PWgsY2hlY2tlZDphLGNoaWxkcmVuOnQudG9rZW5pemVCbG9jayhlLG4pfX1mdW5jdGlvbiBqKHQsZSxuKXt2YXIgcj10Lm9mZnNldCxvPW4ubGluZTtyZXR1cm4gZT1lLnJlcGxhY2UoeCxpKSxvPW4ubGluZSxlLnJlcGxhY2UodyxpKTtmdW5jdGlvbiBpKHQpe3JldHVybiByW29dPShyW29dfHwwKSt0Lmxlbmd0aCxvKyssIiJ9fWZ1bmN0aW9uIEUodCxlLG4pe3ZhciByLGksYyx1LGwsZixkLHY9dC5vZmZzZXQseT1uLmxpbmU7Zm9yKHU9KGU9ZS5yZXBsYWNlKGIsKGZ1bmN0aW9uKHQsZSxuLGEscyl7aT1lK24rYSxjPXMsTnVtYmVyKG4pPDEwJiZpLmxlbmd0aCUyPT09MSYmKG49cCtuKTtyZXR1cm4ocj1lK28ocCxuLmxlbmd0aCkrYSkrY30pKSkuc3BsaXQoaCksKGw9cyhlLGEocikuaW5kZW50KS5zcGxpdChoKSlbMF09Yyx2W3ldPSh2W3ldfHwwKStpLmxlbmd0aCx5KyssZj0wLGQ9dS5sZW5ndGg7KytmPGQ7KXZbeV09KHZbeV18fDApK3VbZl0ubGVuZ3RoLWxbZl0ubGVuZ3RoLHkrKztyZXR1cm4gbC5qb2luKGgpfUFbIi4iXT0hMCxBWyIpIl09ITB9LE9FRVM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5lbmNvZGUodGhpcy5lc2NhcGUodC52YWx1ZSx0LGUpLHQpfX0sT0lCYTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih0KXRocm93IHR9fSxPUkt3OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIioiPT09dC50YWdOYW1lfHx0LnRhZ05hbWU9PT1lLnR5cGV9fSxPZDB6OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWE7dmFyIHI9WyJcXCIsImAiLCIqIiwieyIsIn0iLCJbIiwiXSIsIigiLCIpIiwiIyIsIisiLCItIiwiLiIsIiEiLCJfIiwiPiJdLG89ci5jb25jYXQoWyJ+IiwifCJdKSxpPW8uY29uY2F0KFsiXG4iLCciJywiJCIsIiUiLCImIiwiJyIsIiwiLCIvIiwiOiIsIjsiLCI8IiwiPSIsIj8iLCJAIiwiXiJdKTtmdW5jdGlvbiBhKHQpe3ZhciBlPXR8fHt9O3JldHVybiBlLmNvbW1vbm1hcms/aTplLmdmbT9vOnJ9YS5kZWZhdWx0PXIsYS5nZm09byxhLmNvbW1vbm1hcms9aX0sIk9rL2IiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigicTNFTiIpLG89bigiZlNobSIpO3QuZXhwb3J0cz1zLHMubG9jYXRvcj1vO3ZhciBpPSJ+IixhPSJ+fiI7ZnVuY3Rpb24gcyh0LGUsbil7dmFyIG8scyxjLHU9IiIsbD0iIixmPSIiLHA9IiI7aWYodGhpcy5vcHRpb25zLmdmbSYmZS5jaGFyQXQoMCk9PT1pJiZlLmNoYXJBdCgxKT09PWkmJiFyKGUuY2hhckF0KDIpKSlmb3Iobz0xLHM9ZS5sZW5ndGgsKGM9dC5ub3coKSkuY29sdW1uKz0yLGMub2Zmc2V0Kz0yOysrbzxzOyl7aWYoKHU9ZS5jaGFyQXQobykpPT09aSYmbD09PWkmJighZnx8IXIoZikpKXJldHVybiEhbnx8dChhK3ArYSkoe3R5cGU6ImRlbGV0ZSIsY2hpbGRyZW46dGhpcy50b2tlbml6ZUlubGluZShwLGMpfSk7cCs9bCxmPWwsbD11fX19LE9sUFM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuKCJRZXRkIik7dmFyIHI9bigiaGZLbSIpLG89dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07cihlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1vKG4oIldWd3IiKSksYT1vKG4oImNZTk8iKSk7ZnVuY3Rpb24gcyh0KXtyZXR1cm4gYS5kZWZhdWx0KHQsKGZ1bmN0aW9uKHQpe2lmKCJ3aWtpTGluayI9PT10LnR5cGUpe3ZhciBlPXQ7cmV0dXJue3R5cGU6Im5vdGVMaW5rTm9kZSIsdGFyZ2V0Tm90ZU5hbWU6ZS52YWx1ZSx0YXJnZXROb3RlRGlzcGxheU5hbWU6ZS5kYXRhLmFsaWFzfX1yZXR1cm4gdH0pKX1lLm5vdGVMaW5rTm9kZVR5cGU9Im5vdGVMaW5rTm9kZSIsZS5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdC5hcHBseSh0aGlzLFt7YWxpYXNEaXZpZGVyOiI6OjoifV0pLHRoaXMuQ29tcGlsZXIucHJvdG90eXBlLnZpc2l0b3JzLm5vdGVMaW5rTm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gdC50YXJnZXROb3RlTmFtZT09PXQudGFyZ2V0Tm90ZURpc3BsYXlOYW1lPyJbWyIuY29uY2F0KHQudGFyZ2V0Tm90ZU5hbWUsIl1dIik6IltbIi5jb25jYXQodC50YXJnZXROb3RlTmFtZSwiOjo6IikuY29uY2F0KHQudGFyZ2V0Tm90ZURpc3BsYXlOYW1lLCJdXSIpfSxzfX0sT3NQVTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbigpe319LE9zam06ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJQbzlwIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoInN0cmluZyIhPT10eXBlb2YgdClyZXR1cm4gdDtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHQ7dmFyIG49ci5iYXNlbmFtZSh0LHIuZXh0bmFtZSh0KSkrZTtyZXR1cm4gci5qb2luKHIuZGlybmFtZSh0KSxuKX19LE96VnI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJxM0VOIiksbz1uKCJhVkV6Iik7dC5leHBvcnRzPW0sbS5sb2NhdG9yPW87dmFyIGk9IlxuIixhPSIhIixzPSciJyxjPSInIix1PSIoIixsPSIpIixmPSI8IixwPSI+IixoPSJbIixkPSJcXCIsdj0iXSIseT0iYCI7ZnVuY3Rpb24gbSh0LGUsbil7dmFyIG8sbSxnLGIseCx3LGssXyxBLE8saixFLFMsTixQLEMsSSxULE09IiIsTD0wLHo9ZS5jaGFyQXQoMCksUj10aGlzLm9wdGlvbnMucGVkYW50aWMsRj10aGlzLm9wdGlvbnMuY29tbW9ubWFyayxEPXRoaXMub3B0aW9ucy5nZm07aWYoej09PWEmJihfPSEwLE09eix6PWUuY2hhckF0KCsrTCkpLHo9PT1oJiYoX3x8IXRoaXMuaW5MaW5rKSl7Zm9yKE0rPXosTj0iIixMKyssaj1lLmxlbmd0aCxTPTAsKEM9dC5ub3coKSkuY29sdW1uKz1MLEMub2Zmc2V0Kz1MO0w8ajspe2lmKHc9ej1lLmNoYXJBdChMKSx6PT09eSl7Zm9yKG09MTtlLmNoYXJBdChMKzEpPT09eTspdys9eixMKyssbSsrO2c/bT49ZyYmKGc9MCk6Zz1tfWVsc2UgaWYoej09PWQpTCsrLHcrPWUuY2hhckF0KEwpO2Vsc2UgaWYoZyYmIUR8fHohPT1oKXtpZigoIWd8fEQpJiZ6PT09dil7aWYoIVMpe2lmKCFSKWZvcig7TDxqJiYoej1lLmNoYXJBdChMKzEpLHIoeikpOyl3Kz16LEwrKztpZihlLmNoYXJBdChMKzEpIT09dSlyZXR1cm47dys9dSxvPSEwLEwrKzticmVha31TLS19fWVsc2UgUysrO04rPXcsdz0iIixMKyt9aWYobyl7Zm9yKEE9TixNKz1OK3csTCsrO0w8aiYmKHo9ZS5jaGFyQXQoTCkscih6KSk7KU0rPXosTCsrO2lmKE49IiIsYj1NLCh6PWUuY2hhckF0KEwpKT09PWYpe2ZvcihMKyssYis9ZjtMPGomJih6PWUuY2hhckF0KEwpKSE9PXA7KXtpZihGJiZ6PT09aSlyZXR1cm47Tis9eixMKyt9aWYoZS5jaGFyQXQoTCkhPT1wKXJldHVybjtNKz1mK04rcCxQPU4sTCsrfWVsc2V7Zm9yKHo9bnVsbCx3PSIiO0w8aiYmKHo9ZS5jaGFyQXQoTCksIXd8fCEoej09PXN8fHo9PT1jfHxGJiZ6PT09dSkpOyl7aWYocih6KSl7aWYoIVIpYnJlYWs7dys9en1lbHNle2lmKHo9PT11KVMrKztlbHNlIGlmKHo9PT1sKXtpZigwPT09UylicmVhaztTLS19Tis9dyx3PSIiLHo9PT1kJiYoTis9ZCx6PWUuY2hhckF0KCsrTCkpLE4rPXp9TCsrfVA9TixMPShNKz1OKS5sZW5ndGh9Zm9yKE49IiI7TDxqJiYoej1lLmNoYXJBdChMKSxyKHopKTspTis9eixMKys7aWYoej1lLmNoYXJBdChMKSxNKz1OLE4mJih6PT09c3x8ej09PWN8fEYmJno9PT11KSlpZihMKyssTj0iIixPPXo9PT11P2w6eix4PU0rPXosRil7Zm9yKDtMPGomJih6PWUuY2hhckF0KEwpKSE9PU87KXo9PT1kJiYoTis9ZCx6PWUuY2hhckF0KCsrTCkpLEwrKyxOKz16O2lmKCh6PWUuY2hhckF0KEwpKSE9PU8pcmV0dXJuO2ZvcihFPU4sTSs9Tit6LEwrKztMPGomJih6PWUuY2hhckF0KEwpLHIoeikpOylNKz16LEwrK31lbHNlIGZvcih3PSIiO0w8ajspe2lmKCh6PWUuY2hhckF0KEwpKT09PU8payYmKE4rPU8rdyx3PSIiKSxrPSEwO2Vsc2UgaWYoayl7aWYoej09PWwpe00rPU4rTyt3LEU9TjticmVha31yKHopP3crPXo6KE4rPU8rdyt6LHc9IiIsaz0hMSl9ZWxzZSBOKz16O0wrK31pZihlLmNoYXJBdChMKT09PWwpcmV0dXJuISFufHwoTSs9bCxQPXRoaXMuZGVjb2RlLnJhdyh0aGlzLnVuZXNjYXBlKFApLHQoYikudGVzdCgpLmVuZCx7bm9uVGVybWluYXRlZDohMX0pLEUmJih4PXQoeCkudGVzdCgpLmVuZCxFPXRoaXMuZGVjb2RlLnJhdyh0aGlzLnVuZXNjYXBlKEUpLHgpKSxUPXt0eXBlOl8/ImltYWdlIjoibGluayIsdGl0bGU6RXx8bnVsbCx1cmw6UH0sXz9ULmFsdD10aGlzLmRlY29kZS5yYXcodGhpcy51bmVzY2FwZShBKSxDKXx8bnVsbDooST10aGlzLmVudGVyTGluaygpLFQuY2hpbGRyZW49dGhpcy50b2tlbml6ZUlubGluZShBLEMpLEkoKSksdChNKShUKSl9fX19LFA3WE06ZnVuY3Rpb24odCxlKXsiZnVuY3Rpb24iPT09dHlwZW9mIE9iamVjdC5jcmVhdGU/dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7ZSYmKHQuc3VwZXJfPWUsdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSkpfTp0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihlKXt0LnN1cGVyXz1lO3ZhciBuPWZ1bmN0aW9uKCl7fTtuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10fX19LFBiNHA6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJYWE9LIiksbz1uKCJoZkttIiksaT10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtvKGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBhPWkobigiVzBUWiIpKSxzPW4oIk1UMTIiKSxjPW4oImkyU2MiKSx1PSJRLiAiLGw9IkEuICI7ZS5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ29tcGlsZXIucHJvdG90eXBlLnZpc2l0b3JzW2MucWFQcm9tcHROb2RlVHlwZV09ZnVuY3Rpb24odCl7cmV0dXJuIHUrdGhpcy52aXNpdCh0LnF1ZXN0aW9uLHQpKyJcbiIrbCt0aGlzLnZpc2l0KHQuYW5zd2VyLHQpfSxwfTt2YXIgZj1uZXcgUmVnRXhwKCJcbiIuY29uY2F0KGwpLCJtIik7ZnVuY3Rpb24gcCh0KXt2YXIgZT1hLmRlZmF1bHQodCksbj1zLnNlbGVjdEFsbCgicGFyYWdyYXBoPnRleHRbdmFsdWVePSciLmNvbmNhdChsLCInXSIpLGUpLG89ITAsaT0hMSxwPXZvaWQgMDt0cnl7Zm9yKHZhciBoLGQ9cihuKTshKG89KGg9ZC5uZXh0KCkpLmRvbmUpO289ITApe3ZhciB2PWgudmFsdWUseT12LnBhcmVudC5wYXJlbnQubm9kZSxtPXkuY2hpbGRyZW4uaW5kZXhPZih2LnBhcmVudC5ub2RlKTtpZigtMSE9PW0mJjAhPT1tKXt2YXIgZz15LmNoaWxkcmVuW20tMV07aWYoInBhcmFncmFwaCI9PT1nLnR5cGUpe3ZhciBiPWcuY2hpbGRyZW5bMF07aWYoMT09PWcuY2hpbGRyZW4ubGVuZ3RoJiYidGV4dCI9PT1iLnR5cGUmJmIudmFsdWUuc3RhcnRzV2l0aCh1KSl7dmFyIHg9eS5jaGlsZHJlblttXTtiLnZhbHVlPWIudmFsdWUuc2xpY2UodS5sZW5ndGgpO3ZhciB3PXguY2hpbGRyZW5bMF07dy52YWx1ZT13LnZhbHVlLnNsaWNlKGwubGVuZ3RoKTt2YXIgaz17dHlwZTpjLnFhUHJvbXB0Tm9kZVR5cGUscXVlc3Rpb246ZyxhbnN3ZXI6eH07eS5jaGlsZHJlbi5zcGxpY2UobS0xLDIsayl9fX19fWNhdGNoKEIpe2k9ITAscD1CfWZpbmFsbHl7dHJ5e298fG51bGw9PWQucmV0dXJufHxkLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBwfX12YXIgXz1zLnNlbGVjdEFsbCgicGFyYWdyYXBoPnRleHRbdmFsdWVePSciLmNvbmNhdCh1LCInXSIpLGUpLEE9ITAsTz0hMSxqPXZvaWQgMDt0cnl7Zm9yKHZhciBFLFM9cihfKTshKEE9KEU9Uy5uZXh0KCkpLmRvbmUpO0E9ITApe3ZhciBOPUUudmFsdWUsUD1OLnBhcmVudC5ub2RlLEM9UC5jaGlsZHJlbi5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiJ0ZXh0Ij09PXQudHlwZSYmZi50ZXN0KHQudmFsdWUpfSkpO2lmKC0xIT09Qyl7dmFyIEk9UC5jaGlsZHJlbltDXSxUPUkudmFsdWUubWF0Y2goZiksTT1JLnZhbHVlLnNsaWNlKDAsVC5pbmRleCksTD1JLnZhbHVlLnNsaWNlKFQuaW5kZXgpLHo9UC5jaGlsZHJlbi5zbGljZSgwLEMpLFI9UC5jaGlsZHJlbi5zbGljZShDKTsiIiE9PU0mJih6LnB1c2goe3R5cGU6InRleHQiLHZhbHVlOk19KSxSWzBdLnZhbHVlPUwpLHpbMF0udmFsdWU9elswXS52YWx1ZS5zbGljZSh1Lmxlbmd0aCksUlswXS52YWx1ZT1SWzBdLnZhbHVlLnNsaWNlKGwubGVuZ3RoKzEpO3ZhciBGPXt0eXBlOmMucWFQcm9tcHROb2RlVHlwZSxxdWVzdGlvbjp7dHlwZToicGFyYWdyYXBoIixjaGlsZHJlbjp6fSxhbnN3ZXI6e3R5cGU6InBhcmFncmFwaCIsY2hpbGRyZW46Un19LEQ9Ti5wYXJlbnQucGFyZW50Lm5vZGU7RC5jaGlsZHJlbi5zcGxpY2UoRC5jaGlsZHJlbi5pbmRleE9mKFApLDEsRil9fX1jYXRjaChCKXtPPSEwLGo9Qn1maW5hbGx5e3RyeXtBfHxudWxsPT1TLnJldHVybnx8Uy5yZXR1cm4oKX1maW5hbGx5e2lmKE8pdGhyb3cgan19cmV0dXJuIHR9fSxQam9kOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiQVQ2ZyIpLG89bigiYnRERiIpLGk9bigiYmZXMCIpO2Z1bmN0aW9uIGEodCl7dmFyIGU9cihpKTtlLnByb3RvdHlwZS5vcHRpb25zPW8oZS5wcm90b3R5cGUub3B0aW9ucyx0aGlzLmRhdGEoInNldHRpbmdzIiksdCksdGhpcy5Db21waWxlcj1lfXQuZXhwb3J0cz1hLGEuQ29tcGlsZXI9aX0sUG85cDpmdW5jdGlvbih0LGUpe30sUTZwVTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigieTFmcSIpLG89bigiSUJXSiIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbyhyKHQpKX0sdC5leHBvcnRzLnBhcnNlPXIsdC5leHBvcnRzLmNvbXBpbGU9b30sUU5NSzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPVN0cmluZy5wcm90b3R5cGUuaW5kZXhPZjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIuY2FsbCh0aGlzLHQsYXJndW1lbnRzWzFdKT4tMX19LFFQWjM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuISF0JiYoInN5bWJvbCI9PT10eXBlb2YgdHx8ISF0LmNvbnN0cnVjdG9yJiYoIlN5bWJvbCI9PT10LmNvbnN0cnVjdG9yLm5hbWUmJiJTeW1ib2wiPT09dFt0LmNvbnN0cnVjdG9yLnRvU3RyaW5nVGFnXSkpfX0sUVlsazpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjQxcXQiKSxvPW4oInQ0Z2MiKSxpPW4oIjhTcnUiKSxhPW4oIlVTalIiKS5pdGVyYXRvcixzPUFycmF5LmlzQXJyYXk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiEhbyh0KSYmKCEhcyh0KXx8KCEhaSh0KXx8KCEhcih0KXx8ImZ1bmN0aW9uIj09PXR5cGVvZiB0W2FdKSkpfX0sUWd2NzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiB0LmluZGV4T2YoIlxcIixlKX19LFFqMHM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWV9fSxRbkl6OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIGEodCxlLG4scixvKX07dmFyIHI9bigiYU8wMyIpLG89e30uaGFzT3duUHJvcGVydHksaT1bXS5zbGljZSxhPXIoIm5lc3RpbmdPcGVyYXRvciIpLHM9YS5oYW5kbGVycztmdW5jdGlvbiBjKHQsZSxuLHIsbyl7dmFyIGE9by5pdGVyYXRvcjtvLml0ZXJhdG9yPWZ1bmN0aW9uIGUoKXtpZihvLml0ZXJhdG9yPWEsYS5hcHBseSh0aGlzLGFyZ3VtZW50cyksby5pdGVyYXRvcj1lLG8ub25lJiZvLmZvdW5kKXJldHVybjt1LmFwcGx5KHRoaXMsW3RdLmNvbmNhdChpLmNhbGwoYXJndW1lbnRzLDEpKSl9LHUuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHUodCxlLG4scixvKXtlLmNoaWxkcmVuJiYwIT09ZS5jaGlsZHJlbi5sZW5ndGgmJmwodCxlLG8pLmVhY2goKS5kb25lKCl9ZnVuY3Rpb24gbCh0LGUsbil7dmFyIHI9ZS5jaGlsZHJlbixpPW4uaW5kZXg/ZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gZS5jb3VudD1mdW5jdGlvbihlKXtyZXR1cm4gdFtlLnR5cGVdfSxlLm5vZGVzPTAsZTtmdW5jdGlvbiBlKG4pe3ZhciByPW4udHlwZTtyZXR1cm4gZS5ub2RlcysrLG8uY2FsbCh0LHIpfHwodFtyXT0wKSx0W3JdKyt9fSgpOm51bGwsYT1bXTtyZXR1cm57cHJlZmlsbFR5cGVJbmRleDpzKChmdW5jdGlvbih0LGUpe2lmKGkpZm9yKDt0PGU7KWkoclt0XSksdCsrO3JldHVybiB0aGlzfSkpLGVhY2g6cygoZnVuY3Rpb24gbyhzLGMpe3ZhciB1LGwsZj1yW3NdO2lmKHM+PWMpcmV0dXJuIHRoaXM7aT8obD1pLm5vZGVzLHU9aShmKSxhLnB1c2goKGZ1bmN0aW9uKCl7bi50eXBlSW5kZXg9dSxuLm5vZGVJbmRleD1sLG4udHlwZUNvdW50PWkuY291bnQoZiksbi5ub2RlQ291bnQ9aS5ub2RlcyxwKCl9KSkpOnAoKTtpZihuLm9uZSYmbi5mb3VuZClyZXR1cm4gdGhpcztyZXR1cm4gby5jYWxsKHRoaXMscysxLGMpO2Z1bmN0aW9uIHAoKXtuLml0ZXJhdG9yKHQsZixzLGUsbil9fSkpLGRvbmU6ZnVuY3Rpb24oKXt2YXIgdD1hLmxlbmd0aCxlPS0xO2Zvcig7KytlPHQmJihhW2VdKCksIW4ub25lfHwhbi5mb3VuZCk7KTtyZXR1cm4gdGhpc319O2Z1bmN0aW9uIHModCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7KG51bGw9PT1lfHx2b2lkIDA9PT1lfHxlPDApJiYoZT0wKTsobnVsbD09PW58fHZvaWQgMD09PW58fG4+ci5sZW5ndGgpJiYobj1yLmxlbmd0aCk7cmV0dXJuIHQuY2FsbCh0aGlzLGUsbil9fX1hLnVua25vd249ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIG5lc3RpbmcgYCIrdC5uZXN0aW5nT3BlcmF0b3IrImAiKX0sYS5pbnZhbGlkPWZ1bmN0aW9uKHQsZSxuLHIsbyl7aWYocil0aHJvdyBuZXcgRXJyb3IoInRvcFNjYW4gaXMgc3VwcG9zZWQgdG8gYmUgY2FsbGVkIGZyb20gdGhlIHJvb3Qgbm9kZSIpO28uaXRlcmF0b3IuYXBwbHkobnVsbCxhcmd1bWVudHMpLG8uc2hhbGxvd3x8Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHMubnVsbD1jLHNbIj4iXT11LHNbIisiXT1mdW5jdGlvbih0LGUsbixyLG8pe2lmKCFyKXJldHVybjtsKHQscixvKS5wcmVmaWxsVHlwZUluZGV4KDAsKytuKS5lYWNoKG4sKytuKS5wcmVmaWxsVHlwZUluZGV4KG4pLmRvbmUoKX0sc1sifiJdPWZ1bmN0aW9uKHQsZSxuLHIsbyl7aWYoIXIpcmV0dXJuO2wodCxyLG8pLnByZWZpbGxUeXBlSW5kZXgoMCwrK24pLmVhY2gobikuZG9uZSgpfX0sIlIvRHciOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiaGZLbSIpLG89dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07cihlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1vKG4oImNZTk8iKSk7ZS5iZWFySUROb2RlVHlwZT0iYmVhcklEIjt2YXIgYT0vPCEtLSB7QmVhcklEOihbMC05QS1GXC1dKz8pfSAtLT4vO2Z1bmN0aW9uIHModCl7cmV0dXJuIGkuZGVmYXVsdCh0LChmdW5jdGlvbih0KXtpZigiaHRtbCI9PT10LnR5cGUpe3ZhciBuPXQudmFsdWUubWF0Y2goYSk7aWYobilyZXR1cm57dHlwZTplLmJlYXJJRE5vZGVUeXBlLGJlYXJJRDpuWzFdfX1yZXR1cm4gdH0pKX1lLmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Db21waWxlci5wcm90b3R5cGUudmlzaXRvcnNbZS5iZWFySUROb2RlVHlwZV09ZnVuY3Rpb24odCl7cmV0dXJuIlx4M2MhLS0ge0JlYXJJRDoiLmNvbmNhdCh0LmJlYXJJRCwifSAtLVx4M2UiKX0sc319LCJSL2ZVIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixyKXt2YXIgbyxpLGE9dC5sZW5ndGgscz0tMTtmb3IoOysrczxhOylpZihvPXRbc10sKHZvaWQgMD09PShpPW9bMV18fHt9KS5wZWRhbnRpY3x8aS5wZWRhbnRpYz09PW4ub3B0aW9ucy5wZWRhbnRpYykmJih2b2lkIDA9PT1pLmNvbW1vbm1hcmt8fGkuY29tbW9ubWFyaz09PW4ub3B0aW9ucy5jb21tb25tYXJrKSYmZVtvWzBdXS5hcHBseShuLHIpKXJldHVybiEwO3JldHVybiExfX0sUjNXSzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcit0aGlzLmFsbCh0KS5qb2luKCIiKStyfTt2YXIgcj0ifn4ifSxSN0pKOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmZT9zKHQsZSxuKTpbXX07dmFyIHI9bigiZDB5WSIpLG89bigiTTYyOCIpLm5lZWRzSW5kZXgsaT1uKCJaYm1NIiksYT1uKCJhekQzIikscz1yKCJ0eXBlIiksYz1zLmhhbmRsZXJzO2Z1bmN0aW9uIHUodCxlLG4pe3JldHVybiBsKHQucnVsZSxlLG4pfWZ1bmN0aW9uIGwodCxlLG4pe3ZhciByPWYobi5vbmUpLHM9e3Njb3BlTm9kZXM6InJvb3QiPT09ZS50eXBlP2UuY2hpbGRyZW46W2VdLGl0ZXJhdG9yOmZ1bmN0aW9uKHQsZSxuLG8scyl7aSh0LGUsbixvLHMpJiYodC5ydWxlP2EodC5ydWxlLGUsbixvLGModC5ydWxlLHMpKToocihlKSxzLmZvdW5kPSEwKSl9LG9uZTpuLm9uZSxzaGFsbG93Om4uc2hhbGxvd307aWYobi5zaGFsbG93JiZ0LnJ1bGUpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCBzZWxlY3RvciB3aXRob3V0IG5lc3RpbmciKTtyZXR1cm4gYSh0LGUsMCxudWxsLGModCxzKSksci5yZXN1bHQ7ZnVuY3Rpb24gYyh0LGUpe2Zvcih2YXIgbj10LnBzZXVkb3Mscj1uJiZuLmxlbmd0aCxpPS0xOysraTxyOylpZigtMSE9PW8uaW5kZXhPZihuW2ldLm5hbWUpKXtlLmluZGV4PSEwO2JyZWFrfXJldHVybiBlfX1mdW5jdGlvbiBmKHQpe3ZhciBlLG49W107cmV0dXJuIHIucmVzdWx0PW4scjtmdW5jdGlvbiByKHIpe2Z1bmN0aW9uIG8ocil7aWYodCl7aWYoZSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBjb2xsZWN0IG11bHRpcGxlIG5vZGVzIik7ZT0hMH0tMT09PW4uaW5kZXhPZihyKSYmbi5wdXNoKHIpfSJsZW5ndGgiaW4gcj9mdW5jdGlvbigpe3ZhciB0PXIubGVuZ3RoLGU9LTE7Zm9yKDsrK2U8dDspbyhyW2VdKX0oKTpvKHIpfX1zLnVua25vd249ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHR5cGUgYCIrdC50eXBlKyJgIil9LHMuaW52YWxpZD1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW52YWxpZCB0eXBlIil9LGMuc2VsZWN0b3JzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1mKG4ub25lKSxvPXQuc2VsZWN0b3JzLGk9by5sZW5ndGgsYT0tMTtmb3IoOysrYTxpOylyKHUob1thXSxlLG4pKTtyZXR1cm4gci5yZXN1bHR9LGMucnVsZVNldD11LGMucnVsZT1sfSxSRmp4OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiUWV0ZCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbiB0KG4sbyxpKXt2YXIgYT1uLmNoaWxkcmVuLHM9cih7fSxlKG4sbyxpKSk7YSYmKHMuY2hpbGRyZW49YS5tYXAoKGZ1bmN0aW9uKGUscil7cmV0dXJuIHQoZSxyLG4pfSkpKTtyZXR1cm4gc30odCxudWxsLG51bGwpfX0sUkxlRjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIkQzekEiKSxvPW4oIjZheWgiKSgiJUZ1bmN0aW9uJSIpLGk9by5hcHBseSxhPW8uY2FsbDt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gci5hcHBseShhLGFyZ3VtZW50cyl9LHQuZXhwb3J0cy5hcHBseT1mdW5jdGlvbigpe3JldHVybiByLmFwcGx5KGksYXJndW1lbnRzKX19LFJVVmw6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG89T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iscz1mdW5jdGlvbih0KXtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIEFycmF5LmlzQXJyYXk/QXJyYXkuaXNBcnJheSh0KToiW29iamVjdCBBcnJheV0iPT09by5jYWxsKHQpfSxjPWZ1bmN0aW9uKHQpe2lmKCF0fHwiW29iamVjdCBPYmplY3RdIiE9PW8uY2FsbCh0KSlyZXR1cm4hMTt2YXIgZSxuPXIuY2FsbCh0LCJjb25zdHJ1Y3RvciIpLGk9dC5jb25zdHJ1Y3RvciYmdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUmJnIuY2FsbCh0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpO2lmKHQuY29uc3RydWN0b3ImJiFuJiYhaSlyZXR1cm4hMTtmb3IoZSBpbiB0KTtyZXR1cm4idW5kZWZpbmVkIj09PXR5cGVvZiBlfHxyLmNhbGwodCxlKX0sdT1mdW5jdGlvbih0LGUpe2kmJiJfX3Byb3RvX18iPT09ZS5uYW1lP2kodCxlLm5hbWUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHZhbHVlOmUubmV3VmFsdWUsd3JpdGFibGU6ITB9KTp0W2UubmFtZV09ZS5uZXdWYWx1ZX0sbD1mdW5jdGlvbih0LGUpe2lmKCJfX3Byb3RvX18iPT09ZSl7aWYoIXIuY2FsbCh0LGUpKXJldHVybjtpZihhKXJldHVybiBhKHQsZSkudmFsdWV9cmV0dXJuIHRbZV19O3QuZXhwb3J0cz1mdW5jdGlvbiB0KCl7dmFyIGUsbixyLG8saSxhLGY9YXJndW1lbnRzWzBdLHA9MSxoPWFyZ3VtZW50cy5sZW5ndGgsZD0hMTtmb3IoImJvb2xlYW4iPT09dHlwZW9mIGYmJihkPWYsZj1hcmd1bWVudHNbMV18fHt9LHA9MiksKG51bGw9PWZ8fCJvYmplY3QiIT09dHlwZW9mIGYmJiJmdW5jdGlvbiIhPT10eXBlb2YgZikmJihmPXt9KTtwPGg7KytwKWlmKG51bGwhPShlPWFyZ3VtZW50c1twXSkpZm9yKG4gaW4gZSlyPWwoZixuKSxmIT09KG89bChlLG4pKSYmKGQmJm8mJihjKG8pfHwoaT1zKG8pKSk/KGk/KGk9ITEsYT1yJiZzKHIpP3I6W10pOmE9ciYmYyhyKT9yOnt9LHUoZix7bmFtZTpuLG5ld1ZhbHVlOnQoZCxhLG8pfSkpOiJ1bmRlZmluZWQiIT09dHlwZW9mIG8mJnUoZix7bmFtZTpuLG5ld1ZhbHVlOm99KSk7cmV0dXJuIGZ9fSxSWVhLOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYmxvY2sodCk7ZS5jaGFyQXQoZS5sZW5ndGgtMSkhPT1yJiYoZSs9cik7cmV0dXJuIGV9O3ZhciByPSJcbiJ9LFJnZFc6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJRWWxrIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IodCsiIGlzIG5vdCBpdGVyYWJsZSIpO3JldHVybiB0fX0sUmpPRjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByLG89IiI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoInN0cmluZyIhPT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJleHBlY3RlZCBhIHN0cmluZyIpO2lmKDE9PT1lKXJldHVybiB0O2lmKDI9PT1lKXJldHVybiB0K3Q7dmFyIG49dC5sZW5ndGgqZTtpZihyIT09dHx8InVuZGVmaW5lZCI9PT10eXBlb2YgcilyPXQsbz0iIjtlbHNlIGlmKG8ubGVuZ3RoPj1uKXJldHVybiBvLnN1YnN0cigwLG4pO2Zvcig7bj5vLmxlbmd0aCYmZT4xOykxJmUmJihvKz10KSxlPj49MSx0Kz10O3JldHVybiBvPShvKz10KS5zdWJzdHIoMCxuKX19LFJtVjY6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJHcFJMIiksbz1uKCJhRmprIiksaT1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj17fSxhPWFyZ3VtZW50c1syXTtyZXR1cm4gcihlKSxvKHQsKGZ1bmN0aW9uKHQscixvLHMpe25bcl09aS5jYWxsKGUsYSx0LHIsbyxzKX0pKSxufX0sUnNGSjpmdW5jdGlvbih0LGUpeyhlPXQuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eXHMqfFxzKiQvZywiIil9KS5sZWZ0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL15ccyovLCIiKX0sZS5yaWdodD1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9ccyokLywiIil9fSxTWlBxOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7KGZ1bmN0aW9uKGUpe3ZhciByPW4oIlBvOXAiKSxvPW4oIjQ4cTUiKSxpPW4oIkJFdGciKTt0LmV4cG9ydHM9dTt2YXIgYT17fS5oYXNPd25Qcm9wZXJ0eSxzPXUucHJvdG90eXBlO3MudG9TdHJpbmc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZW50c3x8IiI7cmV0dXJuIGkoZSk/ZS50b1N0cmluZyh0KTpTdHJpbmcoZSl9O3ZhciBjPVsiaGlzdG9yeSIsInBhdGgiLCJiYXNlbmFtZSIsInN0ZW0iLCJleHRuYW1lIiwiZGlybmFtZSJdO2Z1bmN0aW9uIHUodCl7dmFyIG4scixvO2lmKHQpe2lmKCJzdHJpbmciPT09dHlwZW9mIHR8fGkodCkpdD17Y29udGVudHM6dH07ZWxzZSBpZigibWVzc2FnZSJpbiB0JiYibWVzc2FnZXMiaW4gdClyZXR1cm4gdH1lbHNlIHQ9e307aWYoISh0aGlzIGluc3RhbmNlb2YgdSkpcmV0dXJuIG5ldyB1KHQpO2Zvcih0aGlzLmRhdGE9e30sdGhpcy5tZXNzYWdlcz1bXSx0aGlzLmhpc3Rvcnk9W10sdGhpcy5jd2Q9ZS5jd2QoKSxyPS0xLG89Yy5sZW5ndGg7KytyPG87KW49Y1tyXSxhLmNhbGwodCxuKSYmKHRoaXNbbl09dFtuXSk7Zm9yKG4gaW4gdCktMT09PWMuaW5kZXhPZihuKSYmKHRoaXNbbl09dFtuXSl9ZnVuY3Rpb24gbCh0LGUpe2lmKC0xIT09dC5pbmRleE9mKHIuc2VwKSl0aHJvdyBuZXcgRXJyb3IoImAiK2UrImAgY2Fubm90IGJlIGEgcGF0aDogZGlkIG5vdCBleHBlY3QgYCIrci5zZXArImAiKX1mdW5jdGlvbiBmKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJgIitlKyJgIGNhbm5vdCBiZSBlbXB0eSIpfWZ1bmN0aW9uIHAodCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlNldHRpbmcgYCIrZSsiYCByZXF1aXJlcyBgcGF0aGAgdG8gYmUgc2V0IHRvbyIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLCJwYXRoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlzdG9yeVt0aGlzLmhpc3RvcnkubGVuZ3RoLTFdfSxzZXQ6ZnVuY3Rpb24odCl7Zih0LCJwYXRoIiksdCE9PXRoaXMucGF0aCYmdGhpcy5oaXN0b3J5LnB1c2godCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsImRpcm5hbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiB0aGlzLnBhdGg/ci5kaXJuYW1lKHRoaXMucGF0aCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24odCl7cCh0aGlzLnBhdGgsImRpcm5hbWUiKSx0aGlzLnBhdGg9ci5qb2luKHR8fCIiLHRoaXMuYmFzZW5hbWUpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLCJiYXNlbmFtZSIse2dldDpmdW5jdGlvbigpe3JldHVybiJzdHJpbmciPT09dHlwZW9mIHRoaXMucGF0aD9yLmJhc2VuYW1lKHRoaXMucGF0aCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24odCl7Zih0LCJiYXNlbmFtZSIpLGwodCwiYmFzZW5hbWUiKSx0aGlzLnBhdGg9ci5qb2luKHRoaXMuZGlybmFtZXx8IiIsdCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsImV4dG5hbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiB0aGlzLnBhdGg/ci5leHRuYW1lKHRoaXMucGF0aCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dHx8IiI7aWYobChlLCJleHRuYW1lIikscCh0aGlzLnBhdGgsImV4dG5hbWUiKSxlKXtpZigiLiIhPT1lLmNoYXJBdCgwKSl0aHJvdyBuZXcgRXJyb3IoImBleHRuYW1lYCBtdXN0IHN0YXJ0IHdpdGggYC5gIik7aWYoLTEhPT1lLmluZGV4T2YoIi4iLDEpKXRocm93IG5ldyBFcnJvcigiYGV4dG5hbWVgIGNhbm5vdCBjb250YWluIG11bHRpcGxlIGRvdHMiKX10aGlzLnBhdGg9byh0aGlzLnBhdGgsZSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsInN0ZW0iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiB0aGlzLnBhdGg/ci5iYXNlbmFtZSh0aGlzLnBhdGgsdGhpcy5leHRuYW1lKTp2b2lkIDB9LHNldDpmdW5jdGlvbih0KXtmKHQsInN0ZW0iKSxsKHQsInN0ZW0iKSx0aGlzLnBhdGg9ci5qb2luKHRoaXMuZGlybmFtZXx8IiIsdCsodGhpcy5leHRuYW1lfHwiIikpfX0pfSkuY2FsbCh0aGlzLG4oIjhveEIiKSl9LFNjZTM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJJUEFyIiksbz1uKCJaV2syIiksaT1uKCJOQnUxIik7dC5leHBvcnRzPXAscC5sb2NhdG9yPWkscC5ub3RJbkxpbms9ITA7dmFyIGE9IjwiLHM9Ij4iLGM9IkAiLHU9Ii8iLGw9Im1haWx0bzoiLGY9bC5sZW5ndGg7ZnVuY3Rpb24gcCh0LGUsbil7dmFyIGkscCxoLGQsdix5LG0sZyxiLHgsdztpZihlLmNoYXJBdCgwKT09PWEpe2Zvcih0aGlzLGk9IiIscD1lLmxlbmd0aCxoPTAsZD0iIix5PSExLG09IiIsaCsrLGk9YTtoPHAmJih2PWUuY2hhckF0KGgpLCEocih2KXx8dj09PXN8fHY9PT1jfHwiOiI9PT12JiZlLmNoYXJBdChoKzEpPT09dSkpOylkKz12LGgrKztpZihkKXtpZihtKz1kLGQ9IiIsbSs9dj1lLmNoYXJBdChoKSxoKyssdj09PWMpeT0hMDtlbHNle2lmKCI6IiE9PXZ8fGUuY2hhckF0KGgrMSkhPT11KXJldHVybjttKz11LGgrK31mb3IoO2g8cCYmKHY9ZS5jaGFyQXQoaCksIXIodikmJnYhPT1zKTspZCs9dixoKys7aWYodj1lLmNoYXJBdChoKSxkJiZ2PT09cylyZXR1cm4hIW58fChiPW0rPWQsaSs9bSt2LChnPXQubm93KCkpLmNvbHVtbisrLGcub2Zmc2V0KysseSYmKG0uc2xpY2UoMCxmKS50b0xvd2VyQ2FzZSgpPT09bD8oYj1iLnN1YnN0cihmKSxnLmNvbHVtbis9ZixnLm9mZnNldCs9Zik6bT1sK20pLHg9dGhpcy5pbmxpbmVUb2tlbml6ZXJzLHRoaXMuaW5saW5lVG9rZW5pemVycz17dGV4dDp4LnRleHR9LHc9dGhpcy5lbnRlckxpbmsoKSxiPXRoaXMudG9rZW5pemVJbmxpbmUoYixnKSx0aGlzLmlubGluZVRva2VuaXplcnM9eCx3KCksdChpKSh7dHlwZToibGluayIsdGl0bGU6bnVsbCx1cmw6byhtLHtub25UZXJtaW5hdGVkOiExfSksY2hpbGRyZW46Yn0pKX19fX0sU3lkNzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjNHbEkiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBmLHAsaCxkLHYseSxtLGcsYix4LHcsaz10aGlzLm9wdGlvbnMsXz1lLmxlbmd0aCsxLEE9MCxPPSIiO2lmKCFrLmdmbSlyZXR1cm47Zm9yKDtBPF8mJigoaD1lLmNoYXJBdChBKSk9PT1hfHxoPT09aSk7KU8rPWgsQSsrO2lmKHg9QSwoaD1lLmNoYXJBdChBKSkhPT1zJiZoIT09YylyZXR1cm47QSsrLHA9aCxmPTEsTys9aDtmb3IoO0E8XyYmKGg9ZS5jaGFyQXQoQSkpPT09cDspTys9aCxmKyssQSsrO2lmKGY8dSlyZXR1cm47Zm9yKDtBPF8mJigoaD1lLmNoYXJBdChBKSk9PT1hfHxoPT09aSk7KU8rPWgsQSsrO2Q9IiIsdj0iIjtmb3IoO0E8XyYmKGg9ZS5jaGFyQXQoQSkpIT09byYmaCE9PXMmJmghPT1jOyloPT09YXx8aD09PWk/dis9aDooZCs9ditoLHY9IiIpLEErKztpZigoaD1lLmNoYXJBdChBKSkmJmghPT1vKXJldHVybjtpZihuKXJldHVybiEwOyh3PXQubm93KCkpLmNvbHVtbis9Ty5sZW5ndGgsdy5vZmZzZXQrPU8ubGVuZ3RoLE8rPWQsZD10aGlzLmRlY29kZS5yYXcodGhpcy51bmVzY2FwZShkKSx3KSx2JiYoTys9dik7dj0iIixnPSIiLGI9IiIseT0iIixtPSIiO2Zvcig7QTxfOylpZihoPWUuY2hhckF0KEEpLHkrPWcsbSs9YixnPSIiLGI9IiIsaD09PW8pe2Zvcih5PyhnKz1oLGIrPWgpOk8rPWgsdj0iIixBKys7QTxfJiYoaD1lLmNoYXJBdChBKSk9PT1hOyl2Kz1oLEErKztpZihnKz12LGIrPXYuc2xpY2UoeCksISh2Lmxlbmd0aD49bCkpe2Zvcih2PSIiO0E8XyYmKGg9ZS5jaGFyQXQoQSkpPT09cDspdis9aCxBKys7aWYoZys9dixiKz12LCEodi5sZW5ndGg8Zikpe2Zvcih2PSIiO0E8XyYmKChoPWUuY2hhckF0KEEpKT09PWF8fGg9PT1pKTspZys9aCxiKz1oLEErKztpZighaHx8aD09PW8pYnJlYWt9fX1lbHNlIHkrPWgsYis9aCxBKys7cmV0dXJuIHQoTys9eStnKSh7dHlwZToiY29kZSIsbGFuZzpkfHxudWxsLHZhbHVlOnIobSl9KX07dmFyIG89IlxuIixpPSJcdCIsYT0iICIscz0ifiIsYz0iYCIsdT0zLGw9NH0sVEJieTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7aWYoInN0cmluZyI9PT10eXBlb2YgdClyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBCb29sZWFuKGUmJmUudHlwZT09PXQpfX0odCk7aWYobnVsbD09PXR8fHZvaWQgMD09PXQpcmV0dXJuIGE7aWYoIm9iamVjdCI9PT10eXBlb2YgdClyZXR1cm4oImxlbmd0aCJpbiB0P2k6bykodCk7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiB0KXJldHVybiB0O3Rocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgZnVuY3Rpb24sIHN0cmluZywgb3Igb2JqZWN0IGFzIHRlc3QiKX1mdW5jdGlvbiBvKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbjtmb3IobiBpbiB0KWlmKGVbbl0hPT10W25dKXJldHVybiExO3JldHVybiEwfX1mdW5jdGlvbiBpKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPXQubGVuZ3RoLG89LTE7KytvPG47KWVbb109cih0W29dKTtyZXR1cm4gZX0odCksbj1lLmxlbmd0aDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD0tMTtmb3IoOysrdDxuOylpZihlW3RdLmFwcGx5KHRoaXMsYXJndW1lbnRzKSlyZXR1cm4hMDtyZXR1cm4hMX19ZnVuY3Rpb24gYSgpe3JldHVybiEwfXQuZXhwb3J0cz1yfSxUT3dWOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPW4oInFUMTIiKX0sVHFSdDpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19fSxUeUF5OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiMTNEUSIpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucyxlPXIodC5ydWxlLHQucnVsZVJlcGV0aXRpb24pO3JldHVybiB0LnJ1bGVTcGFjZXM/ZS5zcGxpdCgiIikuam9pbihvKTplfTt2YXIgbz0iICJ9LFU2ank6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9e30sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciByPWFyZ3VtZW50c1tlXTtmb3IodmFyIG8gaW4gciluLmNhbGwocixvKSYmKHRbb109cltvXSl9cmV0dXJuIHR9O3ZhciBuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHl9LCJVQTUvIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImxuNmgiKSxvPW4oImhmS20iKSxpPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIG4gaW4gdClPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX07byhlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgYT1pKG4oIlBvOXAiKSkscz1uKCJNVDEyIiksYz1uKCJSL0R3IiksdT1uKCI0eFNZIik7ZnVuY3Rpb24gbCh0KXtyZXR1cm4iYmVhcjovL3gtY2FsbGJhY2stdXJsL29wZW4tbm90ZT9pZD0iLmNvbmNhdCh0KX1lLmxpc3ROb3RlRmlsZXM9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHIuYXN5bmMoKGZ1bmN0aW9uKG4pe2Zvcig7Oylzd2l0Y2gobi5wcmV2PW4ubmV4dCl7Y2FzZSAwOnJldHVybiBuLm5leHQ9MixyLmF3cmFwKGEucHJvbWlzZXMucmVhZGRpcih0LHt3aXRoRmlsZVR5cGVzOiEwfSkpO2Nhc2UgMjpyZXR1cm4gZT1uLnNlbnQsbi5hYnJ1cHQoInJldHVybiIsZS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzRmlsZSgpJiYhdC5uYW1lLnN0YXJ0c1dpdGgoIi4iKSYmdC5uYW1lLmVuZHNXaXRoKCIubWQiKX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWV9KSkpO2Nhc2UgNDpjYXNlImVuZCI6cmV0dXJuIG4uc3RvcCgpfX0pKX0sZS5iZWFyTm90ZUlEVHlwZT0iYmVhciIsZS5nZXROb3RlSUQ9ZnVuY3Rpb24odCl7dmFyIG49cy5zZWxlY3RBbGwoYy5iZWFySUROb2RlVHlwZSx0KTtpZigxPT09bi5sZW5ndGgpe3ZhciByPW5bMF0uYmVhcklEO3JldHVybnt0eXBlOmUuYmVhck5vdGVJRFR5cGUsaWQ6cixvcGVuVVJMOmwocil9fXJldHVybiBuLmxlbmd0aD4xPyhjb25zb2xlLmRlYnVnKCJNdWx0aXBsZSBCZWFyIG5vdGUgSURzIGluIG5vdGUiLHQsbiksbnVsbCk6bnVsbH0sZS5nZXROb3RlVGl0bGU9ZnVuY3Rpb24odCl7aWYodC5jaGlsZHJlbi5sZW5ndGg+MCl7dmFyIGU9dC5jaGlsZHJlblswXTtyZXR1cm4iaGVhZGluZyI9PT1lLnR5cGU/dS5wcm9jZXNzb3Iuc3RyaW5naWZ5KHt0eXBlOiJwYXJhZ3JhcGgiLGNoaWxkcmVuOmUuY2hpbGRyZW59KTp1LnByb2Nlc3Nvci5zdHJpbmdpZnkoZSl9cmV0dXJuIG51bGx9fSxVSWlIOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpKXt2YXIgbj1bXSxyPSEwLG89ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxzPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0oYT1zLm5leHQoKSkuZG9uZSkmJihuLnB1c2goYS52YWx1ZSksIWV8fG4ubGVuZ3RoIT09ZSk7cj0hMCk7fWNhdGNoKGMpe289ITAsaT1jfWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBpfX1yZXR1cm4gbn19fSxVU2pSOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPW4oImMyZGUiKSgpP24oIi9NaFIiKS5TeW1ib2w6bigiQjVQOSIpfSwiVVYrUCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJxMXRJIiksbz1uKCJVNmp5IiksaT1uKCJUT3dWIiksYT17c3RhcnQ6e2xpbmU6MSxjb2x1bW46MSxvZmZzZXQ6MH0sZW5kOntsaW5lOjEsY29sdW1uOjEsb2Zmc2V0OjB9fTtmdW5jdGlvbiBzKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LHU9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjAsbD1lLnJlbmRlcmVyc1t0LnR5cGVdO3ZvaWQgMD09PXQucG9zaXRpb24mJih0LnBvc2l0aW9uPW4ubm9kZSYmbi5ub2RlLnBvc2l0aW9ufHxhKTt2YXIgZj10LnBvc2l0aW9uLnN0YXJ0LHA9W3QudHlwZSxmLmxpbmUsZi5jb2x1bW4sdV0uam9pbigiLSIpO2lmKCFpLmlzVmFsaWRFbGVtZW50VHlwZShsKSl0aHJvdyBuZXcgRXJyb3IoIlJlbmRlcmVyIGZvciB0eXBlIGAiLmNvbmNhdCh0LnR5cGUsImAgbm90IGRlZmluZWQgb3IgaXMgbm90IHJlbmRlcmFibGUiKSk7dmFyIGg9ZnVuY3Rpb24odCxlLG4saSxhLHUpe3ZhciBsPXtrZXk6ZX0sZj0ic3RyaW5nIj09PXR5cGVvZiBpO24uc291cmNlUG9zJiZ0LnBvc2l0aW9uJiYobFsiZGF0YS1zb3VyY2Vwb3MiXT1mdW5jdGlvbih0KXtyZXR1cm5bdC5zdGFydC5saW5lLCI6Iix0LnN0YXJ0LmNvbHVtbiwiLSIsdC5lbmQubGluZSwiOiIsdC5lbmQuY29sdW1uXS5tYXAoU3RyaW5nKS5qb2luKCIiKX0odC5wb3NpdGlvbikpO24ucmF3U291cmNlUG9zJiYhZiYmKGwuc291cmNlUG9zaXRpb249dC5wb3NpdGlvbik7bi5pbmNsdWRlTm9kZUluZGV4JiZhLm5vZGUmJmEubm9kZS5jaGlsZHJlbiYmIWYmJihsLmluZGV4PWEubm9kZS5jaGlsZHJlbi5pbmRleE9mKHQpLGwucGFyZW50Q2hpbGRDb3VudD1hLm5vZGUuY2hpbGRyZW4ubGVuZ3RoKTt2YXIgcD1udWxsIT09dC5pZGVudGlmaWVyJiZ2b2lkIDAhPT10LmlkZW50aWZpZXI/bi5kZWZpbml0aW9uc1t0LmlkZW50aWZpZXJdfHx7fTpudWxsO3N3aXRjaCh0LnR5cGUpe2Nhc2Uicm9vdCI6YyhsLHtjbGFzc05hbWU6bi5jbGFzc05hbWV9KTticmVhaztjYXNlInRleHQiOmwubm9kZUtleT1lLGwuY2hpbGRyZW49dC52YWx1ZTticmVhaztjYXNlImhlYWRpbmciOmwubGV2ZWw9dC5kZXB0aDticmVhaztjYXNlImxpc3QiOmwuc3RhcnQ9dC5zdGFydCxsLm9yZGVyZWQ9dC5vcmRlcmVkLGwudGlnaHQ9IXQubG9vc2UsbC5kZXB0aD10LmRlcHRoO2JyZWFrO2Nhc2UibGlzdEl0ZW0iOmwuY2hlY2tlZD10LmNoZWNrZWQsbC50aWdodD0hdC5sb29zZSxsLm9yZGVyZWQ9dC5vcmRlcmVkLGwuaW5kZXg9dC5pbmRleCxsLmNoaWxkcmVuPWZ1bmN0aW9uKHQsZSl7aWYodC5sb29zZSlyZXR1cm4gdC5jaGlsZHJlbjtpZihlLm5vZGUmJnQuaW5kZXg+MCYmZS5ub2RlLmNoaWxkcmVuW3QuaW5kZXgtMV0ubG9vc2UpcmV0dXJuIHQuY2hpbGRyZW47cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LmNoaWxkcmVuLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jb25jYXQoInBhcmFncmFwaCI9PT1lLnR5cGU/ZS5jaGlsZHJlbnx8W106W2VdKX0pLFtdKX0odCl9KHQsYSkubWFwKChmdW5jdGlvbihlLHIpe3JldHVybiBzKGUsbix7bm9kZTp0LHByb3BzOmx9LHIpfSkpO2JyZWFrO2Nhc2UiZGVmaW5pdGlvbiI6YyhsLHtpZGVudGlmaWVyOnQuaWRlbnRpZmllcix0aXRsZTp0LnRpdGxlLHVybDp0LnVybH0pO2JyZWFrO2Nhc2UiY29kZSI6YyhsLHtsYW5ndWFnZTp0LmxhbmcmJnQubGFuZy5zcGxpdCgvXHMvLDEpWzBdfSk7YnJlYWs7Y2FzZSJpbmxpbmVDb2RlIjpsLmNoaWxkcmVuPXQudmFsdWUsbC5pbmxpbmU9ITA7YnJlYWs7Y2FzZSJsaW5rIjpjKGwse3RpdGxlOnQudGl0bGV8fHZvaWQgMCx0YXJnZXQ6ImZ1bmN0aW9uIj09PXR5cGVvZiBuLmxpbmtUYXJnZXQ/bi5saW5rVGFyZ2V0KHQudXJsLHQuY2hpbGRyZW4sdC50aXRsZSk6bi5saW5rVGFyZ2V0LGhyZWY6bi50cmFuc2Zvcm1MaW5rVXJpP24udHJhbnNmb3JtTGlua1VyaSh0LnVybCx0LmNoaWxkcmVuLHQudGl0bGUpOnQudXJsfSk7YnJlYWs7Y2FzZSJpbWFnZSI6YyhsLHthbHQ6dC5hbHR8fHZvaWQgMCx0aXRsZTp0LnRpdGxlfHx2b2lkIDAsc3JjOm4udHJhbnNmb3JtSW1hZ2VVcmk/bi50cmFuc2Zvcm1JbWFnZVVyaSh0LnVybCx0LmNoaWxkcmVuLHQudGl0bGUsdC5hbHQpOnQudXJsfSk7YnJlYWs7Y2FzZSJsaW5rUmVmZXJlbmNlIjpjKGwsbyhwLHtocmVmOm4udHJhbnNmb3JtTGlua1VyaT9uLnRyYW5zZm9ybUxpbmtVcmkocC5ocmVmKTpwLmhyZWZ9KSk7YnJlYWs7Y2FzZSJpbWFnZVJlZmVyZW5jZSI6YyhsLHtzcmM6bi50cmFuc2Zvcm1JbWFnZVVyaSYmcC5ocmVmP24udHJhbnNmb3JtSW1hZ2VVcmkocC5ocmVmLHQuY2hpbGRyZW4scC50aXRsZSx0LmFsdCk6cC5ocmVmLHRpdGxlOnAudGl0bGV8fHZvaWQgMCxhbHQ6dC5hbHR8fHZvaWQgMH0pO2JyZWFrO2Nhc2UidGFibGUiOmNhc2UidGFibGVIZWFkIjpjYXNlInRhYmxlQm9keSI6bC5jb2x1bW5BbGlnbm1lbnQ9dC5hbGlnbjticmVhaztjYXNlInRhYmxlUm93IjpsLmlzSGVhZGVyPSJ0YWJsZUhlYWQiPT09YS5ub2RlLnR5cGUsbC5jb2x1bW5BbGlnbm1lbnQ9YS5wcm9wcy5jb2x1bW5BbGlnbm1lbnQ7YnJlYWs7Y2FzZSJ0YWJsZUNlbGwiOmMobCx7aXNIZWFkZXI6YS5wcm9wcy5pc0hlYWRlcixhbGlnbjphLnByb3BzLmNvbHVtbkFsaWdubWVudFt1XX0pO2JyZWFrO2Nhc2UidmlydHVhbEh0bWwiOmwudGFnPXQudGFnO2JyZWFrO2Nhc2UiaHRtbCI6bC5pc0Jsb2NrPXQucG9zaXRpb24uc3RhcnQubGluZSE9PXQucG9zaXRpb24uZW5kLmxpbmUsbC5lc2NhcGVIdG1sPW4uZXNjYXBlSHRtbCxsLnNraXBIdG1sPW4uc2tpcEh0bWw7YnJlYWs7Y2FzZSJwYXJzZWRIdG1sIjp2YXIgaDt0LmNoaWxkcmVuJiYoaD10LmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gcyhlLG4se25vZGU6dCxwcm9wczpsfSxyKX0pKSksbC5lc2NhcGVIdG1sPW4uZXNjYXBlSHRtbCxsLnNraXBIdG1sPW4uc2tpcEh0bWwsbC5lbGVtZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5lbGVtZW50O2lmKEFycmF5LmlzQXJyYXkobikpe3ZhciBvPXIuRnJhZ21lbnR8fCJkaXYiO3JldHVybiByLmNyZWF0ZUVsZW1lbnQobyxudWxsLG4pfWlmKG4ucHJvcHMuY2hpbGRyZW58fGUpe3ZhciBpPXIuQ2hpbGRyZW4udG9BcnJheShuLnByb3BzLmNoaWxkcmVuKS5jb25jYXQoZSk7cmV0dXJuIHIuY2xvbmVFbGVtZW50KG4sbnVsbCxpKX1yZXR1cm4gci5jbG9uZUVsZW1lbnQobixudWxsKX0odCxoKTticmVhaztkZWZhdWx0OmMobCxvKHQse3R5cGU6dm9pZCAwLHBvc2l0aW9uOnZvaWQgMCxjaGlsZHJlbjp2b2lkIDB9KSl9IWYmJnQudmFsdWUmJihsLnZhbHVlPXQudmFsdWUpO3JldHVybiBsfSh0LHAsZSxsLG4sdSk7cmV0dXJuIHIuY3JlYXRlRWxlbWVudChsLGgsaC5jaGlsZHJlbnx8dC5jaGlsZHJlbiYmdC5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKG4scil7cmV0dXJuIHMobixlLHtub2RlOnQscHJvcHM6aH0scil9KSl8fHZvaWQgMCl9ZnVuY3Rpb24gYyh0LGUpe2Zvcih2YXIgbiBpbiBlKSJ1bmRlZmluZWQiIT09dHlwZW9mIGVbbl0mJih0W25dPWVbbl0pfXQuZXhwb3J0cz1zfSxVVmFIOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7KGZ1bmN0aW9uKGUpe3ZhciByPWUuU3ltYm9sLG89bigiRnBaSiIpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgciYmKCJmdW5jdGlvbiI9PT10eXBlb2YgU3ltYm9sJiYoInN5bWJvbCI9PT10eXBlb2YgcigiZm9vIikmJigic3ltYm9sIj09PXR5cGVvZiBTeW1ib2woImJhciIpJiZvKCkpKSl9fSkuY2FsbCh0aGlzLG4oInlMcGoiKSl9LFVmVVY6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciByPVtdOyJmdW5jdGlvbiI9PT10eXBlb2YgZSYmKG49ZSxlPW51bGwpO2Z1bmN0aW9uIG8odCl7dmFyIGk7cmV0dXJuIGUmJnQudHlwZSE9PWV8fChpPW4odCxyLmNvbmNhdCgpKSksdC5jaGlsZHJlbiYmITEhPT1pP2Z1bmN0aW9uKHQsZSl7dmFyIG4saT10Lmxlbmd0aCxhPS0xO3IucHVzaChlKTtmb3IoOysrYTxpOylpZigobj10W2FdKSYmITE9PT1vKG4pKXJldHVybiExO3JldHVybiByLnBvcCgpLCEwfSh0LmNoaWxkcmVuLHQpOml9byh0KX19LFVza1A6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmluZGV4T2YoIioqIixlKSxyPXQuaW5kZXhPZigiX18iLGUpO2lmKC0xPT09cilyZXR1cm4gbjtpZigtMT09PW4pcmV0dXJuIHI7cmV0dXJuIHI8bj9yOm59fSwiVit4cyI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJWd2lQIiksbz1uKCI4MmMyIikuc3VwcG9ydHNEZXNjcmlwdG9ycyxpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsYT1UeXBlRXJyb3I7dC5leHBvcnRzPWZ1bmN0aW9uKCl7aWYoIW8pdGhyb3cgbmV3IGEoIlJlZ0V4cC5wcm90b3R5cGUuZmxhZ3MgcmVxdWlyZXMgYSB0cnVlIEVTNSBlbnZpcm9ubWVudCB0aGF0IHN1cHBvcnRzIHByb3BlcnR5IGRlc2NyaXB0b3JzIik7aWYoImdpbSI9PT0vYS9naW0uZmxhZ3Mpe3ZhciB0PWkoUmVnRXhwLnByb3RvdHlwZSwiZmxhZ3MiKTtpZih0JiYiZnVuY3Rpb24iPT09dHlwZW9mIHQuZ2V0JiYiYm9vbGVhbiI9PT10eXBlb2YvYS8uZG90QWxsKXJldHVybiB0LmdldH1yZXR1cm4gcn19LFZFbEM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoInN0cmluZyIhPT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJFeHBlY3RlZCBhIHN0cmluZyIpO3JldHVybiEvW14wLTlhLXpceERGLVx4RkZdLy50ZXN0KHQudG9Mb3dlckNhc2UoKSl9fSxWSGxzOmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1KU09OLnBhcnNlKCdbImFkZHJlc3MiLCJhcnRpY2xlIiwiYXNpZGUiLCJiYXNlIiwiYmFzZWZvbnQiLCJibG9ja3F1b3RlIiwiYm9keSIsImNhcHRpb24iLCJjZW50ZXIiLCJjb2wiLCJjb2xncm91cCIsImRkIiwiZGV0YWlscyIsImRpYWxvZyIsImRpciIsImRpdiIsImRsIiwiZHQiLCJmaWVsZHNldCIsImZpZ2NhcHRpb24iLCJmaWd1cmUiLCJmb290ZXIiLCJmb3JtIiwiZnJhbWUiLCJmcmFtZXNldCIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsImhlYWQiLCJoZWFkZXIiLCJoZ3JvdXAiLCJociIsImh0bWwiLCJpZnJhbWUiLCJsZWdlbmQiLCJsaSIsImxpbmsiLCJtYWluIiwibWVudSIsIm1lbnVpdGVtIiwibWV0YSIsIm5hdiIsIm5vZnJhbWVzIiwib2wiLCJvcHRncm91cCIsIm9wdGlvbiIsInAiLCJwYXJhbSIsInByZSIsInNlY3Rpb24iLCJzb3VyY2UiLCJ0aXRsZSIsInN1bW1hcnkiLCJ0YWJsZSIsInRib2R5IiwidGQiLCJ0Zm9vdCIsInRoIiwidGhlYWQiLCJ0aXRsZSIsInRyIiwidHJhY2siLCJ1bCJdJyl9LFZOZEE6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJsOG95Iik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKHQpLnRvTG93ZXJDYXNlKCl9fSxWWDVvOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiYnRERiIpLG89bigiZDI5MiIpLGk9bigiQU1WZSIpLGE9bigiMUMzayIpLHM9bigidlJIZCIpLGM9bigiaXB6aiIpO2Z1bmN0aW9uIHUodCxlKXt0aGlzLmZpbGU9ZSx0aGlzLm9mZnNldD17fSx0aGlzLm9wdGlvbnM9cih0aGlzLm9wdGlvbnMpLHRoaXMuc2V0T3B0aW9ucyh7fSksdGhpcy5pbkxpc3Q9ITEsdGhpcy5pbkJsb2NrPSExLHRoaXMuaW5MaW5rPSExLHRoaXMuYXRTdGFydD0hMCx0aGlzLnRvT2Zmc2V0PWkoZSkudG9PZmZzZXQsdGhpcy51bmVzY2FwZT1hKHRoaXMsImVzY2FwZSIpLHRoaXMuZGVjb2RlPXModGhpcyl9dC5leHBvcnRzPXU7dmFyIGw9dS5wcm90b3R5cGU7ZnVuY3Rpb24gZih0KXt2YXIgZSxuPVtdO2ZvcihlIGluIHQpbi5wdXNoKGUpO3JldHVybiBufWwuc2V0T3B0aW9ucz1uKCJoUXpKIiksbC5wYXJzZT1uKCJscUoxIiksbC5vcHRpb25zPW4oInFVNmEiKSxsLmV4aXRTdGFydD1vKCJhdFN0YXJ0IiwhMCksbC5lbnRlckxpc3Q9bygiaW5MaXN0IiwhMSksbC5lbnRlckxpbms9bygiaW5MaW5rIiwhMSksbC5lbnRlckJsb2NrPW8oImluQmxvY2siLCExKSxsLmludGVycnVwdFBhcmFncmFwaD1bWyJ0aGVtYXRpY0JyZWFrIl0sWyJhdHhIZWFkaW5nIl0sWyJmZW5jZWRDb2RlIl0sWyJibG9ja3F1b3RlIl0sWyJodG1sIl0sWyJzZXRleHRIZWFkaW5nIix7Y29tbW9ubWFyazohMX1dLFsiZGVmaW5pdGlvbiIse2NvbW1vbm1hcms6ITF9XSxbImZvb3Rub3RlIix7Y29tbW9ubWFyazohMX1dXSxsLmludGVycnVwdExpc3Q9W1siYXR4SGVhZGluZyIse3BlZGFudGljOiExfV0sWyJmZW5jZWRDb2RlIix7cGVkYW50aWM6ITF9XSxbInRoZW1hdGljQnJlYWsiLHtwZWRhbnRpYzohMX1dLFsiZGVmaW5pdGlvbiIse2NvbW1vbm1hcms6ITF9XSxbImZvb3Rub3RlIix7Y29tbW9ubWFyazohMX1dXSxsLmludGVycnVwdEJsb2NrcXVvdGU9W1siaW5kZW50ZWRDb2RlIix7Y29tbW9ubWFyazohMH1dLFsiZmVuY2VkQ29kZSIse2NvbW1vbm1hcms6ITB9XSxbImF0eEhlYWRpbmciLHtjb21tb25tYXJrOiEwfV0sWyJzZXRleHRIZWFkaW5nIix7Y29tbW9ubWFyazohMH1dLFsidGhlbWF0aWNCcmVhayIse2NvbW1vbm1hcms6ITB9XSxbImh0bWwiLHtjb21tb25tYXJrOiEwfV0sWyJsaXN0Iix7Y29tbW9ubWFyazohMH1dLFsiZGVmaW5pdGlvbiIse2NvbW1vbm1hcms6ITF9XSxbImZvb3Rub3RlIix7Y29tbW9ubWFyazohMX1dXSxsLmJsb2NrVG9rZW5pemVycz17bmV3bGluZTpuKCJIK0d1IiksaW5kZW50ZWRDb2RlOm4oImw3cXQiKSxmZW5jZWRDb2RlOm4oInVsMHMiKSxibG9ja3F1b3RlOm4oIkRXUHYiKSxhdHhIZWFkaW5nOm4oIi9MYSsiKSx0aGVtYXRpY0JyZWFrOm4oImFYL2siKSxsaXN0Om4oIkxIOWIiKSxzZXRleHRIZWFkaW5nOm4oInFxcnoiKSxodG1sOm4oIkRKMnciKSxmb290bm90ZTpuKCJBSEVCIiksZGVmaW5pdGlvbjpuKCI0QVIrIiksdGFibGU6bigidDFEbyIpLHBhcmFncmFwaDpuKCJxU0tLIil9LGwuaW5saW5lVG9rZW5pemVycz17ZXNjYXBlOm4oIkVuSVIiKSxhdXRvTGluazpuKCJZYmRhIiksdXJsOm4oIjJSMGkiKSxodG1sOm4oImVacWciKSxsaW5rOm4oIk96VnIiKSxyZWZlcmVuY2U6bigic050eSIpLHN0cm9uZzpuKCJsOHpSIiksZW1waGFzaXM6bigiWXcyYiIpLGRlbGV0aW9uOm4oIk9rL2IiKSxjb2RlOm4oImlnc0MiKSxicmVhazpuKCI3K0VBIiksdGV4dDpuKCI2OW53Iil9LGwuYmxvY2tNZXRob2RzPWYobC5ibG9ja1Rva2VuaXplcnMpLGwuaW5saW5lTWV0aG9kcz1mKGwuaW5saW5lVG9rZW5pemVycyksbC50b2tlbml6ZUJsb2NrPWMoImJsb2NrIiksbC50b2tlbml6ZUlubGluZT1jKCJpbmxpbmUiKSxsLnRva2VuaXplRmFjdG9yeT1jfSxWd2U2OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiTDhReSIpO2Z1bmN0aW9uIG8oKXt9dC5leHBvcnRzPWEsby5wcm90b3R5cGU9RXJyb3IucHJvdG90eXBlLGEucHJvdG90eXBlPW5ldyBvO3ZhciBpPWEucHJvdG90eXBlO2Z1bmN0aW9uIGEodCxlLG4pe3ZhciBvLGksYTsic3RyaW5nIj09PXR5cGVvZiBlJiYobj1lLGU9bnVsbCksbz1mdW5jdGlvbih0KXt2YXIgZSxuPVtudWxsLG51bGxdOyJzdHJpbmciPT09dHlwZW9mIHQmJigtMT09PShlPXQuaW5kZXhPZigiOiIpKT9uWzFdPXQ6KG5bMF09dC5zbGljZSgwLGUpLG5bMV09dC5zbGljZShlKzEpKSk7cmV0dXJuIG59KG4pLGk9cihlKXx8IjE6MSIsYT17c3RhcnQ6e2xpbmU6bnVsbCxjb2x1bW46bnVsbH0sZW5kOntsaW5lOm51bGwsY29sdW1uOm51bGx9fSxlJiZlLnBvc2l0aW9uJiYoZT1lLnBvc2l0aW9uKSxlJiYoZS5zdGFydD8oYT1lLGU9ZS5zdGFydCk6YS5zdGFydD1lKSx0LnN0YWNrJiYodGhpcy5zdGFjaz10LnN0YWNrLHQ9dC5tZXNzYWdlKSx0aGlzLm1lc3NhZ2U9dCx0aGlzLm5hbWU9aSx0aGlzLnJlYXNvbj10LHRoaXMubGluZT1lP2UubGluZTpudWxsLHRoaXMuY29sdW1uPWU/ZS5jb2x1bW46bnVsbCx0aGlzLmxvY2F0aW9uPWEsdGhpcy5zb3VyY2U9b1swXSx0aGlzLnJ1bGVJZD1vWzFdfWkuZmlsZT0iIixpLm5hbWU9IiIsaS5yZWFzb249IiIsaS5tZXNzYWdlPSIiLGkuc3RhY2s9IiIsaS5mYXRhbD1udWxsLGkuY29sdW1uPW51bGwsaS5saW5lPW51bGx9LFZ3aVA6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1PYmplY3Qsbz1UeXBlRXJyb3I7dC5leHBvcnRzPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcyYmdGhpcyE9PXIodGhpcykpdGhyb3cgbmV3IG8oIlJlZ0V4cC5wcm90b3R5cGUuZmxhZ3MgZ2V0dGVyIGNhbGxlZCBvbiBub24tb2JqZWN0Iik7dmFyIHQ9IiI7cmV0dXJuIHRoaXMuZ2xvYmFsJiYodCs9ImciKSx0aGlzLmlnbm9yZUNhc2UmJih0Kz0iaSIpLHRoaXMubXVsdGlsaW5lJiYodCs9Im0iKSx0aGlzLmRvdEFsbCYmKHQrPSJzIiksdGhpcy51bmljb2RlJiYodCs9InUiKSx0aGlzLnN0aWNreSYmKHQrPSJ5IiksdH19LFcwVFo6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uZXcobigiZ3cyYSIpKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uIHQoZSxuKXt2YXIgbztpZihyLmhhcyhlKSlyZXR1cm4gci5nZXQoZSk7bz1PYmplY3Qua2V5cyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7ImNoaWxkcmVuIiE9PW4mJih0W25dPWVbbl0pO3JldHVybiB0fSkse30pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCJub2RlIix7d3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwLHZhbHVlOmV9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobywicGFyZW50Iix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBufSxzZXQ6ZnVuY3Rpb24odCl7bj10fX0pLGUuY2hpbGRyZW4mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCJjaGlsZHJlbiIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlLmNoaWxkcmVuLm1hcChpKX19KTtyZXR1cm4gci5zZXQoZSxvKSxvO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIHQoZSxvKX19KHQsbnVsbCl9fSxXN29NOmZ1bmN0aW9uKHQsZSxuKXtuKCJuWmdHIik7dmFyIHI9bigiV0VwayIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gci5kZWZpbmVQcm9wZXJ0aWVzKHQsZSl9fSxXOFFCOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5pbmRleE9mKCIqIixlKSxyPXQuaW5kZXhPZigiXyIsZSk7aWYoLTE9PT1yKXJldHVybiBuO2lmKC0xPT09bilyZXR1cm4gcjtyZXR1cm4gcjxuP3I6bn19LFdVUFc6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoImV2ZW4iPT09KHQ9dC50cmltKCkudG9Mb3dlckNhc2UoKSkpcmV0dXJuWzIsMF07aWYoIm9kZCI9PT10KXJldHVyblsyLDFdO3ZhciBlLHI9dC5tYXRjaChuKTtpZighcil0aHJvdyBuZXcgU3ludGF4RXJyb3IoIm4tdGggcnVsZSBjb3VsZG4ndCBiZSBwYXJzZWQgKCciK3QrIicpIik7cmV0dXJuIHJbMV0/KGU9cGFyc2VJbnQoclsxXSwxMCksaXNOYU4oZSkmJihlPSItIj09PXJbMV0uY2hhckF0KDApPy0xOjEpKTplPTAsW2UsclszXT9wYXJzZUludCgoclsyXXx8IiIpK3JbM10sMTApOjBdfTt2YXIgbj0vXihbK1wtXT9cZCpuKT9ccyooPzooWytcLV0/KVxzKihcZCspKT8kL30sV1ZQWjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImxCbTUiKSxvPW4oIjEzRFEiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbixhPXQudmFsdWUscz1vKGkscihhLGkpKzEpLGw9cyxmPXMscD1hLmNoYXJDb2RlQXQoMCksaD1hLmNoYXJDb2RlQXQoYS5sZW5ndGgtMSksZD0hMTtpZihwPT09Y3x8aD09PWMpZD0hMDtlbHNlIGlmKGEubGVuZ3RoPjImJnUocCkmJnUoaCkpZm9yKGU9MSxuPWEubGVuZ3RoLTE7KytlPG47KWlmKCF1KGEuY2hhckNvZGVBdChlKSkpe2Q9ITA7YnJlYWt9ZCYmKGwrPSIgIixmPSIgIitmKTtyZXR1cm4gbCthK2Z9O3ZhciBpPSJgIixhPTEwLHM9MzIsYz05NjtmdW5jdGlvbiB1KHQpe3JldHVybiB0PT09YXx8dD09PXN9fSxXVndyOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigienhzZCIpLG89cihuKCJlZEd1IikpLGk9KHIobigiY1lOTyIpKSwvXlxbXFsoLis/KVxdXF0vKTtmdW5jdGlvbiBhKHQsZSl7cmV0dXJuIHQuaW5kZXhPZigiWyIsZSl9dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5wZXJtYWxpbmtzfHxbXSxuPXQucGFnZVJlc29sdmVyfHxmdW5jdGlvbih0KXtyZXR1cm5bdC5yZXBsYWNlKC8gL2csIl8iKS50b0xvd2VyQ2FzZSgpXX0scj10Lm5ld0NsYXNzTmFtZXx8Im5ldyIscz10Lndpa2lMaW5rQ2xhc3NOYW1lfHwiaW50ZXJuYWwiLGM9dC5ocmVmVGVtcGxhdGV8fGZ1bmN0aW9uKHQpe3JldHVybiIjL3BhZ2UvIi5jb25jYXQodCl9LHU9dC5hbGlhc0RpdmlkZXJ8fCI6IjtmdW5jdGlvbiBsKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4tMSE9PXQuaW5kZXhPZih1KX0odCk/ZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdCh1KSxuPSgwLG8uZGVmYXVsdCkoZSwyKTtyZXR1cm57bmFtZTpuWzBdLGRpc3BsYXlOYW1lOm5bMV19fSh0KTp7bmFtZTp0LGRpc3BsYXlOYW1lOnR9fWZ1bmN0aW9uIGYodCxvKXt2YXIgYT1pLmV4ZWMobyk7aWYoYSl7dmFyIHU9bChhWzFdLnRyaW0oKSksZj11Lm5hbWUscD11LmRpc3BsYXlOYW1lLGg9bihmKSxkPWguZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuLTEhPWUuaW5kZXhPZih0KX0pKSx2PXZvaWQgMCE9ZDt2fHwoZD1oWzBdKTt2YXIgeT1zO3JldHVybiB2fHwoeSs9IiAiK3IpLHQoYVswXSkoe3R5cGU6Indpa2lMaW5rIix2YWx1ZTpmLGRhdGE6e2FsaWFzOnAscGVybWFsaW5rOmQsZXhpc3RzOnYsaE5hbWU6ImEiLGhQcm9wZXJ0aWVzOntjbGFzc05hbWU6eSxocmVmOmMoZCl9LGhDaGlsZHJlbjpbe3R5cGU6InRleHQiLHZhbHVlOnB9XX19KX19Zi5sb2NhdG9yPWE7dmFyIHA9dGhpcy5QYXJzZXIsaD1wLnByb3RvdHlwZS5pbmxpbmVUb2tlbml6ZXJzLGQ9cC5wcm90b3R5cGUuaW5saW5lTWV0aG9kcztoLndpa2lMaW5rPWYsZC5zcGxpY2UoZC5pbmRleE9mKCJsaW5rIiksMCwid2lraUxpbmsiKTt2YXIgdj10aGlzLkNvbXBpbGVyO2lmKG51bGwhPXYpe3ZhciB5PXYucHJvdG90eXBlLnZpc2l0b3JzO3kmJih5Lndpa2lMaW5rPWZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGEuYWxpYXMhPXQudmFsdWU/IltbIi5jb25jYXQodC52YWx1ZSkuY29uY2F0KHUpLmNvbmNhdCh0LmRhdGEuYWxpYXMsIl1dIik6IltbIi5jb25jYXQodC52YWx1ZSwiXV0iKX0pfX19LFdhMkk6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCJlK2NUIil9LFdwNHg6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9dD0+e2lmKCJbb2JqZWN0IE9iamVjdF0iIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiExO2NvbnN0IGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpO3JldHVybiBudWxsPT09ZXx8ZT09PU9iamVjdC5wcm90b3R5cGV9fSxXdEtFOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHIsbz01OTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbj0iJiIrdCsiOyI7aWYoKHI9cnx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaSIpKS5pbm5lckhUTUw9biwoZT1yLnRleHRDb250ZW50KS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpPT09byYmInNlbWkiIT09dClyZXR1cm4hMTtyZXR1cm4gZSE9PW4mJmV9fSxYYUdTOmZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCxuKXt2YXIgcj0yMDAsbz0iX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyIsaT0xLGE9MixzPTkwMDcxOTkyNTQ3NDA5OTEsYz0iW29iamVjdCBBcmd1bWVudHNdIix1PSJbb2JqZWN0IEFycmF5XSIsbD0iW29iamVjdCBBc3luY0Z1bmN0aW9uXSIsZj0iW29iamVjdCBCb29sZWFuXSIscD0iW29iamVjdCBEYXRlXSIsaD0iW29iamVjdCBFcnJvcl0iLGQ9IltvYmplY3QgRnVuY3Rpb25dIix2PSJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXSIseT0iW29iamVjdCBNYXBdIixtPSJbb2JqZWN0IE51bWJlcl0iLGc9IltvYmplY3QgTnVsbF0iLGI9IltvYmplY3QgT2JqZWN0XSIseD0iW29iamVjdCBQcm94eV0iLHc9IltvYmplY3QgUmVnRXhwXSIsaz0iW29iamVjdCBTZXRdIixfPSJbb2JqZWN0IFN0cmluZ10iLEE9IltvYmplY3QgU3ltYm9sXSIsTz0iW29iamVjdCBVbmRlZmluZWRdIixqPSJbb2JqZWN0IEFycmF5QnVmZmVyXSIsRT0iW29iamVjdCBEYXRhVmlld10iLFM9L15cW29iamVjdCAuKz9Db25zdHJ1Y3RvclxdJC8sTj0vXig/OjB8WzEtOV1cZCopJC8sUD17fTtQWyJbb2JqZWN0IEZsb2F0MzJBcnJheV0iXT1QWyJbb2JqZWN0IEZsb2F0NjRBcnJheV0iXT1QWyJbb2JqZWN0IEludDhBcnJheV0iXT1QWyJbb2JqZWN0IEludDE2QXJyYXldIl09UFsiW29iamVjdCBJbnQzMkFycmF5XSJdPVBbIltvYmplY3QgVWludDhBcnJheV0iXT1QWyJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XSJdPVBbIltvYmplY3QgVWludDE2QXJyYXldIl09UFsiW29iamVjdCBVaW50MzJBcnJheV0iXT0hMCxQW2NdPVBbdV09UFtqXT1QW2ZdPVBbRV09UFtwXT1QW2hdPVBbZF09UFt5XT1QW21dPVBbYl09UFt3XT1QW2tdPVBbX109UFsiW29iamVjdCBXZWFrTWFwXSJdPSExO3ZhciBDPSJvYmplY3QiPT10eXBlb2YgdCYmdCYmdC5PYmplY3Q9PT1PYmplY3QmJnQsST0ib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLFQ9Q3x8SXx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKSxNPWUmJiFlLm5vZGVUeXBlJiZlLEw9TSYmIm9iamVjdCI9PXR5cGVvZiBuJiZuJiYhbi5ub2RlVHlwZSYmbix6PUwmJkwuZXhwb3J0cz09PU0sUj16JiZDLnByb2Nlc3MsRj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gUiYmUi5iaW5kaW5nJiZSLmJpbmRpbmcoInV0aWwiKX1jYXRjaCh0KXt9fSgpLEQ9RiYmRi5pc1R5cGVkQXJyYXk7ZnVuY3Rpb24gQih0LGUpe2Zvcih2YXIgbj0tMSxyPW51bGw9PXQ/MDp0Lmxlbmd0aDsrK248cjspaWYoZSh0W25dLG4sdCkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gVSh0KXt2YXIgZT0tMSxuPUFycmF5KHQuc2l6ZSk7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCxyKXtuWysrZV09W3IsdF19KSksbn1mdW5jdGlvbiBxKHQpe3ZhciBlPS0xLG49QXJyYXkodC5zaXplKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtuWysrZV09dH0pKSxufXZhciBILFcsWT1BcnJheS5wcm90b3R5cGUsWj1GdW5jdGlvbi5wcm90b3R5cGUsWD1PYmplY3QucHJvdG90eXBlLCQ9VFsiX19jb3JlLWpzX3NoYXJlZF9fIl0sVj1aLnRvU3RyaW5nLEo9WC5oYXNPd25Qcm9wZXJ0eSxLPWZ1bmN0aW9uKCl7dmFyIHQ9L1teLl0rJC8uZXhlYygkJiYkLmtleXMmJiQua2V5cy5JRV9QUk9UT3x8IiIpO3JldHVybiB0PyJTeW1ib2woc3JjKV8xLiIrdDoiIn0oKSxHPVgudG9TdHJpbmcsUT1SZWdFeHAoIl4iK1YuY2FsbChKKS5yZXBsYWNlKC9bXFxeJC4qKz8oKVtcXXt9fF0vZywiXFwkJiIpLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFwoKXwgZm9yIC4rPyg/PVxcXF0pL2csIiQxLio/IikrIiQiKSx0dD16P1QuQnVmZmVyOnZvaWQgMCxldD1ULlN5bWJvbCxudD1ULlVpbnQ4QXJyYXkscnQ9WC5wcm9wZXJ0eUlzRW51bWVyYWJsZSxvdD1ZLnNwbGljZSxpdD1ldD9ldC50b1N0cmluZ1RhZzp2b2lkIDAsYXQ9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxzdD10dD90dC5pc0J1ZmZlcjp2b2lkIDAsY3Q9KEg9T2JqZWN0LmtleXMsVz1PYmplY3QsZnVuY3Rpb24odCl7cmV0dXJuIEgoVyh0KSl9KSx1dD1SdChULCJEYXRhVmlldyIpLGx0PVJ0KFQsIk1hcCIpLGZ0PVJ0KFQsIlByb21pc2UiKSxwdD1SdChULCJTZXQiKSxodD1SdChULCJXZWFrTWFwIiksZHQ9UnQoT2JqZWN0LCJjcmVhdGUiKSx2dD1VdCh1dCkseXQ9VXQobHQpLG10PVV0KGZ0KSxndD1VdChwdCksYnQ9VXQoaHQpLHh0PWV0P2V0LnByb3RvdHlwZTp2b2lkIDAsd3Q9eHQ/eHQudmFsdWVPZjp2b2lkIDA7ZnVuY3Rpb24ga3QodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciByPXRbZV07dGhpcy5zZXQoclswXSxyWzFdKX19ZnVuY3Rpb24gX3QodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciByPXRbZV07dGhpcy5zZXQoclswXSxyWzFdKX19ZnVuY3Rpb24gQXQodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciByPXRbZV07dGhpcy5zZXQoclswXSxyWzFdKX19ZnVuY3Rpb24gT3QodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuX19kYXRhX189bmV3IEF0OysrZTxuOyl0aGlzLmFkZCh0W2VdKX1mdW5jdGlvbiBqdCh0KXt2YXIgZT10aGlzLl9fZGF0YV9fPW5ldyBfdCh0KTt0aGlzLnNpemU9ZS5zaXplfWZ1bmN0aW9uIEV0KHQsZSl7dmFyIG49V3QodCkscj0hbiYmSHQodCksbz0hbiYmIXImJll0KHQpLGk9IW4mJiFyJiYhbyYmSnQodCksYT1ufHxyfHxvfHxpLHM9YT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxyPUFycmF5KHQpOysrbjx0OylyW25dPWUobik7cmV0dXJuIHJ9KHQubGVuZ3RoLFN0cmluZyk6W10sYz1zLmxlbmd0aDtmb3IodmFyIHUgaW4gdCkhZSYmIUouY2FsbCh0LHUpfHxhJiYoImxlbmd0aCI9PXV8fG8mJigib2Zmc2V0Ij09dXx8InBhcmVudCI9PXUpfHxpJiYoImJ1ZmZlciI9PXV8fCJieXRlTGVuZ3RoIj09dXx8ImJ5dGVPZmZzZXQiPT11KXx8QnQodSxjKSl8fHMucHVzaCh1KTtyZXR1cm4gc31mdW5jdGlvbiBTdCh0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aDtuLS07KWlmKHF0KHRbbl1bMF0sZSkpcmV0dXJuIG47cmV0dXJuLTF9ZnVuY3Rpb24gTnQodCl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwPT09dD9POmc6aXQmJml0IGluIE9iamVjdCh0KT9mdW5jdGlvbih0KXt2YXIgZT1KLmNhbGwodCxpdCksbj10W2l0XTt0cnl7dFtpdF09dm9pZCAwO3ZhciByPSEwfWNhdGNoKGkpe312YXIgbz1HLmNhbGwodCk7ciYmKGU/dFtpdF09bjpkZWxldGUgdFtpdF0pO3JldHVybiBvfSh0KTpmdW5jdGlvbih0KXtyZXR1cm4gRy5jYWxsKHQpfSh0KX1mdW5jdGlvbiBQdCh0KXtyZXR1cm4gVnQodCkmJk50KHQpPT1jfWZ1bmN0aW9uIEN0KHQsZSxuLHIsbyl7cmV0dXJuIHQ9PT1lfHwobnVsbD09dHx8bnVsbD09ZXx8IVZ0KHQpJiYhVnQoZSk/dCE9PXQmJmUhPT1lOmZ1bmN0aW9uKHQsZSxuLHIsbyxzKXt2YXIgbD1XdCh0KSxkPVd0KGUpLHY9bD91OkR0KHQpLGc9ZD91OkR0KGUpLHg9KHY9dj09Yz9iOnYpPT1iLE89KGc9Zz09Yz9iOmcpPT1iLFM9dj09ZztpZihTJiZZdCh0KSl7aWYoIVl0KGUpKXJldHVybiExO2w9ITAseD0hMX1pZihTJiYheClyZXR1cm4gc3x8KHM9bmV3IGp0KSxsfHxKdCh0KT9NdCh0LGUsbixyLG8scyk6ZnVuY3Rpb24odCxlLG4scixvLHMsYyl7c3dpdGNoKG4pe2Nhc2UgRTppZih0LmJ5dGVMZW5ndGghPWUuYnl0ZUxlbmd0aHx8dC5ieXRlT2Zmc2V0IT1lLmJ5dGVPZmZzZXQpcmV0dXJuITE7dD10LmJ1ZmZlcixlPWUuYnVmZmVyO2Nhc2UgajpyZXR1cm4hKHQuYnl0ZUxlbmd0aCE9ZS5ieXRlTGVuZ3RofHwhcyhuZXcgbnQodCksbmV3IG50KGUpKSk7Y2FzZSBmOmNhc2UgcDpjYXNlIG06cmV0dXJuIHF0KCt0LCtlKTtjYXNlIGg6cmV0dXJuIHQubmFtZT09ZS5uYW1lJiZ0Lm1lc3NhZ2U9PWUubWVzc2FnZTtjYXNlIHc6Y2FzZSBfOnJldHVybiB0PT1lKyIiO2Nhc2UgeTp2YXIgdT1VO2Nhc2Ugazp2YXIgbD1yJmk7aWYodXx8KHU9cSksdC5zaXplIT1lLnNpemUmJiFsKXJldHVybiExO3ZhciBkPWMuZ2V0KHQpO2lmKGQpcmV0dXJuIGQ9PWU7cnw9YSxjLnNldCh0LGUpO3ZhciB2PU10KHUodCksdShlKSxyLG8scyxjKTtyZXR1cm4gYy5kZWxldGUodCksdjtjYXNlIEE6aWYod3QpcmV0dXJuIHd0LmNhbGwodCk9PXd0LmNhbGwoZSl9cmV0dXJuITF9KHQsZSx2LG4scixvLHMpO2lmKCEobiZpKSl7dmFyIE49eCYmSi5jYWxsKHQsIl9fd3JhcHBlZF9fIiksUD1PJiZKLmNhbGwoZSwiX193cmFwcGVkX18iKTtpZihOfHxQKXt2YXIgQz1OP3QudmFsdWUoKTp0LEk9UD9lLnZhbHVlKCk6ZTtyZXR1cm4gc3x8KHM9bmV3IGp0KSxvKEMsSSxuLHIscyl9fWlmKCFTKXJldHVybiExO3JldHVybiBzfHwocz1uZXcganQpLGZ1bmN0aW9uKHQsZSxuLHIsbyxhKXt2YXIgcz1uJmksYz1MdCh0KSx1PWMubGVuZ3RoLGw9THQoZSkubGVuZ3RoO2lmKHUhPWwmJiFzKXJldHVybiExO3ZhciBmPXU7Zm9yKDtmLS07KXt2YXIgcD1jW2ZdO2lmKCEocz9wIGluIGU6Si5jYWxsKGUscCkpKXJldHVybiExfXZhciBoPWEuZ2V0KHQpO2lmKGgmJmEuZ2V0KGUpKXJldHVybiBoPT1lO3ZhciBkPSEwO2Euc2V0KHQsZSksYS5zZXQoZSx0KTt2YXIgdj1zO2Zvcig7KytmPHU7KXtwPWNbZl07dmFyIHk9dFtwXSxtPWVbcF07aWYocil2YXIgZz1zP3IobSx5LHAsZSx0LGEpOnIoeSxtLHAsdCxlLGEpO2lmKCEodm9pZCAwPT09Zz95PT09bXx8byh5LG0sbixyLGEpOmcpKXtkPSExO2JyZWFrfXZ8fCh2PSJjb25zdHJ1Y3RvciI9PXApfWlmKGQmJiF2KXt2YXIgYj10LmNvbnN0cnVjdG9yLHg9ZS5jb25zdHJ1Y3RvcjtiIT14JiYiY29uc3RydWN0b3IiaW4gdCYmImNvbnN0cnVjdG9yImluIGUmJiEoImZ1bmN0aW9uIj09dHlwZW9mIGImJmIgaW5zdGFuY2VvZiBiJiYiZnVuY3Rpb24iPT10eXBlb2YgeCYmeCBpbnN0YW5jZW9mIHgpJiYoZD0hMSl9cmV0dXJuIGEuZGVsZXRlKHQpLGEuZGVsZXRlKGUpLGR9KHQsZSxuLHIsbyxzKX0odCxlLG4scixDdCxvKSl9ZnVuY3Rpb24gSXQodCl7cmV0dXJuISghJHQodCl8fGZ1bmN0aW9uKHQpe3JldHVybiEhSyYmSyBpbiB0fSh0KSkmJihadCh0KT9ROlMpLnRlc3QoVXQodCkpfWZ1bmN0aW9uIFR0KHQpe2lmKCFmdW5jdGlvbih0KXt2YXIgZT10JiZ0LmNvbnN0cnVjdG9yLG49ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUucHJvdG90eXBlfHxYO3JldHVybiB0PT09bn0odCkpcmV0dXJuIGN0KHQpO3ZhciBlPVtdO2Zvcih2YXIgbiBpbiBPYmplY3QodCkpSi5jYWxsKHQsbikmJiJjb25zdHJ1Y3RvciIhPW4mJmUucHVzaChuKTtyZXR1cm4gZX1mdW5jdGlvbiBNdCh0LGUsbixyLG8scyl7dmFyIGM9biZpLHU9dC5sZW5ndGgsbD1lLmxlbmd0aDtpZih1IT1sJiYhKGMmJmw+dSkpcmV0dXJuITE7dmFyIGY9cy5nZXQodCk7aWYoZiYmcy5nZXQoZSkpcmV0dXJuIGY9PWU7dmFyIHA9LTEsaD0hMCxkPW4mYT9uZXcgT3Q6dm9pZCAwO2ZvcihzLnNldCh0LGUpLHMuc2V0KGUsdCk7KytwPHU7KXt2YXIgdj10W3BdLHk9ZVtwXTtpZihyKXZhciBtPWM/cih5LHYscCxlLHQscyk6cih2LHkscCx0LGUscyk7aWYodm9pZCAwIT09bSl7aWYobSljb250aW51ZTtoPSExO2JyZWFrfWlmKGQpe2lmKCFCKGUsKGZ1bmN0aW9uKHQsZSl7aWYoaT1lLCFkLmhhcyhpKSYmKHY9PT10fHxvKHYsdCxuLHIscykpKXJldHVybiBkLnB1c2goZSk7dmFyIGl9KSkpe2g9ITE7YnJlYWt9fWVsc2UgaWYodiE9PXkmJiFvKHYseSxuLHIscykpe2g9ITE7YnJlYWt9fXJldHVybiBzLmRlbGV0ZSh0KSxzLmRlbGV0ZShlKSxofWZ1bmN0aW9uIEx0KHQpe3JldHVybiBmdW5jdGlvbih0LGUsbil7dmFyIHI9ZSh0KTtyZXR1cm4gV3QodCk/cjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxyPWUubGVuZ3RoLG89dC5sZW5ndGg7KytuPHI7KXRbbytuXT1lW25dO3JldHVybiB0fShyLG4odCkpfSh0LEt0LEZ0KX1mdW5jdGlvbiB6dCh0LGUpe3ZhciBuPXQuX19kYXRhX187cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybiJzdHJpbmciPT1lfHwibnVtYmVyIj09ZXx8InN5bWJvbCI9PWV8fCJib29sZWFuIj09ZT8iX19wcm90b19fIiE9PXQ6bnVsbD09PXR9KGUpP25bInN0cmluZyI9PXR5cGVvZiBlPyJzdHJpbmciOiJoYXNoIl06bi5tYXB9ZnVuY3Rpb24gUnQodCxlKXt2YXIgbj1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10P3ZvaWQgMDp0W2VdfSh0LGUpO3JldHVybiBJdChuKT9uOnZvaWQgMH1rdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPWR0P2R0KG51bGwpOnt9LHRoaXMuc2l6ZT0wfSxrdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaGFzKHQpJiZkZWxldGUgdGhpcy5fX2RhdGFfX1t0XTtyZXR1cm4gdGhpcy5zaXplLT1lPzE6MCxlfSxrdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX187aWYoZHQpe3ZhciBuPWVbdF07cmV0dXJuIG49PT1vP3ZvaWQgMDpufXJldHVybiBKLmNhbGwoZSx0KT9lW3RdOnZvaWQgMH0sa3QucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fO3JldHVybiBkdD92b2lkIDAhPT1lW3RdOkouY2FsbChlLHQpfSxrdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fX2RhdGFfXztyZXR1cm4gdGhpcy5zaXplKz10aGlzLmhhcyh0KT8wOjEsblt0XT1kdCYmdm9pZCAwPT09ZT9vOmUsdGhpc30sX3QucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1bXSx0aGlzLnNpemU9MH0sX3QucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fLG49U3QoZSx0KTtyZXR1cm4hKG48MCkmJihuPT1lLmxlbmd0aC0xP2UucG9wKCk6b3QuY2FsbChlLG4sMSksLS10aGlzLnNpemUsITApfSxfdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX18sbj1TdChlLHQpO3JldHVybiBuPDA/dm9pZCAwOmVbbl1bMV19LF90LnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIFN0KHRoaXMuX19kYXRhX18sdCk+LTF9LF90LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9fZGF0YV9fLHI9U3Qobix0KTtyZXR1cm4gcjwwPygrK3RoaXMuc2l6ZSxuLnB1c2goW3QsZV0pKTpuW3JdWzFdPWUsdGhpc30sQXQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5zaXplPTAsdGhpcy5fX2RhdGFfXz17aGFzaDpuZXcga3QsbWFwOm5ldyhsdHx8X3QpLHN0cmluZzpuZXcga3R9fSxBdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXp0KHRoaXMsdCkuZGVsZXRlKHQpO3JldHVybiB0aGlzLnNpemUtPWU/MTowLGV9LEF0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHp0KHRoaXMsdCkuZ2V0KHQpfSxBdC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB6dCh0aGlzLHQpLmhhcyh0KX0sQXQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3ZhciBuPXp0KHRoaXMsdCkscj1uLnNpemU7cmV0dXJuIG4uc2V0KHQsZSksdGhpcy5zaXplKz1uLnNpemU9PXI/MDoxLHRoaXN9LE90LnByb3RvdHlwZS5hZGQ9T3QucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19kYXRhX18uc2V0KHQsbyksdGhpc30sT3QucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModCl9LGp0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189bmV3IF90LHRoaXMuc2l6ZT0wfSxqdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX18sbj1lLmRlbGV0ZSh0KTtyZXR1cm4gdGhpcy5zaXplPWUuc2l6ZSxufSxqdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmdldCh0KX0sanQucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModCl9LGp0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9fZGF0YV9fO2lmKG4gaW5zdGFuY2VvZiBfdCl7dmFyIG89bi5fX2RhdGFfXztpZighbHR8fG8ubGVuZ3RoPHItMSlyZXR1cm4gby5wdXNoKFt0LGVdKSx0aGlzLnNpemU9KytuLnNpemUsdGhpcztuPXRoaXMuX19kYXRhX189bmV3IEF0KG8pfXJldHVybiBuLnNldCh0LGUpLHRoaXMuc2l6ZT1uLnNpemUsdGhpc307dmFyIEZ0PWF0P2Z1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P1tdOih0PU9iamVjdCh0KSxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxyPW51bGw9PXQ/MDp0Lmxlbmd0aCxvPTAsaT1bXTsrK248cjspe3ZhciBhPXRbbl07ZShhLG4sdCkmJihpW28rK109YSl9cmV0dXJuIGl9KGF0KHQpLChmdW5jdGlvbihlKXtyZXR1cm4gcnQuY2FsbCh0LGUpfSkpKX06ZnVuY3Rpb24oKXtyZXR1cm5bXX0sRHQ9TnQ7ZnVuY3Rpb24gQnQodCxlKXtyZXR1cm4hIShlPW51bGw9PWU/czplKSYmKCJudW1iZXIiPT10eXBlb2YgdHx8Ti50ZXN0KHQpKSYmdD4tMSYmdCUxPT0wJiZ0PGV9ZnVuY3Rpb24gVXQodCl7aWYobnVsbCE9dCl7dHJ5e3JldHVybiBWLmNhbGwodCl9Y2F0Y2goZSl7fXRyeXtyZXR1cm4gdCsiIn1jYXRjaChlKXt9fXJldHVybiIifWZ1bmN0aW9uIHF0KHQsZSl7cmV0dXJuIHQ9PT1lfHx0IT09dCYmZSE9PWV9KHV0JiZEdChuZXcgdXQobmV3IEFycmF5QnVmZmVyKDEpKSkhPUV8fGx0JiZEdChuZXcgbHQpIT15fHxmdCYmIltvYmplY3QgUHJvbWlzZV0iIT1EdChmdC5yZXNvbHZlKCkpfHxwdCYmRHQobmV3IHB0KSE9a3x8aHQmJiJbb2JqZWN0IFdlYWtNYXBdIiE9RHQobmV3IGh0KSkmJihEdD1mdW5jdGlvbih0KXt2YXIgZT1OdCh0KSxuPWU9PWI/dC5jb25zdHJ1Y3Rvcjp2b2lkIDAscj1uP1V0KG4pOiIiO2lmKHIpc3dpdGNoKHIpe2Nhc2UgdnQ6cmV0dXJuIEU7Y2FzZSB5dDpyZXR1cm4geTtjYXNlIG10OnJldHVybiJbb2JqZWN0IFByb21pc2VdIjtjYXNlIGd0OnJldHVybiBrO2Nhc2UgYnQ6cmV0dXJuIltvYmplY3QgV2Vha01hcF0ifXJldHVybiBlfSk7dmFyIEh0PVB0KGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk/UHQ6ZnVuY3Rpb24odCl7cmV0dXJuIFZ0KHQpJiZKLmNhbGwodCwiY2FsbGVlIikmJiFydC5jYWxsKHQsImNhbGxlZSIpfSxXdD1BcnJheS5pc0FycmF5O3ZhciBZdD1zdHx8ZnVuY3Rpb24oKXtyZXR1cm4hMX07ZnVuY3Rpb24gWnQodCl7aWYoISR0KHQpKXJldHVybiExO3ZhciBlPU50KHQpO3JldHVybiBlPT1kfHxlPT12fHxlPT1sfHxlPT14fWZ1bmN0aW9uIFh0KHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdCYmdD4tMSYmdCUxPT0wJiZ0PD1zfWZ1bmN0aW9uICR0KHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybiBudWxsIT10JiYoIm9iamVjdCI9PWV8fCJmdW5jdGlvbiI9PWUpfWZ1bmN0aW9uIFZ0KHQpe3JldHVybiBudWxsIT10JiYib2JqZWN0Ij09dHlwZW9mIHR9dmFyIEp0PUQ/ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfX0oRCk6ZnVuY3Rpb24odCl7cmV0dXJuIFZ0KHQpJiZYdCh0Lmxlbmd0aCkmJiEhUFtOdCh0KV19O2Z1bmN0aW9uIEt0KHQpe3JldHVybiBudWxsIT0oZT10KSYmWHQoZS5sZW5ndGgpJiYhWnQoZSk/RXQodCk6VHQodCk7dmFyIGV9bi5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEN0KHQsZSl9fSkuY2FsbCh0aGlzLG4oInlMcGoiKSxuKCJZdVRpIikodCkpfSxYb01EOmZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigiaFlBeiIpfSwiWHAvSCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ImZ1bmN0aW9uIj09PXR5cGVvZiBXZWFrTWFwJiYiW29iamVjdCBXZWFrTWFwXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3IFdlYWtNYXApfSxYc1I3OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigidU45ZyIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSlyZXR1cm4hMTt0cnl7cmV0dXJuISF0LmNvbnN0cnVjdG9yJiZ0LmNvbnN0cnVjdG9yLnByb3RvdHlwZT09PXR9Y2F0Y2goZSl7cmV0dXJuITF9fX0sWHQxWTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImsycU0iKSxvPXtvYmplY3Q6ITAsZnVuY3Rpb246ITAsdW5kZWZpbmVkOiEwfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuISFyKHQpJiZoYXNPd25Qcm9wZXJ0eS5jYWxsKG8sdHlwZW9mIHQpfX0sWHc1dTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdH19LFh5WUY6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixvPW4oIjBXK04iKSxpPW4oImtTSksiKSxhPW4oIkhZWVgiKSxzPW4oIlVTalIiKSxjPW4oIks0QTIiKSx1PU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyPXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNvbnN0cnVjdG9yIHJlcXVpcmVzICduZXcnIik7Yy5jYWxsKHRoaXMsdCksZT1lP2kuY2FsbChlLCJrZXkrdmFsdWUiKT8ia2V5K3ZhbHVlIjppLmNhbGwoZSwia2V5Iik/ImtleSI6InZhbHVlIjoidmFsdWUiLHUodGhpcywiX19raW5kX18iLGEoIiIsZSkpfSxvJiZvKHIsYyksZGVsZXRlIHIucHJvdG90eXBlLmNvbnN0cnVjdG9yLHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUse19yZXNvbHZlOmEoKGZ1bmN0aW9uKHQpe3JldHVybiJ2YWx1ZSI9PT10aGlzLl9fa2luZF9fP3RoaXMuX19saXN0X19bdF06ImtleSt2YWx1ZSI9PT10aGlzLl9fa2luZF9fP1t0LHRoaXMuX19saXN0X19bdF1dOnR9KSl9KSx1KHIucHJvdG90eXBlLHMudG9TdHJpbmdUYWcsYSgiYyIsIkFycmF5IEl0ZXJhdG9yIikpfSwiWStEOSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJwSXdDIiksbz1uKCJ1TjlnIiksaT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSlyZXR1cm4gbnVsbDtpZihvKHQpKXt2YXIgZT10LnRvU3RyaW5nO2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgZSlyZXR1cm4gbnVsbDtpZihlPT09aSlyZXR1cm4gbnVsbH10cnl7cmV0dXJuIiIrdH1jYXRjaChuKXtyZXR1cm4gbnVsbH19fSxZQ0pBOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigidDRnYyIpLG89QXJyYXkucHJvdG90eXBlLmZvckVhY2gsaT1PYmplY3QuY3JlYXRlLGE9ZnVuY3Rpb24odCxlKXt2YXIgbjtmb3IobiBpbiB0KWVbbl09dFtuXX07dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPWkobnVsbCk7cmV0dXJuIG8uY2FsbChhcmd1bWVudHMsKGZ1bmN0aW9uKHQpe3IodCkmJmEoT2JqZWN0KHQpLGUpfSkpLGV9fSxZQ1I1OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHIsbz1uKCI0UFk4IiksaT1uKCIrWE1WIiksYT1uKCI5UWg0Iikscz1uKCJIRW96IiksYz1uKCJCcUl0IiksdT1PYmplY3QuZGVmaW5lUHJvcGVydHk7cj10LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighKHRoaXMgaW5zdGFuY2VvZiByKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDb25zdHJ1Y3RvciByZXF1aXJlcyAnbmV3JyIpO2MuY2FsbCh0aGlzLHQpLGU9ZT9pLmNhbGwoZSwia2V5K3ZhbHVlIik/ImtleSt2YWx1ZSI6aS5jYWxsKGUsImtleSIpPyJrZXkiOiJ2YWx1ZSI6InZhbHVlIix1KHRoaXMsIl9fa2luZF9fIixhKCIiLGUpKX0sbyYmbyhyLGMpLGRlbGV0ZSByLnByb3RvdHlwZS5jb25zdHJ1Y3RvcixyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlLHtfcmVzb2x2ZTphKChmdW5jdGlvbih0KXtyZXR1cm4idmFsdWUiPT09dGhpcy5fX2tpbmRfXz90aGlzLl9fbGlzdF9fW3RdOiJrZXkrdmFsdWUiPT09dGhpcy5fX2tpbmRfXz9bdCx0aGlzLl9fbGlzdF9fW3RdXTp0fSkpfSksdShyLnByb3RvdHlwZSxzLnRvU3RyaW5nVGFnLGEoImMiLCJBcnJheSBJdGVyYXRvciIpKX0sWUNUTzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oInQ0UXIiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU7aWYodC5jaGFyQXQoMCkhPT1vKXJldHVybiAwO3JldHVybihlPXQuc3BsaXQobywyKS5qb2luKG8pKS5sZW5ndGgtcihlKS5sZW5ndGh9O3ZhciBvPSImIn0sWU95dTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjZwV3UiKSxvPW4oImJ0RlMiKSxpPU1hdGgubWF4O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLGEscyxjPWkoYXJndW1lbnRzLmxlbmd0aCwyKTtmb3IodD1PYmplY3Qobyh0KSkscz1mdW5jdGlvbihyKXt0cnl7dFtyXT1lW3JdfWNhdGNoKG8pe258fChuPW8pfX0sYT0xO2E8YzsrK2EpZT1hcmd1bWVudHNbYV0scihlKS5mb3JFYWNoKHMpO2lmKHZvaWQgMCE9PW4pdGhyb3cgbjtyZXR1cm4gdH19LFliZGE6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJxM0VOIiksbz1uKCJ0NFFyIiksaT1uKCJ3MmdVIik7dC5leHBvcnRzPXAscC5sb2NhdG9yPWkscC5ub3RJbkxpbms9ITA7dmFyIGE9IjwiLHM9Ij4iLGM9IkAiLHU9Ii8iLGw9Im1haWx0bzoiLGY9bC5sZW5ndGg7ZnVuY3Rpb24gcCh0LGUsbil7dmFyIGkscCxoLGQsdix5PSIiLG09ZS5sZW5ndGgsZz0wLGI9IiIseD0hMSx3PSIiO2lmKGUuY2hhckF0KDApPT09YSl7Zm9yKGcrKyx5PWE7ZzxtJiYoaT1lLmNoYXJBdChnKSwhKHIoaSl8fGk9PT1zfHxpPT09Y3x8IjoiPT09aSYmZS5jaGFyQXQoZysxKT09PXUpKTspYis9aSxnKys7aWYoYil7aWYodys9YixiPSIiLHcrPWk9ZS5jaGFyQXQoZyksZysrLGk9PT1jKXg9ITA7ZWxzZXtpZigiOiIhPT1pfHxlLmNoYXJBdChnKzEpIT09dSlyZXR1cm47dys9dSxnKyt9Zm9yKDtnPG0mJihpPWUuY2hhckF0KGcpLCFyKGkpJiZpIT09cyk7KWIrPWksZysrO2lmKGk9ZS5jaGFyQXQoZyksYiYmaT09PXMpcmV0dXJuISFufHwoaD13Kz1iLHkrPXcraSwocD10Lm5vdygpKS5jb2x1bW4rKyxwLm9mZnNldCsrLHgmJih3LnNsaWNlKDAsZikudG9Mb3dlckNhc2UoKT09PWw/KGg9aC5zbGljZShmKSxwLmNvbHVtbis9ZixwLm9mZnNldCs9Zik6dz1sK3cpLGQ9dGhpcy5pbmxpbmVUb2tlbml6ZXJzLHRoaXMuaW5saW5lVG9rZW5pemVycz17dGV4dDpkLnRleHR9LHY9dGhpcy5lbnRlckxpbmsoKSxoPXRoaXMudG9rZW5pemVJbmxpbmUoaCxwKSx0aGlzLmlubGluZVRva2VuaXplcnM9ZCx2KCksdCh5KSh7dHlwZToibGluayIsdGl0bGU6bnVsbCx1cmw6byh3LHtub25UZXJtaW5hdGVkOiExfSksY2hpbGRyZW46aH0pKX19fX0sWXNUejpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjUyeDIiKSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdCE9PXImJm51bGwhPT10fX0sWXcyYjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oInl6MDkiKSxvPW4oInM2U0siKSxpPW4oInEzRU4iKSxhPW4oIi9Fc0UiKTt0LmV4cG9ydHM9bCxsLmxvY2F0b3I9YTt2YXIgcz0iKiIsYz0iXyIsdT0iXFwiO2Z1bmN0aW9uIGwodCxlLG4pe3ZhciBhLGwsZixwLGgsZCx2LHk9MCxtPWUuY2hhckF0KHkpO2lmKChtPT09c3x8bT09PWMpJiYobD10aGlzLm9wdGlvbnMucGVkYW50aWMsaD1tLGY9bSxkPWUubGVuZ3RoLHkrKyxwPSIiLG09IiIsIWx8fCFpKGUuY2hhckF0KHkpKSkpZm9yKDt5PGQ7KXtpZih2PW0sKG09ZS5jaGFyQXQoeSkpPT09ZiYmKCFsfHwhaSh2KSkpe2lmKChtPWUuY2hhckF0KCsreSkpIT09Zil7aWYoIXIocCl8fHY9PT1mKXJldHVybjtpZighbCYmZj09PWMmJm8obSkpe3ArPWY7Y29udGludWV9cmV0dXJuISFufHwoKGE9dC5ub3coKSkuY29sdW1uKyssYS5vZmZzZXQrKyx0KGgrcCtmKSh7dHlwZToiZW1waGFzaXMiLGNoaWxkcmVuOnRoaXMudG9rZW5pemVJbmxpbmUocCxhKX0pKX1wKz1mfWx8fG0hPT11fHwocCs9bSxtPWUuY2hhckF0KCsreSkpLHArPW0seSsrfX19LFl5Q1I6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJhUHpoIiksbz1uKCI5SFJMIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKHQpfHxvKHQpfX0sWXlGMDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImtCUGwiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoImZ1bmN0aW9uIiE9PXR5cGVvZiB0KXJldHVybiExO2lmKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHQsImxlbmd0aCIpKXJldHVybiExO3RyeXtpZigibnVtYmVyIiE9PXR5cGVvZiB0Lmxlbmd0aClyZXR1cm4hMTtpZigiZnVuY3Rpb24iIT09dHlwZW9mIHQuY2FsbClyZXR1cm4hMTtpZigiZnVuY3Rpb24iIT09dHlwZW9mIHQuYXBwbHkpcmV0dXJuITF9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuIXIodCl9fSxZenhlOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiNDFxdCIpLG89bigiOFNydSIpLGk9bigiWHlZRiIpLGE9bigiK0xsZCIpLHM9bigiUmdkVyIpLGM9bigiVVNqUiIpLml0ZXJhdG9yO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIHModClbY10/dFtjXSgpOnIodCk/bmV3IGkodCk6byh0KT9uZXcgYSh0KTpuZXcgaSh0KX19LFo4N0w6ZnVuY3Rpb24odCl7dC5leHBvcnRzPUpTT04ucGFyc2UoJ3siMCI6Ilx1ZmZmZCIsIjEyOCI6Ilx1MjBhYyIsIjEzMCI6Ilx1MjAxYSIsIjEzMSI6Ilx1MDE5MiIsIjEzMiI6Ilx1MjAxZSIsIjEzMyI6Ilx1MjAyNiIsIjEzNCI6Ilx1MjAyMCIsIjEzNSI6Ilx1MjAyMSIsIjEzNiI6Ilx1MDJjNiIsIjEzNyI6Ilx1MjAzMCIsIjEzOCI6Ilx1MDE2MCIsIjEzOSI6Ilx1MjAzOSIsIjE0MCI6Ilx1MDE1MiIsIjE0MiI6Ilx1MDE3ZCIsIjE0NSI6Ilx1MjAxOCIsIjE0NiI6Ilx1MjAxOSIsIjE0NyI6Ilx1MjAxYyIsIjE0OCI6Ilx1MjAxZCIsIjE0OSI6Ilx1MjAyMiIsIjE1MCI6Ilx1MjAxMyIsIjE1MSI6Ilx1MjAxNCIsIjE1MiI6Ilx1MDJkYyIsIjE1MyI6Ilx1MjEyMiIsIjE1NCI6Ilx1MDE2MSIsIjE1NSI6Ilx1MjAzYSIsIjE1NiI6Ilx1MDE1MyIsIjE1OCI6Ilx1MDE3ZSIsIjE1OSI6Ilx1MDE3OCJ9Jyl9LCJaRXgvIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjZkQnMiKSxvPW4oIkdkYm8iKSxpPW4oInZLRkMiKSxhPW4oInhrUWsiKSxzPW4oIklSWUEiKSxjPW4oIk5rTCsiKTt0LmV4cG9ydHM9ZnVuY3Rpb24gdCgpe3ZhciBlPVtdLG49YSgpLGc9e30sYj0hMSx4PS0xO3JldHVybiB3LmRhdGE9ZnVuY3Rpb24odCxlKXtpZihzKHQpKXJldHVybiAyPT09YXJndW1lbnRzLmxlbmd0aD8odigiZGF0YSIsYiksZ1t0XT1lLHcpOmwuY2FsbChnLHQpJiZnW3RdfHxudWxsO2lmKHQpcmV0dXJuIHYoImRhdGEiLGIpLGc9dCx3O3JldHVybiBnfSx3LmZyZWV6ZT1rLHcuYXR0YWNoZXJzPWUsdy51c2U9ZnVuY3Rpb24odCl7dmFyIG47aWYodigidXNlIixiKSxudWxsPT09dHx8dm9pZCAwPT09dCk7ZWxzZSBpZigiZnVuY3Rpb24iPT09dHlwZW9mIHQpcy5hcHBseShudWxsLGFyZ3VtZW50cyk7ZWxzZXtpZigib2JqZWN0IiE9PXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgdXNhYmxlIHZhbHVlLCBub3QgYCIrdCsiYCIpOyJsZW5ndGgiaW4gdD9hKHQpOm8odCl9biYmKGcuc2V0dGluZ3M9cihnLnNldHRpbmdzfHx7fSxuKSk7cmV0dXJuIHc7ZnVuY3Rpb24gbyh0KXthKHQucGx1Z2lucyksdC5zZXR0aW5ncyYmKG49cihufHx7fSx0LnNldHRpbmdzKSl9ZnVuY3Rpb24gaSh0KXtpZigiZnVuY3Rpb24iPT09dHlwZW9mIHQpcyh0KTtlbHNle2lmKCJvYmplY3QiIT09dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCB1c2FibGUgdmFsdWUsIG5vdCBgIit0KyJgIik7Imxlbmd0aCJpbiB0P3MuYXBwbHkobnVsbCx0KTpvKHQpfX1mdW5jdGlvbiBhKHQpe3ZhciBlLG47aWYobnVsbD09PXR8fHZvaWQgMD09PXQpO2Vsc2V7aWYoISgib2JqZWN0Ij09PXR5cGVvZiB0JiYibGVuZ3RoImluIHQpKXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgYSBsaXN0IG9mIHBsdWdpbnMsIG5vdCBgIit0KyJgIik7Zm9yKGU9dC5sZW5ndGgsbj0tMTsrK248ZTspaSh0W25dKX19ZnVuY3Rpb24gcyh0LG4pe3ZhciBvPWZ1bmN0aW9uKHQpe3ZhciBuLHI9ZS5sZW5ndGgsbz0tMTtmb3IoOysrbzxyOylpZigobj1lW29dKVswXT09PXQpcmV0dXJuIG59KHQpO28/KGMob1sxXSkmJmMobikmJihuPXIob1sxXSxuKSksb1sxXT1uKTplLnB1c2godS5jYWxsKGFyZ3VtZW50cykpfX0sdy5wYXJzZT1mdW5jdGlvbih0KXt2YXIgZSxuPWkodCk7aWYoaygpLGgoInBhcnNlIixlPXcuUGFyc2VyKSxwKGUpKXJldHVybiBuZXcgZShTdHJpbmcobiksbikucGFyc2UoKTtyZXR1cm4gZShTdHJpbmcobiksbil9LHcuc3RyaW5naWZ5PWZ1bmN0aW9uKHQsZSl7dmFyIG4scj1pKGUpO2lmKGsoKSxkKCJzdHJpbmdpZnkiLG49dy5Db21waWxlcikseSh0KSxwKG4pKXJldHVybiBuZXcgbih0LHIpLmNvbXBpbGUoKTtyZXR1cm4gbih0LHIpfSx3LnJ1bj1fLHcucnVuU3luYz1mdW5jdGlvbih0LGUpe3ZhciBuLHI9ITE7cmV0dXJuIF8odCxlLChmdW5jdGlvbih0LGUpe3I9ITAsbyh0KSxuPWV9KSksbSgicnVuU3luYyIsInJ1biIsciksbn0sdy5wcm9jZXNzPUEsdy5wcm9jZXNzU3luYz1mdW5jdGlvbih0KXt2YXIgZSxuPSExO3JldHVybiBrKCksaCgicHJvY2Vzc1N5bmMiLHcuUGFyc2VyKSxkKCJwcm9jZXNzU3luYyIsdy5Db21waWxlciksQShlPWkodCksKGZ1bmN0aW9uKHQpe249ITAsbyh0KX0pKSxtKCJwcm9jZXNzU3luYyIsInByb2Nlc3MiLG4pLGV9LHc7ZnVuY3Rpb24gdygpe2Zvcih2YXIgbj10KCksbz1lLmxlbmd0aCxpPS0xOysraTxvOyluLnVzZS5hcHBseShudWxsLGVbaV0pO3JldHVybiBuLmRhdGEocighMCx7fSxnKSksbn1mdW5jdGlvbiBrKCl7dmFyIHQscixvLGk7aWYoYilyZXR1cm4gdztmb3IoOysreDxlLmxlbmd0aDspcj0odD1lW3hdKVswXSxudWxsLCExIT09KG89dFsxXSkmJighMD09PW8mJih0WzFdPXZvaWQgMCksImZ1bmN0aW9uIj09PXR5cGVvZihpPXIuYXBwbHkodyx0LnNsaWNlKDEpKSkmJm4udXNlKGkpKTtyZXR1cm4gYj0hMCx4PTEvMCx3fWZ1bmN0aW9uIF8odCxlLHIpe2lmKHkodCksaygpLHJ8fCJmdW5jdGlvbiIhPT10eXBlb2YgZXx8KHI9ZSxlPW51bGwpLCFyKXJldHVybiBuZXcgUHJvbWlzZShvKTtmdW5jdGlvbiBvKG8sYSl7bi5ydW4odCxpKGUpLChmdW5jdGlvbihlLG4saSl7bj1ufHx0LGU/YShlKTpvP28obik6cihudWxsLG4saSl9KSl9byhudWxsLHIpfWZ1bmN0aW9uIEEodCxlKXtpZihrKCksaCgicHJvY2VzcyIsdy5QYXJzZXIpLGQoInByb2Nlc3MiLHcuQ29tcGlsZXIpLCFlKXJldHVybiBuZXcgUHJvbWlzZShuKTtmdW5jdGlvbiBuKG4scil7dmFyIG89aSh0KTtmLnJ1bih3LHtmaWxlOm99LChmdW5jdGlvbih0KXt0P3IodCk6bj9uKG8pOmUobnVsbCxvKX0pKX1uKG51bGwsZSl9fSgpLmZyZWV6ZSgpO3ZhciB1PVtdLnNsaWNlLGw9e30uaGFzT3duUHJvcGVydHksZj1hKCkudXNlKChmdW5jdGlvbih0LGUpe2UudHJlZT10LnBhcnNlKGUuZmlsZSl9KSkudXNlKChmdW5jdGlvbih0LGUsbil7dC5ydW4oZS50cmVlLGUuZmlsZSwoZnVuY3Rpb24odCxyLG8pe3Q/bih0KTooZS50cmVlPXIsZS5maWxlPW8sbigpKX0pKX0pKS51c2UoKGZ1bmN0aW9uKHQsZSl7ZS5maWxlLmNvbnRlbnRzPXQuc3RyaW5naWZ5KGUudHJlZSxlLmZpbGUpfSkpO2Z1bmN0aW9uIHAodCl7cmV0dXJuImZ1bmN0aW9uIj09PXR5cGVvZiB0JiZmdW5jdGlvbih0KXt2YXIgZTtmb3IoZSBpbiB0KXJldHVybiEwO3JldHVybiExfSh0LnByb3RvdHlwZSl9ZnVuY3Rpb24gaCh0LGUpe2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBgIit0KyJgIHdpdGhvdXQgYFBhcnNlcmAiKX1mdW5jdGlvbiBkKHQsZSl7aWYoImZ1bmN0aW9uIiE9PXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGAiK3QrImAgd2l0aG91dCBgQ29tcGlsZXJgIil9ZnVuY3Rpb24gdih0LGUpe2lmKGUpdGhyb3cgbmV3IEVycm9yKFsiQ2Fubm90IGludm9rZSBgIit0KyJgIG9uIGEgZnJvemVuIHByb2Nlc3Nvci5cbkNyZWF0ZSBhIG5ldyAiLCJwcm9jZXNzb3IgZmlyc3QsIGJ5IGludm9raW5nIGl0OiB1c2UgYHByb2Nlc3NvcigpYCBpbnN0ZWFkIG9mICIsImBwcm9jZXNzb3JgLiJdLmpvaW4oIiIpKX1mdW5jdGlvbiB5KHQpe2lmKCF0fHwhcyh0LnR5cGUpKXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgbm9kZSwgZ290IGAiK3QrImAiKX1mdW5jdGlvbiBtKHQsZSxuKXtpZighbil0aHJvdyBuZXcgRXJyb3IoImAiK3QrImAgZmluaXNoZWQgYXN5bmMuIFVzZSBgIitlKyJgIGluc3RlYWQiKX19LFpMT3E6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmluZGV4T2YoIlxuIixlKTtmb3IoO24+ZSYmIiAiPT09dC5jaGFyQXQobi0xKTspbi0tO3JldHVybiBufX0sWk9OUDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT0ic3RyaW5nIj09PXR5cGVvZiB0P3QuY2hhckNvZGVBdCgwKTp0O3JldHVybiBlPj00OCYmZTw9NTd9fSxaUFpYOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCJzdHJpbmciIT09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiRXhwZWN0ZWQgYHN0cmluZ2AgYXMgc2VsZWN0b3IsIG5vdCBgIit0KyJgIik7cmV0dXJuIGMocy5wYXJzZSh0KSl9O3ZhciByPW4oIjgyenYiKS5Dc3NTZWxlY3RvclBhcnNlcixvPW4oImQweVkiKSxpPW4oImpkWnciKSxhPVsibnRoLWNoaWxkIiwibnRoLWxhc3QtY2hpbGQiLCJudGgtb2YtdHlwZSIsIm50aC1sYXN0LW9mLXR5cGUiXSxzPW5ldyByLGM9bygidHlwZSIpLHU9Yy5oYW5kbGVycztmdW5jdGlvbiBsKHQpe2Zvcih2YXIgZSxuPXQucHNldWRvcyxyPW4mJm4ubGVuZ3RoLG89LTE7KytvPHI7KWU9bltvXSwtMSE9PWEuaW5kZXhPZihlLm5hbWUpJiYoZS52YWx1ZT1pKGUudmFsdWUpLGUudmFsdWVUeXBlPSJmdW5jdGlvbiIpO3JldHVybiBjKHQucnVsZSksdH1zLnJlZ2lzdGVyQXR0ckVxdWFsaXR5TW9kcygifiIsIl4iLCIkIiwiKiIpLHMucmVnaXN0ZXJTZWxlY3RvclBzZXVkb3MoImFueSIsIm1hdGNoZXMiLCJub3QiLCJoYXMiKSxzLnJlZ2lzdGVyTmVzdGluZ09wZXJhdG9ycygiPiIsIisiLCJ+IiksdS5zZWxlY3RvcnM9ZnVuY3Rpb24odCl7dmFyIGU9dC5zZWxlY3RvcnMsbj1lLmxlbmd0aCxyPS0xO2Zvcig7KytyPG47KWMoZVtyXSk7cmV0dXJuIHR9LHUucnVsZVNldD1mdW5jdGlvbih0KXtyZXR1cm4gbCh0LnJ1bGUpfSx1LnJ1bGU9bH0sWlF3OTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlJVVmwiKSxvPW4oIk9JQmEiKSxpPW4oIjdUaFciKSxhPW4oIm0zSksiKSxzPW4oIldwNHgiKTt0LmV4cG9ydHM9ZnVuY3Rpb24gdCgpe3ZhciBlPVtdLG49YSgpLG09e30sZz0hMSxiPS0xO3JldHVybiB4LmRhdGE9ZnVuY3Rpb24odCxlKXtpZigic3RyaW5nIj09PXR5cGVvZiB0KXJldHVybiAyPT09YXJndW1lbnRzLmxlbmd0aD8oZCgiZGF0YSIsZyksbVt0XT1lLHgpOnUuY2FsbChtLHQpJiZtW3RdfHxudWxsO2lmKHQpcmV0dXJuIGQoImRhdGEiLGcpLG09dCx4O3JldHVybiBtfSx4LmZyZWV6ZT13LHguYXR0YWNoZXJzPWUseC51c2U9ZnVuY3Rpb24odCl7dmFyIG47aWYoZCgidXNlIixnKSxudWxsPT09dHx8dm9pZCAwPT09dCk7ZWxzZSBpZigiZnVuY3Rpb24iPT09dHlwZW9mIHQpdS5hcHBseShudWxsLGFyZ3VtZW50cyk7ZWxzZXtpZigib2JqZWN0IiE9PXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgdXNhYmxlIHZhbHVlLCBub3QgYCIrdCsiYCIpOyJsZW5ndGgiaW4gdD9hKHQpOm8odCl9biYmKG0uc2V0dGluZ3M9cihtLnNldHRpbmdzfHx7fSxuKSk7cmV0dXJuIHg7ZnVuY3Rpb24gbyh0KXthKHQucGx1Z2lucyksdC5zZXR0aW5ncyYmKG49cihufHx7fSx0LnNldHRpbmdzKSl9ZnVuY3Rpb24gaSh0KXtpZigiZnVuY3Rpb24iPT09dHlwZW9mIHQpdSh0KTtlbHNle2lmKCJvYmplY3QiIT09dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCB1c2FibGUgdmFsdWUsIG5vdCBgIit0KyJgIik7Imxlbmd0aCJpbiB0P3UuYXBwbHkobnVsbCx0KTpvKHQpfX1mdW5jdGlvbiBhKHQpe3ZhciBlLG47aWYobnVsbD09PXR8fHZvaWQgMD09PXQpO2Vsc2V7aWYoISgib2JqZWN0Ij09PXR5cGVvZiB0JiYibGVuZ3RoImluIHQpKXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgYSBsaXN0IG9mIHBsdWdpbnMsIG5vdCBgIit0KyJgIik7Zm9yKGU9dC5sZW5ndGgsbj0tMTsrK248ZTspaSh0W25dKX19ZnVuY3Rpb24gdSh0LG4pe3ZhciBvPWZ1bmN0aW9uKHQpe3ZhciBuLHI9ZS5sZW5ndGgsbz0tMTtmb3IoOysrbzxyOylpZigobj1lW29dKVswXT09PXQpcmV0dXJuIG59KHQpO28/KHMob1sxXSkmJnMobikmJihuPXIob1sxXSxuKSksb1sxXT1uKTplLnB1c2goYy5jYWxsKGFyZ3VtZW50cykpfX0seC5wYXJzZT1mdW5jdGlvbih0KXt2YXIgZSxuPWkodCk7aWYodygpLHAoInBhcnNlIixlPXguUGFyc2VyKSxmKGUsInBhcnNlIikpcmV0dXJuIG5ldyBlKFN0cmluZyhuKSxuKS5wYXJzZSgpO3JldHVybiBlKFN0cmluZyhuKSxuKX0seC5zdHJpbmdpZnk9ZnVuY3Rpb24odCxlKXt2YXIgbixyPWkoZSk7aWYodygpLGgoInN0cmluZ2lmeSIsbj14LkNvbXBpbGVyKSx2KHQpLGYobiwiY29tcGlsZSIpKXJldHVybiBuZXcgbih0LHIpLmNvbXBpbGUoKTtyZXR1cm4gbih0LHIpfSx4LnJ1bj1rLHgucnVuU3luYz1mdW5jdGlvbih0LGUpe3ZhciBuLHI9ITE7cmV0dXJuIGsodCxlLChmdW5jdGlvbih0LGUpe3I9ITAsbyh0KSxuPWV9KSkseSgicnVuU3luYyIsInJ1biIsciksbn0seC5wcm9jZXNzPV8seC5wcm9jZXNzU3luYz1mdW5jdGlvbih0KXt2YXIgZSxuPSExO3JldHVybiB3KCkscCgicHJvY2Vzc1N5bmMiLHguUGFyc2VyKSxoKCJwcm9jZXNzU3luYyIseC5Db21waWxlciksXyhlPWkodCksKGZ1bmN0aW9uKHQpe249ITAsbyh0KX0pKSx5KCJwcm9jZXNzU3luYyIsInByb2Nlc3MiLG4pLGV9LHg7ZnVuY3Rpb24geCgpe2Zvcih2YXIgbj10KCksbz1lLmxlbmd0aCxpPS0xOysraTxvOyluLnVzZS5hcHBseShudWxsLGVbaV0pO3JldHVybiBuLmRhdGEocighMCx7fSxtKSksbn1mdW5jdGlvbiB3KCl7dmFyIHQscixvLGk7aWYoZylyZXR1cm4geDtmb3IoOysrYjxlLmxlbmd0aDspcj0odD1lW2JdKVswXSxudWxsLCExIT09KG89dFsxXSkmJighMD09PW8mJih0WzFdPXZvaWQgMCksImZ1bmN0aW9uIj09PXR5cGVvZihpPXIuYXBwbHkoeCx0LnNsaWNlKDEpKSkmJm4udXNlKGkpKTtyZXR1cm4gZz0hMCxiPTEvMCx4fWZ1bmN0aW9uIGsodCxlLHIpe2lmKHYodCksdygpLHJ8fCJmdW5jdGlvbiIhPT10eXBlb2YgZXx8KHI9ZSxlPW51bGwpLCFyKXJldHVybiBuZXcgUHJvbWlzZShvKTtmdW5jdGlvbiBvKG8sYSl7bi5ydW4odCxpKGUpLChmdW5jdGlvbihlLG4saSl7bj1ufHx0LGU/YShlKTpvP28obik6cihudWxsLG4saSl9KSl9byhudWxsLHIpfWZ1bmN0aW9uIF8odCxlKXtpZih3KCkscCgicHJvY2VzcyIseC5QYXJzZXIpLGgoInByb2Nlc3MiLHguQ29tcGlsZXIpLCFlKXJldHVybiBuZXcgUHJvbWlzZShuKTtmdW5jdGlvbiBuKG4scil7dmFyIG89aSh0KTtsLnJ1bih4LHtmaWxlOm99LChmdW5jdGlvbih0KXt0P3IodCk6bj9uKG8pOmUobnVsbCxvKX0pKX1uKG51bGwsZSl9fSgpLmZyZWV6ZSgpO3ZhciBjPVtdLnNsaWNlLHU9e30uaGFzT3duUHJvcGVydHksbD1hKCkudXNlKChmdW5jdGlvbih0LGUpe2UudHJlZT10LnBhcnNlKGUuZmlsZSl9KSkudXNlKChmdW5jdGlvbih0LGUsbil7dC5ydW4oZS50cmVlLGUuZmlsZSwoZnVuY3Rpb24odCxyLG8pe3Q/bih0KTooZS50cmVlPXIsZS5maWxlPW8sbigpKX0pKX0pKS51c2UoKGZ1bmN0aW9uKHQsZSl7ZS5maWxlLmNvbnRlbnRzPXQuc3RyaW5naWZ5KGUudHJlZSxlLmZpbGUpfSkpO2Z1bmN0aW9uIGYodCxlKXtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIHQmJnQucHJvdG90eXBlJiYoZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGUgaW4gdClyZXR1cm4hMDtyZXR1cm4hMX0odC5wcm90b3R5cGUpfHxlIGluIHQucHJvdG90eXBlKX1mdW5jdGlvbiBwKHQsZSl7aWYoImZ1bmN0aW9uIiE9PXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGAiK3QrImAgd2l0aG91dCBgUGFyc2VyYCIpfWZ1bmN0aW9uIGgodCxlKXtpZigiZnVuY3Rpb24iIT09dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYCIrdCsiYCB3aXRob3V0IGBDb21waWxlcmAiKX1mdW5jdGlvbiBkKHQsZSl7aWYoZSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBpbnZva2UgYCIrdCsiYCBvbiBhIGZyb3plbiBwcm9jZXNzb3IuXG5DcmVhdGUgYSBuZXcgcHJvY2Vzc29yIGZpcnN0LCBieSBpbnZva2luZyBpdDogdXNlIGBwcm9jZXNzb3IoKWAgaW5zdGVhZCBvZiBgcHJvY2Vzc29yYC4iKX1mdW5jdGlvbiB2KHQpe2lmKCF0fHwic3RyaW5nIiE9PXR5cGVvZiB0LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCBub2RlLCBnb3QgYCIrdCsiYCIpfWZ1bmN0aW9uIHkodCxlLG4pe2lmKCFuKXRocm93IG5ldyBFcnJvcigiYCIrdCsiYCBmaW5pc2hlZCBhc3luYy4gVXNlIGAiK2UrImAgaW5zdGVhZCIpfX0sWldrMjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIm0ybjkiKSxvPW4oIlo4N0wiKSxpPW4oIlpPTlAiKSxhPW4oImZqcmwiKSxzPW4oIko1eVciKSxjPW4oIld0S0UiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixpLGE9e307ZXx8KGU9e30pO2ZvcihpIGluIHApbj1lW2ldLGFbaV09bnVsbD09PW58fHZvaWQgMD09PW4/cFtpXTpuOyhhLnBvc2l0aW9uLmluZGVudHx8YS5wb3NpdGlvbi5zdGFydCkmJihhLmluZGVudD1hLnBvc2l0aW9uLmluZGVudHx8W10sYS5wb3NpdGlvbj1hLnBvc2l0aW9uLnN0YXJ0KTtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbixpLGEscCxELEIsVSxxLEgsVyxZLFosWCwkLFYsSixLLEcsUSx0dD1lLmFkZGl0aW9uYWwsZXQ9ZS5ub25UZXJtaW5hdGVkLG50PWUudGV4dCxydD1lLnJlZmVyZW5jZSxvdD1lLndhcm5pbmcsaXQ9ZS50ZXh0Q29udGV4dCxhdD1lLnJlZmVyZW5jZUNvbnRleHQsc3Q9ZS53YXJuaW5nQ29udGV4dCxjdD1lLnBvc2l0aW9uLHV0PWUuaW5kZW50fHxbXSxsdD10Lmxlbmd0aCxmdD0wLHB0PS0xLGh0PWN0LmNvbHVtbnx8MSxkdD1jdC5saW5lfHwxLHZ0PSIiLHl0PVtdOyJzdHJpbmciPT09dHlwZW9mIHR0JiYodHQ9dHQuY2hhckNvZGVBdCgwKSk7Sj1ndCgpLHE9b3Q/ZnVuY3Rpb24odCxlKXt2YXIgbj1ndCgpO24uY29sdW1uKz1lLG4ub2Zmc2V0Kz1lLG90LmNhbGwoc3QsUlt0XSxuLHQpfTpmLGZ0LS0sbHQrKztmb3IoOysrZnQ8bHQ7KWlmKEQ9PT1kJiYoaHQ9dXRbcHRdfHwxKSwoRD10LmNoYXJDb2RlQXQoZnQpKT09PW0pe2lmKChVPXQuY2hhckNvZGVBdChmdCsxKSk9PT1ofHxVPT09ZHx8VT09PXZ8fFU9PT15fHxVPT09bXx8VT09PWJ8fFUhPT1VfHx0dCYmVT09PXR0KXt2dCs9bChEKSxodCsrO2NvbnRpbnVlfWZvcihaPVg9ZnQrMSxRPVgsVT09PXc/KFE9KytaLChVPXQuY2hhckNvZGVBdChRKSk9PT1rfHxVPT09Xz8oJD1qLFE9KytaKTokPUUpOiQ9TyxuPSIiLFk9IiIscD0iIixWPU5bJF0sUS0tOysrUTxsdCYmKFU9dC5jaGFyQ29kZUF0KFEpLFYoVSkpOylwKz1sKFUpLCQ9PT1PJiZ1LmNhbGwocixwKSYmKG49cCxZPXJbcF0pOyhhPXQuY2hhckNvZGVBdChRKT09PWcpJiYoUSsrLChpPSQ9PT1PJiZjKHApKSYmKG49cCxZPWkpKSxHPTErUS1YLChhfHxldCkmJihwPyQ9PT1PPyhhJiYhWT9xKE0sMSk6KG4hPT1wJiYoUT1aK24ubGVuZ3RoLEc9MStRLVosYT0hMSksYXx8KEg9bj9QOkksZS5hdHRyaWJ1dGU/KFU9dC5jaGFyQ29kZUF0KFEpKT09PXg/KHEoSCxHKSxZPW51bGwpOnMoVSk/WT1udWxsOnEoSCxHKTpxKEgsRykpKSxCPVkpOihhfHxxKEMsRyksQj1wYXJzZUludChwLFNbJF0pLChtdD1CKT49NTUyOTYmJm10PD01NzM0M3x8bXQ+MTExNDExMT8ocSh6LEcpLEI9bChBKSk6QiBpbiBvPyhxKEwsRyksQj1vW0JdKTooVz0iIixGKEIpJiZxKEwsRyksQj42NTUzNSYmKFcrPWwoKEItPTY1NTM2KT4+PjEwfDU1Mjk2KSxCPTU2MzIwfDEwMjMmQiksQj1XK2woQikpKTokIT09TyYmcShULEcpKSxCPyhidCgpLEo9Z3QoKSxmdD1RLTEsaHQrPVEtWCsxLHl0LnB1c2goQiksKEs9Z3QoKSkub2Zmc2V0KysscnQmJnJ0LmNhbGwoYXQsQix7c3RhcnQ6SixlbmQ6S30sdC5zbGljZShYLTEsUSkpLEo9Syk6KHA9dC5zbGljZShYLTEsUSksdnQrPXAsaHQrPXAubGVuZ3RoLGZ0PVEtMSl9ZWxzZSAxMD09PUQmJihkdCsrLHB0KyssaHQ9MCksRD09PUQ/KHZ0Kz1sKEQpLGh0KyspOmJ0KCk7dmFyIG10O3JldHVybiB5dC5qb2luKCIiKTtmdW5jdGlvbiBndCgpe3JldHVybntsaW5lOmR0LGNvbHVtbjpodCxvZmZzZXQ6ZnQrKGN0Lm9mZnNldHx8MCl9fWZ1bmN0aW9uIGJ0KCl7dnQmJih5dC5wdXNoKHZ0KSxudCYmbnQuY2FsbChpdCx2dCx7c3RhcnQ6SixlbmQ6Z3QoKX0pLHZ0PSIiKX19KHQsYSl9O3ZhciB1PXt9Lmhhc093blByb3BlcnR5LGw9U3RyaW5nLmZyb21DaGFyQ29kZSxmPUZ1bmN0aW9uLnByb3RvdHlwZSxwPXt3YXJuaW5nOm51bGwscmVmZXJlbmNlOm51bGwsdGV4dDpudWxsLHdhcm5pbmdDb250ZXh0Om51bGwscmVmZXJlbmNlQ29udGV4dDpudWxsLHRleHRDb250ZXh0Om51bGwscG9zaXRpb246e30sYWRkaXRpb25hbDpudWxsLGF0dHJpYnV0ZTohMSxub25UZXJtaW5hdGVkOiEwfSxoPTksZD0xMCx2PTEyLHk9MzIsbT0zOCxnPTU5LGI9NjAseD02MSx3PTM1LGs9ODgsXz0xMjAsQT02NTUzMyxPPSJuYW1lZCIsaj0iaGV4YWRlY2ltYWwiLEU9ImRlY2ltYWwiLFM9e307U1tqXT0xNixTW0VdPTEwO3ZhciBOPXt9O05bT109cyxOW0VdPWksTltqXT1hO3ZhciBQPTEsQz0yLEk9MyxUPTQsTT01LEw9Nix6PTcsUj17fTtmdW5jdGlvbiBGKHQpe3JldHVybiB0Pj0xJiZ0PD04fHwxMT09PXR8fHQ+PTEzJiZ0PD0zMXx8dD49MTI3JiZ0PD0xNTl8fHQ+PTY0OTc2JiZ0PD02NTAwN3x8NjU1MzU9PT0oNjU1MzUmdCl8fDY1NTM0PT09KDY1NTM1JnQpfVJbUF09Ik5hbWVkIGNoYXJhY3RlciByZWZlcmVuY2VzIG11c3QgYmUgdGVybWluYXRlZCBieSBhIHNlbWljb2xvbiIsUltDXT0iTnVtZXJpYyBjaGFyYWN0ZXIgcmVmZXJlbmNlcyBtdXN0IGJlIHRlcm1pbmF0ZWQgYnkgYSBzZW1pY29sb24iLFJbSV09Ik5hbWVkIGNoYXJhY3RlciByZWZlcmVuY2VzIGNhbm5vdCBiZSBlbXB0eSIsUltUXT0iTnVtZXJpYyBjaGFyYWN0ZXIgcmVmZXJlbmNlcyBjYW5ub3QgYmUgZW1wdHkiLFJbTV09Ik5hbWVkIGNoYXJhY3RlciByZWZlcmVuY2VzIG11c3QgYmUga25vd24iLFJbTF09Ik51bWVyaWMgY2hhcmFjdGVyIHJlZmVyZW5jZXMgY2Fubm90IGJlIGRpc2FsbG93ZWQiLFJbel09Ik51bWVyaWMgY2hhcmFjdGVyIHJlZmVyZW5jZXMgY2Fubm90IGJlIG91dHNpZGUgdGhlIHBlcm1pc3NpYmxlIFVuaWNvZGUgcmFuZ2UifSxaWm1nOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKSxvPU1hdGgucmFuZG9tO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0O2Rve3Q9bygpLnRvU3RyaW5nKDM2KS5zbGljZSgyKX13aGlsZShyW3RdKTtyZXR1cm4gdH19LFphc3k6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe2lmKCJzdHJpbmciPT09dHlwZW9mIHQpcmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gQm9vbGVhbihlJiZlLnR5cGU9PT10KX19KHQpO2lmKG51bGw9PT10fHx2b2lkIDA9PT10KXJldHVybiBhO2lmKCJvYmplY3QiPT09dHlwZW9mIHQpcmV0dXJuKCJsZW5ndGgiaW4gdD9pOm8pKHQpO2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgdClyZXR1cm4gdDt0aHJvdyBuZXcgRXJyb3IoIkV4cGVjdGVkIGZ1bmN0aW9uLCBzdHJpbmcsIG9yIG9iamVjdCBhcyB0ZXN0Iil9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG47Zm9yKG4gaW4gdClpZihlW25dIT09dFtuXSlyZXR1cm4hMTtyZXR1cm4hMH19ZnVuY3Rpb24gaSh0KXt2YXIgZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj10Lmxlbmd0aCxvPS0xOysrbzxuOyllW29dPXIodFtvXSk7cmV0dXJuIGV9KHQpLG49ZS5sZW5ndGg7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9LTE7Zm9yKDsrK3Q8bjspaWYoZVt0XS5hcHBseSh0aGlzLGFyZ3VtZW50cykpcmV0dXJuITA7cmV0dXJuITF9fWZ1bmN0aW9uIGEoKXtyZXR1cm4hMH10LmV4cG9ydHM9cn0sWmJtTTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixhLHMpe2lmKHQuaWQpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHNlbGVjdG9yOiBpZCIpO2lmKHQuY2xhc3NOYW1lcyl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc2VsZWN0b3I6IGNsYXNzIik7cmV0dXJuIEJvb2xlYW4oZSYmKCF0LnRhZ05hbWV8fHIodCxlKSkmJighdC5hdHRyc3x8byh0LGUpKSYmKCF0LnBzZXVkb3N8fGkodCxlLG4sYSxzKSkpfTt2YXIgcj1uKCJPUkt3Iiksbz1uKCJwcllUIiksaT1uKCJNNjI4Iil9LFpjQUM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9czt2YXIgcj1uKCJpRUViIiksbz1yLkNPTlRJTlVFLGk9ci5TS0lQLGE9ci5FWElUO2Z1bmN0aW9uIHModCxlLG4sbyl7ImZ1bmN0aW9uIj09PXR5cGVvZiBlJiYiZnVuY3Rpb24iIT09dHlwZW9mIG4mJihvPW4sbj1lLGU9bnVsbCkscih0LGUsKGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVtlLmxlbmd0aC0xXSxvPXI/ci5jaGlsZHJlbi5pbmRleE9mKHQpOm51bGw7cmV0dXJuIG4odCxvLHIpfSksbyl9cy5DT05USU5VRT1vLHMuU0tJUD1pLHMuRVhJVD1hfSxaY1AyOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiSlJKbyIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gYStvKyh0aGlzLmVuY29kZSh0LmFsdCx0KXx8IiIpK2krcih0KX07dmFyIG89IlsiLGk9Il0iLGE9IiEifSxacGNKOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPXM7dmFyIHI9bigiSmY3aiIpLG89ci5DT05USU5VRSxpPXIuU0tJUCxhPXIuRVhJVDtmdW5jdGlvbiBzKHQsZSxuLG8peyJmdW5jdGlvbiI9PT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9PXR5cGVvZiBuJiYobz1uLG49ZSxlPW51bGwpLHIodCxlLChmdW5jdGlvbih0LGUpe3ZhciByPWVbZS5sZW5ndGgtMV0sbz1yP3IuY2hpbGRyZW4uaW5kZXhPZih0KTpudWxsO3JldHVybiBuKHQsbyxyKX0pLG8pfXMuQ09OVElOVUU9byxzLlNLSVA9aSxzLkVYSVQ9YX0sWnppNDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuPTAscz0wLGM9dC5jaGFyQXQobiksdT17fTtmb3IoO2M9PT1yfHxjPT09bzspcys9ZT1jPT09cj9hOmksZT4xJiYocz1NYXRoLmZsb29yKHMvZSkqZSksdVtzXT1uLGM9dC5jaGFyQXQoKytuKTtyZXR1cm57aW5kZW50OnMsc3RvcHM6dX19O3ZhciByPSJcdCIsbz0iICIsaT0xLGE9NH0sYTZCQzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImxZbG8iKSxvPS9eXHMqY2xhc3NbXHN7L31dLyxpPUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuISFyKHQpJiYhby50ZXN0KGkuY2FsbCh0KSl9fSxhRmprOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPW4oInpzOEYiKSgiZm9yRWFjaCIpfSxhSTdYOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9IkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgIixvPUFycmF5LnByb3RvdHlwZS5zbGljZSxpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoImZ1bmN0aW9uIiE9PXR5cGVvZiBlfHwiW29iamVjdCBGdW5jdGlvbl0iIT09aS5jYWxsKGUpKXRocm93IG5ldyBUeXBlRXJyb3IocitlKTtmb3IodmFyIG4sYT1vLmNhbGwoYXJndW1lbnRzLDEpLHM9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2Ygbil7dmFyIHI9ZS5hcHBseSh0aGlzLGEuY29uY2F0KG8uY2FsbChhcmd1bWVudHMpKSk7cmV0dXJuIE9iamVjdChyKT09PXI/cjp0aGlzfXJldHVybiBlLmFwcGx5KHQsYS5jb25jYXQoby5jYWxsKGFyZ3VtZW50cykpKX0sYz1NYXRoLm1heCgwLGUubGVuZ3RoLWEubGVuZ3RoKSx1PVtdLGw9MDtsPGM7bCsrKXUucHVzaCgiJCIrbCk7aWYobj1GdW5jdGlvbigiYmluZGVyIiwicmV0dXJuIGZ1bmN0aW9uICgiK3Uuam9pbigiLCIpKyIpeyByZXR1cm4gYmluZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsgfSIpKHMpLGUucHJvdG90eXBlKXt2YXIgZj1mdW5jdGlvbigpe307Zi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbi5wcm90b3R5cGU9bmV3IGYsZi5wcm90b3R5cGU9bnVsbH1yZXR1cm4gbn19LGFMbDk6ZnVuY3Rpb24odCl7dC5leHBvcnRzPUpTT04ucGFyc2UoJ1siY2VudCIsImNvcHkiLCJkaXZpZGUiLCJndCIsImx0Iiwibm90IiwicGFyYSIsInRpbWVzIl0nKX0sYU8wMzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPWV8fHt9O2Z1bmN0aW9uIGkoZSl7dmFyIG49aS5pbnZhbGlkLGE9aS5oYW5kbGVycztyZXR1cm4gZSYmby5jYWxsKGUsdCkmJihuPW8uY2FsbChhLGVbdF0pP2FbZVt0XV06aS51bmtub3duKSwobnx8cikuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBpLmhhbmRsZXJzPW4uaGFuZGxlcnN8fHt9LGkuaW52YWxpZD1uLmludmFsaWQsaS51bmtub3duPW4udW5rbm93bixpfTt2YXIgcj1GdW5jdGlvbi5wcm90b3R5cGUsbz17fS5oYXNPd25Qcm9wZXJ0eX0sYU9ZZzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIklXQi8iKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcih0KyIgaXMgbm90IGFuIE9iamVjdCIpO3JldHVybiB0fX0sYVB6aDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT0ic3RyaW5nIj09PXR5cGVvZiB0P3QuY2hhckNvZGVBdCgwKTp0O3JldHVybiBlPj05NyYmZTw9MTIyfHxlPj02NSYmZTw9OTB9fSxhU3NlOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxvPXIuY2FsbCgiIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT09dHlwZW9mIHR8fHQmJiJvYmplY3QiPT09dHlwZW9mIHQmJih0IGluc3RhbmNlb2YgU3RyaW5nfHxyLmNhbGwodCk9PT1vKXx8ITF9fSxhVkV6OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5pbmRleE9mKCJbIixlKSxyPXQuaW5kZXhPZigiIVsiLGUpO2lmKC0xPT09cilyZXR1cm4gbjtyZXR1cm4gbjxyP246cn19LCJhWC9rIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIGwsZixwLGgsZD0tMSx2PWUubGVuZ3RoKzEseT0iIjtmb3IoOysrZDx2JiYoKGw9ZS5jaGFyQXQoZCkpPT09cnx8bD09PWkpOyl5Kz1sO2lmKGwhPT1hJiZsIT09cyYmbCE9PWMpcmV0dXJuO2Y9bCx5Kz1sLHA9MSxoPSIiO2Zvcig7KytkPHY7KWlmKChsPWUuY2hhckF0KGQpKT09PWYpcCsrLHkrPWgrZixoPSIiO2Vsc2V7aWYobCE9PWkpcmV0dXJuIHA+PXUmJighbHx8bD09PW8pPyh5Kz1oLCEhbnx8dCh5KSh7dHlwZToidGhlbWF0aWNCcmVhayJ9KSk6dm9pZCAwO2grPWx9fTt2YXIgcj0iXHQiLG89IlxuIixpPSIgIixhPSIqIixzPSItIixjPSJfIix1PTN9LGFidXg6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtlLm1hdGNoZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gQm9vbGVhbihyKG8odCksZSx7b25lOiEwLHNoYWxsb3c6ITB9KVswXSl9LGUuc2VsZWN0QWxsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIobyh0KSxlLHt9KX0sZS5zZWxlY3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcihvKHQpLGUse29uZTohMH0pWzBdfHxudWxsfTt2YXIgcj1uKCJITDh6Iiksbz1uKCIzWGxWIil9LGFieE06ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIraSt0aGlzLmFsbCh0KS5qb2luKCIiKStvfTt2YXIgcj0iWyIsbz0iXSIsaT0iXiJ9LGFjQ0g6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtlLl9fZXNNb2R1bGU9ITA7dmFyIHI9bigicTF0SSIpLG89KGEociksYShuKCIxN3g5IikpKSxpPWEobigiZlp0diIpKTthKG4oIjJXNnoiKSk7ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gcyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGModCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiFlfHwib2JqZWN0IiE9PXR5cGVvZiBlJiYiZnVuY3Rpb24iIT09dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHUodCxlKXtpZigiZnVuY3Rpb24iIT09dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX12YXIgbD0xMDczNzQxODIzO2UuZGVmYXVsdD1mdW5jdGlvbih0LGUpe3ZhciBuLGEsZj0iX19jcmVhdGUtcmVhY3QtY29udGV4dC0iKygwLGkuZGVmYXVsdCkoKSsiX18iLHA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbigpe3ZhciBlLHI7cyh0aGlzLG4pO2Zvcih2YXIgbz1hcmd1bWVudHMubGVuZ3RoLGk9QXJyYXkobyksYT0wO2E8bzthKyspaVthXT1hcmd1bWVudHNbYV07cmV0dXJuIGU9cj1jKHRoaXMsdC5jYWxsLmFwcGx5KHQsW3RoaXNdLmNvbmNhdChpKSkpLHIuZW1pdHRlcj1mdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm57b246ZnVuY3Rpb24odCl7ZS5wdXNoKHQpfSxvZmY6ZnVuY3Rpb24odCl7ZT1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT10fSkpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdH0sc2V0OmZ1bmN0aW9uKG4scil7dD1uLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCxyKX0pKX19fShyLnByb3BzLnZhbHVlKSxjKHIsZSl9cmV0dXJuIHUobix0KSxuLnByb3RvdHlwZS5nZXRDaGlsZENvbnRleHQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD17fSlbZl09dGhpcy5lbWl0dGVyLHR9LG4ucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM9ZnVuY3Rpb24odCl7aWYodGhpcy5wcm9wcy52YWx1ZSE9PXQudmFsdWUpe3ZhciBuPXRoaXMucHJvcHMudmFsdWUscj10LnZhbHVlLG89dm9pZCAwOygoaT1uKT09PShhPXIpPzAhPT1pfHwxL2k9PT0xL2E6aSE9PWkmJmEhPT1hKT9vPTA6KG89ImZ1bmN0aW9uIj09PXR5cGVvZiBlP2UobixyKTpsLDAhPT0ob3w9MCkmJnRoaXMuZW1pdHRlci5zZXQodC52YWx1ZSxvKSl9dmFyIGksYX0sbi5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW59LG59KHIuQ29tcG9uZW50KTtwLmNoaWxkQ29udGV4dFR5cGVzPSgobj17fSlbZl09by5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLG4pO3ZhciBoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4oKXt2YXIgdCxyO3ModGhpcyxuKTtmb3IodmFyIG89YXJndW1lbnRzLmxlbmd0aCxpPUFycmF5KG8pLGE9MDthPG87YSsrKWlbYV09YXJndW1lbnRzW2FdO3JldHVybiB0PXI9Yyh0aGlzLGUuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQoaSkpKSxyLnN0YXRlPXt2YWx1ZTpyLmdldFZhbHVlKCl9LHIub25VcGRhdGU9ZnVuY3Rpb24odCxlKXswIT09KCgwfHIub2JzZXJ2ZWRCaXRzKSZlKSYmci5zZXRTdGF0ZSh7dmFsdWU6ci5nZXRWYWx1ZSgpfSl9LGMocix0KX1yZXR1cm4gdShuLGUpLG4ucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5vYnNlcnZlZEJpdHM7dGhpcy5vYnNlcnZlZEJpdHM9dm9pZCAwPT09ZXx8bnVsbD09PWU/bDplfSxuLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3RoaXMuY29udGV4dFtmXSYmdGhpcy5jb250ZXh0W2ZdLm9uKHRoaXMub25VcGRhdGUpO3ZhciB0PXRoaXMucHJvcHMub2JzZXJ2ZWRCaXRzO3RoaXMub2JzZXJ2ZWRCaXRzPXZvaWQgMD09PXR8fG51bGw9PT10P2w6dH0sbi5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXt0aGlzLmNvbnRleHRbZl0mJnRoaXMuY29udGV4dFtmXS5vZmYodGhpcy5vblVwZGF0ZSl9LG4ucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dFtmXT90aGlzLmNvbnRleHRbZl0uZ2V0KCk6dH0sbi5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuKHQ9dGhpcy5wcm9wcy5jaGlsZHJlbixBcnJheS5pc0FycmF5KHQpP3RbMF06dCkodGhpcy5zdGF0ZS52YWx1ZSk7dmFyIHR9LG59KHIuQ29tcG9uZW50KTtyZXR1cm4gaC5jb250ZXh0VHlwZXM9KChhPXt9KVtmXT1vLmRlZmF1bHQub2JqZWN0LGEpLHtQcm92aWRlcjpwLENvbnN1bWVyOmh9fSx0LmV4cG9ydHM9ZS5kZWZhdWx0fSxha05uOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiSVBBciIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIG8saSxhLHMsYz1lLmNoYXJBdCgwKTtpZigiXG4iIT09YylyZXR1cm47aWYobilyZXR1cm4hMDtzPTEsbz1lLmxlbmd0aCxpPWMsYT0iIjtmb3IoO3M8byYmKGM9ZS5jaGFyQXQocykscihjKSk7KWErPWMsIlxuIj09PWMmJihpKz1hLGE9IiIpLHMrKzt0KGkpfX0sYW9wTjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixhLHMpe2lmKHQuaWQpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHNlbGVjdG9yOiBpZCIpO2lmKHQuY2xhc3NOYW1lcyl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc2VsZWN0b3I6IGNsYXNzIik7cmV0dXJuIEJvb2xlYW4oZSYmKCF0LnRhZ05hbWV8fHIodCxlKSkmJighdC5hdHRyc3x8byh0LGUpKSYmKCF0LnBzZXVkb3N8fGkodCxlLG4sYSxzKSkpfTt2YXIgcj1uKCJlUUM4Iiksbz1uKCJub0xmIiksaT1uKCJ3VHoxIil9LGF6RDM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gYSh0LGUsbixyLG8pfTt2YXIgcj1uKCJkMHlZIiksbz17fS5oYXNPd25Qcm9wZXJ0eSxpPVtdLnNsaWNlLGE9cigibmVzdGluZ09wZXJhdG9yIikscz1hLmhhbmRsZXJzO2Z1bmN0aW9uIGModCxlLG4scixvKXt2YXIgYT1vLml0ZXJhdG9yO28uaXRlcmF0b3I9ZnVuY3Rpb24gZSgpe2lmKG8uaXRlcmF0b3I9YSxhLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxvLml0ZXJhdG9yPWUsby5vbmUmJm8uZm91bmQpcmV0dXJuO3UuYXBwbHkodGhpcyxbdF0uY29uY2F0KGkuY2FsbChhcmd1bWVudHMsMSkpKX0sdS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdSh0LGUsbixyLG8pe2UuY2hpbGRyZW4mJjAhPT1lLmNoaWxkcmVuLmxlbmd0aCYmbCh0LGUsbykuZWFjaCgpLmRvbmUoKX1mdW5jdGlvbiBsKHQsZSxuKXt2YXIgcj1lLmNoaWxkcmVuLGk9bi5pbmRleD9mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiBlLmNvdW50PWZ1bmN0aW9uKGUpe3JldHVybiB0W2UudHlwZV19LGUubm9kZXM9MCxlO2Z1bmN0aW9uIGUobil7dmFyIHI9bi50eXBlO3JldHVybiBlLm5vZGVzKyssby5jYWxsKHQscil8fCh0W3JdPTApLHRbcl0rK319KCk6bnVsbCxhPVtdO3JldHVybntwcmVmaWxsVHlwZUluZGV4OnMoKGZ1bmN0aW9uKHQsZSl7aWYoaSlmb3IoO3Q8ZTspaShyW3RdKSx0Kys7cmV0dXJuIHRoaXN9KSksZWFjaDpzKChmdW5jdGlvbiBvKHMsYyl7dmFyIHUsbCxmPXJbc107aWYocz49YylyZXR1cm4gdGhpcztpPyhsPWkubm9kZXMsdT1pKGYpLGEucHVzaCgoZnVuY3Rpb24oKXtuLnR5cGVJbmRleD11LG4ubm9kZUluZGV4PWwsbi50eXBlQ291bnQ9aS5jb3VudChmKSxuLm5vZGVDb3VudD1pLm5vZGVzLHAoKX0pKSk6cCgpO2lmKG4ub25lJiZuLmZvdW5kKXJldHVybiB0aGlzO3JldHVybiBvLmNhbGwodGhpcyxzKzEsYyk7ZnVuY3Rpb24gcCgpe24uaXRlcmF0b3IodCxmLHMsZSxuKX19KSksZG9uZTpmdW5jdGlvbigpe3ZhciB0PWEubGVuZ3RoLGU9LTE7Zm9yKDsrK2U8dCYmKGFbZV0oKSwhbi5vbmV8fCFuLmZvdW5kKTspO3JldHVybiB0aGlzfX07ZnVuY3Rpb24gcyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXsobnVsbD09PWV8fHZvaWQgMD09PWV8fGU8MCkmJihlPTApOyhudWxsPT09bnx8dm9pZCAwPT09bnx8bj5yLmxlbmd0aCkmJihuPXIubGVuZ3RoKTtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuKX19fWEudW5rbm93bj1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoIlVuZXhwZWN0ZWQgbmVzdGluZyBgIit0Lm5lc3RpbmdPcGVyYXRvcisiYCIpfSxhLmludmFsaWQ9ZnVuY3Rpb24odCxlLG4scixvKXtpZihyKXRocm93IG5ldyBFcnJvcigidG9wU2NhbiBpcyBzdXBwb3NlZCB0byBiZSBjYWxsZWQgZnJvbSB0aGUgcm9vdCBub2RlIik7by5pdGVyYXRvci5hcHBseShudWxsLGFyZ3VtZW50cyksby5zaGFsbG93fHxjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scy5udWxsPWMsc1siPiJdPXUsc1siKyJdPWZ1bmN0aW9uKHQsZSxuLHIsbyl7aWYoIXIpcmV0dXJuO2wodCxyLG8pLnByZWZpbGxUeXBlSW5kZXgoMCwrK24pLmVhY2gobiwrK24pLnByZWZpbGxUeXBlSW5kZXgobikuZG9uZSgpfSxzWyJ+Il09ZnVuY3Rpb24odCxlLG4scixvKXtpZighcilyZXR1cm47bCh0LHIsbykucHJlZmlsbFR5cGVJbmRleCgwLCsrbikuZWFjaChuKS5kb25lKCl9fSxiYmN4OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQhPT10fTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09PXQmJjA9PT1lPzEvdD09PTEvZTp0PT09ZXx8ISghcih0KXx8IXIoZSkpfX0sYmZXMDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImJ0REYiKSxvPW4oImQyOTIiKTtmdW5jdGlvbiBpKHQsZSl7dGhpcy5pbkxpbms9ITEsdGhpcy5pblRhYmxlPSExLHRoaXMudHJlZT10LHRoaXMuZmlsZT1lLHRoaXMub3B0aW9ucz1yKHRoaXMub3B0aW9ucyksdGhpcy5zZXRPcHRpb25zKHt9KX10LmV4cG9ydHM9aTt2YXIgYT1pLnByb3RvdHlwZTthLmVudGVyTGluaz1vKCJpbkxpbmsiLCExKSxhLmVudGVyVGFibGU9bygiaW5UYWJsZSIsITEpLGEuZW50ZXJMaW5rUmVmZXJlbmNlPW4oImlNdlIiKSxhLm9wdGlvbnM9bigiTWtQaSIpLGEuc2V0T3B0aW9ucz1uKCJJSGtqIiksYS5jb21waWxlPW4oIkpPdWUiKSxhLnZpc2l0PW4oIjdMaWQiKSxhLmFsbD1uKCJrMFZTIiksYS5ibG9jaz1uKCJoRVpIIiksYS52aXNpdE9yZGVyZWRJdGVtcz1uKCJvSWRYIiksYS52aXNpdFVub3JkZXJlZEl0ZW1zPW4oInhTSmEiKSxhLnZpc2l0b3JzPXtyb290Om4oIlJZWEsiKSx0ZXh0Om4oIk9FRVMiKSxoZWFkaW5nOm4oIm5HYmMiKSxwYXJhZ3JhcGg6bigiZlZzbyIpLGJsb2NrcXVvdGU6bigidDJqaCIpLGxpc3Q6bigiK3FsRCIpLGxpc3RJdGVtOm4oImhVbFMiKSxpbmxpbmVDb2RlOm4oIldWUFoiKSxjb2RlOm4oInBQMUciKSxodG1sOm4oIlFqMHMiKSx0aGVtYXRpY0JyZWFrOm4oIlR5QXkiKSxzdHJvbmc6bigieDg3WSIpLGVtcGhhc2lzOm4oImd0Rk8iKSxicmVhazpuKCJtTWNUIiksZGVsZXRlOm4oIlIzV0siKSxsaW5rOm4oInFnMXMiKSxsaW5rUmVmZXJlbmNlOm4oIjYxWTEiKSxpbWFnZVJlZmVyZW5jZTpuKCJaY1AyIiksZGVmaW5pdGlvbjpuKCJ0VVBaIiksaW1hZ2U6bigidmEyNiIpLGZvb3Rub3RlOm4oImFieE0iKSxmb290bm90ZVJlZmVyZW5jZTpuKCJkcEpZIiksZm9vdG5vdGVEZWZpbml0aW9uOm4oIkZJeTkiKSx0YWJsZTpuKCI1em5UIiksdGFibGVDZWxsOm4oIm9hS2giKX19LGJ0REY6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9e30sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciByPWFyZ3VtZW50c1tlXTtmb3IodmFyIG8gaW4gciluLmNhbGwocixvKSYmKHRbb109cltvXSl9cmV0dXJuIHR9O3ZhciBuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHl9LGJ0RlM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJ0NGdjIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCB1c2UgbnVsbCBvciB1bmRlZmluZWQiKTtyZXR1cm4gdH19LGJ4M3c6ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5wc2V1ZG9zPXt9LHRoaXMuYXR0ckVxdWFsaXR5TW9kcz17fSx0aGlzLnJ1bGVOZXN0aW5nT3BlcmF0b3JzPXt9LHRoaXMuc3Vic3RpdHV0ZXNFbmFibGVkPSExfWZ1bmN0aW9uIHIodCl7cmV0dXJuIHQ+PSJhIiYmdDw9ImYifHx0Pj0iQSImJnQ8PSJGInx8dD49IjAiJiZ0PD0iOSJ9bi5wcm90b3R5cGUucmVnaXN0ZXJTZWxlY3RvclBzZXVkb3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj1hcmd1bWVudHMubGVuZ3RoO2U8bjtlKyspdD1hcmd1bWVudHNbZV0sdGhpcy5wc2V1ZG9zW3RdPSJzZWxlY3RvciI7cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLnVucmVnaXN0ZXJTZWxlY3RvclBzZXVkb3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj1hcmd1bWVudHMubGVuZ3RoO2U8bjtlKyspdD1hcmd1bWVudHNbZV0sZGVsZXRlIHRoaXMucHNldWRvc1t0XTtyZXR1cm4gdGhpc30sbi5wcm90b3R5cGUucmVnaXN0ZXJOdW1lcmljUHNldWRvcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPWFyZ3VtZW50cy5sZW5ndGg7ZTxuO2UrKyl0PWFyZ3VtZW50c1tlXSx0aGlzLnBzZXVkb3NbdF09Im51bWVyaWMiO3JldHVybiB0aGlzfSxuLnByb3RvdHlwZS51bnJlZ2lzdGVyTnVtZXJpY1BzZXVkb3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj1hcmd1bWVudHMubGVuZ3RoO2U8bjtlKyspdD1hcmd1bWVudHNbZV0sZGVsZXRlIHRoaXMucHNldWRvc1t0XTtyZXR1cm4gdGhpc30sbi5wcm90b3R5cGUucmVnaXN0ZXJOZXN0aW5nT3BlcmF0b3JzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49YXJndW1lbnRzLmxlbmd0aDtlPG47ZSsrKXQ9YXJndW1lbnRzW2VdLHRoaXMucnVsZU5lc3RpbmdPcGVyYXRvcnNbdF09ITA7cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLnVucmVnaXN0ZXJOZXN0aW5nT3BlcmF0b3JzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49YXJndW1lbnRzLmxlbmd0aDtlPG47ZSsrKXQ9YXJndW1lbnRzW2VdLGRlbGV0ZSB0aGlzLnJ1bGVOZXN0aW5nT3BlcmF0b3JzW3RdO3JldHVybiB0aGlzfSxuLnByb3RvdHlwZS5yZWdpc3RlckF0dHJFcXVhbGl0eU1vZHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj1hcmd1bWVudHMubGVuZ3RoO2U8bjtlKyspdD1hcmd1bWVudHNbZV0sdGhpcy5hdHRyRXF1YWxpdHlNb2RzW3RdPSEwO3JldHVybiB0aGlzfSxuLnByb3RvdHlwZS51bnJlZ2lzdGVyQXR0ckVxdWFsaXR5TW9kcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPWFyZ3VtZW50cy5sZW5ndGg7ZTxuO2UrKyl0PWFyZ3VtZW50c1tlXSxkZWxldGUgdGhpcy5hdHRyRXF1YWxpdHlNb2RzW3RdO3JldHVybiB0aGlzfSxuLnByb3RvdHlwZS5lbmFibGVTdWJzdGl0dXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN1YnN0aXR1dGVzRW5hYmxlZD0hMCx0aGlzfSxuLnByb3RvdHlwZS5kaXNhYmxlU3Vic3RpdHV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdWJzdGl0dXRlc0VuYWJsZWQ9ITEsdGhpc307dmFyIG89eyIhIjohMCwnIic6ITAsIiMiOiEwLCQ6ITAsIiUiOiEwLCImIjohMCwiJyI6ITAsIigiOiEwLCIpIjohMCwiKiI6ITAsIisiOiEwLCIsIjohMCwiLiI6ITAsIi8iOiEwLCI7IjohMCwiPCI6ITAsIj0iOiEwLCI+IjohMCwiPyI6ITAsIkAiOiEwLCJbIjohMCwiXFwiOiEwLCJdIjohMCwiXiI6ITAsImAiOiEwLCJ7IjohMCwifCI6ITAsIn0iOiEwLCJ+IjohMH0saT17IlxuIjoiXFxuIiwiXHIiOiJcXHIiLCJcdCI6IlxcdCIsIlxmIjoiXFxmIiwiXHYiOiJcXHYifSxhPXtuOiJcbiIscjoiXHIiLHQ6Ilx0IixmOiJcZiIsIlxcIjoiXFwiLCInIjoiJyJ9LHM9e246IlxuIixyOiJcciIsdDoiXHQiLGY6IlxmIiwiXFwiOiJcXCIsJyInOiciJ307ZnVuY3Rpb24gYyh0LGUsbixpLGMsdSl7dmFyIGwsZixwLGgsZDtyZXR1cm4gaD10Lmxlbmd0aCxsPW51bGwscD1mdW5jdGlvbihuLG8pe3ZhciBpLGEscztmb3Iocz0iIixlKyssbD10LmNoYXJBdChlKTtlPGg7KXtpZihsPT09bilyZXR1cm4gZSsrLHM7aWYoIlxcIj09PWwpaWYoZSsrLChsPXQuY2hhckF0KGUpKT09PW4pcys9bjtlbHNlIGlmKGk9b1tsXSlzKz1pO2Vsc2V7aWYocihsKSl7Zm9yKGE9bCxlKyssbD10LmNoYXJBdChlKTtyKGwpOylhKz1sLGUrKyxsPXQuY2hhckF0KGUpOyIgIj09PWwmJihlKyssbD10LmNoYXJBdChlKSkscys9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChhLDE2KSk7Y29udGludWV9cys9bH1lbHNlIHMrPWw7ZSsrLGw9dC5jaGFyQXQoZSl9cmV0dXJuIHN9LGY9ZnVuY3Rpb24oKXt2YXIgbixpPSIiO2ZvcihsPXQuY2hhckF0KGUpO2U8aDspe2lmKChuPWwpPj0iYSImJm48PSJ6Inx8bj49IkEiJiZuPD0iWiJ8fG4+PSIwIiYmbjw9IjkifHwiLSI9PT1ufHwiXyI9PT1uKWkrPWw7ZWxzZXtpZigiXFwiIT09bClyZXR1cm4gaTtpZigrK2U+PWgpdGhyb3cgRXJyb3IoIkV4cGVjdGVkIHN5bWJvbCBidXQgZW5kIG9mIGZpbGUgcmVhY2hlZC4iKTtpZihsPXQuY2hhckF0KGUpLG9bbF0paSs9bDtlbHNle2lmKHIobCkpe3ZhciBhPWw7Zm9yKGUrKyxsPXQuY2hhckF0KGUpO3IobCk7KWErPWwsZSsrLGw9dC5jaGFyQXQoZSk7IiAiPT09bCYmKGUrKyxsPXQuY2hhckF0KGUpKSxpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGEsMTYpKTtjb250aW51ZX1pKz1sfX1lKyssbD10LmNoYXJBdChlKX1yZXR1cm4gaX0sZD1mdW5jdGlvbigpe2w9dC5jaGFyQXQoZSk7Zm9yKHZhciBuPSExOyIgIj09PWx8fCJcdCI9PT1sfHwiXG4iPT09bHx8IlxyIj09PWx8fCJcZiI9PT1sOyluPSEwLGUrKyxsPXQuY2hhckF0KGUpO3JldHVybiBufSx0aGlzLnBhcnNlPWZ1bmN0aW9uKCl7dmFyIG49dGhpcy5wYXJzZVNlbGVjdG9yKCk7aWYoZTxoKXRocm93IEVycm9yKCdSdWxlIGV4cGVjdGVkIGJ1dCAiJyt0LmNoYXJBdChlKSsnIiBmb3VuZC4nKTtyZXR1cm4gbn0sdGhpcy5wYXJzZVNlbGVjdG9yPWZ1bmN0aW9uKCl7dmFyIG4scj1uPXRoaXMucGFyc2VTaW5nbGVTZWxlY3RvcigpO2ZvcihsPXQuY2hhckF0KGUpOyIsIj09PWw7KXtpZihlKyssZCgpLCJzZWxlY3RvcnMiIT09bi50eXBlJiYobj17dHlwZToic2VsZWN0b3JzIixzZWxlY3RvcnM6W3JdfSksIShyPXRoaXMucGFyc2VTaW5nbGVTZWxlY3RvcigpKSl0aHJvdyBFcnJvcignUnVsZSBleHBlY3RlZCBhZnRlciAiLCIuJyk7bi5zZWxlY3RvcnMucHVzaChyKX1yZXR1cm4gbn0sdGhpcy5wYXJzZVNpbmdsZVNlbGVjdG9yPWZ1bmN0aW9uKCl7ZCgpO3ZhciBuPXt0eXBlOiJydWxlU2V0In0scj10aGlzLnBhcnNlUnVsZSgpO2lmKCFyKXJldHVybiBudWxsO2Zvcih2YXIgbz1uO3ImJihyLnR5cGU9InJ1bGUiLG8ucnVsZT1yLG89cixkKCksbD10LmNoYXJBdChlKSwhKGU+PWh8fCIsIj09PWx8fCIpIj09PWwpKTspaWYoY1tsXSl7dmFyIGk9bDtpZihlKyssZCgpLCEocj10aGlzLnBhcnNlUnVsZSgpKSl0aHJvdyBFcnJvcignUnVsZSBleHBlY3RlZCBhZnRlciAiJytpKyciLicpO3IubmVzdGluZ09wZXJhdG9yPWl9ZWxzZShyPXRoaXMucGFyc2VSdWxlKCkpJiYoci5uZXN0aW5nT3BlcmF0b3I9bnVsbCk7cmV0dXJuIG59LHRoaXMucGFyc2VSdWxlPWZ1bmN0aW9uKCl7Zm9yKHZhciByLG89bnVsbDtlPGg7KWlmKCIqIj09PShsPXQuY2hhckF0KGUpKSllKyssKG89b3x8e30pLnRhZ05hbWU9IioiO2Vsc2UgaWYoKHI9bCk+PSJhIiYmcjw9InoifHxyPj0iQSImJnI8PSJaInx8Ii0iPT09cnx8Il8iPT09cnx8IlxcIj09PWwpKG89b3x8e30pLnRhZ05hbWU9ZigpO2Vsc2UgaWYoIi4iPT09bCllKyssKChvPW98fHt9KS5jbGFzc05hbWVzPW8uY2xhc3NOYW1lc3x8W10pLnB1c2goZigpKTtlbHNlIGlmKCIjIj09PWwpZSsrLChvPW98fHt9KS5pZD1mKCk7ZWxzZSBpZigiWyI9PT1sKXtlKyssZCgpO3ZhciBjPXtuYW1lOmYoKX07aWYoZCgpLCJdIj09PWwpZSsrO2Vsc2V7dmFyIHY9IiI7aWYoaVtsXSYmKHY9bCxlKyssbD10LmNoYXJBdChlKSksZT49aCl0aHJvdyBFcnJvcignRXhwZWN0ZWQgIj0iIGJ1dCBlbmQgb2YgZmlsZSByZWFjaGVkLicpO2lmKCI9IiE9PWwpdGhyb3cgRXJyb3IoJ0V4cGVjdGVkICI9IiBidXQgIicrbCsnIiBmb3VuZC4nKTtjLm9wZXJhdG9yPXYrIj0iLGUrKyxkKCk7dmFyIHk9IiI7aWYoYy52YWx1ZVR5cGU9InN0cmluZyIsJyInPT09bCl5PXAoJyInLHMpO2Vsc2UgaWYoIiciPT09bCl5PXAoIiciLGEpO2Vsc2UgaWYodSYmIiQiPT09bCllKysseT1mKCksYy52YWx1ZVR5cGU9InN1YnN0aXR1dGUiO2Vsc2V7Zm9yKDtlPGgmJiJdIiE9PWw7KXkrPWwsZSsrLGw9dC5jaGFyQXQoZSk7eT15LnRyaW0oKX1pZihkKCksZT49aCl0aHJvdyBFcnJvcignRXhwZWN0ZWQgIl0iIGJ1dCBlbmQgb2YgZmlsZSByZWFjaGVkLicpO2lmKCJdIiE9PWwpdGhyb3cgRXJyb3IoJ0V4cGVjdGVkICJdIiBidXQgIicrbCsnIiBmb3VuZC4nKTtlKyssYy52YWx1ZT15fSgobz1vfHx7fSkuYXR0cnM9by5hdHRyc3x8W10pLnB1c2goYyl9ZWxzZXtpZigiOiIhPT1sKWJyZWFrO2UrKzt2YXIgbT1mKCksZz17bmFtZTptfTtpZigiKCI9PT1sKXtlKys7dmFyIGI9IiI7aWYoZCgpLCJzZWxlY3RvciI9PT1uW21dKWcudmFsdWVUeXBlPSJzZWxlY3RvciIsYj10aGlzLnBhcnNlU2VsZWN0b3IoKTtlbHNle2lmKGcudmFsdWVUeXBlPW5bbV18fCJzdHJpbmciLCciJz09PWwpYj1wKCciJyxzKTtlbHNlIGlmKCInIj09PWwpYj1wKCInIixhKTtlbHNlIGlmKHUmJiIkIj09PWwpZSsrLGI9ZigpLGcudmFsdWVUeXBlPSJzdWJzdGl0dXRlIjtlbHNle2Zvcig7ZTxoJiYiKSIhPT1sOyliKz1sLGUrKyxsPXQuY2hhckF0KGUpO2I9Yi50cmltKCl9ZCgpfWlmKGU+PWgpdGhyb3cgRXJyb3IoJ0V4cGVjdGVkICIpIiBidXQgZW5kIG9mIGZpbGUgcmVhY2hlZC4nKTtpZigiKSIhPT1sKXRocm93IEVycm9yKCdFeHBlY3RlZCAiKSIgYnV0ICInK2wrJyIgZm91bmQuJyk7ZSsrLGcudmFsdWU9Yn0oKG89b3x8e30pLnBzZXVkb3M9by5wc2V1ZG9zfHxbXSkucHVzaChnKX1yZXR1cm4gb30sdGhpc31uLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGModCwwLHRoaXMucHNldWRvcyx0aGlzLmF0dHJFcXVhbGl0eU1vZHMsdGhpcy5ydWxlTmVzdGluZ09wZXJhdG9ycyx0aGlzLnN1YnN0aXR1dGVzRW5hYmxlZCkucGFyc2UoKX0sbi5wcm90b3R5cGUuZXNjYXBlSWRlbnRpZmllcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9IiIsbj0wLHI9dC5sZW5ndGg7bjxyOyl7dmFyIGk9dC5jaGFyQXQobik7aWYob1tpXSllKz0iXFwiK2k7ZWxzZSBpZigiXyI9PT1pfHwiLSI9PT1pfHxpPj0iQSImJmk8PSJaInx8aT49ImEiJiZpPD0ieiJ8fDAhPT1uJiZpPj0iMCImJmk8PSI5IillKz1pO2Vsc2V7dmFyIGE9aS5jaGFyQ29kZUF0KDApO2lmKDU1Mjk2PT09KDYzNDg4JmEpKXt2YXIgcz10LmNoYXJDb2RlQXQobisrKTtpZig1NTI5NiE9PSg2NDUxMiZhKXx8NTYzMjAhPT0oNjQ1MTImcykpdGhyb3cgRXJyb3IoIlVDUy0yKGRlY29kZSk6IGlsbGVnYWwgc2VxdWVuY2UiKTthPSgoMTAyMyZhKTw8MTApKygxMDIzJnMpKzY1NTM2fWUrPSJcXCIrYS50b1N0cmluZygxNikrIiAifW4rK31yZXR1cm4gZX0sbi5wcm90b3R5cGUuZXNjYXBlU3RyPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuLHI9IiIsbz0wLGE9dC5sZW5ndGg7bzxhOyknIic9PT0oZT10LmNoYXJBdChvKSk/ZT0nXFwiJzoiXFwiPT09ZT9lPSJcXFxcIjoobj1pW2VdKSYmKGU9bikscis9ZSxvKys7cmV0dXJuJyInK3IrJyInfSxuLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JlbmRlckVudGl0eSh0KS50cmltKCl9LG4ucHJvdG90eXBlLl9yZW5kZXJFbnRpdHk9ZnVuY3Rpb24odCl7dmFyIGUsbixyO3N3aXRjaChyPSIiLHQudHlwZSl7Y2FzZSJydWxlU2V0Ijpmb3IoZT10LnJ1bGUsbj1bXTtlOyllLm5lc3RpbmdPcGVyYXRvciYmbi5wdXNoKGUubmVzdGluZ09wZXJhdG9yKSxuLnB1c2godGhpcy5fcmVuZGVyRW50aXR5KGUpKSxlPWUucnVsZTtyPW4uam9pbigiICIpO2JyZWFrO2Nhc2Uic2VsZWN0b3JzIjpyPXQuc2VsZWN0b3JzLm1hcCh0aGlzLl9yZW5kZXJFbnRpdHksdGhpcykuam9pbigiLCAiKTticmVhaztjYXNlInJ1bGUiOnQudGFnTmFtZSYmKHI9IioiPT09dC50YWdOYW1lPyIqIjp0aGlzLmVzY2FwZUlkZW50aWZpZXIodC50YWdOYW1lKSksdC5pZCYmKHIrPSIjIit0aGlzLmVzY2FwZUlkZW50aWZpZXIodC5pZCkpLHQuY2xhc3NOYW1lcyYmKHIrPXQuY2xhc3NOYW1lcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiIuIit0aGlzLmVzY2FwZUlkZW50aWZpZXIodCl9KSx0aGlzKS5qb2luKCIiKSksdC5hdHRycyYmKHIrPXQuYXR0cnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5vcGVyYXRvcj8ic3Vic3RpdHV0ZSI9PT10LnZhbHVlVHlwZT8iWyIrdGhpcy5lc2NhcGVJZGVudGlmaWVyKHQubmFtZSkrdC5vcGVyYXRvcisiJCIrdC52YWx1ZSsiXSI6IlsiK3RoaXMuZXNjYXBlSWRlbnRpZmllcih0Lm5hbWUpK3Qub3BlcmF0b3IrdGhpcy5lc2NhcGVTdHIodC52YWx1ZSkrIl0iOiJbIit0aGlzLmVzY2FwZUlkZW50aWZpZXIodC5uYW1lKSsiXSJ9KSx0aGlzKS5qb2luKCIiKSksdC5wc2V1ZG9zJiYocis9dC5wc2V1ZG9zLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWVUeXBlPyJzZWxlY3RvciI9PT10LnZhbHVlVHlwZT8iOiIrdGhpcy5lc2NhcGVJZGVudGlmaWVyKHQubmFtZSkrIigiK3RoaXMuX3JlbmRlckVudGl0eSh0LnZhbHVlKSsiKSI6InN1YnN0aXR1dGUiPT09dC52YWx1ZVR5cGU/IjoiK3RoaXMuZXNjYXBlSWRlbnRpZmllcih0Lm5hbWUpKyIoJCIrdC52YWx1ZSsiKSI6Im51bWVyaWMiPT09dC52YWx1ZVR5cGU/IjoiK3RoaXMuZXNjYXBlSWRlbnRpZmllcih0Lm5hbWUpKyIoIit0LnZhbHVlKyIpIjoiOiIrdGhpcy5lc2NhcGVJZGVudGlmaWVyKHQubmFtZSkrIigiK3RoaXMuZXNjYXBlSWRlbnRpZmllcih0LnZhbHVlKSsiKSI6IjoiK3RoaXMuZXNjYXBlSWRlbnRpZmllcih0Lm5hbWUpfSksdGhpcykuam9pbigiIikpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoJ1Vua25vd24gZW50aXR5IHR5cGU6ICInK3QudHlwZShOYU4pKX1yZXR1cm4gcn0sZS5Dc3NTZWxlY3RvclBhcnNlcj1ufSxieTF1OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiOUhSTCIpLG89bigiVkVsQyIpLGk9bigicTNFTiIpLGE9bigiT2QweiIpLHM9bigiWUNUTyIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLEkpe3ZhciBULE0sRCxCLFUscSxIPXQuZ2ZtLFc9dC5jb21tb25tYXJrLFk9dC5wZWRhbnRpYyxaPVc/W2csZF06W2ddLFg9SSYmSS5jaGlsZHJlbiwkPVgmJlguaW5kZXhPZihuKSxWPVgmJlhbJC0xXSxKPVgmJlhbJCsxXSxLPWUubGVuZ3RoLEc9YSh0KSxRPS0xLHR0PVtdLGV0PXR0O1Q9Vj9SKFYpJiZMLnRlc3QoVi52YWx1ZSk6IUl8fCJyb290Ij09PUkudHlwZXx8InBhcmFncmFwaCI9PT1JLnR5cGU7Zm9yKDsrK1E8Szspe2lmKE09ZS5jaGFyQXQoUSkscT0hMSwiXG4iPT09TSlUPSEwO2Vsc2UgaWYoTT09PV98fE09PT1qfHxNPT09dnx8TT09PWt8fE09PT14fHxNPT09cCYmcyhlLnNsaWNlKFEpKT4wfHxNPT09QSYmdGhpcy5pbkxpbmt8fEgmJk09PT1TJiZlLmNoYXJBdChRKzEpPT09U3x8SCYmTT09PUUmJih0aGlzLmluVGFibGV8fHooZSxRKSl8fE09PT1PJiZRPjAmJlE8Sy0xJiYoWXx8IW8oZS5jaGFyQXQoUS0xKSl8fCFvKGUuY2hhckF0KFErMSkpKXx8SCYmIXRoaXMuaW5MaW5rJiZNPT09YiYmRih0dC5qb2luKCIiKSkpcT0hMDtlbHNlIGlmKFQpaWYoTT09PXd8fE09PT1mfHxNPT09dnx8TT09PW18fE09PT15KXE9ITA7ZWxzZSBpZihyKE0pKXtmb3IoVT1RKzE7VTxLJiZyKGUuY2hhckF0KFUpKTspVSsrOy0xIT09Wi5pbmRleE9mKGUuY2hhckF0KFUpKSYmKChKPWUuY2hhckF0KFUrMSkpJiZKIT09bCYmSiE9PWMmJkohPT11fHwodHQucHVzaChlLnNsaWNlKFEsVSkpLFE9VSxNPWUuY2hhckF0KFEpLHE9ITApKX1UJiYhaShNKSYmKFQ9ITEpLHR0LnB1c2gocT9udChNKTpNKX1pZihYJiZSKG4pKXtpZihWJiZWLnJlZmVyZW5jZVR5cGU9PT1DKXtmb3IoUT0tMSxLPWV0Lmxlbmd0aDsrK1E8SzspaWYoKE09ZXRbUV0pIT09bCYmTSE9PWMpe00hPT1oJiZNIT09Ynx8KGV0W1FdPW50KE0pKTticmVha31SKEopJiZRPT09SyYmSi52YWx1ZS5jaGFyQXQoMCk9PT1oJiZldC5wdXNoKF8pfUgmJiF0aGlzLmluTGluayYmUihWKSYmZS5jaGFyQXQoMCk9PT1iJiZGKFYudmFsdWUuc2xpY2UoLTYpKSYmKGV0WzBdPW50KGIpKSxSKEopJiZlLmNoYXJBdChLLTEpPT09cCYmMCE9PXMocCtKLnZhbHVlKSYmKGV0W2V0Lmxlbmd0aC0xXT1udChwKSksSiYmImxpbmsiPT09Si50eXBlJiZlLmNoYXJBdChLLTEpPT09TiYmKGV0W2V0Lmxlbmd0aC0xXT1udChOKSksSCYmUihKKSYmZS5jaGFyQXQoSy0xKT09PVMmJkoudmFsdWUuY2hhckF0KDApPT09UyYmZXQuc3BsaWNlKGV0Lmxlbmd0aC0xLDAsXyksRD1SKFYpJiZvKFYudmFsdWUuc2xpY2UoLTEpKSxCPVIoSikmJm8oSi52YWx1ZS5jaGFyQXQoMCkpLDE9PT1LP2UhPT1PfHwhWSYmRCYmQnx8ZXQudW5zaGlmdChfKTooZS5jaGFyQXQoMCkhPT1PfHwhWSYmRCYmbyhlLmNoYXJBdCgxKSl8fGV0LnVuc2hpZnQoXyksZS5jaGFyQXQoSy0xKSE9PU98fCFZJiZCJiZvKGUuY2hhckF0KEstMikpfHxldC5zcGxpY2UoZXQubGVuZ3RoLTEsMCxfKSl9cmV0dXJuIGV0LmpvaW4oIiIpO2Z1bmN0aW9uIG50KHQpe3JldHVybi0xPT09Ry5pbmRleE9mKHQpP1BbdF06Xyt0fX19O3ZhciBjPSJcdCIsdT0iXG4iLGw9IiAiLGY9IiMiLHA9IiYiLGg9IigiLGQ9IikiLHY9IioiLHk9IisiLG09Ii0iLGc9Ii4iLGI9IjoiLHg9IjwiLHc9Ij4iLGs9IlsiLF89IlxcIixBPSJdIixPPSJfIixqPSJgIixFPSJ8IixTPSJ+IixOPSIhIixQPXsiPCI6IiZsdDsiLCI6IjoiJiN4M0E7IiwiJiI6IiZhbXA7IiwifCI6IiYjeDdDOyIsIn4iOiImI3g3RTsifSxDPSJzaG9ydGN1dCIsST0ibWFpbHRvIixUPSJodHRwcyIsTT0iaHR0cCIsTD0vXG5ccyokLztmdW5jdGlvbiB6KHQsZSl7dmFyIG4scj10Lmxhc3RJbmRleE9mKHUsZSksbz10LmluZGV4T2YodSxlKTtmb3Iobz0tMT09PW8/dC5sZW5ndGg6bzsrK3I8bzspaWYoKG49dC5jaGFyQXQocikpIT09YiYmbiE9PW0mJm4hPT1sJiZuIT09RSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBSKHQpe3JldHVybiB0JiYidGV4dCI9PT10LnR5cGV9ZnVuY3Rpb24gRih0KXt2YXIgZT10LnNsaWNlKC02KS50b0xvd2VyQ2FzZSgpO3JldHVybiBlPT09SXx8ZS5zbGljZSgtNSk9PT1UfHxlLnNsaWNlKC00KT09PU19fSxjMmRlOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiL01oUiIpLG89e29iamVjdDohMCxzeW1ib2w6ITB9O3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0LGU9ci5TeW1ib2w7aWYoImZ1bmN0aW9uIiE9PXR5cGVvZiBlKXJldHVybiExO3Q9ZSgidGVzdCBzeW1ib2wiKTt0cnl7U3RyaW5nKHQpfWNhdGNoKG4pe3JldHVybiExfXJldHVybiEhb1t0eXBlb2YgZS5pdGVyYXRvcl0mJighIW9bdHlwZW9mIGUudG9QcmltaXRpdmVdJiYhIW9bdHlwZW9mIGUudG9TdHJpbmdUYWddKX19LGMzTUU6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJZc1R6Iiksbz1PYmplY3Qua2V5czt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8ocih0KT9PYmplY3QodCk6dCl9fSxjNkxROmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiSVBBciIpLG89bigiQUNHayIpLGk9bigiZCtKaiIpO3QuZXhwb3J0cz15LHkubG9jYXRvcj1vO3ZhciBhPSJsaW5rIixzPSJpbWFnZSIsYz0iZm9vdG5vdGUiLHU9InNob3J0Y3V0IixsPSJjb2xsYXBzZWQiLGY9ImZ1bGwiLHA9Il4iLGg9IlxcIixkPSJbIix2PSJdIjtmdW5jdGlvbiB5KHQsZSxuKXt2YXIgbyx5LG0sZyxiLHgsdyxrLF89ZS5jaGFyQXQoMCksQT0wLE89ZS5sZW5ndGgsaj0iIixFPSIiLFM9YSxOPXU7aWYoIiEiPT09XyYmKFM9cyxFPV8sXz1lLmNoYXJBdCgrK0EpKSxfPT09ZCl7aWYoQSsrLEUrPV8seD0iIix0aGlzLm9wdGlvbnMuZm9vdG5vdGVzJiZlLmNoYXJBdChBKT09PXApe2lmKFM9PT1zKXJldHVybjtFKz1wLEErKyxTPWN9Zm9yKGs9MDtBPE87KXtpZigoXz1lLmNoYXJBdChBKSk9PT1kKXc9ITAsaysrO2Vsc2UgaWYoXz09PXYpe2lmKCFrKWJyZWFrO2stLX1fPT09aCYmKHgrPWgsXz1lLmNoYXJBdCgrK0EpKSx4Kz1fLEErK31pZihqPXgsbz14LChfPWUuY2hhckF0KEEpKT09PXYpe2ZvcihBKyssais9Xyx4PSIiO0E8TyYmKF89ZS5jaGFyQXQoQSkscihfKSk7KXgrPV8sQSsrO2lmKF89ZS5jaGFyQXQoQSksUyE9PWMmJl89PT1kKXtmb3IoeT0iIix4Kz1fLEErKztBPE8mJihfPWUuY2hhckF0KEEpKSE9PWQmJl8hPT12OylfPT09aCYmKHkrPWgsXz1lLmNoYXJBdCgrK0EpKSx5Kz1fLEErKzsoXz1lLmNoYXJBdChBKSk9PT12PyhOPXk/ZjpsLHgrPXkrXyxBKyspOnk9IiIsais9eCx4PSIifWVsc2V7aWYoIW8pcmV0dXJuO3k9b31pZihOPT09Znx8IXcpcmV0dXJuIGo9RStqLFM9PT1hJiZ0aGlzLmluTGluaz9udWxsOiEhbnx8KFM9PT1jJiYtMSE9PW8uaW5kZXhPZigiICIpP3Qoaikoe3R5cGU6ImZvb3Rub3RlIixjaGlsZHJlbjp0aGlzLnRva2VuaXplSW5saW5lKG8sdC5ub3coKSl9KTooKG09dC5ub3coKSkuY29sdW1uKz1FLmxlbmd0aCxtLm9mZnNldCs9RS5sZW5ndGgsZz17dHlwZTpTKyJSZWZlcmVuY2UiLGlkZW50aWZpZXI6aSh5PU49PT1mP3k6byl9LFMhPT1hJiZTIT09c3x8KGcucmVmZXJlbmNlVHlwZT1OKSxTPT09YT8oYj10aGlzLmVudGVyTGluaygpLGcuY2hpbGRyZW49dGhpcy50b2tlbml6ZUlubGluZShvLG0pLGIoKSk6Uz09PXMmJihnLmFsdD10aGlzLmRlY29kZS5yYXcodGhpcy51bmVzY2FwZShvKSxtKXx8bnVsbCksdChqKShnKSkpfX19fSxjQk5lOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiWmNBQyIpO2Z1bmN0aW9uIG8odCl7ZGVsZXRlIHQucG9zaXRpb259ZnVuY3Rpb24gaSh0KXt0LnBvc2l0aW9uPXZvaWQgMH10LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcih0LGU/bzppKSx0fX0sY0VXejpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsbz1SZWdFeHAucHJvdG90eXBlLnRlc3QuYmluZCgvXltvYmplY3QgW0EtWmEtejAtOV0qRnVuY3Rpb25dJC8pO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIHQmJm8oci5jYWxsKHQpKX19LGNGQUE6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJJUEFyIiksbz1uKCIzNnlyIik7dC5leHBvcnRzPWEsYS5sb2NhdG9yPW87dmFyIGk9ImAiO2Z1bmN0aW9uIGEodCxlLG4pe2Zvcih2YXIgbyxhLHMsYyx1LGwsZixwLGg9ZS5sZW5ndGgsZD0wLHY9IiIseT0iIjtkPGgmJmUuY2hhckF0KGQpPT09aTspdis9aSxkKys7aWYodil7Zm9yKHU9dixjPWQsdj0iIixwPWUuY2hhckF0KGQpLHM9MDtkPGg7KXtpZihsPXAscD1lLmNoYXJBdChkKzEpLGw9PT1pPyhzKysseSs9bCk6KHM9MCx2Kz1sKSxzJiZwIT09aSl7aWYocz09PWMpe3UrPXYreSxmPSEwO2JyZWFrfXYrPXkseT0iIn1kKyt9aWYoIWYpe2lmKGMlMiE9PTApcmV0dXJuO3Y9IiJ9aWYobilyZXR1cm4hMDtmb3Iobz0iIixhPSIiLGg9di5sZW5ndGgsZD0tMTsrK2Q8aDspbD12LmNoYXJBdChkKSxyKGwpP2ErPWw6KGEmJihvJiYobys9YSksYT0iIiksbys9bCk7cmV0dXJuIHQodSkoe3R5cGU6ImlubGluZUNvZGUiLHZhbHVlOm99KX19fSxjVldqOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiZzErZSIpLG89InZpcnR1YWxIdG1sIixpPS9ePChhcmVhfGJhc2V8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxrZXlnZW58bGlua3xtZXRhfHBhcmFtfHNvdXJjZXx0cmFja3x3YnIpXHMqXC8/PiQvaSxhPS9ePChcLz8pKFthLXpdKylccyo+JC87dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIHIodCwiaHRtbCIsKGZ1bmN0aW9uKHQscixzKXtuIT09cyYmKGU9W10sbj1zKTt2YXIgYz1mdW5jdGlvbih0KXt2YXIgZT10LnZhbHVlLm1hdGNoKGkpO3JldHVybiEhZSYmZVsxXX0odCk7aWYoYylyZXR1cm4gcy5jaGlsZHJlbi5zcGxpY2UociwxLHt0eXBlOm8sdGFnOmMscG9zaXRpb246dC5wb3NpdGlvbn0pLCEwO3ZhciB1PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC52YWx1ZS5tYXRjaChhKTtyZXR1cm4hIW4mJnt0YWc6blsyXSxvcGVuaW5nOiFuWzFdLG5vZGU6dH19KHQpO2lmKCF1KXJldHVybiEwO3ZhciBsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5sZW5ndGg7Zm9yKDtuLS07KWlmKHRbbl0udGFnPT09ZSlyZXR1cm4gdC5zcGxpY2UobiwxKVswXTtyZXR1cm4hMX0oZSx1LnRhZyk7cmV0dXJuIGw/cy5jaGlsZHJlbi5zcGxpY2UociwwLGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uLmNoaWxkcmVuLmluZGV4T2YodC5ub2RlKSxpPW4uY2hpbGRyZW4uaW5kZXhPZihlLm5vZGUpLGE9bi5jaGlsZHJlbi5zcGxpY2UocixpLXIrMSkuc2xpY2UoMSwtMSk7cmV0dXJue3R5cGU6byxjaGlsZHJlbjphLHRhZzp0LnRhZyxwb3NpdGlvbjp7c3RhcnQ6dC5ub2RlLnBvc2l0aW9uLnN0YXJ0LGVuZDplLm5vZGUucG9zaXRpb24uZW5kLGluZGVudDpbXX19fSh1LGwscykpOnUub3BlbmluZ3x8ZS5wdXNoKHUpLCEwfSksITApLHR9fSxjWU5POmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiUWV0ZCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbiB0KG4sbyxpKXt2YXIgYT1uLmNoaWxkcmVuLHM9cih7fSxlKG4sbyxpKSk7YSYmKHMuY2hpbGRyZW49YS5tYXAoKGZ1bmN0aW9uKGUscil7cmV0dXJuIHQoZSxyLG4pfSkpKTtyZXR1cm4gc30odCxudWxsLG51bGwpfX0sY21MTjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixyKXt2YXIgbyxpLGEscyxjLHUsbD1bInBlZGFudGljIiwiY29tbW9ubWFyayJdLGY9bC5sZW5ndGgscD10Lmxlbmd0aCxoPS0xO2Zvcig7KytoPHA7KXtmb3Iobz10W2hdLGk9b1sxXXx8e30sYT1vWzBdLHM9LTEsdT0hMTsrK3M8ZjspaWYodm9pZCAwIT09aVtjPWxbc11dJiZpW2NdIT09bi5vcHRpb25zW2NdKXt1PSEwO2JyZWFrfWlmKCF1JiZlW2FdLmFwcGx5KG4scikpcmV0dXJuITB9cmV0dXJuITF9fSwiZCtKaiI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJKcUJLIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKHQpLnRvTG93ZXJDYXNlKCl9fSxkMHlZOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZXx8e307ZnVuY3Rpb24gaShlKXt2YXIgbj1pLmludmFsaWQsYT1pLmhhbmRsZXJzO3JldHVybiBlJiZvLmNhbGwoZSx0KSYmKG49by5jYWxsKGEsZVt0XSk/YVtlW3RdXTppLnVua25vd24pLChufHxyKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGkuaGFuZGxlcnM9bi5oYW5kbGVyc3x8e30saS5pbnZhbGlkPW4uaW52YWxpZCxpLnVua25vd249bi51bmtub3duLGl9O3ZhciByPUZ1bmN0aW9uLnByb3RvdHlwZSxvPXt9Lmhhc093blByb3BlcnR5fSxkMjkyOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcj1ufHx0aGlzLG89clt0XTtyZXR1cm4gclt0XT0hZSxmdW5jdGlvbigpe3JbdF09b319fX0sZGkyeDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD1OdW1iZXIodCksaXNOYU4odCl8fDA9PT10P3Q6dD4wPzE6LTF9fSxkcEpZOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByK2krKHQubGFiZWx8fHQuaWRlbnRpZmllcikrb307dmFyIHI9IlsiLG89Il0iLGk9Il4ifSxkcjk5OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigicEl3QyIpLG89bigidU45ZyIpLGk9bigiWStEOSIpLGE9bigidmFMQyIpLHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZXBsYWNlKCIldiIsYShlKSl9O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7aWYoIW8obikpdGhyb3cgbmV3IFR5cGVFcnJvcihzKGUsdCkpO2lmKCFyKHQpKXtpZigiZGVmYXVsdCJpbiBuKXJldHVybiBuLmRlZmF1bHQ7aWYobi5pc09wdGlvbmFsKXJldHVybiBudWxsfXZhciBhPWkobi5lcnJvck1lc3NhZ2UpO3Rocm93IHIoYSl8fChhPWUpLG5ldyBUeXBlRXJyb3IocyhhLHQpKX19LCJlK2NUIjpmdW5jdGlvbih0LGUsbil7bigiQ3BCYyIpLHQuZXhwb3J0cz1uKCJXRXBrIikucGFyc2VGbG9hdH0sZTk4OTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1uKCI3UG1BIikoKT9PYmplY3Qua2V5czpuKCJjM01FIil9LGVRQzg6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4iKiI9PT10LnRhZ05hbWV8fHQudGFnTmFtZT09PWUudHlwZX19LGVacWc6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJhUHpoIiksbz1uKCJ3MmdVIiksaT1uKCIrZGtFIikudGFnO3QuZXhwb3J0cz1wLHAubG9jYXRvcj1vO3ZhciBhPSI8IixzPSI/IixjPSIhIix1PSIvIixsPS9ePGEgL2ksZj0vXjxcL2E+L2k7ZnVuY3Rpb24gcCh0LGUsbil7dmFyIG8scCxoPWUubGVuZ3RoO2lmKCEoZS5jaGFyQXQoMCkhPT1hfHxoPDMpJiYobz1lLmNoYXJBdCgxKSwocihvKXx8bz09PXN8fG89PT1jfHxvPT09dSkmJihwPWUubWF0Y2goaSkpKSlyZXR1cm4hIW58fChwPXBbMF0sIXRoaXMuaW5MaW5rJiZsLnRlc3QocCk/dGhpcy5pbkxpbms9ITA6dGhpcy5pbkxpbmsmJmYudGVzdChwKSYmKHRoaXMuaW5MaW5rPSExKSx0KHApKHt0eXBlOiJodG1sIix2YWx1ZTpwfSkpfX0sZWRHdTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiRkZ0KyIpLG89bigiVUlpSCIpLGk9bigiRFBtNyIpLGE9bigiTkNjaSIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiByKHQpfHxvKHQsZSl8fGkodCxlKXx8YSgpfX0sZWdJODpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIklQQXIiKSxvPW4oIkZocTQiKTt0LmV4cG9ydHM9cyxzLmxvY2F0b3I9bzt2YXIgaT0ifiIsYT0ifn4iO2Z1bmN0aW9uIHModCxlLG4pe3ZhciBvLHMsYyx1PSIiLGw9IiIsZj0iIixwPSIiO2lmKHRoaXMub3B0aW9ucy5nZm0mJmUuY2hhckF0KDApPT09aSYmZS5jaGFyQXQoMSk9PT1pJiYhcihlLmNoYXJBdCgyKSkpZm9yKG89MSxzPWUubGVuZ3RoLChjPXQubm93KCkpLmNvbHVtbis9MixjLm9mZnNldCs9MjsrK288czspe2lmKCh1PWUuY2hhckF0KG8pKT09PWkmJmw9PT1pJiYoIWZ8fCFyKGYpKSlyZXR1cm4hIW58fHQoYStwK2EpKHt0eXBlOiJkZWxldGUiLGNoaWxkcmVuOnRoaXMudG9rZW5pemVJbmxpbmUocCxjKX0pO3ArPWwsZj1sLGw9dX19fSxlcXQyOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gdH19LGY2NkI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjFzZVMiKSxvPW4oIjQ1emIiKSxpPW4oImJiY3giKSxhPW4oIjJOanUiKSxzPW4oIjV4QVgiKSxjPW4oIkRtWFAiKSx1PURhdGUucHJvdG90eXBlLmdldFRpbWU7ZnVuY3Rpb24gbCh0LGUsbil7dmFyIGg9bnx8e307cmV0dXJuIShoLnN0cmljdD8haSh0LGUpOnQhPT1lKXx8KCF0fHwhZXx8Im9iamVjdCIhPT10eXBlb2YgdCYmIm9iamVjdCIhPT10eXBlb2YgZT9oLnN0cmljdD9pKHQsZSk6dD09ZTpmdW5jdGlvbih0LGUsbil7dmFyIGksaDtpZih0eXBlb2YgdCE9PXR5cGVvZiBlKXJldHVybiExO2lmKGYodCl8fGYoZSkpcmV0dXJuITE7aWYodC5wcm90b3R5cGUhPT1lLnByb3RvdHlwZSlyZXR1cm4hMTtpZihvKHQpIT09byhlKSlyZXR1cm4hMTt2YXIgZD1hKHQpLHY9YShlKTtpZihkIT09dilyZXR1cm4hMTtpZihkfHx2KXJldHVybiB0LnNvdXJjZT09PWUuc291cmNlJiZzKHQpPT09cyhlKTtpZihjKHQpJiZjKGUpKXJldHVybiB1LmNhbGwodCk9PT11LmNhbGwoZSk7dmFyIHk9cCh0KSxtPXAoZSk7aWYoeSE9PW0pcmV0dXJuITE7aWYoeXx8bSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0hPT1lW2ldKXJldHVybiExO3JldHVybiEwfWlmKHR5cGVvZiB0IT09dHlwZW9mIGUpcmV0dXJuITE7dHJ5e3ZhciBnPXIodCksYj1yKGUpfWNhdGNoKHgpe3JldHVybiExfWlmKGcubGVuZ3RoIT09Yi5sZW5ndGgpcmV0dXJuITE7Zm9yKGcuc29ydCgpLGIuc29ydCgpLGk9Zy5sZW5ndGgtMTtpPj0wO2ktLSlpZihnW2ldIT1iW2ldKXJldHVybiExO2ZvcihpPWcubGVuZ3RoLTE7aT49MDtpLS0paWYoaD1nW2ldLCFsKHRbaF0sZVtoXSxuKSlyZXR1cm4hMTtyZXR1cm4hMH0odCxlLGgpKX1mdW5jdGlvbiBmKHQpe3JldHVybiBudWxsPT09dHx8dm9pZCAwPT09dH1mdW5jdGlvbiBwKHQpe3JldHVybiEoIXR8fCJvYmplY3QiIT09dHlwZW9mIHR8fCJudW1iZXIiIT09dHlwZW9mIHQubGVuZ3RoKSYmKCJmdW5jdGlvbiI9PT10eXBlb2YgdC5jb3B5JiYiZnVuY3Rpb24iPT09dHlwZW9mIHQuc2xpY2UmJiEodC5sZW5ndGg+MCYmIm51bWJlciIhPT10eXBlb2YgdFswXSkpfXQuZXhwb3J0cz1sfSxmRXBiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPW4oIi8xVnMiKSgpP2dsb2JhbFRoaXM6bigid3NBViIpfSxmU2htOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaW5kZXhPZigifn4iLGUpfX0sZlVJZTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLG89ci5sZW5ndGgsaT0tMSxhPS0xO2lmKCF0aGlzLm9wdGlvbnMuZ2ZtKXJldHVybi0xO2Zvcig7KytpPG87KS0xIT09KG49dC5pbmRleE9mKHJbaV0sZSkpJiYobjxhfHwtMT09PWEpJiYoYT1uKTtyZXR1cm4gYX07dmFyIHI9WyJodHRwczovLyIsImh0dHA6Ly8iLCJtYWlsdG86Il19LGZWc286ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYWxsKHQpLmpvaW4oIiIpfX0sZlhJUTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz0iZnVuY3Rpb24iPT09dHlwZW9mIFdlYWtNYXAmJiJbb2JqZWN0IFdlYWtNYXBdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXcgV2Vha01hcCl9LGZZZ1I6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJIZ3JYIiksbz0vW1xuXHJcdTIwMjhcdTIwMjldL2c7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXIodCk7cmV0dXJuIG51bGw9PT1lPyI8Tm9uLWNvZXJjaWJsZSB0byBzdHJpbmcgdmFsdWU+IjooZS5sZW5ndGg+MTAwJiYoZT1lLnNsaWNlKDAsOTkpKyJcdTIwMjYiKSxlPWUucmVwbGFjZShvLChmdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSJcbiI6cmV0dXJuIlxcbiI7Y2FzZSJcciI6cmV0dXJuIlxcciI7Y2FzZSJcdTIwMjgiOnJldHVybiJcXHUyMDI4IjtjYXNlIlx1MjAyOSI6cmV0dXJuIlxcdTIwMjkiO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIGNoYXJhY3RlciIpfX0pKSl9fSxmWnR2OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7KGZ1bmN0aW9uKGUpe3ZhciBuPSJfX2dsb2JhbF91bmlxdWVfaWRfXyI7dC5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGVbbl09KGVbbl18fDApKzF9fSkuY2FsbCh0aGlzLG4oInlMcGoiKSl9LGZjaU86ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJoTk40Iiksbz1uKCJGNU1jIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvKHQpP3Q6cih0LCIldiBpcyBub3QgYSBwbGFpbiBmdW5jdGlvbiIsYXJndW1lbnRzWzFdKX19LGZqcmw6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9InN0cmluZyI9PT10eXBlb2YgdD90LmNoYXJDb2RlQXQoMCk6dDtyZXR1cm4gZT49OTcmJmU8PTEwMnx8ZT49NjUmJmU8PTcwfHxlPj00OCYmZTw9NTd9fSxmelB0OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiVHFSdCIpLG89cihuKCJKNHpwIikpLGk9KHIobigiUkZqeCIpKSwvXlxbXFsoLis/KVxdXF0vKTtmdW5jdGlvbiBhKHQsZSl7cmV0dXJuIHQuaW5kZXhPZigiWyIsZSl9dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5wZXJtYWxpbmtzfHxbXSxuPXQucGFnZVJlc29sdmVyfHxmdW5jdGlvbih0KXtyZXR1cm5bdC5yZXBsYWNlKC8gL2csIl8iKS50b0xvd2VyQ2FzZSgpXX0scj10Lm5ld0NsYXNzTmFtZXx8Im5ldyIscz10Lndpa2lMaW5rQ2xhc3NOYW1lfHwiaW50ZXJuYWwiLGM9dC5ocmVmVGVtcGxhdGV8fGZ1bmN0aW9uKHQpe3JldHVybiIjL3BhZ2UvIi5jb25jYXQodCl9LHU9dC5hbGlhc0RpdmlkZXJ8fCI6IjtmdW5jdGlvbiBsKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4tMSE9PXQuaW5kZXhPZih1KX0odCk/ZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdCh1KSxuPSgwLG8uZGVmYXVsdCkoZSwyKTtyZXR1cm57bmFtZTpuWzBdLGRpc3BsYXlOYW1lOm5bMV19fSh0KTp7bmFtZTp0LGRpc3BsYXlOYW1lOnR9fWZ1bmN0aW9uIGYodCxvKXt2YXIgYT1pLmV4ZWMobyk7aWYoYSl7dmFyIHU9bChhWzFdLnRyaW0oKSksZj11Lm5hbWUscD11LmRpc3BsYXlOYW1lLGg9bihmKSxkPWguZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuLTEhPWUuaW5kZXhPZih0KX0pKSx2PXZvaWQgMCE9ZDt2fHwoZD1oWzBdKTt2YXIgeT1zO3JldHVybiB2fHwoeSs9IiAiK3IpLHQoYVswXSkoe3R5cGU6Indpa2lMaW5rIix2YWx1ZTpmLGRhdGE6e2FsaWFzOnAscGVybWFsaW5rOmQsZXhpc3RzOnYsaE5hbWU6ImEiLGhQcm9wZXJ0aWVzOntjbGFzc05hbWU6eSxocmVmOmMoZCl9LGhDaGlsZHJlbjpbe3R5cGU6InRleHQiLHZhbHVlOnB9XX19KX19Zi5sb2NhdG9yPWE7dmFyIHA9dGhpcy5QYXJzZXIsaD1wLnByb3RvdHlwZS5pbmxpbmVUb2tlbml6ZXJzLGQ9cC5wcm90b3R5cGUuaW5saW5lTWV0aG9kcztoLndpa2lMaW5rPWYsZC5zcGxpY2UoZC5pbmRleE9mKCJsaW5rIiksMCwid2lraUxpbmsiKTt2YXIgdj10aGlzLkNvbXBpbGVyO2lmKG51bGwhPXYpe3ZhciB5PXYucHJvdG90eXBlLnZpc2l0b3JzO3kmJih5Lndpa2lMaW5rPWZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGEuYWxpYXMhPXQudmFsdWU/IltbIi5jb25jYXQodC52YWx1ZSkuY29uY2F0KHUpLmNvbmNhdCh0LmRhdGEuYWxpYXMsIl1dIik6IltbIi5jb25jYXQodC52YWx1ZSwiXV0iKX0pfX19LCJnMStlIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1zO3ZhciByPW4oImdjcWwiKSxvPXIuQ09OVElOVUUsaT1yLlNLSVAsYT1yLkVYSVQ7ZnVuY3Rpb24gcyh0LGUsbixvKXsiZnVuY3Rpb24iPT09dHlwZW9mIGUmJiJmdW5jdGlvbiIhPT10eXBlb2YgbiYmKG89bixuPWUsZT1udWxsKSxyKHQsZSwoZnVuY3Rpb24odCxlKXt2YXIgcj1lW2UubGVuZ3RoLTFdLG89cj9yLmNoaWxkcmVuLmluZGV4T2YodCk6bnVsbDtyZXR1cm4gbih0LG8scil9KSxvKX1zLkNPTlRJTlVFPW8scy5TS0lQPWkscy5FWElUPWF9LGcxazA6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCIxaUFFIiksbz1uKCJOQnUxIiksaT1uKCIxVDhCIikudGFnO3QuZXhwb3J0cz1jLGMubG9jYXRvcj1vO3ZhciBhPS9ePGEgL2kscz0vXjxcL2E+L2k7ZnVuY3Rpb24gYyh0LGUsbil7dmFyIG8sYyx1PWUubGVuZ3RoO2lmKCEoIjwiIT09ZS5jaGFyQXQoMCl8fHU8MykmJihvPWUuY2hhckF0KDEpLChyKG8pfHwiPyI9PT1vfHwiISI9PT1vfHwiLyI9PT1vKSYmKGM9ZS5tYXRjaChpKSkpKXJldHVybiEhbnx8KGM9Y1swXSwhdGhpcy5pbkxpbmsmJmEudGVzdChjKT90aGlzLmluTGluaz0hMDp0aGlzLmluTGluayYmcy50ZXN0KGMpJiYodGhpcy5pbkxpbms9ITEpLHQoYykoe3R5cGU6Imh0bWwiLHZhbHVlOmN9KSl9fSxnNm1ROmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPW4oInZ0VnQiKSgiZm9yRWFjaCIpfSxnY3FsOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPXM7dmFyIHI9bigiSTcrdSIpLG89ITAsaT0ic2tpcCIsYT0hMTtmdW5jdGlvbiBzKHQsZSxuLG8pe3ZhciBzO2Z1bmN0aW9uIHUodCxyLGwpe3ZhciBmLHA9W107cmV0dXJuKGUmJiFzKHQscixsW2wubGVuZ3RoLTFdfHxudWxsKXx8KHA9YyhuKHQsbCkpKVswXSE9PWEpJiZ0LmNoaWxkcmVuJiZwWzBdIT09aSYmKGY9YyhmdW5jdGlvbih0LGUpe3ZhciBuLHI9bz8tMToxLGk9KG8/dC5sZW5ndGg6LTEpK3I7Zm9yKDtpPi0xJiZpPHQubGVuZ3RoOyl7aWYoKG49dSh0W2ldLGksZSkpWzBdPT09YSlyZXR1cm4gbjtpPSJudW1iZXIiPT09dHlwZW9mIG5bMV0/blsxXTppK3J9fSh0LmNoaWxkcmVuLGwuY29uY2F0KHQpKSkpWzBdPT09YT9mOnB9ImZ1bmN0aW9uIj09PXR5cGVvZiBlJiYiZnVuY3Rpb24iIT09dHlwZW9mIG4mJihvPW4sbj1lLGU9bnVsbCkscz1yKGUpLHUodCxudWxsLFtdKX1mdW5jdGlvbiBjKHQpe3JldHVybiBudWxsIT09dCYmIm9iamVjdCI9PT10eXBlb2YgdCYmImxlbmd0aCJpbiB0P3Q6Im51bWJlciI9PT10eXBlb2YgdD9bbyx0XTpbdF19cy5DT05USU5VRT1vLHMuU0tJUD1pLHMuRVhJVD1hfSxndEZPOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucy5lbXBoYXNpcyxuPXRoaXMuYWxsKHQpLmpvaW4oIiIpO3RoaXMub3B0aW9ucy5wZWRhbnRpYyYmZT09PXImJi0xIT09bi5pbmRleE9mKGUpJiYoZT1vKTtyZXR1cm4gZStuK2V9O3ZhciByPSJfIixvPSIqIn0sZ3cyYTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1uKCI4OEtTIikoKT9XZWFrTWFwOm4oInF4Tk0iKX0saDljazpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2UuSHRtbFBhcnNlcj0idW5kZWZpbmVkIj09PXR5cGVvZiBTeW1ib2w/Il9fUk1EX0hUTUxfUEFSU0VSX18iOlN5bWJvbCgiX19STURfSFRNTF9QQVJTRVJfXyIpfSxoRVpIOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG4sYT10aGlzLm9wdGlvbnMscz1hLmZlbmNlcyxjPWEuY29tbW9ubWFyaz9pOm8sdT1bXSxsPXQuY2hpbGRyZW4sZj1sLmxlbmd0aCxwPS0xO2Zvcig7KytwPGY7KWU9bixuPWxbcF0sZSYmKCJsaXN0Ij09PWUudHlwZSYmKCJsaXN0Ij09PW4udHlwZSYmZS5vcmRlcmVkPT09bi5vcmRlcmVkfHwiY29kZSI9PT1uLnR5cGUmJiFuLmxhbmcmJiFzKT91LnB1c2goYyk6dS5wdXNoKHIpKSx1LnB1c2godGhpcy52aXNpdChuLHQpKTtyZXR1cm4gdS5qb2luKCIiKX07dmFyIHI9IlxuXG4iLG89cisiXG4iLGk9cisiXHgzYyEtLS0tXHgzZSIrcn0saE5ONDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImsycU0iKSxvPW4oIlh0MVkiKSxpPW4oIjZ1QmkiKSxhPW4oImZZZ1IiKSxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucmVwbGFjZSgiJXYiLGEoZSkpfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKCFvKG4pKXRocm93IG5ldyBUeXBlRXJyb3IocyhlLHQpKTtpZighcih0KSl7aWYoImRlZmF1bHQiaW4gbilyZXR1cm4gbi5kZWZhdWx0O2lmKG4uaXNPcHRpb25hbClyZXR1cm4gbnVsbH12YXIgYT1pKG4uZXJyb3JNZXNzYWdlKTt0aHJvdyByKGEpfHwoYT1lKSxuZXcgVHlwZUVycm9yKHMoYSx0KSl9fSxoUXpKOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiYnRERiIpLG89bigiT2QweiIpLGk9bigicVU2YSIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuLGE9dGhpcy5vcHRpb25zO2lmKG51bGw9PXQpdD17fTtlbHNle2lmKCJvYmplY3QiIT09dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHZhbHVlIGAiK3QrImAgZm9yIHNldHRpbmcgYG9wdGlvbnNgIik7dD1yKHQpfWZvcihlIGluIGkpe2lmKG51bGw9PShuPXRbZV0pJiYobj1hW2VdKSwiYmxvY2tzIiE9PWUmJiJib29sZWFuIiE9PXR5cGVvZiBufHwiYmxvY2tzIj09PWUmJiJvYmplY3QiIT09dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHZhbHVlIGAiK24rImAgZm9yIHNldHRpbmcgYG9wdGlvbnMuIitlKyJgIik7dFtlXT1ufXJldHVybiB0aGlzLm9wdGlvbnM9dCx0aGlzLmVzY2FwZT1vKHQpLHRoaXN9fSxoVWxTOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiMTNEUSIpLG89bigia2s0QiIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixoKXt2YXIgZCx2LHksbT10aGlzLm9wdGlvbnMubGlzdEl0ZW1JbmRlbnQsZz1ofHx0aGlzLm9wdGlvbnMuYnVsbGV0LGI9bnVsbD09dC5zcHJlYWR8fHQuc3ByZWFkLHg9dC5jaGVja2VkLHc9dC5jaGlsZHJlbixrPXcubGVuZ3RoLF89W10sQT0tMTtmb3IoOysrQTxrOylfW0FdPXRoaXMudmlzaXQod1tBXSx0KTtkPV8uam9pbihiP2Y6aSksImJvb2xlYW4iPT09dHlwZW9mIHgmJihkPXMrKHg/dTphKStjK2ErZCk7IjEiPT09bXx8Im1peGVkIj09PW0mJi0xPT09ZC5pbmRleE9mKGkpPyh2PWcubGVuZ3RoKzEseT1hKToodj1sKChnLmxlbmd0aCsxKS9wKSpwLHk9cihhLHYtZy5sZW5ndGgpKTtyZXR1cm4gZD9nK3krbyhkLHYvcCkuc2xpY2Uodik6Z307dmFyIGk9IlxuIixhPSIgIixzPSJbIixjPSJdIix1PSJ4IixsPU1hdGguY2VpbCxmPWkraSxwPTR9LGhZQXo6ZnVuY3Rpb24odCxlLG4pe24oIjdtMG0iKSx0LmV4cG9ydHM9bigiV0VwayIpLk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzfSxodkN3OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQsZT1PYmplY3QuYXNzaWduO3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgZSYmKGUodD17Zm9vOiJyYXoifSx7YmFyOiJkd2EifSx7dHJ6eToidHJ6eSJ9KSx0LmZvbyt0LmJhcit0LnRyenk9PT0icmF6ZHdhdHJ6eSIpfX0saTJTYzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlhYT0siKSxvPW4oInR0RFkiKSxpPW4oImhmS20iKSxhPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O2koZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHM9YShuKCJXMFRaIikpLGM9bigiTVQxMiIpLHU9bigiOC9kRyIpO2Z1bmN0aW9uIGwodCl7Zm9yKHZhciBlPXQucGFyZW50O2U7KXtpZihlLnR5cGU9PT11LmJhY2tsaW5rc05vZGVUeXBlKXJldHVybiEwO2U9ZS5wYXJlbnR9cmV0dXJuITF9ZS5jbG96ZU5vZGVUeXBlPSJpbmNyZW1lbnRhbC10aGlua2luZy1jbG96ZSIsZS5jbG96ZVByb21wdFR5cGU9ImNsb3plIixlLnFhUHJvbXB0Tm9kZVR5cGU9ImluY3JlbWVudGFsLXRoaW5raW5nLVFBIixlLnFhUHJvbXB0VHlwZT0icWFQcm9tcHQiLGUuZmluZEFsbFByb21wdHM9ZnVuY3Rpb24odCl7dmFyIG49cy5kZWZhdWx0KHQpLGk9Yy5zZWxlY3RBbGwoZS5jbG96ZU5vZGVUeXBlLG4pLGE9W10sdT1uZXcgbyxmPSEwLGg9ITEsZD12b2lkIDA7dHJ5e2Zvcih2YXIgdix5PXIoaSk7IShmPSh2PXkubmV4dCgpKS5kb25lKTtmPSEwKXtmb3IodmFyIG09di52YWx1ZSxnPW0ucGFyZW50O2cmJiFwKGcpOylnPWcucGFyZW50OyFnfHxsKG0pfHx1LmhhcyhnKXx8KHUuYWRkKGcpLGEucHVzaCh7dHlwZToiY2xvemUiLGJsb2NrOmd9KSl9fWNhdGNoKHgpe2g9ITAsZD14fWZpbmFsbHl7dHJ5e2Z8fG51bGw9PXkucmV0dXJufHx5LnJldHVybigpfWZpbmFsbHl7aWYoaCl0aHJvdyBkfX12YXIgYj1jLnNlbGVjdEFsbChlLnFhUHJvbXB0Tm9kZVR5cGUsbikuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hbCh0KX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPXQ7cmV0dXJue3R5cGU6InFhUHJvbXB0IixxdWVzdGlvbjplLnF1ZXN0aW9uLGFuc3dlcjplLmFuc3dlcn19KSk7cmV0dXJuIGEuY29uY2F0KGIpfSxlLmdldENsb3plTm9kZXNJbkNsb3plUHJvbXB0PWZ1bmN0aW9uKHQpe3JldHVybiBjLnNlbGVjdEFsbChlLmNsb3plTm9kZVR5cGUsdC5ibG9jayl9O3ZhciBmPW5ldyBvKFsicGFyYWdyYXBoIiwiaGVhZGluZyIsInRoZW1hdGljQnJlYWsiLCJibG9ja3F1b3RlIiwibGlzdCIsInRhYmxlIiwiaHRtbCIsImNvZGUiXSk7ZnVuY3Rpb24gcCh0KXtyZXR1cm4gZi5oYXModC50eXBlKX19LGlFRWI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9czt2YXIgcj1uKCJIa0J4Iiksbz0hMCxpPSJza2lwIixhPSExO2Z1bmN0aW9uIHModCxlLG4sbyl7dmFyIHM7ZnVuY3Rpb24gdSh0LHIsbCl7dmFyIGYscD1bXTtyZXR1cm4oZSYmIXModCxyLGxbbC5sZW5ndGgtMV18fG51bGwpfHwocD1jKG4odCxsKSkpWzBdIT09YSkmJnQuY2hpbGRyZW4mJnBbMF0hPT1pJiYoZj1jKGZ1bmN0aW9uKHQsZSl7dmFyIG4scj1vPy0xOjEsaT0obz90Lmxlbmd0aDotMSkrcjtmb3IoO2k+LTEmJmk8dC5sZW5ndGg7KXtpZigobj11KHRbaV0saSxlKSlbMF09PT1hKXJldHVybiBuO2k9Im51bWJlciI9PT10eXBlb2YgblsxXT9uWzFdOmkrcn19KHQuY2hpbGRyZW4sbC5jb25jYXQodCkpKSlbMF09PT1hP2Y6cH0iZnVuY3Rpb24iPT09dHlwZW9mIGUmJiJmdW5jdGlvbiIhPT10eXBlb2YgbiYmKG89bixuPWUsZT1udWxsKSxzPXIoZSksdSh0LG51bGwsW10pfWZ1bmN0aW9uIGModCl7cmV0dXJuIG51bGwhPT10JiYib2JqZWN0Ij09PXR5cGVvZiB0JiYibGVuZ3RoImluIHQ/dDoibnVtYmVyIj09PXR5cGVvZiB0P1tvLHRdOlt0XX1zLkNPTlRJTlVFPW8scy5TS0lQPWkscy5FWElUPWF9LGlJQVQ6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLnIoZSk7dmFyIHI9bigiaGZLbSIpLG89bi5uKHIpLGk9bigiMkVlayIpLGE9bi5uKGkpLHM9bigiWG9NRCIpLGM9bi5uKHMpLHU9bigiSm8rdiIpLGw9bi5uKHUpLGY9bigiNG1YTyIpLHA9bi5uKGYpLGg9bigicDBYQiIpLGQ9bi5uKGgpLHY9bigia093UyIpLHk9bigicEx0cCIpLG09bi5uKHkpO2Z1bmN0aW9uIGcodCxlKXtpZihudWxsPT10KXJldHVybnt9O3ZhciBuLHIsbz1mdW5jdGlvbih0LGUpe2lmKG51bGw9PXQpcmV0dXJue307dmFyIG4scixvPXt9LGk9bSgpKHQpO2ZvcihyPTA7cjxpLmxlbmd0aDtyKyspbj1pW3JdLGUuaW5kZXhPZihuKT49MHx8KG9bbl09dFtuXSk7cmV0dXJuIG99KHQsZSk7aWYocC5hKXt2YXIgaT1wKCkodCk7Zm9yKHI9MDtyPGkubGVuZ3RoO3IrKyluPWlbcl0sZS5pbmRleE9mKG4pPj0wfHxPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodCxuKSYmKG9bbl09dFtuXSl9cmV0dXJuIG99dmFyIGI9bigidHREWSIpLHg9bi5uKGIpO3ZhciB3PW4oImQwNFYiKSxrPW4ubih3KSxfPW4oInlMdTMiKSxBPW4ubihfKTtmdW5jdGlvbiBPKHQpe3JldHVybiBmdW5jdGlvbih0KXtpZihkKCkodCkpe2Zvcih2YXIgZT0wLG49bmV3IEFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59fSh0KXx8ZnVuY3Rpb24odCl7aWYoQSgpKE9iamVjdCh0KSl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiBrKCkodCl9KHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9dmFyIGo9bigiZVZ1RiIpLEU9bi5uKGopO2Z1bmN0aW9uIFModCxlLG4pe3JldHVybiBlIGluIHQ/bygpKHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fXZhciBOPW4oImxuNmgiKSxQPW4ubihOKSxDPW4oIk1YMG0iKSxJPW4ubihDKSxUPW4oIjR4U1kiKSxNPW4oIlhhR1MiKSxMPW4ubihNKSx6PW4oIjhLdC8iKSxSPW4ubih6KSxGPW4oIm5PSHQiKSxEPW4oInExdEkiKSxCPW4ubihEKTtmdW5jdGlvbiBVKHQsZSl7aWYobnVsbD09dClyZXR1cm57fTt2YXIgbixyLG89e30saT1PYmplY3Qua2V5cyh0KTtmb3Iocj0wO3I8aS5sZW5ndGg7cisrKW49aVtyXSxlLmluZGV4T2Yobik+PTB8fChvW25dPXRbbl0pO3JldHVybiBvfWZ1bmN0aW9uIHEoKXtyZXR1cm4ocT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEgodCxlKXt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSx0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LHQuX19wcm90b19fPWV9ZnVuY3Rpb24gVyh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIHR9bigiMTd4OSIpO3ZhciBZPUIuYS5jcmVhdGVDb250ZXh0KG51bGwpO2Z1bmN0aW9uIFoodCxlKXt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiB0JiZELkNoaWxkcmVuLm1hcCh0LChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtuW3Qua2V5XT1mdW5jdGlvbih0KXtyZXR1cm4gZSYmT2JqZWN0KEQuaXNWYWxpZEVsZW1lbnQpKHQpP2UodCk6dH0odCl9KSksbn1mdW5jdGlvbiBYKHQsZSxuKXtyZXR1cm4gbnVsbCE9bltlXT9uW2VdOnQucHJvcHNbZV19ZnVuY3Rpb24gJCh0LGUsbil7dmFyIHI9Wih0LmNoaWxkcmVuKSxvPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbihuKXtyZXR1cm4gbiBpbiBlP2Vbbl06dFtuXX10PXR8fHt9LGU9ZXx8e307dmFyIHIsbz1PYmplY3QuY3JlYXRlKG51bGwpLGk9W107Zm9yKHZhciBhIGluIHQpYSBpbiBlP2kubGVuZ3RoJiYob1thXT1pLGk9W10pOmkucHVzaChhKTt2YXIgcz17fTtmb3IodmFyIGMgaW4gZSl7aWYob1tjXSlmb3Iocj0wO3I8b1tjXS5sZW5ndGg7cisrKXt2YXIgdT1vW2NdW3JdO3Nbb1tjXVtyXV09bih1KX1zW2NdPW4oYyl9Zm9yKHI9MDtyPGkubGVuZ3RoO3IrKylzW2lbcl1dPW4oaVtyXSk7cmV0dXJuIHN9KGUscik7cmV0dXJuIE9iamVjdC5rZXlzKG8pLmZvckVhY2goKGZ1bmN0aW9uKGkpe3ZhciBhPW9baV07aWYoT2JqZWN0KEQuaXNWYWxpZEVsZW1lbnQpKGEpKXt2YXIgcz1pIGluIGUsYz1pIGluIHIsdT1lW2ldLGw9T2JqZWN0KEQuaXNWYWxpZEVsZW1lbnQpKHUpJiYhdS5wcm9wcy5pbjshY3x8cyYmIWw/Y3x8IXN8fGw/YyYmcyYmT2JqZWN0KEQuaXNWYWxpZEVsZW1lbnQpKHUpJiYob1tpXT1PYmplY3QoRC5jbG9uZUVsZW1lbnQpKGEse29uRXhpdGVkOm4uYmluZChudWxsLGEpLGluOnUucHJvcHMuaW4sZXhpdDpYKGEsImV4aXQiLHQpLGVudGVyOlgoYSwiZW50ZXIiLHQpfSkpOm9baV09T2JqZWN0KEQuY2xvbmVFbGVtZW50KShhLHtpbjohMX0pOm9baV09T2JqZWN0KEQuY2xvbmVFbGVtZW50KShhLHtvbkV4aXRlZDpuLmJpbmQobnVsbCxhKSxpbjohMCxleGl0OlgoYSwiZXhpdCIsdCksZW50ZXI6WChhLCJlbnRlciIsdCl9KX19KSksb312YXIgVj1PYmplY3QudmFsdWVzfHxmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmtleXModCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKX0sSj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIHIsbz0ocj10LmNhbGwodGhpcyxlLG4pfHx0aGlzKS5oYW5kbGVFeGl0ZWQuYmluZChXKFcocikpKTtyZXR1cm4gci5zdGF0ZT17Y29udGV4dFZhbHVlOntpc01vdW50aW5nOiEwfSxoYW5kbGVFeGl0ZWQ6byxmaXJzdFJlbmRlcjohMH0scn1IKGUsdCk7dmFyIG49ZS5wcm90b3R5cGU7cmV0dXJuIG4uY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt0aGlzLm1vdW50ZWQ9ITAsdGhpcy5zZXRTdGF0ZSh7Y29udGV4dFZhbHVlOntpc01vdW50aW5nOiExfX0pfSxuLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7dGhpcy5tb3VudGVkPSExfSxlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcz1mdW5jdGlvbih0LGUpe3ZhciBuLHIsbz1lLmNoaWxkcmVuLGk9ZS5oYW5kbGVFeGl0ZWQ7cmV0dXJue2NoaWxkcmVuOmUuZmlyc3RSZW5kZXI/KG49dCxyPWksWihuLmNoaWxkcmVuLChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KEQuY2xvbmVFbGVtZW50KSh0LHtvbkV4aXRlZDpyLmJpbmQobnVsbCx0KSxpbjohMCxhcHBlYXI6WCh0LCJhcHBlYXIiLG4pLGVudGVyOlgodCwiZW50ZXIiLG4pLGV4aXQ6WCh0LCJleGl0IixuKX0pfSkpKTokKHQsbyxpKSxmaXJzdFJlbmRlcjohMX19LG4uaGFuZGxlRXhpdGVkPWZ1bmN0aW9uKHQsZSl7dmFyIG49Wih0aGlzLnByb3BzLmNoaWxkcmVuKTt0LmtleSBpbiBufHwodC5wcm9wcy5vbkV4aXRlZCYmdC5wcm9wcy5vbkV4aXRlZChlKSx0aGlzLm1vdW50ZWQmJnRoaXMuc2V0U3RhdGUoKGZ1bmN0aW9uKGUpe3ZhciBuPXEoe30sZS5jaGlsZHJlbik7cmV0dXJuIGRlbGV0ZSBuW3Qua2V5XSx7Y2hpbGRyZW46bn19KSkpfSxuLnJlbmRlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMsZT10LmNvbXBvbmVudCxuPXQuY2hpbGRGYWN0b3J5LHI9VSh0LFsiY29tcG9uZW50IiwiY2hpbGRGYWN0b3J5Il0pLG89dGhpcy5zdGF0ZS5jb250ZXh0VmFsdWUsaT1WKHRoaXMuc3RhdGUuY2hpbGRyZW4pLm1hcChuKTtyZXR1cm4gZGVsZXRlIHIuYXBwZWFyLGRlbGV0ZSByLmVudGVyLGRlbGV0ZSByLmV4aXQsbnVsbD09PWU/Qi5hLmNyZWF0ZUVsZW1lbnQoWS5Qcm92aWRlcix7dmFsdWU6b30saSk6Qi5hLmNyZWF0ZUVsZW1lbnQoWS5Qcm92aWRlcix7dmFsdWU6b30sQi5hLmNyZWF0ZUVsZW1lbnQoZSxyLGkpKX0sZX0oQi5hLkNvbXBvbmVudCk7Si5wcm9wVHlwZXM9e30sSi5kZWZhdWx0UHJvcHM9e2NvbXBvbmVudDoiZGl2IixjaGlsZEZhY3Rvcnk6ZnVuY3Rpb24odCl7cmV0dXJuIHR9fTt2YXIgSz1KLEc9bigiaThpNCIpLFE9bi5uKEcpLHR0PSExLGV0PSJ1bm1vdW50ZWQiLG50PSJleGl0ZWQiLHJ0PSJlbnRlcmluZyIsb3Q9ImVudGVyZWQiLGl0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgcjtyPXQuY2FsbCh0aGlzLGUsbil8fHRoaXM7dmFyIG8saT1uJiYhbi5pc01vdW50aW5nP2UuZW50ZXI6ZS5hcHBlYXI7cmV0dXJuIHIuYXBwZWFyU3RhdHVzPW51bGwsZS5pbj9pPyhvPW50LHIuYXBwZWFyU3RhdHVzPXJ0KTpvPW90Om89ZS51bm1vdW50T25FeGl0fHxlLm1vdW50T25FbnRlcj9ldDpudCxyLnN0YXRlPXtzdGF0dXM6b30sci5uZXh0Q2FsbGJhY2s9bnVsbCxyfUgoZSx0KSxlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcz1mdW5jdGlvbih0LGUpe3JldHVybiB0LmluJiZlLnN0YXR1cz09PWV0P3tzdGF0dXM6bnR9Om51bGx9O3ZhciBuPWUucHJvdG90eXBlO3JldHVybiBuLmNvbXBvbmVudERpZE1vdW50PWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVTdGF0dXMoITAsdGhpcy5hcHBlYXJTdGF0dXMpfSxuLmNvbXBvbmVudERpZFVwZGF0ZT1mdW5jdGlvbih0KXt2YXIgZT1udWxsO2lmKHQhPT10aGlzLnByb3BzKXt2YXIgbj10aGlzLnN0YXRlLnN0YXR1czt0aGlzLnByb3BzLmluP24hPT1ydCYmbiE9PW90JiYoZT1ydCk6biE9PXJ0JiZuIT09b3R8fChlPSJleGl0aW5nIil9dGhpcy51cGRhdGVTdGF0dXMoITEsZSl9LG4uY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbE5leHRDYWxsYmFjaygpfSxuLmdldFRpbWVvdXRzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHI9dGhpcy5wcm9wcy50aW1lb3V0O3JldHVybiB0PWU9bj1yLG51bGwhPXImJiJudW1iZXIiIT09dHlwZW9mIHImJih0PXIuZXhpdCxlPXIuZW50ZXIsbj12b2lkIDAhPT1yLmFwcGVhcj9yLmFwcGVhcjplKSx7ZXhpdDp0LGVudGVyOmUsYXBwZWFyOm59fSxuLnVwZGF0ZVN0YXR1cz1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXQmJih0PSExKSxudWxsIT09ZSl7dGhpcy5jYW5jZWxOZXh0Q2FsbGJhY2soKTt2YXIgbj1RLmEuZmluZERPTU5vZGUodGhpcyk7ZT09PXJ0P3RoaXMucGVyZm9ybUVudGVyKG4sdCk6dGhpcy5wZXJmb3JtRXhpdChuKX1lbHNlIHRoaXMucHJvcHMudW5tb3VudE9uRXhpdCYmdGhpcy5zdGF0ZS5zdGF0dXM9PT1udCYmdGhpcy5zZXRTdGF0ZSh7c3RhdHVzOmV0fSl9LG4ucGVyZm9ybUVudGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMucHJvcHMuZW50ZXIsbz10aGlzLmNvbnRleHQ/dGhpcy5jb250ZXh0LmlzTW91bnRpbmc6ZSxpPXRoaXMuZ2V0VGltZW91dHMoKSxhPW8/aS5hcHBlYXI6aS5lbnRlcjshZSYmIXJ8fHR0P3RoaXMuc2FmZVNldFN0YXRlKHtzdGF0dXM6b3R9LChmdW5jdGlvbigpe24ucHJvcHMub25FbnRlcmVkKHQpfSkpOih0aGlzLnByb3BzLm9uRW50ZXIodCxvKSx0aGlzLnNhZmVTZXRTdGF0ZSh7c3RhdHVzOnJ0fSwoZnVuY3Rpb24oKXtuLnByb3BzLm9uRW50ZXJpbmcodCxvKSxuLm9uVHJhbnNpdGlvbkVuZCh0LGEsKGZ1bmN0aW9uKCl7bi5zYWZlU2V0U3RhdGUoe3N0YXR1czpvdH0sKGZ1bmN0aW9uKCl7bi5wcm9wcy5vbkVudGVyZWQodCxvKX0pKX0pKX0pKSl9LG4ucGVyZm9ybUV4aXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMucHJvcHMuZXhpdCxyPXRoaXMuZ2V0VGltZW91dHMoKTtuJiYhdHQ/KHRoaXMucHJvcHMub25FeGl0KHQpLHRoaXMuc2FmZVNldFN0YXRlKHtzdGF0dXM6ImV4aXRpbmcifSwoZnVuY3Rpb24oKXtlLnByb3BzLm9uRXhpdGluZyh0KSxlLm9uVHJhbnNpdGlvbkVuZCh0LHIuZXhpdCwoZnVuY3Rpb24oKXtlLnNhZmVTZXRTdGF0ZSh7c3RhdHVzOm50fSwoZnVuY3Rpb24oKXtlLnByb3BzLm9uRXhpdGVkKHQpfSkpfSkpfSkpKTp0aGlzLnNhZmVTZXRTdGF0ZSh7c3RhdHVzOm50fSwoZnVuY3Rpb24oKXtlLnByb3BzLm9uRXhpdGVkKHQpfSkpfSxuLmNhbmNlbE5leHRDYWxsYmFjaz1mdW5jdGlvbigpe251bGwhPT10aGlzLm5leHRDYWxsYmFjayYmKHRoaXMubmV4dENhbGxiYWNrLmNhbmNlbCgpLHRoaXMubmV4dENhbGxiYWNrPW51bGwpfSxuLnNhZmVTZXRTdGF0ZT1mdW5jdGlvbih0LGUpe2U9dGhpcy5zZXROZXh0Q2FsbGJhY2soZSksdGhpcy5zZXRTdGF0ZSh0LGUpfSxuLnNldE5leHRDYWxsYmFjaz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49ITA7cmV0dXJuIHRoaXMubmV4dENhbGxiYWNrPWZ1bmN0aW9uKHIpe24mJihuPSExLGUubmV4dENhbGxiYWNrPW51bGwsdChyKSl9LHRoaXMubmV4dENhbGxiYWNrLmNhbmNlbD1mdW5jdGlvbigpe249ITF9LHRoaXMubmV4dENhbGxiYWNrfSxuLm9uVHJhbnNpdGlvbkVuZD1mdW5jdGlvbih0LGUsbil7dGhpcy5zZXROZXh0Q2FsbGJhY2sobik7dmFyIHI9bnVsbD09ZSYmIXRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXI7dCYmIXI/KHRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXImJnRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXIodCx0aGlzLm5leHRDYWxsYmFjayksbnVsbCE9ZSYmc2V0VGltZW91dCh0aGlzLm5leHRDYWxsYmFjayxlKSk6c2V0VGltZW91dCh0aGlzLm5leHRDYWxsYmFjaywwKX0sbi5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLnN0YXR1cztpZih0PT09ZXQpcmV0dXJuIG51bGw7dmFyIGU9dGhpcy5wcm9wcyxuPWUuY2hpbGRyZW4scj1VKGUsWyJjaGlsZHJlbiJdKTtpZihkZWxldGUgci5pbixkZWxldGUgci5tb3VudE9uRW50ZXIsZGVsZXRlIHIudW5tb3VudE9uRXhpdCxkZWxldGUgci5hcHBlYXIsZGVsZXRlIHIuZW50ZXIsZGVsZXRlIHIuZXhpdCxkZWxldGUgci50aW1lb3V0LGRlbGV0ZSByLmFkZEVuZExpc3RlbmVyLGRlbGV0ZSByLm9uRW50ZXIsZGVsZXRlIHIub25FbnRlcmluZyxkZWxldGUgci5vbkVudGVyZWQsZGVsZXRlIHIub25FeGl0LGRlbGV0ZSByLm9uRXhpdGluZyxkZWxldGUgci5vbkV4aXRlZCwiZnVuY3Rpb24iPT09dHlwZW9mIG4pcmV0dXJuIEIuYS5jcmVhdGVFbGVtZW50KFkuUHJvdmlkZXIse3ZhbHVlOm51bGx9LG4odCxyKSk7dmFyIG89Qi5hLkNoaWxkcmVuLm9ubHkobik7cmV0dXJuIEIuYS5jcmVhdGVFbGVtZW50KFkuUHJvdmlkZXIse3ZhbHVlOm51bGx9LEIuYS5jbG9uZUVsZW1lbnQobyxyKSl9LGV9KEIuYS5Db21wb25lbnQpO2Z1bmN0aW9uIGF0KCl7fWl0LmNvbnRleHRUeXBlPVksaXQucHJvcFR5cGVzPXt9LGl0LmRlZmF1bHRQcm9wcz17aW46ITEsbW91bnRPbkVudGVyOiExLHVubW91bnRPbkV4aXQ6ITEsYXBwZWFyOiExLGVudGVyOiEwLGV4aXQ6ITAsb25FbnRlcjphdCxvbkVudGVyaW5nOmF0LG9uRW50ZXJlZDphdCxvbkV4aXQ6YXQsb25FeGl0aW5nOmF0LG9uRXhpdGVkOmF0fSxpdC5VTk1PVU5URUQ9MCxpdC5FWElURUQ9MSxpdC5FTlRFUklORz0yLGl0LkVOVEVSRUQ9MyxpdC5FWElUSU5HPTQ7dmFyIHN0PWl0O3ZhciBjdD1uKCJYWE9LIiksdXQ9bi5uKGN0KTtmdW5jdGlvbiBsdCh0LGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihkKCkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe2lmKEEoKShPYmplY3QodCkpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl7dmFyIG49W10scj0hMCxvPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEscz11dCgpKHQpOyEocj0oYT1zLm5leHQoKSkuZG9uZSkmJihuLnB1c2goYS52YWx1ZSksIWV8fG4ubGVuZ3RoIT09ZSk7cj0hMCk7fWNhdGNoKGMpe289ITAsaT1jfWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBpfX1yZXR1cm4gbn19KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSgpfXZhciBmdD1uKCJMUi9KIikscHQ9bi5uKGZ0KTtmdW5jdGlvbiBodCh0LGUpe3JldHVybiB0LnJlcGxhY2UobmV3IFJlZ0V4cCgiKF58XFxzKSIrZSsiKD86XFxzfCQpIiwiZyIpLCIkMSIpLnJlcGxhY2UoL1xzKy9nLCIgIikucmVwbGFjZSgvXlxzKnxccyokL2csIiIpfXZhciBkdD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZlJiZlLnNwbGl0KCIgIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHI9ZSx2b2lkKChuPXQpLmNsYXNzTGlzdD9uLmNsYXNzTGlzdC5yZW1vdmUocik6InN0cmluZyI9PT10eXBlb2Ygbi5jbGFzc05hbWU/bi5jbGFzc05hbWU9aHQobi5jbGFzc05hbWUscik6bi5zZXRBdHRyaWJ1dGUoImNsYXNzIixodChuLmNsYXNzTmFtZSYmbi5jbGFzc05hbWUuYmFzZVZhbHx8IiIscikpKTt2YXIgbixyfSkpfSx2dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7Zm9yKHZhciBlLG49YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShuKSxvPTA7bzxuO28rKylyW29dPWFyZ3VtZW50c1tvXTtyZXR1cm4oZT10LmNhbGwuYXBwbHkodCxbdGhpc10uY29uY2F0KHIpKXx8dGhpcykuYXBwbGllZENsYXNzZXM9e2FwcGVhcjp7fSxlbnRlcjp7fSxleGl0Ont9fSxlLm9uRW50ZXI9ZnVuY3Rpb24odCxuKXtlLnJlbW92ZUNsYXNzZXModCwiZXhpdCIpLGUuYWRkQ2xhc3ModCxuPyJhcHBlYXIiOiJlbnRlciIsImJhc2UiKSxlLnByb3BzLm9uRW50ZXImJmUucHJvcHMub25FbnRlcih0LG4pfSxlLm9uRW50ZXJpbmc9ZnVuY3Rpb24odCxuKXt2YXIgcj1uPyJhcHBlYXIiOiJlbnRlciI7ZS5hZGRDbGFzcyh0LHIsImFjdGl2ZSIpLGUucHJvcHMub25FbnRlcmluZyYmZS5wcm9wcy5vbkVudGVyaW5nKHQsbil9LGUub25FbnRlcmVkPWZ1bmN0aW9uKHQsbil7dmFyIHI9bj8iYXBwZWFyIjoiZW50ZXIiO2UucmVtb3ZlQ2xhc3Nlcyh0LHIpLGUuYWRkQ2xhc3ModCxyLCJkb25lIiksZS5wcm9wcy5vbkVudGVyZWQmJmUucHJvcHMub25FbnRlcmVkKHQsbil9LGUub25FeGl0PWZ1bmN0aW9uKHQpe2UucmVtb3ZlQ2xhc3Nlcyh0LCJhcHBlYXIiKSxlLnJlbW92ZUNsYXNzZXModCwiZW50ZXIiKSxlLmFkZENsYXNzKHQsImV4aXQiLCJiYXNlIiksZS5wcm9wcy5vbkV4aXQmJmUucHJvcHMub25FeGl0KHQpfSxlLm9uRXhpdGluZz1mdW5jdGlvbih0KXtlLmFkZENsYXNzKHQsImV4aXQiLCJhY3RpdmUiKSxlLnByb3BzLm9uRXhpdGluZyYmZS5wcm9wcy5vbkV4aXRpbmcodCl9LGUub25FeGl0ZWQ9ZnVuY3Rpb24odCl7ZS5yZW1vdmVDbGFzc2VzKHQsImV4aXQiKSxlLmFkZENsYXNzKHQsImV4aXQiLCJkb25lIiksZS5wcm9wcy5vbkV4aXRlZCYmZS5wcm9wcy5vbkV4aXRlZCh0KX0sZS5nZXRDbGFzc05hbWVzPWZ1bmN0aW9uKHQpe3ZhciBuPWUucHJvcHMuY2xhc3NOYW1lcyxyPSJzdHJpbmciPT09dHlwZW9mIG4sbz1yPyIiKyhyJiZuP24rIi0iOiIiKSt0Om5bdF07cmV0dXJue2Jhc2VDbGFzc05hbWU6byxhY3RpdmVDbGFzc05hbWU6cj9vKyItYWN0aXZlIjpuW3QrIkFjdGl2ZSJdLGRvbmVDbGFzc05hbWU6cj9vKyItZG9uZSI6blt0KyJEb25lIl19fSxlfUgoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5hZGRDbGFzcz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5nZXRDbGFzc05hbWVzKGUpW24rIkNsYXNzTmFtZSJdOyJhcHBlYXIiPT09ZSYmImRvbmUiPT09biYmKHIrPSIgIit0aGlzLmdldENsYXNzTmFtZXMoImVudGVyIikuZG9uZUNsYXNzTmFtZSksImFjdGl2ZSI9PT1uJiZ0JiZ0LnNjcm9sbFRvcCx0aGlzLmFwcGxpZWRDbGFzc2VzW2VdW25dPXIsZnVuY3Rpb24odCxlKXt0JiZlJiZlLnNwbGl0KCIgIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHI9ZSx2b2lkKChuPXQpLmNsYXNzTGlzdD9uLmNsYXNzTGlzdC5hZGQocik6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jbGFzc0xpc3Q/ISFlJiZ0LmNsYXNzTGlzdC5jb250YWlucyhlKTotMSE9PSgiICIrKHQuY2xhc3NOYW1lLmJhc2VWYWx8fHQuY2xhc3NOYW1lKSsiICIpLmluZGV4T2YoIiAiK2UrIiAiKX0obixyKXx8KCJzdHJpbmciPT09dHlwZW9mIG4uY2xhc3NOYW1lP24uY2xhc3NOYW1lPW4uY2xhc3NOYW1lKyIgIityOm4uc2V0QXR0cmlidXRlKCJjbGFzcyIsKG4uY2xhc3NOYW1lJiZuLmNsYXNzTmFtZS5iYXNlVmFsfHwiIikrIiAiK3IpKSk7dmFyIG4scn0pKX0odCxyKX0sbi5yZW1vdmVDbGFzc2VzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5hcHBsaWVkQ2xhc3Nlc1tlXSxyPW4uYmFzZSxvPW4uYWN0aXZlLGk9bi5kb25lO3RoaXMuYXBwbGllZENsYXNzZXNbZV09e30sciYmZHQodCxyKSxvJiZkdCh0LG8pLGkmJmR0KHQsaSl9LG4ucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcyxlPSh0LmNsYXNzTmFtZXMsVSh0LFsiY2xhc3NOYW1lcyJdKSk7cmV0dXJuIEIuYS5jcmVhdGVFbGVtZW50KHN0LHEoe30sZSx7b25FbnRlcjp0aGlzLm9uRW50ZXIsb25FbnRlcmVkOnRoaXMub25FbnRlcmVkLG9uRW50ZXJpbmc6dGhpcy5vbkVudGVyaW5nLG9uRXhpdDp0aGlzLm9uRXhpdCxvbkV4aXRpbmc6dGhpcy5vbkV4aXRpbmcsb25FeGl0ZWQ6dGhpcy5vbkV4aXRlZH0pKX0sZX0oQi5hLkNvbXBvbmVudCk7dnQuZGVmYXVsdFByb3BzPXtjbGFzc05hbWVzOiIifSx2dC5wcm9wVHlwZXM9e307Zm9yKHZhciB5dD12dCxtdD1CLmEuY3JlYXRlRWxlbWVudCxndD0iXG5hbmltYXRpb24tbmFtZTogRmFkZVRyYW5zaXRpb25BbmltYXRpb247XG5hbmltYXRpb24tZHVyYXRpb246IDE1MG1zO1xuYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogbGluZWFyO1xuYW5pbWF0aW9uLWZpbGwtbW9kZTogYm90aDtcbiIsYnQ9e2VudGVyOntzdHlsZXM6bXQoSS5hLHtpZDoiMTgzMTI2OTEzMCJ9LFsiZGl2LmpzeC0xODMxMjY5MTMwe29wYWNpdHk6MCAhaW1wb3J0YW50O30iXSksY2xhc3NOYW1lOiJqc3gtMTgzMTI2OTEzMCJ9LGVudGVyQWN0aXZlOntzdHlsZXM6bXQoSS5hLHtpZDoiNjQwMDA1MzU2In0sWyJkaXYuanN4LTY0MDAwNTM1NnsiLmNvbmNhdChndCwiIG9wYWNpdHk6MSAhaW1wb3J0YW50O30iKV0pLGNsYXNzTmFtZToianN4LTY0MDAwNTM1NiJ9LGVudGVyRG9uZTp7c3R5bGVzOm10KEkuYSx7aWQ6IjE2NDkxOTkxMTcifSxbImRpdi5qc3gtMTY0OTE5OTExN3tvcGFjaXR5OjEgIWltcG9ydGFudDt9Il0pLGNsYXNzTmFtZToianN4LTE2NDkxOTkxMTcifSxleGl0OntzdHlsZXM6bXQoSS5hLHtpZDoiMTY0OTE5OTExNyJ9LFsiZGl2LmpzeC0xNjQ5MTk5MTE3e29wYWNpdHk6MSAhaW1wb3J0YW50O30iXSksY2xhc3NOYW1lOiJqc3gtMTY0OTE5OTExNyJ9LGV4aXRBY3RpdmU6e3N0eWxlczptdChJLmEse2lkOiIxMTQyMjIxMzIyIn0sWyJkaXYuanN4LTExNDIyMjEzMjJ7Ii5jb25jYXQoZ3QsIiBvcGFjaXR5OjAgIWltcG9ydGFudDt9IildKSxjbGFzc05hbWU6ImpzeC0xMTQyMjIxMzIyIn0sZXhpdERvbmU6e3N0eWxlczptdChJLmEse2lkOiIxODMxMjY5MTMwIn0sWyJkaXYuanN4LTE4MzEyNjkxMzB7b3BhY2l0eTowICFpbXBvcnRhbnQ7fSJdKSxjbGFzc05hbWU6ImpzeC0xODMxMjY5MTMwIn19LHh0PXt9LHd0PTAsa3Q9cHQoKShidCk7d3Q8a3QubGVuZ3RoO3d0Kyspe3ZhciBfdD1sdChrdFt3dF0sMiksQXQ9X3RbMF0sT3Q9X3RbMV07eHRbQXRdPU90LmNsYXNzTmFtZX1mdW5jdGlvbiBqdCh0KXt2YXIgZT10LmRlbGF5TWlsbGlzLG49dC5jaGlsZHJlbixyPWcodCxbImRlbGF5TWlsbGlzIiwiY2hpbGRyZW4iXSksbz1PYmplY3QoRC51c2VNZW1vKSgoZnVuY3Rpb24oKXtyZXR1cm57ZW50ZXI6MTUwKyhlfHwwKSxleGl0OjE1MCsoZXx8MCl9fSksW2VdKTtyZXR1cm4gbXQoQi5hLkZyYWdtZW50LG51bGwsbXQoeXQsT2JqZWN0KHYuYSkoe30scix7Y2xhc3NOYW1lczp4dCx0aW1lb3V0Om8sYXBwZWFyOiEwfSksZT9tdCgiZGl2Iix7c3R5bGU6e2FuaW1hdGlvbkRlbGF5OiIiLmNvbmNhdChlLCJtcyIpfX0sbik6biksYnQuZW50ZXIuc3R5bGVzLGJ0LmVudGVyQWN0aXZlLnN0eWxlcyxidC5lbnRlckRvbmUuc3R5bGVzLGJ0LmV4aXQuc3R5bGVzLGJ0LmV4aXRBY3RpdmUuc3R5bGVzLGJ0LmV4aXREb25lLnN0eWxlcyl9dmFyIEV0PW4oIlVJUm8iKSxTdD1uKCJXY3E2Iik7bigiNm5zTiIpLG4oInExMGkiKTtmdW5jdGlvbiBOdCh0KXt2YXIgZTtyZXR1cm4gUC5hLmFzeW5jKChmdW5jdGlvbihuKXtmb3IoOzspc3dpdGNoKG4ucHJldj1uLm5leHQpe2Nhc2UgMDppZighdCl7bi5uZXh0PTExO2JyZWFrfXJldHVybiBuLm5leHQ9MyxQLmEuYXdyYXAodC5nZXRJZFRva2VuUmVzdWx0KCkpO2Nhc2UgMzppZihlPW4uc2VudCwhdC5pc0Fub255bW91cyl7bi5uZXh0PTg7YnJlYWt9cmV0dXJuIG4uYWJydXB0KCJyZXR1cm4iLHtzdGF0ZToiYW5vbnltb3VzIix1c2VySUQ6dC51aWQscm9sZXM6ZS5jbGFpbXMucm9sZXN8fFtdfSk7Y2FzZSA4OnJldHVybiBuLmFicnVwdCgicmV0dXJuIix7c3RhdGU6InJlZ2lzdGVyZWQiLHVzZXJJRDp0LnVpZCxyb2xlczplLmNsYWltcy5yb2xlc3x8W10sZW1haWw6dC5lbWFpbH0pO2Nhc2UgOTpuLm5leHQ9MTI7YnJlYWs7Y2FzZSAxMTpyZXR1cm4gbi5hYnJ1cHQoInJldHVybiIse3N0YXRlOiJwZW5kaW5nIn0pO2Nhc2UgMTI6Y2FzZSJlbmQiOnJldHVybiBuLnN0b3AoKX19KSl9ZnVuY3Rpb24gUHQoKXt2YXIgdD1PYmplY3QoRC51c2VTdGF0ZSkoe3N0YXRlOiJwZW5kaW5nIn0pLGU9dFswXSxuPXRbMV07ZnVuY3Rpb24gcih0KXt2YXIgZTtyZXR1cm4gUC5hLmFzeW5jKChmdW5jdGlvbihyKXtmb3IoOzspc3dpdGNoKHIucHJldj1yLm5leHQpe2Nhc2UgMDpyZXR1cm4gci5uZXh0PTIsUC5hLmF3cmFwKE50KHQpKTtjYXNlIDI6ZT1yLnNlbnQsY29uc29sZS5sb2coZSksbigoZnVuY3Rpb24odCl7cmV0dXJuIEwoKShlLHQpP3Q6ZX0pKTtjYXNlIDU6Y2FzZSJlbmQiOnJldHVybiByLnN0b3AoKX19KSl9cmV0dXJuIE9iamVjdChELnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7dmFyIHQ9U3QuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZCgoZnVuY3Rpb24odCl7cmV0dXJuIFAuYS5hc3luYygoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6dHx8U3QuYXV0aCgpLnNpZ25JbkFub255bW91c2x5KCkscih0KTtjYXNlIDI6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSl9KSksZT1TdC5hdXRoKCkub25JZFRva2VuQ2hhbmdlZCgoZnVuY3Rpb24odCl7cmV0dXJuIFAuYS5hc3luYygoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6Y29uc29sZS5sb2coIklEIHRva2VuIGNoYW5nZWQiKSxyKHQpO2Nhc2UgMjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pKX0pKTtyZXR1cm4gZnVuY3Rpb24oKXt0KCksZSgpfX0pLFtdKSxlfXZhciBDdD1uKCJ3VUNxIiksSXQ9KG4oIjdqQlciKSxCLmEuY3JlYXRlRWxlbWVudCk7ZnVuY3Rpb24gVHQoKXtyZXR1cm4gSXQoImhlYWRlciIse2lkOiJoZWFkZXIifSxJdCgiaDEiLG51bGwsRXQuYyksRXQuYi5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEl0KCJhIix7Y2xhc3NOYW1lOiJub3RlTGluayIsaHJlZjoiLyIuY29uY2F0KE9iamVjdChDdC5nZXRTbHVnRm9yTm90ZUJhc2VuYW1lKSh0KSksa2V5OmV9LHQpfSkpLEl0KE10LG51bGwpKX1mdW5jdGlvbiBNdCgpe3ZhciB0PW51bGwsZT1QdCgpO3JldHVybiJhbm9ueW1vdXMiPT09ZS5zdGF0ZSYmZS5yb2xlcy5sZW5ndGg+MD90PUl0KCJzcGFuIix7Y2xhc3NOYW1lOiJhbm9ueW1vdXNOb3RpY2UifSwiWW91J3ZlIGJlZW4gZ2l2ZW4gYWNjZXNzIHRvIHByaXZhdGUgbm90ZXMuIiwiICIsSXQoImEiLHtocmVmOiIvbG9naW4/Y29udGludWU9Ii5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSl9LCJMb2dpbiIpLCIgIiwidG8gc2F2ZSB0aGF0IGFjY2VzcyBmb3IgZnV0dXJlIHNlc3Npb25zLiIpOiJyZWdpc3RlcmVkIj09PWUuc3RhdGUmJih0PUl0KCJzcGFuIix7Y2xhc3NOYW1lOiJpZGVudGl0eSJ9LGUuZW1haWx8fGUudXNlcklEKSksSXQoImRpdiIse2NsYXNzTmFtZToidXNlclN0YXRlIn0sdCl9ZnVuY3Rpb24gTHQodCxlKXt2YXIgbj1PYmplY3QoRC51c2VSZWYpKChmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiQ2Fubm90IGNhbGwgYW4gZXZlbnQgaGFuZGxlciB3aGlsZSByZW5kZXJpbmcuIil9KSk7cmV0dXJuIE9iamVjdChELnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7bi5jdXJyZW50PXR9KSxbdF0uY29uY2F0KE8oZSkpKSxPYmplY3QoRC51c2VDYWxsYmFjaykoKGZ1bmN0aW9uKCl7dmFyIHQ9bi5jdXJyZW50O3JldHVybiB0LmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfSksW25dKX12YXIgenQ9ImluYWN0aXZlIjtmdW5jdGlvbiBSdCgpeyJ1bmRlZmluZWQiPT09dHlwZW9mIGRvY3VtZW50fHwic2Nyb2xsQmVoYXZpb3IiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlfHwibG9hZGVkIj09PXp0fHwiaW5hY3RpdmUiIT09enR8fCh6dD0ibG9hZGluZyIsY29uc29sZS5pbmZvKCJJbXBvcnRpbmcgc2Nyb2xsIGJlaGF2aW9yIHBvbGZpbGwiKSxuLmUoMTcpLnRoZW4obi50LmJpbmQobnVsbCwiWXhPMSIsNykpLnRoZW4oKGZ1bmN0aW9uKCl7Y29uc29sZS5pbmZvKCJEb25lIGxvYWRpbmcgc2Nyb2xsIGJlaGF2aW9yIHBvbGZpbGwiKSx6dD0ibG9hZGVkIn0pKSl9ZnVuY3Rpb24gRnQoKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QoRC51c2VTdGF0ZSkod2luZG93LmlubmVyV2lkdGgpLGU9dFswXSxuPXRbMV0scj1PYmplY3QoRC51c2VTdGF0ZSkod2luZG93LmlubmVySGVpZ2h0KSxvPXJbMF0saT1yWzFdO3JldHVybiBPYmplY3QoRC51c2VFZmZlY3QpKChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtuKHdpbmRvdy5pbm5lcldpZHRoKSxpKHdpbmRvdy5pbm5lckhlaWdodCl9cmV0dXJuIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLHQpLGZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLHQpfX0pLFshMF0pLFtlLG9dfSgpWzBdPj04MDA/ImRlc2t0b3AiOiJoYW5kaGVsZCJ9dmFyIER0PW4oIlhCdUkiKSxCdD1uKCJJdWpXIiksVXQ9bi5uKEJ0KSxxdD1uKCJmelB0IiksSHQ9bi5uKHF0KSxXdD1uKCI0NGozIiksWXQ9ImN1YmljLWJlemllcigwLjE5LCAxLCAwLjIyLCAxKSIsWnQ9InJnYmEoMTAsIDEzMiwgMjU1LCAxKSIsWHQ9IiNmYWZhZmMiLCR0PSctYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90byxcbkhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYsICJBcHBsZSBDb2xvciBFbW9qaSIsICJTZWdvZSBVSSBFbW9qaSIsXG4iU2Vnb2UgVUkgU3ltYm9sIicsVnQ9Qi5hLmNyZWF0ZUVsZW1lbnQsSnQ9Qi5hLm1lbW8oKGZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdChELnVzZVJlZikobnVsbCksbj10Lm5vdGVTbHVnLHI9dC5kYXRhLnBlcm1hbGluayxvPU9iamVjdChELnVzZUNvbnRleHQpKEplKSxpPU9iamVjdChELnVzZUNvbnRleHQpKEtlKSxhPUZ0KCkscz1PYmplY3QoRC51c2VDYWxsYmFjaykoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuY3VycmVudCYmKG51bGw9PT1vfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLm9uSG92ZXJOb3RlTGluayhuLHIsZS5jdXJyZW50KSl9KSxbbyxuLHJdKSxjPU9iamVjdChELnVzZUNhbGxiYWNrKSgoZnVuY3Rpb24oKXtyZXR1cm4gZS5jdXJyZW50JiYobnVsbD09PW98fHZvaWQgMD09PW8/dm9pZCAwOm8ub25Ib3Zlck5vdGVMaW5rKG4sbnVsbCxlLmN1cnJlbnQpKX0pLFtvLG5dKTtyZXR1cm4gVnQoV3QuYSx7c2x1Zzp0LmRhdGEucGVybWFsaW5rLHRpdGxlOnQuZGF0YS5hbGlhcyxvbk1vdXNlRW50ZXI6ImRlc2t0b3AiPT09YT9zOnZvaWQgMCxvbk1vdXNlTGVhdmU6ImRlc2t0b3AiPT09YT9jOnZvaWQgMCxvbk5hdmlnYXRlOk9iamVjdChELnVzZUNhbGxiYWNrKSgoZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PT1vfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLm9uTmF2aWdhdGUobix0KX0pLFtvLG5dKSxyZWY6ZSxpc0FjdGl2ZToobnVsbD09PWl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZGlzcGxheWVkU2x1Z3MuaW5jbHVkZXModC5kYXRhLnBlcm1hbGluaykpfHwhMX0pfSkpLEt0PVtbSHQuYSx7YWxpYXNEaXZpZGVyOiI6OjoiLGhyZWZUZW1wbGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4iLyIuY29uY2F0KHQpfSxwYWdlUmVzb2x2ZXI6ZnVuY3Rpb24odCl7cmV0dXJuW09iamVjdChDdC5nZXRTbHVnRm9yTm90ZUJhc2VuYW1lKSh0KV19fV0sbigiMmxRNyIpXSxHdD17Y29tbW9ubWFyazohMCxwZWRhbnRpYzohMH0sUXQ9Qi5hLm1lbW8oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hpbGRyZW4sbj10Lm5vdGVTbHVnLHI9dC5pc0hvdmVyZWREZXN0aW5hdGlvbjtyZXR1cm4gVnQoImRpdiIse2NsYXNzTmFtZTpJLmEuZHluYW1pYyhbWyI0MjQ5MDgwMjU1IixbJHQsWnQscj9adDoiaW5oZXJpdCIsWHRdXV0pfSxWdChVdC5hLHtwbHVnaW5zOkt0LHBhcnNlck9wdGlvbnM6R3QsY2xhc3NOYW1lOiJNYXJrZG93bkNvbnRhaW5lciIsc291cmNlOmUscmVuZGVyZXJzOk9iamVjdChELnVzZU1lbW8pKChmdW5jdGlvbigpe3JldHVybnt3aWtpTGluazpmdW5jdGlvbih0KXtyZXR1cm4gVnQoSnQsT2JqZWN0KHYuYSkoe30sdCx7bm90ZVNsdWc6bn0pKX19fSksW25dKX0pLFZ0KEkuYSx7aWQ6IjQyNDkwODAyNTUiLGR5bmFtaWM6WyR0LFp0LHI/WnQ6ImluaGVyaXQiLFh0XX0sWyJkaXYuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3RvcntoZWlnaHQ6MTAwJTtvdmVyZmxvdzpoaWRkZW47fSIsImRpdi5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yIC5NYXJrZG93bkNvbnRhaW5lcntmb250LWZhbWlseToiLmNvbmNhdCgkdCwiO2NvbG9yOiMzMzM7Zm9udC1zaXplOjE3cHg7bGluZS1oZWlnaHQ6MjRweDstd2Via2l0LWxldHRlci1zcGFjaW5nOi0wLjAyNCU7LW1vei1sZXR0ZXItc3BhY2luZzotMC4wMjQlOy1tcy1sZXR0ZXItc3BhY2luZzotMC4wMjQlO2xldHRlci1zcGFjaW5nOi0wLjAyNCU7fSIpLCJkaXYuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3RvciAuTWFya2Rvd25Db250YWluZXIgcHttYXJnaW4tdG9wOjBlbTttYXJnaW4tYm90dG9tOjFlbTt9IiwiZGl2Ll9fanN4LXN0eWxlLWR5bmFtaWMtc2VsZWN0b3IgLk1hcmtkb3duQ29udGFpbmVyIHVse21hcmdpbi10b3A6MGVtO21hcmdpbi1ib3R0b206MGVtO30iLCJkaXYuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3RvciAuTWFya2Rvd25Db250YWluZXIgdWwgbGl7bWFyZ2luLWJvdHRvbTowLjVlbTt9IiwiZGl2Ll9fanN4LXN0eWxlLWR5bmFtaWMtc2VsZWN0b3IgLk1hcmtkb3duQ29udGFpbmVyIHVsIGxpPnB7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDt9IiwiZGl2Ll9fanN4LXN0eWxlLWR5bmFtaWMtc2VsZWN0b3IgLk1hcmtkb3duQ29udGFpbmVyIHVsIHVse21hcmdpbi10b3A6MC41ZW07fSIsImRpdi5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yIC5NYXJrZG93bkNvbnRhaW5lciBhey13ZWJraXQtdGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y29sb3I6Ii5jb25jYXQoWnQsIjt9IiksImRpdi5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yIC5NYXJrZG93bkNvbnRhaW5lciBhOmhvdmVyey13ZWJraXQtdGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO30iLCJkaXYuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3RvciAuTWFya2Rvd25Db250YWluZXIgYTp2aXNpdGVke2NvbG9yOiNhZjUyZGU7fSIsImRpdi5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yIC5NYXJrZG93bkNvbnRhaW5lciBoMXtmb250LXNpemU6MjhweDtsaW5lLWhlaWdodDozNHB4Oy13ZWJraXQtbGV0dGVyLXNwYWNpbmc6MC4wMTElOy1tb3otbGV0dGVyLXNwYWNpbmc6MC4wMTElOy1tcy1sZXR0ZXItc3BhY2luZzowLjAxMSU7bGV0dGVyLXNwYWNpbmc6MC4wMTElO2ZvbnQtd2VpZ2h0OjYwMDttYXJnaW4tdG9wOjBweDttYXJnaW4tYm90dG9tOjE2cHg7Y29sb3I6Ii5jb25jYXQocj9adDoiaW5oZXJpdCIsIjt9IiksImRpdi5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yIC5NYXJrZG93bkNvbnRhaW5lciBoMntmb250LXNpemU6MjVweDtsaW5lLWhlaWdodDozMXB4Oy13ZWJraXQtbGV0dGVyLXNwYWNpbmc6MC4wMTQlOy1tb3otbGV0dGVyLXNwYWNpbmc6MC4wMTQlOy1tcy1sZXR0ZXItc3BhY2luZzowLjAxNCU7bGV0dGVyLXNwYWNpbmc6MC4wMTQlO2ZvbnQtd2VpZ2h0Om5vcm1hbDttYXJnaW4tdG9wOjEuNWVtO21hcmdpbi1ib3R0b206MC41ZW07fSIsImRpdi5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yIC5NYXJrZG93bkNvbnRhaW5lciBoM3tmb250LXdlaWdodDo2MDA7bWFyZ2luLXRvcDoxZW07bWFyZ2luLWJvdHRvbTowLjVlbTt9IiwiZGl2Ll9fanN4LXN0eWxlLWR5bmFtaWMtc2VsZWN0b3IgLk1hcmtkb3duQ29udGFpbmVyIGhye21hcmdpbi10b3A6MmVtO21hcmdpbi1ib3R0b206MWVtO2hlaWdodDoxcHg7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojZGRkO30iLCJkaXYuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3RvciAuTWFya2Rvd25Db250YWluZXIgcHJle2ZvbnQtc2l6ZToxM3B4O2xpbmUtaGVpZ2h0OjE3cHg7b3ZlcmZsb3cteDphdXRvO2JhY2tncm91bmQtY29sb3I6Ii5jb25jYXQoWHQsIjtwYWRkaW5nOjRweDt9IiksImRpdi5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yIC5NYXJrZG93bkNvbnRhaW5lciBpbWd7bWF4LXdpZHRoOjEwMCU7bWF4LWhlaWdodDo1MDBweDtvYmplY3QtZml0OmNvbnRhaW47ZGlzcGxheTpibG9jazttYXJnaW4tbGVmdDphdXRvO21hcmdpbi1yaWdodDphdXRvO30iXSkpfSkpLHRlPW4oImwrclkiKSxlZT1uLm4odGUpLG5lPUIuYS5jcmVhdGVFbGVtZW50O3ZhciByZT1PYmplY3QoVC5wcm9jZXNzb3IpKCkudXNlKChmdW5jdGlvbigpe3RoaXMuQ29tcGlsZXIucHJvdG90eXBlLnZpc2l0b3JzLmhlYWRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sdGhpcy5Db21waWxlci5wcm90b3R5cGUudmlzaXRvcnNbVC5ub3RlTGlua05vZGVUeXBlXT1mdW5jdGlvbih0KXtyZXR1cm4gdC50YXJnZXROb3RlRGlzcGxheU5hbWV9fSkpLnVzZShlZS5hLHtrZWVwOlsiaGVhZGluZyIsImh0bWwiXX0pLG9lPUIuYS5tZW1vKChmdW5jdGlvbih0KXt2YXIgZT10LnNsdWcsbj10LmNvbnRlbnRNYXJrZG93bixyPXQuY3RpbWVNaWxsaXMsbz10Lm10aW1lTWlsbGlzLGk9dC5iYWNrbGlua2VkTm90ZXMsYT10LmlzSG92ZXJlZERlc3RpbmF0aW9uLHM9aS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiF0LmhpZGRlbn0pKTtyZXR1cm4gbmUoImRpdiIse2NsYXNzTmFtZTpJLmEuZHluYW1pYyhbWyIxMTQzOTcyMjcwIixbWHRdXV0pKyIgTm90ZUNvbnRhaW5lciJ9LG5lKCJkaXYiLHtrZXk6ZSxjbGFzc05hbWU6SS5hLmR5bmFtaWMoW1siMTE0Mzk3MjI3MCIsW1h0XV1dKSsiIFByaW1hcnlOb3RlIn0sbmUoUXQse25vdGVTbHVnOmUsaXNIb3ZlcmVkRGVzdGluYXRpb246YX0sbikscj9uZSgiZGl2Iix7Y2xhc3NOYW1lOkkuYS5keW5hbWljKFtbIjExNDM5NzIyNzAiLFtYdF1dXSkrIiBGb290ZXJNZXRhIn0sIkxhc3QgdXBkYXRlZCAiLG5ldyBEYXRlKG8pLnRvSVNPU3RyaW5nKCkuc3BsaXQoIlQiKVswXSwiLiIpOm51bGwpLHMubGVuZ3RoPjAmJm5lKEIuYS5GcmFnbWVudCxudWxsLG5lKCJkaXYiLHtjbGFzc05hbWU6SS5hLmR5bmFtaWMoW1siMTE0Mzk3MjI3MCIsW1h0XV1dKSsiIEZvb3RlciJ9LG5lKCJoMyIse2NsYXNzTmFtZTpJLmEuZHluYW1pYyhbWyIxMTQzOTcyMjcwIixbWHRdXV0pKyIgQmFja2xpbmtzSGVhZGluZyJ9LCJMaW5rcyB0byB0aGlzIG5vdGUiKSxuZSgiZGl2Iix7Y2xhc3NOYW1lOkkuYS5keW5hbWljKFtbIjExNDM5NzIyNzAiLFtYdF1dXSkrIiBCYWNrbGlua3NDb250YWluZXIifSxzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG5lKGllLHtiYWNrbGluazp0LGtleTp0LmxpbmtpbmdOb3RlVGl0bGUscGFyZW50Tm90ZVNsdWc6ZX0pfSkpKSkpLG5lKEkuYSx7aWQ6IjExNDM5NzIyNzAiLGR5bmFtaWM6W1h0XX0sWyIuTm90ZUNvbnRhaW5lci5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yey13ZWJraXQtZmxleC1zaHJpbms6MDstbXMtZmxleC1uZWdhdGl2ZTowO2ZsZXgtc2hyaW5rOjA7fSIsJy5Ob3RlQ29udGFpbmVyLl9fanN4LXN0eWxlLWR5bmFtaWMtc2VsZWN0b3IgaDMuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3Rvcntmb250LWZhbWlseTotYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCwiU2Vnb2UgVUkiLFJvYm90byxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZiwiQXBwbGUgQ29sb3IgRW1vamkiLCJTZWdvZSBVSSBFbW9qaSIsIlNlZ29lIFVJIFN5bWJvbCI7Zm9udC1zaXplOjE3cHg7bGluZS1oZWlnaHQ6MjRweDstd2Via2l0LWxldHRlci1zcGFjaW5nOi0wLjAyNCU7LW1vei1sZXR0ZXItc3BhY2luZzotMC4wMjQlOy1tcy1sZXR0ZXItc3BhY2luZzotMC4wMjQlO2xldHRlci1zcGFjaW5nOi0wLjAyNCU7Y29sb3I6Izg4ODttYXJnaW46MHB4IDBweCAwcHggMHB4O30nLCJAbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOjgwMXB4KXsuTm90ZUNvbnRhaW5lci5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yIC5QcmltYXJ5Tm90ZS5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9ye3BhZGRpbmc6MzJweDt9fSIsIkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6ODAwcHgpey5Ob3RlQ29udGFpbmVyLl9fanN4LXN0eWxlLWR5bmFtaWMtc2VsZWN0b3IgLlByaW1hcnlOb3RlLl9fanN4LXN0eWxlLWR5bmFtaWMtc2VsZWN0b3J7cGFkZGluZzoxNnB4O319IiwnLk5vdGVDb250YWluZXIuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3RvciAuRm9vdGVyTWV0YS5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9ye2ZvbnQtZmFtaWx5Oi1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LCJTZWdvZSBVSSIsUm9ib3RvLEhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmLCJBcHBsZSBDb2xvciBFbW9qaSIsIlNlZ29lIFVJIEVtb2ppIiwiU2Vnb2UgVUkgU3ltYm9sIjtmb250LXNpemU6MTJweDtsaW5lLWhlaWdodDoxNXB4O2ZvbnQtd2VpZ2h0OjUwMDtjb2xvcjojYWFhO30nLCIuTm90ZUNvbnRhaW5lci5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yIC5Gb290ZXIuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3RvcnttYXJnaW46MTZweDtwYWRkaW5nOjE2cHg7YmFja2dyb3VuZC1jb2xvcjoiLmNvbmNhdChYdCwiO2JvcmRlci1yYWRpdXM6MTZweDt9IiksIkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6ODAwcHgpey5Ob3RlQ29udGFpbmVyLl9fanN4LXN0eWxlLWR5bmFtaWMtc2VsZWN0b3IgLkZvb3Rlci5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9ye21hcmdpbjo4cHg7cGFkZGluZzo4cHg7fX0iLCIuTm90ZUNvbnRhaW5lci5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yIC5CYWNrbGlua3NDb250YWluZXIuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3RvcntkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LXdlYmtpdC1mbGV4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtZmxleC13cmFwOndyYXA7LW1zLWZsZXgtd3JhcDp3cmFwO2ZsZXgtd3JhcDp3cmFwOy13ZWJraXQtYm94LXBhY2s6anVzdGlmeTstd2Via2l0LWp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOy1tcy1mbGV4LXBhY2s6anVzdGlmeTtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbjtwb3NpdGlvbjpyZWxhdGl2ZTt9IiwiLk5vdGVDb250YWluZXIuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3RvciAuQmFja2xpbmtzQ29udGFpbmVyLl9fanN4LXN0eWxlLWR5bmFtaWMtc2VsZWN0b3I+YXstd2Via2l0LXRleHQtZGVjb3JhdGlvbjpub25lO3RleHQtZGVjb3JhdGlvbjpub25lO30iXSkpfSksTC5hKSxpZT1CLmEubWVtbygoZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJlbnROb3RlU2x1ZyxuPXQuYmFja2xpbmsscj1PYmplY3QoRC51c2VDb250ZXh0KShKZSksbz1uLmxpbmtpbmdOb3RlU2x1ZyxpPU9iamVjdChDdC5nZXROb3RlQmFzZW5hbWVGb3JTbHVnKShlKSxhPU9iamVjdChELnVzZUNhbGxiYWNrKSgoZnVuY3Rpb24oKXtudWxsPT09cnx8dm9pZCAwPT09cnx8ci5vbk5hdmlnYXRlKGUsbyl9KSxbcixvLGVdKSxzPW4uY29udGV4dEJsb2Nrc1swXXx8IiIsYz1PYmplY3QoRC51c2VTdGF0ZSkobmUoInNwYW4iLG51bGwpKSx1PWNbMF0sbD1jWzFdO09iamVjdChELnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7dmFyIHQ9cyxlPXMucmVwbGFjZSgiW1siLmNvbmNhdChpLCJdXSIpLCI8c3Ryb25nPiIuY29uY2F0KGksIjwvc3Ryb25nPiIpKTtyZS5wcm9jZXNzKGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3M9PT10JiZsKG5lKCJzcGFuIix7ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6e19faHRtbDplLnRvU3RyaW5nKCl9fSkpfSkpfSksW3MsaV0pO3ZhciBmPU9iamVjdChELnVzZVJlZikobnVsbCkscD1GdCgpLGg9T2JqZWN0KEQudXNlQ2FsbGJhY2spKChmdW5jdGlvbigpe3JldHVybiBmLmN1cnJlbnQmJihudWxsPT09cnx8dm9pZCAwPT09cj92b2lkIDA6ci5vbkhvdmVyTm90ZUxpbmsoZSxvLGYuY3VycmVudCkpfSksW3IsbyxlXSksZD1PYmplY3QoRC51c2VDYWxsYmFjaykoKGZ1bmN0aW9uKCl7cmV0dXJuIGYuY3VycmVudCYmKG51bGw9PT1yfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLm9uSG92ZXJOb3RlTGluayhlLG51bGwsZi5jdXJyZW50KSl9KSxbcixlXSk7cmV0dXJuIG5lKFd0LmIse3NsdWc6byxrZXk6byxvbk5hdmlnYXRlOmF9LG5lKCJkaXYiLHtyZWY6Zixvbk1vdXNlRW50ZXI6ImRlc2t0b3AiPT09cD9oOnZvaWQgMCxvbk1vdXNlTGVhdmU6ImRlc2t0b3AiPT09cD9kOnZvaWQgMCxjbGFzc05hbWU6SS5hLmR5bmFtaWMoW1siMjM4Nzk5ODUyNSIsWzExOCwkdF1dXSkrIiBMaW5rZWROb3RlIEJhY2tsaW5rIn0sbmUoInAiLHtjbGFzc05hbWU6SS5hLmR5bmFtaWMoW1siMjM4Nzk5ODUyNSIsWzExOCwkdF1dXSkrIiBUaXRsZSJ9LG4ubGlua2luZ05vdGVUaXRsZSksbmUoInAiLHtjbGFzc05hbWU6SS5hLmR5bmFtaWMoW1siMjM4Nzk5ODUyNSIsWzExOCwkdF1dXSkrIiBQcmV2aWV3In0sdSksbmUoSS5hLHtpZDoiMjM4Nzk5ODUyNSIsZHluYW1pYzpbMTE4LCR0XX0sWyIuTGlua2VkTm90ZS5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9ye3dpZHRoOjI4MnB4O2hlaWdodDoiLmNvbmNhdCgxMTgsInB4O2Rpc3BsYXk6LXdlYmtpdC1ib3g7LXdlYmtpdC1ib3gtb3JpZW50OnZlcnRpY2FsOy13ZWJraXQtbGluZS1jbGFtcDozO292ZXJmbG93OmhpZGRlbjstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7bWFyZ2luOjhweCAtOHB4IDBweCAtOHB4O3BhZGRpbmc6OHB4O2JvcmRlci1yYWRpdXM6OHB4O2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgbGluZWFyIDEwMG1zO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciBsaW5lYXIgMTAwbXM7fSIpLCIuTGlua2VkTm90ZS5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yOmhvdmVyLC5MaW5rZWROb3RlLkhvdmVyZWQuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3Rvcnstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciBsaW5lYXIgNTBtczt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgbGluZWFyIDUwbXM7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLDAuMDUpO30iLCIuTGlua2VkTm90ZS5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yOmFjdGl2ZXstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciBsaW5lYXIgNTBtczt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgbGluZWFyIDUwbXM7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLDAuMSk7fSIsIi5MaW5rZWROb3RlLl9fanN4LXN0eWxlLWR5bmFtaWMtc2VsZWN0b3IgcC5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9ye2ZvbnQtZmFtaWx5OiIuY29uY2F0KCR0LCI7Zm9udC1zaXplOjEycHg7bGluZS1oZWlnaHQ6MTZweDtjb2xvcjojNjY2O21hcmdpbi10b3A6MDt9IiksIi5MaW5rZWROb3RlLl9fanN4LXN0eWxlLWR5bmFtaWMtc2VsZWN0b3IgcC5UaXRsZS5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9ye2NvbG9yOiMwMDA7fSJdKSkpfSksTC5hKSxhZT1uKCJJdTJ2Iiksc2U9bi5uKGFlKSxjZT1uKCJ2L2s2IiksdWU9bi5uKGNlKSxsZT1uKCJlcXQyIiksZmU9bi5uKGxlKSxwZT1uKCJHY1d2IiksaGU9bi5uKHBlKSxkZT1uKCJ4UDdBIiksdmU9bi5uKGRlKSx5ZT1uKCJmNjZCIiksbWU9bi5uKHllKSxnZT1uKCI4TDNGIiksYmU9bigiL3R6NCIpLHhlPW4ubihiZSksd2U9eGUoKSgpLGtlPXhlKCkoKSxfZT0oRC5Db21wb25lbnQsZnVuY3Rpb24odCxlKXtpZigiZnVuY3Rpb24iPT09dHlwZW9mIHQpcmV0dXJuIGZ1bmN0aW9uKHQpe2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgdCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZT4xP2UtMTowKSxyPTE7cjxlO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiB0LmFwcGx5KHZvaWQgMCxuKX19KHQsZSk7bnVsbCE9dCYmKHQuY3VycmVudD1lKX0pLEFlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDowLGxlZnQ6MCxvcGFjaXR5OjAscG9pbnRlckV2ZW50czoibm9uZSJ9LE9lPXt9LGplPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtmb3IodmFyIGUsbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4pLG89MDtvPG47bysrKXJbb109YXJndW1lbnRzW29dO3JldHVybiBlPXQuY2FsbC5hcHBseSh0LFt0aGlzXS5jb25jYXQocikpfHx0aGlzLHZlKCkoZmUoKShlKSwic3RhdGUiLHtkYXRhOnZvaWQgMCxwbGFjZW1lbnQ6dm9pZCAwfSksdmUoKShmZSgpKGUpLCJwb3BwZXJJbnN0YW5jZSIsdm9pZCAwKSx2ZSgpKGZlKCkoZSksInBvcHBlck5vZGUiLG51bGwpLHZlKCkoZmUoKShlKSwiYXJyb3dOb2RlIixudWxsKSx2ZSgpKGZlKCkoZSksInNldFBvcHBlck5vZGUiLChmdW5jdGlvbih0KXt0JiZlLnBvcHBlck5vZGUhPT10JiYoX2UoZS5wcm9wcy5pbm5lclJlZix0KSxlLnBvcHBlck5vZGU9dCxlLnVwZGF0ZVBvcHBlckluc3RhbmNlKCkpfSkpLHZlKCkoZmUoKShlKSwic2V0QXJyb3dOb2RlIiwoZnVuY3Rpb24odCl7ZS5hcnJvd05vZGU9dH0pKSx2ZSgpKGZlKCkoZSksInVwZGF0ZVN0YXRlTW9kaWZpZXIiLHtlbmFibGVkOiEwLG9yZGVyOjkwMCxmbjpmdW5jdGlvbih0KXt2YXIgbj10LnBsYWNlbWVudDtyZXR1cm4gZS5zZXRTdGF0ZSh7ZGF0YTp0LHBsYWNlbWVudDpufSksdH19KSx2ZSgpKGZlKCkoZSksImdldE9wdGlvbnMiLChmdW5jdGlvbigpe3JldHVybntwbGFjZW1lbnQ6ZS5wcm9wcy5wbGFjZW1lbnQsZXZlbnRzRW5hYmxlZDplLnByb3BzLmV2ZW50c0VuYWJsZWQscG9zaXRpb25GaXhlZDplLnByb3BzLnBvc2l0aW9uRml4ZWQsbW9kaWZpZXJzOnVlKCkoe30sZS5wcm9wcy5tb2RpZmllcnMse2Fycm93OnVlKCkoe30sZS5wcm9wcy5tb2RpZmllcnMmJmUucHJvcHMubW9kaWZpZXJzLmFycm93LHtlbmFibGVkOiEhZS5hcnJvd05vZGUsZWxlbWVudDplLmFycm93Tm9kZX0pLGFwcGx5U3R5bGU6e2VuYWJsZWQ6ITF9LHVwZGF0ZVN0YXRlTW9kaWZpZXI6ZS51cGRhdGVTdGF0ZU1vZGlmaWVyfSl9fSkpLHZlKCkoZmUoKShlKSwiZ2V0UG9wcGVyU3R5bGUiLChmdW5jdGlvbigpe3JldHVybiBlLnBvcHBlck5vZGUmJmUuc3RhdGUuZGF0YT91ZSgpKHtwb3NpdGlvbjplLnN0YXRlLmRhdGEub2Zmc2V0cy5wb3BwZXIucG9zaXRpb259LGUuc3RhdGUuZGF0YS5zdHlsZXMpOkFlfSkpLHZlKCkoZmUoKShlKSwiZ2V0UG9wcGVyUGxhY2VtZW50IiwoZnVuY3Rpb24oKXtyZXR1cm4gZS5zdGF0ZS5kYXRhP2Uuc3RhdGUucGxhY2VtZW50OnZvaWQgMH0pKSx2ZSgpKGZlKCkoZSksImdldEFycm93U3R5bGUiLChmdW5jdGlvbigpe3JldHVybiBlLmFycm93Tm9kZSYmZS5zdGF0ZS5kYXRhP2Uuc3RhdGUuZGF0YS5hcnJvd1N0eWxlczpPZX0pKSx2ZSgpKGZlKCkoZSksImdldE91dE9mQm91bmRhcmllc1N0YXRlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZS5zdGF0ZS5kYXRhP2Uuc3RhdGUuZGF0YS5oaWRlOnZvaWQgMH0pKSx2ZSgpKGZlKCkoZSksImRlc3Ryb3lQb3BwZXJJbnN0YW5jZSIsKGZ1bmN0aW9uKCl7ZS5wb3BwZXJJbnN0YW5jZSYmKGUucG9wcGVySW5zdGFuY2UuZGVzdHJveSgpLGUucG9wcGVySW5zdGFuY2U9bnVsbCl9KSksdmUoKShmZSgpKGUpLCJ1cGRhdGVQb3BwZXJJbnN0YW5jZSIsKGZ1bmN0aW9uKCl7ZS5kZXN0cm95UG9wcGVySW5zdGFuY2UoKTt2YXIgdD1mZSgpKGUpLnBvcHBlck5vZGUsbj1lLnByb3BzLnJlZmVyZW5jZUVsZW1lbnQ7biYmdCYmKGUucG9wcGVySW5zdGFuY2U9bmV3IGdlLmEobix0LGUuZ2V0T3B0aW9ucygpKSl9KSksdmUoKShmZSgpKGUpLCJzY2hlZHVsZVVwZGF0ZSIsKGZ1bmN0aW9uKCl7ZS5wb3BwZXJJbnN0YW5jZSYmZS5wb3BwZXJJbnN0YW5jZS5zY2hlZHVsZVVwZGF0ZSgpfSkpLGV9aGUoKShlLHQpO3ZhciBuPWUucHJvdG90eXBlO3JldHVybiBuLmNvbXBvbmVudERpZFVwZGF0ZT1mdW5jdGlvbih0LGUpe3RoaXMucHJvcHMucGxhY2VtZW50PT09dC5wbGFjZW1lbnQmJnRoaXMucHJvcHMucmVmZXJlbmNlRWxlbWVudD09PXQucmVmZXJlbmNlRWxlbWVudCYmdGhpcy5wcm9wcy5wb3NpdGlvbkZpeGVkPT09dC5wb3NpdGlvbkZpeGVkJiZtZSgpKHRoaXMucHJvcHMubW9kaWZpZXJzLHQubW9kaWZpZXJzLHtzdHJpY3Q6ITB9KT90aGlzLnByb3BzLmV2ZW50c0VuYWJsZWQhPT10LmV2ZW50c0VuYWJsZWQmJnRoaXMucG9wcGVySW5zdGFuY2UmJih0aGlzLnByb3BzLmV2ZW50c0VuYWJsZWQ/dGhpcy5wb3BwZXJJbnN0YW5jZS5lbmFibGVFdmVudExpc3RlbmVycygpOnRoaXMucG9wcGVySW5zdGFuY2UuZGlzYWJsZUV2ZW50TGlzdGVuZXJzKCkpOnRoaXMudXBkYXRlUG9wcGVySW5zdGFuY2UoKSxlLnBsYWNlbWVudCE9PXRoaXMuc3RhdGUucGxhY2VtZW50JiZ0aGlzLnNjaGVkdWxlVXBkYXRlKCl9LG4uY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXtfZSh0aGlzLnByb3BzLmlubmVyUmVmLG51bGwpLHRoaXMuZGVzdHJveVBvcHBlckluc3RhbmNlKCl9LG4ucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuKHQ9dGhpcy5wcm9wcy5jaGlsZHJlbixBcnJheS5pc0FycmF5KHQpP3RbMF06dCkoe3JlZjp0aGlzLnNldFBvcHBlck5vZGUsc3R5bGU6dGhpcy5nZXRQb3BwZXJTdHlsZSgpLHBsYWNlbWVudDp0aGlzLmdldFBvcHBlclBsYWNlbWVudCgpLG91dE9mQm91bmRhcmllczp0aGlzLmdldE91dE9mQm91bmRhcmllc1N0YXRlKCksc2NoZWR1bGVVcGRhdGU6dGhpcy5zY2hlZHVsZVVwZGF0ZSxhcnJvd1Byb3BzOntyZWY6dGhpcy5zZXRBcnJvd05vZGUsc3R5bGU6dGhpcy5nZXRBcnJvd1N0eWxlKCl9fSk7dmFyIHR9LGV9KEQuQ29tcG9uZW50KTt2ZSgpKGplLCJkZWZhdWx0UHJvcHMiLHtwbGFjZW1lbnQ6ImJvdHRvbSIsZXZlbnRzRW5hYmxlZDohMCxyZWZlcmVuY2VFbGVtZW50OnZvaWQgMCxwb3NpdGlvbkZpeGVkOiExfSk7Z2UuYS5wbGFjZW1lbnRzO2Z1bmN0aW9uIEVlKHQpe3ZhciBlPXQucmVmZXJlbmNlRWxlbWVudCxuPXNlKCkodCxbInJlZmVyZW5jZUVsZW1lbnQiXSk7cmV0dXJuIEQuY3JlYXRlRWxlbWVudCh3ZS5Db25zdW1lcixudWxsLChmdW5jdGlvbih0KXtyZXR1cm4gRC5jcmVhdGVFbGVtZW50KGplLHVlKCkoe3JlZmVyZW5jZUVsZW1lbnQ6dm9pZCAwIT09ZT9lOnR9LG4pKX0pKX1mdW5jdGlvbiBTZSh0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIiE9PXR5cGVvZiB0P2Z1bmN0aW9uKGUpe3QuY3VycmVudD1lfTp0fXZhciBOZT1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoRC51c2VNZW1vKSgoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj1TZSh0KSxyPVNlKGUpO3JldHVybiBmdW5jdGlvbih0KXtuJiZuKHQpLHImJnIodCl9fSh0LGUpfSksW3QsZV0pfSxQZT1CLmEuY3JlYXRlRWxlbWVudCxDZT1CLmEuZm9yd2FyZFJlZigoZnVuY3Rpb24odCxlKXt2YXIgbj10LnJlZmVyZW5jZUVsZW1lbnQscj10LmlzUHJlc2VudGVkLG89dC5wbGFjZW1lbnQsaT10Lm9uT3V0c2lkZURpc21pc3NUYXAsYT10Lm9uRGlkRGlzYXBwZWFyLHM9dC5jaGlsZHJlbixjPXQuY2xhc3NOYW1lLHU9T2JqZWN0KEQudXNlUmVmKSghMSksbD1PYmplY3QoRC51c2VSZWYpKG51bGwpLGY9TmUobCxlKSxwPU9iamVjdChELnVzZVJlZikobnVsbCksaD1PYmplY3QoRC51c2VDYWxsYmFjaykoKGZ1bmN0aW9uKHQpe3ZhciBlPWwuY3VycmVudDt1LmN1cnJlbnQmJmkmJmUmJnQudGFyZ2V0IGluc3RhbmNlb2YgTm9kZSYmIWUuY29udGFpbnModC50YXJnZXQpJiZpKCl9KSxbaV0pLGQ9T2JqZWN0KEQudXNlQ2FsbGJhY2spKChmdW5jdGlvbih0KXtpZihudWxsPT09cC5jdXJyZW50JiYxPT09dC50YXJnZXRUb3VjaGVzLmxlbmd0aCl7dmFyIGU9dC50YXJnZXRUb3VjaGVzWzBdO3AuY3VycmVudD17aWRlbnRpZmllcjplLmlkZW50aWZpZXIsaW5pdGlhbFNjcmVlblg6ZS5zY3JlZW5YLGluaXRpYWxTY3JlZW5ZOmUuc2NyZWVuWX0sdC5wcmV2ZW50RGVmYXVsdCgpfX0pLFtdKSx5PU9iamVjdChELnVzZUNhbGxiYWNrKSgoZnVuY3Rpb24odCl7dmFyIGU9cC5jdXJyZW50O2UmJjE9PT10LmNoYW5nZWRUb3VjaGVzLmxlbmd0aCYmdC5jaGFuZ2VkVG91Y2hlc1swXS5pZGVudGlmaWVyPT09ZS5pZGVudGlmaWVyJiYocC5jdXJyZW50PW51bGwpfSksW10pLG09T2JqZWN0KEQudXNlQ2FsbGJhY2spKChmdW5jdGlvbih0KXt2YXIgZT1wLmN1cnJlbnQ7ZSYmMT09PXQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoJiZ0LmNoYW5nZWRUb3VjaGVzWzBdLmlkZW50aWZpZXI9PT1lLmlkZW50aWZpZXImJih5KHQpLGgodCkpfSksW3ksaF0pO3JldHVybiBPYmplY3QoRC51c2VFZmZlY3QpKChmdW5jdGlvbigpe2lmKGkmJnIpcmV0dXJuIm9udG91Y2hlbmQiaW4gd2luZG93JiYoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsZCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLG0pLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoY2FuY2VsIix5KSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGgpLGZ1bmN0aW9uKCl7Im9udG91Y2hlbmQiaW4gd2luZG93JiYoZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsZCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLG0pLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNoY2FuY2VsIix5KSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLGgpfX0pLFtoLGkscixkLG0seV0pLFBlKHl0LHtpbjpyLHRpbWVvdXQ6NTAwLGNsYXNzTmFtZXM6IlBvcG92ZXJUcmFuc2l0aW9uIixhcHBlYXI6ITAsb25FbnRlcmVkOk9iamVjdChELnVzZUNhbGxiYWNrKSgoZnVuY3Rpb24oKXtyZXR1cm4gdS5jdXJyZW50PSEwfSksW10pLG9uRXhpdGVkOmF9LFBlKEVlLHtyZWZlcmVuY2VFbGVtZW50Om4scGxhY2VtZW50Om8sbW9kaWZpZXJzOntvZmZzZXQ6e2VuYWJsZWQ6ITAsb2Zmc2V0OiIwcHggLTcycHgifSxwcmV2ZW50T3ZlcmZsb3c6e2JvdW5kYXJpZXNFbGVtZW50OiJ2aWV3cG9ydCJ9fX0sKGZ1bmN0aW9uKHQpe3ZhciBlPXQucmVmLG49Zyh0LFsicmVmIl0pO3JldHVybiBQZShJZSxPYmplY3Qodi5hKSh7fSxuLHtwb3BwZXJSZWY6ZSxsb2NhbFBvcG92ZXJSZWY6ZixjbGFzc05hbWU6Y30pLHMpfSkpKX0pKTtmdW5jdGlvbiBJZSh0KXt2YXIgZT10LnBvcHBlclJlZixuPXQuc3R5bGUscj10LnBsYWNlbWVudCxvPXQuYXJyb3dQcm9wcyxpPXQubG9jYWxQb3BvdmVyUmVmLGE9dC5jbGFzc05hbWUscz10LmNoaWxkcmVuO3JldHVybiBQZSgiZGl2Iix7cmVmOk5lKGksZSksc3R5bGU6bixjbGFzc05hbWU6ImpzeC0zMjY4NjAxMzIzICIrIlBvcG92ZXIgIi5jb25jYXQoYXx8IiIpfSxzLFBlKEkuYSx7aWQ6IjMyNjg2MDEzMjMifSxbIi5Qb3BvdmVyLmpzeC0zMjY4NjAxMzIzey0tYXJyb3dCYXNlV2lkdGg6MzJweDstLWFycm93TGVuZ3RoOjE2cHg7LS1iYWNrZ3JvdW5kQ29sb3I6d2hpdGU7cG9pbnRlci1ldmVudHM6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJhY2tncm91bmRDb2xvcik7Ym9yZGVyLXJhZGl1czo4cHg7bWFyZ2luOnZhcigtLWFycm93TGVuZ3RoKTt6LWluZGV4OjIwMDstd2Via2l0LWZpbHRlcjpkcm9wLXNoYWRvdygwcHggMHB4IDEwcHggcmdiYSgwLDAsMCwwLjA4KSkgZHJvcC1zaGFkb3coMCAyMHB4IDUwcHggcmdiYSgwLDAsMCwwLjA0KSkgZHJvcC1zaGFkb3coMHB4IDBweCAxcHggcmdiYSgwLDAsMCwwLjE1KSk7ZmlsdGVyOmRyb3Atc2hhZG93KDBweCAwcHggMTBweCByZ2JhKDAsMCwwLDAuMDgpKSBkcm9wLXNoYWRvdygwIDIwcHggNTBweCByZ2JhKDAsMCwwLDAuMDQpKSBkcm9wLXNoYWRvdygwcHggMHB4IDFweCByZ2JhKDAsMCwwLDAuMTUpKTt9IiwiLlBvcG92ZXIuanN4LTMyNjg2MDEzMjMgLkFycm93LmpzeC0zMjY4NjAxMzIze3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOnZhcigtLWFycm93QmFzZVdpZHRoKTtoZWlnaHQ6dmFyKC0tYXJyb3dMZW5ndGgpO30iLCcuUG9wb3Zlci5qc3gtMzI2ODYwMTMyMyAuQXJyb3dbZGF0YS1wbGFjZW1lbnQqPSJib3R0b20iXS5qc3gtMzI2ODYwMTMyM3t0b3A6MDtsZWZ0OjA7bWFyZ2luLXRvcDpjYWxjKC0xICogdmFyKC0tYXJyb3dMZW5ndGgpKTt3aWR0aDp2YXIoLS1hcnJvd0Jhc2VXaWR0aCk7aGVpZ2h0OnZhcigtLWFycm93TGVuZ3RoKTt9JywnLlBvcG92ZXIuanN4LTMyNjg2MDEzMjMgLkFycm93W2RhdGEtcGxhY2VtZW50Kj0iYm90dG9tIl0uanN4LTMyNjg2MDEzMjM6OmJlZm9yZXtib3JkZXItd2lkdGg6MCBjYWxjKHZhcigtLWFycm93QmFzZVdpZHRoKSAvIDIpIHZhcigtLWFycm93TGVuZ3RoKSBjYWxjKHZhcigtLWFycm93QmFzZVdpZHRoKSAvIDIpO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB2YXIoLS1iYWNrZ3JvdW5kQ29sb3IpIHRyYW5zcGFyZW50O30nLCcuUG9wb3Zlci5qc3gtMzI2ODYwMTMyMyAuQXJyb3dbZGF0YS1wbGFjZW1lbnQqPSJ0b3AiXS5qc3gtMzI2ODYwMTMyM3tib3R0b206MDtsZWZ0OjA7bWFyZ2luLWJvdHRvbTpjYWxjKC0xICogdmFyKC0tYXJyb3dMZW5ndGgpKTt3aWR0aDp2YXIoLS1hcnJvd0Jhc2VXaWR0aCk7aGVpZ2h0OnZhcigtLWFycm93TGVuZ3RoKTt9JywnLlBvcG92ZXIuanN4LTMyNjg2MDEzMjMgLkFycm93W2RhdGEtcGxhY2VtZW50Kj0idG9wIl0uanN4LTMyNjg2MDEzMjM6OmJlZm9yZXtib3JkZXItd2lkdGg6dmFyKC0tYXJyb3dMZW5ndGgpIGNhbGModmFyKC0tYXJyb3dCYXNlV2lkdGgpIC8gMikgMCBjYWxjKHZhcigtLWFycm93QmFzZVdpZHRoKSAvIDIpO2JvcmRlci1jb2xvcjp2YXIoLS1iYWNrZ3JvdW5kQ29sb3IpIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50O30nLCcuUG9wb3Zlci5qc3gtMzI2ODYwMTMyMyAuQXJyb3dbZGF0YS1wbGFjZW1lbnQqPSJyaWdodCJdLmpzeC0zMjY4NjAxMzIze2xlZnQ6MDttYXJnaW4tbGVmdDpjYWxjKC0xICogdmFyKC0tYXJyb3dMZW5ndGgpKTt3aWR0aDp2YXIoLS1hcnJvd0xlbmd0aCk7aGVpZ2h0OnZhcigtLWFycm93QmFzZVdpZHRoKTt9JywnLlBvcG92ZXIuanN4LTMyNjg2MDEzMjMgLkFycm93W2RhdGEtcGxhY2VtZW50Kj0icmlnaHQiXS5qc3gtMzI2ODYwMTMyMzo6YmVmb3Jle2JvcmRlci13aWR0aDpjYWxjKHZhcigtLWFycm93QmFzZVdpZHRoKSAvIDIpIHZhcigtLWFycm93TGVuZ3RoKSBjYWxjKHZhcigtLWFycm93QmFzZVdpZHRoKSAvIDIpIDA7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50IHZhcigtLWJhY2tncm91bmRDb2xvcikgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7fScsJy5Qb3BvdmVyLmpzeC0zMjY4NjAxMzIzIC5BcnJvd1tkYXRhLXBsYWNlbWVudCo9ImxlZnQiXS5qc3gtMzI2ODYwMTMyM3tyaWdodDowO21hcmdpbi1yaWdodDpjYWxjKC0xICogdmFyKC0tYXJyb3dMZW5ndGgpKTt3aWR0aDp2YXIoLS1hcnJvd0xlbmd0aCk7aGVpZ2h0OnZhcigtLWFycm93QmFzZVdpZHRoKTt9JywnLlBvcG92ZXIuanN4LTMyNjg2MDEzMjMgLkFycm93W2RhdGEtcGxhY2VtZW50Kj0ibGVmdCJdLmpzeC0zMjY4NjAxMzIzOjpiZWZvcmV7Ym9yZGVyLXdpZHRoOmNhbGModmFyKC0tYXJyb3dCYXNlV2lkdGgpIC8gMikgMCB2YXIoLS1hcnJvd0Jhc2VXaWR0aCkvMiB2YXIoLS1hcnJvd0xlbmd0aCk7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHZhcigtLWJhY2tncm91bmRDb2xvcik7fScsJy5Qb3BvdmVyLmpzeC0zMjY4NjAxMzIzIC5BcnJvdy5qc3gtMzI2ODYwMTMyMzo6YmVmb3Jle2NvbnRlbnQ6IiI7bWFyZ2luOmF1dG87ZGlzcGxheTpibG9jazt3aWR0aDowO2hlaWdodDowO2JvcmRlci1zdHlsZTpzb2xpZDt9J10pLFBlKCJkaXYiLHtyZWY6by5yZWYsc3R5bGU6by5zdHlsZSwiZGF0YS1wbGFjZW1lbnQiOnIsY2xhc3NOYW1lOiJqc3gtMzI2ODYwMTMyMyBBcnJvdyJ9KSl9dmFyIFRlPW4oImthU1MiKTt2YXIgTWU9bigibTQ1MyIpLExlPW4ubihNZSksemU9bigiYWJ1eCIpO2Z1bmN0aW9uIFJlKHQpe3ZhciBlPU9iamVjdCh6ZS5zZWxlY3RBbGwpKFQubm90ZUxpbmtOb2RlVHlwZSxMZSgpKHQpKSxuPU9iamVjdCh6ZS5zZWxlY3QpKFQuYmFja2xpbmtzTm9kZVR5cGUsdCk7aWYobil7dC5jaGlsZHJlbi5pbmRleE9mKG4pO3JldHVybntiYWNrbGlua3M6bi5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybntsaW5raW5nTm90ZVRpdGxlOnQuc291cmNlTm9kZUxpbmsudGFyZ2V0Tm90ZURpc3BsYXlOYW1lLGxpbmtpbmdOb3RlU2x1Zzp0LnNvdXJjZU5vZGVMaW5rLnRhcmdldE5vdGVOYW1lLGNvbnRleHRCbG9ja3M6dC5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBULnByb2Nlc3Nvci5zdHJpbmdpZnkodCl9KSksaGlkZGVuOiEwfX0pKSxsaW5rZWROb3RlU2x1Z3M6ZS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT10O2Zvcig7bnVsbD09PShuPWUucGFyZW50KXx8dm9pZCAwPT09bj92b2lkIDA6bi5wYXJlbnQ7KXt2YXIgbjtlPWUucGFyZW50fXJldHVybiBlLm5vZGV9KHQpIT09bn0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRhcmdldE5vdGVOYW1lfSkpfX1yZXR1cm57YmFja2xpbmtzOltdLGxpbmtlZE5vdGVTbHVnczplLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudGFyZ2V0Tm90ZU5hbWV9KSl9fXZhciBGZT1uKCI5SmtnIiksRGU9bi5uKEZlKSxCZT1uKCJXYTJJIiksVWU9bi5uKEJlKTtuKCJXSTQ5Iik7ZnVuY3Rpb24gcWUodCxlKXt2YXIgbj1tKCkodCk7aWYocC5hKXt2YXIgcj1wKCkodCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBIZSh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9xZShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe1ModCxlLG5bZV0pfSkpOmMuYT9hKCkodCxjKCkobikpOnFlKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bygpKHQsZSxsKCkobixlKSl9KSl9cmV0dXJuIHR9dmFyIFdlPXt9O2Z1bmN0aW9uIFllKHQpe3ZhciBlLG4scixvLGksYSxzLGMsdSxsLGYscCxoLGQ7cmV0dXJuIFAuYS5hc3luYygoZnVuY3Rpb24odil7Zm9yKDs7KXN3aXRjaCh2LnByZXY9di5uZXh0KXtjYXNlIDA6aWYoIVdlW3RdKXt2Lm5leHQ9MjticmVha31yZXR1cm4gdi5hYnJ1cHQoInJldHVybiIsV2VbdF0pO2Nhc2UgMjpyZXR1cm4gZT1PYmplY3QoQ3QuZ2V0Tm90ZUJhc2VuYW1lRm9yU2x1ZykodCksdi5wcmV2PTMsdi5uZXh0PTYsUC5hLmF3cmFwKFN0LnN0b3JhZ2UoKS5yZWYoIm5vdGVzLyIuY29uY2F0KGUsIi5tZCIpKS5nZXREb3dubG9hZFVSTCgpKTtjYXNlIDY6cmV0dXJuIG49di5zZW50LHYubmV4dD05LFAuYS5hd3JhcChmZXRjaChuKSk7Y2FzZSA5OmlmKChyPXYuc2VudCkub2spe3YubmV4dD0xMjticmVha310aHJvdyBuZXcgRXJyb3IoIkNvdWxkbid0IGRvd25sb2FkICIuY29uY2F0KG4sIjogIikuY29uY2F0KHIuc3RhdHVzLCIgIikuY29uY2F0KHIuc3RhdHVzVGV4dCkpO2Nhc2UgMTI6cmV0dXJuIHYubmV4dD0xNCxQLmEuYXdyYXAoci50ZXh0KCkpO2Nhc2UgMTQ6cmV0dXJuIG89di5zZW50LGk9by5tYXRjaCgvXjwhLS0gbXRpbWU9KFxkK1wuP1xkKz8pIGN0aW1lPShcZCtcLj9cZCs/KSAtLT4kL20pLGE9aT9VZSgpKGlbMV0pOjAscz1pP1VlKCkoaVsyXSk6MCxhJiZzfHxjb25zb2xlLmVycm9yKCJDb3VsZG4ndCBmaW5kIHRpbWVzdGFtcHMgaW4gIi5jb25jYXQodCksaSksdi5uZXh0PTIxLFAuYS5hd3JhcChULnByb2Nlc3Nvci5ydW4oVC5wcm9jZXNzb3IucGFyc2UobykpKTtjYXNlIDIxOnJldHVybiBjPXYuc2VudCwodT1PYmplY3QoemUuc2VsZWN0KShULmJhY2tsaW5rc05vZGVUeXBlLGMpKSYmKGw9Yy5jaGlsZHJlbi5pbmRleE9mKHUpLGY9SGUoe30sYyx7Y2hpbGRyZW46W10uY29uY2F0KE8oYy5jaGlsZHJlbi5zbGljZSgwLGwpKSxPKGMuY2hpbGRyZW4uc2xpY2UobCsxKSkpfSksbz1ULnByb2Nlc3Nvci5zdHJpbmdpZnkoZikpLG89by5yZXBsYWNlKC88IS0tLio/LS0+L2csIiIpLHA9e3ByZXNlbnRhdGlvbk1hcmtkb3duOm8scGFyc2VkVHJlZTpjLG10aW1lTWlsbGlzOmEsY3RpbWVNaWxsaXM6c30sV2VbdF09cCx2LmFicnVwdCgicmV0dXJuIixwKTtjYXNlIDMwOmlmKHYucHJldj0zMCx2LnQwPXYuY2F0Y2goMyksISgiY29kZSJpbiB2LnQwJiYic3RvcmFnZS91bmF1dGhvcml6ZWQiPT09di50MC5jb2RlKSl7di5uZXh0PTQ1O2JyZWFrfXJldHVybiBjb25zb2xlLmVycm9yKCJDb3VsZG4ndCBsb2FkICIuY29uY2F0KHQsIjogdW5hdXRob3JpemVkIikpLHYubmV4dD0zNixQLmEuYXdyYXAoVGUuYS5nZXROb3RlSURGb3JUaXRsZSh7dGl0bGU6ZX0pLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS5lcnJvcigiRXJyb3IgcmV0cmlldmluZyBlbmNvZGVkIG5vdGUgSUQgZm9yICIuY29uY2F0KGUsIjoiKSx0KSx7ZW5jb2RlZE5vdGVJRDpudWxsfX0pKSk7Y2FzZSAzNjppZihoPXYuc2VudCwhKGQ9aC5lbmNvZGVkTm90ZUlEKSl7di5uZXh0PTQyO2JyZWFrfXJldHVybiB2LmFicnVwdCgicmV0dXJuIixZZShkKSk7Y2FzZSA0MjpyZXR1cm4gdi5hYnJ1cHQoInJldHVybiIse2Vycm9yOiJ1bmF1dGhvcml6ZWQifSk7Y2FzZSA0Mzp2Lm5leHQ9NDc7YnJlYWs7Y2FzZSA0NTpyZXR1cm4gY29uc29sZS5lcnJvcigiQ291bGRuJ3QgbG9hZCAiLmNvbmNhdCh0LCI6ICIpLmNvbmNhdChEZSgpKHYudDAsbnVsbCwiXHQiKSkpLHYuYWJydXB0KCJyZXR1cm4iLHtlcnJvcjoidW5rbm93biJ9KTtjYXNlIDQ3OmNhc2UiZW5kIjpyZXR1cm4gdi5zdG9wKCl9fSksbnVsbCxudWxsLFtbMywzMF1dKX1uLmQoZSwiTm90ZVBhZ2VEaXNwYXRjaENvbnRleHQiLChmdW5jdGlvbigpe3JldHVybiBKZX0pKSxuLmQoZSwiTm90ZVBhZ2VTdGF0ZUNvbnRleHQiLChmdW5jdGlvbigpe3JldHVybiBLZX0pKSxuLmQoZSwiZGVmYXVsdCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFFlfSkpO3ZhciBaZT1CLmEuY3JlYXRlRWxlbWVudDtmdW5jdGlvbiBYZSh0LGUpe3ZhciBuPW0oKSh0KTtpZihwLmEpe3ZhciByPXAoKSh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKSh0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uICRlKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP1hlKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Uyh0LGUsbltlXSl9KSk6Yy5hP2EoKSh0LGMoKShuKSk6WGUoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtvKCkodCxlLGwoKShuLGUpKX0pKX1yZXR1cm4gdH12YXIgVmU9NjI1LEplPUIuYS5jcmVhdGVDb250ZXh0KG51bGwpLEtlPUIuYS5jcmVhdGVDb250ZXh0KG51bGwpO2Z1bmN0aW9uIEdlKHQsZSxuLHIsbyxpKXt2YXIgYSxzLGM7cmV0dXJuIFAuYS5hc3luYygoZnVuY3Rpb24odSl7Zm9yKDs7KXN3aXRjaCh1LnByZXY9dS5uZXh0KXtjYXNlIDA6aWYoKGE9dCgpW25dKSYmISgiZXJyb3IiaW4gYSl8fGUuaGFzKG4pKXt1Lm5leHQ9MTY7YnJlYWt9cmV0dXJuIGNvbnNvbGUubG9nKCJGZXRjaGluZyBwYWdlIGRhdGEgZm9yIixuKSxlLmFkZChuKSxzPW8oKSxjPWEsdS5uZXh0PTgsUC5hLmF3cmFwKG9uKG4pKTtjYXNlIDg6aWYoYT11LnNlbnQsKCFjfHwiZXJyb3IiaW4gYyYmISgiZXJyb3IiaW4gYSkpJiZpKChmdW5jdGlvbih0KXtmb3IodmFyIGU9JGUoe30sdCxTKHt9LG4sYSkpLHI9MCxvPW0oKShlKTtyPG8ubGVuZ3RoO3IrKyl7dmFyIGk9b1tyXSxzPWVbaV07aWYoISgiZXJyb3IiaW4gcykmJnMuZGF0YS5iYWNrbGlua2VkTm90ZXMuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIHQubGlua2luZ05vdGVTbHVnPT09bn0pKSl7dmFyIGM9JGUoe30scy5kYXRhLHtiYWNrbGlua2VkTm90ZXM6cy5kYXRhLmJhY2tsaW5rZWROb3Rlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiAkZSh7fSx0LHtoaWRkZW46dC5saW5raW5nTm90ZVNsdWc9PT1uPyJlcnJvciJpbiBhOnQuaGlkZGVufSl9KSl9KTtlW2ldPSRlKHt9LHMse2RhdGE6Y30pfX1yZXR1cm4gZX0pKSxlLmRlbGV0ZShuKSwhKCJlcnJvciJpbiBhKSl7dS5uZXh0PTE2O2JyZWFrfWlmKCJ1bmF1dGhvcml6ZWQiIT09YS5lcnJvcil7dS5uZXh0PTE2O2JyZWFrfWlmKHM9PT1vKCkpe3UubmV4dD0xNjticmVha31yZXR1cm4gdS5uZXh0PTE2LFAuYS5hd3JhcChHZSh0LGUsbixyLG8saSkpO2Nhc2UgMTY6aWYoIShyPjAmJmEpfHwiZXJyb3IiaW4gYSl7dS5uZXh0PTE5O2JyZWFrfXJldHVybiB1Lm5leHQ9MTksUC5hLmF3cmFwKEUuYS5hbGwoW10uY29uY2F0KE8oYS5kYXRhLmxpbmtlZE5vdGVTbHVncy5tYXAoKGZ1bmN0aW9uKG4pe3JldHVybiBHZSh0LGUsbixyLTEsbyxpKX0pKSksTyhhLmRhdGEuYmFja2xpbmtlZE5vdGVzLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIEdlKHQsZSxuLmxpbmtpbmdOb3RlU2x1ZyxyLTEsbyxpKX0pKSkpKSk7Y2FzZSAxOTpjYXNlImVuZCI6cmV0dXJuIHUuc3RvcCgpfX0pKX1mdW5jdGlvbiBRZSh0KXt2YXIgZT10LmluaXRpYWxOb3RlQ2FjaGUsbj1QdCgpLHI9T2JqZWN0KEQudXNlU3RhdGUpKG51bGwpLG89clswXSxpPXJbMV0sYT1PYmplY3QoRi51c2VSb3V0ZXIpKCk7T2JqZWN0KEQudXNlRWZmZWN0KSgoZnVuY3Rpb24oKXthLnF1ZXJ5LnNoYXJlVG9rZW4mJiJwZW5kaW5nIiE9PW4uc3RhdGUmJmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBQLmEuYXN5bmMoKGZ1bmN0aW9uKG4pe2Zvcig7Oylzd2l0Y2gobi5wcmV2PW4ubmV4dCl7Y2FzZSAwOnJldHVybiBuLm5leHQ9MixQLmEuYXdyYXAoVGUuYS5jb25zdW1lU2hhcmVUb2tlbih7c2hhcmVUb2tlbklEOnR9KSk7Y2FzZSAyOmlmKGU9bi5zZW50LCFlLnN1Y2Nlc3Mpe24ubmV4dD0xMDticmVha31yZXR1cm4gY29uc29sZS5sb2coIkNvbnN1bWVkIHNoYXJlIHRva2VuIiksbi5uZXh0PTgsUC5hLmF3cmFwKFN0LmF1dGgoKS5jdXJyZW50VXNlci5nZXRJZFRva2VuUmVzdWx0KCEwKSk7Y2FzZSA4Om4ubmV4dD0xMTticmVhaztjYXNlIDEwOmNvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byBjb25zdW1lIHNoYXJlIHRva2VuIik7Y2FzZSAxMTpjYXNlImVuZCI6cmV0dXJuIG4uc3RvcCgpfX0pKX0oYS5xdWVyeS5zaGFyZVRva2VuKS5jYXRjaCgoZnVuY3Rpb24odCl7Y29uc29sZS5lcnJvcigiRmFpbGVkIHRvIGNvbnN1bWUgc2hhcmUgdG9rZW4iLHQpfSkpLmZpbmFsbHkoKGZ1bmN0aW9uKCl7dmFyIHQ9JGUoe30sYS5xdWVyeSk7ZGVsZXRlIHQuc2hhcmVUb2tlbjt2YXIgZT1hLmFzUGF0aC5zcGxpdCgiPyIpLG49bmV3IFVSTFNlYXJjaFBhcmFtcyhlLnNsaWNlKDEpLmpvaW4oIiIpKTtuLmRlbGV0ZSgic2hhcmVUb2tlbiIpLGEucmVwbGFjZSh7cGF0aG5hbWU6YS5wYXRobmFtZSxxdWVyeTp0fSwiIi5jb25jYXQoZVswXSwiPyIpLmNvbmNhdChuLnRvU3RyaW5nKCkpLHtzaGFsbG93OiEwfSl9KSl9KSxbYSxuLnN0YXRlXSk7dmFyIHM9T2JqZWN0KER0LmEpKG4pLGM9T2JqZWN0KEQudXNlU3RhdGUpKGUpLHU9Y1swXSxsPWNbMV0sZj1PYmplY3QoRHQuYSkodSkscD1PYmplY3QoRC51c2VSZWYpKG5ldyB4LmEpLGg9T2JqZWN0KEQudXNlQ2FsbGJhY2spKChmdW5jdGlvbih0LGUpe3JldHVybiBHZSgoZnVuY3Rpb24oKXtyZXR1cm4gZi5jdXJyZW50fSkscC5jdXJyZW50LHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gcy5jdXJyZW50fSksbCl9KSxbZl0pO09iamVjdChELnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWYuY3VycmVudCxlPTAsbj1tKCkodCk7ZTxuLmxlbmd0aDtlKyspe3ZhciByPW5bZV0sbz10W3JdOyJlcnJvciJpbiBvJiYidW5hdXRob3JpemVkIj09PW8uZXJyb3ImJmgociwxKX19KSxbbl0pO3ZhciBkPU9iamVjdChELnVzZU1lbW8pKChmdW5jdGlvbigpe3ZhciB0O3JldHVybiB0PWEucXVlcnkubm90ZSx3aW5kb3cuc2hhcmU9ZnVuY3Rpb24oZSl7dmFyIG4scjtyZXR1cm4gUC5hLmFzeW5jKChmdW5jdGlvbihvKXtmb3IoOzspc3dpdGNoKG8ucHJldj1vLm5leHQpe2Nhc2UgMDpyZXR1cm4gby5uZXh0PTIsUC5hLmF3cmFwKFRlLmEuY3JlYXRlU2hhcmVUb2tlbih7bm90ZVNsdWc6dCxyb2xlc0dyYW50ZWQ6ZX0pKTtjYXNlIDI6bj1vLnNlbnQsKHI9bmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZikpLnNlYXJjaFBhcmFtcy5zZXQoInNoYXJlVG9rZW4iLG4pLGNvbnNvbGUubG9nKCJHb3Qgc2hhcmUgdG9rZW46ICIsci5ocmVmKTtjYXNlIDY6Y2FzZSJlbmQiOnJldHVybiBvLnN0b3AoKX19KSl9LHJuKGEucXVlcnkpfSksW2EucXVlcnldKTtPYmplY3QoRC51c2VFZmZlY3QpKChmdW5jdGlvbigpe2QuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGgodCwxKX0pKSxpKG51bGwpfSksW2QsZixHZV0pO3ZhciB2PUZ0KCkseT1PYmplY3QoRC51c2VTdGF0ZSkobnVsbCksZz15WzBdLGI9eVsxXTtSdCgpO3ZhciB3PWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFdpbmRvdz9bdC5zY3JvbGxYLHQuc2Nyb2xsWV06W3Quc2Nyb2xsTGVmdCx0LnNjcm9sbFRvcF19dmFyIHI9THQoZSxbXSksbz1PYmplY3QoRC51c2VTdGF0ZSkoZSgwLDAsdm9pZCAwKSksaT1vWzBdLGE9b1sxXTtyZXR1cm4gT2JqZWN0KEQudXNlRWZmZWN0KSgoZnVuY3Rpb24oKXtpZih0KXt2YXIgZT1sdChuKHQpLDIpLG89ZVswXSxpPWVbMV07YShyKG8saSx2b2lkIDApKX19KSxbZSxyLHRdKSxPYmplY3QoRC51c2VFZmZlY3QpKChmdW5jdGlvbigpe2lmKHQpe3ZhciBlPWZ1bmN0aW9uKCl7dmFyIGU9bHQobih0KSwyKSxvPWVbMF0saT1lWzFdO2EoKGZ1bmN0aW9uKHQpe3JldHVybiByKG8saSx0KX0pKX07cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIixlLHtwYXNzaXZlOiEwfSksZnVuY3Rpb24oKXtyZXR1cm4gdC5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLGUpfX19KSxbcix0XSksaX0oZyxPYmplY3QoRC51c2VDYWxsYmFjaykoKGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1kLm1hcCgoZnVuY3Rpb24oZSxuKXt2YXIgcj1NYXRoLm1heCgwLChWZS1lbikqKG4tMSkpLG89TWF0aC5taW4oZG9jdW1lbnQuYm9keS5zY3JvbGxXaWR0aCwoVmUtZW4pKm4tKHdpbmRvdy5pbm5lcldpZHRoLShuLTEpKmVuKSs4MCksaT1NYXRoLm1heCgwLChWZS1lbikqKG4rMSktODApO3JldHVybiB0PnI/dD5pPyJvYnNjdXJlZCI6Im92ZXJsYXkiOnQ8bz8ib2JzY3VyZWQiOiJyZXN0aW5nIn0pKTtyZXR1cm4gTCgpKG4scik/bjpyfSksW2RdKSksaz1MdCgoZnVuY3Rpb24odCxlKXt2YXIgbixyLG8scyxjO3JldHVybiBQLmEuYXN5bmMoKGZ1bmN0aW9uKHUpe2Zvcig7Oylzd2l0Y2godS5wcmV2PXUubmV4dCl7Y2FzZSAwOmlmKCJkZXNrdG9wIiE9PXYpe3UubmV4dD0xNzticmVha31pZihuPWQuaW5kZXhPZihlKSxyPWQubGVuZ3RoLC0xIT09bil7dS5uZXh0PTEzO2JyZWFrfXJldHVybiBvPWQuaW5kZXhPZih0KSxzPVtdLmNvbmNhdChPKGQuc2xpY2UoMSxvKzEpKSxbZV0pLG49cy5sZW5ndGgscj1uKzEsYz0iLyIuY29uY2F0KGRbMF0sIj8iKS5jb25jYXQocy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiJzdGFja2VkTm90ZXM9Ii5jb25jYXQodCl9KSkuam9pbigiJiIpKSx1Lm5leHQ9MTEsUC5hLmF3cmFwKGEucHVzaCh7cGF0aG5hbWU6Ii9bbm90ZV0iLHF1ZXJ5Ontub3RlOmRbMF0sc3RhY2tlZE5vdGVzOnMubWFwKGRlY29kZVVSSUNvbXBvbmVudCl9fSxjLHtzaGFsbG93OiEwfSkpO2Nhc2UgMTE6dS5uZXh0PTE0O2JyZWFrO2Nhc2UgMTM6aShudWxsKTtjYXNlIDE0OnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7Y29uc29sZS5sb2cocipWZSx3aW5kb3cuaW5uZXJXaWR0aCksZyYmcipWZT53aW5kb3cuaW5uZXJXaWR0aCYmZy5zY3JvbGxUbyh7bGVmdDpuKlZlLSh3aW5kb3cuaW5uZXJXaWR0aC1WZSkvMix0b3A6MCxiZWhhdmlvcjoic21vb3RoIn0pfSksMTApLHUubmV4dD0xOTticmVhaztjYXNlIDE3OnJldHVybiB1Lm5leHQ9MTksUC5hLmF3cmFwKGEucHVzaCgiL1tub3RlXSIsIi8iLmNvbmNhdChlKSx7c2hhbGxvdzohMH0pKTtjYXNlIDE5OmNhc2UiZW5kIjpyZXR1cm4gdS5zdG9wKCl9fSkpfSksW2QsYSx2XSksXz1MdCgoZnVuY3Rpb24odCxlLG4pe3JldHVybiBQLmEuYXN5bmMoKGZ1bmN0aW9uKHIpe2Zvcig7Oylzd2l0Y2goci5wcmV2PXIubmV4dCl7Y2FzZSAwOmU/KGgoZSwxKSxpKHtmcm9tU2x1Zzp0LHRvU2x1ZzplLGxpbmtFbGVtZW50Om59KSk6aShudWxsKTtjYXNlIDE6Y2FzZSJlbmQiOnJldHVybiByLnN0b3AoKX19KSl9KSxbR2VdKSxBPU9iamVjdChELnVzZU1lbW8pKChmdW5jdGlvbigpe3JldHVybntvbk5hdmlnYXRlOmssb25Ib3Zlck5vdGVMaW5rOl99fSksW2ssX10pLGo9T2JqZWN0KEQudXNlTWVtbykoKGZ1bmN0aW9uKCl7cmV0dXJue2Rpc3BsYXllZFNsdWdzOmR9fSksW2RdKSxFPU9iamVjdChELnVzZVJlZikobnVsbCksUz1vP2QuaW5kZXhPZihvLmZyb21TbHVnKTotMSxOPW8/ZC5pbmRleE9mKG8udG9TbHVnKTotMSxDPWQubWFwKChmdW5jdGlvbih0KXt2YXIgZT11W3RdO2lmKGUpcmV0dXJuImVycm9yImluIGU/Ilt1bmF2YWlsYWJsZSBub3RlXSI6ZS5kYXRhLnRpdGxlfSkpLmpvaW4oIiB8ICIpO3JldHVybiBaZSgiZGl2Iix7Y2xhc3NOYW1lOkkuYS5keW5hbWljKFtbIjE1Nzg4MzY3MTAiLFtZdF1dLFsiMjMxNjQ3MjI5NSIsW1h0XV1dKSsiIE5vdGVQYWdlUm9vdCJ9LFplKFIuYSxudWxsLFplKCJ0aXRsZSIse2NsYXNzTmFtZTpJLmEuZHluYW1pYyhbWyIxNTc4ODM2NzEwIixbWXRdXSxbIjIzMTY0NzIyOTUiLFtYdF1dXSl9LEMpLFplKCJtZXRhIix7cHJvcGVydHk6Im9nOnRpdGxlIixjb250ZW50OkMsY2xhc3NOYW1lOkkuYS5keW5hbWljKFtbIjE1Nzg4MzY3MTAiLFtZdF1dLFsiMjMxNjQ3MjI5NSIsW1h0XV1dKX0pLFplKCJtZXRhIix7cHJvcGVydHk6Im9nOnR5cGUiLGNvbnRlbnQ6ImFydGljbGUiLGNsYXNzTmFtZTpJLmEuZHluYW1pYyhbWyIxNTc4ODM2NzEwIixbWXRdXSxbIjIzMTY0NzIyOTUiLFtYdF1dXSl9KSxaZSgibWV0YSIse3Byb3BlcnR5OiJvZzpzaXRlX25hbWUiLGNvbnRlbnQ6RXQuYyxjbGFzc05hbWU6SS5hLmR5bmFtaWMoW1siMTU3ODgzNjcxMCIsW1l0XV0sWyIyMzE2NDcyMjk1IixbWHRdXV0pfSkpLFplKFR0LG51bGwpLFplKCJkaXYiLHtyZWY6YixjbGFzc05hbWU6SS5hLmR5bmFtaWMoW1siMTU3ODgzNjcxMCIsW1l0XV0sWyIyMzE2NDcyMjk1IixbWHRdXV0pKyIgTm90ZUNvbHVtbnNTY3JvbGxpbmdDb250YWluZXIifSxaZSgiZGl2Iix7c3R5bGU6e3dpZHRoOmQubGVuZ3RoKlZlfSxjbGFzc05hbWU6SS5hLmR5bmFtaWMoW1siMTU3ODgzNjcxMCIsW1l0XV0sWyIyMzE2NDcyMjk1IixbWHRdXV0pKyIgTm90ZUNvbHVtbnNDb250YWluZXIifSxaZShKZS5Qcm92aWRlcix7dmFsdWU6QX0sWmUoS2UuUHJvdmlkZXIse3ZhbHVlOmp9LFplKEsse2NvbXBvbmVudDpudWxsfSwoImRlc2t0b3AiPT09dj9kOmQuc2xpY2UoLTEpKS5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIFplKHRuLHtrZXk6ZSxpc0hvdmVyZWREZXN0aW5hdGlvbjpOPT09ZSx3b3VsZEV4aXRPblRyYW5zaXRpb25pbmdUb0hvdmVyZWREZXN0aW5hdGlvbjotMSE9PVMmJi0xPT09TiYmUzxlLG5vdGVDYWNoZUVudHJ5OnVbdF18fG51bGwsc3RhY2tJbmRleDplLHNjcm9sbFN0YXRlOndbZV0sdXNlclN0YXRlOm4uc3RhdGV9KX0pKSkpKSxvJiZaZShhbix7aG92ZXJlZE5vdGVTdGF0ZTpvLG5vdGVDYWNoZUVudHJ5OnVbby50b1NsdWddLHJlZjpFfSkpKSxaZShJLmEse2lkOiIxNTc4ODM2NzEwIixkeW5hbWljOltZdF19LFsiLk5vdGVQYWdlUm9vdC5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9ye2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotd2Via2l0LWZsZXg7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1mbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47fSIsIkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6ODAxcHgpey5Ob3RlUGFnZVJvb3QuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3RvcntoZWlnaHQ6MTAwdmg7fX0iLCIuTm90ZUNvbHVtbnNTY3JvbGxpbmdDb250YWluZXIuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3RvcntkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LXdlYmtpdC1mbGV4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O292ZXJmbG93LXg6YXV0bztvdmVyZmxvdy15OmhpZGRlbjstd2Via2l0LWJveC1mbGV4OjE7LXdlYmtpdC1mbGV4LWdyb3c6MTstbXMtZmxleC1wb3NpdGl2ZToxO2ZsZXgtZ3JvdzoxO30iLCIuTm90ZUNvbHVtbnNDb250YWluZXIuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3RvcntkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LXdlYmtpdC1mbGV4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LWZsZXg6MTstd2Via2l0LWZsZXgtZ3JvdzoxOy1tcy1mbGV4LXBvc2l0aXZlOjE7ZmxleC1ncm93OjE7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIDEwMG1zICIuY29uY2F0KFl0LCI7dHJhbnNpdGlvbjp3aWR0aCAxMDBtcyAiKS5jb25jYXQoWXQsIjt9IiksIkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6ODAwcHgpey5Ob3RlQ29sdW1uc0NvbnRhaW5lci5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9ye3dpZHRoOnVuc2V0ICFpbXBvcnRhbnQ7fX0iXSksWmUoSS5hLHtpZDoiMjMxNjQ3MjI5NSIsZHluYW1pYzpbWHRdfSxbImJvZHl7YmFja2dyb3VuZC1jb2xvcjoiLmNvbmNhdChYdCwiO21hcmdpbjowO3BhZGRpbmc6MDtoZWlnaHQ6MTAwdmg7fSIpLCJodG1se2JveC1zaXppbmc6Ym9yZGVyLWJveDt9IiwiKntib3gtc2l6aW5nOmluaGVyaXQ7fSJdKSl9UWUuZ2V0SW5pdGlhbFByb3BzPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixvO3JldHVybiBQLmEuYXN5bmMoKGZ1bmN0aW9uKGkpe2Zvcig7Oylzd2l0Y2goaS5wcmV2PWkubmV4dCl7Y2FzZSAwOnJldHVybiBlPXJuKHQucXVlcnkpLG49e30scj1uZXcgeC5hLG89e3N0YXRlOiJwZW5kaW5nIn0saS5uZXh0PTYsUC5hLmF3cmFwKEUuYS5hbGwoZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBHZSgoZnVuY3Rpb24oKXtyZXR1cm4gbn0pLHIsdCwwLChmdW5jdGlvbigpe3JldHVybiBvfSksKGZ1bmN0aW9uKHQpe249dChuKX0pKX0pKSkpO2Nhc2UgNjpyZXR1cm4gY29uc29sZS5sb2cobSgpKG4pKSxpLmFicnVwdCgicmV0dXJuIix7aW5pdGlhbE5vdGVDYWNoZTpufSk7Y2FzZSA4OmNhc2UiZW5kIjpyZXR1cm4gaS5zdG9wKCl9fSkpfTt2YXIgdG49Qi5hLm1lbW8oKGZ1bmN0aW9uKHQpe3ZhciBlLG49dC5pc0hvdmVyZWREZXN0aW5hdGlvbixyPXQud291bGRFeGl0T25UcmFuc2l0aW9uaW5nVG9Ib3ZlcmVkRGVzdGluYXRpb24sbz10Lm5vdGVDYWNoZUVudHJ5LGk9dC5zdGFja0luZGV4LGE9dC5zY3JvbGxTdGF0ZSxzPXQudXNlclN0YXRlLGM9Zyh0LFsiaXNIb3ZlcmVkRGVzdGluYXRpb24iLCJ3b3VsZEV4aXRPblRyYW5zaXRpb25pbmdUb0hvdmVyZWREZXN0aW5hdGlvbiIsIm5vdGVDYWNoZUVudHJ5Iiwic3RhY2tJbmRleCIsInNjcm9sbFN0YXRlIiwidXNlclN0YXRlIl0pLHU9RnQoKTtpZihvKWlmKCJlcnJvciJpbiBvKXt2YXIgbDtpZigidW5hdXRob3JpemVkIj09PW8uZXJyb3IpaWYoInBlbmRpbmciPT09cylsPSIiO2Vsc2UgaWYoImFub255bW91cyI9PT1zKWw9IllvdSBkb24ndCBoYXZlIGFjY2VzcyB0byB0aGlzIG5vdGUuXG4gICAgICAgICAgXG5bTG9naW5dKC9sb2dpbj9jb250aW51ZT0iLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLmhyZWYpLCIpIGlmIHlvdSBoYXZlIGFuIGFjY291bnQgd2hpY2ggc2hvdWxkIGhhdmUgYWNjZXNzLiIpO2Vsc2V7aWYoInJlZ2lzdGVyZWQiIT09cyl0aHJvdyBuZXcgRXJyb3IoInVucmVhY2hhYmxlIik7bD0iWW91IGRvbid0IGhhdmUgYWNjZXNzIHRvIHRoaXMgbm90ZS4ifWVsc2UgbD0iRXJyb3IgZmV0Y2hpbmcgbm90ZS4iO2U9e2JhY2tsaW5rZWROb3RlczpbXSxzbHVnOm8uc2x1Zyx0aXRsZToiW3VuYXZhaWxhYmxlIG5vdGVdIixsaW5rZWROb3RlU2x1Z3M6W10sY29udGVudE1hcmtkb3duOmwsY3RpbWVNaWxsaXM6MCxtdGltZU1pbGxpczowfX1lbHNlIGU9by5kYXRhO2Vsc2UgZT1udWxsO3JldHVybiBaZShzdCxPYmplY3Qodi5hKSh7dGltZW91dDoiZGVza3RvcCI9PT11PzUwMDowfSxjKSxPYmplY3QoRC51c2VDYWxsYmFjaykoKGZ1bmN0aW9uKHQpe3ZhciBzPSJlbnRlcmluZyI9PT10O3JldHVybiBaZShCLmEuRnJhZ21lbnQsbnVsbCxaZSgiZGl2Iix7c3R5bGU6e2xlZnQ6bm4oaSkscmlnaHQ6IiIuY29uY2F0KC0xKlZlKzQwLCJweCIpfSxjbGFzc05hbWU6SS5hLmR5bmFtaWMoW1siMTQ4NDEwODcyOCIsW1l0LFZlLFZlLFh0LCR0LGVuLGVuLFp0XV1dKSsiICIrIk5vdGVDb250YWluZXIgIi5jb25jYXQoIm92ZXJsYXkiPT09YXx8Im9ic2N1cmVkIj09PWE/Ik92ZXJsYXkiOiIiLCIgIikuY29uY2F0KHI/IlBlbmRpbmdFeGl0IjoiIiwiICIpLmNvbmNhdCgiZXhpdGluZyI9PT10fHwiZXhpdGVkIj09PXQmJiFzPyJIaWRkZW5Ob3RlIjoiIil9LFplKGp0LHtpbjoib2JzY3VyZWQiIT09YX0sWmUoImRpdiIse2NsYXNzTmFtZTpJLmEuZHluYW1pYyhbWyIxNDg0MTA4NzI4IixbWXQsVmUsVmUsWHQsJHQsZW4sZW4sWnRdXV0pKyIgUHJlc2VudGVkTm90ZSJ9LGU/WmUob2UsT2JqZWN0KHYuYSkoe30sZSx7aXNIb3ZlcmVkRGVzdGluYXRpb246bn0pKTpaZSgiZGl2Iix7Y2xhc3NOYW1lOkkuYS5keW5hbWljKFtbIjE0ODQxMDg3MjgiLFtZdCxWZSxWZSxYdCwkdCxlbixlbixadF1dXSl9KSkpLFplKGp0LHtpbjoib2JzY3VyZWQiPT09YSYmbnVsbCE9PW8sdW5tb3VudE9uRXhpdDohMH0sWmUoImRpdiIse2NsYXNzTmFtZTpJLmEuZHluYW1pYyhbWyIxNDg0MTA4NzI4IixbWXQsVmUsVmUsWHQsJHQsZW4sZW4sWnRdXV0pKyIgIisiT2JzY3VyZWRMYWJlbCAiLmNvbmNhdChuPyJIb3ZlcmVkRGVzdGluYXRpb24iOiIiKX0sZSYmZS50aXRsZSkpKSxaZShJLmEse2lkOiIxNDg0MTA4NzI4IixkeW5hbWljOltZdCxWZSxWZSxYdCwkdCxlbixlbixadF19LFsiLk5vdGVDb250YWluZXIuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3RvcntiYWNrZ3JvdW5kLWNvbG9yOndoaXRlO30iLCJAbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOjgwMXB4KXsuUHJlc2VudGVkTm90ZS5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDE1MG1zIGxpbmVhcjt0cmFuc2l0aW9uOm9wYWNpdHkgMTUwbXMgbGluZWFyO30uSGlkZGVuTm90ZS5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9ye29wYWNpdHk6MCAhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDAuOTUpOy1tcy10cmFuc2Zvcm06c2NhbGUoMC45NSk7dHJhbnNmb3JtOnNjYWxlKDAuOTUpO3BvaW50ZXItZXZlbnRzOm5vbmU7fS5PdmVybGF5Ll9fanN4LXN0eWxlLWR5bmFtaWMtc2VsZWN0b3J7Ym94LXNoYWRvdzowcHggMHB4IDE1cHggM3B4IHJnYmEoMCwwLDAsMC4xKTt9Lk5vdGVDb250YWluZXIuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3Rvcnstd2Via2l0LXRyYW5zaXRpb246Ym94LXNoYWRvdyAxMDBtcyBsaW5lYXIsb3BhY2l0eSA3NW1zIGxpbmVhciwtd2Via2l0LXRyYW5zZm9ybSAyMDBtcyAiLmNvbmNhdChZdCwiOy13ZWJraXQtdHJhbnNpdGlvbjpib3gtc2hhZG93IDEwMG1zIGxpbmVhcixvcGFjaXR5IDc1bXMgbGluZWFyLHRyYW5zZm9ybSAyMDBtcyAiKS5jb25jYXQoWXQsIjt0cmFuc2l0aW9uOmJveC1zaGFkb3cgMTAwbXMgbGluZWFyLG9wYWNpdHkgNzVtcyBsaW5lYXIsdHJhbnNmb3JtIDIwMG1zICIpLmNvbmNhdChZdCwiOy13ZWJraXQtZmxleC1zaHJpbms6MDstbXMtZmxleC1uZWdhdGl2ZTowO2ZsZXgtc2hyaW5rOjA7d2lkdGg6IikuY29uY2F0KFZlLCJweDttYXgtd2lkdGg6IikuY29uY2F0KFZlLCJweDt0b3A6MHB4O3Bvc2l0aW9uOi13ZWJraXQtc3RpY2t5O3Bvc2l0aW9uOnN0aWNreTstd2Via2l0LWJveC1mbGV4OjE7LXdlYmtpdC1mbGV4LWdyb3c6MTstbXMtZmxleC1wb3NpdGl2ZToxO2ZsZXgtZ3JvdzoxO292ZXJmbG93LXk6YXV0bztib3JkZXItbGVmdDoxcHggc29saWQgcmdiYSgwLDAsMCwwLjA1KTt9Lk5vdGVDb250YWluZXIuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3RvcjpmaXJzdC1vZi10eXBle2JvcmRlci1sZWZ0Om5vbmU7fS5Ob3RlQ29udGFpbmVyLlBlbmRpbmdFeGl0Ll9fanN4LXN0eWxlLWR5bmFtaWMtc2VsZWN0b3J7YmFja2dyb3VuZC1jb2xvcjoiKS5jb25jYXQoWHQsIjt9Lk9ic2N1cmVkTGFiZWwuX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3Rvcntmb250LWZhbWlseToiKS5jb25jYXQoJHQsIjtmb250LXNpemU6MTdweDtsaW5lLWhlaWdodDoiKS5jb25jYXQoZW4sInB4Oy13ZWJraXQtbGV0dGVyLXNwYWNpbmc6MC4wM2VtOy1tb3otbGV0dGVyLXNwYWNpbmc6MC4wM2VtOy1tcy1sZXR0ZXItc3BhY2luZzowLjAzZW07bGV0dGVyLXNwYWNpbmc6MC4wM2VtO2ZvbnQtd2VpZ2h0OjUwMDstd2Via2l0LXdyaXRpbmctbW9kZTp2ZXJ0aWNhbC1scjstbXMtd3JpdGluZy1tb2RlOnRiO3dyaXRpbmctbW9kZTp2ZXJ0aWNhbC1scjttYXJnaW4tdG9wOjM2cHg7dG9wOjBweDtib3R0b206MHB4O2xlZnQ6MHB4O3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7d2lkdGg6IikuY29uY2F0KGVuLCJweDtjb2xvcjojMzMzO292ZXJmbG93OmhpZGRlbjt9LkhvdmVyZWREZXN0aW5hdGlvbi5fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9ye2NvbG9yOiIpLmNvbmNhdChadCwiO319IildKSl9KSxbcixvLGksYSxuLHVdKSl9KSxMLmEpLGVuPTQwO2Z1bmN0aW9uIG5uKHQpe3JldHVybiB0KmVufWZ1bmN0aW9uIHJuKHQpe3ZhciBlPXQubm90ZTtpZighZSlyZXR1cm5bRXQuZF07dmFyIG49dC5zdGFja2VkTm90ZXM7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdC5yZXBsYWNlKC9cLmh0bWwkLywiIil9cmV0dXJuW3IoZSldLmNvbmNhdChPKG4/ZCgpKG4pP24ubWFwKHIpOltyKG4pXTpbXSkpLm1hcChlbmNvZGVVUklDb21wb25lbnQpfWZ1bmN0aW9uIG9uKHQpe3ZhciBlLG4scixvLGksYSxzO3JldHVybiBQLmEuYXN5bmMoKGZ1bmN0aW9uKGMpe2Zvcig7Oylzd2l0Y2goYy5wcmV2PWMubmV4dCl7Y2FzZSAwOnJldHVybiBjLm5leHQ9MixQLmEuYXdyYXAoWWUodCkpO2Nhc2UgMjppZighKCJlcnJvciJpbihlPWMuc2VudCkpKXtjLm5leHQ9NzticmVha31yZXR1cm4gYy5hYnJ1cHQoInJldHVybiIsJGUoe30sZSx7c2x1Zzp0fSkpO2Nhc2UgNzpyZXR1cm4gcj1lLnByZXNlbnRhdGlvbk1hcmtkb3duLG89ZS5wYXJzZWRUcmVlLGk9ZS5jdGltZU1pbGxpcyxhPWUubXRpbWVNaWxsaXMscz1SZShvKSxjLmFicnVwdCgicmV0dXJuIix7ZGF0YTp7c2x1Zzp0LHRpdGxlOm51bGwhPT0obj1PYmplY3QoVC5nZXROb3RlVGl0bGUpKG8pKSYmdm9pZCAwIT09bj9uOiJbdW50aXRsZWQgbm90ZV0iLGNvbnRlbnRNYXJrZG93bjpyLGJhY2tsaW5rZWROb3RlczpzLmJhY2tsaW5rcyxsaW5rZWROb3RlU2x1Z3M6cy5saW5rZWROb3RlU2x1Z3MsY3RpbWVNaWxsaXM6aSxtdGltZU1pbGxpczphfX0pO2Nhc2UgMTA6Y2FzZSJlbmQiOnJldHVybiBjLnN0b3AoKX19KSl9dmFyIGFuPUIuYS5mb3J3YXJkUmVmKChmdW5jdGlvbih0LGUpe3ZhciBuPXQuaG92ZXJlZE5vdGVTdGF0ZSxyPXQubm90ZUNhY2hlRW50cnksbz0iIjtyZXR1cm4gciYmKG89ImVycm9yImluIHI/IkVycm9yOiAiLmNvbmNhdChyLmVycm9yKTpyLmRhdGEuY29udGVudE1hcmtkb3duLnNsaWNlKDAsMTIwMCkpLFplKENlLHtpc1ByZXNlbnRlZDohMCxvbkRpZERpc2FwcGVhcjpmdW5jdGlvbigpe30sb25PdXRzaWRlRGlzbWlzc1RhcDpmdW5jdGlvbigpe30scGxhY2VtZW50OiJyaWdodC1zdGFydCIscmVmZXJlbmNlRWxlbWVudDpuLmxpbmtFbGVtZW50LHJlZjplfSxaZSgiZGl2Iix7Y2xhc3NOYW1lOiJqc3gtMTEwMTk5MzkzNSBIb3ZlcmVkTm90ZSJ9LFplKCJkaXYiLHtjbGFzc05hbWU6ImpzeC0xMTAxOTkzOTM1IEhvdmVyZWROb3RlSW50ZXJpb3IifSxaZShRdCx7bm90ZVNsdWc6bi50b1NsdWd9LG8pKSksWmUoSS5hLHtpZDoiMTEwMTk5MzkzNSJ9LFsiLkhvdmVyZWROb3RlLmpzeC0xMTAxOTkzOTM1ey0td2lkdGg6Y2FsYygoIi5jb25jYXQoVmUsInB4KSAqIHZhcigtLXNjYWxlRmFjdG9yKSk7IikuY29uY2F0KCJcbiAgICAtLXNjYWxlRmFjdG9yOiAwLjg7XG4gICAgLS1oZWlnaHQ6IGNhbGMoMTAwdmggLSA2NHB4KTtcbiAgICBtYXgtaGVpZ2h0OiA0MDBweDtcbiIsIiBvdmVyZmxvdzpoaWRkZW47fSIpLCIuSG92ZXJlZE5vdGUuanN4LTExMDE5OTM5MzUgLkhvdmVyZWROb3RlSW50ZXJpb3IuanN4LTExMDE5OTM5MzV7LS1tYXJnaW46Y2FsYygzMnB4ICogdmFyKC0tc2NhbGVGYWN0b3IpKTttYXJnaW46dmFyKC0tbWFyZ2luKTttYXgtd2lkdGg6dW5zZXQ7d2lkdGg6Y2FsYyh2YXIoLS13aWR0aCkgLSB2YXIoLS1tYXJnaW4pICogMik7aGVpZ2h0OmNhbGModmFyKC0td2lkdGgpIC0gdmFyKC0tbWFyZ2luKSAqIDIpOy13ZWJraXQtdHJhbnNmb3JtOnVuc2V0Oy1tcy10cmFuc2Zvcm06dW5zZXQ7dHJhbnNmb3JtOnVuc2V0O30iLCIuSG92ZXJlZE5vdGUuanN4LTExMDE5OTM5MzUgLkhvdmVyZWROb3RlSW50ZXJpb3IuanN4LTExMDE5OTM5MzU+KnttYXgtd2lkdGg6dW5zZXQ7d2lkdGg6Y2FsYyggKHZhcigtLXdpZHRoKSAtIHZhcigtLW1hcmdpbikgKiAyKSAvIHZhcigtLXNjYWxlRmFjdG9yKSk7aGVpZ2h0OmNhbGMoICh2YXIoLS1oZWlnaHQpIC0gdmFyKC0tbWFyZ2luKSAqIDIpIC8gdmFyKC0tc2NhbGVGYWN0b3IpKTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSh2YXIoLS1zY2FsZUZhY3RvcikpOy1tcy10cmFuc2Zvcm06c2NhbGUodmFyKC0tc2NhbGVGYWN0b3IpKTt0cmFuc2Zvcm06c2NhbGUodmFyKC0tc2NhbGVGYWN0b3IpKTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46dG9wIGxlZnQ7LW1zLXRyYW5zZm9ybS1vcmlnaW46dG9wIGxlZnQ7dHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdDt9Il0pKX0pKX0saU12UjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlh3NXUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmVuY29kZSxvPXQuZXNjYXBlLGk9dC5lbnRlckxpbmsoKTtpZigic2hvcnRjdXQiIT09ZS5yZWZlcmVuY2VUeXBlJiYiY29sbGFwc2VkIiE9PWUucmVmZXJlbmNlVHlwZSlyZXR1cm4gaTtyZXR1cm4gdC5lc2NhcGU9cix0LmVuY29kZT1yLGZ1bmN0aW9uKCl7dC5lbmNvZGU9bix0LmVzY2FwZT1vLGkoKX19fSxpZ3NDOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigib2Y1diIpO3QuZXhwb3J0cz1zLHMubG9jYXRvcj1yO3ZhciBvPTEwLGk9MzIsYT05NjtmdW5jdGlvbiBzKHQsZSxuKXtmb3IodmFyIHIscyxjLHUsbCxmLHA9ZS5sZW5ndGgsaD0wO2g8cCYmZS5jaGFyQ29kZUF0KGgpPT09YTspaCsrO2lmKDAhPT1oJiZoIT09cCl7Zm9yKHI9aCxsPWUuY2hhckNvZGVBdChoKTtoPHA7KXtpZih1PWwsbD1lLmNoYXJDb2RlQXQoaCsxKSx1PT09YSl7aWYodm9pZCAwPT09cyYmKHM9aCksYz1oKzEsbCE9PWEmJmMtcz09PXIpe2Y9ITA7YnJlYWt9fWVsc2Ugdm9pZCAwIT09cyYmKHM9dm9pZCAwLGM9dm9pZCAwKTtoKyt9aWYoZil7aWYobilyZXR1cm4hMDtpZihoPXIscD1zLHU9ZS5jaGFyQ29kZUF0KGgpLGw9ZS5jaGFyQ29kZUF0KHAtMSksZj0hMSxwLWg+MiYmKHU9PT1pfHx1PT09bykmJihsPT09aXx8bD09PW8pKXtmb3IoaCsrLHAtLTtoPHA7KXtpZigodT1lLmNoYXJDb2RlQXQoaCkpIT09aSYmdSE9PW8pe2Y9ITA7YnJlYWt9aCsrfSEwPT09ZiYmKHIrKyxzLS0pfXJldHVybiB0KGUuc2xpY2UoMCxjKSkoe3R5cGU6ImlubGluZUNvZGUiLHZhbHVlOmUuc2xpY2UocixzKX0pfX19fSxpbERiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiNmIzNCIpLG89bigiYVNzZSIpLGk9bigiWUNSNSIpLGE9bigiQ2RsaSIpLHM9bigiTkhNeSIpLGM9bigiSEVveiIpLml0ZXJhdG9yO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIHModClbY10/dFtjXSgpOnIodCk/bmV3IGkodCk6byh0KT9uZXcgYSh0KTpuZXcgaSh0KX19LGlwemo6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3ZhciBlLG47cmV0dXJuInRleHQiIT09dC50eXBlfHwhdC5wb3NpdGlvbnx8KGU9dC5wb3NpdGlvbi5zdGFydCxuPXQucG9zaXRpb24uZW5kLGUubGluZSE9PW4ubGluZXx8bi5jb2x1bW4tZS5jb2x1bW49PT10LnZhbHVlLmxlbmd0aCl9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiB0LnZhbHVlKz1lLnZhbHVlLHR9ZnVuY3Rpb24gaSh0LGUpe3JldHVybiB0aGlzLm9wdGlvbnMuY29tbW9ubWFya3x8dGhpcy5vcHRpb25zLmdmbT9lOih0LmNoaWxkcmVuPXQuY2hpbGRyZW4uY29uY2F0KGUuY2hpbGRyZW4pLHQpfXQuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgYSxzLGMsdSxsLGYscD10aGlzLGg9cC5vZmZzZXQsZD1bXSx2PXBbdCsiTWV0aG9kcyJdLHk9cFt0KyJUb2tlbml6ZXJzIl0sbT1uLmxpbmUsZz1uLmNvbHVtbjtpZighZSlyZXR1cm4gZDtrLm5vdz14LGsuZmlsZT1wLmZpbGUsYigiIik7Zm9yKDtlOyl7Zm9yKGE9LTEscz12Lmxlbmd0aCxsPSExOysrYTxzJiYodT12W2FdLCEoYz15W3VdKXx8Yy5vbmx5QXRTdGFydCYmIXAuYXRTdGFydHx8Yy5ub3RJbkxpc3QmJnAuaW5MaXN0fHxjLm5vdEluQmxvY2smJnAuaW5CbG9ja3x8Yy5ub3RJbkxpbmsmJnAuaW5MaW5rfHwoZj1lLmxlbmd0aCxjLmFwcGx5KHAsW2ssZV0pLCEobD1mIT09ZS5sZW5ndGgpKSk7KTtsfHxwLmZpbGUuZmFpbChuZXcgRXJyb3IoIkluZmluaXRlIGxvb3AiKSxrLm5vdygpKX1yZXR1cm4gcC5lb2Y9eCgpLGQ7ZnVuY3Rpb24gYih0KXtmb3IodmFyIGU9LTEsbj10LmluZGV4T2YoIlxuIik7LTEhPT1uOyltKyssZT1uLG49dC5pbmRleE9mKCJcbiIsbisxKTstMT09PWU/Zys9dC5sZW5ndGg6Zz10Lmxlbmd0aC1lLG0gaW4gaCYmKC0xIT09ZT9nKz1oW21dOmc8PWhbbV0mJihnPWhbbV0rMSkpfWZ1bmN0aW9uIHgoKXt2YXIgdD17bGluZTptLGNvbHVtbjpnfTtyZXR1cm4gdC5vZmZzZXQ9cC50b09mZnNldCh0KSx0fWZ1bmN0aW9uIHcodCl7dGhpcy5zdGFydD10LHRoaXMuZW5kPXgoKX1mdW5jdGlvbiBrKHQpe3ZhciBuPWZ1bmN0aW9uKCl7dmFyIHQ9W10sZT1tKzE7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBuPW0rMTtlPG47KXQucHVzaCgoaFtlXXx8MCkrMSksZSsrO3JldHVybiB0fX0oKSxhPWZ1bmN0aW9uKCl7dmFyIHQ9eCgpO3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPWUucG9zaXRpb24sbz1yP3Iuc3RhcnQ6dCxpPVtdLGE9ciYmci5lbmQubGluZSxzPXQubGluZTtpZihlLnBvc2l0aW9uPW5ldyB3KG8pLHImJm4mJnIuaW5kZW50KXtpZihpPXIuaW5kZW50LGE8cyl7Zm9yKDsrK2E8czspaS5wdXNoKChoW2FdfHwwKSsxKTtpLnB1c2godC5jb2x1bW4pfW49aS5jb25jYXQobil9cmV0dXJuIGUucG9zaXRpb24uaW5kZW50PW58fFtdLGV9fSgpLHM9eCgpO3JldHVybiBmdW5jdGlvbih0KXtlLnNsaWNlKDAsdC5sZW5ndGgpIT09dCYmcC5maWxlLmZhaWwobmV3IEVycm9yKCJJbmNvcnJlY3RseSBlYXRlbiB2YWx1ZTogcGxlYXNlIHJlcG9ydCB0aGlzIHdhcm5pbmcgb24gaHR0cHM6Ly9naXQuaW8vdmc1RnQiKSx4KCkpfSh0KSxjLnJlc2V0PXUsdS50ZXN0PWwsYy50ZXN0PWwsZT1lLnNsaWNlKHQubGVuZ3RoKSxiKHQpLG49bigpLGM7ZnVuY3Rpb24gYyh0LGUpe3JldHVybiBhKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZT9lLmNoaWxkcmVuOmQsYT1uW24ubGVuZ3RoLTFdO3JldHVybiBhJiZ0LnR5cGU9PT1hLnR5cGUmJigidGV4dCI9PT10LnR5cGV8fCJibG9ja3F1b3RlIj09PXQudHlwZSkmJnIoYSkmJnIodCkmJih0PSgidGV4dCI9PT10LnR5cGU/bzppKS5jYWxsKHAsYSx0KSksdCE9PWEmJm4ucHVzaCh0KSxwLmF0U3RhcnQmJjAhPT1kLmxlbmd0aCYmcC5leGl0U3RhcnQoKSx0fShhKHQpLGUpLG4pfWZ1bmN0aW9uIHUoKXt2YXIgbj1jLmFwcGx5KG51bGwsYXJndW1lbnRzKTtyZXR1cm4gbT1zLmxpbmUsZz1zLmNvbHVtbixlPXQrZSxufWZ1bmN0aW9uIGwoKXt2YXIgbj1hKHt9KTtyZXR1cm4gbT1zLmxpbmUsZz1zLmNvbHVtbixlPXQrZSxuLnBvc2l0aW9ufX19fX0sImorWDIiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiSEVveiIpLml0ZXJhdG9yLG89bigiNmIzNCIpLGk9bigiY0VXeiIpLGE9bigiMVR0SyIpLHM9bigiR3BSTCIpLGM9bigibHE1eSIpLHU9bigiWXNUeiIpLGw9bigiYVNzZSIpLGY9QXJyYXkuaXNBcnJheSxwPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLGg9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm51bGx9LGQ9T2JqZWN0LmRlZmluZVByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuLHYseSxtLGcsYix4LHcsayxfPWFyZ3VtZW50c1sxXSxBPWFyZ3VtZW50c1syXTtpZih0PU9iamVjdChjKHQpKSx1KF8pJiZzKF8pLHRoaXMmJnRoaXMhPT1BcnJheSYmaSh0aGlzKSllPXRoaXM7ZWxzZXtpZighXyl7aWYobyh0KSlyZXR1cm4gMSE9PShtPXQubGVuZ3RoKT9BcnJheS5hcHBseShudWxsLHQpOigoeT1uZXcgQXJyYXkoMSkpWzBdPXRbMF0seSk7aWYoZih0KSl7Zm9yKHk9bmV3IEFycmF5KG09dC5sZW5ndGgpLG49MDtuPG07KytuKXlbbl09dFtuXTtyZXR1cm4geX19eT1bXX1pZighZih0KSlpZih2b2lkIDAhPT0odz10W3JdKSl7Zm9yKGI9cyh3KS5jYWxsKHQpLGUmJih5PW5ldyBlKSx4PWIubmV4dCgpLG49MDsheC5kb25lOylrPV8/cC5jYWxsKF8sQSx4LnZhbHVlLG4pOngudmFsdWUsZT8oaC52YWx1ZT1rLGQoeSxuLGgpKTp5W25dPWsseD1iLm5leHQoKSwrK247bT1ufWVsc2UgaWYobCh0KSl7Zm9yKG09dC5sZW5ndGgsZSYmKHk9bmV3IGUpLG49MCx2PTA7bjxtOysrbilrPXRbbl0sbisxPG0mJihnPWsuY2hhckNvZGVBdCgwKSk+PTU1Mjk2JiZnPD01NjMxOSYmKGsrPXRbKytuXSksaz1fP3AuY2FsbChfLEEsayx2KTprLGU/KGgudmFsdWU9ayxkKHksdixoKSk6eVt2XT1rLCsrdjttPXZ9aWYodm9pZCAwPT09bSlmb3IobT1hKHQubGVuZ3RoKSxlJiYoeT1uZXcgZShtKSksbj0wO248bTsrK24paz1fP3AuY2FsbChfLEEsdFtuXSxuKTp0W25dLGU/KGgudmFsdWU9ayxkKHksbixoKSk6eVtuXT1rO3JldHVybiBlJiYoaC52YWx1ZT1udWxsLHkubGVuZ3RoPW0pLHl9fSxqZFp3OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJXVVBXIiksbz1uKCI1UkdSIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvKHIodCkpfSx0LmV4cG9ydHMucGFyc2U9cix0LmV4cG9ydHMuY29tcGlsZT1vfSxrMFZTOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hpbGRyZW4sbj1lLmxlbmd0aCxyPVtdLG89LTE7Zm9yKDsrK288bjspcltvXT10aGlzLnZpc2l0KGVbb10sdCk7cmV0dXJuIHJ9fSxrMnFNOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiZudWxsIT09dH19LGtCUGw6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJYdDFZIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXJldHVybiExO3RyeXtyZXR1cm4hIXQuY29uc3RydWN0b3ImJnQuY29uc3RydWN0b3IucHJvdG90eXBlPT09dH1jYXRjaChlKXtyZXR1cm4hMX19fSxrRHVYOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgYyx1LGwsZj10aGlzLm9wdGlvbnMscD1lLmxlbmd0aCsxLGg9LTEsZD10Lm5vdygpLHY9IiIseT0iIjtmb3IoOysraDxwOyl7aWYoKGM9ZS5jaGFyQXQoaCkpIT09aSYmYyE9PW8pe2gtLTticmVha312Kz1jfWw9MDtmb3IoOysraDw9cDspe2lmKChjPWUuY2hhckF0KGgpKSE9PWEpe2gtLTticmVha312Kz1jLGwrK31pZihsPnMpcmV0dXJuO2lmKCFsfHwhZi5wZWRhbnRpYyYmZS5jaGFyQXQoaCsxKT09PWEpcmV0dXJuO3A9ZS5sZW5ndGgrMSx1PSIiO2Zvcig7KytoPHA7KXtpZigoYz1lLmNoYXJBdChoKSkhPT1pJiZjIT09byl7aC0tO2JyZWFrfXUrPWN9aWYoIWYucGVkYW50aWMmJjA9PT11Lmxlbmd0aCYmYyYmYyE9PXIpcmV0dXJuO2lmKG4pcmV0dXJuITA7dis9dSx1PSIiLHk9IiI7Zm9yKDsrK2g8cCYmKGM9ZS5jaGFyQXQoaCkpJiZjIT09cjspaWYoYz09PWl8fGM9PT1vfHxjPT09YSl7Zm9yKDtjPT09aXx8Yz09PW87KXUrPWMsYz1lLmNoYXJBdCgrK2gpO2Zvcig7Yz09PWE7KXUrPWMsYz1lLmNoYXJBdCgrK2gpO2Zvcig7Yz09PWl8fGM9PT1vOyl1Kz1jLGM9ZS5jaGFyQXQoKytoKTtoLS19ZWxzZSB5Kz11K2MsdT0iIjtyZXR1cm4gZC5jb2x1bW4rPXYubGVuZ3RoLGQub2Zmc2V0Kz12Lmxlbmd0aCx0KHYrPXkrdSkoe3R5cGU6ImhlYWRpbmciLGRlcHRoOmwsY2hpbGRyZW46dGhpcy50b2tlbml6ZUlubGluZSh5LGQpfSl9O3ZhciByPSJcbiIsbz0iXHQiLGk9IiAiLGE9IiMiLHM9Nn0sa1NKSzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1uKCJ4ZHZiIikoKT9TdHJpbmcucHJvdG90eXBlLmNvbnRhaW5zOm4oIlFOTUsiKX0sa2VNcDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjZiMzQiKSxvPW4oIllzVHoiKSxpPW4oImFTc2UiKSxhPW4oIkhFb3oiKS5pdGVyYXRvcixzPUFycmF5LmlzQXJyYXk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiEhbyh0KSYmKCEhcyh0KXx8KCEhaSh0KXx8KCEhcih0KXx8ImZ1bmN0aW9uIj09PXR5cGVvZiB0W2FdKSkpfX0sa2s0QjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjEzRFEiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnNwbGl0KG8pLHM9bi5sZW5ndGgsYz1yKGksZSphKTtmb3IoO3MtLTspMCE9PW5bc10ubGVuZ3RoJiYobltzXT1jK25bc10pO3JldHVybiBuLmpvaW4obyl9O3ZhciBvPSJcbiIsaT0iICIsYT00fSxrbUo3OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiUmpPRiIpLG89bigiM0dsSSIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIHIsdSxsLGY9LTEscD1lLmxlbmd0aCxoPSIiLGQ9IiIsdj0iIix5PSIiO2Zvcig7KytmPHA7KWlmKHI9ZS5jaGFyQXQoZiksbClpZihsPSExLGgrPXYsZCs9eSx2PSIiLHk9IiIscj09PWkpdj1yLHk9cjtlbHNlIGZvcihoKz1yLGQrPXI7KytmPHA7KXtpZighKHI9ZS5jaGFyQXQoZikpfHxyPT09aSl7eT1yLHY9cjticmVha31oKz1yLGQrPXJ9ZWxzZSBpZihyPT09cyYmZS5jaGFyQXQoZisxKT09PXImJmUuY2hhckF0KGYrMik9PT1yJiZlLmNoYXJBdChmKzMpPT09cil2Kz1jLGYrPTMsbD0hMDtlbHNlIGlmKHI9PT1hKXYrPXIsbD0hMDtlbHNle2Zvcih1PSIiO3I9PT1hfHxyPT09czspdSs9cixyPWUuY2hhckF0KCsrZik7aWYociE9PWkpYnJlYWs7dis9dStyLHkrPXJ9aWYoZClyZXR1cm4hIW58fHQoaCkoe3R5cGU6ImNvZGUiLGxhbmc6bnVsbCx2YWx1ZTpvKGQpfSl9O3ZhciBpPSJcbiIsYT0iXHQiLHM9IiAiLGM9cihzLDQpfSwibCtyWSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9KHR8fHt9KS5rZWVwfHxbXTtyZXR1cm4gcj1PYmplY3QuYXNzaWduKHt9LG8pLGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoISh0IGluIHIpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBga2VlcGAgb3B0aW9uOiBObyBtb2RpZmllciBpcyBkZWZpbmVkIGZvciBub2RlIHR5cGUgYCIrdCsiYCIpO2RlbGV0ZSByW3RdfSkpLGl9O3ZhciByLG89e2hlYWRpbmc6ZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6InBhcmFncmFwaCIsY2hpbGRyZW46dC5jaGlsZHJlbn19LHRleHQ6YyxpbmxpbmVDb2RlOmMsaW1hZ2U6cyxpbWFnZVJlZmVyZW5jZTpzLGJyZWFrOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6InRleHQiLHZhbHVlOiJcbiJ9fSxibG9ja3F1b3RlOnUsbGlzdDp1LGxpc3RJdGVtOnUsc3Ryb25nOnUsZW1waGFzaXM6dSxkZWxldGU6dSxsaW5rOnUsbGlua1JlZmVyZW5jZTp1LGNvZGU6bCxob3Jpem9udGFsUnVsZTpsLHRoZW1hdGljQnJlYWs6bCxodG1sOmwsdGFibGU6bCx0YWJsZUNlbGw6bCxkZWZpbml0aW9uOmwseWFtbDpsLHRvbWw6bH07ZnVuY3Rpb24gaSh0KXt2YXIgZT10JiZ0LnR5cGU7cmV0dXJuIGUgaW4gciYmKHQ9cltlXSh0KSksImxlbmd0aCJpbiB0JiYodD1hKHQpKSx0LmNoaWxkcmVuJiYodC5jaGlsZHJlbj1hKHQuY2hpbGRyZW4pKSx0fWZ1bmN0aW9uIGEodCl7Zm9yKHZhciBlLG49LTEscj10Lmxlbmd0aCxvPVtdOysrbjxyOykoZT1pKHRbbl0pKSYmIm51bWJlciI9PT10eXBlb2YgZS5sZW5ndGg/bz1vLmNvbmNhdChlLm1hcChpKSk6by5wdXNoKGUpO3JldHVybiBmdW5jdGlvbih0KXt2YXIgZSxuPS0xLHI9dC5sZW5ndGgsbz1bXSxpPW51bGw7Zm9yKDsrK248cjspZT10W25dLGkmJiJ2YWx1ZSJpbiBlJiZlLnR5cGU9PT1pLnR5cGU/aS52YWx1ZSs9ZS52YWx1ZTooby5wdXNoKGUpLGk9ZSk7cmV0dXJuIG99KG8pfWZ1bmN0aW9uIHModCl7cmV0dXJue3R5cGU6InRleHQiLHZhbHVlOnQuYWx0fHx0LnRpdGxlfHwiIn19ZnVuY3Rpb24gYyh0KXtyZXR1cm57dHlwZToidGV4dCIsdmFsdWU6dC52YWx1ZX19ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdC5jaGlsZHJlbnx8W119ZnVuY3Rpb24gbCgpe3JldHVybnt0eXBlOiJ0ZXh0Iix2YWx1ZToiIn19fSxsN3F0OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiMTNEUSIpLG89bigiRHY5UiIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIHIsdSxsLGY9LTEscD1lLmxlbmd0aCxoPSIiLGQ9IiIsdj0iIix5PSIiO2Zvcig7KytmPHA7KWlmKHI9ZS5jaGFyQXQoZiksbClpZihsPSExLGgrPXYsZCs9eSx2PSIiLHk9IiIscj09PWkpdj1yLHk9cjtlbHNlIGZvcihoKz1yLGQrPXI7KytmPHA7KXtpZighKHI9ZS5jaGFyQXQoZikpfHxyPT09aSl7eT1yLHY9cjticmVha31oKz1yLGQrPXJ9ZWxzZSBpZihyPT09cyYmZS5jaGFyQXQoZisxKT09PXImJmUuY2hhckF0KGYrMik9PT1yJiZlLmNoYXJBdChmKzMpPT09cil2Kz1jLGYrPTMsbD0hMDtlbHNlIGlmKHI9PT1hKXYrPXIsbD0hMDtlbHNle2Zvcih1PSIiO3I9PT1hfHxyPT09czspdSs9cixyPWUuY2hhckF0KCsrZik7aWYociE9PWkpYnJlYWs7dis9dStyLHkrPXJ9aWYoZClyZXR1cm4hIW58fHQoaCkoe3R5cGU6ImNvZGUiLGxhbmc6bnVsbCxtZXRhOm51bGwsdmFsdWU6byhkKX0pfTt2YXIgaT0iXG4iLGE9Ilx0IixzPSIgIixjPXIocyw0KX0sbDhveTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gU3RyaW5nKHQpLnJlcGxhY2UoL1xzKy9nLCIgIil9fSxsOHpSOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigieXowOSIpLG89bigicTNFTiIpLGk9bigiVXNrUCIpO3QuZXhwb3J0cz11LHUubG9jYXRvcj1pO3ZhciBhPSJcXCIscz0iKiIsYz0iXyI7ZnVuY3Rpb24gdSh0LGUsbil7dmFyIGksdSxsLGYscCxoLGQsdj0wLHk9ZS5jaGFyQXQodik7aWYoKHk9PT1zfHx5PT09YykmJmUuY2hhckF0KCsrdik9PT15JiYodT10aGlzLm9wdGlvbnMucGVkYW50aWMscD0obD15KStsLGg9ZS5sZW5ndGgsdisrLGY9IiIseT0iIiwhdXx8IW8oZS5jaGFyQXQodikpKSlmb3IoO3Y8aDspe2lmKGQ9eSwoeT1lLmNoYXJBdCh2KSk9PT1sJiZlLmNoYXJBdCh2KzEpPT09bCYmKCF1fHwhbyhkKSkmJih5PWUuY2hhckF0KHYrMikpIT09bCl7aWYoIXIoZikpcmV0dXJuO3JldHVybiEhbnx8KChpPXQubm93KCkpLmNvbHVtbis9MixpLm9mZnNldCs9Mix0KHArZitwKSh7dHlwZToic3Ryb25nIixjaGlsZHJlbjp0aGlzLnRva2VuaXplSW5saW5lKGYsaSl9KSl9dXx8eSE9PWF8fChmKz15LHk9ZS5jaGFyQXQoKyt2KSksZis9eSx2Kyt9fX0sbEJtNTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLHIsbz0wLGk9MDtpZigic3RyaW5nIiE9PXR5cGVvZiBlfHwxIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCBjaGFyYWN0ZXIiKTt0PVN0cmluZyh0KSxyPXQuaW5kZXhPZihlKSxuPXI7Zm9yKDstMSE9PXI7KW8rKyxyPT09bj9vPmkmJihpPW8pOm89MSxuPXIrMSxyPXQuaW5kZXhPZihlLG4pO3JldHVybiBpfX0sbE81czpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByLG8saSxhPW4oIjlRaDQiKSxzPW4oInM0QU8iKSxjPW4oImZFcGIiKS5TeW1ib2wsdT1uKCJsazB0IiksbD1uKCI0RDhrIiksZj1uKCJKYjdnIikscD1PYmplY3QuY3JlYXRlLGg9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsZD1PYmplY3QuZGVmaW5lUHJvcGVydHk7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBjKXRyeXtTdHJpbmcoYygpKSxpPSEwfWNhdGNoKHYpe31lbHNlIGM9bnVsbDtvPWZ1bmN0aW9uKHQpe2lmKHRoaXMgaW5zdGFuY2VvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciIpO3JldHVybiByKHQpfSx0LmV4cG9ydHM9cj1mdW5jdGlvbiB0KGUpe3ZhciBuO2lmKHRoaXMgaW5zdGFuY2VvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciIpO3JldHVybiBpP2MoZSk6KG49cChvLnByb3RvdHlwZSksZT12b2lkIDA9PT1lPyIiOlN0cmluZyhlKSxoKG4se19fZGVzY3JpcHRpb25fXzphKCIiLGUpLF9fbmFtZV9fOmEoIiIsdShlKSl9KSl9LGwociksZihyKSxoKG8ucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjphKHIpLHRvU3RyaW5nOmEoIiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19uYW1lX199KSl9KSxoKHIucHJvdG90eXBlLHt0b1N0cmluZzphKChmdW5jdGlvbigpe3JldHVybiJTeW1ib2wgKCIrcyh0aGlzKS5fX2Rlc2NyaXB0aW9uX18rIikifSkpLHZhbHVlT2Y6YSgoZnVuY3Rpb24oKXtyZXR1cm4gcyh0aGlzKX0pKX0pLGQoci5wcm90b3R5cGUsci50b1ByaW1pdGl2ZSxhKCIiLChmdW5jdGlvbigpe3ZhciB0PXModGhpcyk7cmV0dXJuInN5bWJvbCI9PT10eXBlb2YgdD90OnQudG9TdHJpbmcoKX0pKSksZChyLnByb3RvdHlwZSxyLnRvU3RyaW5nVGFnLGEoImMiLCJTeW1ib2wiKSksZChvLnByb3RvdHlwZSxyLnRvU3RyaW5nVGFnLGEoImMiLHIucHJvdG90eXBlW3IudG9TdHJpbmdUYWddKSksZChvLnByb3RvdHlwZSxyLnRvUHJpbWl0aXZlLGEoImMiLHIucHJvdG90eXBlW3IudG9QcmltaXRpdmVdKSl9LGxZTDU6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJFRU15Iiksbz1uKCI5VXd2IiksaT1uKCJidEZTIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdChpKHQpKSxuPWFyZ3VtZW50c1sxXSxhPU9iamVjdChhcmd1bWVudHNbMl0pO2lmKGUhPT10JiYhbilyZXR1cm4gZTt2YXIgcz17fTtyZXR1cm4gbj9yKG4sKGZ1bmN0aW9uKGUpeyhhLmVuc3VyZXx8ZSBpbiB0KSYmKHNbZV09dFtlXSl9KSk6byhzLHQpLHN9fSxsWWxvOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiWHNSNyIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZigiZnVuY3Rpb24iIT09dHlwZW9mIHQpcmV0dXJuITE7aWYoIWhhc093blByb3BlcnR5LmNhbGwodCwibGVuZ3RoIikpcmV0dXJuITE7dHJ5e2lmKCJudW1iZXIiIT09dHlwZW9mIHQubGVuZ3RoKXJldHVybiExO2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgdC5jYWxsKXJldHVybiExO2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgdC5hcHBseSlyZXR1cm4hMX1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4hcih0KX19LGxlYnE6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBjLHUsbCxmLHAsaD10Lm5vdygpLGQ9ZS5sZW5ndGgsdj0tMSx5PSIiO2Zvcig7Kyt2PGQ7KXtpZigobD1lLmNoYXJBdCh2KSkhPT1pfHx2Pj1hKXt2LS07YnJlYWt9eSs9bH1jPSIiLHU9IiI7Zm9yKDsrK3Y8ZDspe2lmKChsPWUuY2hhckF0KHYpKT09PXIpe3YtLTticmVha31sPT09aXx8bD09PW8/dSs9bDooYys9dStsLHU9IiIpfWlmKGguY29sdW1uKz15Lmxlbmd0aCxoLm9mZnNldCs9eS5sZW5ndGgseSs9Yyt1LGw9ZS5jaGFyQXQoKyt2KSxmPWUuY2hhckF0KCsrdiksbCE9PXJ8fCFzW2ZdKXJldHVybjt5Kz1sLHU9ZixwPXNbZl07Zm9yKDsrK3Y8ZDspe2lmKChsPWUuY2hhckF0KHYpKSE9PWYpe2lmKGwhPT1yKXJldHVybjt2LS07YnJlYWt9dSs9bH1pZihuKXJldHVybiEwO3JldHVybiB0KHkrdSkoe3R5cGU6ImhlYWRpbmciLGRlcHRoOnAsY2hpbGRyZW46dGhpcy50b2tlbml6ZUlubGluZShjLGgpfSl9O3ZhciByPSJcbiIsbz0iXHQiLGk9IiAiLGE9MyxzPXt9O3NbIj0iXT0xLHNbIi0iXT0yfSxsZ0Y5OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiN1hyWSIpO3QuZXhwb3J0cz1pLGkubG9jYXRvcj1yO3ZhciBvPTI7ZnVuY3Rpb24gaSh0LGUsbil7Zm9yKHZhciByLGk9ZS5sZW5ndGgsYT0tMSxzPSIiOysrYTxpOyl7aWYoIlxuIj09PShyPWUuY2hhckF0KGEpKSl7aWYoYTxvKXJldHVybjtyZXR1cm4hIW58fHQocys9cikoe3R5cGU6ImJyZWFrIn0pfWlmKCIgIiE9PXIpcmV0dXJuO3MrPXJ9fX0sbGswdDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjlRaDQiKSxvPU9iamVjdC5jcmVhdGUsaT1PYmplY3QuZGVmaW5lUHJvcGVydHksYT1PYmplY3QucHJvdG90eXBlLHM9byhudWxsKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG4sbz0wO3NbdCsob3x8IiIpXTspKytvO3JldHVybiBzW3QrPW98fCIiXT0hMCxpKGEsZT0iQEAiK3Qsci5ncyhudWxsLChmdW5jdGlvbih0KXtufHwobj0hMCxpKHRoaXMsZSxyKHQpKSxuPSExKX0pKSksZX19LGxxNXk6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJZc1R6Iik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCB1c2UgbnVsbCBvciB1bmRlZmluZWQiKTtyZXR1cm4gdH19LGxxSjE6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJidERGIiksbz1uKCJ5RnVVIik7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQsZT1TdHJpbmcodGhpcy5maWxlKSxuPXtsaW5lOjEsY29sdW1uOjEsb2Zmc2V0OjB9LHM9cihuKTs2NTI3OT09PShlPWUucmVwbGFjZShhLGkpKS5jaGFyQ29kZUF0KDApJiYoZT1lLnNsaWNlKDEpLHMuY29sdW1uKysscy5vZmZzZXQrKyk7dD17dHlwZToicm9vdCIsY2hpbGRyZW46dGhpcy50b2tlbml6ZUJsb2NrKGUscykscG9zaXRpb246e3N0YXJ0Om4sZW5kOnRoaXMuZW9mfHxyKG4pfX0sdGhpcy5vcHRpb25zLnBvc2l0aW9ufHxvKHQsITApO3JldHVybiB0fTt2YXIgaT0iXG4iLGE9L1xyXG58XHIvZ30sbTBMSTpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXt2YXIgbj1bXSxyPSEwLG89ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxzPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0oYT1zLm5leHQoKSkuZG9uZSkmJihuLnB1c2goYS52YWx1ZSksIWV8fG4ubGVuZ3RoIT09ZSk7cj0hMCk7fWNhdGNoKGMpe289ITAsaT1jfWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBpfX1yZXR1cm4gbn19fSxtMm45OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1KU09OLnBhcnNlKCd7IkFFbGlnIjoiXHhjNiIsIkFNUCI6IiYiLCJBYWN1dGUiOiJceGMxIiwiQWNpcmMiOiJceGMyIiwiQWdyYXZlIjoiXHhjMCIsIkFyaW5nIjoiXHhjNSIsIkF0aWxkZSI6Ilx4YzMiLCJBdW1sIjoiXHhjNCIsIkNPUFkiOiJceGE5IiwiQ2NlZGlsIjoiXHhjNyIsIkVUSCI6Ilx4ZDAiLCJFYWN1dGUiOiJceGM5IiwiRWNpcmMiOiJceGNhIiwiRWdyYXZlIjoiXHhjOCIsIkV1bWwiOiJceGNiIiwiR1QiOiI+IiwiSWFjdXRlIjoiXHhjZCIsIkljaXJjIjoiXHhjZSIsIklncmF2ZSI6Ilx4Y2MiLCJJdW1sIjoiXHhjZiIsIkxUIjoiPCIsIk50aWxkZSI6Ilx4ZDEiLCJPYWN1dGUiOiJceGQzIiwiT2NpcmMiOiJceGQ0IiwiT2dyYXZlIjoiXHhkMiIsIk9zbGFzaCI6Ilx4ZDgiLCJPdGlsZGUiOiJceGQ1IiwiT3VtbCI6Ilx4ZDYiLCJRVU9UIjoiXFwiIiwiUkVHIjoiXHhhZSIsIlRIT1JOIjoiXHhkZSIsIlVhY3V0ZSI6Ilx4ZGEiLCJVY2lyYyI6Ilx4ZGIiLCJVZ3JhdmUiOiJceGQ5IiwiVXVtbCI6Ilx4ZGMiLCJZYWN1dGUiOiJceGRkIiwiYWFjdXRlIjoiXHhlMSIsImFjaXJjIjoiXHhlMiIsImFjdXRlIjoiXHhiNCIsImFlbGlnIjoiXHhlNiIsImFncmF2ZSI6Ilx4ZTAiLCJhbXAiOiImIiwiYXJpbmciOiJceGU1IiwiYXRpbGRlIjoiXHhlMyIsImF1bWwiOiJceGU0IiwiYnJ2YmFyIjoiXHhhNiIsImNjZWRpbCI6Ilx4ZTciLCJjZWRpbCI6Ilx4YjgiLCJjZW50IjoiXHhhMiIsImNvcHkiOiJceGE5IiwiY3VycmVuIjoiXHhhNCIsImRlZyI6Ilx4YjAiLCJkaXZpZGUiOiJceGY3IiwiZWFjdXRlIjoiXHhlOSIsImVjaXJjIjoiXHhlYSIsImVncmF2ZSI6Ilx4ZTgiLCJldGgiOiJceGYwIiwiZXVtbCI6Ilx4ZWIiLCJmcmFjMTIiOiJceGJkIiwiZnJhYzE0IjoiXHhiYyIsImZyYWMzNCI6Ilx4YmUiLCJndCI6Ij4iLCJpYWN1dGUiOiJceGVkIiwiaWNpcmMiOiJceGVlIiwiaWV4Y2wiOiJceGExIiwiaWdyYXZlIjoiXHhlYyIsImlxdWVzdCI6Ilx4YmYiLCJpdW1sIjoiXHhlZiIsImxhcXVvIjoiXHhhYiIsImx0IjoiPCIsIm1hY3IiOiJceGFmIiwibWljcm8iOiJceGI1IiwibWlkZG90IjoiXHhiNyIsIm5ic3AiOiJceGEwIiwibm90IjoiXHhhYyIsIm50aWxkZSI6Ilx4ZjEiLCJvYWN1dGUiOiJceGYzIiwib2NpcmMiOiJceGY0Iiwib2dyYXZlIjoiXHhmMiIsIm9yZGYiOiJceGFhIiwib3JkbSI6Ilx4YmEiLCJvc2xhc2giOiJceGY4Iiwib3RpbGRlIjoiXHhmNSIsIm91bWwiOiJceGY2IiwicGFyYSI6Ilx4YjYiLCJwbHVzbW4iOiJceGIxIiwicG91bmQiOiJceGEzIiwicXVvdCI6IlxcIiIsInJhcXVvIjoiXHhiYiIsInJlZyI6Ilx4YWUiLCJzZWN0IjoiXHhhNyIsInNoeSI6Ilx4YWQiLCJzdXAxIjoiXHhiOSIsInN1cDIiOiJceGIyIiwic3VwMyI6Ilx4YjMiLCJzemxpZyI6Ilx4ZGYiLCJ0aG9ybiI6Ilx4ZmUiLCJ0aW1lcyI6Ilx4ZDciLCJ1YWN1dGUiOiJceGZhIiwidWNpcmMiOiJceGZiIiwidWdyYXZlIjoiXHhmOSIsInVtbCI6Ilx4YTgiLCJ1dW1sIjoiXHhmYyIsInlhY3V0ZSI6Ilx4ZmQiLCJ5ZW4iOiJceGE1IiwieXVtbCI6Ilx4ZmYifScpfSxtM0pLOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiNDdXNSIpO3QuZXhwb3J0cz1pLGkud3JhcD1yO3ZhciBvPVtdLnNsaWNlO2Z1bmN0aW9uIGkoKXt2YXIgdD1bXSxlPXtydW46ZnVuY3Rpb24oKXt2YXIgZT0tMSxuPW8uY2FsbChhcmd1bWVudHMsMCwtMSksaT1hcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0xXTtpZigiZnVuY3Rpb24iIT09dHlwZW9mIGkpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCBmdW5jdGlvbiBhcyBsYXN0IGFyZ3VtZW50LCBub3QgIitpKTsoZnVuY3Rpb24gYShzKXt2YXIgYz10WysrZV0sdT1vLmNhbGwoYXJndW1lbnRzLDApLnNsaWNlKDEpLGw9bi5sZW5ndGgsZj0tMTtpZihzKWkocyk7ZWxzZXtmb3IoOysrZjxsOyludWxsIT09dVtmXSYmdm9pZCAwIT09dVtmXXx8KHVbZl09bltmXSk7bj11LGM/cihjLGEpLmFwcGx5KG51bGwsbik6aS5hcHBseShudWxsLFtudWxsXS5jb25jYXQobikpfX0pLmFwcGx5KG51bGwsW251bGxdLmNvbmNhdChuKSl9LHVzZTpmdW5jdGlvbihuKXtpZigiZnVuY3Rpb24iIT09dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCBgZm5gIHRvIGJlIGEgZnVuY3Rpb24sIG5vdCAiK24pO3JldHVybiB0LnB1c2gobiksZX19O3JldHVybiBlfX0sbTQ1MzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW5ldyhuKCIwMFdYIikpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24gdChlLG4pe3ZhciBvO2lmKHIuaGFzKGUpKXJldHVybiByLmdldChlKTtvPU9iamVjdC5rZXlzKGUpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXsiY2hpbGRyZW4iIT09biYmKHRbbl09ZVtuXSk7cmV0dXJuIHR9KSx7fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIm5vZGUiLHt3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITAsdmFsdWU6ZX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCJwYXJlbnQiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG59LHNldDpmdW5jdGlvbih0KXtuPXR9fSksZS5jaGlsZHJlbiYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sImNoaWxkcmVuIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuY2hpbGRyZW4ubWFwKGkpfX0pO3JldHVybiByLnNldChlLG8pLG87ZnVuY3Rpb24gaShlKXtyZXR1cm4gdChlLG8pfX0odCxudWxsKX19LG1HdjA6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixvPW4oImsycU0iKSxpPW4oIkppcUwiKSxhPW4oImZjaU8iKSxzPW4oIjFtOXoiKSxjPW4oIjg2YnAiKSx1PW4oIlJtVjYiKSxsPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLGY9T2JqZWN0LmRlZmluZVByb3BlcnR5LHA9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvPWkoZSkmJmEoZS52YWx1ZSk7cmV0dXJuIGRlbGV0ZShyPXMoZSkpLndyaXRhYmxlLGRlbGV0ZSByLnZhbHVlLHIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIW4ub3ZlcndyaXRlRGVmaW5pdGlvbiYmcC5jYWxsKHRoaXMsdCk/bzooZS52YWx1ZT1sLmNhbGwobyxuLnJlc29sdmVDb250ZXh0P24ucmVzb2x2ZUNvbnRleHQodGhpcyk6dGhpcyksZih0aGlzLHQsZSksdGhpc1t0XSl9LHJ9LHQuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1jKGFyZ3VtZW50c1sxXSk7cmV0dXJuIG8oZS5yZXNvbHZlQ29udGV4dCkmJmEoZS5yZXNvbHZlQ29udGV4dCksdSh0LChmdW5jdGlvbih0LG4pe3JldHVybiByKG4sdCxlKX0pKX19LG1NY1Q6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmNvbW1vbm1hcms/cjpvfTt2YXIgcj0iXFxcbiIsbz0iICBcbiJ9LG1Nbzc6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJRUFozIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhIHN5bWJvbCIpO3JldHVybiB0fX0sbWNVVDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIkZ4T2EiKTtmdW5jdGlvbiBvKHQsZSxuKXt2YXIgcixvO2lmKCJcXCI9PT1lLmNoYXJBdCgwKSYmKHI9ZS5jaGFyQXQoMSksLTEhPT10aGlzLmVzY2FwZS5pbmRleE9mKHIpKSlyZXR1cm4hIW58fChvPSJcbiI9PT1yP3t0eXBlOiJicmVhayJ9Ont0eXBlOiJ0ZXh0Iix2YWx1ZTpyfSx0KCJcXCIrcikobykpfXQuZXhwb3J0cz1vLG8ubG9jYXRvcj1yfSwibWVSKyI6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e3RydWVGdW5jOmZ1bmN0aW9uKCl7cmV0dXJuITB9LGZhbHNlRnVuYzpmdW5jdGlvbigpe3JldHVybiExfX19LG5HRHg6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIlk3WkMiKSxvPW4oIkU4Z1oiKSghMCk7cihyLlMsIk9iamVjdCIse2VudHJpZXM6ZnVuY3Rpb24odCl7cmV0dXJuIG8odCl9fSl9LG5HYmM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCIxM0RRIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG49dC5kZXB0aCx1PXRoaXMub3B0aW9ucy5zZXRleHQsbD10aGlzLm9wdGlvbnMuY2xvc2VBdHgsZj10aGlzLmFsbCh0KS5qb2luKCIiKTtpZih1JiZuPDMpcmV0dXJuIGYrbytyKDE9PT1uP2M6cyxmLmxlbmd0aCk7cmV0dXJuKGU9cihhLHQuZGVwdGgpKStpK2YrKGw/aStlOiIiKX07dmFyIG89IlxuIixpPSIgIixhPSIjIixzPSItIixjPSI9In0sblpnRzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiWTdaQyIpO3Ioci5TK3IuRiohbigiam1ESCIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0aWVzOm4oImZwQzUiKX0pfSxuZkJYOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9T2JqZWN0LmNyZWF0ZSxvPU9iamVjdC5nZXRQcm90b3R5cGVPZixpPXt9O3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0PU9iamVjdC5zZXRQcm90b3R5cGVPZixlPWFyZ3VtZW50c1swXXx8cjtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIHQmJm8odChlKG51bGwpLGkpKT09PWl9fSxub0xmOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sbz10LmF0dHJzLGk9by5sZW5ndGgsYT0tMTtmb3IoOysrYTxpOylpZihuPW9bYV0sIXIobixlKSlyZXR1cm4hMTtyZXR1cm4hMH07dmFyIHI9bigiYU8wMyIpKCJvcGVyYXRvciIpLG89ci5oYW5kbGVycztmdW5jdGlvbiBpKHQsZSl7cmV0dXJuIG51bGwhPT10W2VdJiZ2b2lkIDAhPT10W2VdfXIudW5rbm93bj1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gb3BlcmF0b3IgYCIrdC5vcGVyYXRvcisiYCIpfSxyLmludmFsaWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaShlLHQubmFtZSl9LG9bIj0iXT1mdW5jdGlvbih0LGUpe3JldHVybiBpKGUsdC5uYW1lKSYmU3RyaW5nKGVbdC5uYW1lXSk9PT10LnZhbHVlfSxvWyJePSJdPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZVt0Lm5hbWVdO3JldHVybiJzdHJpbmciPT09dHlwZW9mIG4mJm4uc2xpY2UoMCx0LnZhbHVlLmxlbmd0aCk9PT10LnZhbHVlfSxvWyIkPSJdPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZVt0Lm5hbWVdO3JldHVybiJzdHJpbmciPT09dHlwZW9mIG4mJm4uc2xpY2UoLXQudmFsdWUubGVuZ3RoKT09PXQudmFsdWV9LG9bIio9Il09ZnVuY3Rpb24odCxlKXt2YXIgbj1lW3QubmFtZV07cmV0dXJuInN0cmluZyI9PT10eXBlb2YgbiYmLTEhPT1uLmluZGV4T2YodC52YWx1ZSl9LG9bIn49Il09ZnVuY3Rpb24odCxlKXt2YXIgbjtpZihpKGUsdC5uYW1lKSlyZXR1cm4ib2JqZWN0Ij09PXR5cGVvZihuPWVbdC5uYW1lXSkmJiJsZW5ndGgiaW4gbiYmLTEhPT1uLmluZGV4T2YodC52YWx1ZSl8fFN0cmluZyhuKT09PXQudmFsdWU7cmV0dXJuITF9fSxvSWRYOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy52aXNpdG9ycy5saXN0SXRlbSxhPXRoaXMub3B0aW9ucy5pbmNyZW1lbnRMaXN0TWFya2VyLHM9W10sYz10LnN0YXJ0LHU9dC5jaGlsZHJlbixsPXUubGVuZ3RoLGY9LTE7Yz1udWxsPT1jPzE6Yztmb3IoOysrZjxsOyllPShhP2MrZjpjKStvLHNbZl09bi5jYWxsKHRoaXMsdVtmXSx0LGYsZSk7cmV0dXJuIHMuam9pbih0LnNwcmVhZD9pOnIpfTt2YXIgcj0iXG4iLG89Ii4iLGk9cityfSxvS0hOOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHIsbz1uKCJHdWlYIiksaT1uKCJidEZTIiksYT1PYmplY3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yscz1PYmplY3QuZGVmaW5lUHJvcGVydHksYz17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfTtyPWZ1bmN0aW9uKHQsZSl7aWYoaSh0KSxudWxsPT09ZXx8byhlKSlyZXR1cm4gdDt0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm90b3R5cGUgbXVzdCBiZSBudWxsIG9yIGFuIG9iamVjdCIpfSx0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gdD8oMj09PXQubGV2ZWw/dC5zZXQ/KG49dC5zZXQsZT1mdW5jdGlvbih0LGUpe3JldHVybiBuLmNhbGwocih0LGUpLGUpLHR9KTplPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIodCxlKS5fX3Byb3RvX189ZSx0fTplPWZ1bmN0aW9uIHQoZSxuKXt2YXIgbztyZXR1cm4gcihlLG4pLChvPWEuY2FsbCh0Lm51bGxQb2x5ZmlsbCxlKSkmJmRlbGV0ZSB0Lm51bGxQb2x5ZmlsbC5fX3Byb3RvX18sbnVsbD09PW4mJihuPXQubnVsbFBvbHlmaWxsKSxlLl9fcHJvdG9fXz1uLG8mJnModC5udWxsUG9seWZpbGwsIl9fcHJvdG9fXyIsYyksZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImxldmVsIix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITEsdmFsdWU6dC5sZXZlbH0pKTpudWxsfShmdW5jdGlvbigpe3ZhciB0LGU9T2JqZWN0LmNyZWF0ZShudWxsKSxuPXt9LHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKTtpZihyKXt0cnl7KHQ9ci5zZXQpLmNhbGwoZSxuKX1jYXRjaChvKXt9aWYoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09bilyZXR1cm57c2V0OnQsbGV2ZWw6Mn19cmV0dXJuIGUuX19wcm90b19fPW4sT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09bj97bGV2ZWw6Mn06KChlPXt9KS5fX3Byb3RvX189bixPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk9PT1uJiZ7bGV2ZWw6MX0pfSgpKSxuKCI0TjgzIil9LG9OTlA6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJEM3pBIik7dC5leHBvcnRzPXIuY2FsbChGdW5jdGlvbi5jYWxsLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpfSxvVWE2OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBPYmplY3Qua2V5cygicHJpbWl0aXZlIiksITB9Y2F0Y2godCl7cmV0dXJuITF9fX0sb1gzdzpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0sb2FLaDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hbGwodCkuam9pbigiIikucmVwbGFjZShyLCIgIil9O3ZhciByPS9ccj9cbi9nfSxvYlhaOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvLnRlc3QoIm51bWJlciI9PT10eXBlb2YgdD9yKHQpOnQuY2hhckF0KDApKX07dmFyIHI9U3RyaW5nLmZyb21DaGFyQ29kZSxvPS9cdy99LG9jNDY6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIlk3WkMiKSxvPW4oIkplczAiKSxpPW4oIktVeFAiKSxhPW4oIjVwS3YiKSxzPSJbIithKyJdIixjPVJlZ0V4cCgiXiIrcytzKyIqIiksdT1SZWdFeHAocytzKyIqJCIpLGw9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXt9LHM9aSgoZnVuY3Rpb24oKXtyZXR1cm4hIWFbdF0oKXx8Ilx1MjAwYlx4ODUiIT0iXHUyMDBiXHg4NSJbdF0oKX0pKSxjPW9bdF09cz9lKGYpOmFbdF07biYmKG9bbl09YykscihyLlArci5GKnMsIlN0cmluZyIsbyl9LGY9bC50cmltPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9U3RyaW5nKG8odCkpLDEmZSYmKHQ9dC5yZXBsYWNlKGMsIiIpKSwyJmUmJih0PXQucmVwbGFjZSh1LCIiKSksdH07dC5leHBvcnRzPWx9LG9mNXY6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pbmRleE9mKCJgIixlKX19LCJvaCtnIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiV0VwayIpLG89ci5KU09OfHwoci5KU09OPXtzdHJpbmdpZnk6SlNPTi5zdHJpbmdpZnl9KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8uc3RyaW5naWZ5LmFwcGx5KG8sYXJndW1lbnRzKX19LG9wZjA6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdD1NYXRoLnNpZ247cmV0dXJuImZ1bmN0aW9uIj09PXR5cGVvZiB0JiYoMT09PXQoMTApJiYtMT09PXQoLTIwKSl9fSxwSXdDOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiZudWxsIT09dH19LHBQMUc6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJsQm01Iiksbz1uKCIxM0RRIiksaT1uKCJrazRCIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sbD10LnZhbHVlLGY9dGhpcy5vcHRpb25zLHA9Zi5mZW5jZSxoPXQubGFuZ3x8IiI7aCYmdC5tZXRhJiYoaCs9cyt0Lm1ldGEpO2lmKCEoaD10aGlzLmVuY29kZSh0aGlzLmVzY2FwZShoLHQpKSkmJiFmLmZlbmNlcyYmbCYmbC5jaGFyQXQoMCkhPT1hJiZsLmNoYXJBdChsLmxlbmd0aC0xKSE9PWEpcmV0dXJuIGUmJiJsaXN0SXRlbSI9PT1lLnR5cGUmJiJ0YWIiIT09Zi5saXN0SXRlbUluZGVudCYmZi5wZWRhbnRpYyYmdGhpcy5maWxlLmZhaWwoIkNhbm5vdCBpbmRlbnQgY29kZSBwcm9wZXJseS4gU2VlIGh0dHBzOi8vZ2l0LmlvL2Z4S1I4Iix0LnBvc2l0aW9uKSxpKGwsMSk7cD09PXUmJi0xIT09aC5pbmRleE9mKHUpJiYocD1jKTtyZXR1cm4obj1vKHAsTWF0aC5tYXgocihsLHApKzEsMykpKStoK2ErbCthK259O3ZhciBhPSJcbiIscz0iICIsYz0ifiIsdT0iYCJ9LHBuSGE6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJscTV5Iik7dC5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcykubGVuZ3RoPTAsdGhpc319LHByWVQ6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixvPXQuYXR0cnMsaT1vLmxlbmd0aCxhPS0xO2Zvcig7KythPGk7KWlmKG49b1thXSwhcihuLGUpKXJldHVybiExO3JldHVybiEwfTt2YXIgcj1uKCJkMHlZIikoIm9wZXJhdG9yIiksbz1yLmhhbmRsZXJzO2Z1bmN0aW9uIGkodCxlKXtyZXR1cm4gbnVsbCE9PXRbZV0mJnZvaWQgMCE9PXRbZV19ci51bmtub3duPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcigiVW5rbm93biBvcGVyYXRvciBgIit0Lm9wZXJhdG9yKyJgIil9LHIuaW52YWxpZD1mdW5jdGlvbih0LGUpe3JldHVybiBpKGUsdC5uYW1lKX0sb1siPSJdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkoZSx0Lm5hbWUpJiZTdHJpbmcoZVt0Lm5hbWVdKT09PXQudmFsdWV9LG9bIl49Il09ZnVuY3Rpb24odCxlKXt2YXIgbj1lW3QubmFtZV07cmV0dXJuInN0cmluZyI9PT10eXBlb2YgbiYmbi5zbGljZSgwLHQudmFsdWUubGVuZ3RoKT09PXQudmFsdWV9LG9bIiQ9Il09ZnVuY3Rpb24odCxlKXt2YXIgbj1lW3QubmFtZV07cmV0dXJuInN0cmluZyI9PT10eXBlb2YgbiYmbi5zbGljZSgtdC52YWx1ZS5sZW5ndGgpPT09dC52YWx1ZX0sb1siKj0iXT1mdW5jdGlvbih0LGUpe3ZhciBuPWVbdC5uYW1lXTtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiBuJiYtMSE9PW4uaW5kZXhPZih0LnZhbHVlKX0sb1sifj0iXT1mdW5jdGlvbih0LGUpe3ZhciBuO2lmKGkoZSx0Lm5hbWUpKXJldHVybiJvYmplY3QiPT09dHlwZW9mKG49ZVt0Lm5hbWVdKSYmImxlbmd0aCJpbiBuJiYtMSE9PW4uaW5kZXhPZih0LnZhbHVlKXx8U3RyaW5nKG4pPT09dC52YWx1ZTtyZXR1cm4hMX19LHEzRU46ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8udGVzdCgibnVtYmVyIj09PXR5cGVvZiB0P3IodCk6dC5jaGFyQXQoMCkpfTt2YXIgcj1TdHJpbmcuZnJvbUNoYXJDb2RlLG89L1xzL30scVBNUjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlJzRkoiKSxvPW4oIklQQXIiKSxpPW4oIjA0NEMiKTt0LmV4cG9ydHM9YyxjLmxvY2F0b3I9aTt2YXIgYT0iKiIscz0iXyI7ZnVuY3Rpb24gYyh0LGUsbil7dmFyIGksYyx1LGwsZixwLGgsZD0wLHY9ZS5jaGFyQXQoZCk7aWYoKHY9PT1hfHx2PT09cykmJmUuY2hhckF0KCsrZCk9PT12JiYoYz10aGlzLm9wdGlvbnMucGVkYW50aWMsZj0odT12KSt1LHA9ZS5sZW5ndGgsZCsrLGw9IiIsdj0iIiwhY3x8IW8oZS5jaGFyQXQoZCkpKSlmb3IoO2Q8cDspe2lmKGg9diwodj1lLmNoYXJBdChkKSk9PT11JiZlLmNoYXJBdChkKzEpPT09dSYmKCFjfHwhbyhoKSkmJih2PWUuY2hhckF0KGQrMikpIT09dSl7aWYoIXIobCkpcmV0dXJuO3JldHVybiEhbnx8KChpPXQubm93KCkpLmNvbHVtbis9MixpLm9mZnNldCs9Mix0KGYrbCtmKSh7dHlwZToic3Ryb25nIixjaGlsZHJlbjp0aGlzLnRva2VuaXplSW5saW5lKGwsaSl9KSl9Y3x8IlxcIiE9PXZ8fChsKz12LHY9ZS5jaGFyQXQoKytkKSksbCs9dixkKyt9fX0scVNLSzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oInl6MDkiKSxvPW4oIjlIUkwiKSxpPW4oIkR2OVIiKSxhPW4oIlIvZlUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBmLHAsaCxkLHYseT10aGlzLm9wdGlvbnMsbT15LmNvbW1vbm1hcmssZz15LmdmbSxiPXRoaXMuYmxvY2tUb2tlbml6ZXJzLHg9dGhpcy5pbnRlcnJ1cHRQYXJhZ3JhcGgsdz1lLmluZGV4T2YoYyksaz1lLmxlbmd0aDtmb3IoO3c8azspe2lmKC0xPT09dyl7dz1rO2JyZWFrfWlmKGUuY2hhckF0KHcrMSk9PT1jKWJyZWFrO2lmKG0pe2ZvcihkPTAsZj13KzE7ZjxrOyl7aWYoKGg9ZS5jaGFyQXQoZikpPT09cyl7ZD1sO2JyZWFrfWlmKGghPT11KWJyZWFrO2QrKyxmKyt9aWYoZD49bCYmaCE9PWMpe3c9ZS5pbmRleE9mKGMsdysxKTtjb250aW51ZX19aWYocD1lLnNsaWNlKHcrMSksYSh4LGIsdGhpcyxbdCxwLCEwXSkpYnJlYWs7aWYoYi5saXN0LmNhbGwodGhpcyx0LHAsITApJiYodGhpcy5pbkxpc3R8fG18fGcmJiFvKHIubGVmdChwKS5jaGFyQXQoMCkpKSlicmVhaztpZihmPXcsLTEhPT0odz1lLmluZGV4T2YoYyx3KzEpKSYmIiI9PT1yKGUuc2xpY2UoZix3KSkpe3c9ZjticmVha319aWYocD1lLnNsaWNlKDAsdyksIiI9PT1yKHApKXJldHVybiB0KHApLG51bGw7aWYobilyZXR1cm4hMDtyZXR1cm4gdj10Lm5vdygpLHA9aShwKSx0KHApKHt0eXBlOiJwYXJhZ3JhcGgiLGNoaWxkcmVuOnRoaXMudG9rZW5pemVJbmxpbmUocCx2KX0pfTt2YXIgcz0iXHQiLGM9IlxuIix1PSIgIixsPTR9LHFUMTI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9ImZ1bmN0aW9uIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5mb3Isbz1yP1N5bWJvbC5mb3IoInJlYWN0LmVsZW1lbnQiKTo2MDEwMyxpPXI/U3ltYm9sLmZvcigicmVhY3QucG9ydGFsIik6NjAxMDYsYT1yP1N5bWJvbC5mb3IoInJlYWN0LmZyYWdtZW50Iik6NjAxMDcscz1yP1N5bWJvbC5mb3IoInJlYWN0LnN0cmljdF9tb2RlIik6NjAxMDgsYz1yP1N5bWJvbC5mb3IoInJlYWN0LnByb2ZpbGVyIik6NjAxMTQsdT1yP1N5bWJvbC5mb3IoInJlYWN0LnByb3ZpZGVyIik6NjAxMDksbD1yP1N5bWJvbC5mb3IoInJlYWN0LmNvbnRleHQiKTo2MDExMCxmPXI/U3ltYm9sLmZvcigicmVhY3QuYXN5bmNfbW9kZSIpOjYwMTExLHA9cj9TeW1ib2wuZm9yKCJyZWFjdC5jb25jdXJyZW50X21vZGUiKTo2MDExMSxoPXI/U3ltYm9sLmZvcigicmVhY3QuZm9yd2FyZF9yZWYiKTo2MDExMixkPXI/U3ltYm9sLmZvcigicmVhY3Quc3VzcGVuc2UiKTo2MDExMyx2PXI/U3ltYm9sLmZvcigicmVhY3Quc3VzcGVuc2VfbGlzdCIpOjYwMTIwLHk9cj9TeW1ib2wuZm9yKCJyZWFjdC5tZW1vIik6NjAxMTUsbT1yP1N5bWJvbC5mb3IoInJlYWN0LmxhenkiKTo2MDExNixnPXI/U3ltYm9sLmZvcigicmVhY3QuZnVuZGFtZW50YWwiKTo2MDExNyxiPXI/U3ltYm9sLmZvcigicmVhY3QucmVzcG9uZGVyIik6NjAxMTgseD1yP1N5bWJvbC5mb3IoInJlYWN0LnNjb3BlIik6NjAxMTk7ZnVuY3Rpb24gdyh0KXtpZigib2JqZWN0Ij09PXR5cGVvZiB0JiZudWxsIT09dCl7dmFyIGU9dC4kJHR5cGVvZjtzd2l0Y2goZSl7Y2FzZSBvOnN3aXRjaCh0PXQudHlwZSl7Y2FzZSBmOmNhc2UgcDpjYXNlIGE6Y2FzZSBjOmNhc2UgczpjYXNlIGQ6cmV0dXJuIHQ7ZGVmYXVsdDpzd2l0Y2godD10JiZ0LiQkdHlwZW9mKXtjYXNlIGw6Y2FzZSBoOmNhc2UgbTpjYXNlIHk6Y2FzZSB1OnJldHVybiB0O2RlZmF1bHQ6cmV0dXJuIGV9fWNhc2UgaTpyZXR1cm4gZX19fWZ1bmN0aW9uIGsodCl7cmV0dXJuIHcodCk9PT1wfWUudHlwZU9mPXcsZS5Bc3luY01vZGU9ZixlLkNvbmN1cnJlbnRNb2RlPXAsZS5Db250ZXh0Q29uc3VtZXI9bCxlLkNvbnRleHRQcm92aWRlcj11LGUuRWxlbWVudD1vLGUuRm9yd2FyZFJlZj1oLGUuRnJhZ21lbnQ9YSxlLkxhenk9bSxlLk1lbW89eSxlLlBvcnRhbD1pLGUuUHJvZmlsZXI9YyxlLlN0cmljdE1vZGU9cyxlLlN1c3BlbnNlPWQsZS5pc1ZhbGlkRWxlbWVudFR5cGU9ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PT10eXBlb2YgdHx8ImZ1bmN0aW9uIj09PXR5cGVvZiB0fHx0PT09YXx8dD09PXB8fHQ9PT1jfHx0PT09c3x8dD09PWR8fHQ9PT12fHwib2JqZWN0Ij09PXR5cGVvZiB0JiZudWxsIT09dCYmKHQuJCR0eXBlb2Y9PT1tfHx0LiQkdHlwZW9mPT09eXx8dC4kJHR5cGVvZj09PXV8fHQuJCR0eXBlb2Y9PT1sfHx0LiQkdHlwZW9mPT09aHx8dC4kJHR5cGVvZj09PWd8fHQuJCR0eXBlb2Y9PT1ifHx0LiQkdHlwZW9mPT09eCl9LGUuaXNBc3luY01vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIGsodCl8fHcodCk9PT1mfSxlLmlzQ29uY3VycmVudE1vZGU9ayxlLmlzQ29udGV4dENvbnN1bWVyPWZ1bmN0aW9uKHQpe3JldHVybiB3KHQpPT09bH0sZS5pc0NvbnRleHRQcm92aWRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdyh0KT09PXV9LGUuaXNFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiJvYmplY3QiPT09dHlwZW9mIHQmJm51bGwhPT10JiZ0LiQkdHlwZW9mPT09b30sZS5pc0ZvcndhcmRSZWY9ZnVuY3Rpb24odCl7cmV0dXJuIHcodCk9PT1ofSxlLmlzRnJhZ21lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHcodCk9PT1hfSxlLmlzTGF6eT1mdW5jdGlvbih0KXtyZXR1cm4gdyh0KT09PW19LGUuaXNNZW1vPWZ1bmN0aW9uKHQpe3JldHVybiB3KHQpPT09eX0sZS5pc1BvcnRhbD1mdW5jdGlvbih0KXtyZXR1cm4gdyh0KT09PWl9LGUuaXNQcm9maWxlcj1mdW5jdGlvbih0KXtyZXR1cm4gdyh0KT09PWN9LGUuaXNTdHJpY3RNb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB3KHQpPT09c30sZS5pc1N1c3BlbnNlPWZ1bmN0aW9uKHQpe3JldHVybiB3KHQpPT09ZH19LHFVNmE6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9e3Bvc2l0aW9uOiEwLGdmbTohMCxjb21tb25tYXJrOiExLGZvb3Rub3RlczohMSxwZWRhbnRpYzohMSxibG9ja3M6bigidVlGeCIpfX0scVVpazpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlU2ankiKSxvPW4oIk1RNS8iKSxpPW4oIjMrTmIiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbixhPXRoaXMub3B0aW9ucztpZihudWxsPT10KXQ9e307ZWxzZXtpZigib2JqZWN0IiE9PXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB2YWx1ZSBgIit0KyJgIGZvciBzZXR0aW5nIGBvcHRpb25zYCIpO3Q9cih0KX1mb3IoZSBpbiBpKXtpZihudWxsPT0obj10W2VdKSYmKG49YVtlXSksImJsb2NrcyIhPT1lJiYiYm9vbGVhbiIhPT10eXBlb2Ygbnx8ImJsb2NrcyI9PT1lJiYib2JqZWN0IiE9PXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB2YWx1ZSBgIituKyJgIGZvciBzZXR0aW5nIGBvcHRpb25zLiIrZSsiYCIpO3RbZV09bn1yZXR1cm4gdGhpcy5vcHRpb25zPXQsdGhpcy5lc2NhcGU9byh0KSx0aGlzfX0scWcxczpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIkViUlAiKSxvPW4oIkJudVUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lbmNvZGUodC51cmx8fCIiLHQpLG49dGhpcy5lbnRlckxpbmsoKSxmPXRoaXMuZW5jb2RlKHRoaXMuZXNjYXBlKHQudXJsfHwiIix0KSkscD10aGlzLmFsbCh0KS5qb2luKCIiKTtpZihuKCksbnVsbD09dC50aXRsZSYmbC50ZXN0KGUpJiZmPT09cClyZXR1cm4gcih0aGlzLmVuY29kZSh0LnVybCksITApO2U9cihlKSx0LnRpdGxlJiYoZSs9aStvKHRoaXMuZW5jb2RlKHRoaXMuZXNjYXBlKHQudGl0bGUsdCksdCkpKTtyZXR1cm4gYStwK3MrYytlK3V9O3ZhciBpPSIgIixhPSJbIixzPSJdIixjPSIoIix1PSIpIixsPS9eW2Etel1bYS16Ky4tXSs6XC8/L2l9LHFxcno6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBmLHAsaCxkLHYseT10Lm5vdygpLG09ZS5sZW5ndGgsZz0tMSxiPSIiO2Zvcig7KytnPG07KXtpZigoaD1lLmNoYXJBdChnKSkhPT1pfHxnPj1jKXtnLS07YnJlYWt9Yis9aH1mPSIiLHA9IiI7Zm9yKDsrK2c8bTspe2lmKChoPWUuY2hhckF0KGcpKT09PXIpe2ctLTticmVha31oPT09aXx8aD09PW8/cCs9aDooZis9cCtoLHA9IiIpfWlmKHkuY29sdW1uKz1iLmxlbmd0aCx5Lm9mZnNldCs9Yi5sZW5ndGgsYis9ZitwLGg9ZS5jaGFyQXQoKytnKSxkPWUuY2hhckF0KCsrZyksaCE9PXJ8fGQhPT1hJiZkIT09cylyZXR1cm47Yis9aCxwPWQsdj1kPT09YT91Omw7Zm9yKDsrK2c8bTspe2lmKChoPWUuY2hhckF0KGcpKSE9PWQpe2lmKGghPT1yKXJldHVybjtnLS07YnJlYWt9cCs9aH1pZihuKXJldHVybiEwO3JldHVybiB0KGIrcCkoe3R5cGU6ImhlYWRpbmciLGRlcHRoOnYsY2hpbGRyZW46dGhpcy50b2tlbml6ZUlubGluZShmLHkpfSl9O3ZhciByPSJcbiIsbz0iXHQiLGk9IiAiLGE9Ij0iLHM9Ii0iLGM9Myx1PTEsbD0yfSxxeE5NOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHIsbz1uKCJ0NGdjIiksaT1uKCIwVytOIiksYT1uKCJHZERVIikscz1uKCJidEZTIiksYz1uKCI5aXVMIiksdT1uKCJIWVlYIiksbD1uKCJZenhlIiksZj1uKCJOZUZ2IikscD1uKCJVU2pSIikudG9TdHJpbmdUYWcsaD1uKCJYcC9IIiksZD1BcnJheS5pc0FycmF5LHY9T2JqZWN0LmRlZmluZVByb3BlcnR5LHk9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxtPU9iamVjdC5nZXRQcm90b3R5cGVPZjt0LmV4cG9ydHM9cj1mdW5jdGlvbigpe3ZhciB0LGU9YXJndW1lbnRzWzBdO2lmKCEodGhpcyBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNvbnN0cnVjdG9yIHJlcXVpcmVzICduZXcnIik7cmV0dXJuIHQ9aCYmaSYmV2Vha01hcCE9PXI/aShuZXcgV2Vha01hcCxtKHRoaXMpKTp0aGlzLG8oZSkmJihkKGUpfHwoZT1sKGUpKSksdih0LCJfX3dlYWtNYXBEYXRhX18iLHUoImMiLCIkd2Vha01hcCQiK2MoKSkpLGU/KGYoZSwoZnVuY3Rpb24oZSl7cyhlKSx0LnNldChlWzBdLGVbMV0pfSkpLHQpOnR9LGgmJihpJiZpKHIsV2Vha01hcCksci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShXZWFrTWFwLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6dShyKX0pKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhyLnByb3RvdHlwZSx7ZGVsZXRlOnUoKGZ1bmN0aW9uKHQpe3JldHVybiEheS5jYWxsKGEodCksdGhpcy5fX3dlYWtNYXBEYXRhX18pJiYoZGVsZXRlIHRbdGhpcy5fX3dlYWtNYXBEYXRhX19dLCEwKX0pKSxnZXQ6dSgoZnVuY3Rpb24odCl7aWYoeS5jYWxsKGEodCksdGhpcy5fX3dlYWtNYXBEYXRhX18pKXJldHVybiB0W3RoaXMuX193ZWFrTWFwRGF0YV9fXX0pKSxoYXM6dSgoZnVuY3Rpb24odCl7cmV0dXJuIHkuY2FsbChhKHQpLHRoaXMuX193ZWFrTWFwRGF0YV9fKX0pKSxzZXQ6dSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdihhKHQpLHRoaXMuX193ZWFrTWFwRGF0YV9fLHUoImMiLGUpKSx0aGlzfSkpLHRvU3RyaW5nOnUoKGZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgV2Vha01hcF0ifSkpfSksdihyLnByb3RvdHlwZSxwLHUoImMiLCJXZWFrTWFwIikpfSxyVVk4OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbCxmLHAsaCxkPS0xLHY9ZS5sZW5ndGgrMSx5PSIiO2Zvcig7KytkPHYmJigobD1lLmNoYXJBdChkKSk9PT1vfHxsPT09aSk7KXkrPWw7aWYobCE9PWEmJmwhPT1jJiZsIT09cylyZXR1cm47Zj1sLHkrPWwscD0xLGg9IiI7Zm9yKDsrK2Q8djspaWYoKGw9ZS5jaGFyQXQoZCkpPT09ZilwKysseSs9aCtmLGg9IiI7ZWxzZXtpZihsIT09aSlyZXR1cm4gcD49dSYmKCFsfHxsPT09cik/KHkrPWgsISFufHx0KHkpKHt0eXBlOiJ0aGVtYXRpY0JyZWFrIn0pKTp2b2lkIDA7aCs9bH19O3ZhciByPSJcbiIsbz0iXHQiLGk9IiAiLGE9IioiLHM9Il8iLGM9Ii0iLHU9M30sInJ3Qy8iOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sbyxiLHgsdyxrLF8sQSxPLGosRSxTLE49ZXx8e30sUD1OLmRlbGltaXRlcixDPU4uc3RhcnQsST1OLmVuZCxUPU4uYWxpZ24sTT1OLnN0cmluZ0xlbmd0aHx8eSxMPTAsej0tMSxSPXQubGVuZ3RoLEY9W107VD1UP1QuY29uY2F0KCk6W10sKG51bGw9PT1QfHx2b2lkIDA9PT1QKSYmKFA9aStoK2kpO251bGwhPT1DJiZ2b2lkIDAhPT1DfHwoQz1oK2kpO251bGwhPT1JJiZ2b2lkIDAhPT1JfHwoST1pK2gpO2Zvcig7Kyt6PFI7KWZvcih4PXRbel0saz0tMSx4Lmxlbmd0aD5MJiYoTD14Lmxlbmd0aCk7KytrPEw7KV89eFtrXT9nKHhba10pOm51bGwsRltrXXx8KEZba109ZCksXz5GW2tdJiYoRltrXT1fKTsic3RyaW5nIj09PXR5cGVvZiBUJiYoVD1tKEwsVCkuc3BsaXQoIiIpKTtrPS0xO2Zvcig7KytrPEw7KSJzdHJpbmciPT09dHlwZW9mKG49VFtrXSkmJihuPW4uY2hhckF0KDApLnRvTG93ZXJDYXNlKCkpLG4hPT1mJiZuIT09cCYmbiE9PWwmJm4hPT1jJiYobj0iIiksVFtrXT1uO3o9LTEsYj1bXTtmb3IoOysrejxSOyl7Zm9yKHg9dFt6XSxrPS0xLHc9W107KytrPEw7KU89dihPPXhba10pLFRba109PT1jPyhfPWcoTyksQT1GW2tdKyhyLnRlc3QoTyk/MDoxKS0oTShPKS1fKSx3W2tdPU8rbShBLTEpKTp3W2tdPU87Ylt6XT13fUY9W10sej0tMTtmb3IoOysrejxSOylmb3Iodz1iW3pdLGs9LTE7KytrPEw7KU89d1trXSxGW2tdfHwoRltrXT1kKSwoQT1NKE8pKT5GW2tdJiYoRltrXT1BKTt6PS0xO2Zvcig7Kyt6PFI7KXtpZih3PWJbel0saz0tMSwhMSE9PU4ucGFkKWZvcig7KytrPEw7KU89d1trXSxfPUZba10tKE0oTyl8fDApLGo9bShfKSxUW2tdPT09cHx8VFtrXT09PWM/Tz1qK086VFtrXT09PWw/KChfLz0yKSUxPT09MD8oRT1fLFM9Xyk6KEU9XysuNSxTPV8tLjUpLE89bShFKStPK20oUykpOk8rPWosd1trXT1PO2Jbel09dy5qb2luKFApfWlmKCExIT09Ti5ydWxlKXtmb3Ioaz0tMSxvPVtdOysrazxMOykhMT09PU4ucGFkPyhPPXRbMF1ba10saj0oaj1NKHYoTykpKT5kP2o6ZCk6aj1GW2tdLG49VFtrXSxPPW49PT1wfHwiIj09PW4/czp1LE8rPW0oai0yLHMpLE8rPW4hPT1mJiYiIiE9PW4/dTpzLG9ba109TztiLnNwbGljZSgxLDAsby5qb2luKFApKX1yZXR1cm4gQytiLmpvaW4oSSthK0MpK0l9O3ZhciByPS9cLi8sbz0vXC5bXi5dKiQvLGk9IiAiLGE9IlxuIixzPSItIixjPSIuIix1PSI6IixsPSJjIixmPSJsIixwPSJyIixoPSJ8IixkPTM7ZnVuY3Rpb24gdih0KXtyZXR1cm4gbnVsbD09PXR8fHZvaWQgMD09PXQ/IiI6U3RyaW5nKHQpfWZ1bmN0aW9uIHkodCl7cmV0dXJuIFN0cmluZyh0KS5sZW5ndGh9ZnVuY3Rpb24gbSh0LGUpe3JldHVybiBuZXcgQXJyYXkodCsxKS5qb2luKGV8fGkpfWZ1bmN0aW9uIGcodCl7dmFyIGU9by5leGVjKHQpO3JldHVybiBlP2UuaW5kZXgrMTp0Lmxlbmd0aH19LHM0QU86ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJFU2JmIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhIHN5bWJvbCIpO3JldHVybiB0fX0sczZTSzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gby50ZXN0KCJudW1iZXIiPT09dHlwZW9mIHQ/cih0KTp0LmNoYXJBdCgwKSl9O3ZhciByPVN0cmluZy5mcm9tQ2hhckNvZGUsbz0vXHcvfSxzTnR5OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigicTNFTiIpLG89bigiYVZFeiIpLGk9bigiVk5kQSIpO3QuZXhwb3J0cz1nLGcubG9jYXRvcj1vO3ZhciBhPSJsaW5rIixzPSJpbWFnZSIsYz0iZm9vdG5vdGUiLHU9InNob3J0Y3V0IixsPSJjb2xsYXBzZWQiLGY9ImZ1bGwiLHA9IiAiLGg9IiEiLGQ9IlsiLHY9IlxcIix5PSJdIixtPSJeIjtmdW5jdGlvbiBnKHQsZSxuKXt2YXIgbyxnLGIseCx3LGssXyxBLE89dGhpcy5vcHRpb25zLmNvbW1vbm1hcmssaj10aGlzLm9wdGlvbnMuZm9vdG5vdGVzLEU9ZS5jaGFyQXQoMCksUz0wLE49ZS5sZW5ndGgsUD0iIixDPSIiLEk9YSxUPXU7aWYoRT09PWgmJihJPXMsQz1FLEU9ZS5jaGFyQXQoKytTKSksRT09PWQpe2lmKFMrKyxDKz1FLGs9IiIsaiYmZS5jaGFyQXQoUyk9PT1tKXtpZihJPT09cylyZXR1cm47Qys9bSxTKyssST1jfWZvcihBPTA7UzxOOyl7aWYoKEU9ZS5jaGFyQXQoUykpPT09ZClfPSEwLEErKztlbHNlIGlmKEU9PT15KXtpZighQSlicmVhaztBLS19RT09PXYmJihrKz12LEU9ZS5jaGFyQXQoKytTKSksays9RSxTKyt9aWYoUD1rLG89aywoRT1lLmNoYXJBdChTKSk9PT15KXtpZihTKyssUCs9RSxrPSIiLCFPKWZvcig7UzxOJiYoRT1lLmNoYXJBdChTKSxyKEUpKTspays9RSxTKys7aWYoRT1lLmNoYXJBdChTKSxJPT09Y3x8RSE9PWR8fGomJmUuY2hhckF0KFMrMSk9PT1tKXtpZighbylyZXR1cm47Zz1vfWVsc2V7Zm9yKGc9IiIsays9RSxTKys7UzxOJiYoRT1lLmNoYXJBdChTKSkhPT1kJiZFIT09eTspRT09PXYmJihnKz12LEU9ZS5jaGFyQXQoKytTKSksZys9RSxTKys7KEU9ZS5jaGFyQXQoUykpPT09eT8oVD1nP2Y6bCxrKz1nK0UsUysrKTpnPSIiLFArPWssaz0iIn1pZihUPT09Znx8IV8pcmV0dXJuIFA9QytQLEk9PT1hJiZ0aGlzLmluTGluaz9udWxsOiEhbnx8KEk9PT1jJiYtMSE9PW8uaW5kZXhPZihwKT90KFApKHt0eXBlOmMsY2hpbGRyZW46dGhpcy50b2tlbml6ZUlubGluZShvLHQubm93KCkpfSk6KChiPXQubm93KCkpLmNvbHVtbis9Qy5sZW5ndGgsYi5vZmZzZXQrPUMubGVuZ3RoLHg9e3R5cGU6SSsiUmVmZXJlbmNlIixpZGVudGlmaWVyOmkoZz1UPT09Zj9nOm8pLGxhYmVsOmd9LEkhPT1hJiZJIT09c3x8KHgucmVmZXJlbmNlVHlwZT1UKSxJPT09YT8odz10aGlzLmVudGVyTGluaygpLHguY2hpbGRyZW49dGhpcy50b2tlbml6ZUlubGluZShvLGIpLHcoKSk6ST09PXMmJih4LmFsdD10aGlzLmRlY29kZS5yYXcodGhpcy51bmVzY2FwZShvKSxiKXx8bnVsbCksdChQKSh4KSkpfX19fSxzWVZ2OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPW4oIkZNL0IiKSgpP0FycmF5LmZyb206bigiaitYMiIpfSxzWW4zOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI7aWYoIU9iamVjdC5rZXlzKXt2YXIgbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxhPW4oIjFLc0siKSxzPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsYz0hcy5jYWxsKHt0b1N0cmluZzpudWxsfSwidG9TdHJpbmciKSx1PXMuY2FsbCgoZnVuY3Rpb24oKXt9KSwicHJvdG90eXBlIiksbD1bInRvU3RyaW5nIiwidG9Mb2NhbGVTdHJpbmciLCJ2YWx1ZU9mIiwiaGFzT3duUHJvcGVydHkiLCJpc1Byb3RvdHlwZU9mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJjb25zdHJ1Y3RvciJdLGY9ZnVuY3Rpb24odCl7dmFyIGU9dC5jb25zdHJ1Y3RvcjtyZXR1cm4gZSYmZS5wcm90b3R5cGU9PT10fSxwPXskYXBwbGljYXRpb25DYWNoZTohMCwkY29uc29sZTohMCwkZXh0ZXJuYWw6ITAsJGZyYW1lOiEwLCRmcmFtZUVsZW1lbnQ6ITAsJGZyYW1lczohMCwkaW5uZXJIZWlnaHQ6ITAsJGlubmVyV2lkdGg6ITAsJG9ubW96ZnVsbHNjcmVlbmNoYW5nZTohMCwkb25tb3pmdWxsc2NyZWVuZXJyb3I6ITAsJG91dGVySGVpZ2h0OiEwLCRvdXRlcldpZHRoOiEwLCRwYWdlWE9mZnNldDohMCwkcGFnZVlPZmZzZXQ6ITAsJHBhcmVudDohMCwkc2Nyb2xsTGVmdDohMCwkc2Nyb2xsVG9wOiEwLCRzY3JvbGxYOiEwLCRzY3JvbGxZOiEwLCRzZWxmOiEwLCR3ZWJraXRJbmRleGVkREI6ITAsJHdlYmtpdFN0b3JhZ2VJbmZvOiEwLCR3aW5kb3c6ITB9LGg9ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09PXR5cGVvZiB3aW5kb3cpcmV0dXJuITE7Zm9yKHZhciB0IGluIHdpbmRvdyl0cnl7aWYoIXBbIiQiK3RdJiZvLmNhbGwod2luZG93LHQpJiZudWxsIT09d2luZG93W3RdJiYib2JqZWN0Ij09PXR5cGVvZiB3aW5kb3dbdF0pdHJ5e2Yod2luZG93W3RdKX1jYXRjaChlKXtyZXR1cm4hMH19Y2F0Y2goZSl7cmV0dXJuITB9cmV0dXJuITF9KCk7cj1mdW5jdGlvbih0KXt2YXIgZT1udWxsIT09dCYmIm9iamVjdCI9PT10eXBlb2YgdCxuPSJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1pLmNhbGwodCkscj1hKHQpLHM9ZSYmIltvYmplY3QgU3RyaW5nXSI9PT1pLmNhbGwodCkscD1bXTtpZighZSYmIW4mJiFyKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5rZXlzIGNhbGxlZCBvbiBhIG5vbi1vYmplY3QiKTt2YXIgZD11JiZuO2lmKHMmJnQubGVuZ3RoPjAmJiFvLmNhbGwodCwwKSlmb3IodmFyIHY9MDt2PHQubGVuZ3RoOysrdilwLnB1c2goU3RyaW5nKHYpKTtpZihyJiZ0Lmxlbmd0aD4wKWZvcih2YXIgeT0wO3k8dC5sZW5ndGg7Kyt5KXAucHVzaChTdHJpbmcoeSkpO2Vsc2UgZm9yKHZhciBtIGluIHQpZCYmInByb3RvdHlwZSI9PT1tfHwhby5jYWxsKHQsbSl8fHAucHVzaChTdHJpbmcobSkpO2lmKGMpZm9yKHZhciBnPWZ1bmN0aW9uKHQpe2lmKCJ1bmRlZmluZWQiPT09dHlwZW9mIHdpbmRvd3x8IWgpcmV0dXJuIGYodCk7dHJ5e3JldHVybiBmKHQpfWNhdGNoKGUpe3JldHVybiExfX0odCksYj0wO2I8bC5sZW5ndGg7KytiKWcmJiJjb25zdHJ1Y3RvciI9PT1sW2JdfHwhby5jYWxsKHQsbFtiXSl8fHAucHVzaChsW2JdKTtyZXR1cm4gcH19dC5leHBvcnRzPXJ9LHNvV2o6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJSc0ZKIiksbz1uKCJjbUxOIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgdSxsLGYscCxoLGQsdix5LG0sZz10aGlzLm9mZnNldCxiPXRoaXMuYmxvY2tUb2tlbml6ZXJzLHg9dGhpcy5pbnRlcnJ1cHRCbG9ja3F1b3RlLHc9dC5ub3coKSxrPXcubGluZSxfPWUubGVuZ3RoLEE9W10sTz1bXSxqPVtdLEU9MDtmb3IoO0U8XyYmKChsPWUuY2hhckF0KEUpKT09PXN8fGw9PT1hKTspRSsrO2lmKGUuY2hhckF0KEUpIT09YylyZXR1cm47aWYobilyZXR1cm4hMDtFPTA7Zm9yKDtFPF87KXtmb3IocD1lLmluZGV4T2YoaSxFKSx2PUUseT0hMSwtMT09PXAmJihwPV8pO0U8XyYmKChsPWUuY2hhckF0KEUpKT09PXN8fGw9PT1hKTspRSsrO2lmKGUuY2hhckF0KEUpPT09Yz8oRSsrLHk9ITAsZS5jaGFyQXQoRSk9PT1zJiZFKyspOkU9dixoPWUuc2xpY2UoRSxwKSwheSYmIXIoaCkpe0U9djticmVha31pZigheSYmKGY9ZS5zbGljZShFKSxvKHgsYix0aGlzLFt0LGYsITBdKSkpYnJlYWs7ZD12PT09RT9oOmUuc2xpY2UodixwKSxqLnB1c2goRS12KSxBLnB1c2goZCksTy5wdXNoKGgpLEU9cCsxfUU9LTEsXz1qLmxlbmd0aCx1PXQoQS5qb2luKGkpKTtmb3IoOysrRTxfOylnW2tdPShnW2tdfHwwKStqW0VdLGsrKztyZXR1cm4gbT10aGlzLmVudGVyQmxvY2soKSxPPXRoaXMudG9rZW5pemVCbG9jayhPLmpvaW4oaSksdyksbSgpLHUoe3R5cGU6ImJsb2NrcXVvdGUiLGNoaWxkcmVuOk99KX07dmFyIGk9IlxuIixhPSJcdCIscz0iICIsYz0iPiJ9LHQxRG86ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJxM0VOIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgeSxtLGcsYix4LHcsayxfLEEsTyxqLEUsUyxOLFAsQyxJLFQsTSxMLHosUjtpZighdGhpcy5vcHRpb25zLmdmbSlyZXR1cm47eT0wLEM9MCx3PWUubGVuZ3RoKzEsaz1bXTtmb3IoO3k8dzspe2lmKEw9ZS5pbmRleE9mKGkseSksej1lLmluZGV4T2YobCx5KzEpLC0xPT09TCYmKEw9ZS5sZW5ndGgpLC0xPT09enx8ej5MKXtpZihDPHApcmV0dXJuO2JyZWFrfWsucHVzaChlLnNsaWNlKHksTCkpLEMrKyx5PUwrMX1iPWsuam9pbihpKSxtPWsuc3BsaWNlKDEsMSlbMF18fFtdLHk9MCx3PW0ubGVuZ3RoLEMtLSxnPSExLGo9W107Zm9yKDt5PHc7KXtpZigoQT1tLmNoYXJBdCh5KSk9PT1sKXtpZihPPW51bGwsITE9PT1nKXtpZighMT09PVIpcmV0dXJufWVsc2Ugai5wdXNoKGcpLGc9ITE7Uj0hMX1lbHNlIGlmKEE9PT1zKU89ITAsZz1nfHxudWxsO2Vsc2UgaWYoQT09PWMpZz1nPT09aD9kOk8mJm51bGw9PT1nP3Y6aDtlbHNlIGlmKCFyKEEpKXJldHVybjt5Kyt9ITEhPT1nJiZqLnB1c2goZyk7aWYoai5sZW5ndGg8ZilyZXR1cm47aWYobilyZXR1cm4hMDtQPS0xLFQ9W10sTT10KGIpLnJlc2V0KHt0eXBlOiJ0YWJsZSIsYWxpZ246aixjaGlsZHJlbjpUfSk7Zm9yKDsrK1A8Qzspe2ZvcihJPWtbUF0seD17dHlwZToidGFibGVSb3ciLGNoaWxkcmVuOltdfSxQJiZ0KGkpLHQoSSkucmVzZXQoeCxNKSx3PUkubGVuZ3RoKzEseT0wLF89IiIsRT0iIixTPSEwO3k8dzspKEE9SS5jaGFyQXQoeSkpIT09byYmQSE9PWE/KCIiPT09QXx8QT09PWw/Uz90KEEpOighRSYmIUF8fFN8fChiPUUsXy5sZW5ndGg+MSYmKEE/KGIrPV8uc2xpY2UoMCxfLmxlbmd0aC0xKSxfPV8uY2hhckF0KF8ubGVuZ3RoLTEpKTooYis9XyxfPSIiKSksTj10Lm5vdygpLHQoYikoe3R5cGU6InRhYmxlQ2VsbCIsY2hpbGRyZW46dGhpcy50b2tlbml6ZUlubGluZShFLE4pfSx4KSksdChfK0EpLF89IiIsRT0iIik6KF8mJihFKz1fLF89IiIpLEUrPUEsQT09PXUmJnkhPT13LTImJihFKz1JLmNoYXJBdCh5KzEpLHkrKykpLFM9ITEseSsrKTooRT9fKz1BOnQoQSkseSsrKTtQfHx0KGkrbSl9cmV0dXJuIE19O3ZhciBvPSJcdCIsaT0iXG4iLGE9IiAiLHM9Ii0iLGM9IjoiLHU9IlxcIixsPSJ8IixmPTEscD0yLGg9ImxlZnQiLGQ9ImNlbnRlciIsdj0icmlnaHQifSx0MmpoOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5ibG9jayh0KS5zcGxpdChyKSxhPVtdLHM9bi5sZW5ndGgsYz0tMTtmb3IoOysrYzxzOyllPW5bY10sYVtjXT0oZT9vOiIiKStlO3JldHVybiBpK2Euam9pbihyK2kpfTt2YXIgcj0iXG4iLG89IiAiLGk9Ij4ifSx0NFFyOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiTjBwQyIpLG89bigiN3B3VSIpLGk9bigiOUhSTCIpLGE9bigiTDRyMCIpLHM9bigiWXlDUiIpLGM9bigidVI0eSIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLGksYT17fTtlfHwoZT17fSk7Zm9yKGkgaW4gcCluPWVbaV0sYVtpXT1udWxsPT09bnx8dm9pZCAwPT09bj9wW2ldOm47KGEucG9zaXRpb24uaW5kZW50fHxhLnBvc2l0aW9uLnN0YXJ0KSYmKGEuaW5kZW50PWEucG9zaXRpb24uaW5kZW50fHxbXSxhLnBvc2l0aW9uPWEucG9zaXRpb24uc3RhcnQpO3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuLGksYSxwLEQsQixVLHEsSCxXLFksWixYLCQsVixKLEssRyxRLHR0PWUuYWRkaXRpb25hbCxldD1lLm5vblRlcm1pbmF0ZWQsbnQ9ZS50ZXh0LHJ0PWUucmVmZXJlbmNlLG90PWUud2FybmluZyxpdD1lLnRleHRDb250ZXh0LGF0PWUucmVmZXJlbmNlQ29udGV4dCxzdD1lLndhcm5pbmdDb250ZXh0LGN0PWUucG9zaXRpb24sdXQ9ZS5pbmRlbnR8fFtdLGx0PXQubGVuZ3RoLGZ0PTAscHQ9LTEsaHQ9Y3QuY29sdW1ufHwxLGR0PWN0LmxpbmV8fDEsdnQ9IiIseXQ9W107InN0cmluZyI9PT10eXBlb2YgdHQmJih0dD10dC5jaGFyQ29kZUF0KDApKTtKPWd0KCkscT1vdD9mdW5jdGlvbih0LGUpe3ZhciBuPWd0KCk7bi5jb2x1bW4rPWUsbi5vZmZzZXQrPWUsb3QuY2FsbChzdCxSW3RdLG4sdCl9OmYsZnQtLSxsdCsrO2Zvcig7KytmdDxsdDspaWYoRD09PWQmJihodD11dFtwdF18fDEpLChEPXQuY2hhckNvZGVBdChmdCkpPT09bSl7aWYoKFU9dC5jaGFyQ29kZUF0KGZ0KzEpKT09PWh8fFU9PT1kfHxVPT09dnx8VT09PXl8fFU9PT1tfHxVPT09Ynx8VSE9PVV8fHR0JiZVPT09dHQpe3Z0Kz1sKEQpLGh0Kys7Y29udGludWV9Zm9yKFo9WD1mdCsxLFE9WCxVPT09dz8oUT0rK1osKFU9dC5jaGFyQ29kZUF0KFEpKT09PWt8fFU9PT1fPygkPWosUT0rK1opOiQ9RSk6JD1PLG49IiIsWT0iIixwPSIiLFY9TlskXSxRLS07KytRPGx0JiYoVT10LmNoYXJDb2RlQXQoUSksVihVKSk7KXArPWwoVSksJD09PU8mJnUuY2FsbChyLHApJiYobj1wLFk9cltwXSk7KGE9dC5jaGFyQ29kZUF0KFEpPT09ZykmJihRKyssKGk9JD09PU8mJmMocCkpJiYobj1wLFk9aSkpLEc9MStRLVgsKGF8fGV0KSYmKHA/JD09PU8/KGEmJiFZP3EoTSwxKToobiE9PXAmJihRPVorbi5sZW5ndGgsRz0xK1EtWixhPSExKSxhfHwoSD1uP1A6SSxlLmF0dHJpYnV0ZT8oVT10LmNoYXJDb2RlQXQoUSkpPT09eD8ocShILEcpLFk9bnVsbCk6cyhVKT9ZPW51bGw6cShILEcpOnEoSCxHKSkpLEI9WSk6KGF8fHEoQyxHKSxCPXBhcnNlSW50KHAsU1skXSksKG10PUIpPj01NTI5NiYmbXQ8PTU3MzQzfHxtdD4xMTE0MTExPyhxKHosRyksQj1sKEEpKTpCIGluIG8/KHEoTCxHKSxCPW9bQl0pOihXPSIiLEYoQikmJnEoTCxHKSxCPjY1NTM1JiYoVys9bCgoQi09NjU1MzYpPj4+MTB8NTUyOTYpLEI9NTYzMjB8MTAyMyZCKSxCPVcrbChCKSkpOiQhPT1PJiZxKFQsRykpLEI/KGJ0KCksSj1ndCgpLGZ0PVEtMSxodCs9US1YKzEseXQucHVzaChCKSwoSz1ndCgpKS5vZmZzZXQrKyxydCYmcnQuY2FsbChhdCxCLHtzdGFydDpKLGVuZDpLfSx0LnNsaWNlKFgtMSxRKSksSj1LKToocD10LnNsaWNlKFgtMSxRKSx2dCs9cCxodCs9cC5sZW5ndGgsZnQ9US0xKX1lbHNlIDEwPT09RCYmKGR0KysscHQrKyxodD0wKSxEPT09RD8odnQrPWwoRCksaHQrKyk6YnQoKTt2YXIgbXQ7cmV0dXJuIHl0LmpvaW4oIiIpO2Z1bmN0aW9uIGd0KCl7cmV0dXJue2xpbmU6ZHQsY29sdW1uOmh0LG9mZnNldDpmdCsoY3Qub2Zmc2V0fHwwKX19ZnVuY3Rpb24gYnQoKXt2dCYmKHl0LnB1c2godnQpLG50JiZudC5jYWxsKGl0LHZ0LHtzdGFydDpKLGVuZDpndCgpfSksdnQ9IiIpfX0odCxhKX07dmFyIHU9e30uaGFzT3duUHJvcGVydHksbD1TdHJpbmcuZnJvbUNoYXJDb2RlLGY9RnVuY3Rpb24ucHJvdG90eXBlLHA9e3dhcm5pbmc6bnVsbCxyZWZlcmVuY2U6bnVsbCx0ZXh0Om51bGwsd2FybmluZ0NvbnRleHQ6bnVsbCxyZWZlcmVuY2VDb250ZXh0Om51bGwsdGV4dENvbnRleHQ6bnVsbCxwb3NpdGlvbjp7fSxhZGRpdGlvbmFsOm51bGwsYXR0cmlidXRlOiExLG5vblRlcm1pbmF0ZWQ6ITB9LGg9OSxkPTEwLHY9MTIseT0zMixtPTM4LGc9NTksYj02MCx4PTYxLHc9MzUsaz04OCxfPTEyMCxBPTY1NTMzLE89Im5hbWVkIixqPSJoZXhhZGVjaW1hbCIsRT0iZGVjaW1hbCIsUz17fTtTW2pdPTE2LFNbRV09MTA7dmFyIE49e307TltPXT1zLE5bRV09aSxOW2pdPWE7dmFyIFA9MSxDPTIsST0zLFQ9NCxNPTUsTD02LHo9NyxSPXt9O2Z1bmN0aW9uIEYodCl7cmV0dXJuIHQ+PTEmJnQ8PTh8fDExPT09dHx8dD49MTMmJnQ8PTMxfHx0Pj0xMjcmJnQ8PTE1OXx8dD49NjQ5NzYmJnQ8PTY1MDA3fHw2NTUzNT09PSg2NTUzNSZ0KXx8NjU1MzQ9PT0oNjU1MzUmdCl9UltQXT0iTmFtZWQgY2hhcmFjdGVyIHJlZmVyZW5jZXMgbXVzdCBiZSB0ZXJtaW5hdGVkIGJ5IGEgc2VtaWNvbG9uIixSW0NdPSJOdW1lcmljIGNoYXJhY3RlciByZWZlcmVuY2VzIG11c3QgYmUgdGVybWluYXRlZCBieSBhIHNlbWljb2xvbiIsUltJXT0iTmFtZWQgY2hhcmFjdGVyIHJlZmVyZW5jZXMgY2Fubm90IGJlIGVtcHR5IixSW1RdPSJOdW1lcmljIGNoYXJhY3RlciByZWZlcmVuY2VzIGNhbm5vdCBiZSBlbXB0eSIsUltNXT0iTmFtZWQgY2hhcmFjdGVyIHJlZmVyZW5jZXMgbXVzdCBiZSBrbm93biIsUltMXT0iTnVtZXJpYyBjaGFyYWN0ZXIgcmVmZXJlbmNlcyBjYW5ub3QgYmUgZGlzYWxsb3dlZCIsUlt6XT0iTnVtZXJpYyBjaGFyYWN0ZXIgcmVmZXJlbmNlcyBjYW5ub3QgYmUgb3V0c2lkZSB0aGUgcGVybWlzc2libGUgVW5pY29kZSByYW5nZSJ9LHQ0Z2M6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJPc1BVIikoKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1yJiZudWxsIT09dH19LHRVUFo6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJFYlJQIiksbz1uKCJCbnVVIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXIodC51cmwpO3QudGl0bGUmJihlKz1pK28odC50aXRsZSkpO3JldHVybiBzKyh0LmxhYmVsfHx0LmlkZW50aWZpZXIpK2MrYStpK2V9O3ZhciBpPSIgIixhPSI6IixzPSJbIixjPSJdIn0sdGdaYTpmdW5jdGlvbih0LGUsbil7bigibkdEeCIpLHQuZXhwb3J0cz1uKCJXRXBrIikuT2JqZWN0LmVudHJpZXN9LHR2T286ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCIxVDhCIikub3BlbkNsb3NlVGFnO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIGMsdSxsLGYscCxoLGQsdj10aGlzLm9wdGlvbnMuYmxvY2tzLHk9ZS5sZW5ndGgsbT0wLGc9W1svXjwoc2NyaXB0fHByZXxzdHlsZSkoPz0oXHN8PnwkKSkvaSwvPFwvKHNjcmlwdHxwcmV8c3R5bGUpPi9pLCEwXSxbL148IS0tLywvLS0+LywhMF0sWy9ePFw/LywvXD8+LywhMF0sWy9ePCFbQS1aYS16XS8sLz4vLCEwXSxbL148IVxbQ0RBVEFcWy8sL1xdXF0+LywhMF0sW25ldyBSZWdFeHAoIl48Lz8oIit2LmpvaW4oInwiKSsiKSg/PShcXHN8Lz8+fCQpKSIsImkiKSwvXiQvLCEwXSxbbmV3IFJlZ0V4cChyLnNvdXJjZSsiXFxzKiQiKSwvXiQvLCExXV07Zm9yKDttPHkmJigoZj1lLmNoYXJBdChtKSk9PT1vfHxmPT09aSk7KW0rKztpZihlLmNoYXJBdChtKSE9PXMpcmV0dXJuO2M9LTE9PT0oYz1lLmluZGV4T2YoYSxtKzEpKT95OmMsdT1lLnNsaWNlKG0sYyksbD0tMSxwPWcubGVuZ3RoO2Zvcig7KytsPHA7KWlmKGdbbF1bMF0udGVzdCh1KSl7aD1nW2xdO2JyZWFrfWlmKCFoKXJldHVybjtpZihuKXJldHVybiBoWzJdO2lmKG09YywhaFsxXS50ZXN0KHUpKWZvcig7bTx5Oyl7aWYoYz0tMT09PShjPWUuaW5kZXhPZihhLG0rMSkpP3k6Yyx1PWUuc2xpY2UobSsxLGMpLGhbMV0udGVzdCh1KSl7dSYmKG09Yyk7YnJlYWt9bT1jfXJldHVybiBkPWUuc2xpY2UoMCxtKSx0KGQpKHt0eXBlOiJodG1sIix2YWx1ZTpkfSl9O3ZhciBvPSJcdCIsaT0iICIsYT0iXG4iLHM9IjwifSx0eVdZOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiNGFqWCIpLG89TWF0aC5hYnMsaT1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odCk/MDowIT09KHQ9TnVtYmVyKHQpKSYmaXNGaW5pdGUodCk/cih0KSppKG8odCkpOnR9fSx0ekZaOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHIsbz1uKCJwSXdDIiksaT1uKCJNSlM2IiksYT1uKCJ2REl4Iikscz1uKCJsWUw1IiksYz1uKCJZQ0pBIiksdT1uKCJKSG1WIiksbD1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCxmPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxwPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7cj1mdW5jdGlvbih0LGUsbil7dmFyIHIsbz1pKGUpJiZhKGUudmFsdWUpO3JldHVybiBkZWxldGUocj1zKGUpKS53cml0YWJsZSxkZWxldGUgci52YWx1ZSxyLmdldD1mdW5jdGlvbigpe3JldHVybiFuLm92ZXJ3cml0ZURlZmluaXRpb24mJnAuY2FsbCh0aGlzLHQpP286KGUudmFsdWU9bC5jYWxsKG8sbi5yZXNvbHZlQ29udGV4dD9uLnJlc29sdmVDb250ZXh0KHRoaXMpOnRoaXMpLGYodGhpcyx0LGUpLHRoaXNbdF0pfSxyfSx0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9Yyhhcmd1bWVudHNbMV0pO3JldHVybiBvKGUucmVzb2x2ZUNvbnRleHQpJiZhKGUucmVzb2x2ZUNvbnRleHQpLHUodCwoZnVuY3Rpb24odCxuKXtyZXR1cm4gcihuLHQsZSl9KSl9fSwidTNpLyI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJnMStlIik7ZnVuY3Rpb24gbyh0LGUsbixyKXtpZigicmVtb3ZlIj09PXIpbi5jaGlsZHJlbi5zcGxpY2UoZSwxKTtlbHNlIGlmKCJ1bndyYXAiPT09cil7dmFyIG89W2UsMV07dC5jaGlsZHJlbiYmKG89by5jb25jYXQodC5jaGlsZHJlbikpLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkobi5jaGlsZHJlbixvKX19ZS5vZlR5cGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHIoZSx0LG4sITApfSkpLGV9O2Z1bmN0aW9uIG4odCxuLHIpe3ImJm8odCxuLHIsZSl9fSxlLmlmTm90TWF0Y2g9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHIodCxuLCEwKSx0fTtmdW5jdGlvbiBuKG4scixpKXtpJiYhdChuLHIsaSkmJm8obixyLGksZSl9fX0sdU45ZzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oInBJd0MiKSxvPXtvYmplY3Q6ITAsZnVuY3Rpb246ITAsdW5kZWZpbmVkOiEwfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuISFyKHQpJiZoYXNPd25Qcm9wZXJ0eS5jYWxsKG8sdHlwZW9mIHQpfX0sdVI0eTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByLG89NTk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG49IiYiK3QrIjsiO2lmKChyPXJ8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImkiKSkuaW5uZXJIVE1MPW4sKGU9ci50ZXh0Q29udGVudCkuY2hhckNvZGVBdChlLmxlbmd0aC0xKT09PW8mJiJzZW1pIiE9PXQpcmV0dXJuITE7cmV0dXJuIGUhPT1uJiZlfX0sdVlGeDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1bImFkZHJlc3MiLCJhcnRpY2xlIiwiYXNpZGUiLCJiYXNlIiwiYmFzZWZvbnQiLCJibG9ja3F1b3RlIiwiYm9keSIsImNhcHRpb24iLCJjZW50ZXIiLCJjb2wiLCJjb2xncm91cCIsImRkIiwiZGV0YWlscyIsImRpYWxvZyIsImRpciIsImRpdiIsImRsIiwiZHQiLCJmaWVsZHNldCIsImZpZ2NhcHRpb24iLCJmaWd1cmUiLCJmb290ZXIiLCJmb3JtIiwiZnJhbWUiLCJmcmFtZXNldCIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsImhlYWQiLCJoZWFkZXIiLCJoZ3JvdXAiLCJociIsImh0bWwiLCJpZnJhbWUiLCJsZWdlbmQiLCJsaSIsImxpbmsiLCJtYWluIiwibWVudSIsIm1lbnVpdGVtIiwibWV0YSIsIm5hdiIsIm5vZnJhbWVzIiwib2wiLCJvcHRncm91cCIsIm9wdGlvbiIsInAiLCJwYXJhbSIsInByZSIsInNlY3Rpb24iLCJzb3VyY2UiLCJ0aXRsZSIsInN1bW1hcnkiLCJ0YWJsZSIsInRib2R5IiwidGQiLCJ0Zm9vdCIsInRoIiwidGhlYWQiLCJ0aXRsZSIsInRyIiwidHJhY2siLCJ1bCJdfSx1WWhLOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiL3FOcCIpO2Z1bmN0aW9uIG8oKXt9dC5leHBvcnRzPWEsby5wcm90b3R5cGU9RXJyb3IucHJvdG90eXBlLGEucHJvdG90eXBlPW5ldyBvO3ZhciBpPWEucHJvdG90eXBlO2Z1bmN0aW9uIGEodCxlLG4pe3ZhciBvLGksYTsic3RyaW5nIj09PXR5cGVvZiBlJiYobj1lLGU9bnVsbCksbz1mdW5jdGlvbih0KXt2YXIgZSxuPVtudWxsLG51bGxdOyJzdHJpbmciPT09dHlwZW9mIHQmJigtMT09PShlPXQuaW5kZXhPZigiOiIpKT9uWzFdPXQ6KG5bMF09dC5zbGljZSgwLGUpLG5bMV09dC5zbGljZShlKzEpKSk7cmV0dXJuIG59KG4pLGk9cihlKXx8IjE6MSIsYT17c3RhcnQ6e2xpbmU6bnVsbCxjb2x1bW46bnVsbH0sZW5kOntsaW5lOm51bGwsY29sdW1uOm51bGx9fSxlJiZlLnBvc2l0aW9uJiYoZT1lLnBvc2l0aW9uKSxlJiYoZS5zdGFydD8oYT1lLGU9ZS5zdGFydCk6YS5zdGFydD1lKSx0LnN0YWNrJiYodGhpcy5zdGFjaz10LnN0YWNrLHQ9dC5tZXNzYWdlKSx0aGlzLm1lc3NhZ2U9dCx0aGlzLm5hbWU9aSx0aGlzLnJlYXNvbj10LHRoaXMubGluZT1lP2UubGluZTpudWxsLHRoaXMuY29sdW1uPWU/ZS5jb2x1bW46bnVsbCx0aGlzLmxvY2F0aW9uPWEsdGhpcy5zb3VyY2U9b1swXSx0aGlzLnJ1bGVJZD1vWzFdfWkuZmlsZT0iIixpLm5hbWU9IiIsaS5yZWFzb249IiIsaS5tZXNzYWdlPSIiLGkuc3RhY2s9IiIsaS5mYXRhbD1udWxsLGkuY29sdW1uPW51bGwsaS5saW5lPW51bGx9LHVrdVc6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixvPU9iamVjdC5jcmVhdGU7bigibmZCWCIpKCl8fChyPW4oIjRaeUMiKSksdC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybiByPzEhPT1yLmxldmVsP286KHQ9e30sZT17fSxuPXtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCx2YWx1ZTp2b2lkIDB9LE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE9iamVjdC5wcm90b3R5cGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF09Il9fcHJvdG9fXyIhPT10P246e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH19KSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkociwibnVsbFBvbHlmaWxsIix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITEsdmFsdWU6dH0pLGZ1bmN0aW9uKGUsbil7cmV0dXJuIG8obnVsbD09PWU/dDplLG4pfSk6b30oKX0sdWwwczpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIGwsZixwLGgsZCx2LHksbSxnLGIseCx3LGssXz10aGlzLm9wdGlvbnMuZ2ZtLEE9ZS5sZW5ndGgrMSxPPTAsaj0iIjtpZighXylyZXR1cm47Zm9yKDtPPEEmJigocD1lLmNoYXJBdChPKSk9PT1pfHxwPT09byk7KWorPXAsTysrO2lmKHc9TywocD1lLmNoYXJBdChPKSkhPT1hJiZwIT09cylyZXR1cm47TysrLGY9cCxsPTEsais9cDtmb3IoO088QSYmKHA9ZS5jaGFyQXQoTykpPT09Zjspais9cCxsKyssTysrO2lmKGw8YylyZXR1cm47Zm9yKDtPPEEmJigocD1lLmNoYXJBdChPKSk9PT1pfHxwPT09byk7KWorPXAsTysrO2g9IiIseT0iIjtmb3IoO088QSYmKHA9ZS5jaGFyQXQoTykpIT09ciYmKGYhPT1zfHxwIT09Zik7KXA9PT1pfHxwPT09bz95Kz1wOihoKz15K3AseT0iIiksTysrO2lmKChwPWUuY2hhckF0KE8pKSYmcCE9PXIpcmV0dXJuO2lmKG4pcmV0dXJuITA7KGs9dC5ub3coKSkuY29sdW1uKz1qLmxlbmd0aCxrLm9mZnNldCs9ai5sZW5ndGgsais9aCxoPXRoaXMuZGVjb2RlLnJhdyh0aGlzLnVuZXNjYXBlKGgpLGspLHkmJihqKz15KTt5PSIiLGI9IiIseD0iIixtPSIiLGc9IiI7dmFyIEU9ITA7Zm9yKDtPPEE7KWlmKHA9ZS5jaGFyQXQoTyksbSs9YixnKz14LGI9IiIseD0iIixwPT09cil7Zm9yKEU/KGorPXAsRT0hMSk6KGIrPXAseCs9cCkseT0iIixPKys7TzxBJiYocD1lLmNoYXJBdChPKSk9PT1pOyl5Kz1wLE8rKztpZihiKz15LHgrPXkuc2xpY2UodyksISh5Lmxlbmd0aD49dSkpe2Zvcih5PSIiO088QSYmKHA9ZS5jaGFyQXQoTykpPT09ZjspeSs9cCxPKys7aWYoYis9eSx4Kz15LCEoeS5sZW5ndGg8bCkpe2Zvcih5PSIiO088QSYmKChwPWUuY2hhckF0KE8pKT09PWl8fHA9PT1vKTspYis9cCx4Kz1wLE8rKztpZighcHx8cD09PXIpYnJlYWt9fX1lbHNlIG0rPXAseCs9cCxPKys7ais9bStiLE89LTEsQT1oLmxlbmd0aDtmb3IoOysrTzxBOylpZigocD1oLmNoYXJBdChPKSk9PT1pfHxwPT09bylkfHwoZD1oLnNsaWNlKDAsTykpO2Vsc2UgaWYoZCl7dj1oLnNsaWNlKE8pO2JyZWFrfXJldHVybiB0KGopKHt0eXBlOiJjb2RlIixsYW5nOmR8fGh8fG51bGwsbWV0YTp2fHxudWxsLHZhbHVlOmd9KX07dmFyIHI9IlxuIixvPSJcdCIsaT0iICIsYT0ifiIscz0iYCIsYz0zLHU9NH0sdW1GUzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImZFcGIiKSxvPXtvYmplY3Q6ITAsc3ltYm9sOiEwfTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdCxlPXIuU3ltYm9sO2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgZSlyZXR1cm4hMTt0PWUoInRlc3Qgc3ltYm9sIik7dHJ5e1N0cmluZyh0KX1jYXRjaChuKXtyZXR1cm4hMX1yZXR1cm4hIW9bdHlwZW9mIGUuaXRlcmF0b3JdJiYoISFvW3R5cGVvZiBlLnRvUHJpbWl0aXZlXSYmISFvW3R5cGVvZiBlLnRvU3RyaW5nVGFnXSl9fSx1cGxoOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJhci9wIiksbz1uKCJtcWxGIiksaT1uKCI1SzdaIiksYT1uKCI1VDJZIikuUmVmbGVjdDt0LmV4cG9ydHM9YSYmYS5vd25LZXlzfHxmdW5jdGlvbih0KXt2YXIgZT1yLmYoaSh0KSksbj1vLmY7cmV0dXJuIG4/ZS5jb25jYXQobih0KSk6ZX19LHV1Wmg6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9bigib3BmMCIpKCk/TWF0aC5zaWduOm4oIjczcjYiKX0sdXV5djpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIklQQXIiKSxvPW4oImQrSmoiKTt0LmV4cG9ydHM9ZyxnLm5vdEluTGlzdD0hMCxnLm5vdEluQmxvY2s9ITA7dmFyIGk9JyInLGE9IiciLHM9IlxcIixjPSJcbiIsdT0iXHQiLGw9IiAiLGY9IlsiLHA9Il0iLGg9IigiLGQ9IikiLHY9IjoiLHk9IjwiLG09Ij4iO2Z1bmN0aW9uIGcodCxlLG4pe2Zvcih2YXIgcixtLGcsdyxrLF8sQSxPLGo9dGhpcy5vcHRpb25zLmNvbW1vbm1hcmssRT0wLFM9ZS5sZW5ndGgsTj0iIjtFPFMmJigodz1lLmNoYXJBdChFKSk9PT1sfHx3PT09dSk7KU4rPXcsRSsrO2lmKCh3PWUuY2hhckF0KEUpKT09PWYpe2ZvcihFKyssTis9dyxnPSIiO0U8UyYmKHc9ZS5jaGFyQXQoRSkpIT09cDspdz09PXMmJihnKz13LEUrKyx3PWUuY2hhckF0KEUpKSxnKz13LEUrKztpZihnJiZlLmNoYXJBdChFKT09PXAmJmUuY2hhckF0KEUrMSk9PT12KXtmb3IoXz1nLEU9KE4rPWcrcCt2KS5sZW5ndGgsZz0iIjtFPFMmJigodz1lLmNoYXJBdChFKSk9PT11fHx3PT09bHx8dz09PWMpOylOKz13LEUrKztpZihnPSIiLHI9Tiwodz1lLmNoYXJBdChFKSk9PT15KXtmb3IoRSsrO0U8UyYmYih3PWUuY2hhckF0KEUpKTspZys9dyxFKys7aWYoKHc9ZS5jaGFyQXQoRSkpPT09Yi5kZWxpbWl0ZXIpTis9eStnK3csRSsrO2Vsc2V7aWYoailyZXR1cm47RS09Zy5sZW5ndGgrMSxnPSIifX1pZighZyl7Zm9yKDtFPFMmJngodz1lLmNoYXJBdChFKSk7KWcrPXcsRSsrO04rPWd9aWYoZyl7Zm9yKEE9ZyxnPSIiO0U8UyYmKCh3PWUuY2hhckF0KEUpKT09PXV8fHc9PT1sfHx3PT09Yyk7KWcrPXcsRSsrO2lmKGs9bnVsbCwodz1lLmNoYXJBdChFKSk9PT1pP2s9aTp3PT09YT9rPWE6dz09PWgmJihrPWQpLGspe2lmKCFnKXJldHVybjtmb3IoRT0oTis9Zyt3KS5sZW5ndGgsZz0iIjtFPFMmJih3PWUuY2hhckF0KEUpKSE9PWs7KXtpZih3PT09Yyl7aWYoRSsrLCh3PWUuY2hhckF0KEUpKT09PWN8fHc9PT1rKXJldHVybjtnKz1jfWcrPXcsRSsrfWlmKCh3PWUuY2hhckF0KEUpKSE9PWspcmV0dXJuO209TixOKz1nK3csRSsrLE89ZyxnPSIifWVsc2UgZz0iIixFPU4ubGVuZ3RoO2Zvcig7RTxTJiYoKHc9ZS5jaGFyQXQoRSkpPT09dXx8dz09PWwpOylOKz13LEUrKztyZXR1cm4odz1lLmNoYXJBdChFKSkmJnchPT1jP3ZvaWQgMDohIW58fChyPXQocikudGVzdCgpLmVuZCxBPXRoaXMuZGVjb2RlLnJhdyh0aGlzLnVuZXNjYXBlKEEpLHIse25vblRlcm1pbmF0ZWQ6ITF9KSxPJiYobT10KG0pLnRlc3QoKS5lbmQsTz10aGlzLmRlY29kZS5yYXcodGhpcy51bmVzY2FwZShPKSxtKSksdChOKSh7dHlwZToiZGVmaW5pdGlvbiIsaWRlbnRpZmllcjpvKF8pLHRpdGxlOk98fG51bGwsdXJsOkF9KSl9fX19ZnVuY3Rpb24gYih0KXtyZXR1cm4gdCE9PW0mJnQhPT1mJiZ0IT09cH1mdW5jdGlvbiB4KHQpe3JldHVybiB0IT09ZiYmdCE9PXAmJiFyKHQpfWIuZGVsaW1pdGVyPW19LHV4ZEI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJIWVlYIiksbz1uKCJtTW83IiksaT1PYmplY3QuY3JlYXRlKG51bGwpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModCx7Zm9yOnIoKGZ1bmN0aW9uKGUpe3JldHVybiBpW2VdP2lbZV06aVtlXT10KFN0cmluZyhlKSl9KSksa2V5Rm9yOnIoKGZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihlIGluIG8odCksaSlpZihpW2VdPT09dClyZXR1cm4gZX0pKX0pfX0sInYvazYiOmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3JldHVybiB0LmV4cG9ydHM9bj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSxuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX10LmV4cG9ydHM9bn0sdjBvTDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjV0NjkiKSxvPW4oIlU2ankiKSxpPW4oIkpXQjgiKTtmdW5jdGlvbiBhKHQpe3ZhciBlPXIoaSk7ZS5wcm90b3R5cGUub3B0aW9ucz1vKGUucHJvdG90eXBlLm9wdGlvbnMsdGhpcy5kYXRhKCJzZXR0aW5ncyIpLHQpLHRoaXMuUGFyc2VyPWV9dC5leHBvcnRzPWEsYS5QYXJzZXI9aX0sdkRJeDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImRyOTkiKSxvPW4oImE2QkMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8odCk/dDpyKHQsIiV2IGlzIG5vdCBhIHBsYWluIGZ1bmN0aW9uIixhcmd1bWVudHNbMV0pfX0sdktGQzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oInVZaEsiKSxvPW4oIlNaUHEiKTt0LmV4cG9ydHM9bzt2YXIgaT1vLnByb3RvdHlwZTtmdW5jdGlvbiBhKHQsZSxuKXt2YXIgbz10aGlzLnBhdGgsaT1uZXcgcih0LGUsbik7cmV0dXJuIG8mJihpLm5hbWU9bysiOiIraS5uYW1lLGkuZmlsZT1vKSxpLmZhdGFsPSExLHRoaXMubWVzc2FnZXMucHVzaChpKSxpfWkubWVzc2FnZT1hLGkuaW5mbz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubWVzc2FnZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHQuZmF0YWw9bnVsbCx0fSxpLmZhaWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1lc3NhZ2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3Rocm93IHQuZmF0YWw9ITAsdH0saS53YXJuPWF9LHZQZHk6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbj0wLG89MCxpPXQuY2hhckF0KG4pLGE9e307Zm9yKDtpIGluIHI7KWU9cltpXSxvKz1lLGU+MSYmKG89TWF0aC5mbG9vcihvL2UpKmUpLGFbb109bixpPXQuY2hhckF0KCsrbik7cmV0dXJue2luZGVudDpvLHN0b3BzOmF9fTt2YXIgcj17IiAiOjEsIlx0Ijo0fX0sdlJIZDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImJ0REYiKSxvPW4oInQ0UXIiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4ucmF3PWZ1bmN0aW9uKHQsbixhKXtyZXR1cm4gbyh0LHIoYSx7cG9zaXRpb246ZShuKSx3YXJuaW5nOml9KSl9LG47ZnVuY3Rpb24gZShlKXtmb3IodmFyIG49dC5vZmZzZXQscj1lLmxpbmUsbz1bXTsrK3ImJnIgaW4gbjspby5wdXNoKChuW3JdfHwwKSsxKTtyZXR1cm57c3RhcnQ6ZSxpbmRlbnQ6b319ZnVuY3Rpb24gbihuLHIsYSl7byhuLHtwb3NpdGlvbjplKHIpLHdhcm5pbmc6aSx0ZXh0OmEscmVmZXJlbmNlOmEsdGV4dENvbnRleHQ6dCxyZWZlcmVuY2VDb250ZXh0OnR9KX1mdW5jdGlvbiBpKGUsbixyKXszIT09ciYmdC5maWxlLm1lc3NhZ2UoZSxuKX19fSx2YTI2OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiRWJSUCIpLG89bigiQm51VSIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1yKHRoaXMuZW5jb2RlKHQudXJsfHwiIix0KSksbj10aGlzLmVudGVyTGluaygpLGY9dGhpcy5lbmNvZGUodGhpcy5lc2NhcGUodC5hbHR8fCIiLHQpKTtuKCksdC50aXRsZSYmKGUrPWkrbyh0aGlzLmVuY29kZSh0LnRpdGxlLHQpKSk7cmV0dXJuIGwrYytmK3UrYStlK3N9O3ZhciBpPSIgIixhPSIoIixzPSIpIixjPSJbIix1PSJdIixsPSIhIn0sdmFMQzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oInhnaUEiKSxvPS9bXG5cclx1MjAyOFx1MjAyOV0vZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9cih0KTtyZXR1cm4gbnVsbD09PWU/IjxOb24tY29lcmNpYmxlIHRvIHN0cmluZyB2YWx1ZT4iOihlLmxlbmd0aD4xMDAmJihlPWUuc2xpY2UoMCw5OSkrIlx1MjAyNiIpLGU9ZS5yZXBsYWNlKG8sKGZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIlxuIjpyZXR1cm4iXFxuIjtjYXNlIlxyIjpyZXR1cm4iXFxyIjtjYXNlIlx1MjAyOCI6cmV0dXJuIlxcdTIwMjgiO2Nhc2UiXHUyMDI5IjpyZXR1cm4iXFx1MjAyOSI7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVuZXhwZWN0ZWQgY2hhcmFjdGVyIil9fSkpKX19LHZ0VnQ6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCIwN1A1Iiksbz1uKCJidEZTIiksaT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCxhPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLHM9T2JqZWN0LmtleXMsYz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuLHUpe3ZhciBsLGY9YXJndW1lbnRzWzJdLHA9YXJndW1lbnRzWzNdO3JldHVybiBuPU9iamVjdChvKG4pKSxyKHUpLGw9cyhuKSxwJiZsLnNvcnQoImZ1bmN0aW9uIj09PXR5cGVvZiBwP2kuY2FsbChwLG4pOnZvaWQgMCksImZ1bmN0aW9uIiE9PXR5cGVvZiB0JiYodD1sW3RdKSxhLmNhbGwodCxsLChmdW5jdGlvbih0LHIpe3JldHVybiBjLmNhbGwobix0KT9hLmNhbGwodSxmLG5bdF0sdCxuLHIpOmV9KSl9fX0sdnZyVTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlJzRkoiKSxvPW4oIlJqT0YiKSxpPW4oInZQZHkiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbix1LGwsZixwPXQuc3BsaXQocyksaD1wLmxlbmd0aCsxLGQ9MS8wLHY9W107cC51bnNoaWZ0KG8oYSxlKSsiISIpO2Zvcig7aC0tOylpZih1PWkocFtoXSksdltoXT11LnN0b3BzLDAhPT1yKHBbaF0pLmxlbmd0aCl7aWYoIXUuaW5kZW50KXtkPTEvMDticmVha311LmluZGVudD4wJiZ1LmluZGVudDxkJiYoZD11LmluZGVudCl9aWYoZCE9PTEvMClmb3IoaD1wLmxlbmd0aDtoLS07KXtmb3IobD12W2hdLG49ZDtuJiYhKG4gaW4gbCk7KW4tLTtmPTAhPT1yKHBbaF0pLmxlbmd0aCYmZCYmbiE9PWQ/YzoiIixwW2hdPWYrcFtoXS5zbGljZShuIGluIGw/bFtuXSsxOjApfXJldHVybiBwLnNoaWZ0KCkscC5qb2luKHMpfTt2YXIgYT0iICIscz0iXG4iLGM9Ilx0In0sdzFIdDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjZiMzQiKSxvPW4oIkdwUkwiKSxpPW4oImFTc2UiKSxhPW4oImlsRGIiKSxzPUFycmF5LmlzQXJyYXksYz1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCx1PUFycmF5LnByb3RvdHlwZS5zb21lO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLGwsZixwLGgsZCx2LHksbT1hcmd1bWVudHNbMl07aWYocyh0KXx8cih0KT9uPSJhcnJheSI6aSh0KT9uPSJzdHJpbmciOnQ9YSh0KSxvKGUpLGY9ZnVuY3Rpb24oKXtwPSEwfSwiYXJyYXkiIT09bilpZigic3RyaW5nIiE9PW4pZm9yKGw9dC5uZXh0KCk7IWwuZG9uZTspe2lmKGMuY2FsbChlLG0sbC52YWx1ZSxmKSxwKXJldHVybjtsPXQubmV4dCgpfWVsc2UgZm9yKGQ9dC5sZW5ndGgsaD0wO2g8ZCYmKHY9dFtoXSxoKzE8ZCYmKHk9di5jaGFyQ29kZUF0KDApKT49NTUyOTYmJnk8PTU2MzE5JiYodis9dFsrK2hdKSxjLmNhbGwoZSxtLHYsZiksIXApOysraCk7ZWxzZSB1LmNhbGwodCwoZnVuY3Rpb24odCl7cmV0dXJuIGMuY2FsbChlLG0sdCxmKSxwfSkpfX0sdzJnVTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiB0LmluZGV4T2YoIjwiLGUpfX0sd1RWQTpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fX0sd1R6MTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz11O3ZhciByPW4oImFPMDMiKSxvPW4oIm9YM3ciKSxpPW4oIlphc3kiKSgpO3UubmVlZHNJbmRleD1bImZpcnN0LWNoaWxkIiwiZmlyc3Qtb2YtdHlwZSIsImxhc3QtY2hpbGQiLCJsYXN0LW9mLXR5cGUiLCJudGgtY2hpbGQiLCJudGgtbGFzdC1jaGlsZCIsIm50aC1vZi10eXBlIiwibnRoLWxhc3Qtb2YtdHlwZSIsIm9ubHktY2hpbGQiLCJvbmx5LW9mLXR5cGUiXTt2YXIgYT1uKCJITDh6Iikscz1yKCJuYW1lIiksYz1zLmhhbmRsZXJzO2Z1bmN0aW9uIHUodCxlLG4scixvKXtmb3IodmFyIGk9dC5wc2V1ZG9zLGE9aS5sZW5ndGgsYz0tMTsrK2M8YTspaWYoIXMoaVtjXSxlLG4scixvKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBsKHQsZSxuLHIsbyl7dmFyIGkscz1vLnNoYWxsb3csYz1vLm9uZTtyZXR1cm4gby5zaGFsbG93PSEwLG8ub25lPSEwLGk9YSh0LnZhbHVlLGUsbylbMF09PT1lLG8uc2hhbGxvdz1zLG8ub25lPWMsaX1mdW5jdGlvbiBmKHQsZSl7cmV0dXJuIGUuY2hpbGRyZW4/MD09PWUuY2hpbGRyZW4ubGVuZ3RoOiEoInZhbHVlImluIGUpfWZ1bmN0aW9uIHAodCxlKXtpZih0LnNoYWxsb3cpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgdXNlIGA6IitlLm5hbWUrImAgd2l0aG91dCBwYXJlbnQiKX1zLnVua25vd249ZnVuY3Rpb24odCl7aWYodC5uYW1lKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBwc2V1ZG8tc2VsZWN0b3IgYCIrdC5uYW1lKyJgIik7dGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIHBzZXVkby1lbGVtZW50IG9yIGVtcHR5IHBzZXVkby1jbGFzcyIpfSxzLmludmFsaWQ9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcHNldWRvLXNlbGVjdG9yIil9LGMuYW55PWwsYy5ibGFuaz1mLGMuZW1wdHk9ZixjWyJmaXJzdC1jaGlsZCJdPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIHAobyx0KSwwPT09by5ub2RlSW5kZXh9LGNbImZpcnN0LW9mLXR5cGUiXT1mdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiBwKG8sdCksMD09PW8udHlwZUluZGV4fSxjLmhhcz1mdW5jdGlvbih0LGUsbixyLG8pe3ZhciBpLHM9by5zaGFsbG93LGM9by5vbmUsdT1vLnNjb3BlTm9kZXMsbD1mdW5jdGlvbih0KXt2YXIgZSxuLHIsbzsicnVsZVNldCI9PT10LnR5cGUmJih0PXt0eXBlOiJzZWxlY3RvcnMiLHNlbGVjdG9yczpbdF19KTtlPXQuc2VsZWN0b3JzLG49ZS5sZW5ndGgscj0tMTtmb3IoOysrcjxuOykobz1lW3JdLnJ1bGUpLm5lc3RpbmdPcGVyYXRvcj1udWxsLG8ucHNldWRvcyYmMT09PW8ucHNldWRvcy5sZW5ndGgmJiJzY29wZSI9PT1vLnBzZXVkb3NbMF0ubmFtZXx8KG89e3R5cGU6InJ1bGUiLHJ1bGU6byxwc2V1ZG9zOlt7bmFtZToic2NvcGUifV19KSxlW3JdPW87cmV0dXJuIHR9KHQudmFsdWUpO3JldHVybiBvLnNoYWxsb3c9ITEsby5vbmU9ITAsby5zY29wZU5vZGVzPVtlXSxpPWEobCxlLG8pWzBdLG8uc2hhbGxvdz1zLG8ub25lPWMsby5zY29wZU5vZGVzPXUsaX0sY1sibGFzdC1jaGlsZCJdPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIHAobyx0KSxvLm5vZGVJbmRleD09PW8ubm9kZUNvdW50LTF9LGNbImxhc3Qtb2YtdHlwZSJdPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIHAobyx0KSxvLnR5cGVJbmRleD09PW8udHlwZUNvdW50LTF9LGMubWF0Y2hlcz1sLGMubm90PW8obCksY1sibnRoLWNoaWxkIl09ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gcChvLHQpLHQudmFsdWUoby5ub2RlSW5kZXgpfSxjWyJudGgtbGFzdC1jaGlsZCJdPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIHAobyx0KSx0LnZhbHVlKG8ubm9kZUNvdW50LW8ubm9kZUluZGV4LTEpfSxjWyJudGgtb2YtdHlwZSJdPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIHAobyx0KSx0LnZhbHVlKG8udHlwZUluZGV4KX0sY1sibnRoLWxhc3Qtb2YtdHlwZSJdPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIHAobyx0KSx0LnZhbHVlKG8udHlwZUNvdW50LTEtby50eXBlSW5kZXgpfSxjWyJvbmx5LWNoaWxkIl09ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gcChvLHQpLDE9PT1vLm5vZGVDb3VudH0sY1sib25seS1vZi10eXBlIl09ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gcChvLHQpLDE9PT1vLnR5cGVDb3VudH0sYy5yb290PWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBpKGUpJiYhcn0sYy5zY29wZT1mdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiBpKGUpJiYtMSE9PW8uc2NvcGVOb2Rlcy5pbmRleE9mKGUpfX0sd1VDcTpmdW5jdGlvbih0LGUpe2UuZ2V0U2x1Z0Zvck5vdGVCYXNlbmFtZT1mdW5jdGlvbih0KXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHQucmVwbGFjZSgvIC0gXGR7NH0tXGR7Mn0tXGR7Mn1fXGR7NH0vZywiIikucmVwbGFjZSgvIC9nLCJfIikpfSxlLmdldE5vdGVCYXNlbmFtZUZvclNsdWc9ZnVuY3Rpb24odCl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKC9fL2csIiAiKS5yZXBsYWNlKC9bL1xcOl0vZywiLSIpLnJlcGxhY2UoLy0kL2csIiIpfX0sd1c0bTpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17dHJ1ZUZ1bmM6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZmFsc2VGdW5jOmZ1bmN0aW9uKCl7cmV0dXJuITF9fX0sd2tCVDpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX19LHduT0o6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIlVmVVYiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHIodCwibGlzdCIsKGZ1bmN0aW9uKHQsZSl7dmFyIG4scixvPTA7Zm9yKG49MCxyPWUubGVuZ3RoO248cjtuKyspImxpc3QiPT09ZVtuXS50eXBlJiYobys9MSk7Zm9yKG49MCxyPXQuY2hpbGRyZW4ubGVuZ3RoO248cjtuKyspe3ZhciBpPXQuY2hpbGRyZW5bbl07aS5pbmRleD1uLGkub3JkZXJlZD10Lm9yZGVyZWR9dC5kZXB0aD1vfSkpLHR9fX0sd282bDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIi9BWlkiKSxvPW4oIk4wcEMiKSxpPW4oIkw0cjAiKSxhPW4oIjlIUkwiKSxzPW4oIll5Q1IiKSxjPW4oImFMbDkiKTt0LmV4cG9ydHM9ZCxkLmVzY2FwZT1mdW5jdGlvbih0KXtyZXR1cm4gZCh0LHtlc2NhcGVPbmx5OiEwLHVzZU5hbWVkUmVmZXJlbmNlczohMH0pfTt2YXIgdT17fS5oYXNPd25Qcm9wZXJ0eSxsPWZ1bmN0aW9uKCl7dmFyIHQsZT17fTtmb3IodCBpbiByKWVbclt0XV09dDtyZXR1cm4gZX0oKSxmPW0oWyciJywiJyIsIjwiLCI+IiwiJiIsImAiXSkscD0vW1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2csaD0vW1x4MDEtXHRceDBCXGZceDBFLVx4MUZceDdGXHg4MVx4OERceDhGXHg5MFx4OURceEEwLVx1RkZGRl0vZztmdW5jdGlvbiBkKHQsZSl7dmFyIG49ZXx8e30scj1uLnN1YnNldCxpPXI/bShyKTpmLGE9bi5lc2NhcGVPbmx5LGQ9bi5vbWl0T3B0aW9uYWxTZW1pY29sb25zO3JldHVybiB0PXQucmVwbGFjZShpLGcpLHJ8fGE/dDp0LnJlcGxhY2UocCwoZnVuY3Rpb24odCxlLG4pe3JldHVybiB2KDEwMjQqKHQuY2hhckNvZGVBdCgwKS01NTI5NikrdC5jaGFyQ29kZUF0KDEpLTU2MzIwKzY1NTM2LG4uY2hhckF0KGUrMiksZCl9KSkucmVwbGFjZShoLGcpO2Z1bmN0aW9uIGcodCxlLHIpe3JldHVybiBmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxhLGYscD1uLnVzZVNob3J0ZXN0UmVmZXJlbmNlcyxoPW4ub21pdE9wdGlvbmFsU2VtaWNvbG9uczsocHx8bi51c2VOYW1lZFJlZmVyZW5jZXMpJiZ1LmNhbGwobCx0KSYmKHI9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9IiYiK3Q7aWYobiYmdS5jYWxsKG8sdCkmJi0xPT09Yy5pbmRleE9mKHQpJiYoIXJ8fGUmJiI9IiE9PWUmJiFzKGUpKSlyZXR1cm4gaTtyZXR1cm4gaSsiOyJ9KGxbdF0sZSxoLG4uYXR0cmlidXRlKSk7IXAmJnJ8fChpPXQuY2hhckNvZGVBdCgwKSxhPXYoaSxlLGgpLHAmJihmPXkoaSxlLGgpKS5sZW5ndGg8YS5sZW5ndGgmJihhPWYpKTtpZihyJiYoIXB8fHIubGVuZ3RoPGEubGVuZ3RoKSlyZXR1cm4gcjtyZXR1cm4gYX0odCxyLmNoYXJBdChlKzEpLG4pfX1mdW5jdGlvbiB2KHQsZSxuKXt2YXIgcj0iJiN4Iit0LnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO3JldHVybiBuJiZlJiYhaShlKT9yOnIrIjsifWZ1bmN0aW9uIHkodCxlLG4pe3ZhciByPSImIyIrU3RyaW5nKHQpO3JldHVybiBuJiZlJiYhYShlKT9yOnIrIjsifWZ1bmN0aW9uIG0odCl7cmV0dXJuIG5ldyBSZWdFeHAoIlsiK3Quam9pbigiIikrIl0iLCJnIil9fSx3c0FWOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZnVuY3Rpb24oKXtpZigib2JqZWN0Ij09PXR5cGVvZiBzZWxmJiZzZWxmKXJldHVybiBzZWxmO2lmKCJvYmplY3QiPT09dHlwZW9mIHdpbmRvdyYmd2luZG93KXJldHVybiB3aW5kb3c7dGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gcmVzb2x2ZSBnbG9iYWwgYHRoaXNgIil9O3QuZXhwb3J0cz1mdW5jdGlvbigpe2lmKHRoaXMpcmV0dXJuIHRoaXM7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3QucHJvdG90eXBlLCJfX2dsb2JhbF9fIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGNvbmZpZ3VyYWJsZTohMH0pfWNhdGNoKHQpe3JldHVybiBuKCl9dHJ5e3JldHVybiBfX2dsb2JhbF9ffHxuKCl9ZmluYWxseXtkZWxldGUgT2JqZWN0LnByb3RvdHlwZS5fX2dsb2JhbF9ffX0oKX0seDFsYTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjh0Qk0iKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWUsaT0hMTshcnx8Im9iamVjdCIhPT10eXBlb2Ygcnx8ImV4ZWMiaW4gcnx8KGk9ITA9PT1yLmlnbm9yZUZpbmFsRGVmaW5pdGlvbnMscj1yLnRlc3QpOyJzdHJpbmciPT09dHlwZW9mIHImJihyPW5ldyBSZWdFeHAoIl4oIityKyIpJCIsImkiKSk7ciYmImV4ZWMiaW4gciYmKHU9cixyPWZ1bmN0aW9uKHQpe3JldHVybiB1LnRlc3QodCl9KTt2YXIgdTtpZigiZnVuY3Rpb24iIT09dHlwZW9mIHIpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCBgc3RyaW5nYCwgYHJlZ2V4cGAsIG9yIGBmdW5jdGlvbmAgZm9yIGB0ZXN0YCwgbm90IGAiK3IrImAiKTshZnVuY3Rpb24odCxlLG4scil7dmFyIGksdSxsLGY9LTEscD10LmNoaWxkcmVuLGg9cC5sZW5ndGgsZD1udWxsLHY9bnVsbCx5PW51bGw7Zm9yKDsrK2Y8aDspe2lmKHMobD1wW2ZdLGQpKXt5PWY7YnJlYWt9YShsLGQsZSkmJih2PWYsZD1sLmRlcHRoKX1pZihudWxsIT09dil7aWYobnVsbD09PXkmJih5PWgpLG4pZm9yKDt5PnYmJmMobD1wW3ktMV0pOyl5LS07Zm9yKGk9cihwW3ZdLHAuc2xpY2UodisxLHkpLHBbeV0se3BhcmVudDp0LHN0YXJ0OnYsZW5kOnBbeV0/eTpudWxsfSksdT1bXSxmPS0xLGg9aSYmaS5sZW5ndGg7KytmPGg7KWlbZl0mJnUucHVzaChpW2ZdKTtpJiZvLmFwcGx5KHAsW3YseS12KzFdLmNvbmNhdCh1KSl9fSh0LHIsaSxuKX07dmFyIG89W10uc3BsaWNlO2Z1bmN0aW9uIGkodCl7cmV0dXJuIHQmJiJoZWFkaW5nIj09PXQudHlwZX1mdW5jdGlvbiBhKHQsZSxuKXtyZXR1cm4gbnVsbD09PWUmJmkodCkmJm4ocih0KSx0KX1mdW5jdGlvbiBzKHQsZSl7cmV0dXJuIGUmJmkodCkmJnQuZGVwdGg8PWV9ZnVuY3Rpb24gYyh0KXtyZXR1cm4iZGVmaW5pdGlvbiI9PT10LnR5cGV8fCJmb290bm90ZURlZmluaXRpb24iPT09dC50eXBlfX0seDg3WTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjEzRFEiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9cih0aGlzLm9wdGlvbnMuc3Ryb25nLDIpO3JldHVybiBlK3RoaXMuYWxsKHQpLmpvaW4oIiIpK2V9fSx4UDdBOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH19LHhTSmE6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLmJ1bGxldCxuPXRoaXMudmlzaXRvcnMubGlzdEl0ZW0saT10LmNoaWxkcmVuLGE9aS5sZW5ndGgscz0tMSxjPVtdO2Zvcig7KytzPGE7KWNbc109bi5jYWxsKHRoaXMsaVtzXSx0LHMsZSk7cmV0dXJuIGMuam9pbih0LnNwcmVhZD9vOnIpfTt2YXIgcj0iXG4iLG89cityfSx4ZHZiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9InJhemR3YXRyenkiO3QuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2Ygci5jb250YWlucyYmKCEwPT09ci5jb250YWlucygiZHdhIikmJiExPT09ci5jb250YWlucygiZm9vIikpfX0seGZUcDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oInV1WmgiKSxvPU1hdGguYWJzLGk9TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlzTmFOKHQpPzA6MCE9PSh0PU51bWJlcih0KSkmJmlzRmluaXRlKHQpP3IodCkqaShvKHQpKTp0fX0seGdpQTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIHQudG9TdHJpbmcoKX1jYXRjaChlKXt0cnl7cmV0dXJuIFN0cmluZyh0KX1jYXRjaChuKXtyZXR1cm4gbnVsbH19fX0seGtRazpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIkVCenEiKTt0LmV4cG9ydHM9aSxpLndyYXA9cjt2YXIgbz1bXS5zbGljZTtmdW5jdGlvbiBpKCl7dmFyIHQ9W10sZT17cnVuOmZ1bmN0aW9uKCl7dmFyIGU9LTEsbj1vLmNhbGwoYXJndW1lbnRzLDAsLTEpLGk9YXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMV07aWYoImZ1bmN0aW9uIiE9PXR5cGVvZiBpKXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgZnVuY3Rpb24gYXMgbGFzdCBhcmd1bWVudCwgbm90ICIraSk7KGZ1bmN0aW9uIGEocyl7dmFyIGM9dFsrK2VdLHU9by5jYWxsKGFyZ3VtZW50cywwKS5zbGljZSgxKSxsPW4ubGVuZ3RoLGY9LTE7aWYocylpKHMpO2Vsc2V7Zm9yKDsrK2Y8bDspbnVsbCE9PXVbZl0mJnZvaWQgMCE9PXVbZl18fCh1W2ZdPW5bZl0pO249dSxjP3IoYyxhKS5hcHBseShudWxsLG4pOmkuYXBwbHkobnVsbCxbbnVsbF0uY29uY2F0KG4pKX19KS5hcHBseShudWxsLFtudWxsXS5jb25jYXQobikpfSx1c2U6ZnVuY3Rpb24obil7aWYoImZ1bmN0aW9uIiE9PXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgYGZuYCB0byBiZSBhIGZ1bmN0aW9uLCBub3QgIituKTtyZXR1cm4gdC5wdXNoKG4pLGV9fTtyZXR1cm4gZX19LHkxZnE6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoImV2ZW4iPT09KHQ9dC50cmltKCkudG9Mb3dlckNhc2UoKSkpcmV0dXJuWzIsMF07aWYoIm9kZCI9PT10KXJldHVyblsyLDFdO3ZhciBlLHI9dC5tYXRjaChuKTtpZighcil0aHJvdyBuZXcgU3ludGF4RXJyb3IoIm4tdGggcnVsZSBjb3VsZG4ndCBiZSBwYXJzZWQgKCciK3QrIicpIik7cmV0dXJuIHJbMV0/KGU9cGFyc2VJbnQoclsxXSwxMCksaXNOYU4oZSkmJihlPSItIj09PXJbMV0uY2hhckF0KDApPy0xOjEpKTplPTAsW2UsclszXT9wYXJzZUludCgoclsyXXx8IiIpK3JbM10sMTApOjBdfTt2YXIgbj0vXihbK1wtXT9cZCpuKT9ccyooPzooWytcLV0/KVxzKihcZCspKT8kL30seUZ1VTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlpwY0oiKTtmdW5jdGlvbiBvKHQpe2RlbGV0ZSB0LnBvc2l0aW9ufWZ1bmN0aW9uIGkodCl7dC5wb3NpdGlvbj12b2lkIDB9dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIodCxlP286aSksdH19LHlRZUE6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuKCJoZkttIikoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9bigiaTJTYyIpLG89L157KC4rPyl9LztmdW5jdGlvbiBpKHQpe3ZhciBlPXRoaXMuYWxsKHQpLmpvaW4oIiIpO3JldHVybiJ7Ii5jb25jYXQoZSwifSIpfWUuZGVmYXVsdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgbj1vLmV4ZWMoZSk7aWYobil7dmFyIGk9dC5ub3coKTtpLmNvbHVtbis9MSxpLm9mZnNldCs9MTt2YXIgYT10aGlzLnRva2VuaXplSW5saW5lKG5bMV0saSkscz17dHlwZTpyLmNsb3plTm9kZVR5cGUsY2hpbGRyZW46YX07cmV0dXJuIHQoblswXSkocyl9fXQubG9jYXRvcj1mdW5jdGlvbih0LGUpe3JldHVybiB0LmluZGV4T2YoInsiLGUpfTt2YXIgZT10aGlzLlBhcnNlci5wcm90b3R5cGU7ZS5pbmxpbmVUb2tlbml6ZXJzLmNsb3plUHJvbXB0PXQsZS5pbmxpbmVNZXRob2RzLnNwbGljZShlLmlubGluZU1ldGhvZHMuaW5kZXhPZigidGV4dCIpLDAsImNsb3plUHJvbXB0IiksdGhpcy5Db21waWxlci5wcm90b3R5cGUudmlzaXRvcnNbci5jbG96ZU5vZGVUeXBlXT1pfX0seWNYazpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIllDVE8iKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixhPXQubGVuZ3RoLHM9ZS5sZW5ndGgsYz1bXSx1PTAsbD0wO2Zvcig7bDxhOyl7Zm9yKG49bDtsPGEmJiFpLnRlc3QodC5jaGFyQXQobCkpOylsKz0xO2ZvcihjLnB1c2godC5zbGljZShuLGwpKTt1PHMmJiFpLnRlc3QoZS5jaGFyQXQodSkpOyl1Kz0xO2ZvcihuPXU7dTxzJiZpLnRlc3QoZS5jaGFyQXQodSkpOyllLmNoYXJBdCh1KT09PW8mJih1Kz1yKGUuc2xpY2UodSkpKSx1Kz0xO2ZvcihjLnB1c2goZS5zbGljZShuLHUpKTtsPGEmJmkudGVzdCh0LmNoYXJBdChsKSk7KWwrPTF9cmV0dXJuIGMuam9pbigiIil9O3ZhciBvPSImIixpPS9bLSEiIyQlJicoKSorLC4vOjs8PT4/QFtcXFxdXmB7fH1+X10vfSx5ejA5OmZ1bmN0aW9uKHQsZSl7KGU9dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL15ccyp8XHMqJC9nLCIiKX0pLmxlZnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXlxzKi8sIiIpfSxlLnJpZ2h0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1xzKiQvLCIiKX19LHowN1U6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJIWVlYIiksbz1uKCIvTWhSIikuU3ltYm9sO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModCx7aGFzSW5zdGFuY2U6cigiIixvJiZvLmhhc0luc3RhbmNlfHx0KCJoYXNJbnN0YW5jZSIpKSxpc0NvbmNhdFNwcmVhZGFibGU6cigiIixvJiZvLmlzQ29uY2F0U3ByZWFkYWJsZXx8dCgiaXNDb25jYXRTcHJlYWRhYmxlIikpLGl0ZXJhdG9yOnIoIiIsbyYmby5pdGVyYXRvcnx8dCgiaXRlcmF0b3IiKSksbWF0Y2g6cigiIixvJiZvLm1hdGNofHx0KCJtYXRjaCIpKSxyZXBsYWNlOnIoIiIsbyYmby5yZXBsYWNlfHx0KCJyZXBsYWNlIikpLHNlYXJjaDpyKCIiLG8mJm8uc2VhcmNofHx0KCJzZWFyY2giKSksc3BlY2llczpyKCIiLG8mJm8uc3BlY2llc3x8dCgic3BlY2llcyIpKSxzcGxpdDpyKCIiLG8mJm8uc3BsaXR8fHQoInNwbGl0IikpLHRvUHJpbWl0aXZlOnIoIiIsbyYmby50b1ByaW1pdGl2ZXx8dCgidG9QcmltaXRpdmUiKSksdG9TdHJpbmdUYWc6cigiIixvJiZvLnRvU3RyaW5nVGFnfHx0KCJ0b1N0cmluZ1RhZyIpKSx1bnNjb3BhYmxlczpyKCIiLG8mJm8udW5zY29wYWJsZXN8fHQoInVuc2NvcGFibGVzIikpfSl9fSx6czhGOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiR3BSTCIpLG89bigibHE1eSIpLGk9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsYT1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxzPU9iamVjdC5rZXlzLGM9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obix1KXt2YXIgbCxmPWFyZ3VtZW50c1syXSxwPWFyZ3VtZW50c1szXTtyZXR1cm4gbj1PYmplY3QobyhuKSkscih1KSxsPXMobikscCYmbC5zb3J0KCJmdW5jdGlvbiI9PT10eXBlb2YgcD9pLmNhbGwocCxuKTp2b2lkIDApLCJmdW5jdGlvbiIhPT10eXBlb2YgdCYmKHQ9bFt0XSksYS5jYWxsKHQsbCwoZnVuY3Rpb24odCxyKXtyZXR1cm4gYy5jYWxsKG4sdCk/YS5jYWxsKHUsZixuW3RdLHQsbixyKTplfSkpfX19LHp4c2Q6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fX19LFtbIi93RVAiLDEsMiw2LDcsMCwzLDQsNSwxNl1dXSk7"></script><script async="" data-next-page="/_app" src="data:application/javascript;charset=UTF-8;base64,KHdpbmRvdy53ZWJwYWNrSnNvbnA9d2luZG93LndlYnBhY2tKc29ucHx8W10pLnB1c2goW1sxMF0seyIrcGxLIjpmdW5jdGlvbihuLHQsZSl7ZSgiQXBQRCIpLG4uZXhwb3J0cz1lKCJXRXBrIikuT2JqZWN0LmdldFByb3RvdHlwZU9mfSwiLytQNCI6ZnVuY3Rpb24obix0LGUpe3ZhciByPWUoIkJodXEiKSxvPWUoIlRSWngiKTtmdW5jdGlvbiB1KHQpe3JldHVybiBuLmV4cG9ydHM9dT1vP3I6ZnVuY3Rpb24obil7cmV0dXJuIG4uX19wcm90b19ffHxyKG4pfSx1KHQpfW4uZXhwb3J0cz11fSwxOmZ1bmN0aW9uKG4sdCxlKXtlKCJlOStXIiksbi5leHBvcnRzPWUoIm5PSHQiKX0sQXBQRDpmdW5jdGlvbihuLHQsZSl7dmFyIHI9ZSgiSkI2OCIpLG89ZSgiVStLRCIpO2UoInpuN04iKSgiZ2V0UHJvdG90eXBlT2YiLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbyhyKG4pKX19KSl9LEI1VWQ6ZnVuY3Rpb24obix0LGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lKCJRZXRkIiksbz1lKCIvSFJOIiksdT1lKCJXYUdpIiksaT1lKCJaREEyIikscD1lKCIvK1A0IiksYT1lKCJOOW4yIiksYz1lKCJsbjZoIikscz1lKCJLSTQ1Iik7dC5fX2VzTW9kdWxlPSEwLHQuQ29udGFpbmVyPWZ1bmN0aW9uKG4pezA7cmV0dXJuIG4uY2hpbGRyZW59LHQuY3JlYXRlVXJsPXYsdC5kZWZhdWx0PXZvaWQgMDt2YXIgZj1zKGUoInExdEkiKSksbD1lKCJnLzE1Iik7ZnVuY3Rpb24gaChuKXt2YXIgdCxlLHI7cmV0dXJuIGMuYXN5bmMoKGZ1bmN0aW9uKG8pe2Zvcig7Oylzd2l0Y2goby5wcmV2PW8ubmV4dCl7Y2FzZSAwOnJldHVybiB0PW4uQ29tcG9uZW50LGU9bi5jdHgsby5uZXh0PTMsYy5hd3JhcCgoMCxsLmxvYWRHZXRJbml0aWFsUHJvcHMpKHQsZSkpO2Nhc2UgMzpyZXR1cm4gcj1vLnNlbnQsby5hYnJ1cHQoInJldHVybiIse3BhZ2VQcm9wczpyfSk7Y2FzZSA1OmNhc2UiZW5kIjpyZXR1cm4gby5zdG9wKCl9fSkpfXQuQXBwSW5pdGlhbFByb3BzPWwuQXBwSW5pdGlhbFByb3BzO3ZhciBkPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbyh0aGlzLHQpLGkodGhpcyxwKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGEodCxuKSx1KHQsW3trZXk6ImNvbXBvbmVudERpZENhdGNoIix2YWx1ZTpmdW5jdGlvbihuLHQpe3Rocm93IG59fSx7a2V5OiJyZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5wcm9wcyx0PW4ucm91dGVyLGU9bi5Db21wb25lbnQsbz1uLnBhZ2VQcm9wcyx1PXYodCk7cmV0dXJuIGYuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGUscih7fSxvLHt1cmw6dX0pKX19XSksdH0oZi5kZWZhdWx0LkNvbXBvbmVudCk7ZnVuY3Rpb24gdihuKXt2YXIgdD1uLnBhdGhuYW1lLGU9bi5hc1BhdGgscj1uLnF1ZXJ5O3JldHVybntnZXQgcXVlcnkoKXtyZXR1cm4gcn0sZ2V0IHBhdGhuYW1lKCl7cmV0dXJuIHR9LGdldCBhc1BhdGgoKXtyZXR1cm4gZX0sYmFjazpmdW5jdGlvbigpe24uYmFjaygpfSxwdXNoOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4ucHVzaCh0LGUpfSxwdXNoVG86ZnVuY3Rpb24odCxlKXt2YXIgcj1lP3Q6IiIsbz1lfHx0O3JldHVybiBuLnB1c2gocixvKX0scmVwbGFjZTpmdW5jdGlvbih0LGUpe3JldHVybiBuLnJlcGxhY2UodCxlKX0scmVwbGFjZVRvOmZ1bmN0aW9uKHQsZSl7dmFyIHI9ZT90OiIiLG89ZXx8dDtyZXR1cm4gbi5yZXBsYWNlKHIsbyl9fX10LmRlZmF1bHQ9ZCxkLm9yaWdHZXRJbml0aWFsUHJvcHM9aCxkLmdldEluaXRpYWxQcm9wcz1ofSxCaHVxOmZ1bmN0aW9uKG4sdCxlKXtuLmV4cG9ydHM9ZSgiK3BsSyIpfSxLNDdFOmZ1bmN0aW9uKG4sdCl7bi5leHBvcnRzPWZ1bmN0aW9uKG4pe2lmKHZvaWQgMD09PW4pdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gbn19LE45bjI6ZnVuY3Rpb24obix0LGUpe3ZhciByPWUoIlNxWmciKSxvPWUoInZqZWEiKTtuLmV4cG9ydHM9ZnVuY3Rpb24obix0KXtpZigiZnVuY3Rpb24iIT09dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7bi5wcm90b3R5cGU9cih0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOm4sd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJm8obix0KX19LFpEQTI6ZnVuY3Rpb24obix0LGUpe3ZhciByPWUoImlaUDMiKSxvPWUoIks0N0UiKTtuLmV4cG9ydHM9ZnVuY3Rpb24obix0KXtyZXR1cm4hdHx8Im9iamVjdCIhPT1yKHQpJiYiZnVuY3Rpb24iIT09dHlwZW9mIHQ/byhuKTp0fX0sImU5K1ciOmZ1bmN0aW9uKG4sdCxlKXsod2luZG93Ll9fTkVYVF9QPXdpbmRvdy5fX05FWFRfUHx8W10pLnB1c2goWyIvX2FwcCIsZnVuY3Rpb24oKXtyZXR1cm4gZSgiQjVVZCIpfV0pfX0sW1sxLDEsMiwwXV1dKTs="></script><script src="data:application/javascript;charset=UTF-8;base64,IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIocil7Zm9yKHZhciBuLGEsaT1yWzBdLGM9clsxXSxsPXJbMl0scD0wLHM9W107cDxpLmxlbmd0aDtwKyspYT1pW3BdLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLGEpJiZvW2FdJiZzLnB1c2gob1thXVswXSksb1thXT0wO2ZvcihuIGluIGMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGMsbikmJihlW25dPWNbbl0pO2ZvcihmJiZmKHIpO3MubGVuZ3RoOylzLnNoaWZ0KCkoKTtyZXR1cm4gdS5wdXNoLmFwcGx5KHUsbHx8W10pLHQoKX1mdW5jdGlvbiB0KCl7Zm9yKHZhciBlLHI9MDtyPHUubGVuZ3RoO3IrKyl7Zm9yKHZhciB0PXVbcl0sbj0hMCxpPTE7aTx0Lmxlbmd0aDtpKyspe3ZhciBjPXRbaV07MCE9PW9bY10mJihuPSExKX1uJiYodS5zcGxpY2Uoci0tLDEpLGU9YShhLnM9dFswXSkpfXJldHVybiBlfXZhciBuPXt9LG89ezE6MH0sdT1bXTtmdW5jdGlvbiBhKHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0uZXhwb3J0czt2YXIgdD1uW3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fSxvPSEwO3RyeXtlW3JdLmNhbGwodC5leHBvcnRzLHQsdC5leHBvcnRzLGEpLG89ITF9ZmluYWxseXtvJiZkZWxldGUgbltyXX1yZXR1cm4gdC5sPSEwLHQuZXhwb3J0c31hLmU9ZnVuY3Rpb24oZSl7dmFyIHI9W10sdD1vW2VdO2lmKDAhPT10KWlmKHQpci5wdXNoKHRbMl0pO2Vsc2V7dmFyIG49bmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbil7dD1vW2VdPVtyLG5dfSkpO3IucHVzaCh0WzJdPW4pO3ZhciB1LGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7aS5jaGFyc2V0PSJ1dGYtOCIsaS50aW1lb3V0PTEyMCxhLm5jJiZpLnNldEF0dHJpYnV0ZSgibm9uY2UiLGEubmMpLGkuc3JjPWZ1bmN0aW9uKGUpe3JldHVybiBhLnArInN0YXRpYy9jaHVua3MvIisoe31bZV18fGUpKyIuIit7MTc6ImJiMWIwYTE3NDZmOTcyZDhlYzA3In1bZV0rIi5qcyJ9KGUpO3ZhciBjPW5ldyBFcnJvcjt1PWZ1bmN0aW9uKHIpe2kub25lcnJvcj1pLm9ubG9hZD1udWxsLGNsZWFyVGltZW91dChsKTt2YXIgdD1vW2VdO2lmKDAhPT10KXtpZih0KXt2YXIgbj1yJiYoImxvYWQiPT09ci50eXBlPyJtaXNzaW5nIjpyLnR5cGUpLHU9ciYmci50YXJnZXQmJnIudGFyZ2V0LnNyYztjLm1lc3NhZ2U9IkxvYWRpbmcgY2h1bmsgIitlKyIgZmFpbGVkLlxuKCIrbisiOiAiK3UrIikiLGMubmFtZT0iQ2h1bmtMb2FkRXJyb3IiLGMudHlwZT1uLGMucmVxdWVzdD11LHRbMV0oYyl9b1tlXT12b2lkIDB9fTt2YXIgbD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3Uoe3R5cGU6InRpbWVvdXQiLHRhcmdldDppfSl9KSwxMmU0KTtpLm9uZXJyb3I9aS5vbmxvYWQ9dSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGkpfXJldHVybiBQcm9taXNlLmFsbChyKX0sYS5tPWUsYS5jPW4sYS5kPWZ1bmN0aW9uKGUscix0KXthLm8oZSxyKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7ZW51bWVyYWJsZTohMCxnZXQ6dH0pfSxhLnI9ZnVuY3Rpb24oZSl7InVuZGVmaW5lZCIhPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LGEudD1mdW5jdGlvbihlLHIpe2lmKDEmciYmKGU9YShlKSksOCZyKXJldHVybiBlO2lmKDQmciYmIm9iamVjdCI9PT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PU9iamVjdC5jcmVhdGUobnVsbCk7aWYoYS5yKHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJkZWZhdWx0Iix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZyJiYic3RyaW5nIiE9dHlwZW9mIGUpZm9yKHZhciBuIGluIGUpYS5kKHQsbixmdW5jdGlvbihyKXtyZXR1cm4gZVtyXX0uYmluZChudWxsLG4pKTtyZXR1cm4gdH0sYS5uPWZ1bmN0aW9uKGUpe3ZhciByPWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBhLmQociwiYSIscikscn0sYS5vPWZ1bmN0aW9uKGUscil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpfSxhLnA9IiIsYS5vZT1mdW5jdGlvbihlKXt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9O3ZhciBpPXdpbmRvdy53ZWJwYWNrSnNvbnA9d2luZG93LndlYnBhY2tKc29ucHx8W10sYz1pLnB1c2guYmluZChpKTtpLnB1c2g9cixpPWkuc2xpY2UoKTtmb3IodmFyIGw9MDtsPGkubGVuZ3RoO2wrKylyKGlbbF0pO3ZhciBmPWM7dCgpfShbXSk7" async=""></script><script src="data:application/javascript;charset=UTF-8;base64,KHdpbmRvdy53ZWJwYWNrSnNvbnA9d2luZG93LndlYnBhY2tKc29ucHx8W10pLnB1c2goW1syXSx7Iit3ZGMiOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHIsbCxhLGksbztpZihPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksInVuZGVmaW5lZCI9PT10eXBlb2Ygd2luZG93fHwiZnVuY3Rpb24iIT09dHlwZW9mIE1lc3NhZ2VDaGFubmVsKXt2YXIgdT1udWxsLGM9bnVsbCxzPWZ1bmN0aW9uKCl7aWYobnVsbCE9PXUpdHJ5e3ZhciBlPXQudW5zdGFibGVfbm93KCk7dSghMCxlKSx1PW51bGx9Y2F0Y2gobil7dGhyb3cgc2V0VGltZW91dChzLDApLG59fSxmPURhdGUubm93KCk7dC51bnN0YWJsZV9ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS1mfSxyPWZ1bmN0aW9uKGUpe251bGwhPT11P3NldFRpbWVvdXQociwwLGUpOih1PWUsc2V0VGltZW91dChzLDApKX0sbD1mdW5jdGlvbihlLHQpe2M9c2V0VGltZW91dChlLHQpfSxhPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGMpfSxpPWZ1bmN0aW9uKCl7cmV0dXJuITF9LG89dC51bnN0YWJsZV9mb3JjZUZyYW1lUmF0ZT1mdW5jdGlvbigpe319ZWxzZXt2YXIgZD13aW5kb3cucGVyZm9ybWFuY2UscD13aW5kb3cuRGF0ZSxtPXdpbmRvdy5zZXRUaW1lb3V0LGg9d2luZG93LmNsZWFyVGltZW91dDtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiBjb25zb2xlKXt2YXIgdj13aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU7ImZ1bmN0aW9uIiE9PXR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lJiZjb25zb2xlLmVycm9yKCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IHJlcXVlc3RBbmltYXRpb25GcmFtZS4gTWFrZSBzdXJlIHRoYXQgeW91IGxvYWQgYSBwb2x5ZmlsbCBpbiBvbGRlciBicm93c2Vycy4gaHR0cHM6Ly9mYi5tZS9yZWFjdC1wb2x5ZmlsbHMiKSwiZnVuY3Rpb24iIT09dHlwZW9mIHYmJmNvbnNvbGUuZXJyb3IoIlRoaXMgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgY2FuY2VsQW5pbWF0aW9uRnJhbWUuIE1ha2Ugc3VyZSB0aGF0IHlvdSBsb2FkIGEgcG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vZmIubWUvcmVhY3QtcG9seWZpbGxzIil9aWYoIm9iamVjdCI9PT10eXBlb2YgZCYmImZ1bmN0aW9uIj09PXR5cGVvZiBkLm5vdyl0LnVuc3RhYmxlX25vdz1mdW5jdGlvbigpe3JldHVybiBkLm5vdygpfTtlbHNle3ZhciB5PXAubm93KCk7dC51bnN0YWJsZV9ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gcC5ub3coKS15fX12YXIgZz0hMSxiPW51bGwsdz0tMSxrPTUsRT0wO2k9ZnVuY3Rpb24oKXtyZXR1cm4gdC51bnN0YWJsZV9ub3coKT49RX0sbz1mdW5jdGlvbigpe30sdC51bnN0YWJsZV9mb3JjZUZyYW1lUmF0ZT1mdW5jdGlvbihlKXswPmV8fDEyNTxlP2NvbnNvbGUuZXJyb3IoImZvcmNlRnJhbWVSYXRlIHRha2VzIGEgcG9zaXRpdmUgaW50IGJldHdlZW4gMCBhbmQgMTI1LCBmb3JjaW5nIGZyYW1lcmF0ZXMgaGlnaGVyIHRoYW4gMTI1IGZwcyBpcyBub3QgdW5zdXBwb3J0ZWQiKTprPTA8ZT9NYXRoLmZsb29yKDFlMy9lKTo1fTt2YXIgeD1uZXcgTWVzc2FnZUNoYW5uZWwsVD14LnBvcnQyO3gucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKCl7aWYobnVsbCE9PWIpe3ZhciBlPXQudW5zdGFibGVfbm93KCk7RT1lK2s7dHJ5e2IoITAsZSk/VC5wb3N0TWVzc2FnZShudWxsKTooZz0hMSxiPW51bGwpfWNhdGNoKG4pe3Rocm93IFQucG9zdE1lc3NhZ2UobnVsbCksbn19ZWxzZSBnPSExfSxyPWZ1bmN0aW9uKGUpe2I9ZSxnfHwoZz0hMCxULnBvc3RNZXNzYWdlKG51bGwpKX0sbD1mdW5jdGlvbihlLG4pe3c9bSgoZnVuY3Rpb24oKXtlKHQudW5zdGFibGVfbm93KCkpfSksbil9LGE9ZnVuY3Rpb24oKXtoKHcpLHc9LTF9fWZ1bmN0aW9uIFMoZSx0KXt2YXIgbj1lLmxlbmd0aDtlLnB1c2godCk7ZTpmb3IoOzspe3ZhciByPU1hdGguZmxvb3IoKG4tMSkvMiksbD1lW3JdO2lmKCEodm9pZCAwIT09bCYmMDxQKGwsdCkpKWJyZWFrIGU7ZVtyXT10LGVbbl09bCxuPXJ9fWZ1bmN0aW9uIEMoZSl7cmV0dXJuIHZvaWQgMD09PShlPWVbMF0pP251bGw6ZX1mdW5jdGlvbiBfKGUpe3ZhciB0PWVbMF07aWYodm9pZCAwIT09dCl7dmFyIG49ZS5wb3AoKTtpZihuIT09dCl7ZVswXT1uO2U6Zm9yKHZhciByPTAsbD1lLmxlbmd0aDtyPGw7KXt2YXIgYT0yKihyKzEpLTEsaT1lW2FdLG89YSsxLHU9ZVtvXTtpZih2b2lkIDAhPT1pJiYwPlAoaSxuKSl2b2lkIDAhPT11JiYwPlAodSxpKT8oZVtyXT11LGVbb109bixyPW8pOihlW3JdPWksZVthXT1uLHI9YSk7ZWxzZXtpZighKHZvaWQgMCE9PXUmJjA+UCh1LG4pKSlicmVhayBlO2Vbcl09dSxlW29dPW4scj1vfX19cmV0dXJuIHR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gUChlLHQpe3ZhciBuPWUuc29ydEluZGV4LXQuc29ydEluZGV4O3JldHVybiAwIT09bj9uOmUuaWQtdC5pZH12YXIgTj1bXSx6PVtdLE89MSxNPW51bGwsST0zLFI9ITEsRj0hMSxVPSExO2Z1bmN0aW9uIEQoZSl7Zm9yKHZhciB0PUMoeik7bnVsbCE9PXQ7KXtpZihudWxsPT09dC5jYWxsYmFjaylfKHopO2Vsc2V7aWYoISh0LnN0YXJ0VGltZTw9ZSkpYnJlYWs7Xyh6KSx0LnNvcnRJbmRleD10LmV4cGlyYXRpb25UaW1lLFMoTix0KX10PUMoeil9fWZ1bmN0aW9uIEwoZSl7aWYoVT0hMSxEKGUpLCFGKWlmKG51bGwhPT1DKE4pKUY9ITAscihBKTtlbHNle3ZhciB0PUMoeik7bnVsbCE9PXQmJmwoTCx0LnN0YXJ0VGltZS1lKX19ZnVuY3Rpb24gQShlLG4pe0Y9ITEsVSYmKFU9ITEsYSgpKSxSPSEwO3ZhciByPUk7dHJ5e2ZvcihEKG4pLE09QyhOKTtudWxsIT09TSYmKCEoTS5leHBpcmF0aW9uVGltZT5uKXx8ZSYmIWkoKSk7KXt2YXIgbz1NLmNhbGxiYWNrO2lmKG51bGwhPT1vKXtNLmNhbGxiYWNrPW51bGwsST1NLnByaW9yaXR5TGV2ZWw7dmFyIHU9byhNLmV4cGlyYXRpb25UaW1lPD1uKTtuPXQudW5zdGFibGVfbm93KCksImZ1bmN0aW9uIj09PXR5cGVvZiB1P00uY2FsbGJhY2s9dTpNPT09QyhOKSYmXyhOKSxEKG4pfWVsc2UgXyhOKTtNPUMoTil9aWYobnVsbCE9PU0pdmFyIGM9ITA7ZWxzZXt2YXIgcz1DKHopO251bGwhPT1zJiZsKEwscy5zdGFydFRpbWUtbiksYz0hMX1yZXR1cm4gY31maW5hbGx5e009bnVsbCxJPXIsUj0hMX19ZnVuY3Rpb24gVyhlKXtzd2l0Y2goZSl7Y2FzZSAxOnJldHVybi0xO2Nhc2UgMjpyZXR1cm4gMjUwO2Nhc2UgNTpyZXR1cm4gMTA3Mzc0MTgyMztjYXNlIDQ6cmV0dXJuIDFlNDtkZWZhdWx0OnJldHVybiA1ZTN9fXZhciBqPW87dC51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eT0xLHQudW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHk9Mix0LnVuc3RhYmxlX05vcm1hbFByaW9yaXR5PTMsdC51bnN0YWJsZV9JZGxlUHJpb3JpdHk9NSx0LnVuc3RhYmxlX0xvd1ByaW9yaXR5PTQsdC51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHk9ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpicmVhaztkZWZhdWx0OmU9M312YXIgbj1JO0k9ZTt0cnl7cmV0dXJuIHQoKX1maW5hbGx5e0k9bn19LHQudW5zdGFibGVfbmV4dD1mdW5jdGlvbihlKXtzd2l0Y2goSSl7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6dmFyIHQ9MzticmVhaztkZWZhdWx0OnQ9SX12YXIgbj1JO0k9dDt0cnl7cmV0dXJuIGUoKX1maW5hbGx5e0k9bn19LHQudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjaz1mdW5jdGlvbihlLG4saSl7dmFyIG89dC51bnN0YWJsZV9ub3coKTtpZigib2JqZWN0Ij09PXR5cGVvZiBpJiZudWxsIT09aSl7dmFyIHU9aS5kZWxheTt1PSJudW1iZXIiPT09dHlwZW9mIHUmJjA8dT9vK3U6byxpPSJudW1iZXIiPT09dHlwZW9mIGkudGltZW91dD9pLnRpbWVvdXQ6VyhlKX1lbHNlIGk9VyhlKSx1PW87cmV0dXJuIGU9e2lkOk8rKyxjYWxsYmFjazpuLHByaW9yaXR5TGV2ZWw6ZSxzdGFydFRpbWU6dSxleHBpcmF0aW9uVGltZTppPXUraSxzb3J0SW5kZXg6LTF9LHU+bz8oZS5zb3J0SW5kZXg9dSxTKHosZSksbnVsbD09PUMoTikmJmU9PT1DKHopJiYoVT9hKCk6VT0hMCxsKEwsdS1vKSkpOihlLnNvcnRJbmRleD1pLFMoTixlKSxGfHxSfHwoRj0hMCxyKEEpKSksZX0sdC51bnN0YWJsZV9jYW5jZWxDYWxsYmFjaz1mdW5jdGlvbihlKXtlLmNhbGxiYWNrPW51bGx9LHQudW5zdGFibGVfd3JhcENhbGxiYWNrPWZ1bmN0aW9uKGUpe3ZhciB0PUk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49STtJPXQ7dHJ5e3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1maW5hbGx5e0k9bn19fSx0LnVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIEl9LHQudW5zdGFibGVfc2hvdWxkWWllbGQ9ZnVuY3Rpb24oKXt2YXIgZT10LnVuc3RhYmxlX25vdygpO0QoZSk7dmFyIG49QyhOKTtyZXR1cm4gbiE9PU0mJm51bGwhPT1NJiZudWxsIT09biYmbnVsbCE9PW4uY2FsbGJhY2smJm4uc3RhcnRUaW1lPD1lJiZuLmV4cGlyYXRpb25UaW1lPE0uZXhwaXJhdGlvblRpbWV8fGkoKX0sdC51bnN0YWJsZV9yZXF1ZXN0UGFpbnQ9aix0LnVuc3RhYmxlX2NvbnRpbnVlRXhlY3V0aW9uPWZ1bmN0aW9uKCl7Rnx8Unx8KEY9ITAscihBKSl9LHQudW5zdGFibGVfcGF1c2VFeGVjdXRpb249ZnVuY3Rpb24oKXt9LHQudW5zdGFibGVfZ2V0Rmlyc3RDYWxsYmFja05vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gQyhOKX0sdC51bnN0YWJsZV9Qcm9maWxpbmc9bnVsbH0sIjE2QWwiOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiV2JCRyIpO2Z1bmN0aW9uIGwoKXt9ZnVuY3Rpb24gYSgpe31hLnJlc2V0V2FybmluZ0NhY2hlPWwsZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixsLGEsaSl7aWYoaSE9PXIpe3ZhciBvPW5ldyBFcnJvcigiQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcyIpO3Rocm93IG8ubmFtZT0iSW52YXJpYW50IFZpb2xhdGlvbiIsb319ZnVuY3Rpb24gdCgpe3JldHVybiBlfWUuaXNSZXF1aXJlZD1lO3ZhciBuPXthcnJheTplLGJvb2w6ZSxmdW5jOmUsbnVtYmVyOmUsb2JqZWN0OmUsc3RyaW5nOmUsc3ltYm9sOmUsYW55OmUsYXJyYXlPZjp0LGVsZW1lbnQ6ZSxlbGVtZW50VHlwZTplLGluc3RhbmNlT2Y6dCxub2RlOmUsb2JqZWN0T2Y6dCxvbmVPZjp0LG9uZU9mVHlwZTp0LHNoYXBlOnQsZXhhY3Q6dCxjaGVja1Byb3BUeXBlczphLHJlc2V0V2FybmluZ0NhY2hlOmx9O3JldHVybiBuLlByb3BUeXBlcz1uLG59fSwiMTd4OSI6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKCIxNkFsIikoKX0sUUNuYjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1uKCIrd2RjIil9LFdiQkc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9IlNFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEIn0saThpNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyFmdW5jdGlvbiBlKCl7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fJiYiZnVuY3Rpb24iPT09dHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRSl7MDt0cnl7X19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFKGUpfWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IodCl9fX0oKSxlLmV4cG9ydHM9bigieWwzMCIpfSxxMXRJOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPW4oInZpUk8iKX0sdmlSTzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlFldGQiKSxsPSJmdW5jdGlvbiI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yLGE9bD9TeW1ib2wuZm9yKCJyZWFjdC5lbGVtZW50Iik6NjAxMDMsaT1sP1N5bWJvbC5mb3IoInJlYWN0LnBvcnRhbCIpOjYwMTA2LG89bD9TeW1ib2wuZm9yKCJyZWFjdC5mcmFnbWVudCIpOjYwMTA3LHU9bD9TeW1ib2wuZm9yKCJyZWFjdC5zdHJpY3RfbW9kZSIpOjYwMTA4LGM9bD9TeW1ib2wuZm9yKCJyZWFjdC5wcm9maWxlciIpOjYwMTE0LHM9bD9TeW1ib2wuZm9yKCJyZWFjdC5wcm92aWRlciIpOjYwMTA5LGY9bD9TeW1ib2wuZm9yKCJyZWFjdC5jb250ZXh0Iik6NjAxMTAsZD1sP1N5bWJvbC5mb3IoInJlYWN0LmZvcndhcmRfcmVmIik6NjAxMTIscD1sP1N5bWJvbC5mb3IoInJlYWN0LnN1c3BlbnNlIik6NjAxMTM7bCYmU3ltYm9sLmZvcigicmVhY3Quc3VzcGVuc2VfbGlzdCIpO3ZhciBtPWw/U3ltYm9sLmZvcigicmVhY3QubWVtbyIpOjYwMTE1LGg9bD9TeW1ib2wuZm9yKCJyZWFjdC5sYXp5Iik6NjAxMTY7bCYmU3ltYm9sLmZvcigicmVhY3QuZnVuZGFtZW50YWwiKSxsJiZTeW1ib2wuZm9yKCJyZWFjdC5yZXNwb25kZXIiKSxsJiZTeW1ib2wuZm9yKCJyZWFjdC5zY29wZSIpO3ZhciB2PSJmdW5jdGlvbiI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3I7ZnVuY3Rpb24geShlKXtmb3IodmFyIHQ9Imh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9lcnJvci1kZWNvZGVyLmh0bWw/aW52YXJpYW50PSIrZSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0Kz0iJmFyZ3NbXT0iK2VuY29kZVVSSUNvbXBvbmVudChhcmd1bWVudHNbbl0pO3JldHVybiJNaW5pZmllZCBSZWFjdCBlcnJvciAjIitlKyI7IHZpc2l0ICIrdCsiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4ifXZhciBnPXtpc01vdW50ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW5xdWV1ZUZvcmNlVXBkYXRlOmZ1bmN0aW9uKCl7fSxlbnF1ZXVlUmVwbGFjZVN0YXRlOmZ1bmN0aW9uKCl7fSxlbnF1ZXVlU2V0U3RhdGU6ZnVuY3Rpb24oKXt9fSxiPXt9O2Z1bmN0aW9uIHcoZSx0LG4pe3RoaXMucHJvcHM9ZSx0aGlzLmNvbnRleHQ9dCx0aGlzLnJlZnM9Yix0aGlzLnVwZGF0ZXI9bnx8Z31mdW5jdGlvbiBrKCl7fWZ1bmN0aW9uIEUoZSx0LG4pe3RoaXMucHJvcHM9ZSx0aGlzLmNvbnRleHQ9dCx0aGlzLnJlZnM9Yix0aGlzLnVwZGF0ZXI9bnx8Z313LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50PXt9LHcucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9PXR5cGVvZiBlJiZudWxsIT1lKXRocm93IEVycm9yKHkoODUpKTt0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsZSx0LCJzZXRTdGF0ZSIpfSx3LnByb3RvdHlwZS5mb3JjZVVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMsZSwiZm9yY2VVcGRhdGUiKX0say5wcm90b3R5cGU9dy5wcm90b3R5cGU7dmFyIHg9RS5wcm90b3R5cGU9bmV3IGs7eC5jb25zdHJ1Y3Rvcj1FLHIoeCx3LnByb3RvdHlwZSkseC5pc1B1cmVSZWFjdENvbXBvbmVudD0hMDt2YXIgVD17Y3VycmVudDpudWxsfSxTPXtjdXJyZW50Om51bGx9LEM9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxfPXtrZXk6ITAscmVmOiEwLF9fc2VsZjohMCxfX3NvdXJjZTohMH07ZnVuY3Rpb24gUChlLHQsbil7dmFyIHIsbD17fSxpPW51bGwsbz1udWxsO2lmKG51bGwhPXQpZm9yKHIgaW4gdm9pZCAwIT09dC5yZWYmJihvPXQucmVmKSx2b2lkIDAhPT10LmtleSYmKGk9IiIrdC5rZXkpLHQpQy5jYWxsKHQscikmJiFfLmhhc093blByb3BlcnR5KHIpJiYobFtyXT10W3JdKTt2YXIgdT1hcmd1bWVudHMubGVuZ3RoLTI7aWYoMT09PXUpbC5jaGlsZHJlbj1uO2Vsc2UgaWYoMTx1KXtmb3IodmFyIGM9QXJyYXkodSkscz0wO3M8dTtzKyspY1tzXT1hcmd1bWVudHNbcysyXTtsLmNoaWxkcmVuPWN9aWYoZSYmZS5kZWZhdWx0UHJvcHMpZm9yKHIgaW4gdT1lLmRlZmF1bHRQcm9wcyl2b2lkIDA9PT1sW3JdJiYobFtyXT11W3JdKTtyZXR1cm57JCR0eXBlb2Y6YSx0eXBlOmUsa2V5OmkscmVmOm8scHJvcHM6bCxfb3duZXI6Uy5jdXJyZW50fX1mdW5jdGlvbiBOKGUpe3JldHVybiJvYmplY3QiPT09dHlwZW9mIGUmJm51bGwhPT1lJiZlLiQkdHlwZW9mPT09YX12YXIgej0vXC8rL2csTz1bXTtmdW5jdGlvbiBNKGUsdCxuLHIpe2lmKE8ubGVuZ3RoKXt2YXIgbD1PLnBvcCgpO3JldHVybiBsLnJlc3VsdD1lLGwua2V5UHJlZml4PXQsbC5mdW5jPW4sbC5jb250ZXh0PXIsbC5jb3VudD0wLGx9cmV0dXJue3Jlc3VsdDplLGtleVByZWZpeDp0LGZ1bmM6bixjb250ZXh0OnIsY291bnQ6MH19ZnVuY3Rpb24gSShlKXtlLnJlc3VsdD1udWxsLGUua2V5UHJlZml4PW51bGwsZS5mdW5jPW51bGwsZS5jb250ZXh0PW51bGwsZS5jb3VudD0wLDEwPk8ubGVuZ3RoJiZPLnB1c2goZSl9ZnVuY3Rpb24gUihlLHQsbil7cmV0dXJuIG51bGw9PWU/MDpmdW5jdGlvbiBlKHQsbixyLGwpe3ZhciBvPXR5cGVvZiB0OyJ1bmRlZmluZWQiIT09byYmImJvb2xlYW4iIT09b3x8KHQ9bnVsbCk7dmFyIHU9ITE7aWYobnVsbD09PXQpdT0hMDtlbHNlIHN3aXRjaChvKXtjYXNlInN0cmluZyI6Y2FzZSJudW1iZXIiOnU9ITA7YnJlYWs7Y2FzZSJvYmplY3QiOnN3aXRjaCh0LiQkdHlwZW9mKXtjYXNlIGE6Y2FzZSBpOnU9ITB9fWlmKHUpcmV0dXJuIHIobCx0LCIiPT09bj8iLiIrRih0LDApOm4pLDE7aWYodT0wLG49IiI9PT1uPyIuIjpuKyI6IixBcnJheS5pc0FycmF5KHQpKWZvcih2YXIgYz0wO2M8dC5sZW5ndGg7YysrKXt2YXIgcz1uK0Yobz10W2NdLGMpO3UrPWUobyxzLHIsbCl9ZWxzZSBpZihudWxsPT09dHx8Im9iamVjdCIhPT10eXBlb2YgdD9zPW51bGw6cz0iZnVuY3Rpb24iPT09dHlwZW9mKHM9diYmdFt2XXx8dFsiQEBpdGVyYXRvciJdKT9zOm51bGwsImZ1bmN0aW9uIj09PXR5cGVvZiBzKWZvcih0PXMuY2FsbCh0KSxjPTA7IShvPXQubmV4dCgpKS5kb25lOyl1Kz1lKG89by52YWx1ZSxzPW4rRihvLGMrKykscixsKTtlbHNlIGlmKCJvYmplY3QiPT09byl0aHJvdyByPSIiK3QsRXJyb3IoeSgzMSwiW29iamVjdCBPYmplY3RdIj09PXI/Im9iamVjdCB3aXRoIGtleXMgeyIrT2JqZWN0LmtleXModCkuam9pbigiLCAiKSsifSI6ciwiIikpO3JldHVybiB1fShlLCIiLHQsbil9ZnVuY3Rpb24gRihlLHQpe3JldHVybiJvYmplY3QiPT09dHlwZW9mIGUmJm51bGwhPT1lJiZudWxsIT1lLmtleT9mdW5jdGlvbihlKXt2YXIgdD17Ij0iOiI9MCIsIjoiOiI9MiJ9O3JldHVybiIkIisoIiIrZSkucmVwbGFjZSgvWz06XS9nLChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKX0oZS5rZXkpOnQudG9TdHJpbmcoMzYpfWZ1bmN0aW9uIFUoZSx0KXtlLmZ1bmMuY2FsbChlLmNvbnRleHQsdCxlLmNvdW50KyspfWZ1bmN0aW9uIEQoZSx0LG4pe3ZhciByPWUucmVzdWx0LGw9ZS5rZXlQcmVmaXg7ZT1lLmZ1bmMuY2FsbChlLmNvbnRleHQsdCxlLmNvdW50KyspLEFycmF5LmlzQXJyYXkoZSk/TChlLHIsbiwoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSk6bnVsbCE9ZSYmKE4oZSkmJihlPWZ1bmN0aW9uKGUsdCl7cmV0dXJueyQkdHlwZW9mOmEsdHlwZTplLnR5cGUsa2V5OnQscmVmOmUucmVmLHByb3BzOmUucHJvcHMsX293bmVyOmUuX293bmVyfX0oZSxsKyghZS5rZXl8fHQmJnQua2V5PT09ZS5rZXk/IiI6KCIiK2Uua2V5KS5yZXBsYWNlKHosIiQmLyIpKyIvIikrbikpLHIucHVzaChlKSl9ZnVuY3Rpb24gTChlLHQsbixyLGwpe3ZhciBhPSIiO251bGwhPW4mJihhPSgiIituKS5yZXBsYWNlKHosIiQmLyIpKyIvIiksUihlLEQsdD1NKHQsYSxyLGwpKSxJKHQpfWZ1bmN0aW9uIEEoKXt2YXIgZT1ULmN1cnJlbnQ7aWYobnVsbD09PWUpdGhyb3cgRXJyb3IoeSgzMjEpKTtyZXR1cm4gZX12YXIgVz17Q2hpbGRyZW46e21hcDpmdW5jdGlvbihlLHQsbil7aWYobnVsbD09ZSlyZXR1cm4gZTt2YXIgcj1bXTtyZXR1cm4gTChlLHIsbnVsbCx0LG4pLHJ9LGZvckVhY2g6ZnVuY3Rpb24oZSx0LG4pe2lmKG51bGw9PWUpcmV0dXJuIGU7UihlLFUsdD1NKG51bGwsbnVsbCx0LG4pKSxJKHQpfSxjb3VudDpmdW5jdGlvbihlKXtyZXR1cm4gUihlLChmdW5jdGlvbigpe3JldHVybiBudWxsfSksbnVsbCl9LHRvQXJyYXk6ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIEwoZSx0LG51bGwsKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLHR9LG9ubHk6ZnVuY3Rpb24oZSl7aWYoIU4oZSkpdGhyb3cgRXJyb3IoeSgxNDMpKTtyZXR1cm4gZX19LGNyZWF0ZVJlZjpmdW5jdGlvbigpe3JldHVybntjdXJyZW50Om51bGx9fSxDb21wb25lbnQ6dyxQdXJlQ29tcG9uZW50OkUsY3JlYXRlQ29udGV4dDpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1udWxsKSwoZT17JCR0eXBlb2Y6ZixfY2FsY3VsYXRlQ2hhbmdlZEJpdHM6dCxfY3VycmVudFZhbHVlOmUsX2N1cnJlbnRWYWx1ZTI6ZSxfdGhyZWFkQ291bnQ6MCxQcm92aWRlcjpudWxsLENvbnN1bWVyOm51bGx9KS5Qcm92aWRlcj17JCR0eXBlb2Y6cyxfY29udGV4dDplfSxlLkNvbnN1bWVyPWV9LGZvcndhcmRSZWY6ZnVuY3Rpb24oZSl7cmV0dXJueyQkdHlwZW9mOmQscmVuZGVyOmV9fSxsYXp5OmZ1bmN0aW9uKGUpe3JldHVybnskJHR5cGVvZjpoLF9jdG9yOmUsX3N0YXR1czotMSxfcmVzdWx0Om51bGx9fSxtZW1vOmZ1bmN0aW9uKGUsdCl7cmV0dXJueyQkdHlwZW9mOm0sdHlwZTplLGNvbXBhcmU6dm9pZCAwPT09dD9udWxsOnR9fSx1c2VDYWxsYmFjazpmdW5jdGlvbihlLHQpe3JldHVybiBBKCkudXNlQ2FsbGJhY2soZSx0KX0sdXNlQ29udGV4dDpmdW5jdGlvbihlLHQpe3JldHVybiBBKCkudXNlQ29udGV4dChlLHQpfSx1c2VFZmZlY3Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQSgpLnVzZUVmZmVjdChlLHQpfSx1c2VJbXBlcmF0aXZlSGFuZGxlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gQSgpLnVzZUltcGVyYXRpdmVIYW5kbGUoZSx0LG4pfSx1c2VEZWJ1Z1ZhbHVlOmZ1bmN0aW9uKCl7fSx1c2VMYXlvdXRFZmZlY3Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQSgpLnVzZUxheW91dEVmZmVjdChlLHQpfSx1c2VNZW1vOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEEoKS51c2VNZW1vKGUsdCl9LHVzZVJlZHVjZXI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBBKCkudXNlUmVkdWNlcihlLHQsbil9LHVzZVJlZjpmdW5jdGlvbihlKXtyZXR1cm4gQSgpLnVzZVJlZihlKX0sdXNlU3RhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIEEoKS51c2VTdGF0ZShlKX0sRnJhZ21lbnQ6byxQcm9maWxlcjpjLFN0cmljdE1vZGU6dSxTdXNwZW5zZTpwLGNyZWF0ZUVsZW1lbnQ6UCxjbG9uZUVsZW1lbnQ6ZnVuY3Rpb24oZSx0LG4pe2lmKG51bGw9PT1lfHx2b2lkIDA9PT1lKXRocm93IEVycm9yKHkoMjY3LGUpKTt2YXIgbD1yKHt9LGUucHJvcHMpLGk9ZS5rZXksbz1lLnJlZix1PWUuX293bmVyO2lmKG51bGwhPXQpe2lmKHZvaWQgMCE9PXQucmVmJiYobz10LnJlZix1PVMuY3VycmVudCksdm9pZCAwIT09dC5rZXkmJihpPSIiK3Qua2V5KSxlLnR5cGUmJmUudHlwZS5kZWZhdWx0UHJvcHMpdmFyIGM9ZS50eXBlLmRlZmF1bHRQcm9wcztmb3IocyBpbiB0KUMuY2FsbCh0LHMpJiYhXy5oYXNPd25Qcm9wZXJ0eShzKSYmKGxbc109dm9pZCAwPT09dFtzXSYmdm9pZCAwIT09Yz9jW3NdOnRbc10pfXZhciBzPWFyZ3VtZW50cy5sZW5ndGgtMjtpZigxPT09cylsLmNoaWxkcmVuPW47ZWxzZSBpZigxPHMpe2M9QXJyYXkocyk7Zm9yKHZhciBmPTA7ZjxzO2YrKyljW2ZdPWFyZ3VtZW50c1tmKzJdO2wuY2hpbGRyZW49Y31yZXR1cm57JCR0eXBlb2Y6YSx0eXBlOmUudHlwZSxrZXk6aSxyZWY6byxwcm9wczpsLF9vd25lcjp1fX0sY3JlYXRlRmFjdG9yeTpmdW5jdGlvbihlKXt2YXIgdD1QLmJpbmQobnVsbCxlKTtyZXR1cm4gdC50eXBlPWUsdH0saXNWYWxpZEVsZW1lbnQ6Tix2ZXJzaW9uOiIxNi4xMi4wIixfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDp7UmVhY3RDdXJyZW50RGlzcGF0Y2hlcjpULFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnOntzdXNwZW5zZTpudWxsfSxSZWFjdEN1cnJlbnRPd25lcjpTLElzU29tZVJlbmRlcmVyQWN0aW5nOntjdXJyZW50OiExfSxhc3NpZ246cn19LGo9e2RlZmF1bHQ6V30sVj1qJiZXfHxqO2UuZXhwb3J0cz1WLmRlZmF1bHR8fFZ9LHlsMzA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJxMXRJIiksbD1uKCJRZXRkIiksYT1uKCJRQ25iIik7ZnVuY3Rpb24gaShlKXtmb3IodmFyIHQ9Imh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9lcnJvci1kZWNvZGVyLmh0bWw/aW52YXJpYW50PSIrZSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0Kz0iJmFyZ3NbXT0iK2VuY29kZVVSSUNvbXBvbmVudChhcmd1bWVudHNbbl0pO3JldHVybiJNaW5pZmllZCBSZWFjdCBlcnJvciAjIitlKyI7IHZpc2l0ICIrdCsiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4ifWlmKCFyKXRocm93IEVycm9yKGkoMjI3KSk7dmFyIG89bnVsbCx1PXt9O2Z1bmN0aW9uIGMoKXtpZihvKWZvcih2YXIgZSBpbiB1KXt2YXIgdD11W2VdLG49by5pbmRleE9mKGUpO2lmKCEoLTE8bikpdGhyb3cgRXJyb3IoaSg5NixlKSk7aWYoIWZbbl0pe2lmKCF0LmV4dHJhY3RFdmVudHMpdGhyb3cgRXJyb3IoaSg5NyxlKSk7Zm9yKHZhciByIGluIGZbbl09dCxuPXQuZXZlbnRUeXBlcyl7dmFyIGw9dm9pZCAwLGE9bltyXSxjPXQscD1yO2lmKGQuaGFzT3duUHJvcGVydHkocCkpdGhyb3cgRXJyb3IoaSg5OSxwKSk7ZFtwXT1hO3ZhciBtPWEucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM7aWYobSl7Zm9yKGwgaW4gbSltLmhhc093blByb3BlcnR5KGwpJiZzKG1bbF0sYyxwKTtsPSEwfWVsc2UgYS5yZWdpc3RyYXRpb25OYW1lPyhzKGEucmVnaXN0cmF0aW9uTmFtZSxjLHApLGw9ITApOmw9ITE7aWYoIWwpdGhyb3cgRXJyb3IoaSg5OCxyLGUpKX19fX1mdW5jdGlvbiBzKGUsdCxuKXtpZihwW2VdKXRocm93IEVycm9yKGkoMTAwLGUpKTtwW2VdPXQsbVtlXT10LmV2ZW50VHlwZXNbbl0uZGVwZW5kZW5jaWVzfXZhciBmPVtdLGQ9e30scD17fSxtPXt9O2Z1bmN0aW9uIGgoZSx0LG4scixsLGEsaSxvLHUpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywzKTt0cnl7dC5hcHBseShuLGMpfWNhdGNoKHMpe3RoaXMub25FcnJvcihzKX19dmFyIHY9ITEseT1udWxsLGc9ITEsYj1udWxsLHc9e29uRXJyb3I6ZnVuY3Rpb24oZSl7dj0hMCx5PWV9fTtmdW5jdGlvbiBrKGUsdCxuLHIsbCxhLGksbyx1KXt2PSExLHk9bnVsbCxoLmFwcGx5KHcsYXJndW1lbnRzKX12YXIgRT1udWxsLHg9bnVsbCxUPW51bGw7ZnVuY3Rpb24gUyhlLHQsbil7dmFyIHI9ZS50eXBlfHwidW5rbm93bi1ldmVudCI7ZS5jdXJyZW50VGFyZ2V0PVQobiksZnVuY3Rpb24oZSx0LG4scixsLGEsbyx1LGMpe2lmKGsuYXBwbHkodGhpcyxhcmd1bWVudHMpLHYpe2lmKCF2KXRocm93IEVycm9yKGkoMTk4KSk7dmFyIHM9eTt2PSExLHk9bnVsbCxnfHwoZz0hMCxiPXMpfX0ocix0LHZvaWQgMCxlKSxlLmN1cnJlbnRUYXJnZXQ9bnVsbH1mdW5jdGlvbiBDKGUsdCl7aWYobnVsbD09dCl0aHJvdyBFcnJvcihpKDMwKSk7cmV0dXJuIG51bGw9PWU/dDpBcnJheS5pc0FycmF5KGUpP0FycmF5LmlzQXJyYXkodCk/KGUucHVzaC5hcHBseShlLHQpLGUpOihlLnB1c2godCksZSk6QXJyYXkuaXNBcnJheSh0KT9bZV0uY29uY2F0KHQpOltlLHRdfWZ1bmN0aW9uIF8oZSx0LG4pe0FycmF5LmlzQXJyYXkoZSk/ZS5mb3JFYWNoKHQsbik6ZSYmdC5jYWxsKG4sZSl9dmFyIFA9bnVsbDtmdW5jdGlvbiBOKGUpe2lmKGUpe3ZhciB0PWUuX2Rpc3BhdGNoTGlzdGVuZXJzLG49ZS5fZGlzcGF0Y2hJbnN0YW5jZXM7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIHI9MDtyPHQubGVuZ3RoJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpO3IrKylTKGUsdFtyXSxuW3JdKTtlbHNlIHQmJlMoZSx0LG4pO2UuX2Rpc3BhdGNoTGlzdGVuZXJzPW51bGwsZS5fZGlzcGF0Y2hJbnN0YW5jZXM9bnVsbCxlLmlzUGVyc2lzdGVudCgpfHxlLmNvbnN0cnVjdG9yLnJlbGVhc2UoZSl9fWZ1bmN0aW9uIHooZSl7aWYobnVsbCE9PWUmJihQPUMoUCxlKSksZT1QLFA9bnVsbCxlKXtpZihfKGUsTiksUCl0aHJvdyBFcnJvcihpKDk1KSk7aWYoZyl0aHJvdyBlPWIsZz0hMSxiPW51bGwsZX19dmFyIE89e2luamVjdEV2ZW50UGx1Z2luT3JkZXI6ZnVuY3Rpb24oZSl7aWYobyl0aHJvdyBFcnJvcihpKDEwMSkpO289QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSksYygpfSxpbmplY3RFdmVudFBsdWdpbnNCeU5hbWU6ZnVuY3Rpb24oZSl7dmFyIHQsbj0hMTtmb3IodCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpe3ZhciByPWVbdF07aWYoIXUuaGFzT3duUHJvcGVydHkodCl8fHVbdF0hPT1yKXtpZih1W3RdKXRocm93IEVycm9yKGkoMTAyLHQpKTt1W3RdPXIsbj0hMH19biYmYygpfX07ZnVuY3Rpb24gTShlLHQpe3ZhciBuPWUuc3RhdGVOb2RlO2lmKCFuKXJldHVybiBudWxsO3ZhciByPUUobik7aWYoIXIpcmV0dXJuIG51bGw7bj1yW3RdO2U6c3dpdGNoKHQpe2Nhc2Uib25DbGljayI6Y2FzZSJvbkNsaWNrQ2FwdHVyZSI6Y2FzZSJvbkRvdWJsZUNsaWNrIjpjYXNlIm9uRG91YmxlQ2xpY2tDYXB0dXJlIjpjYXNlIm9uTW91c2VEb3duIjpjYXNlIm9uTW91c2VEb3duQ2FwdHVyZSI6Y2FzZSJvbk1vdXNlTW92ZSI6Y2FzZSJvbk1vdXNlTW92ZUNhcHR1cmUiOmNhc2Uib25Nb3VzZVVwIjpjYXNlIm9uTW91c2VVcENhcHR1cmUiOihyPSFyLmRpc2FibGVkKXx8KHI9ISgiYnV0dG9uIj09PShlPWUudHlwZSl8fCJpbnB1dCI9PT1lfHwic2VsZWN0Ij09PWV8fCJ0ZXh0YXJlYSI9PT1lKSksZT0hcjticmVhayBlO2RlZmF1bHQ6ZT0hMX1pZihlKXJldHVybiBudWxsO2lmKG4mJiJmdW5jdGlvbiIhPT10eXBlb2Ygbil0aHJvdyBFcnJvcihpKDIzMSx0LHR5cGVvZiBuKSk7cmV0dXJuIG59dmFyIEk9ci5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtJLmhhc093blByb3BlcnR5KCJSZWFjdEN1cnJlbnREaXNwYXRjaGVyIil8fChJLlJlYWN0Q3VycmVudERpc3BhdGNoZXI9e2N1cnJlbnQ6bnVsbH0pLEkuaGFzT3duUHJvcGVydHkoIlJlYWN0Q3VycmVudEJhdGNoQ29uZmlnIil8fChJLlJlYWN0Q3VycmVudEJhdGNoQ29uZmlnPXtzdXNwZW5zZTpudWxsfSk7dmFyIFI9L14oLiopW1xcXC9dLyxGPSJmdW5jdGlvbiI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yLFU9Rj9TeW1ib2wuZm9yKCJyZWFjdC5lbGVtZW50Iik6NjAxMDMsRD1GP1N5bWJvbC5mb3IoInJlYWN0LnBvcnRhbCIpOjYwMTA2LEw9Rj9TeW1ib2wuZm9yKCJyZWFjdC5mcmFnbWVudCIpOjYwMTA3LEE9Rj9TeW1ib2wuZm9yKCJyZWFjdC5zdHJpY3RfbW9kZSIpOjYwMTA4LFc9Rj9TeW1ib2wuZm9yKCJyZWFjdC5wcm9maWxlciIpOjYwMTE0LGo9Rj9TeW1ib2wuZm9yKCJyZWFjdC5wcm92aWRlciIpOjYwMTA5LFY9Rj9TeW1ib2wuZm9yKCJyZWFjdC5jb250ZXh0Iik6NjAxMTAsQj1GP1N5bWJvbC5mb3IoInJlYWN0LmNvbmN1cnJlbnRfbW9kZSIpOjYwMTExLEg9Rj9TeW1ib2wuZm9yKCJyZWFjdC5mb3J3YXJkX3JlZiIpOjYwMTEyLCQ9Rj9TeW1ib2wuZm9yKCJyZWFjdC5zdXNwZW5zZSIpOjYwMTEzLFE9Rj9TeW1ib2wuZm9yKCJyZWFjdC5zdXNwZW5zZV9saXN0Iik6NjAxMjAsSz1GP1N5bWJvbC5mb3IoInJlYWN0Lm1lbW8iKTo2MDExNSxxPUY/U3ltYm9sLmZvcigicmVhY3QubGF6eSIpOjYwMTE2O0YmJlN5bWJvbC5mb3IoInJlYWN0LmZ1bmRhbWVudGFsIiksRiYmU3ltYm9sLmZvcigicmVhY3QucmVzcG9uZGVyIiksRiYmU3ltYm9sLmZvcigicmVhY3Quc2NvcGUiKTt2YXIgWT0iZnVuY3Rpb24iPT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yO2Z1bmN0aW9uIFgoZSl7cmV0dXJuIG51bGw9PT1lfHwib2JqZWN0IiE9PXR5cGVvZiBlP251bGw6ImZ1bmN0aW9uIj09PXR5cGVvZihlPVkmJmVbWV18fGVbIkBAaXRlcmF0b3IiXSk/ZTpudWxsfWZ1bmN0aW9uIEcoZSl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtpZigiZnVuY3Rpb24iPT09dHlwZW9mIGUpcmV0dXJuIGUuZGlzcGxheU5hbWV8fGUubmFtZXx8bnVsbDtpZigic3RyaW5nIj09PXR5cGVvZiBlKXJldHVybiBlO3N3aXRjaChlKXtjYXNlIEw6cmV0dXJuIkZyYWdtZW50IjtjYXNlIEQ6cmV0dXJuIlBvcnRhbCI7Y2FzZSBXOnJldHVybiJQcm9maWxlciI7Y2FzZSBBOnJldHVybiJTdHJpY3RNb2RlIjtjYXNlICQ6cmV0dXJuIlN1c3BlbnNlIjtjYXNlIFE6cmV0dXJuIlN1c3BlbnNlTGlzdCJ9aWYoIm9iamVjdCI9PT10eXBlb2YgZSlzd2l0Y2goZS4kJHR5cGVvZil7Y2FzZSBWOnJldHVybiJDb250ZXh0LkNvbnN1bWVyIjtjYXNlIGo6cmV0dXJuIkNvbnRleHQuUHJvdmlkZXIiO2Nhc2UgSDp2YXIgdD1lLnJlbmRlcjtyZXR1cm4gdD10LmRpc3BsYXlOYW1lfHx0Lm5hbWV8fCIiLGUuZGlzcGxheU5hbWV8fCgiIiE9PXQ/IkZvcndhcmRSZWYoIit0KyIpIjoiRm9yd2FyZFJlZiIpO2Nhc2UgSzpyZXR1cm4gRyhlLnR5cGUpO2Nhc2UgcTppZihlPTE9PT1lLl9zdGF0dXM/ZS5fcmVzdWx0Om51bGwpcmV0dXJuIEcoZSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gSihlKXt2YXIgdD0iIjtkb3tlOnN3aXRjaChlLnRhZyl7Y2FzZSAzOmNhc2UgNDpjYXNlIDY6Y2FzZSA3OmNhc2UgMTA6Y2FzZSA5OnZhciBuPSIiO2JyZWFrIGU7ZGVmYXVsdDp2YXIgcj1lLl9kZWJ1Z093bmVyLGw9ZS5fZGVidWdTb3VyY2UsYT1HKGUudHlwZSk7bj1udWxsLHImJihuPUcoci50eXBlKSkscj1hLGE9IiIsbD9hPSIgKGF0ICIrbC5maWxlTmFtZS5yZXBsYWNlKFIsIiIpKyI6IitsLmxpbmVOdW1iZXIrIikiOm4mJihhPSIgKGNyZWF0ZWQgYnkgIituKyIpIiksbj0iXG4gICAgaW4gIisocnx8IlVua25vd24iKSthfXQrPW4sZT1lLnJldHVybn13aGlsZShlKTtyZXR1cm4gdH12YXIgWj0hKCJ1bmRlZmluZWQiPT09dHlwZW9mIHdpbmRvd3x8InVuZGVmaW5lZCI9PT10eXBlb2Ygd2luZG93LmRvY3VtZW50fHwidW5kZWZpbmVkIj09PXR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCksZWU9bnVsbCx0ZT1udWxsLG5lPW51bGw7ZnVuY3Rpb24gcmUoZSl7aWYoZT14KGUpKXtpZigiZnVuY3Rpb24iIT09dHlwZW9mIGVlKXRocm93IEVycm9yKGkoMjgwKSk7dmFyIHQ9RShlLnN0YXRlTm9kZSk7ZWUoZS5zdGF0ZU5vZGUsZS50eXBlLHQpfX1mdW5jdGlvbiBsZShlKXt0ZT9uZT9uZS5wdXNoKGUpOm5lPVtlXTp0ZT1lfWZ1bmN0aW9uIGFlKCl7aWYodGUpe3ZhciBlPXRlLHQ9bmU7aWYobmU9dGU9bnVsbCxyZShlKSx0KWZvcihlPTA7ZTx0Lmxlbmd0aDtlKyspcmUodFtlXSl9fWZ1bmN0aW9uIGllKGUsdCl7cmV0dXJuIGUodCl9ZnVuY3Rpb24gb2UoZSx0LG4scil7cmV0dXJuIGUodCxuLHIpfWZ1bmN0aW9uIHVlKCl7fXZhciBjZT1pZSxzZT0hMSxmZT0hMTtmdW5jdGlvbiBkZSgpe251bGw9PT10ZSYmbnVsbD09PW5lfHwodWUoKSxhZSgpKX1uZXcgTWFwO3ZhciBwZT0vXls6QS1aX2Etelx1MDBDMC1cdTAwRDZcdTAwRDgtXHUwMEY2XHUwMEY4LVx1MDJGRlx1MDM3MC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZEXVs6QS1aX2Etelx1MDBDMC1cdTAwRDZcdTAwRDgtXHUwMEY2XHUwMEY4LVx1MDJGRlx1MDM3MC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZEXC0uMC05XHUwMEI3XHUwMzAwLVx1MDM2Rlx1MjAzRi1cdTIwNDBdKiQvLG1lPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksaGU9e30sdmU9e307ZnVuY3Rpb24geWUoZSx0LG4scixsLGEpe3RoaXMuYWNjZXB0c0Jvb2xlYW5zPTI9PT10fHwzPT09dHx8ND09PXQsdGhpcy5hdHRyaWJ1dGVOYW1lPXIsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bCx0aGlzLm11c3RVc2VQcm9wZXJ0eT1uLHRoaXMucHJvcGVydHlOYW1lPWUsdGhpcy50eXBlPXQsdGhpcy5zYW5pdGl6ZVVSTD1hfXZhciBnZT17fTsiY2hpbGRyZW4gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgZGVmYXVsdFZhbHVlIGRlZmF1bHRDaGVja2VkIGlubmVySFRNTCBzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIHN0eWxlIi5zcGxpdCgiICIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2dlW2VdPW5ldyB5ZShlLDAsITEsZSxudWxsLCExKX0pKSxbWyJhY2NlcHRDaGFyc2V0IiwiYWNjZXB0LWNoYXJzZXQiXSxbImNsYXNzTmFtZSIsImNsYXNzIl0sWyJodG1sRm9yIiwiZm9yIl0sWyJodHRwRXF1aXYiLCJodHRwLWVxdWl2Il1dLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF07Z2VbdF09bmV3IHllKHQsMSwhMSxlWzFdLG51bGwsITEpfSkpLFsiY29udGVudEVkaXRhYmxlIiwiZHJhZ2dhYmxlIiwic3BlbGxDaGVjayIsInZhbHVlIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Z2VbZV09bmV3IHllKGUsMiwhMSxlLnRvTG93ZXJDYXNlKCksbnVsbCwhMSl9KSksWyJhdXRvUmV2ZXJzZSIsImV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQiLCJmb2N1c2FibGUiLCJwcmVzZXJ2ZUFscGhhIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Z2VbZV09bmV3IHllKGUsMiwhMSxlLG51bGwsITEpfSkpLCJhbGxvd0Z1bGxTY3JlZW4gYXN5bmMgYXV0b0ZvY3VzIGF1dG9QbGF5IGNvbnRyb2xzIGRlZmF1bHQgZGVmZXIgZGlzYWJsZWQgZGlzYWJsZVBpY3R1cmVJblBpY3R1cmUgZm9ybU5vVmFsaWRhdGUgaGlkZGVuIGxvb3Agbm9Nb2R1bGUgbm9WYWxpZGF0ZSBvcGVuIHBsYXlzSW5saW5lIHJlYWRPbmx5IHJlcXVpcmVkIHJldmVyc2VkIHNjb3BlZCBzZWFtbGVzcyBpdGVtU2NvcGUiLnNwbGl0KCIgIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Z2VbZV09bmV3IHllKGUsMywhMSxlLnRvTG93ZXJDYXNlKCksbnVsbCwhMSl9KSksWyJjaGVja2VkIiwibXVsdGlwbGUiLCJtdXRlZCIsInNlbGVjdGVkIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Z2VbZV09bmV3IHllKGUsMywhMCxlLG51bGwsITEpfSkpLFsiY2FwdHVyZSIsImRvd25sb2FkIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Z2VbZV09bmV3IHllKGUsNCwhMSxlLG51bGwsITEpfSkpLFsiY29scyIsInJvd3MiLCJzaXplIiwic3BhbiJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2dlW2VdPW5ldyB5ZShlLDYsITEsZSxudWxsLCExKX0pKSxbInJvd1NwYW4iLCJzdGFydCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2dlW2VdPW5ldyB5ZShlLDUsITEsZS50b0xvd2VyQ2FzZSgpLG51bGwsITEpfSkpO3ZhciBiZT0vW1wtOl0oW2Etel0pL2c7ZnVuY3Rpb24gd2UoZSl7cmV0dXJuIGVbMV0udG9VcHBlckNhc2UoKX1mdW5jdGlvbiBrZShlKXtzd2l0Y2godHlwZW9mIGUpe2Nhc2UiYm9vbGVhbiI6Y2FzZSJudW1iZXIiOmNhc2Uib2JqZWN0IjpjYXNlInN0cmluZyI6Y2FzZSJ1bmRlZmluZWQiOnJldHVybiBlO2RlZmF1bHQ6cmV0dXJuIiJ9fWZ1bmN0aW9uIEVlKGUsdCxuLHIpe3ZhciBsPWdlLmhhc093blByb3BlcnR5KHQpP2dlW3RdOm51bGw7KG51bGwhPT1sPzA9PT1sLnR5cGU6IXImJigyPHQubGVuZ3RoJiYoIm8iPT09dFswXXx8Ik8iPT09dFswXSkmJigibiI9PT10WzFdfHwiTiI9PT10WzFdKSkpfHwoZnVuY3Rpb24oZSx0LG4scil7aWYobnVsbD09PXR8fCJ1bmRlZmluZWQiPT09dHlwZW9mIHR8fGZ1bmN0aW9uKGUsdCxuLHIpe2lmKG51bGwhPT1uJiYwPT09bi50eXBlKXJldHVybiExO3N3aXRjaCh0eXBlb2YgdCl7Y2FzZSJmdW5jdGlvbiI6Y2FzZSJzeW1ib2wiOnJldHVybiEwO2Nhc2UiYm9vbGVhbiI6cmV0dXJuIXImJihudWxsIT09bj8hbi5hY2NlcHRzQm9vbGVhbnM6ImRhdGEtIiE9PShlPWUudG9Mb3dlckNhc2UoKS5zbGljZSgwLDUpKSYmImFyaWEtIiE9PWUpO2RlZmF1bHQ6cmV0dXJuITF9fShlLHQsbixyKSlyZXR1cm4hMDtpZihyKXJldHVybiExO2lmKG51bGwhPT1uKXN3aXRjaChuLnR5cGUpe2Nhc2UgMzpyZXR1cm4hdDtjYXNlIDQ6cmV0dXJuITE9PT10O2Nhc2UgNTpyZXR1cm4gaXNOYU4odCk7Y2FzZSA2OnJldHVybiBpc05hTih0KXx8MT50fXJldHVybiExfSh0LG4sbCxyKSYmKG49bnVsbCkscnx8bnVsbD09PWw/ZnVuY3Rpb24oZSl7cmV0dXJuISFtZS5jYWxsKHZlLGUpfHwhbWUuY2FsbChoZSxlKSYmKHBlLnRlc3QoZSk/dmVbZV09ITA6KGhlW2VdPSEwLCExKSl9KHQpJiYobnVsbD09PW4/ZS5yZW1vdmVBdHRyaWJ1dGUodCk6ZS5zZXRBdHRyaWJ1dGUodCwiIituKSk6bC5tdXN0VXNlUHJvcGVydHk/ZVtsLnByb3BlcnR5TmFtZV09bnVsbD09PW4/MyE9PWwudHlwZSYmIiI6bjoodD1sLmF0dHJpYnV0ZU5hbWUscj1sLmF0dHJpYnV0ZU5hbWVzcGFjZSxudWxsPT09bj9lLnJlbW92ZUF0dHJpYnV0ZSh0KToobj0zPT09KGw9bC50eXBlKXx8ND09PWwmJiEwPT09bj8iIjoiIituLHI/ZS5zZXRBdHRyaWJ1dGVOUyhyLHQsbik6ZS5zZXRBdHRyaWJ1dGUodCxuKSkpKX1mdW5jdGlvbiB4ZShlKXt2YXIgdD1lLnR5cGU7cmV0dXJuKGU9ZS5ub2RlTmFtZSkmJiJpbnB1dCI9PT1lLnRvTG93ZXJDYXNlKCkmJigiY2hlY2tib3giPT09dHx8InJhZGlvIj09PXQpfWZ1bmN0aW9uIFRlKGUpe2UuX3ZhbHVlVHJhY2tlcnx8KGUuX3ZhbHVlVHJhY2tlcj1mdW5jdGlvbihlKXt2YXIgdD14ZShlKT8iY2hlY2tlZCI6InZhbHVlIixuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsdCkscj0iIitlW3RdO2lmKCFlLmhhc093blByb3BlcnR5KHQpJiYidW5kZWZpbmVkIiE9PXR5cGVvZiBuJiYiZnVuY3Rpb24iPT09dHlwZW9mIG4uZ2V0JiYiZnVuY3Rpb24iPT09dHlwZW9mIG4uc2V0KXt2YXIgbD1uLmdldCxhPW4uc2V0O3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGwuY2FsbCh0aGlzKX0sc2V0OmZ1bmN0aW9uKGUpe3I9IiIrZSxhLmNhbGwodGhpcyxlKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOm4uZW51bWVyYWJsZX0pLHtnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiByfSxzZXRWYWx1ZTpmdW5jdGlvbihlKXtyPSIiK2V9LHN0b3BUcmFja2luZzpmdW5jdGlvbigpe2UuX3ZhbHVlVHJhY2tlcj1udWxsLGRlbGV0ZSBlW3RdfX19fShlKSl9ZnVuY3Rpb24gU2UoZSl7aWYoIWUpcmV0dXJuITE7dmFyIHQ9ZS5fdmFsdWVUcmFja2VyO2lmKCF0KXJldHVybiEwO3ZhciBuPXQuZ2V0VmFsdWUoKSxyPSIiO3JldHVybiBlJiYocj14ZShlKT9lLmNoZWNrZWQ/InRydWUiOiJmYWxzZSI6ZS52YWx1ZSksKGU9cikhPT1uJiYodC5zZXRWYWx1ZShlKSwhMCl9ZnVuY3Rpb24gQ2UoZSx0KXt2YXIgbj10LmNoZWNrZWQ7cmV0dXJuIGwoe30sdCx7ZGVmYXVsdENoZWNrZWQ6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDAsdmFsdWU6dm9pZCAwLGNoZWNrZWQ6bnVsbCE9bj9uOmUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsQ2hlY2tlZH0pfWZ1bmN0aW9uIF9lKGUsdCl7dmFyIG49bnVsbD09dC5kZWZhdWx0VmFsdWU/IiI6dC5kZWZhdWx0VmFsdWUscj1udWxsIT10LmNoZWNrZWQ/dC5jaGVja2VkOnQuZGVmYXVsdENoZWNrZWQ7bj1rZShudWxsIT10LnZhbHVlP3QudmFsdWU6biksZS5fd3JhcHBlclN0YXRlPXtpbml0aWFsQ2hlY2tlZDpyLGluaXRpYWxWYWx1ZTpuLGNvbnRyb2xsZWQ6ImNoZWNrYm94Ij09PXQudHlwZXx8InJhZGlvIj09PXQudHlwZT9udWxsIT10LmNoZWNrZWQ6bnVsbCE9dC52YWx1ZX19ZnVuY3Rpb24gUGUoZSx0KXtudWxsIT0odD10LmNoZWNrZWQpJiZFZShlLCJjaGVja2VkIix0LCExKX1mdW5jdGlvbiBOZShlLHQpe1BlKGUsdCk7dmFyIG49a2UodC52YWx1ZSkscj10LnR5cGU7aWYobnVsbCE9bikibnVtYmVyIj09PXI/KDA9PT1uJiYiIj09PWUudmFsdWV8fGUudmFsdWUhPW4pJiYoZS52YWx1ZT0iIituKTplLnZhbHVlIT09IiIrbiYmKGUudmFsdWU9IiIrbik7ZWxzZSBpZigic3VibWl0Ij09PXJ8fCJyZXNldCI9PT1yKXJldHVybiB2b2lkIGUucmVtb3ZlQXR0cmlidXRlKCJ2YWx1ZSIpO3QuaGFzT3duUHJvcGVydHkoInZhbHVlIik/T2UoZSx0LnR5cGUsbik6dC5oYXNPd25Qcm9wZXJ0eSgiZGVmYXVsdFZhbHVlIikmJk9lKGUsdC50eXBlLGtlKHQuZGVmYXVsdFZhbHVlKSksbnVsbD09dC5jaGVja2VkJiZudWxsIT10LmRlZmF1bHRDaGVja2VkJiYoZS5kZWZhdWx0Q2hlY2tlZD0hIXQuZGVmYXVsdENoZWNrZWQpfWZ1bmN0aW9uIHplKGUsdCxuKXtpZih0Lmhhc093blByb3BlcnR5KCJ2YWx1ZSIpfHx0Lmhhc093blByb3BlcnR5KCJkZWZhdWx0VmFsdWUiKSl7dmFyIHI9dC50eXBlO2lmKCEoInN1Ym1pdCIhPT1yJiYicmVzZXQiIT09cnx8dm9pZCAwIT09dC52YWx1ZSYmbnVsbCE9PXQudmFsdWUpKXJldHVybjt0PSIiK2UuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUsbnx8dD09PWUudmFsdWV8fChlLnZhbHVlPXQpLGUuZGVmYXVsdFZhbHVlPXR9IiIhPT0obj1lLm5hbWUpJiYoZS5uYW1lPSIiKSxlLmRlZmF1bHRDaGVja2VkPSFlLmRlZmF1bHRDaGVja2VkLGUuZGVmYXVsdENoZWNrZWQ9ISFlLl93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWQsIiIhPT1uJiYoZS5uYW1lPW4pfWZ1bmN0aW9uIE9lKGUsdCxuKXsibnVtYmVyIj09PXQmJmUub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZXx8KG51bGw9PW4/ZS5kZWZhdWx0VmFsdWU9IiIrZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZTplLmRlZmF1bHRWYWx1ZSE9PSIiK24mJihlLmRlZmF1bHRWYWx1ZT0iIituKSl9ZnVuY3Rpb24gTWUoZSx0KXtyZXR1cm4gZT1sKHtjaGlsZHJlbjp2b2lkIDB9LHQpLCh0PWZ1bmN0aW9uKGUpe3ZhciB0PSIiO3JldHVybiByLkNoaWxkcmVuLmZvckVhY2goZSwoZnVuY3Rpb24oZSl7bnVsbCE9ZSYmKHQrPWUpfSkpLHR9KHQuY2hpbGRyZW4pKSYmKGUuY2hpbGRyZW49dCksZX1mdW5jdGlvbiBJZShlLHQsbixyKXtpZihlPWUub3B0aW9ucyx0KXt0PXt9O2Zvcih2YXIgbD0wO2w8bi5sZW5ndGg7bCsrKXRbIiQiK25bbF1dPSEwO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspbD10Lmhhc093blByb3BlcnR5KCIkIitlW25dLnZhbHVlKSxlW25dLnNlbGVjdGVkIT09bCYmKGVbbl0uc2VsZWN0ZWQ9bCksbCYmciYmKGVbbl0uZGVmYXVsdFNlbGVjdGVkPSEwKX1lbHNle2ZvcihuPSIiK2tlKG4pLHQ9bnVsbCxsPTA7bDxlLmxlbmd0aDtsKyspe2lmKGVbbF0udmFsdWU9PT1uKXJldHVybiBlW2xdLnNlbGVjdGVkPSEwLHZvaWQociYmKGVbbF0uZGVmYXVsdFNlbGVjdGVkPSEwKSk7bnVsbCE9PXR8fGVbbF0uZGlzYWJsZWR8fCh0PWVbbF0pfW51bGwhPT10JiYodC5zZWxlY3RlZD0hMCl9fWZ1bmN0aW9uIFJlKGUsdCl7aWYobnVsbCE9dC5kYW5nZXJvdXNseVNldElubmVySFRNTCl0aHJvdyBFcnJvcihpKDkxKSk7cmV0dXJuIGwoe30sdCx7dmFsdWU6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDAsY2hpbGRyZW46IiIrZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZX0pfWZ1bmN0aW9uIEZlKGUsdCl7dmFyIG49dC52YWx1ZTtpZihudWxsPT1uKXtpZihuPXQuZGVmYXVsdFZhbHVlLG51bGwhPSh0PXQuY2hpbGRyZW4pKXtpZihudWxsIT1uKXRocm93IEVycm9yKGkoOTIpKTtpZihBcnJheS5pc0FycmF5KHQpKXtpZighKDE+PXQubGVuZ3RoKSl0aHJvdyBFcnJvcihpKDkzKSk7dD10WzBdfW49dH1udWxsPT1uJiYobj0iIil9ZS5fd3JhcHBlclN0YXRlPXtpbml0aWFsVmFsdWU6a2Uobil9fWZ1bmN0aW9uIFVlKGUsdCl7dmFyIG49a2UodC52YWx1ZSkscj1rZSh0LmRlZmF1bHRWYWx1ZSk7bnVsbCE9biYmKChuPSIiK24pIT09ZS52YWx1ZSYmKGUudmFsdWU9biksbnVsbD09dC5kZWZhdWx0VmFsdWUmJmUuZGVmYXVsdFZhbHVlIT09biYmKGUuZGVmYXVsdFZhbHVlPW4pKSxudWxsIT1yJiYoZS5kZWZhdWx0VmFsdWU9IiIrcil9ZnVuY3Rpb24gRGUoZSl7dmFyIHQ9ZS50ZXh0Q29udGVudDt0PT09ZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSYmIiIhPT10JiZudWxsIT09dCYmKGUudmFsdWU9dCl9ImFjY2VudC1oZWlnaHQgYWxpZ25tZW50LWJhc2VsaW5lIGFyYWJpYy1mb3JtIGJhc2VsaW5lLXNoaWZ0IGNhcC1oZWlnaHQgY2xpcC1wYXRoIGNsaXAtcnVsZSBjb2xvci1pbnRlcnBvbGF0aW9uIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyBjb2xvci1wcm9maWxlIGNvbG9yLXJlbmRlcmluZyBkb21pbmFudC1iYXNlbGluZSBlbmFibGUtYmFja2dyb3VuZCBmaWxsLW9wYWNpdHkgZmlsbC1ydWxlIGZsb29kLWNvbG9yIGZsb29kLW9wYWNpdHkgZm9udC1mYW1pbHkgZm9udC1zaXplIGZvbnQtc2l6ZS1hZGp1c3QgZm9udC1zdHJldGNoIGZvbnQtc3R5bGUgZm9udC12YXJpYW50IGZvbnQtd2VpZ2h0IGdseXBoLW5hbWUgZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCBnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCBob3Jpei1hZHYteCBob3Jpei1vcmlnaW4teCBpbWFnZS1yZW5kZXJpbmcgbGV0dGVyLXNwYWNpbmcgbGlnaHRpbmctY29sb3IgbWFya2VyLWVuZCBtYXJrZXItbWlkIG1hcmtlci1zdGFydCBvdmVybGluZS1wb3NpdGlvbiBvdmVybGluZS10aGlja25lc3MgcGFpbnQtb3JkZXIgcGFub3NlLTEgcG9pbnRlci1ldmVudHMgcmVuZGVyaW5nLWludGVudCBzaGFwZS1yZW5kZXJpbmcgc3RvcC1jb2xvciBzdG9wLW9wYWNpdHkgc3RyaWtldGhyb3VnaC1wb3NpdGlvbiBzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyBzdHJva2UtZGFzaGFycmF5IHN0cm9rZS1kYXNob2Zmc2V0IHN0cm9rZS1saW5lY2FwIHN0cm9rZS1saW5lam9pbiBzdHJva2UtbWl0ZXJsaW1pdCBzdHJva2Utb3BhY2l0eSBzdHJva2Utd2lkdGggdGV4dC1hbmNob3IgdGV4dC1kZWNvcmF0aW9uIHRleHQtcmVuZGVyaW5nIHVuZGVybGluZS1wb3NpdGlvbiB1bmRlcmxpbmUtdGhpY2tuZXNzIHVuaWNvZGUtYmlkaSB1bmljb2RlLXJhbmdlIHVuaXRzLXBlci1lbSB2LWFscGhhYmV0aWMgdi1oYW5naW5nIHYtaWRlb2dyYXBoaWMgdi1tYXRoZW1hdGljYWwgdmVjdG9yLWVmZmVjdCB2ZXJ0LWFkdi15IHZlcnQtb3JpZ2luLXggdmVydC1vcmlnaW4teSB3b3JkLXNwYWNpbmcgd3JpdGluZy1tb2RlIHhtbG5zOnhsaW5rIHgtaGVpZ2h0Ii5zcGxpdCgiICIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShiZSx3ZSk7Z2VbdF09bmV3IHllKHQsMSwhMSxlLG51bGwsITEpfSkpLCJ4bGluazphY3R1YXRlIHhsaW5rOmFyY3JvbGUgeGxpbms6cm9sZSB4bGluazpzaG93IHhsaW5rOnRpdGxlIHhsaW5rOnR5cGUiLnNwbGl0KCIgIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKGJlLHdlKTtnZVt0XT1uZXcgeWUodCwxLCExLGUsImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLCExKX0pKSxbInhtbDpiYXNlIiwieG1sOmxhbmciLCJ4bWw6c3BhY2UiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UoYmUsd2UpO2dlW3RdPW5ldyB5ZSh0LDEsITEsZSwiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlIiwhMSl9KSksWyJ0YWJJbmRleCIsImNyb3NzT3JpZ2luIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Z2VbZV09bmV3IHllKGUsMSwhMSxlLnRvTG93ZXJDYXNlKCksbnVsbCwhMSl9KSksZ2UueGxpbmtIcmVmPW5ldyB5ZSgieGxpbmtIcmVmIiwxLCExLCJ4bGluazpocmVmIiwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsITApLFsic3JjIiwiaHJlZiIsImFjdGlvbiIsImZvcm1BY3Rpb24iXS5mb3JFYWNoKChmdW5jdGlvbihlKXtnZVtlXT1uZXcgeWUoZSwxLCExLGUudG9Mb3dlckNhc2UoKSxudWxsLCEwKX0pKTt2YXIgTGU9e2h0bWw6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLG1hdGhtbDoiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCIsc3ZnOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyJ9O2Z1bmN0aW9uIEFlKGUpe3N3aXRjaChlKXtjYXNlInN2ZyI6cmV0dXJuImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjtjYXNlIm1hdGgiOnJldHVybiJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MIjtkZWZhdWx0OnJldHVybiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIn19ZnVuY3Rpb24gV2UoZSx0KXtyZXR1cm4gbnVsbD09ZXx8Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPT09ZT9BZSh0KToiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPT09ZSYmImZvcmVpZ25PYmplY3QiPT09dD8iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI6ZX12YXIgamUsVmU9ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCIhPT10eXBlb2YgTVNBcHAmJk1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uP2Z1bmN0aW9uKHQsbixyLGwpe01TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKChmdW5jdGlvbigpe3JldHVybiBlKHQsbil9KSl9OmV9KChmdW5jdGlvbihlLHQpe2lmKGUubmFtZXNwYWNlVVJJIT09TGUuc3ZnfHwiaW5uZXJIVE1MImluIGUpZS5pbm5lckhUTUw9dDtlbHNle2ZvcigoamU9amV8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5pbm5lckhUTUw9Ijxzdmc+Iit0LnZhbHVlT2YoKS50b1N0cmluZygpKyI8L3N2Zz4iLHQ9amUuZmlyc3RDaGlsZDtlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTtmb3IoO3QuZmlyc3RDaGlsZDspZS5hcHBlbmRDaGlsZCh0LmZpcnN0Q2hpbGQpfX0pKTtmdW5jdGlvbiBCZShlLHQpe2lmKHQpe3ZhciBuPWUuZmlyc3RDaGlsZDtpZihuJiZuPT09ZS5sYXN0Q2hpbGQmJjM9PT1uLm5vZGVUeXBlKXJldHVybiB2b2lkKG4ubm9kZVZhbHVlPXQpfWUudGV4dENvbnRlbnQ9dH1mdW5jdGlvbiBIZShlLHQpe3ZhciBuPXt9O3JldHVybiBuW2UudG9Mb3dlckNhc2UoKV09dC50b0xvd2VyQ2FzZSgpLG5bIldlYmtpdCIrZV09IndlYmtpdCIrdCxuWyJNb3oiK2VdPSJtb3oiK3Qsbn12YXIgJGU9e2FuaW1hdGlvbmVuZDpIZSgiQW5pbWF0aW9uIiwiQW5pbWF0aW9uRW5kIiksYW5pbWF0aW9uaXRlcmF0aW9uOkhlKCJBbmltYXRpb24iLCJBbmltYXRpb25JdGVyYXRpb24iKSxhbmltYXRpb25zdGFydDpIZSgiQW5pbWF0aW9uIiwiQW5pbWF0aW9uU3RhcnQiKSx0cmFuc2l0aW9uZW5kOkhlKCJUcmFuc2l0aW9uIiwiVHJhbnNpdGlvbkVuZCIpfSxRZT17fSxLZT17fTtmdW5jdGlvbiBxZShlKXtpZihRZVtlXSlyZXR1cm4gUWVbZV07aWYoISRlW2VdKXJldHVybiBlO3ZhciB0LG49JGVbZV07Zm9yKHQgaW4gbilpZihuLmhhc093blByb3BlcnR5KHQpJiZ0IGluIEtlKXJldHVybiBRZVtlXT1uW3RdO3JldHVybiBlfVomJihLZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZSwiQW5pbWF0aW9uRXZlbnQiaW4gd2luZG93fHwoZGVsZXRlICRlLmFuaW1hdGlvbmVuZC5hbmltYXRpb24sZGVsZXRlICRlLmFuaW1hdGlvbml0ZXJhdGlvbi5hbmltYXRpb24sZGVsZXRlICRlLmFuaW1hdGlvbnN0YXJ0LmFuaW1hdGlvbiksIlRyYW5zaXRpb25FdmVudCJpbiB3aW5kb3d8fGRlbGV0ZSAkZS50cmFuc2l0aW9uZW5kLnRyYW5zaXRpb24pO3ZhciBZZT1xZSgiYW5pbWF0aW9uZW5kIiksWGU9cWUoImFuaW1hdGlvbml0ZXJhdGlvbiIpLEdlPXFlKCJhbmltYXRpb25zdGFydCIpLEplPXFlKCJ0cmFuc2l0aW9uZW5kIiksWmU9ImFib3J0IGNhbnBsYXkgY2FucGxheXRocm91Z2ggZHVyYXRpb25jaGFuZ2UgZW1wdGllZCBlbmNyeXB0ZWQgZW5kZWQgZXJyb3IgbG9hZGVkZGF0YSBsb2FkZWRtZXRhZGF0YSBsb2Fkc3RhcnQgcGF1c2UgcGxheSBwbGF5aW5nIHByb2dyZXNzIHJhdGVjaGFuZ2Ugc2Vla2VkIHNlZWtpbmcgc3RhbGxlZCBzdXNwZW5kIHRpbWV1cGRhdGUgdm9sdW1lY2hhbmdlIHdhaXRpbmciLnNwbGl0KCIgIik7ZnVuY3Rpb24gZXQoZSl7dmFyIHQ9ZSxuPWU7aWYoZS5hbHRlcm5hdGUpZm9yKDt0LnJldHVybjspdD10LnJldHVybjtlbHNle2U9dDtkb3swIT09KDEwMjYmKHQ9ZSkuZWZmZWN0VGFnKSYmKG49dC5yZXR1cm4pLGU9dC5yZXR1cm59d2hpbGUoZSl9cmV0dXJuIDM9PT10LnRhZz9uOm51bGx9ZnVuY3Rpb24gdHQoZSl7aWYoMTM9PT1lLnRhZyl7dmFyIHQ9ZS5tZW1vaXplZFN0YXRlO2lmKG51bGw9PT10JiYobnVsbCE9PShlPWUuYWx0ZXJuYXRlKSYmKHQ9ZS5tZW1vaXplZFN0YXRlKSksbnVsbCE9PXQpcmV0dXJuIHQuZGVoeWRyYXRlZH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBudChlKXtpZihldChlKSE9PWUpdGhyb3cgRXJyb3IoaSgxODgpKX1mdW5jdGlvbiBydChlKXtpZighKGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hbHRlcm5hdGU7aWYoIXQpe2lmKG51bGw9PT0odD1ldChlKSkpdGhyb3cgRXJyb3IoaSgxODgpKTtyZXR1cm4gdCE9PWU/bnVsbDplfWZvcih2YXIgbj1lLHI9dDs7KXt2YXIgbD1uLnJldHVybjtpZihudWxsPT09bClicmVhazt2YXIgYT1sLmFsdGVybmF0ZTtpZihudWxsPT09YSl7aWYobnVsbCE9PShyPWwucmV0dXJuKSl7bj1yO2NvbnRpbnVlfWJyZWFrfWlmKGwuY2hpbGQ9PT1hLmNoaWxkKXtmb3IoYT1sLmNoaWxkO2E7KXtpZihhPT09bilyZXR1cm4gbnQobCksZTtpZihhPT09cilyZXR1cm4gbnQobCksdDthPWEuc2libGluZ310aHJvdyBFcnJvcihpKDE4OCkpfWlmKG4ucmV0dXJuIT09ci5yZXR1cm4pbj1sLHI9YTtlbHNle2Zvcih2YXIgbz0hMSx1PWwuY2hpbGQ7dTspe2lmKHU9PT1uKXtvPSEwLG49bCxyPWE7YnJlYWt9aWYodT09PXIpe289ITAscj1sLG49YTticmVha311PXUuc2libGluZ31pZighbyl7Zm9yKHU9YS5jaGlsZDt1Oyl7aWYodT09PW4pe289ITAsbj1hLHI9bDticmVha31pZih1PT09cil7bz0hMCxyPWEsbj1sO2JyZWFrfXU9dS5zaWJsaW5nfWlmKCFvKXRocm93IEVycm9yKGkoMTg5KSl9fWlmKG4uYWx0ZXJuYXRlIT09cil0aHJvdyBFcnJvcihpKDE5MCkpfWlmKDMhPT1uLnRhZyl0aHJvdyBFcnJvcihpKDE4OCkpO3JldHVybiBuLnN0YXRlTm9kZS5jdXJyZW50PT09bj9lOnR9KGUpKSlyZXR1cm4gbnVsbDtmb3IodmFyIHQ9ZTs7KXtpZig1PT09dC50YWd8fDY9PT10LnRhZylyZXR1cm4gdDtpZih0LmNoaWxkKXQuY2hpbGQucmV0dXJuPXQsdD10LmNoaWxkO2Vsc2V7aWYodD09PWUpYnJlYWs7Zm9yKDshdC5zaWJsaW5nOyl7aWYoIXQucmV0dXJufHx0LnJldHVybj09PWUpcmV0dXJuIG51bGw7dD10LnJldHVybn10LnNpYmxpbmcucmV0dXJuPXQucmV0dXJuLHQ9dC5zaWJsaW5nfX1yZXR1cm4gbnVsbH12YXIgbHQsYXQsaXQsb3Q9ITEsdXQ9W10sY3Q9bnVsbCxzdD1udWxsLGZ0PW51bGwsZHQ9bmV3IE1hcCxwdD1uZXcgTWFwLG10PVtdLGh0PSJtb3VzZWRvd24gbW91c2V1cCB0b3VjaGNhbmNlbCB0b3VjaGVuZCB0b3VjaHN0YXJ0IGF1eGNsaWNrIGRibGNsaWNrIHBvaW50ZXJjYW5jZWwgcG9pbnRlcmRvd24gcG9pbnRlcnVwIGRyYWdlbmQgZHJhZ3N0YXJ0IGRyb3AgY29tcG9zaXRpb25lbmQgY29tcG9zaXRpb25zdGFydCBrZXlkb3duIGtleXByZXNzIGtleXVwIGlucHV0IHRleHRJbnB1dCBjbG9zZSBjYW5jZWwgY29weSBjdXQgcGFzdGUgY2xpY2sgY2hhbmdlIGNvbnRleHRtZW51IHJlc2V0IHN1Ym1pdCIuc3BsaXQoIiAiKSx2dD0iZm9jdXMgYmx1ciBkcmFnZW50ZXIgZHJhZ2xlYXZlIG1vdXNlb3ZlciBtb3VzZW91dCBwb2ludGVyb3ZlciBwb2ludGVyb3V0IGdvdHBvaW50ZXJjYXB0dXJlIGxvc3Rwb2ludGVyY2FwdHVyZSIuc3BsaXQoIiAiKTtmdW5jdGlvbiB5dChlLHQsbixyKXtyZXR1cm57YmxvY2tlZE9uOmUsdG9wTGV2ZWxUeXBlOnQsZXZlbnRTeXN0ZW1GbGFnczozMnxuLG5hdGl2ZUV2ZW50OnJ9fWZ1bmN0aW9uIGd0KGUsdCl7c3dpdGNoKGUpe2Nhc2UiZm9jdXMiOmNhc2UiYmx1ciI6Y3Q9bnVsbDticmVhaztjYXNlImRyYWdlbnRlciI6Y2FzZSJkcmFnbGVhdmUiOnN0PW51bGw7YnJlYWs7Y2FzZSJtb3VzZW92ZXIiOmNhc2UibW91c2VvdXQiOmZ0PW51bGw7YnJlYWs7Y2FzZSJwb2ludGVyb3ZlciI6Y2FzZSJwb2ludGVyb3V0IjpkdC5kZWxldGUodC5wb2ludGVySWQpO2JyZWFrO2Nhc2UiZ290cG9pbnRlcmNhcHR1cmUiOmNhc2UibG9zdHBvaW50ZXJjYXB0dXJlIjpwdC5kZWxldGUodC5wb2ludGVySWQpfX1mdW5jdGlvbiBidChlLHQsbixyLGwpe3JldHVybiBudWxsPT09ZXx8ZS5uYXRpdmVFdmVudCE9PWw/KGU9eXQodCxuLHIsbCksbnVsbCE9PXQmJihudWxsIT09KHQ9cHIodCkpJiZhdCh0KSksZSk6KGUuZXZlbnRTeXN0ZW1GbGFnc3w9cixlKX1mdW5jdGlvbiB3dChlKXt2YXIgdD1kcihlLnRhcmdldCk7aWYobnVsbCE9PXQpe3ZhciBuPWV0KHQpO2lmKG51bGwhPT1uKWlmKDEzPT09KHQ9bi50YWcpKXtpZihudWxsIT09KHQ9dHQobikpKXJldHVybiBlLmJsb2NrZWRPbj10LHZvaWQgYS51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHkoZS5wcmlvcml0eSwoZnVuY3Rpb24oKXtpdChuKX0pKX1lbHNlIGlmKDM9PT10JiZuLnN0YXRlTm9kZS5oeWRyYXRlKXJldHVybiB2b2lkKGUuYmxvY2tlZE9uPTM9PT1uLnRhZz9uLnN0YXRlTm9kZS5jb250YWluZXJJbmZvOm51bGwpfWUuYmxvY2tlZE9uPW51bGx9ZnVuY3Rpb24ga3QoZSl7aWYobnVsbCE9PWUuYmxvY2tlZE9uKXJldHVybiExO3ZhciB0PU9uKGUudG9wTGV2ZWxUeXBlLGUuZXZlbnRTeXN0ZW1GbGFncyxlLm5hdGl2ZUV2ZW50KTtpZihudWxsIT09dCl7dmFyIG49cHIodCk7cmV0dXJuIG51bGwhPT1uJiZhdChuKSxlLmJsb2NrZWRPbj10LCExfXJldHVybiEwfWZ1bmN0aW9uIEV0KGUsdCxuKXtrdChlKSYmbi5kZWxldGUodCl9ZnVuY3Rpb24geHQoKXtmb3Iob3Q9ITE7MDx1dC5sZW5ndGg7KXt2YXIgZT11dFswXTtpZihudWxsIT09ZS5ibG9ja2VkT24pe251bGwhPT0oZT1wcihlLmJsb2NrZWRPbikpJiZsdChlKTticmVha312YXIgdD1PbihlLnRvcExldmVsVHlwZSxlLmV2ZW50U3lzdGVtRmxhZ3MsZS5uYXRpdmVFdmVudCk7bnVsbCE9PXQ/ZS5ibG9ja2VkT249dDp1dC5zaGlmdCgpfW51bGwhPT1jdCYma3QoY3QpJiYoY3Q9bnVsbCksbnVsbCE9PXN0JiZrdChzdCkmJihzdD1udWxsKSxudWxsIT09ZnQmJmt0KGZ0KSYmKGZ0PW51bGwpLGR0LmZvckVhY2goRXQpLHB0LmZvckVhY2goRXQpfWZ1bmN0aW9uIFR0KGUsdCl7ZS5ibG9ja2VkT249PT10JiYoZS5ibG9ja2VkT249bnVsbCxvdHx8KG90PSEwLGEudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayhhLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LHh0KSkpfWZ1bmN0aW9uIFN0KGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIFR0KHQsZSl9aWYoMDx1dC5sZW5ndGgpe1R0KHV0WzBdLGUpO2Zvcih2YXIgbj0xO248dXQubGVuZ3RoO24rKyl7dmFyIHI9dXRbbl07ci5ibG9ja2VkT249PT1lJiYoci5ibG9ja2VkT249bnVsbCl9fWZvcihudWxsIT09Y3QmJlR0KGN0LGUpLG51bGwhPT1zdCYmVHQoc3QsZSksbnVsbCE9PWZ0JiZUdChmdCxlKSxkdC5mb3JFYWNoKHQpLHB0LmZvckVhY2godCksbj0wO248bXQubGVuZ3RoO24rKykocj1tdFtuXSkuYmxvY2tlZE9uPT09ZSYmKHIuYmxvY2tlZE9uPW51bGwpO2Zvcig7MDxtdC5sZW5ndGgmJm51bGw9PT0obj1tdFswXSkuYmxvY2tlZE9uOyl3dChuKSxudWxsPT09bi5ibG9ja2VkT24mJm10LnNoaWZ0KCl9ZnVuY3Rpb24gQ3QoZSl7cmV0dXJuKGU9ZS50YXJnZXR8fGUuc3JjRWxlbWVudHx8d2luZG93KS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCYmKGU9ZS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCksMz09PWUubm9kZVR5cGU/ZS5wYXJlbnROb2RlOmV9ZnVuY3Rpb24gX3QoZSl7ZG97ZT1lLnJldHVybn13aGlsZShlJiY1IT09ZS50YWcpO3JldHVybiBlfHxudWxsfWZ1bmN0aW9uIFB0KGUsdCxuKXsodD1NKGUsbi5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lc1t0XSkpJiYobi5fZGlzcGF0Y2hMaXN0ZW5lcnM9QyhuLl9kaXNwYXRjaExpc3RlbmVycyx0KSxuLl9kaXNwYXRjaEluc3RhbmNlcz1DKG4uX2Rpc3BhdGNoSW5zdGFuY2VzLGUpKX1mdW5jdGlvbiBOdChlKXtpZihlJiZlLmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKXtmb3IodmFyIHQ9ZS5fdGFyZ2V0SW5zdCxuPVtdO3Q7KW4ucHVzaCh0KSx0PV90KHQpO2Zvcih0PW4ubGVuZ3RoOzA8dC0tOylQdChuW3RdLCJjYXB0dXJlZCIsZSk7Zm9yKHQ9MDt0PG4ubGVuZ3RoO3QrKylQdChuW3RdLCJidWJibGVkIixlKX19ZnVuY3Rpb24genQoZSx0LG4pe2UmJm4mJm4uZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSYmKHQ9TShlLG4uZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkpJiYobi5fZGlzcGF0Y2hMaXN0ZW5lcnM9QyhuLl9kaXNwYXRjaExpc3RlbmVycyx0KSxuLl9kaXNwYXRjaEluc3RhbmNlcz1DKG4uX2Rpc3BhdGNoSW5zdGFuY2VzLGUpKX1mdW5jdGlvbiBPdChlKXtlJiZlLmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUmJnp0KGUuX3RhcmdldEluc3QsbnVsbCxlKX1mdW5jdGlvbiBNdChlKXtfKGUsTnQpfWZ1bmN0aW9uIEl0KCl7cmV0dXJuITB9ZnVuY3Rpb24gUnQoKXtyZXR1cm4hMX1mdW5jdGlvbiBGdChlLHQsbixyKXtmb3IodmFyIGwgaW4gdGhpcy5kaXNwYXRjaENvbmZpZz1lLHRoaXMuX3RhcmdldEluc3Q9dCx0aGlzLm5hdGl2ZUV2ZW50PW4sZT10aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZSllLmhhc093blByb3BlcnR5KGwpJiYoKHQ9ZVtsXSk/dGhpc1tsXT10KG4pOiJ0YXJnZXQiPT09bD90aGlzLnRhcmdldD1yOnRoaXNbbF09bltsXSk7cmV0dXJuIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPShudWxsIT1uLmRlZmF1bHRQcmV2ZW50ZWQ/bi5kZWZhdWx0UHJldmVudGVkOiExPT09bi5yZXR1cm5WYWx1ZSk/SXQ6UnQsdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1SdCx0aGlzfWZ1bmN0aW9uIFV0KGUsdCxuLHIpe2lmKHRoaXMuZXZlbnRQb29sLmxlbmd0aCl7dmFyIGw9dGhpcy5ldmVudFBvb2wucG9wKCk7cmV0dXJuIHRoaXMuY2FsbChsLGUsdCxuLHIpLGx9cmV0dXJuIG5ldyB0aGlzKGUsdCxuLHIpfWZ1bmN0aW9uIER0KGUpe2lmKCEoZSBpbnN0YW5jZW9mIHRoaXMpKXRocm93IEVycm9yKGkoMjc5KSk7ZS5kZXN0cnVjdG9yKCksMTA+dGhpcy5ldmVudFBvb2wubGVuZ3RoJiZ0aGlzLmV2ZW50UG9vbC5wdXNoKGUpfWZ1bmN0aW9uIEx0KGUpe2UuZXZlbnRQb29sPVtdLGUuZ2V0UG9vbGVkPVV0LGUucmVsZWFzZT1EdH1sKEZ0LnByb3RvdHlwZSx7cHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITA7dmFyIGU9dGhpcy5uYXRpdmVFdmVudDtlJiYoZS5wcmV2ZW50RGVmYXVsdD9lLnByZXZlbnREZWZhdWx0KCk6InVua25vd24iIT09dHlwZW9mIGUucmV0dXJuVmFsdWUmJihlLnJldHVyblZhbHVlPSExKSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1JdCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMubmF0aXZlRXZlbnQ7ZSYmKGUuc3RvcFByb3BhZ2F0aW9uP2Uuc3RvcFByb3BhZ2F0aW9uKCk6InVua25vd24iIT09dHlwZW9mIGUuY2FuY2VsQnViYmxlJiYoZS5jYW5jZWxCdWJibGU9ITApLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9SXQpfSxwZXJzaXN0OmZ1bmN0aW9uKCl7dGhpcy5pc1BlcnNpc3RlbnQ9SXR9LGlzUGVyc2lzdGVudDpSdCxkZXN0cnVjdG9yOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtmb3IoZSBpbiB0KXRoaXNbZV09bnVsbDt0aGlzLm5hdGl2ZUV2ZW50PXRoaXMuX3RhcmdldEluc3Q9dGhpcy5kaXNwYXRjaENvbmZpZz1udWxsLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9UnQsdGhpcy5fZGlzcGF0Y2hJbnN0YW5jZXM9dGhpcy5fZGlzcGF0Y2hMaXN0ZW5lcnM9bnVsbH19KSxGdC5JbnRlcmZhY2U9e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxjdXJyZW50VGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGV2ZW50UGhhc2U6bnVsbCxidWJibGVzOm51bGwsY2FuY2VsYWJsZTpudWxsLHRpbWVTdGFtcDpmdW5jdGlvbihlKXtyZXR1cm4gZS50aW1lU3RhbXB8fERhdGUubm93KCl9LGRlZmF1bHRQcmV2ZW50ZWQ6bnVsbCxpc1RydXN0ZWQ6bnVsbH0sRnQuZXh0ZW5kPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt9ZnVuY3Rpb24gbigpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgcj10aGlzO3QucHJvdG90eXBlPXIucHJvdG90eXBlO3ZhciBhPW5ldyB0O3JldHVybiBsKGEsbi5wcm90b3R5cGUpLG4ucHJvdG90eXBlPWEsbi5wcm90b3R5cGUuY29uc3RydWN0b3I9bixuLkludGVyZmFjZT1sKHt9LHIuSW50ZXJmYWNlLGUpLG4uZXh0ZW5kPXIuZXh0ZW5kLEx0KG4pLG59LEx0KEZ0KTt2YXIgQXQ9RnQuZXh0ZW5kKHthbmltYXRpb25OYW1lOm51bGwsZWxhcHNlZFRpbWU6bnVsbCxwc2V1ZG9FbGVtZW50Om51bGx9KSxXdD1GdC5leHRlbmQoe2NsaXBib2FyZERhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuImNsaXBib2FyZERhdGEiaW4gZT9lLmNsaXBib2FyZERhdGE6d2luZG93LmNsaXBib2FyZERhdGF9fSksanQ9RnQuZXh0ZW5kKHt2aWV3Om51bGwsZGV0YWlsOm51bGx9KSxWdD1qdC5leHRlbmQoe3JlbGF0ZWRUYXJnZXQ6bnVsbH0pO2Z1bmN0aW9uIEJ0KGUpe3ZhciB0PWUua2V5Q29kZTtyZXR1cm4iY2hhckNvZGUiaW4gZT8wPT09KGU9ZS5jaGFyQ29kZSkmJjEzPT09dCYmKGU9MTMpOmU9dCwxMD09PWUmJihlPTEzKSwzMjw9ZXx8MTM9PT1lP2U6MH12YXIgSHQ9e0VzYzoiRXNjYXBlIixTcGFjZWJhcjoiICIsTGVmdDoiQXJyb3dMZWZ0IixVcDoiQXJyb3dVcCIsUmlnaHQ6IkFycm93UmlnaHQiLERvd246IkFycm93RG93biIsRGVsOiJEZWxldGUiLFdpbjoiT1MiLE1lbnU6IkNvbnRleHRNZW51IixBcHBzOiJDb250ZXh0TWVudSIsU2Nyb2xsOiJTY3JvbGxMb2NrIixNb3pQcmludGFibGVLZXk6IlVuaWRlbnRpZmllZCJ9LCR0PXs4OiJCYWNrc3BhY2UiLDk6IlRhYiIsMTI6IkNsZWFyIiwxMzoiRW50ZXIiLDE2OiJTaGlmdCIsMTc6IkNvbnRyb2wiLDE4OiJBbHQiLDE5OiJQYXVzZSIsMjA6IkNhcHNMb2NrIiwyNzoiRXNjYXBlIiwzMjoiICIsMzM6IlBhZ2VVcCIsMzQ6IlBhZ2VEb3duIiwzNToiRW5kIiwzNjoiSG9tZSIsMzc6IkFycm93TGVmdCIsMzg6IkFycm93VXAiLDM5OiJBcnJvd1JpZ2h0Iiw0MDoiQXJyb3dEb3duIiw0NToiSW5zZXJ0Iiw0NjoiRGVsZXRlIiwxMTI6IkYxIiwxMTM6IkYyIiwxMTQ6IkYzIiwxMTU6IkY0IiwxMTY6IkY1IiwxMTc6IkY2IiwxMTg6IkY3IiwxMTk6IkY4IiwxMjA6IkY5IiwxMjE6IkYxMCIsMTIyOiJGMTEiLDEyMzoiRjEyIiwxNDQ6Ik51bUxvY2siLDE0NToiU2Nyb2xsTG9jayIsMjI0OiJNZXRhIn0sUXQ9e0FsdDoiYWx0S2V5IixDb250cm9sOiJjdHJsS2V5IixNZXRhOiJtZXRhS2V5IixTaGlmdDoic2hpZnRLZXkifTtmdW5jdGlvbiBLdChlKXt2YXIgdD10aGlzLm5hdGl2ZUV2ZW50O3JldHVybiB0LmdldE1vZGlmaWVyU3RhdGU/dC5nZXRNb2RpZmllclN0YXRlKGUpOiEhKGU9UXRbZV0pJiYhIXRbZV19ZnVuY3Rpb24gcXQoKXtyZXR1cm4gS3R9Zm9yKHZhciBZdD1qdC5leHRlbmQoe2tleTpmdW5jdGlvbihlKXtpZihlLmtleSl7dmFyIHQ9SHRbZS5rZXldfHxlLmtleTtpZigiVW5pZGVudGlmaWVkIiE9PXQpcmV0dXJuIHR9cmV0dXJuImtleXByZXNzIj09PWUudHlwZT8xMz09PShlPUJ0KGUpKT8iRW50ZXIiOlN0cmluZy5mcm9tQ2hhckNvZGUoZSk6ImtleWRvd24iPT09ZS50eXBlfHwia2V5dXAiPT09ZS50eXBlPyR0W2Uua2V5Q29kZV18fCJVbmlkZW50aWZpZWQiOiIifSxsb2NhdGlvbjpudWxsLGN0cmxLZXk6bnVsbCxzaGlmdEtleTpudWxsLGFsdEtleTpudWxsLG1ldGFLZXk6bnVsbCxyZXBlYXQ6bnVsbCxsb2NhbGU6bnVsbCxnZXRNb2RpZmllclN0YXRlOnF0LGNoYXJDb2RlOmZ1bmN0aW9uKGUpe3JldHVybiJrZXlwcmVzcyI9PT1lLnR5cGU/QnQoZSk6MH0sa2V5Q29kZTpmdW5jdGlvbihlKXtyZXR1cm4ia2V5ZG93biI9PT1lLnR5cGV8fCJrZXl1cCI9PT1lLnR5cGU/ZS5rZXlDb2RlOjB9LHdoaWNoOmZ1bmN0aW9uKGUpe3JldHVybiJrZXlwcmVzcyI9PT1lLnR5cGU/QnQoZSk6ImtleWRvd24iPT09ZS50eXBlfHwia2V5dXAiPT09ZS50eXBlP2Uua2V5Q29kZTowfX0pLFh0PTAsR3Q9MCxKdD0hMSxadD0hMSxlbj1qdC5leHRlbmQoe3NjcmVlblg6bnVsbCxzY3JlZW5ZOm51bGwsY2xpZW50WDpudWxsLGNsaWVudFk6bnVsbCxwYWdlWDpudWxsLHBhZ2VZOm51bGwsY3RybEtleTpudWxsLHNoaWZ0S2V5Om51bGwsYWx0S2V5Om51bGwsbWV0YUtleTpudWxsLGdldE1vZGlmaWVyU3RhdGU6cXQsYnV0dG9uOm51bGwsYnV0dG9uczpudWxsLHJlbGF0ZWRUYXJnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVsYXRlZFRhcmdldHx8KGUuZnJvbUVsZW1lbnQ9PT1lLnNyY0VsZW1lbnQ/ZS50b0VsZW1lbnQ6ZS5mcm9tRWxlbWVudCl9LG1vdmVtZW50WDpmdW5jdGlvbihlKXtpZigibW92ZW1lbnRYImluIGUpcmV0dXJuIGUubW92ZW1lbnRYO3ZhciB0PVh0O3JldHVybiBYdD1lLnNjcmVlblgsSnQ/Im1vdXNlbW92ZSI9PT1lLnR5cGU/ZS5zY3JlZW5YLXQ6MDooSnQ9ITAsMCl9LG1vdmVtZW50WTpmdW5jdGlvbihlKXtpZigibW92ZW1lbnRZImluIGUpcmV0dXJuIGUubW92ZW1lbnRZO3ZhciB0PUd0O3JldHVybiBHdD1lLnNjcmVlblksWnQ/Im1vdXNlbW92ZSI9PT1lLnR5cGU/ZS5zY3JlZW5ZLXQ6MDooWnQ9ITAsMCl9fSksdG49ZW4uZXh0ZW5kKHtwb2ludGVySWQ6bnVsbCx3aWR0aDpudWxsLGhlaWdodDpudWxsLHByZXNzdXJlOm51bGwsdGFuZ2VudGlhbFByZXNzdXJlOm51bGwsdGlsdFg6bnVsbCx0aWx0WTpudWxsLHR3aXN0Om51bGwscG9pbnRlclR5cGU6bnVsbCxpc1ByaW1hcnk6bnVsbH0pLG5uPWVuLmV4dGVuZCh7ZGF0YVRyYW5zZmVyOm51bGx9KSxybj1qdC5leHRlbmQoe3RvdWNoZXM6bnVsbCx0YXJnZXRUb3VjaGVzOm51bGwsY2hhbmdlZFRvdWNoZXM6bnVsbCxhbHRLZXk6bnVsbCxtZXRhS2V5Om51bGwsY3RybEtleTpudWxsLHNoaWZ0S2V5Om51bGwsZ2V0TW9kaWZpZXJTdGF0ZTpxdH0pLGxuPUZ0LmV4dGVuZCh7cHJvcGVydHlOYW1lOm51bGwsZWxhcHNlZFRpbWU6bnVsbCxwc2V1ZG9FbGVtZW50Om51bGx9KSxhbj1lbi5leHRlbmQoe2RlbHRhWDpmdW5jdGlvbihlKXtyZXR1cm4iZGVsdGFYImluIGU/ZS5kZWx0YVg6IndoZWVsRGVsdGFYImluIGU/LWUud2hlZWxEZWx0YVg6MH0sZGVsdGFZOmZ1bmN0aW9uKGUpe3JldHVybiJkZWx0YVkiaW4gZT9lLmRlbHRhWToid2hlZWxEZWx0YVkiaW4gZT8tZS53aGVlbERlbHRhWToid2hlZWxEZWx0YSJpbiBlPy1lLndoZWVsRGVsdGE6MH0sZGVsdGFaOm51bGwsZGVsdGFNb2RlOm51bGx9KSxvbj1bWyJibHVyIiwiYmx1ciIsMF0sWyJjYW5jZWwiLCJjYW5jZWwiLDBdLFsiY2xpY2siLCJjbGljayIsMF0sWyJjbG9zZSIsImNsb3NlIiwwXSxbImNvbnRleHRtZW51IiwiY29udGV4dE1lbnUiLDBdLFsiY29weSIsImNvcHkiLDBdLFsiY3V0IiwiY3V0IiwwXSxbImF1eGNsaWNrIiwiYXV4Q2xpY2siLDBdLFsiZGJsY2xpY2siLCJkb3VibGVDbGljayIsMF0sWyJkcmFnZW5kIiwiZHJhZ0VuZCIsMF0sWyJkcmFnc3RhcnQiLCJkcmFnU3RhcnQiLDBdLFsiZHJvcCIsImRyb3AiLDBdLFsiZm9jdXMiLCJmb2N1cyIsMF0sWyJpbnB1dCIsImlucHV0IiwwXSxbImludmFsaWQiLCJpbnZhbGlkIiwwXSxbImtleWRvd24iLCJrZXlEb3duIiwwXSxbImtleXByZXNzIiwia2V5UHJlc3MiLDBdLFsia2V5dXAiLCJrZXlVcCIsMF0sWyJtb3VzZWRvd24iLCJtb3VzZURvd24iLDBdLFsibW91c2V1cCIsIm1vdXNlVXAiLDBdLFsicGFzdGUiLCJwYXN0ZSIsMF0sWyJwYXVzZSIsInBhdXNlIiwwXSxbInBsYXkiLCJwbGF5IiwwXSxbInBvaW50ZXJjYW5jZWwiLCJwb2ludGVyQ2FuY2VsIiwwXSxbInBvaW50ZXJkb3duIiwicG9pbnRlckRvd24iLDBdLFsicG9pbnRlcnVwIiwicG9pbnRlclVwIiwwXSxbInJhdGVjaGFuZ2UiLCJyYXRlQ2hhbmdlIiwwXSxbInJlc2V0IiwicmVzZXQiLDBdLFsic2Vla2VkIiwic2Vla2VkIiwwXSxbInN1Ym1pdCIsInN1Ym1pdCIsMF0sWyJ0b3VjaGNhbmNlbCIsInRvdWNoQ2FuY2VsIiwwXSxbInRvdWNoZW5kIiwidG91Y2hFbmQiLDBdLFsidG91Y2hzdGFydCIsInRvdWNoU3RhcnQiLDBdLFsidm9sdW1lY2hhbmdlIiwidm9sdW1lQ2hhbmdlIiwwXSxbImRyYWciLCJkcmFnIiwxXSxbImRyYWdlbnRlciIsImRyYWdFbnRlciIsMV0sWyJkcmFnZXhpdCIsImRyYWdFeGl0IiwxXSxbImRyYWdsZWF2ZSIsImRyYWdMZWF2ZSIsMV0sWyJkcmFnb3ZlciIsImRyYWdPdmVyIiwxXSxbIm1vdXNlbW92ZSIsIm1vdXNlTW92ZSIsMV0sWyJtb3VzZW91dCIsIm1vdXNlT3V0IiwxXSxbIm1vdXNlb3ZlciIsIm1vdXNlT3ZlciIsMV0sWyJwb2ludGVybW92ZSIsInBvaW50ZXJNb3ZlIiwxXSxbInBvaW50ZXJvdXQiLCJwb2ludGVyT3V0IiwxXSxbInBvaW50ZXJvdmVyIiwicG9pbnRlck92ZXIiLDFdLFsic2Nyb2xsIiwic2Nyb2xsIiwxXSxbInRvZ2dsZSIsInRvZ2dsZSIsMV0sWyJ0b3VjaG1vdmUiLCJ0b3VjaE1vdmUiLDFdLFsid2hlZWwiLCJ3aGVlbCIsMV0sWyJhYm9ydCIsImFib3J0IiwyXSxbWWUsImFuaW1hdGlvbkVuZCIsMl0sW1hlLCJhbmltYXRpb25JdGVyYXRpb24iLDJdLFtHZSwiYW5pbWF0aW9uU3RhcnQiLDJdLFsiY2FucGxheSIsImNhblBsYXkiLDJdLFsiY2FucGxheXRocm91Z2giLCJjYW5QbGF5VGhyb3VnaCIsMl0sWyJkdXJhdGlvbmNoYW5nZSIsImR1cmF0aW9uQ2hhbmdlIiwyXSxbImVtcHRpZWQiLCJlbXB0aWVkIiwyXSxbImVuY3J5cHRlZCIsImVuY3J5cHRlZCIsMl0sWyJlbmRlZCIsImVuZGVkIiwyXSxbImVycm9yIiwiZXJyb3IiLDJdLFsiZ290cG9pbnRlcmNhcHR1cmUiLCJnb3RQb2ludGVyQ2FwdHVyZSIsMl0sWyJsb2FkIiwibG9hZCIsMl0sWyJsb2FkZWRkYXRhIiwibG9hZGVkRGF0YSIsMl0sWyJsb2FkZWRtZXRhZGF0YSIsImxvYWRlZE1ldGFkYXRhIiwyXSxbImxvYWRzdGFydCIsImxvYWRTdGFydCIsMl0sWyJsb3N0cG9pbnRlcmNhcHR1cmUiLCJsb3N0UG9pbnRlckNhcHR1cmUiLDJdLFsicGxheWluZyIsInBsYXlpbmciLDJdLFsicHJvZ3Jlc3MiLCJwcm9ncmVzcyIsMl0sWyJzZWVraW5nIiwic2Vla2luZyIsMl0sWyJzdGFsbGVkIiwic3RhbGxlZCIsMl0sWyJzdXNwZW5kIiwic3VzcGVuZCIsMl0sWyJ0aW1ldXBkYXRlIiwidGltZVVwZGF0ZSIsMl0sW0plLCJ0cmFuc2l0aW9uRW5kIiwyXSxbIndhaXRpbmciLCJ3YWl0aW5nIiwyXV0sdW49e30sY249e30sc249MDtzbjxvbi5sZW5ndGg7c24rKyl7dmFyIGZuPW9uW3NuXSxkbj1mblswXSxwbj1mblsxXSxtbj1mblsyXSxobj0ib24iKyhwblswXS50b1VwcGVyQ2FzZSgpK3BuLnNsaWNlKDEpKSx2bj17cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6aG4sY2FwdHVyZWQ6aG4rIkNhcHR1cmUifSxkZXBlbmRlbmNpZXM6W2RuXSxldmVudFByaW9yaXR5Om1ufTt1bltwbl09dm4sY25bZG5dPXZufXZhciB5bj17ZXZlbnRUeXBlczp1bixnZXRFdmVudFByaW9yaXR5OmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT0oZT1jbltlXSk/ZS5ldmVudFByaW9yaXR5OjJ9LGV4dHJhY3RFdmVudHM6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGw9Y25bZV07aWYoIWwpcmV0dXJuIG51bGw7c3dpdGNoKGUpe2Nhc2Uia2V5cHJlc3MiOmlmKDA9PT1CdChuKSlyZXR1cm4gbnVsbDtjYXNlImtleWRvd24iOmNhc2Uia2V5dXAiOmU9WXQ7YnJlYWs7Y2FzZSJibHVyIjpjYXNlImZvY3VzIjplPVZ0O2JyZWFrO2Nhc2UiY2xpY2siOmlmKDI9PT1uLmJ1dHRvbilyZXR1cm4gbnVsbDtjYXNlImF1eGNsaWNrIjpjYXNlImRibGNsaWNrIjpjYXNlIm1vdXNlZG93biI6Y2FzZSJtb3VzZW1vdmUiOmNhc2UibW91c2V1cCI6Y2FzZSJtb3VzZW91dCI6Y2FzZSJtb3VzZW92ZXIiOmNhc2UiY29udGV4dG1lbnUiOmU9ZW47YnJlYWs7Y2FzZSJkcmFnIjpjYXNlImRyYWdlbmQiOmNhc2UiZHJhZ2VudGVyIjpjYXNlImRyYWdleGl0IjpjYXNlImRyYWdsZWF2ZSI6Y2FzZSJkcmFnb3ZlciI6Y2FzZSJkcmFnc3RhcnQiOmNhc2UiZHJvcCI6ZT1ubjticmVhaztjYXNlInRvdWNoY2FuY2VsIjpjYXNlInRvdWNoZW5kIjpjYXNlInRvdWNobW92ZSI6Y2FzZSJ0b3VjaHN0YXJ0IjplPXJuO2JyZWFrO2Nhc2UgWWU6Y2FzZSBYZTpjYXNlIEdlOmU9QXQ7YnJlYWs7Y2FzZSBKZTplPWxuO2JyZWFrO2Nhc2Uic2Nyb2xsIjplPWp0O2JyZWFrO2Nhc2Uid2hlZWwiOmU9YW47YnJlYWs7Y2FzZSJjb3B5IjpjYXNlImN1dCI6Y2FzZSJwYXN0ZSI6ZT1XdDticmVhaztjYXNlImdvdHBvaW50ZXJjYXB0dXJlIjpjYXNlImxvc3Rwb2ludGVyY2FwdHVyZSI6Y2FzZSJwb2ludGVyY2FuY2VsIjpjYXNlInBvaW50ZXJkb3duIjpjYXNlInBvaW50ZXJtb3ZlIjpjYXNlInBvaW50ZXJvdXQiOmNhc2UicG9pbnRlcm92ZXIiOmNhc2UicG9pbnRlcnVwIjplPXRuO2JyZWFrO2RlZmF1bHQ6ZT1GdH1yZXR1cm4gTXQodD1lLmdldFBvb2xlZChsLHQsbixyKSksdH19LGduPWEudW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHksYm49YS51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHksd249eW4uZ2V0RXZlbnRQcmlvcml0eSxrbj0xMCxFbj1bXTtmdW5jdGlvbiB4bihlKXt2YXIgdD1lLnRhcmdldEluc3Qsbj10O2Rve2lmKCFuKXtlLmFuY2VzdG9ycy5wdXNoKG4pO2JyZWFrfXZhciByPW47aWYoMz09PXIudGFnKXI9ci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztlbHNle2Zvcig7ci5yZXR1cm47KXI9ci5yZXR1cm47cj0zIT09ci50YWc/bnVsbDpyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvfWlmKCFyKWJyZWFrOzUhPT0odD1uLnRhZykmJjYhPT10fHxlLmFuY2VzdG9ycy5wdXNoKG4pLG49ZHIocil9d2hpbGUobik7Zm9yKG49MDtuPGUuYW5jZXN0b3JzLmxlbmd0aDtuKyspe3Q9ZS5hbmNlc3RvcnNbbl07dmFyIGw9Q3QoZS5uYXRpdmVFdmVudCk7cj1lLnRvcExldmVsVHlwZTtmb3IodmFyIGE9ZS5uYXRpdmVFdmVudCxpPWUuZXZlbnRTeXN0ZW1GbGFncyxvPW51bGwsdT0wO3U8Zi5sZW5ndGg7dSsrKXt2YXIgYz1mW3VdO2MmJihjPWMuZXh0cmFjdEV2ZW50cyhyLHQsYSxsLGkpKSYmKG89QyhvLGMpKX16KG8pfX12YXIgVG49ITA7ZnVuY3Rpb24gU24oZSx0KXtDbih0LGUsITEpfWZ1bmN0aW9uIENuKGUsdCxuKXtzd2l0Y2god24odCkpe2Nhc2UgMDp2YXIgcj1fbi5iaW5kKG51bGwsdCwxKTticmVhaztjYXNlIDE6cj1Qbi5iaW5kKG51bGwsdCwxKTticmVhaztkZWZhdWx0OnI9em4uYmluZChudWxsLHQsMSl9bj9lLmFkZEV2ZW50TGlzdGVuZXIodCxyLCEwKTplLmFkZEV2ZW50TGlzdGVuZXIodCxyLCExKX1mdW5jdGlvbiBfbihlLHQsbil7c2V8fHVlKCk7dmFyIHI9em4sbD1zZTtzZT0hMDt0cnl7b2UocixlLHQsbil9ZmluYWxseXsoc2U9bCl8fGRlKCl9fWZ1bmN0aW9uIFBuKGUsdCxuKXtibihnbix6bi5iaW5kKG51bGwsZSx0LG4pKX1mdW5jdGlvbiBObihlLHQsbixyKXtpZihFbi5sZW5ndGgpe3ZhciBsPUVuLnBvcCgpO2wudG9wTGV2ZWxUeXBlPWUsbC5ldmVudFN5c3RlbUZsYWdzPXQsbC5uYXRpdmVFdmVudD1uLGwudGFyZ2V0SW5zdD1yLGU9bH1lbHNlIGU9e3RvcExldmVsVHlwZTplLGV2ZW50U3lzdGVtRmxhZ3M6dCxuYXRpdmVFdmVudDpuLHRhcmdldEluc3Q6cixhbmNlc3RvcnM6W119O3RyeXtpZih0PXhuLG49ZSxmZSl0KG4sdm9pZCAwKTtlbHNle2ZlPSEwO3RyeXtjZSh0LG4sdm9pZCAwKX1maW5hbGx5e2ZlPSExLGRlKCl9fX1maW5hbGx5e2UudG9wTGV2ZWxUeXBlPW51bGwsZS5uYXRpdmVFdmVudD1udWxsLGUudGFyZ2V0SW5zdD1udWxsLGUuYW5jZXN0b3JzLmxlbmd0aD0wLEVuLmxlbmd0aDxrbiYmRW4ucHVzaChlKX19ZnVuY3Rpb24gem4oZSx0LG4pe2lmKFRuKWlmKDA8dXQubGVuZ3RoJiYtMTxodC5pbmRleE9mKGUpKWU9eXQobnVsbCxlLHQsbiksdXQucHVzaChlKTtlbHNle3ZhciByPU9uKGUsdCxuKTtudWxsPT09cj9ndChlLG4pOi0xPGh0LmluZGV4T2YoZSk/KGU9eXQocixlLHQsbiksdXQucHVzaChlKSk6ZnVuY3Rpb24oZSx0LG4scil7c3dpdGNoKHQpe2Nhc2UiZm9jdXMiOnJldHVybiBjdD1idChjdCxlLHQsbixyKSwhMDtjYXNlImRyYWdlbnRlciI6cmV0dXJuIHN0PWJ0KHN0LGUsdCxuLHIpLCEwO2Nhc2UibW91c2VvdmVyIjpyZXR1cm4gZnQ9YnQoZnQsZSx0LG4sciksITA7Y2FzZSJwb2ludGVyb3ZlciI6dmFyIGw9ci5wb2ludGVySWQ7cmV0dXJuIGR0LnNldChsLGJ0KGR0LmdldChsKXx8bnVsbCxlLHQsbixyKSksITA7Y2FzZSJnb3Rwb2ludGVyY2FwdHVyZSI6cmV0dXJuIGw9ci5wb2ludGVySWQscHQuc2V0KGwsYnQocHQuZ2V0KGwpfHxudWxsLGUsdCxuLHIpKSwhMH1yZXR1cm4hMX0ocixlLHQsbil8fChndChlLG4pLE5uKGUsdCxuLG51bGwpKX19ZnVuY3Rpb24gT24oZSx0LG4pe3ZhciByPUN0KG4pO2lmKG51bGwhPT0ocj1kcihyKSkpe3ZhciBsPWV0KHIpO2lmKG51bGw9PT1sKXI9bnVsbDtlbHNle3ZhciBhPWwudGFnO2lmKDEzPT09YSl7aWYobnVsbCE9PShyPXR0KGwpKSlyZXR1cm4gcjtyPW51bGx9ZWxzZSBpZigzPT09YSl7aWYobC5zdGF0ZU5vZGUuaHlkcmF0ZSlyZXR1cm4gMz09PWwudGFnP2wuc3RhdGVOb2RlLmNvbnRhaW5lckluZm86bnVsbDtyPW51bGx9ZWxzZSBsIT09ciYmKHI9bnVsbCl9fXJldHVybiBObihlLHQsbixyKSxudWxsfWZ1bmN0aW9uIE1uKGUpe2lmKCFaKXJldHVybiExO3ZhciB0PShlPSJvbiIrZSlpbiBkb2N1bWVudDtyZXR1cm4gdHx8KCh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5zZXRBdHRyaWJ1dGUoZSwicmV0dXJuOyIpLHQ9ImZ1bmN0aW9uIj09PXR5cGVvZiB0W2VdKSx0fXZhciBJbj1uZXcoImZ1bmN0aW9uIj09PXR5cGVvZiBXZWFrTWFwP1dlYWtNYXA6TWFwKTtmdW5jdGlvbiBSbihlKXt2YXIgdD1Jbi5nZXQoZSk7cmV0dXJuIHZvaWQgMD09PXQmJih0PW5ldyBTZXQsSW4uc2V0KGUsdCkpLHR9ZnVuY3Rpb24gRm4oZSx0LG4pe2lmKCFuLmhhcyhlKSl7c3dpdGNoKGUpe2Nhc2Uic2Nyb2xsIjpDbih0LCJzY3JvbGwiLCEwKTticmVhaztjYXNlImZvY3VzIjpjYXNlImJsdXIiOkNuKHQsImZvY3VzIiwhMCksQ24odCwiYmx1ciIsITApLG4uYWRkKCJibHVyIiksbi5hZGQoImZvY3VzIik7YnJlYWs7Y2FzZSJjYW5jZWwiOmNhc2UiY2xvc2UiOk1uKGUpJiZDbih0LGUsITApO2JyZWFrO2Nhc2UiaW52YWxpZCI6Y2FzZSJzdWJtaXQiOmNhc2UicmVzZXQiOmJyZWFrO2RlZmF1bHQ6LTE9PT1aZS5pbmRleE9mKGUpJiZTbihlLHQpfW4uYWRkKGUpfX12YXIgVW49e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGJvcmRlckltYWdlT3V0c2V0OiEwLGJvcmRlckltYWdlU2xpY2U6ITAsYm9yZGVySW1hZ2VXaWR0aDohMCxib3hGbGV4OiEwLGJveEZsZXhHcm91cDohMCxib3hPcmRpbmFsR3JvdXA6ITAsY29sdW1uQ291bnQ6ITAsY29sdW1uczohMCxmbGV4OiEwLGZsZXhHcm93OiEwLGZsZXhQb3NpdGl2ZTohMCxmbGV4U2hyaW5rOiEwLGZsZXhOZWdhdGl2ZTohMCxmbGV4T3JkZXI6ITAsZ3JpZEFyZWE6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTcGFuOiEwLGdyaWRSb3dTdGFydDohMCxncmlkQ29sdW1uOiEwLGdyaWRDb2x1bW5FbmQ6ITAsZ3JpZENvbHVtblNwYW46ITAsZ3JpZENvbHVtblN0YXJ0OiEwLGZvbnRXZWlnaHQ6ITAsbGluZUNsYW1wOiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHRhYlNpemU6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwLGZpbGxPcGFjaXR5OiEwLGZsb29kT3BhY2l0eTohMCxzdG9wT3BhY2l0eTohMCxzdHJva2VEYXNoYXJyYXk6ITAsc3Ryb2tlRGFzaG9mZnNldDohMCxzdHJva2VNaXRlcmxpbWl0OiEwLHN0cm9rZU9wYWNpdHk6ITAsc3Ryb2tlV2lkdGg6ITB9LERuPVsiV2Via2l0IiwibXMiLCJNb3oiLCJPIl07ZnVuY3Rpb24gTG4oZSx0LG4pe3JldHVybiBudWxsPT10fHwiYm9vbGVhbiI9PT10eXBlb2YgdHx8IiI9PT10PyIiOm58fCJudW1iZXIiIT09dHlwZW9mIHR8fDA9PT10fHxVbi5oYXNPd25Qcm9wZXJ0eShlKSYmVW5bZV0/KCIiK3QpLnRyaW0oKTp0KyJweCJ9ZnVuY3Rpb24gQW4oZSx0KXtmb3IodmFyIG4gaW4gZT1lLnN0eWxlLHQpaWYodC5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIHI9MD09PW4uaW5kZXhPZigiLS0iKSxsPUxuKG4sdFtuXSxyKTsiZmxvYXQiPT09biYmKG49ImNzc0Zsb2F0Iikscj9lLnNldFByb3BlcnR5KG4sbCk6ZVtuXT1sfX1PYmplY3Qua2V5cyhVbikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7RG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7dD10K2UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zdWJzdHJpbmcoMSksVW5bdF09VW5bZV19KSl9KSk7dmFyIFduPWwoe21lbnVpdGVtOiEwfSx7YXJlYTohMCxiYXNlOiEwLGJyOiEwLGNvbDohMCxlbWJlZDohMCxocjohMCxpbWc6ITAsaW5wdXQ6ITAsa2V5Z2VuOiEwLGxpbms6ITAsbWV0YTohMCxwYXJhbTohMCxzb3VyY2U6ITAsdHJhY2s6ITAsd2JyOiEwfSk7ZnVuY3Rpb24gam4oZSx0KXtpZih0KXtpZihXbltlXSYmKG51bGwhPXQuY2hpbGRyZW58fG51bGwhPXQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpKXRocm93IEVycm9yKGkoMTM3LGUsIiIpKTtpZihudWxsIT10LmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKXtpZihudWxsIT10LmNoaWxkcmVuKXRocm93IEVycm9yKGkoNjApKTtpZighKCJvYmplY3QiPT09dHlwZW9mIHQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwmJiJfX2h0bWwiaW4gdC5kYW5nZXJvdXNseVNldElubmVySFRNTCkpdGhyb3cgRXJyb3IoaSg2MSkpfWlmKG51bGwhPXQuc3R5bGUmJiJvYmplY3QiIT09dHlwZW9mIHQuc3R5bGUpdGhyb3cgRXJyb3IoaSg2MiwiIikpfX1mdW5jdGlvbiBWbihlLHQpe2lmKC0xPT09ZS5pbmRleE9mKCItIikpcmV0dXJuInN0cmluZyI9PT10eXBlb2YgdC5pcztzd2l0Y2goZSl7Y2FzZSJhbm5vdGF0aW9uLXhtbCI6Y2FzZSJjb2xvci1wcm9maWxlIjpjYXNlImZvbnQtZmFjZSI6Y2FzZSJmb250LWZhY2Utc3JjIjpjYXNlImZvbnQtZmFjZS11cmkiOmNhc2UiZm9udC1mYWNlLWZvcm1hdCI6Y2FzZSJmb250LWZhY2UtbmFtZSI6Y2FzZSJtaXNzaW5nLWdseXBoIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiEwfX1mdW5jdGlvbiBCbihlLHQpe3ZhciBuPVJuKGU9OT09PWUubm9kZVR5cGV8fDExPT09ZS5ub2RlVHlwZT9lOmUub3duZXJEb2N1bWVudCk7dD1tW3RdO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKUZuKHRbcl0sZSxuKX1mdW5jdGlvbiBIbigpe31mdW5jdGlvbiAkbihlKXtpZigidW5kZWZpbmVkIj09PXR5cGVvZihlPWV8fCgidW5kZWZpbmVkIiE9PXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudDp2b2lkIDApKSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIGUuYWN0aXZlRWxlbWVudHx8ZS5ib2R5fWNhdGNoKHQpe3JldHVybiBlLmJvZHl9fWZ1bmN0aW9uIFFuKGUpe2Zvcig7ZSYmZS5maXJzdENoaWxkOyllPWUuZmlyc3RDaGlsZDtyZXR1cm4gZX1mdW5jdGlvbiBLbihlLHQpe3ZhciBuLHI9UW4oZSk7Zm9yKGU9MDtyOyl7aWYoMz09PXIubm9kZVR5cGUpe2lmKG49ZStyLnRleHRDb250ZW50Lmxlbmd0aCxlPD10JiZuPj10KXJldHVybntub2RlOnIsb2Zmc2V0OnQtZX07ZT1ufWU6e2Zvcig7cjspe2lmKHIubmV4dFNpYmxpbmcpe3I9ci5uZXh0U2libGluZzticmVhayBlfXI9ci5wYXJlbnROb2RlfXI9dm9pZCAwfXI9UW4ocil9fWZ1bmN0aW9uIHFuKCl7Zm9yKHZhciBlPXdpbmRvdyx0PSRuKCk7dCBpbnN0YW5jZW9mIGUuSFRNTElGcmFtZUVsZW1lbnQ7KXt0cnl7dmFyIG49InN0cmluZyI9PT10eXBlb2YgdC5jb250ZW50V2luZG93LmxvY2F0aW9uLmhyZWZ9Y2F0Y2gocil7bj0hMX1pZighbilicmVhazt0PSRuKChlPXQuY29udGVudFdpbmRvdykuZG9jdW1lbnQpfXJldHVybiB0fWZ1bmN0aW9uIFluKGUpe3ZhciB0PWUmJmUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gdCYmKCJpbnB1dCI9PT10JiYoInRleHQiPT09ZS50eXBlfHwic2VhcmNoIj09PWUudHlwZXx8InRlbCI9PT1lLnR5cGV8fCJ1cmwiPT09ZS50eXBlfHwicGFzc3dvcmQiPT09ZS50eXBlKXx8InRleHRhcmVhIj09PXR8fCJ0cnVlIj09PWUuY29udGVudEVkaXRhYmxlKX12YXIgWG49IiQiLEduPSIvJCIsSm49IiQ/Iixabj0iJCEiLGVyPW51bGwsdHI9bnVsbDtmdW5jdGlvbiBucihlLHQpe3N3aXRjaChlKXtjYXNlImJ1dHRvbiI6Y2FzZSJpbnB1dCI6Y2FzZSJzZWxlY3QiOmNhc2UidGV4dGFyZWEiOnJldHVybiEhdC5hdXRvRm9jdXN9cmV0dXJuITF9ZnVuY3Rpb24gcnIoZSx0KXtyZXR1cm4idGV4dGFyZWEiPT09ZXx8Im9wdGlvbiI9PT1lfHwibm9zY3JpcHQiPT09ZXx8InN0cmluZyI9PT10eXBlb2YgdC5jaGlsZHJlbnx8Im51bWJlciI9PT10eXBlb2YgdC5jaGlsZHJlbnx8Im9iamVjdCI9PT10eXBlb2YgdC5kYW5nZXJvdXNseVNldElubmVySFRNTCYmbnVsbCE9PXQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwmJm51bGwhPXQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwuX19odG1sfXZhciBscj0iZnVuY3Rpb24iPT09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDp2b2lkIDAsYXI9ImZ1bmN0aW9uIj09PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OnZvaWQgMDtmdW5jdGlvbiBpcihlKXtmb3IoO251bGwhPWU7ZT1lLm5leHRTaWJsaW5nKXt2YXIgdD1lLm5vZGVUeXBlO2lmKDE9PT10fHwzPT09dClicmVha31yZXR1cm4gZX1mdW5jdGlvbiBvcihlKXtlPWUucHJldmlvdXNTaWJsaW5nO2Zvcih2YXIgdD0wO2U7KXtpZig4PT09ZS5ub2RlVHlwZSl7dmFyIG49ZS5kYXRhO2lmKG49PT1Ybnx8bj09PVpufHxuPT09Sm4pe2lmKDA9PT10KXJldHVybiBlO3QtLX1lbHNlIG49PT1HbiYmdCsrfWU9ZS5wcmV2aW91c1NpYmxpbmd9cmV0dXJuIG51bGx9dmFyIHVyPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLGNyPSJfX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSQiK3VyLHNyPSJfX3JlYWN0RXZlbnRIYW5kbGVycyQiK3VyLGZyPSJfX3JlYWN0Q29udGFpbmVyZSQiK3VyO2Z1bmN0aW9uIGRyKGUpe3ZhciB0PWVbY3JdO2lmKHQpcmV0dXJuIHQ7Zm9yKHZhciBuPWUucGFyZW50Tm9kZTtuOyl7aWYodD1uW2ZyXXx8bltjcl0pe2lmKG49dC5hbHRlcm5hdGUsbnVsbCE9PXQuY2hpbGR8fG51bGwhPT1uJiZudWxsIT09bi5jaGlsZClmb3IoZT1vcihlKTtudWxsIT09ZTspe2lmKG49ZVtjcl0pcmV0dXJuIG47ZT1vcihlKX1yZXR1cm4gdH1uPShlPW4pLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcHIoZSl7cmV0dXJuIShlPWVbY3JdfHxlW2ZyXSl8fDUhPT1lLnRhZyYmNiE9PWUudGFnJiYxMyE9PWUudGFnJiYzIT09ZS50YWc/bnVsbDplfWZ1bmN0aW9uIG1yKGUpe2lmKDU9PT1lLnRhZ3x8Nj09PWUudGFnKXJldHVybiBlLnN0YXRlTm9kZTt0aHJvdyBFcnJvcihpKDMzKSl9ZnVuY3Rpb24gaHIoZSl7cmV0dXJuIGVbc3JdfHxudWxsfXZhciB2cj1udWxsLHlyPW51bGwsZ3I9bnVsbDtmdW5jdGlvbiBicigpe2lmKGdyKXJldHVybiBncjt2YXIgZSx0LG49eXIscj1uLmxlbmd0aCxsPSJ2YWx1ZSJpbiB2cj92ci52YWx1ZTp2ci50ZXh0Q29udGVudCxhPWwubGVuZ3RoO2ZvcihlPTA7ZTxyJiZuW2VdPT09bFtlXTtlKyspO3ZhciBpPXItZTtmb3IodD0xO3Q8PWkmJm5bci10XT09PWxbYS10XTt0KyspO3JldHVybiBncj1sLnNsaWNlKGUsMTx0PzEtdDp2b2lkIDApfXZhciB3cj1GdC5leHRlbmQoe2RhdGE6bnVsbH0pLGtyPUZ0LmV4dGVuZCh7ZGF0YTpudWxsfSksRXI9WzksMTMsMjcsMzJdLHhyPVomJiJDb21wb3NpdGlvbkV2ZW50ImluIHdpbmRvdyxUcj1udWxsO1omJiJkb2N1bWVudE1vZGUiaW4gZG9jdW1lbnQmJihUcj1kb2N1bWVudC5kb2N1bWVudE1vZGUpO3ZhciBTcj1aJiYiVGV4dEV2ZW50ImluIHdpbmRvdyYmIVRyLENyPVomJigheHJ8fFRyJiY4PFRyJiYxMT49VHIpLF9yPVN0cmluZy5mcm9tQ2hhckNvZGUoMzIpLFByPXtiZWZvcmVJbnB1dDp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6Im9uQmVmb3JlSW5wdXQiLGNhcHR1cmVkOiJvbkJlZm9yZUlucHV0Q2FwdHVyZSJ9LGRlcGVuZGVuY2llczpbImNvbXBvc2l0aW9uZW5kIiwia2V5cHJlc3MiLCJ0ZXh0SW5wdXQiLCJwYXN0ZSJdfSxjb21wb3NpdGlvbkVuZDp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6Im9uQ29tcG9zaXRpb25FbmQiLGNhcHR1cmVkOiJvbkNvbXBvc2l0aW9uRW5kQ2FwdHVyZSJ9LGRlcGVuZGVuY2llczoiYmx1ciBjb21wb3NpdGlvbmVuZCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93biIuc3BsaXQoIiAiKX0sY29tcG9zaXRpb25TdGFydDp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6Im9uQ29tcG9zaXRpb25TdGFydCIsY2FwdHVyZWQ6Im9uQ29tcG9zaXRpb25TdGFydENhcHR1cmUifSxkZXBlbmRlbmNpZXM6ImJsdXIgY29tcG9zaXRpb25zdGFydCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93biIuc3BsaXQoIiAiKX0sY29tcG9zaXRpb25VcGRhdGU6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOiJvbkNvbXBvc2l0aW9uVXBkYXRlIixjYXB0dXJlZDoib25Db21wb3NpdGlvblVwZGF0ZUNhcHR1cmUifSxkZXBlbmRlbmNpZXM6ImJsdXIgY29tcG9zaXRpb251cGRhdGUga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBtb3VzZWRvd24iLnNwbGl0KCIgIil9fSxOcj0hMTtmdW5jdGlvbiB6cihlLHQpe3N3aXRjaChlKXtjYXNlImtleXVwIjpyZXR1cm4tMSE9PUVyLmluZGV4T2YodC5rZXlDb2RlKTtjYXNlImtleWRvd24iOnJldHVybiAyMjkhPT10LmtleUNvZGU7Y2FzZSJrZXlwcmVzcyI6Y2FzZSJtb3VzZWRvd24iOmNhc2UiYmx1ciI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gT3IoZSl7cmV0dXJuIm9iamVjdCI9PT10eXBlb2YoZT1lLmRldGFpbCkmJiJkYXRhImluIGU/ZS5kYXRhOm51bGx9dmFyIE1yPSExO3ZhciBJcj17ZXZlbnRUeXBlczpQcixleHRyYWN0RXZlbnRzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBsO2lmKHhyKWU6e3N3aXRjaChlKXtjYXNlImNvbXBvc2l0aW9uc3RhcnQiOnZhciBhPVByLmNvbXBvc2l0aW9uU3RhcnQ7YnJlYWsgZTtjYXNlImNvbXBvc2l0aW9uZW5kIjphPVByLmNvbXBvc2l0aW9uRW5kO2JyZWFrIGU7Y2FzZSJjb21wb3NpdGlvbnVwZGF0ZSI6YT1Qci5jb21wb3NpdGlvblVwZGF0ZTticmVhayBlfWE9dm9pZCAwfWVsc2UgTXI/enIoZSxuKSYmKGE9UHIuY29tcG9zaXRpb25FbmQpOiJrZXlkb3duIj09PWUmJjIyOT09PW4ua2V5Q29kZSYmKGE9UHIuY29tcG9zaXRpb25TdGFydCk7cmV0dXJuIGE/KENyJiYia28iIT09bi5sb2NhbGUmJihNcnx8YSE9PVByLmNvbXBvc2l0aW9uU3RhcnQ/YT09PVByLmNvbXBvc2l0aW9uRW5kJiZNciYmKGw9YnIoKSk6KHlyPSJ2YWx1ZSJpbih2cj1yKT92ci52YWx1ZTp2ci50ZXh0Q29udGVudCxNcj0hMCkpLGE9d3IuZ2V0UG9vbGVkKGEsdCxuLHIpLGw/YS5kYXRhPWw6bnVsbCE9PShsPU9yKG4pKSYmKGEuZGF0YT1sKSxNdChhKSxsPWEpOmw9bnVsbCwoZT1Tcj9mdW5jdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlImNvbXBvc2l0aW9uZW5kIjpyZXR1cm4gT3IodCk7Y2FzZSJrZXlwcmVzcyI6cmV0dXJuIDMyIT09dC53aGljaD9udWxsOihOcj0hMCxfcik7Y2FzZSJ0ZXh0SW5wdXQiOnJldHVybihlPXQuZGF0YSk9PT1fciYmTnI/bnVsbDplO2RlZmF1bHQ6cmV0dXJuIG51bGx9fShlLG4pOmZ1bmN0aW9uKGUsdCl7aWYoTXIpcmV0dXJuImNvbXBvc2l0aW9uZW5kIj09PWV8fCF4ciYmenIoZSx0KT8oZT1icigpLGdyPXlyPXZyPW51bGwsTXI9ITEsZSk6bnVsbDtzd2l0Y2goZSl7Y2FzZSJwYXN0ZSI6cmV0dXJuIG51bGw7Y2FzZSJrZXlwcmVzcyI6aWYoISh0LmN0cmxLZXl8fHQuYWx0S2V5fHx0Lm1ldGFLZXkpfHx0LmN0cmxLZXkmJnQuYWx0S2V5KXtpZih0LmNoYXImJjE8dC5jaGFyLmxlbmd0aClyZXR1cm4gdC5jaGFyO2lmKHQud2hpY2gpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUodC53aGljaCl9cmV0dXJuIG51bGw7Y2FzZSJjb21wb3NpdGlvbmVuZCI6cmV0dXJuIENyJiYia28iIT09dC5sb2NhbGU/bnVsbDp0LmRhdGE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19KGUsbikpPygodD1rci5nZXRQb29sZWQoUHIuYmVmb3JlSW5wdXQsdCxuLHIpKS5kYXRhPWUsTXQodCkpOnQ9bnVsbCxudWxsPT09bD90Om51bGw9PT10P2w6W2wsdF19fSxScj17Y29sb3I6ITAsZGF0ZTohMCxkYXRldGltZTohMCwiZGF0ZXRpbWUtbG9jYWwiOiEwLGVtYWlsOiEwLG1vbnRoOiEwLG51bWJlcjohMCxwYXNzd29yZDohMCxyYW5nZTohMCxzZWFyY2g6ITAsdGVsOiEwLHRleHQ6ITAsdGltZTohMCx1cmw6ITAsd2VlazohMH07ZnVuY3Rpb24gRnIoZSl7dmFyIHQ9ZSYmZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10PyEhUnJbZS50eXBlXToidGV4dGFyZWEiPT09dH12YXIgVXI9e2NoYW5nZTp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6Im9uQ2hhbmdlIixjYXB0dXJlZDoib25DaGFuZ2VDYXB0dXJlIn0sZGVwZW5kZW5jaWVzOiJibHVyIGNoYW5nZSBjbGljayBmb2N1cyBpbnB1dCBrZXlkb3duIGtleXVwIHNlbGVjdGlvbmNoYW5nZSIuc3BsaXQoIiAiKX19O2Z1bmN0aW9uIERyKGUsdCxuKXtyZXR1cm4oZT1GdC5nZXRQb29sZWQoVXIuY2hhbmdlLGUsdCxuKSkudHlwZT0iY2hhbmdlIixsZShuKSxNdChlKSxlfXZhciBMcj1udWxsLEFyPW51bGw7ZnVuY3Rpb24gV3IoZSl7eihlKX1mdW5jdGlvbiBqcihlKXtpZihTZShtcihlKSkpcmV0dXJuIGV9ZnVuY3Rpb24gVnIoZSx0KXtpZigiY2hhbmdlIj09PWUpcmV0dXJuIHR9dmFyIEJyPSExO2Z1bmN0aW9uIEhyKCl7THImJihMci5kZXRhY2hFdmVudCgib25wcm9wZXJ0eWNoYW5nZSIsJHIpLEFyPUxyPW51bGwpfWZ1bmN0aW9uICRyKGUpe2lmKCJ2YWx1ZSI9PT1lLnByb3BlcnR5TmFtZSYmanIoQXIpKWlmKGU9RHIoQXIsZSxDdChlKSksc2UpeihlKTtlbHNle3NlPSEwO3RyeXtpZShXcixlKX1maW5hbGx5e3NlPSExLGRlKCl9fX1mdW5jdGlvbiBRcihlLHQsbil7ImZvY3VzIj09PWU/KEhyKCksQXI9biwoTHI9dCkuYXR0YWNoRXZlbnQoIm9ucHJvcGVydHljaGFuZ2UiLCRyKSk6ImJsdXIiPT09ZSYmSHIoKX1mdW5jdGlvbiBLcihlKXtpZigic2VsZWN0aW9uY2hhbmdlIj09PWV8fCJrZXl1cCI9PT1lfHwia2V5ZG93biI9PT1lKXJldHVybiBqcihBcil9ZnVuY3Rpb24gcXIoZSx0KXtpZigiY2xpY2siPT09ZSlyZXR1cm4ganIodCl9ZnVuY3Rpb24gWXIoZSx0KXtpZigiaW5wdXQiPT09ZXx8ImNoYW5nZSI9PT1lKXJldHVybiBqcih0KX1aJiYoQnI9TW4oImlucHV0IikmJighZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw5PGRvY3VtZW50LmRvY3VtZW50TW9kZSkpO3ZhciBYcixHcj17ZXZlbnRUeXBlczpVcixfaXNJbnB1dEV2ZW50U3VwcG9ydGVkOkJyLGV4dHJhY3RFdmVudHM6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGw9dD9tcih0KTp3aW5kb3csYT1sLm5vZGVOYW1lJiZsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoInNlbGVjdCI9PT1hfHwiaW5wdXQiPT09YSYmImZpbGUiPT09bC50eXBlKXZhciBpPVZyO2Vsc2UgaWYoRnIobCkpaWYoQnIpaT1ZcjtlbHNle2k9S3I7dmFyIG89UXJ9ZWxzZShhPWwubm9kZU5hbWUpJiYiaW5wdXQiPT09YS50b0xvd2VyQ2FzZSgpJiYoImNoZWNrYm94Ij09PWwudHlwZXx8InJhZGlvIj09PWwudHlwZSkmJihpPXFyKTtpZihpJiYoaT1pKGUsdCkpKXJldHVybiBEcihpLG4scik7byYmbyhlLGwsdCksImJsdXIiPT09ZSYmKGU9bC5fd3JhcHBlclN0YXRlKSYmZS5jb250cm9sbGVkJiYibnVtYmVyIj09PWwudHlwZSYmT2UobCwibnVtYmVyIixsLnZhbHVlKX19LEpyPXttb3VzZUVudGVyOntyZWdpc3RyYXRpb25OYW1lOiJvbk1vdXNlRW50ZXIiLGRlcGVuZGVuY2llczpbIm1vdXNlb3V0IiwibW91c2VvdmVyIl19LG1vdXNlTGVhdmU6e3JlZ2lzdHJhdGlvbk5hbWU6Im9uTW91c2VMZWF2ZSIsZGVwZW5kZW5jaWVzOlsibW91c2VvdXQiLCJtb3VzZW92ZXIiXX0scG9pbnRlckVudGVyOntyZWdpc3RyYXRpb25OYW1lOiJvblBvaW50ZXJFbnRlciIsZGVwZW5kZW5jaWVzOlsicG9pbnRlcm91dCIsInBvaW50ZXJvdmVyIl19LHBvaW50ZXJMZWF2ZTp7cmVnaXN0cmF0aW9uTmFtZToib25Qb2ludGVyTGVhdmUiLGRlcGVuZGVuY2llczpbInBvaW50ZXJvdXQiLCJwb2ludGVyb3ZlciJdfX0sWnI9e2V2ZW50VHlwZXM6SnIsZXh0cmFjdEV2ZW50czpmdW5jdGlvbihlLHQsbixyLGwpe3ZhciBhPSJtb3VzZW92ZXIiPT09ZXx8InBvaW50ZXJvdmVyIj09PWUsaT0ibW91c2VvdXQiPT09ZXx8InBvaW50ZXJvdXQiPT09ZTtpZihhJiYwPT09KDMyJmwpJiYobi5yZWxhdGVkVGFyZ2V0fHxuLmZyb21FbGVtZW50KXx8IWkmJiFhKXJldHVybiBudWxsO2lmKGw9ci53aW5kb3c9PT1yP3I6KGw9ci5vd25lckRvY3VtZW50KT9sLmRlZmF1bHRWaWV3fHxsLnBhcmVudFdpbmRvdzp3aW5kb3csaT8oaT10LG51bGwhPT0odD0odD1uLnJlbGF0ZWRUYXJnZXR8fG4udG9FbGVtZW50KT9kcih0KTpudWxsKSYmKHQhPT0oYT1ldCh0KSl8fDUhPT10LnRhZyYmNiE9PXQudGFnKSYmKHQ9bnVsbCkpOmk9bnVsbCxpPT09dClyZXR1cm4gbnVsbDtpZigibW91c2VvdXQiPT09ZXx8Im1vdXNlb3ZlciI9PT1lKXZhciBvPWVuLHU9SnIubW91c2VMZWF2ZSxjPUpyLm1vdXNlRW50ZXIscz0ibW91c2UiO2Vsc2UicG9pbnRlcm91dCIhPT1lJiYicG9pbnRlcm92ZXIiIT09ZXx8KG89dG4sdT1Kci5wb2ludGVyTGVhdmUsYz1Kci5wb2ludGVyRW50ZXIscz0icG9pbnRlciIpO2lmKGU9bnVsbD09aT9sOm1yKGkpLGw9bnVsbD09dD9sOm1yKHQpLCh1PW8uZ2V0UG9vbGVkKHUsaSxuLHIpKS50eXBlPXMrImxlYXZlIix1LnRhcmdldD1lLHUucmVsYXRlZFRhcmdldD1sLChyPW8uZ2V0UG9vbGVkKGMsdCxuLHIpKS50eXBlPXMrImVudGVyIixyLnRhcmdldD1sLHIucmVsYXRlZFRhcmdldD1lLHM9dCwobz1pKSYmcyllOntmb3IoZT1zLGk9MCx0PWM9bzt0O3Q9X3QodCkpaSsrO2Zvcih0PTAsbD1lO2w7bD1fdChsKSl0Kys7Zm9yKDswPGktdDspYz1fdChjKSxpLS07Zm9yKDswPHQtaTspZT1fdChlKSx0LS07Zm9yKDtpLS07KXtpZihjPT09ZXx8Yz09PWUuYWx0ZXJuYXRlKWJyZWFrIGU7Yz1fdChjKSxlPV90KGUpfWM9bnVsbH1lbHNlIGM9bnVsbDtmb3IoZT1jLGM9W107byYmbyE9PWUmJihudWxsPT09KGk9by5hbHRlcm5hdGUpfHxpIT09ZSk7KWMucHVzaChvKSxvPV90KG8pO2ZvcihvPVtdO3MmJnMhPT1lJiYobnVsbD09PShpPXMuYWx0ZXJuYXRlKXx8aSE9PWUpOylvLnB1c2gocykscz1fdChzKTtmb3Iocz0wO3M8Yy5sZW5ndGg7cysrKXp0KGNbc10sImJ1YmJsZWQiLHUpO2ZvcihzPW8ubGVuZ3RoOzA8cy0tOyl6dChvW3NdLCJjYXB0dXJlZCIscik7cmV0dXJuIG49PT1Ycj8oWHI9bnVsbCxbdV0pOihYcj1uLFt1LHJdKX19O3ZhciBlbD0iZnVuY3Rpb24iPT09dHlwZW9mIE9iamVjdC5pcz9PYmplY3QuaXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJigwIT09ZXx8MS9lPT09MS90KXx8ZSE9PWUmJnQhPT10fSx0bD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIG5sKGUsdCl7aWYoZWwoZSx0KSlyZXR1cm4hMDtpZigib2JqZWN0IiE9PXR5cGVvZiBlfHxudWxsPT09ZXx8Im9iamVjdCIhPT10eXBlb2YgdHx8bnVsbD09PXQpcmV0dXJuITE7dmFyIG49T2JqZWN0LmtleXMoZSkscj1PYmplY3Qua2V5cyh0KTtpZihuLmxlbmd0aCE9PXIubGVuZ3RoKXJldHVybiExO2ZvcihyPTA7cjxuLmxlbmd0aDtyKyspaWYoIXRsLmNhbGwodCxuW3JdKXx8IWVsKGVbbltyXV0sdFtuW3JdXSkpcmV0dXJuITE7cmV0dXJuITB9dmFyIHJsPVomJiJkb2N1bWVudE1vZGUiaW4gZG9jdW1lbnQmJjExPj1kb2N1bWVudC5kb2N1bWVudE1vZGUsbGw9e3NlbGVjdDp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6Im9uU2VsZWN0IixjYXB0dXJlZDoib25TZWxlY3RDYXB0dXJlIn0sZGVwZW5kZW5jaWVzOiJibHVyIGNvbnRleHRtZW51IGRyYWdlbmQgZm9jdXMga2V5ZG93biBrZXl1cCBtb3VzZWRvd24gbW91c2V1cCBzZWxlY3Rpb25jaGFuZ2UiLnNwbGl0KCIgIil9fSxhbD1udWxsLGlsPW51bGwsb2w9bnVsbCx1bD0hMTtmdW5jdGlvbiBjbChlLHQpe3ZhciBuPXQud2luZG93PT09dD90LmRvY3VtZW50Ojk9PT10Lm5vZGVUeXBlP3Q6dC5vd25lckRvY3VtZW50O3JldHVybiB1bHx8bnVsbD09YWx8fGFsIT09JG4obik/bnVsbDooInNlbGVjdGlvblN0YXJ0ImluKG49YWwpJiZZbihuKT9uPXtzdGFydDpuLnNlbGVjdGlvblN0YXJ0LGVuZDpuLnNlbGVjdGlvbkVuZH06bj17YW5jaG9yTm9kZToobj0obi5vd25lckRvY3VtZW50JiZuLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0U2VsZWN0aW9uKCkpLmFuY2hvck5vZGUsYW5jaG9yT2Zmc2V0Om4uYW5jaG9yT2Zmc2V0LGZvY3VzTm9kZTpuLmZvY3VzTm9kZSxmb2N1c09mZnNldDpuLmZvY3VzT2Zmc2V0fSxvbCYmbmwob2wsbik/bnVsbDoob2w9biwoZT1GdC5nZXRQb29sZWQobGwuc2VsZWN0LGlsLGUsdCkpLnR5cGU9InNlbGVjdCIsZS50YXJnZXQ9YWwsTXQoZSksZSkpfXZhciBzbD17ZXZlbnRUeXBlczpsbCxleHRyYWN0RXZlbnRzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBsLGE9ci53aW5kb3c9PT1yP3IuZG9jdW1lbnQ6OT09PXIubm9kZVR5cGU/cjpyLm93bmVyRG9jdW1lbnQ7aWYoIShsPSFhKSl7ZTp7YT1SbihhKSxsPW0ub25TZWxlY3Q7Zm9yKHZhciBpPTA7aTxsLmxlbmd0aDtpKyspaWYoIWEuaGFzKGxbaV0pKXthPSExO2JyZWFrIGV9YT0hMH1sPSFhfWlmKGwpcmV0dXJuIG51bGw7c3dpdGNoKGE9dD9tcih0KTp3aW5kb3csZSl7Y2FzZSJmb2N1cyI6KEZyKGEpfHwidHJ1ZSI9PT1hLmNvbnRlbnRFZGl0YWJsZSkmJihhbD1hLGlsPXQsb2w9bnVsbCk7YnJlYWs7Y2FzZSJibHVyIjpvbD1pbD1hbD1udWxsO2JyZWFrO2Nhc2UibW91c2Vkb3duIjp1bD0hMDticmVhaztjYXNlImNvbnRleHRtZW51IjpjYXNlIm1vdXNldXAiOmNhc2UiZHJhZ2VuZCI6cmV0dXJuIHVsPSExLGNsKG4scik7Y2FzZSJzZWxlY3Rpb25jaGFuZ2UiOmlmKHJsKWJyZWFrO2Nhc2Uia2V5ZG93biI6Y2FzZSJrZXl1cCI6cmV0dXJuIGNsKG4scil9cmV0dXJuIG51bGx9fTtPLmluamVjdEV2ZW50UGx1Z2luT3JkZXIoIlJlc3BvbmRlckV2ZW50UGx1Z2luIFNpbXBsZUV2ZW50UGx1Z2luIEVudGVyTGVhdmVFdmVudFBsdWdpbiBDaGFuZ2VFdmVudFBsdWdpbiBTZWxlY3RFdmVudFBsdWdpbiBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luIi5zcGxpdCgiICIpKSxFPWhyLHg9cHIsVD1tcixPLmluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSh7U2ltcGxlRXZlbnRQbHVnaW46eW4sRW50ZXJMZWF2ZUV2ZW50UGx1Z2luOlpyLENoYW5nZUV2ZW50UGx1Z2luOkdyLFNlbGVjdEV2ZW50UGx1Z2luOnNsLEJlZm9yZUlucHV0RXZlbnRQbHVnaW46SXJ9KSxuZXcgU2V0O3ZhciBmbD1bXSxkbD0tMTtmdW5jdGlvbiBwbChlKXswPmRsfHwoZS5jdXJyZW50PWZsW2RsXSxmbFtkbF09bnVsbCxkbC0tKX1mdW5jdGlvbiBtbChlLHQpe2RsKyssZmxbZGxdPWUuY3VycmVudCxlLmN1cnJlbnQ9dH12YXIgaGw9e30sdmw9e2N1cnJlbnQ6aGx9LHlsPXtjdXJyZW50OiExfSxnbD1obDtmdW5jdGlvbiBibChlLHQpe3ZhciBuPWUudHlwZS5jb250ZXh0VHlwZXM7aWYoIW4pcmV0dXJuIGhsO3ZhciByPWUuc3RhdGVOb2RlO2lmKHImJnIuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dD09PXQpcmV0dXJuIHIuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQ7dmFyIGwsYT17fTtmb3IobCBpbiBuKWFbbF09dFtsXTtyZXR1cm4gciYmKChlPWUuc3RhdGVOb2RlKS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0PXQsZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dD1hKSxhfWZ1bmN0aW9uIHdsKGUpe3JldHVybiBudWxsIT09KGU9ZS5jaGlsZENvbnRleHRUeXBlcykmJnZvaWQgMCE9PWV9ZnVuY3Rpb24ga2woZSl7cGwoeWwpLHBsKHZsKX1mdW5jdGlvbiBFbChlKXtwbCh5bCkscGwodmwpfWZ1bmN0aW9uIHhsKGUsdCxuKXtpZih2bC5jdXJyZW50IT09aGwpdGhyb3cgRXJyb3IoaSgxNjgpKTttbCh2bCx0KSxtbCh5bCxuKX1mdW5jdGlvbiBUbChlLHQsbil7dmFyIHI9ZS5zdGF0ZU5vZGU7aWYoZT10LmNoaWxkQ29udGV4dFR5cGVzLCJmdW5jdGlvbiIhPT10eXBlb2Ygci5nZXRDaGlsZENvbnRleHQpcmV0dXJuIG47Zm9yKHZhciBhIGluIHI9ci5nZXRDaGlsZENvbnRleHQoKSlpZighKGEgaW4gZSkpdGhyb3cgRXJyb3IoaSgxMDgsRyh0KXx8IlVua25vd24iLGEpKTtyZXR1cm4gbCh7fSxuLHt9LHIpfWZ1bmN0aW9uIFNsKGUpe3ZhciB0PWUuc3RhdGVOb2RlO3JldHVybiB0PXQmJnQuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHR8fGhsLGdsPXZsLmN1cnJlbnQsbWwodmwsdCksbWwoeWwseWwuY3VycmVudCksITB9ZnVuY3Rpb24gQ2woZSx0LG4pe3ZhciByPWUuc3RhdGVOb2RlO2lmKCFyKXRocm93IEVycm9yKGkoMTY5KSk7bj8odD1UbChlLHQsZ2wpLHIuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQ9dCxwbCh5bCkscGwodmwpLG1sKHZsLHQpKTpwbCh5bCksbWwoeWwsbil9dmFyIF9sPWEudW5zdGFibGVfcnVuV2l0aFByaW9yaXR5LFBsPWEudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayxObD1hLnVuc3RhYmxlX2NhbmNlbENhbGxiYWNrLHpsPWEudW5zdGFibGVfc2hvdWxkWWllbGQsT2w9YS51bnN0YWJsZV9yZXF1ZXN0UGFpbnQsTWw9YS51bnN0YWJsZV9ub3csSWw9YS51bnN0YWJsZV9nZXRDdXJyZW50UHJpb3JpdHlMZXZlbCxSbD1hLnVuc3RhYmxlX0ltbWVkaWF0ZVByaW9yaXR5LEZsPWEudW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHksVWw9YS51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSxEbD1hLnVuc3RhYmxlX0xvd1ByaW9yaXR5LExsPWEudW5zdGFibGVfSWRsZVByaW9yaXR5LEFsPXt9LFdsPXZvaWQgMCE9PU9sP09sOmZ1bmN0aW9uKCl7fSxqbD1udWxsLFZsPW51bGwsQmw9ITEsSGw9TWwoKSwkbD0xZTQ+SGw/TWw6ZnVuY3Rpb24oKXtyZXR1cm4gTWwoKS1IbH07ZnVuY3Rpb24gUWwoKXtzd2l0Y2goSWwoKSl7Y2FzZSBSbDpyZXR1cm4gOTk7Y2FzZSBGbDpyZXR1cm4gOTg7Y2FzZSBVbDpyZXR1cm4gOTc7Y2FzZSBEbDpyZXR1cm4gOTY7Y2FzZSBMbDpyZXR1cm4gOTU7ZGVmYXVsdDp0aHJvdyBFcnJvcihpKDMzMikpfX1mdW5jdGlvbiBLbChlKXtzd2l0Y2goZSl7Y2FzZSA5OTpyZXR1cm4gUmw7Y2FzZSA5ODpyZXR1cm4gRmw7Y2FzZSA5NzpyZXR1cm4gVWw7Y2FzZSA5NjpyZXR1cm4gRGw7Y2FzZSA5NTpyZXR1cm4gTGw7ZGVmYXVsdDp0aHJvdyBFcnJvcihpKDMzMikpfX1mdW5jdGlvbiBxbChlLHQpe3JldHVybiBlPUtsKGUpLF9sKGUsdCl9ZnVuY3Rpb24gWWwoZSx0LG4pe3JldHVybiBlPUtsKGUpLFBsKGUsdCxuKX1mdW5jdGlvbiBYbChlKXtyZXR1cm4gbnVsbD09PWpsPyhqbD1bZV0sVmw9UGwoUmwsSmwpKTpqbC5wdXNoKGUpLEFsfWZ1bmN0aW9uIEdsKCl7aWYobnVsbCE9PVZsKXt2YXIgZT1WbDtWbD1udWxsLE5sKGUpfUpsKCl9ZnVuY3Rpb24gSmwoKXtpZighQmwmJm51bGwhPT1qbCl7Qmw9ITA7dmFyIGU9MDt0cnl7dmFyIHQ9amw7cWwoOTksKGZ1bmN0aW9uKCl7Zm9yKDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dFtlXTtkb3tuPW4oITApfXdoaWxlKG51bGwhPT1uKX19KSksamw9bnVsbH1jYXRjaChuKXt0aHJvdyBudWxsIT09amwmJihqbD1qbC5zbGljZShlKzEpKSxQbChSbCxHbCksbn1maW5hbGx5e0JsPSExfX19dmFyIFpsPTM7ZnVuY3Rpb24gZWEoZSx0LG4pe3JldHVybiAxMDczNzQxODIxLSgxKygoMTA3Mzc0MTgyMS1lK3QvMTApLyhuLz0xMCl8MCkpKm59ZnVuY3Rpb24gdGEoZSx0KXtpZihlJiZlLmRlZmF1bHRQcm9wcylmb3IodmFyIG4gaW4gdD1sKHt9LHQpLGU9ZS5kZWZhdWx0UHJvcHMpdm9pZCAwPT09dFtuXSYmKHRbbl09ZVtuXSk7cmV0dXJuIHR9dmFyIG5hPXtjdXJyZW50Om51bGx9LHJhPW51bGwsbGE9bnVsbCxhYT1udWxsO2Z1bmN0aW9uIGlhKCl7YWE9bGE9cmE9bnVsbH1mdW5jdGlvbiBvYShlLHQpe3ZhciBuPWUudHlwZS5fY29udGV4dDttbChuYSxuLl9jdXJyZW50VmFsdWUpLG4uX2N1cnJlbnRWYWx1ZT10fWZ1bmN0aW9uIHVhKGUpe3ZhciB0PW5hLmN1cnJlbnQ7cGwobmEpLGUudHlwZS5fY29udGV4dC5fY3VycmVudFZhbHVlPXR9ZnVuY3Rpb24gY2EoZSx0KXtmb3IoO251bGwhPT1lOyl7dmFyIG49ZS5hbHRlcm5hdGU7aWYoZS5jaGlsZEV4cGlyYXRpb25UaW1lPHQpZS5jaGlsZEV4cGlyYXRpb25UaW1lPXQsbnVsbCE9PW4mJm4uY2hpbGRFeHBpcmF0aW9uVGltZTx0JiYobi5jaGlsZEV4cGlyYXRpb25UaW1lPXQpO2Vsc2V7aWYoIShudWxsIT09biYmbi5jaGlsZEV4cGlyYXRpb25UaW1lPHQpKWJyZWFrO24uY2hpbGRFeHBpcmF0aW9uVGltZT10fWU9ZS5yZXR1cm59fWZ1bmN0aW9uIHNhKGUsdCl7cmE9ZSxhYT1sYT1udWxsLG51bGwhPT0oZT1lLmRlcGVuZGVuY2llcykmJm51bGwhPT1lLmZpcnN0Q29udGV4dCYmKGUuZXhwaXJhdGlvblRpbWU+PXQmJihIaT0hMCksZS5maXJzdENvbnRleHQ9bnVsbCl9ZnVuY3Rpb24gZmEoZSx0KXtpZihhYSE9PWUmJiExIT09dCYmMCE9PXQpaWYoIm51bWJlciI9PT10eXBlb2YgdCYmMTA3Mzc0MTgyMyE9PXR8fChhYT1lLHQ9MTA3Mzc0MTgyMyksdD17Y29udGV4dDplLG9ic2VydmVkQml0czp0LG5leHQ6bnVsbH0sbnVsbD09PWxhKXtpZihudWxsPT09cmEpdGhyb3cgRXJyb3IoaSgzMDgpKTtsYT10LHJhLmRlcGVuZGVuY2llcz17ZXhwaXJhdGlvblRpbWU6MCxmaXJzdENvbnRleHQ6dCxyZXNwb25kZXJzOm51bGx9fWVsc2UgbGE9bGEubmV4dD10O3JldHVybiBlLl9jdXJyZW50VmFsdWV9dmFyIGRhPSExO2Z1bmN0aW9uIHBhKGUpe3JldHVybntiYXNlU3RhdGU6ZSxmaXJzdFVwZGF0ZTpudWxsLGxhc3RVcGRhdGU6bnVsbCxmaXJzdENhcHR1cmVkVXBkYXRlOm51bGwsbGFzdENhcHR1cmVkVXBkYXRlOm51bGwsZmlyc3RFZmZlY3Q6bnVsbCxsYXN0RWZmZWN0Om51bGwsZmlyc3RDYXB0dXJlZEVmZmVjdDpudWxsLGxhc3RDYXB0dXJlZEVmZmVjdDpudWxsfX1mdW5jdGlvbiBtYShlKXtyZXR1cm57YmFzZVN0YXRlOmUuYmFzZVN0YXRlLGZpcnN0VXBkYXRlOmUuZmlyc3RVcGRhdGUsbGFzdFVwZGF0ZTplLmxhc3RVcGRhdGUsZmlyc3RDYXB0dXJlZFVwZGF0ZTpudWxsLGxhc3RDYXB0dXJlZFVwZGF0ZTpudWxsLGZpcnN0RWZmZWN0Om51bGwsbGFzdEVmZmVjdDpudWxsLGZpcnN0Q2FwdHVyZWRFZmZlY3Q6bnVsbCxsYXN0Q2FwdHVyZWRFZmZlY3Q6bnVsbH19ZnVuY3Rpb24gaGEoZSx0KXtyZXR1cm57ZXhwaXJhdGlvblRpbWU6ZSxzdXNwZW5zZUNvbmZpZzp0LHRhZzowLHBheWxvYWQ6bnVsbCxjYWxsYmFjazpudWxsLG5leHQ6bnVsbCxuZXh0RWZmZWN0Om51bGx9fWZ1bmN0aW9uIHZhKGUsdCl7bnVsbD09PWUubGFzdFVwZGF0ZT9lLmZpcnN0VXBkYXRlPWUubGFzdFVwZGF0ZT10OihlLmxhc3RVcGRhdGUubmV4dD10LGUubGFzdFVwZGF0ZT10KX1mdW5jdGlvbiB5YShlLHQpe3ZhciBuPWUuYWx0ZXJuYXRlO2lmKG51bGw9PT1uKXt2YXIgcj1lLnVwZGF0ZVF1ZXVlLGw9bnVsbDtudWxsPT09ciYmKHI9ZS51cGRhdGVRdWV1ZT1wYShlLm1lbW9pemVkU3RhdGUpKX1lbHNlIHI9ZS51cGRhdGVRdWV1ZSxsPW4udXBkYXRlUXVldWUsbnVsbD09PXI/bnVsbD09PWw/KHI9ZS51cGRhdGVRdWV1ZT1wYShlLm1lbW9pemVkU3RhdGUpLGw9bi51cGRhdGVRdWV1ZT1wYShuLm1lbW9pemVkU3RhdGUpKTpyPWUudXBkYXRlUXVldWU9bWEobCk6bnVsbD09PWwmJihsPW4udXBkYXRlUXVldWU9bWEocikpO251bGw9PT1sfHxyPT09bD92YShyLHQpOm51bGw9PT1yLmxhc3RVcGRhdGV8fG51bGw9PT1sLmxhc3RVcGRhdGU/KHZhKHIsdCksdmEobCx0KSk6KHZhKHIsdCksbC5sYXN0VXBkYXRlPXQpfWZ1bmN0aW9uIGdhKGUsdCl7dmFyIG49ZS51cGRhdGVRdWV1ZTtudWxsPT09KG49bnVsbD09PW4/ZS51cGRhdGVRdWV1ZT1wYShlLm1lbW9pemVkU3RhdGUpOmJhKGUsbikpLmxhc3RDYXB0dXJlZFVwZGF0ZT9uLmZpcnN0Q2FwdHVyZWRVcGRhdGU9bi5sYXN0Q2FwdHVyZWRVcGRhdGU9dDoobi5sYXN0Q2FwdHVyZWRVcGRhdGUubmV4dD10LG4ubGFzdENhcHR1cmVkVXBkYXRlPXQpfWZ1bmN0aW9uIGJhKGUsdCl7dmFyIG49ZS5hbHRlcm5hdGU7cmV0dXJuIG51bGwhPT1uJiZ0PT09bi51cGRhdGVRdWV1ZSYmKHQ9ZS51cGRhdGVRdWV1ZT1tYSh0KSksdH1mdW5jdGlvbiB3YShlLHQsbixyLGEsaSl7c3dpdGNoKG4udGFnKXtjYXNlIDE6cmV0dXJuImZ1bmN0aW9uIj09PXR5cGVvZihlPW4ucGF5bG9hZCk/ZS5jYWxsKGkscixhKTplO2Nhc2UgMzplLmVmZmVjdFRhZz0tNDA5NyZlLmVmZmVjdFRhZ3w2NDtjYXNlIDA6aWYobnVsbD09PShhPSJmdW5jdGlvbiI9PT10eXBlb2YoZT1uLnBheWxvYWQpP2UuY2FsbChpLHIsYSk6ZSl8fHZvaWQgMD09PWEpYnJlYWs7cmV0dXJuIGwoe30scixhKTtjYXNlIDI6ZGE9ITB9cmV0dXJuIHJ9ZnVuY3Rpb24ga2EoZSx0LG4scixsKXtkYT0hMTtmb3IodmFyIGE9KHQ9YmEoZSx0KSkuYmFzZVN0YXRlLGk9bnVsbCxvPTAsdT10LmZpcnN0VXBkYXRlLGM9YTtudWxsIT09dTspe3ZhciBzPXUuZXhwaXJhdGlvblRpbWU7czxsPyhudWxsPT09aSYmKGk9dSxhPWMpLG88cyYmKG89cykpOihfdShzLHUuc3VzcGVuc2VDb25maWcpLGM9d2EoZSwwLHUsYyxuLHIpLG51bGwhPT11LmNhbGxiYWNrJiYoZS5lZmZlY3RUYWd8PTMyLHUubmV4dEVmZmVjdD1udWxsLG51bGw9PT10Lmxhc3RFZmZlY3Q/dC5maXJzdEVmZmVjdD10Lmxhc3RFZmZlY3Q9dToodC5sYXN0RWZmZWN0Lm5leHRFZmZlY3Q9dSx0Lmxhc3RFZmZlY3Q9dSkpKSx1PXUubmV4dH1mb3Iocz1udWxsLHU9dC5maXJzdENhcHR1cmVkVXBkYXRlO251bGwhPT11Oyl7dmFyIGY9dS5leHBpcmF0aW9uVGltZTtmPGw/KG51bGw9PT1zJiYocz11LG51bGw9PT1pJiYoYT1jKSksbzxmJiYobz1mKSk6KGM9d2EoZSwwLHUsYyxuLHIpLG51bGwhPT11LmNhbGxiYWNrJiYoZS5lZmZlY3RUYWd8PTMyLHUubmV4dEVmZmVjdD1udWxsLG51bGw9PT10Lmxhc3RDYXB0dXJlZEVmZmVjdD90LmZpcnN0Q2FwdHVyZWRFZmZlY3Q9dC5sYXN0Q2FwdHVyZWRFZmZlY3Q9dToodC5sYXN0Q2FwdHVyZWRFZmZlY3QubmV4dEVmZmVjdD11LHQubGFzdENhcHR1cmVkRWZmZWN0PXUpKSksdT11Lm5leHR9bnVsbD09PWkmJih0Lmxhc3RVcGRhdGU9bnVsbCksbnVsbD09PXM/dC5sYXN0Q2FwdHVyZWRVcGRhdGU9bnVsbDplLmVmZmVjdFRhZ3w9MzIsbnVsbD09PWkmJm51bGw9PT1zJiYoYT1jKSx0LmJhc2VTdGF0ZT1hLHQuZmlyc3RVcGRhdGU9aSx0LmZpcnN0Q2FwdHVyZWRVcGRhdGU9cyxQdShvKSxlLmV4cGlyYXRpb25UaW1lPW8sZS5tZW1vaXplZFN0YXRlPWN9ZnVuY3Rpb24gRWEoZSx0LG4pe251bGwhPT10LmZpcnN0Q2FwdHVyZWRVcGRhdGUmJihudWxsIT09dC5sYXN0VXBkYXRlJiYodC5sYXN0VXBkYXRlLm5leHQ9dC5maXJzdENhcHR1cmVkVXBkYXRlLHQubGFzdFVwZGF0ZT10Lmxhc3RDYXB0dXJlZFVwZGF0ZSksdC5maXJzdENhcHR1cmVkVXBkYXRlPXQubGFzdENhcHR1cmVkVXBkYXRlPW51bGwpLHhhKHQuZmlyc3RFZmZlY3QsbiksdC5maXJzdEVmZmVjdD10Lmxhc3RFZmZlY3Q9bnVsbCx4YSh0LmZpcnN0Q2FwdHVyZWRFZmZlY3QsbiksdC5maXJzdENhcHR1cmVkRWZmZWN0PXQubGFzdENhcHR1cmVkRWZmZWN0PW51bGx9ZnVuY3Rpb24geGEoZSx0KXtmb3IoO251bGwhPT1lOyl7dmFyIG49ZS5jYWxsYmFjaztpZihudWxsIT09bil7ZS5jYWxsYmFjaz1udWxsO3ZhciByPXQ7aWYoImZ1bmN0aW9uIiE9PXR5cGVvZiBuKXRocm93IEVycm9yKGkoMTkxLG4pKTtuLmNhbGwocil9ZT1lLm5leHRFZmZlY3R9fXZhciBUYT1JLlJlYWN0Q3VycmVudEJhdGNoQ29uZmlnLFNhPShuZXcgci5Db21wb25lbnQpLnJlZnM7ZnVuY3Rpb24gQ2EoZSx0LG4scil7bj1udWxsPT09KG49bihyLHQ9ZS5tZW1vaXplZFN0YXRlKSl8fHZvaWQgMD09PW4/dDpsKHt9LHQsbiksZS5tZW1vaXplZFN0YXRlPW4sbnVsbCE9PShyPWUudXBkYXRlUXVldWUpJiYwPT09ZS5leHBpcmF0aW9uVGltZSYmKHIuYmFzZVN0YXRlPW4pfXZhciBfYT17aXNNb3VudGVkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGU9ZS5fcmVhY3RJbnRlcm5hbEZpYmVyKSYmZXQoZSk9PT1lfSxlbnF1ZXVlU2V0U3RhdGU6ZnVuY3Rpb24oZSx0LG4pe2U9ZS5fcmVhY3RJbnRlcm5hbEZpYmVyO3ZhciByPW11KCksbD1UYS5zdXNwZW5zZTsobD1oYShyPWh1KHIsZSxsKSxsKSkucGF5bG9hZD10LHZvaWQgMCE9PW4mJm51bGwhPT1uJiYobC5jYWxsYmFjaz1uKSx5YShlLGwpLHZ1KGUscil9LGVucXVldWVSZXBsYWNlU3RhdGU6ZnVuY3Rpb24oZSx0LG4pe2U9ZS5fcmVhY3RJbnRlcm5hbEZpYmVyO3ZhciByPW11KCksbD1UYS5zdXNwZW5zZTsobD1oYShyPWh1KHIsZSxsKSxsKSkudGFnPTEsbC5wYXlsb2FkPXQsdm9pZCAwIT09biYmbnVsbCE9PW4mJihsLmNhbGxiYWNrPW4pLHlhKGUsbCksdnUoZSxyKX0sZW5xdWV1ZUZvcmNlVXBkYXRlOmZ1bmN0aW9uKGUsdCl7ZT1lLl9yZWFjdEludGVybmFsRmliZXI7dmFyIG49bXUoKSxyPVRhLnN1c3BlbnNlOyhyPWhhKG49aHUobixlLHIpLHIpKS50YWc9Mix2b2lkIDAhPT10JiZudWxsIT09dCYmKHIuY2FsbGJhY2s9dCkseWEoZSxyKSx2dShlLG4pfX07ZnVuY3Rpb24gUGEoZSx0LG4scixsLGEsaSl7cmV0dXJuImZ1bmN0aW9uIj09PXR5cGVvZihlPWUuc3RhdGVOb2RlKS5zaG91bGRDb21wb25lbnRVcGRhdGU/ZS5zaG91bGRDb21wb25lbnRVcGRhdGUocixhLGkpOiF0LnByb3RvdHlwZXx8IXQucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50fHwoIW5sKG4scil8fCFubChsLGEpKX1mdW5jdGlvbiBOYShlLHQsbil7dmFyIHI9ITEsbD1obCxhPXQuY29udGV4dFR5cGU7cmV0dXJuIm9iamVjdCI9PT10eXBlb2YgYSYmbnVsbCE9PWE/YT1mYShhKToobD13bCh0KT9nbDp2bC5jdXJyZW50LGE9KHI9bnVsbCE9PShyPXQuY29udGV4dFR5cGVzKSYmdm9pZCAwIT09cik/YmwoZSxsKTpobCksdD1uZXcgdChuLGEpLGUubWVtb2l6ZWRTdGF0ZT1udWxsIT09dC5zdGF0ZSYmdm9pZCAwIT09dC5zdGF0ZT90LnN0YXRlOm51bGwsdC51cGRhdGVyPV9hLGUuc3RhdGVOb2RlPXQsdC5fcmVhY3RJbnRlcm5hbEZpYmVyPWUsciYmKChlPWUuc3RhdGVOb2RlKS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0PWwsZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dD1hKSx0fWZ1bmN0aW9uIHphKGUsdCxuLHIpe2U9dC5zdGF0ZSwiZnVuY3Rpb24iPT09dHlwZW9mIHQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmdC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG4sciksImZ1bmN0aW9uIj09PXR5cGVvZiB0LlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZ0LlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG4sciksdC5zdGF0ZSE9PWUmJl9hLmVucXVldWVSZXBsYWNlU3RhdGUodCx0LnN0YXRlLG51bGwpfWZ1bmN0aW9uIE9hKGUsdCxuLHIpe3ZhciBsPWUuc3RhdGVOb2RlO2wucHJvcHM9bixsLnN0YXRlPWUubWVtb2l6ZWRTdGF0ZSxsLnJlZnM9U2E7dmFyIGE9dC5jb250ZXh0VHlwZTsib2JqZWN0Ij09PXR5cGVvZiBhJiZudWxsIT09YT9sLmNvbnRleHQ9ZmEoYSk6KGE9d2wodCk/Z2w6dmwuY3VycmVudCxsLmNvbnRleHQ9YmwoZSxhKSksbnVsbCE9PShhPWUudXBkYXRlUXVldWUpJiYoa2EoZSxhLG4sbCxyKSxsLnN0YXRlPWUubWVtb2l6ZWRTdGF0ZSksImZ1bmN0aW9uIj09PXR5cGVvZihhPXQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKSYmKENhKGUsdCxhLG4pLGwuc3RhdGU9ZS5tZW1vaXplZFN0YXRlKSwiZnVuY3Rpb24iPT09dHlwZW9mIHQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzfHwiZnVuY3Rpb24iPT09dHlwZW9mIGwuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGV8fCJmdW5jdGlvbiIhPT10eXBlb2YgbC5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiYiZnVuY3Rpb24iIT09dHlwZW9mIGwuY29tcG9uZW50V2lsbE1vdW50fHwodD1sLnN0YXRlLCJmdW5jdGlvbiI9PT10eXBlb2YgbC5jb21wb25lbnRXaWxsTW91bnQmJmwuY29tcG9uZW50V2lsbE1vdW50KCksImZ1bmN0aW9uIj09PXR5cGVvZiBsLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQmJmwuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpLHQhPT1sLnN0YXRlJiZfYS5lbnF1ZXVlUmVwbGFjZVN0YXRlKGwsbC5zdGF0ZSxudWxsKSxudWxsIT09KGE9ZS51cGRhdGVRdWV1ZSkmJihrYShlLGEsbixsLHIpLGwuc3RhdGU9ZS5tZW1vaXplZFN0YXRlKSksImZ1bmN0aW9uIj09PXR5cGVvZiBsLmNvbXBvbmVudERpZE1vdW50JiYoZS5lZmZlY3RUYWd8PTQpfXZhciBNYT1BcnJheS5pc0FycmF5O2Z1bmN0aW9uIElhKGUsdCxuKXtpZihudWxsIT09KGU9bi5yZWYpJiYiZnVuY3Rpb24iIT09dHlwZW9mIGUmJiJvYmplY3QiIT09dHlwZW9mIGUpe2lmKG4uX293bmVyKXtpZihuPW4uX293bmVyKXtpZigxIT09bi50YWcpdGhyb3cgRXJyb3IoaSgzMDkpKTt2YXIgcj1uLnN0YXRlTm9kZX1pZighcil0aHJvdyBFcnJvcihpKDE0NyxlKSk7dmFyIGw9IiIrZTtyZXR1cm4gbnVsbCE9PXQmJm51bGwhPT10LnJlZiYmImZ1bmN0aW9uIj09PXR5cGVvZiB0LnJlZiYmdC5yZWYuX3N0cmluZ1JlZj09PWw/dC5yZWY6KCh0PWZ1bmN0aW9uKGUpe3ZhciB0PXIucmVmczt0PT09U2EmJih0PXIucmVmcz17fSksbnVsbD09PWU/ZGVsZXRlIHRbbF06dFtsXT1lfSkuX3N0cmluZ1JlZj1sLHQpfWlmKCJzdHJpbmciIT09dHlwZW9mIGUpdGhyb3cgRXJyb3IoaSgyODQpKTtpZighbi5fb3duZXIpdGhyb3cgRXJyb3IoaSgyOTAsZSkpfXJldHVybiBlfWZ1bmN0aW9uIFJhKGUsdCl7aWYoInRleHRhcmVhIiE9PWUudHlwZSl0aHJvdyBFcnJvcihpKDMxLCJbb2JqZWN0IE9iamVjdF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpPyJvYmplY3Qgd2l0aCBrZXlzIHsiK09iamVjdC5rZXlzKHQpLmpvaW4oIiwgIikrIn0iOnQsIiIpKX1mdW5jdGlvbiBGYShlKXtmdW5jdGlvbiB0KHQsbil7aWYoZSl7dmFyIHI9dC5sYXN0RWZmZWN0O251bGwhPT1yPyhyLm5leHRFZmZlY3Q9bix0Lmxhc3RFZmZlY3Q9bik6dC5maXJzdEVmZmVjdD10Lmxhc3RFZmZlY3Q9bixuLm5leHRFZmZlY3Q9bnVsbCxuLmVmZmVjdFRhZz04fX1mdW5jdGlvbiBuKG4scil7aWYoIWUpcmV0dXJuIG51bGw7Zm9yKDtudWxsIT09cjspdChuLHIpLHI9ci5zaWJsaW5nO3JldHVybiBudWxsfWZ1bmN0aW9uIHIoZSx0KXtmb3IoZT1uZXcgTWFwO251bGwhPT10OyludWxsIT09dC5rZXk/ZS5zZXQodC5rZXksdCk6ZS5zZXQodC5pbmRleCx0KSx0PXQuc2libGluZztyZXR1cm4gZX1mdW5jdGlvbiBsKGUsdCxuKXtyZXR1cm4oZT1xdShlLHQpKS5pbmRleD0wLGUuc2libGluZz1udWxsLGV9ZnVuY3Rpb24gYSh0LG4scil7cmV0dXJuIHQuaW5kZXg9cixlP251bGwhPT0ocj10LmFsdGVybmF0ZSk/KHI9ci5pbmRleCk8bj8odC5lZmZlY3RUYWc9MixuKTpyOih0LmVmZmVjdFRhZz0yLG4pOm59ZnVuY3Rpb24gbyh0KXtyZXR1cm4gZSYmbnVsbD09PXQuYWx0ZXJuYXRlJiYodC5lZmZlY3RUYWc9MiksdH1mdW5jdGlvbiB1KGUsdCxuLHIpe3JldHVybiBudWxsPT09dHx8NiE9PXQudGFnPygodD1HdShuLGUubW9kZSxyKSkucmV0dXJuPWUsdCk6KCh0PWwodCxuKSkucmV0dXJuPWUsdCl9ZnVuY3Rpb24gYyhlLHQsbixyKXtyZXR1cm4gbnVsbCE9PXQmJnQuZWxlbWVudFR5cGU9PT1uLnR5cGU/KChyPWwodCxuLnByb3BzKSkucmVmPUlhKGUsdCxuKSxyLnJldHVybj1lLHIpOigocj1ZdShuLnR5cGUsbi5rZXksbi5wcm9wcyxudWxsLGUubW9kZSxyKSkucmVmPUlhKGUsdCxuKSxyLnJldHVybj1lLHIpfWZ1bmN0aW9uIHMoZSx0LG4scil7cmV0dXJuIG51bGw9PT10fHw0IT09dC50YWd8fHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8hPT1uLmNvbnRhaW5lckluZm98fHQuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uIT09bi5pbXBsZW1lbnRhdGlvbj8oKHQ9SnUobixlLm1vZGUscikpLnJldHVybj1lLHQpOigodD1sKHQsbi5jaGlsZHJlbnx8W10pKS5yZXR1cm49ZSx0KX1mdW5jdGlvbiBmKGUsdCxuLHIsYSl7cmV0dXJuIG51bGw9PT10fHw3IT09dC50YWc/KCh0PVh1KG4sZS5tb2RlLHIsYSkpLnJldHVybj1lLHQpOigodD1sKHQsbikpLnJldHVybj1lLHQpfWZ1bmN0aW9uIGQoZSx0LG4pe2lmKCJzdHJpbmciPT09dHlwZW9mIHR8fCJudW1iZXIiPT09dHlwZW9mIHQpcmV0dXJuKHQ9R3UoIiIrdCxlLm1vZGUsbikpLnJldHVybj1lLHQ7aWYoIm9iamVjdCI9PT10eXBlb2YgdCYmbnVsbCE9PXQpe3N3aXRjaCh0LiQkdHlwZW9mKXtjYXNlIFU6cmV0dXJuKG49WXUodC50eXBlLHQua2V5LHQucHJvcHMsbnVsbCxlLm1vZGUsbikpLnJlZj1JYShlLG51bGwsdCksbi5yZXR1cm49ZSxuO2Nhc2UgRDpyZXR1cm4odD1KdSh0LGUubW9kZSxuKSkucmV0dXJuPWUsdH1pZihNYSh0KXx8WCh0KSlyZXR1cm4odD1YdSh0LGUubW9kZSxuLG51bGwpKS5yZXR1cm49ZSx0O1JhKGUsdCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcChlLHQsbixyKXt2YXIgbD1udWxsIT09dD90LmtleTpudWxsO2lmKCJzdHJpbmciPT09dHlwZW9mIG58fCJudW1iZXIiPT09dHlwZW9mIG4pcmV0dXJuIG51bGwhPT1sP251bGw6dShlLHQsIiIrbixyKTtpZigib2JqZWN0Ij09PXR5cGVvZiBuJiZudWxsIT09bil7c3dpdGNoKG4uJCR0eXBlb2Ype2Nhc2UgVTpyZXR1cm4gbi5rZXk9PT1sP24udHlwZT09PUw/ZihlLHQsbi5wcm9wcy5jaGlsZHJlbixyLGwpOmMoZSx0LG4scik6bnVsbDtjYXNlIEQ6cmV0dXJuIG4ua2V5PT09bD9zKGUsdCxuLHIpOm51bGx9aWYoTWEobil8fFgobikpcmV0dXJuIG51bGwhPT1sP251bGw6ZihlLHQsbixyLG51bGwpO1JhKGUsbil9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbShlLHQsbixyLGwpe2lmKCJzdHJpbmciPT09dHlwZW9mIHJ8fCJudW1iZXIiPT09dHlwZW9mIHIpcmV0dXJuIHUodCxlPWUuZ2V0KG4pfHxudWxsLCIiK3IsbCk7aWYoIm9iamVjdCI9PT10eXBlb2YgciYmbnVsbCE9PXIpe3N3aXRjaChyLiQkdHlwZW9mKXtjYXNlIFU6cmV0dXJuIGU9ZS5nZXQobnVsbD09PXIua2V5P246ci5rZXkpfHxudWxsLHIudHlwZT09PUw/Zih0LGUsci5wcm9wcy5jaGlsZHJlbixsLHIua2V5KTpjKHQsZSxyLGwpO2Nhc2UgRDpyZXR1cm4gcyh0LGU9ZS5nZXQobnVsbD09PXIua2V5P246ci5rZXkpfHxudWxsLHIsbCl9aWYoTWEocil8fFgocikpcmV0dXJuIGYodCxlPWUuZ2V0KG4pfHxudWxsLHIsbCxudWxsKTtSYSh0LHIpfXJldHVybiBudWxsfWZ1bmN0aW9uIGgobCxpLG8sdSl7Zm9yKHZhciBjPW51bGwscz1udWxsLGY9aSxoPWk9MCx2PW51bGw7bnVsbCE9PWYmJmg8by5sZW5ndGg7aCsrKXtmLmluZGV4Pmg/KHY9ZixmPW51bGwpOnY9Zi5zaWJsaW5nO3ZhciB5PXAobCxmLG9baF0sdSk7aWYobnVsbD09PXkpe251bGw9PT1mJiYoZj12KTticmVha31lJiZmJiZudWxsPT09eS5hbHRlcm5hdGUmJnQobCxmKSxpPWEoeSxpLGgpLG51bGw9PT1zP2M9eTpzLnNpYmxpbmc9eSxzPXksZj12fWlmKGg9PT1vLmxlbmd0aClyZXR1cm4gbihsLGYpLGM7aWYobnVsbD09PWYpe2Zvcig7aDxvLmxlbmd0aDtoKyspbnVsbCE9PShmPWQobCxvW2hdLHUpKSYmKGk9YShmLGksaCksbnVsbD09PXM/Yz1mOnMuc2libGluZz1mLHM9Zik7cmV0dXJuIGN9Zm9yKGY9cihsLGYpO2g8by5sZW5ndGg7aCsrKW51bGwhPT0odj1tKGYsbCxoLG9baF0sdSkpJiYoZSYmbnVsbCE9PXYuYWx0ZXJuYXRlJiZmLmRlbGV0ZShudWxsPT09di5rZXk/aDp2LmtleSksaT1hKHYsaSxoKSxudWxsPT09cz9jPXY6cy5zaWJsaW5nPXYscz12KTtyZXR1cm4gZSYmZi5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdChsLGUpfSkpLGN9ZnVuY3Rpb24gdihsLG8sdSxjKXt2YXIgcz1YKHUpO2lmKCJmdW5jdGlvbiIhPT10eXBlb2Ygcyl0aHJvdyBFcnJvcihpKDE1MCkpO2lmKG51bGw9PSh1PXMuY2FsbCh1KSkpdGhyb3cgRXJyb3IoaSgxNTEpKTtmb3IodmFyIGY9cz1udWxsLGg9byx2PW89MCx5PW51bGwsZz11Lm5leHQoKTtudWxsIT09aCYmIWcuZG9uZTt2KyssZz11Lm5leHQoKSl7aC5pbmRleD52Pyh5PWgsaD1udWxsKTp5PWguc2libGluZzt2YXIgYj1wKGwsaCxnLnZhbHVlLGMpO2lmKG51bGw9PT1iKXtudWxsPT09aCYmKGg9eSk7YnJlYWt9ZSYmaCYmbnVsbD09PWIuYWx0ZXJuYXRlJiZ0KGwsaCksbz1hKGIsbyx2KSxudWxsPT09Zj9zPWI6Zi5zaWJsaW5nPWIsZj1iLGg9eX1pZihnLmRvbmUpcmV0dXJuIG4obCxoKSxzO2lmKG51bGw9PT1oKXtmb3IoOyFnLmRvbmU7disrLGc9dS5uZXh0KCkpbnVsbCE9PShnPWQobCxnLnZhbHVlLGMpKSYmKG89YShnLG8sdiksbnVsbD09PWY/cz1nOmYuc2libGluZz1nLGY9Zyk7cmV0dXJuIHN9Zm9yKGg9cihsLGgpOyFnLmRvbmU7disrLGc9dS5uZXh0KCkpbnVsbCE9PShnPW0oaCxsLHYsZy52YWx1ZSxjKSkmJihlJiZudWxsIT09Zy5hbHRlcm5hdGUmJmguZGVsZXRlKG51bGw9PT1nLmtleT92Omcua2V5KSxvPWEoZyxvLHYpLG51bGw9PT1mP3M9ZzpmLnNpYmxpbmc9ZyxmPWcpO3JldHVybiBlJiZoLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0KGwsZSl9KSksc31yZXR1cm4gZnVuY3Rpb24oZSxyLGEsdSl7dmFyIGM9Im9iamVjdCI9PT10eXBlb2YgYSYmbnVsbCE9PWEmJmEudHlwZT09PUwmJm51bGw9PT1hLmtleTtjJiYoYT1hLnByb3BzLmNoaWxkcmVuKTt2YXIgcz0ib2JqZWN0Ij09PXR5cGVvZiBhJiZudWxsIT09YTtpZihzKXN3aXRjaChhLiQkdHlwZW9mKXtjYXNlIFU6ZTp7Zm9yKHM9YS5rZXksYz1yO251bGwhPT1jOyl7aWYoYy5rZXk9PT1zKXtpZig3PT09Yy50YWc/YS50eXBlPT09TDpjLmVsZW1lbnRUeXBlPT09YS50eXBlKXtuKGUsYy5zaWJsaW5nKSwocj1sKGMsYS50eXBlPT09TD9hLnByb3BzLmNoaWxkcmVuOmEucHJvcHMpKS5yZWY9SWEoZSxjLGEpLHIucmV0dXJuPWUsZT1yO2JyZWFrIGV9bihlLGMpO2JyZWFrfXQoZSxjKSxjPWMuc2libGluZ31hLnR5cGU9PT1MPygocj1YdShhLnByb3BzLmNoaWxkcmVuLGUubW9kZSx1LGEua2V5KSkucmV0dXJuPWUsZT1yKTooKHU9WXUoYS50eXBlLGEua2V5LGEucHJvcHMsbnVsbCxlLm1vZGUsdSkpLnJlZj1JYShlLHIsYSksdS5yZXR1cm49ZSxlPXUpfXJldHVybiBvKGUpO2Nhc2UgRDplOntmb3IoYz1hLmtleTtudWxsIT09cjspe2lmKHIua2V5PT09Yyl7aWYoND09PXIudGFnJiZyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvPT09YS5jb250YWluZXJJbmZvJiZyLnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbj09PWEuaW1wbGVtZW50YXRpb24pe24oZSxyLnNpYmxpbmcpLChyPWwocixhLmNoaWxkcmVufHxbXSkpLnJldHVybj1lLGU9cjticmVhayBlfW4oZSxyKTticmVha310KGUscikscj1yLnNpYmxpbmd9KHI9SnUoYSxlLm1vZGUsdSkpLnJldHVybj1lLGU9cn1yZXR1cm4gbyhlKX1pZigic3RyaW5nIj09PXR5cGVvZiBhfHwibnVtYmVyIj09PXR5cGVvZiBhKXJldHVybiBhPSIiK2EsbnVsbCE9PXImJjY9PT1yLnRhZz8obihlLHIuc2libGluZyksKHI9bChyLGEpKS5yZXR1cm49ZSxlPXIpOihuKGUsciksKHI9R3UoYSxlLm1vZGUsdSkpLnJldHVybj1lLGU9ciksbyhlKTtpZihNYShhKSlyZXR1cm4gaChlLHIsYSx1KTtpZihYKGEpKXJldHVybiB2KGUscixhLHUpO2lmKHMmJlJhKGUsYSksInVuZGVmaW5lZCI9PT10eXBlb2YgYSYmIWMpc3dpdGNoKGUudGFnKXtjYXNlIDE6Y2FzZSAwOnRocm93IGU9ZS50eXBlLEVycm9yKGkoMTUyLGUuZGlzcGxheU5hbWV8fGUubmFtZXx8IkNvbXBvbmVudCIpKX1yZXR1cm4gbihlLHIpfX12YXIgVWE9RmEoITApLERhPUZhKCExKSxMYT17fSxBYT17Y3VycmVudDpMYX0sV2E9e2N1cnJlbnQ6TGF9LGphPXtjdXJyZW50OkxhfTtmdW5jdGlvbiBWYShlKXtpZihlPT09TGEpdGhyb3cgRXJyb3IoaSgxNzQpKTtyZXR1cm4gZX1mdW5jdGlvbiBCYShlLHQpe21sKGphLHQpLG1sKFdhLGUpLG1sKEFhLExhKTt2YXIgbj10Lm5vZGVUeXBlO3N3aXRjaChuKXtjYXNlIDk6Y2FzZSAxMTp0PSh0PXQuZG9jdW1lbnRFbGVtZW50KT90Lm5hbWVzcGFjZVVSSTpXZShudWxsLCIiKTticmVhaztkZWZhdWx0OnQ9V2UodD0obj04PT09bj90LnBhcmVudE5vZGU6dCkubmFtZXNwYWNlVVJJfHxudWxsLG49bi50YWdOYW1lKX1wbChBYSksbWwoQWEsdCl9ZnVuY3Rpb24gSGEoZSl7cGwoQWEpLHBsKFdhKSxwbChqYSl9ZnVuY3Rpb24gJGEoZSl7VmEoamEuY3VycmVudCk7dmFyIHQ9VmEoQWEuY3VycmVudCksbj1XZSh0LGUudHlwZSk7dCE9PW4mJihtbChXYSxlKSxtbChBYSxuKSl9ZnVuY3Rpb24gUWEoZSl7V2EuY3VycmVudD09PWUmJihwbChBYSkscGwoV2EpKX12YXIgS2E9e2N1cnJlbnQ6MH07ZnVuY3Rpb24gcWEoZSl7Zm9yKHZhciB0PWU7bnVsbCE9PXQ7KXtpZigxMz09PXQudGFnKXt2YXIgbj10Lm1lbW9pemVkU3RhdGU7aWYobnVsbCE9PW4mJihudWxsPT09KG49bi5kZWh5ZHJhdGVkKXx8bi5kYXRhPT09Sm58fG4uZGF0YT09PVpuKSlyZXR1cm4gdH1lbHNlIGlmKDE5PT09dC50YWcmJnZvaWQgMCE9PXQubWVtb2l6ZWRQcm9wcy5yZXZlYWxPcmRlcil7aWYoMCE9PSg2NCZ0LmVmZmVjdFRhZykpcmV0dXJuIHR9ZWxzZSBpZihudWxsIT09dC5jaGlsZCl7dC5jaGlsZC5yZXR1cm49dCx0PXQuY2hpbGQ7Y29udGludWV9aWYodD09PWUpYnJlYWs7Zm9yKDtudWxsPT09dC5zaWJsaW5nOyl7aWYobnVsbD09PXQucmV0dXJufHx0LnJldHVybj09PWUpcmV0dXJuIG51bGw7dD10LnJldHVybn10LnNpYmxpbmcucmV0dXJuPXQucmV0dXJuLHQ9dC5zaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIFlhKGUsdCl7cmV0dXJue3Jlc3BvbmRlcjplLHByb3BzOnR9fXZhciBYYT1JLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsR2E9SS5SZWFjdEN1cnJlbnRCYXRjaENvbmZpZyxKYT0wLFphPW51bGwsZWk9bnVsbCx0aT1udWxsLG5pPW51bGwscmk9bnVsbCxsaT1udWxsLGFpPTAsaWk9bnVsbCxvaT0wLHVpPSExLGNpPW51bGwsc2k9MDtmdW5jdGlvbiBmaSgpe3Rocm93IEVycm9yKGkoMzIxKSl9ZnVuY3Rpb24gZGkoZSx0KXtpZihudWxsPT09dClyZXR1cm4hMTtmb3IodmFyIG49MDtuPHQubGVuZ3RoJiZuPGUubGVuZ3RoO24rKylpZighZWwoZVtuXSx0W25dKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBwaShlLHQsbixyLGwsYSl7aWYoSmE9YSxaYT10LHRpPW51bGwhPT1lP2UubWVtb2l6ZWRTdGF0ZTpudWxsLFhhLmN1cnJlbnQ9bnVsbD09PXRpP01pOklpLHQ9bihyLGwpLHVpKXtkb3t1aT0hMSxzaSs9MSx0aT1udWxsIT09ZT9lLm1lbW9pemVkU3RhdGU6bnVsbCxsaT1uaSxpaT1yaT1laT1udWxsLFhhLmN1cnJlbnQ9SWksdD1uKHIsbCl9d2hpbGUodWkpO2NpPW51bGwsc2k9MH1pZihYYS5jdXJyZW50PU9pLChlPVphKS5tZW1vaXplZFN0YXRlPW5pLGUuZXhwaXJhdGlvblRpbWU9YWksZS51cGRhdGVRdWV1ZT1paSxlLmVmZmVjdFRhZ3w9b2ksZT1udWxsIT09ZWkmJm51bGwhPT1laS5uZXh0LEphPTAsbGk9cmk9bmk9dGk9ZWk9WmE9bnVsbCxhaT0wLGlpPW51bGwsb2k9MCxlKXRocm93IEVycm9yKGkoMzAwKSk7cmV0dXJuIHR9ZnVuY3Rpb24gbWkoKXtYYS5jdXJyZW50PU9pLEphPTAsbGk9cmk9bmk9dGk9ZWk9WmE9bnVsbCxhaT0wLGlpPW51bGwsb2k9MCx1aT0hMSxjaT1udWxsLHNpPTB9ZnVuY3Rpb24gaGkoKXt2YXIgZT17bWVtb2l6ZWRTdGF0ZTpudWxsLGJhc2VTdGF0ZTpudWxsLHF1ZXVlOm51bGwsYmFzZVVwZGF0ZTpudWxsLG5leHQ6bnVsbH07cmV0dXJuIG51bGw9PT1yaT9uaT1yaT1lOnJpPXJpLm5leHQ9ZSxyaX1mdW5jdGlvbiB2aSgpe2lmKG51bGwhPT1saSlsaT0ocmk9bGkpLm5leHQsdGk9bnVsbCE9PShlaT10aSk/ZWkubmV4dDpudWxsO2Vsc2V7aWYobnVsbD09PXRpKXRocm93IEVycm9yKGkoMzEwKSk7dmFyIGU9e21lbW9pemVkU3RhdGU6KGVpPXRpKS5tZW1vaXplZFN0YXRlLGJhc2VTdGF0ZTplaS5iYXNlU3RhdGUscXVldWU6ZWkucXVldWUsYmFzZVVwZGF0ZTplaS5iYXNlVXBkYXRlLG5leHQ6bnVsbH07cmk9bnVsbD09PXJpP25pPWU6cmkubmV4dD1lLHRpPWVpLm5leHR9cmV0dXJuIHJpfWZ1bmN0aW9uIHlpKGUsdCl7cmV0dXJuImZ1bmN0aW9uIj09PXR5cGVvZiB0P3QoZSk6dH1mdW5jdGlvbiBnaShlKXt2YXIgdD12aSgpLG49dC5xdWV1ZTtpZihudWxsPT09bil0aHJvdyBFcnJvcihpKDMxMSkpO2lmKG4ubGFzdFJlbmRlcmVkUmVkdWNlcj1lLDA8c2kpe3ZhciByPW4uZGlzcGF0Y2g7aWYobnVsbCE9PWNpKXt2YXIgbD1jaS5nZXQobik7aWYodm9pZCAwIT09bCl7Y2kuZGVsZXRlKG4pO3ZhciBhPXQubWVtb2l6ZWRTdGF0ZTtkb3thPWUoYSxsLmFjdGlvbiksbD1sLm5leHR9d2hpbGUobnVsbCE9PWwpO3JldHVybiBlbChhLHQubWVtb2l6ZWRTdGF0ZSl8fChIaT0hMCksdC5tZW1vaXplZFN0YXRlPWEsdC5iYXNlVXBkYXRlPT09bi5sYXN0JiYodC5iYXNlU3RhdGU9YSksbi5sYXN0UmVuZGVyZWRTdGF0ZT1hLFthLHJdfX1yZXR1cm5bdC5tZW1vaXplZFN0YXRlLHJdfXI9bi5sYXN0O3ZhciBvPXQuYmFzZVVwZGF0ZTtpZihhPXQuYmFzZVN0YXRlLG51bGwhPT1vPyhudWxsIT09ciYmKHIubmV4dD1udWxsKSxyPW8ubmV4dCk6cj1udWxsIT09cj9yLm5leHQ6bnVsbCxudWxsIT09cil7dmFyIHU9bD1udWxsLGM9cixzPSExO2Rve3ZhciBmPWMuZXhwaXJhdGlvblRpbWU7ZjxKYT8oc3x8KHM9ITAsdT1vLGw9YSksZj5haSYmUHUoYWk9ZikpOihfdShmLGMuc3VzcGVuc2VDb25maWcpLGE9Yy5lYWdlclJlZHVjZXI9PT1lP2MuZWFnZXJTdGF0ZTplKGEsYy5hY3Rpb24pKSxvPWMsYz1jLm5leHR9d2hpbGUobnVsbCE9PWMmJmMhPT1yKTtzfHwodT1vLGw9YSksZWwoYSx0Lm1lbW9pemVkU3RhdGUpfHwoSGk9ITApLHQubWVtb2l6ZWRTdGF0ZT1hLHQuYmFzZVVwZGF0ZT11LHQuYmFzZVN0YXRlPWwsbi5sYXN0UmVuZGVyZWRTdGF0ZT1hfXJldHVyblt0Lm1lbW9pemVkU3RhdGUsbi5kaXNwYXRjaF19ZnVuY3Rpb24gYmkoZSl7dmFyIHQ9aGkoKTtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIGUmJihlPWUoKSksdC5tZW1vaXplZFN0YXRlPXQuYmFzZVN0YXRlPWUsZT0oZT10LnF1ZXVlPXtsYXN0Om51bGwsZGlzcGF0Y2g6bnVsbCxsYXN0UmVuZGVyZWRSZWR1Y2VyOnlpLGxhc3RSZW5kZXJlZFN0YXRlOmV9KS5kaXNwYXRjaD16aS5iaW5kKG51bGwsWmEsZSksW3QubWVtb2l6ZWRTdGF0ZSxlXX1mdW5jdGlvbiB3aShlKXtyZXR1cm4gZ2koeWkpfWZ1bmN0aW9uIGtpKGUsdCxuLHIpe3JldHVybiBlPXt0YWc6ZSxjcmVhdGU6dCxkZXN0cm95Om4sZGVwczpyLG5leHQ6bnVsbH0sbnVsbD09PWlpPyhpaT17bGFzdEVmZmVjdDpudWxsfSkubGFzdEVmZmVjdD1lLm5leHQ9ZTpudWxsPT09KHQ9aWkubGFzdEVmZmVjdCk/aWkubGFzdEVmZmVjdD1lLm5leHQ9ZToobj10Lm5leHQsdC5uZXh0PWUsZS5uZXh0PW4saWkubGFzdEVmZmVjdD1lKSxlfWZ1bmN0aW9uIEVpKGUsdCxuLHIpe3ZhciBsPWhpKCk7b2l8PWUsbC5tZW1vaXplZFN0YXRlPWtpKHQsbix2b2lkIDAsdm9pZCAwPT09cj9udWxsOnIpfWZ1bmN0aW9uIHhpKGUsdCxuLHIpe3ZhciBsPXZpKCk7cj12b2lkIDA9PT1yP251bGw6cjt2YXIgYT12b2lkIDA7aWYobnVsbCE9PWVpKXt2YXIgaT1laS5tZW1vaXplZFN0YXRlO2lmKGE9aS5kZXN0cm95LG51bGwhPT1yJiZkaShyLGkuZGVwcykpcmV0dXJuIHZvaWQga2koMCxuLGEscil9b2l8PWUsbC5tZW1vaXplZFN0YXRlPWtpKHQsbixhLHIpfWZ1bmN0aW9uIFRpKGUsdCl7cmV0dXJuIEVpKDUxNiwxOTIsZSx0KX1mdW5jdGlvbiBTaShlLHQpe3JldHVybiB4aSg1MTYsMTkyLGUsdCl9ZnVuY3Rpb24gQ2koZSx0KXtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIHQ/KGU9ZSgpLHQoZSksZnVuY3Rpb24oKXt0KG51bGwpfSk6bnVsbCE9PXQmJnZvaWQgMCE9PXQ/KGU9ZSgpLHQuY3VycmVudD1lLGZ1bmN0aW9uKCl7dC5jdXJyZW50PW51bGx9KTp2b2lkIDB9ZnVuY3Rpb24gX2koKXt9ZnVuY3Rpb24gUGkoZSx0KXtyZXR1cm4gaGkoKS5tZW1vaXplZFN0YXRlPVtlLHZvaWQgMD09PXQ/bnVsbDp0XSxlfWZ1bmN0aW9uIE5pKGUsdCl7dmFyIG49dmkoKTt0PXZvaWQgMD09PXQ/bnVsbDp0O3ZhciByPW4ubWVtb2l6ZWRTdGF0ZTtyZXR1cm4gbnVsbCE9PXImJm51bGwhPT10JiZkaSh0LHJbMV0pP3JbMF06KG4ubWVtb2l6ZWRTdGF0ZT1bZSx0XSxlKX1mdW5jdGlvbiB6aShlLHQsbil7aWYoISgyNT5zaSkpdGhyb3cgRXJyb3IoaSgzMDEpKTt2YXIgcj1lLmFsdGVybmF0ZTtpZihlPT09WmF8fG51bGwhPT1yJiZyPT09WmEpaWYodWk9ITAsZT17ZXhwaXJhdGlvblRpbWU6SmEsc3VzcGVuc2VDb25maWc6bnVsbCxhY3Rpb246bixlYWdlclJlZHVjZXI6bnVsbCxlYWdlclN0YXRlOm51bGwsbmV4dDpudWxsfSxudWxsPT09Y2kmJihjaT1uZXcgTWFwKSx2b2lkIDA9PT0obj1jaS5nZXQodCkpKWNpLnNldCh0LGUpO2Vsc2V7Zm9yKHQ9bjtudWxsIT09dC5uZXh0Oyl0PXQubmV4dDt0Lm5leHQ9ZX1lbHNle3ZhciBsPW11KCksYT1UYS5zdXNwZW5zZTthPXtleHBpcmF0aW9uVGltZTpsPWh1KGwsZSxhKSxzdXNwZW5zZUNvbmZpZzphLGFjdGlvbjpuLGVhZ2VyUmVkdWNlcjpudWxsLGVhZ2VyU3RhdGU6bnVsbCxuZXh0Om51bGx9O3ZhciBvPXQubGFzdDtpZihudWxsPT09bylhLm5leHQ9YTtlbHNle3ZhciB1PW8ubmV4dDtudWxsIT09dSYmKGEubmV4dD11KSxvLm5leHQ9YX1pZih0Lmxhc3Q9YSwwPT09ZS5leHBpcmF0aW9uVGltZSYmKG51bGw9PT1yfHwwPT09ci5leHBpcmF0aW9uVGltZSkmJm51bGwhPT0ocj10Lmxhc3RSZW5kZXJlZFJlZHVjZXIpKXRyeXt2YXIgYz10Lmxhc3RSZW5kZXJlZFN0YXRlLHM9cihjLG4pO2lmKGEuZWFnZXJSZWR1Y2VyPXIsYS5lYWdlclN0YXRlPXMsZWwocyxjKSlyZXR1cm59Y2F0Y2goZil7fXZ1KGUsbCl9fXZhciBPaT17cmVhZENvbnRleHQ6ZmEsdXNlQ2FsbGJhY2s6ZmksdXNlQ29udGV4dDpmaSx1c2VFZmZlY3Q6ZmksdXNlSW1wZXJhdGl2ZUhhbmRsZTpmaSx1c2VMYXlvdXRFZmZlY3Q6ZmksdXNlTWVtbzpmaSx1c2VSZWR1Y2VyOmZpLHVzZVJlZjpmaSx1c2VTdGF0ZTpmaSx1c2VEZWJ1Z1ZhbHVlOmZpLHVzZVJlc3BvbmRlcjpmaSx1c2VEZWZlcnJlZFZhbHVlOmZpLHVzZVRyYW5zaXRpb246Zml9LE1pPXtyZWFkQ29udGV4dDpmYSx1c2VDYWxsYmFjazpQaSx1c2VDb250ZXh0OmZhLHVzZUVmZmVjdDpUaSx1c2VJbXBlcmF0aXZlSGFuZGxlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbj1udWxsIT09biYmdm9pZCAwIT09bj9uLmNvbmNhdChbZV0pOm51bGwsRWkoNCwzNixDaS5iaW5kKG51bGwsdCxlKSxuKX0sdXNlTGF5b3V0RWZmZWN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEVpKDQsMzYsZSx0KX0sdXNlTWVtbzpmdW5jdGlvbihlLHQpe3ZhciBuPWhpKCk7cmV0dXJuIHQ9dm9pZCAwPT09dD9udWxsOnQsZT1lKCksbi5tZW1vaXplZFN0YXRlPVtlLHRdLGV9LHVzZVJlZHVjZXI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWhpKCk7cmV0dXJuIHQ9dm9pZCAwIT09bj9uKHQpOnQsci5tZW1vaXplZFN0YXRlPXIuYmFzZVN0YXRlPXQsZT0oZT1yLnF1ZXVlPXtsYXN0Om51bGwsZGlzcGF0Y2g6bnVsbCxsYXN0UmVuZGVyZWRSZWR1Y2VyOmUsbGFzdFJlbmRlcmVkU3RhdGU6dH0pLmRpc3BhdGNoPXppLmJpbmQobnVsbCxaYSxlKSxbci5tZW1vaXplZFN0YXRlLGVdfSx1c2VSZWY6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9e2N1cnJlbnQ6ZX0saGkoKS5tZW1vaXplZFN0YXRlPWV9LHVzZVN0YXRlOmJpLHVzZURlYnVnVmFsdWU6X2ksdXNlUmVzcG9uZGVyOllhLHVzZURlZmVycmVkVmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1iaShlKSxyPW5bMF0sbD1uWzFdO3JldHVybiBUaSgoZnVuY3Rpb24oKXthLnVuc3RhYmxlX25leHQoKGZ1bmN0aW9uKCl7dmFyIG49R2Euc3VzcGVuc2U7R2Euc3VzcGVuc2U9dm9pZCAwPT09dD9udWxsOnQ7dHJ5e2woZSl9ZmluYWxseXtHYS5zdXNwZW5zZT1ufX0pKX0pLFtlLHRdKSxyfSx1c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWJpKCExKSxuPXRbMF0scj10WzFdO3JldHVybltQaSgoZnVuY3Rpb24odCl7cighMCksYS51bnN0YWJsZV9uZXh0KChmdW5jdGlvbigpe3ZhciBuPUdhLnN1c3BlbnNlO0dhLnN1c3BlbnNlPXZvaWQgMD09PWU/bnVsbDplO3RyeXtyKCExKSx0KCl9ZmluYWxseXtHYS5zdXNwZW5zZT1ufX0pKX0pLFtlLG5dKSxuXX19LElpPXtyZWFkQ29udGV4dDpmYSx1c2VDYWxsYmFjazpOaSx1c2VDb250ZXh0OmZhLHVzZUVmZmVjdDpTaSx1c2VJbXBlcmF0aXZlSGFuZGxlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbj1udWxsIT09biYmdm9pZCAwIT09bj9uLmNvbmNhdChbZV0pOm51bGwseGkoNCwzNixDaS5iaW5kKG51bGwsdCxlKSxuKX0sdXNlTGF5b3V0RWZmZWN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHhpKDQsMzYsZSx0KX0sdXNlTWVtbzpmdW5jdGlvbihlLHQpe3ZhciBuPXZpKCk7dD12b2lkIDA9PT10P251bGw6dDt2YXIgcj1uLm1lbW9pemVkU3RhdGU7cmV0dXJuIG51bGwhPT1yJiZudWxsIT09dCYmZGkodCxyWzFdKT9yWzBdOihlPWUoKSxuLm1lbW9pemVkU3RhdGU9W2UsdF0sZSl9LHVzZVJlZHVjZXI6Z2ksdXNlUmVmOmZ1bmN0aW9uKCl7cmV0dXJuIHZpKCkubWVtb2l6ZWRTdGF0ZX0sdXNlU3RhdGU6d2ksdXNlRGVidWdWYWx1ZTpfaSx1c2VSZXNwb25kZXI6WWEsdXNlRGVmZXJyZWRWYWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXdpKCkscj1uWzBdLGw9blsxXTtyZXR1cm4gU2koKGZ1bmN0aW9uKCl7YS51bnN0YWJsZV9uZXh0KChmdW5jdGlvbigpe3ZhciBuPUdhLnN1c3BlbnNlO0dhLnN1c3BlbnNlPXZvaWQgMD09PXQ/bnVsbDp0O3RyeXtsKGUpfWZpbmFsbHl7R2Euc3VzcGVuc2U9bn19KSl9KSxbZSx0XSkscn0sdXNlVHJhbnNpdGlvbjpmdW5jdGlvbihlKXt2YXIgdD13aSgpLG49dFswXSxyPXRbMV07cmV0dXJuW05pKChmdW5jdGlvbih0KXtyKCEwKSxhLnVuc3RhYmxlX25leHQoKGZ1bmN0aW9uKCl7dmFyIG49R2Euc3VzcGVuc2U7R2Euc3VzcGVuc2U9dm9pZCAwPT09ZT9udWxsOmU7dHJ5e3IoITEpLHQoKX1maW5hbGx5e0dhLnN1c3BlbnNlPW59fSkpfSksW2Usbl0pLG5dfX0sUmk9bnVsbCxGaT1udWxsLFVpPSExO2Z1bmN0aW9uIERpKGUsdCl7dmFyIG49UXUoNSxudWxsLG51bGwsMCk7bi5lbGVtZW50VHlwZT0iREVMRVRFRCIsbi50eXBlPSJERUxFVEVEIixuLnN0YXRlTm9kZT10LG4ucmV0dXJuPWUsbi5lZmZlY3RUYWc9OCxudWxsIT09ZS5sYXN0RWZmZWN0PyhlLmxhc3RFZmZlY3QubmV4dEVmZmVjdD1uLGUubGFzdEVmZmVjdD1uKTplLmZpcnN0RWZmZWN0PWUubGFzdEVmZmVjdD1ufWZ1bmN0aW9uIExpKGUsdCl7c3dpdGNoKGUudGFnKXtjYXNlIDU6dmFyIG49ZS50eXBlO3JldHVybiBudWxsIT09KHQ9MSE9PXQubm9kZVR5cGV8fG4udG9Mb3dlckNhc2UoKSE9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT9udWxsOnQpJiYoZS5zdGF0ZU5vZGU9dCwhMCk7Y2FzZSA2OnJldHVybiBudWxsIT09KHQ9IiI9PT1lLnBlbmRpbmdQcm9wc3x8MyE9PXQubm9kZVR5cGU/bnVsbDp0KSYmKGUuc3RhdGVOb2RlPXQsITApO2Nhc2UgMTM6ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gQWkoZSl7aWYoVWkpe3ZhciB0PUZpO2lmKHQpe3ZhciBuPXQ7aWYoIUxpKGUsdCkpe2lmKCEodD1pcihuLm5leHRTaWJsaW5nKSl8fCFMaShlLHQpKXJldHVybiBlLmVmZmVjdFRhZz0tMTAyNSZlLmVmZmVjdFRhZ3wyLFVpPSExLHZvaWQoUmk9ZSk7RGkoUmksbil9Umk9ZSxGaT1pcih0LmZpcnN0Q2hpbGQpfWVsc2UgZS5lZmZlY3RUYWc9LTEwMjUmZS5lZmZlY3RUYWd8MixVaT0hMSxSaT1lfX1mdW5jdGlvbiBXaShlKXtmb3IoZT1lLnJldHVybjtudWxsIT09ZSYmNSE9PWUudGFnJiYzIT09ZS50YWcmJjEzIT09ZS50YWc7KWU9ZS5yZXR1cm47Umk9ZX1mdW5jdGlvbiBqaShlKXtpZihlIT09UmkpcmV0dXJuITE7aWYoIVVpKXJldHVybiBXaShlKSxVaT0hMCwhMTt2YXIgdD1lLnR5cGU7aWYoNSE9PWUudGFnfHwiaGVhZCIhPT10JiYiYm9keSIhPT10JiYhcnIodCxlLm1lbW9pemVkUHJvcHMpKWZvcih0PUZpO3Q7KURpKGUsdCksdD1pcih0Lm5leHRTaWJsaW5nKTtpZihXaShlKSwxMz09PWUudGFnKXtpZighKGU9bnVsbCE9PShlPWUubWVtb2l6ZWRTdGF0ZSk/ZS5kZWh5ZHJhdGVkOm51bGwpKXRocm93IEVycm9yKGkoMzE3KSk7ZTp7Zm9yKGU9ZS5uZXh0U2libGluZyx0PTA7ZTspe2lmKDg9PT1lLm5vZGVUeXBlKXt2YXIgbj1lLmRhdGE7aWYobj09PUduKXtpZigwPT09dCl7Rmk9aXIoZS5uZXh0U2libGluZyk7YnJlYWsgZX10LS19ZWxzZSBuIT09WG4mJm4hPT1abiYmbiE9PUpufHx0Kyt9ZT1lLm5leHRTaWJsaW5nfUZpPW51bGx9fWVsc2UgRmk9Umk/aXIoZS5zdGF0ZU5vZGUubmV4dFNpYmxpbmcpOm51bGw7cmV0dXJuITB9ZnVuY3Rpb24gVmkoKXtGaT1SaT1udWxsLFVpPSExfXZhciBCaT1JLlJlYWN0Q3VycmVudE93bmVyLEhpPSExO2Z1bmN0aW9uICRpKGUsdCxuLHIpe3QuY2hpbGQ9bnVsbD09PWU/RGEodCxudWxsLG4scik6VWEodCxlLmNoaWxkLG4scil9ZnVuY3Rpb24gUWkoZSx0LG4scixsKXtuPW4ucmVuZGVyO3ZhciBhPXQucmVmO3JldHVybiBzYSh0LGwpLHI9cGkoZSx0LG4scixhLGwpLG51bGw9PT1lfHxIaT8odC5lZmZlY3RUYWd8PTEsJGkoZSx0LHIsbCksdC5jaGlsZCk6KHQudXBkYXRlUXVldWU9ZS51cGRhdGVRdWV1ZSx0LmVmZmVjdFRhZyY9LTUxNyxlLmV4cGlyYXRpb25UaW1lPD1sJiYoZS5leHBpcmF0aW9uVGltZT0wKSxjbyhlLHQsbCkpfWZ1bmN0aW9uIEtpKGUsdCxuLHIsbCxhKXtpZihudWxsPT09ZSl7dmFyIGk9bi50eXBlO3JldHVybiJmdW5jdGlvbiIhPT10eXBlb2YgaXx8S3UoaSl8fHZvaWQgMCE9PWkuZGVmYXVsdFByb3BzfHxudWxsIT09bi5jb21wYXJlfHx2b2lkIDAhPT1uLmRlZmF1bHRQcm9wcz8oKGU9WXUobi50eXBlLG51bGwscixudWxsLHQubW9kZSxhKSkucmVmPXQucmVmLGUucmV0dXJuPXQsdC5jaGlsZD1lKToodC50YWc9MTUsdC50eXBlPWkscWkoZSx0LGkscixsLGEpKX1yZXR1cm4gaT1lLmNoaWxkLGw8YSYmKGw9aS5tZW1vaXplZFByb3BzLChuPW51bGwhPT0obj1uLmNvbXBhcmUpP246bmwpKGwscikmJmUucmVmPT09dC5yZWYpP2NvKGUsdCxhKToodC5lZmZlY3RUYWd8PTEsKGU9cXUoaSxyKSkucmVmPXQucmVmLGUucmV0dXJuPXQsdC5jaGlsZD1lKX1mdW5jdGlvbiBxaShlLHQsbixyLGwsYSl7cmV0dXJuIG51bGwhPT1lJiZubChlLm1lbW9pemVkUHJvcHMscikmJmUucmVmPT09dC5yZWYmJihIaT0hMSxsPGEpP2NvKGUsdCxhKTpYaShlLHQsbixyLGEpfWZ1bmN0aW9uIFlpKGUsdCl7dmFyIG49dC5yZWY7KG51bGw9PT1lJiZudWxsIT09bnx8bnVsbCE9PWUmJmUucmVmIT09bikmJih0LmVmZmVjdFRhZ3w9MTI4KX1mdW5jdGlvbiBYaShlLHQsbixyLGwpe3ZhciBhPXdsKG4pP2dsOnZsLmN1cnJlbnQ7cmV0dXJuIGE9YmwodCxhKSxzYSh0LGwpLG49cGkoZSx0LG4scixhLGwpLG51bGw9PT1lfHxIaT8odC5lZmZlY3RUYWd8PTEsJGkoZSx0LG4sbCksdC5jaGlsZCk6KHQudXBkYXRlUXVldWU9ZS51cGRhdGVRdWV1ZSx0LmVmZmVjdFRhZyY9LTUxNyxlLmV4cGlyYXRpb25UaW1lPD1sJiYoZS5leHBpcmF0aW9uVGltZT0wKSxjbyhlLHQsbCkpfWZ1bmN0aW9uIEdpKGUsdCxuLHIsbCl7aWYod2wobikpe3ZhciBhPSEwO1NsKHQpfWVsc2UgYT0hMTtpZihzYSh0LGwpLG51bGw9PT10LnN0YXRlTm9kZSludWxsIT09ZSYmKGUuYWx0ZXJuYXRlPW51bGwsdC5hbHRlcm5hdGU9bnVsbCx0LmVmZmVjdFRhZ3w9MiksTmEodCxuLHIpLE9hKHQsbixyLGwpLHI9ITA7ZWxzZSBpZihudWxsPT09ZSl7dmFyIGk9dC5zdGF0ZU5vZGUsbz10Lm1lbW9pemVkUHJvcHM7aS5wcm9wcz1vO3ZhciB1PWkuY29udGV4dCxjPW4uY29udGV4dFR5cGU7Im9iamVjdCI9PT10eXBlb2YgYyYmbnVsbCE9PWM/Yz1mYShjKTpjPWJsKHQsYz13bChuKT9nbDp2bC5jdXJyZW50KTt2YXIgcz1uLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyxmPSJmdW5jdGlvbiI9PT10eXBlb2Ygc3x8ImZ1bmN0aW9uIj09PXR5cGVvZiBpLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlO2Z8fCJmdW5jdGlvbiIhPT10eXBlb2YgaS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmImZ1bmN0aW9uIiE9PXR5cGVvZiBpLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHN8fChvIT09cnx8dSE9PWMpJiZ6YSh0LGkscixjKSxkYT0hMTt2YXIgZD10Lm1lbW9pemVkU3RhdGU7dT1pLnN0YXRlPWQ7dmFyIHA9dC51cGRhdGVRdWV1ZTtudWxsIT09cCYmKGthKHQscCxyLGksbCksdT10Lm1lbW9pemVkU3RhdGUpLG8hPT1yfHxkIT09dXx8eWwuY3VycmVudHx8ZGE/KCJmdW5jdGlvbiI9PT10eXBlb2YgcyYmKENhKHQsbixzLHIpLHU9dC5tZW1vaXplZFN0YXRlKSwobz1kYXx8UGEodCxuLG8scixkLHUsYykpPyhmfHwiZnVuY3Rpb24iIT09dHlwZW9mIGkuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmImZ1bmN0aW9uIiE9PXR5cGVvZiBpLmNvbXBvbmVudFdpbGxNb3VudHx8KCJmdW5jdGlvbiI9PT10eXBlb2YgaS5jb21wb25lbnRXaWxsTW91bnQmJmkuY29tcG9uZW50V2lsbE1vdW50KCksImZ1bmN0aW9uIj09PXR5cGVvZiBpLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQmJmkuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpKSwiZnVuY3Rpb24iPT09dHlwZW9mIGkuY29tcG9uZW50RGlkTW91bnQmJih0LmVmZmVjdFRhZ3w9NCkpOigiZnVuY3Rpb24iPT09dHlwZW9mIGkuY29tcG9uZW50RGlkTW91bnQmJih0LmVmZmVjdFRhZ3w9NCksdC5tZW1vaXplZFByb3BzPXIsdC5tZW1vaXplZFN0YXRlPXUpLGkucHJvcHM9cixpLnN0YXRlPXUsaS5jb250ZXh0PWMscj1vKTooImZ1bmN0aW9uIj09PXR5cGVvZiBpLmNvbXBvbmVudERpZE1vdW50JiYodC5lZmZlY3RUYWd8PTQpLHI9ITEpfWVsc2UgaT10LnN0YXRlTm9kZSxvPXQubWVtb2l6ZWRQcm9wcyxpLnByb3BzPXQudHlwZT09PXQuZWxlbWVudFR5cGU/bzp0YSh0LnR5cGUsbyksdT1pLmNvbnRleHQsIm9iamVjdCI9PT10eXBlb2YoYz1uLmNvbnRleHRUeXBlKSYmbnVsbCE9PWM/Yz1mYShjKTpjPWJsKHQsYz13bChuKT9nbDp2bC5jdXJyZW50KSwoZj0iZnVuY3Rpb24iPT09dHlwZW9mKHM9bi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMpfHwiZnVuY3Rpb24iPT09dHlwZW9mIGkuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUpfHwiZnVuY3Rpb24iIT09dHlwZW9mIGkuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJiJmdW5jdGlvbiIhPT10eXBlb2YgaS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzfHwobyE9PXJ8fHUhPT1jKSYmemEodCxpLHIsYyksZGE9ITEsdT10Lm1lbW9pemVkU3RhdGUsZD1pLnN0YXRlPXUsbnVsbCE9PShwPXQudXBkYXRlUXVldWUpJiYoa2EodCxwLHIsaSxsKSxkPXQubWVtb2l6ZWRTdGF0ZSksbyE9PXJ8fHUhPT1kfHx5bC5jdXJyZW50fHxkYT8oImZ1bmN0aW9uIj09PXR5cGVvZiBzJiYoQ2EodCxuLHMsciksZD10Lm1lbW9pemVkU3RhdGUpLChzPWRhfHxQYSh0LG4sbyxyLHUsZCxjKSk/KGZ8fCJmdW5jdGlvbiIhPT10eXBlb2YgaS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSYmImZ1bmN0aW9uIiE9PXR5cGVvZiBpLmNvbXBvbmVudFdpbGxVcGRhdGV8fCgiZnVuY3Rpb24iPT09dHlwZW9mIGkuY29tcG9uZW50V2lsbFVwZGF0ZSYmaS5jb21wb25lbnRXaWxsVXBkYXRlKHIsZCxjKSwiZnVuY3Rpb24iPT09dHlwZW9mIGkuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUmJmkuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUocixkLGMpKSwiZnVuY3Rpb24iPT09dHlwZW9mIGkuY29tcG9uZW50RGlkVXBkYXRlJiYodC5lZmZlY3RUYWd8PTQpLCJmdW5jdGlvbiI9PT10eXBlb2YgaS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSYmKHQuZWZmZWN0VGFnfD0yNTYpKTooImZ1bmN0aW9uIiE9PXR5cGVvZiBpLmNvbXBvbmVudERpZFVwZGF0ZXx8bz09PWUubWVtb2l6ZWRQcm9wcyYmdT09PWUubWVtb2l6ZWRTdGF0ZXx8KHQuZWZmZWN0VGFnfD00KSwiZnVuY3Rpb24iIT09dHlwZW9mIGkuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGV8fG89PT1lLm1lbW9pemVkUHJvcHMmJnU9PT1lLm1lbW9pemVkU3RhdGV8fCh0LmVmZmVjdFRhZ3w9MjU2KSx0Lm1lbW9pemVkUHJvcHM9cix0Lm1lbW9pemVkU3RhdGU9ZCksaS5wcm9wcz1yLGkuc3RhdGU9ZCxpLmNvbnRleHQ9YyxyPXMpOigiZnVuY3Rpb24iIT09dHlwZW9mIGkuY29tcG9uZW50RGlkVXBkYXRlfHxvPT09ZS5tZW1vaXplZFByb3BzJiZ1PT09ZS5tZW1vaXplZFN0YXRlfHwodC5lZmZlY3RUYWd8PTQpLCJmdW5jdGlvbiIhPT10eXBlb2YgaS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8bz09PWUubWVtb2l6ZWRQcm9wcyYmdT09PWUubWVtb2l6ZWRTdGF0ZXx8KHQuZWZmZWN0VGFnfD0yNTYpLHI9ITEpO3JldHVybiBKaShlLHQsbixyLGEsbCl9ZnVuY3Rpb24gSmkoZSx0LG4scixsLGEpe1lpKGUsdCk7dmFyIGk9MCE9PSg2NCZ0LmVmZmVjdFRhZyk7aWYoIXImJiFpKXJldHVybiBsJiZDbCh0LG4sITEpLGNvKGUsdCxhKTtyPXQuc3RhdGVOb2RlLEJpLmN1cnJlbnQ9dDt2YXIgbz1pJiYiZnVuY3Rpb24iIT09dHlwZW9mIG4uZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yP251bGw6ci5yZW5kZXIoKTtyZXR1cm4gdC5lZmZlY3RUYWd8PTEsbnVsbCE9PWUmJmk/KHQuY2hpbGQ9VWEodCxlLmNoaWxkLG51bGwsYSksdC5jaGlsZD1VYSh0LG51bGwsbyxhKSk6JGkoZSx0LG8sYSksdC5tZW1vaXplZFN0YXRlPXIuc3RhdGUsbCYmQ2wodCxuLCEwKSx0LmNoaWxkfWZ1bmN0aW9uIFppKGUpe3ZhciB0PWUuc3RhdGVOb2RlO3QucGVuZGluZ0NvbnRleHQ/eGwoMCx0LnBlbmRpbmdDb250ZXh0LHQucGVuZGluZ0NvbnRleHQhPT10LmNvbnRleHQpOnQuY29udGV4dCYmeGwoMCx0LmNvbnRleHQsITEpLEJhKGUsdC5jb250YWluZXJJbmZvKX12YXIgZW8sdG8sbm8scm8sbG89e2RlaHlkcmF0ZWQ6bnVsbCxyZXRyeVRpbWU6MH07ZnVuY3Rpb24gYW8oZSx0LG4pe3ZhciByLGw9dC5tb2RlLGE9dC5wZW5kaW5nUHJvcHMsaT1LYS5jdXJyZW50LG89ITE7aWYoKHI9MCE9PSg2NCZ0LmVmZmVjdFRhZykpfHwocj0wIT09KDImaSkmJihudWxsPT09ZXx8bnVsbCE9PWUubWVtb2l6ZWRTdGF0ZSkpLHI/KG89ITAsdC5lZmZlY3RUYWcmPS02NSk6bnVsbCE9PWUmJm51bGw9PT1lLm1lbW9pemVkU3RhdGV8fHZvaWQgMD09PWEuZmFsbGJhY2t8fCEwPT09YS51bnN0YWJsZV9hdm9pZFRoaXNGYWxsYmFja3x8KGl8PTEpLG1sKEthLDEmaSksbnVsbD09PWUpe2lmKHZvaWQgMCE9PWEuZmFsbGJhY2smJkFpKHQpLG8pe2lmKG89YS5mYWxsYmFjaywoYT1YdShudWxsLGwsMCxudWxsKSkucmV0dXJuPXQsMD09PSgyJnQubW9kZSkpZm9yKGU9bnVsbCE9PXQubWVtb2l6ZWRTdGF0ZT90LmNoaWxkLmNoaWxkOnQuY2hpbGQsYS5jaGlsZD1lO251bGwhPT1lOyllLnJldHVybj1hLGU9ZS5zaWJsaW5nO3JldHVybihuPVh1KG8sbCxuLG51bGwpKS5yZXR1cm49dCxhLnNpYmxpbmc9bix0Lm1lbW9pemVkU3RhdGU9bG8sdC5jaGlsZD1hLG59cmV0dXJuIGw9YS5jaGlsZHJlbix0Lm1lbW9pemVkU3RhdGU9bnVsbCx0LmNoaWxkPURhKHQsbnVsbCxsLG4pfWlmKG51bGwhPT1lLm1lbW9pemVkU3RhdGUpe2lmKGw9KGU9ZS5jaGlsZCkuc2libGluZyxvKXtpZihhPWEuZmFsbGJhY2ssKG49cXUoZSxlLnBlbmRpbmdQcm9wcykpLnJldHVybj10LDA9PT0oMiZ0Lm1vZGUpJiYobz1udWxsIT09dC5tZW1vaXplZFN0YXRlP3QuY2hpbGQuY2hpbGQ6dC5jaGlsZCkhPT1lLmNoaWxkKWZvcihuLmNoaWxkPW87bnVsbCE9PW87KW8ucmV0dXJuPW4sbz1vLnNpYmxpbmc7cmV0dXJuKGw9cXUobCxhLGwuZXhwaXJhdGlvblRpbWUpKS5yZXR1cm49dCxuLnNpYmxpbmc9bCxuLmNoaWxkRXhwaXJhdGlvblRpbWU9MCx0Lm1lbW9pemVkU3RhdGU9bG8sdC5jaGlsZD1uLGx9cmV0dXJuIG49VWEodCxlLmNoaWxkLGEuY2hpbGRyZW4sbiksdC5tZW1vaXplZFN0YXRlPW51bGwsdC5jaGlsZD1ufWlmKGU9ZS5jaGlsZCxvKXtpZihvPWEuZmFsbGJhY2ssKGE9WHUobnVsbCxsLDAsbnVsbCkpLnJldHVybj10LGEuY2hpbGQ9ZSxudWxsIT09ZSYmKGUucmV0dXJuPWEpLDA9PT0oMiZ0Lm1vZGUpKWZvcihlPW51bGwhPT10Lm1lbW9pemVkU3RhdGU/dC5jaGlsZC5jaGlsZDp0LmNoaWxkLGEuY2hpbGQ9ZTtudWxsIT09ZTspZS5yZXR1cm49YSxlPWUuc2libGluZztyZXR1cm4obj1YdShvLGwsbixudWxsKSkucmV0dXJuPXQsYS5zaWJsaW5nPW4sbi5lZmZlY3RUYWd8PTIsYS5jaGlsZEV4cGlyYXRpb25UaW1lPTAsdC5tZW1vaXplZFN0YXRlPWxvLHQuY2hpbGQ9YSxufXJldHVybiB0Lm1lbW9pemVkU3RhdGU9bnVsbCx0LmNoaWxkPVVhKHQsZSxhLmNoaWxkcmVuLG4pfWZ1bmN0aW9uIGlvKGUsdCl7ZS5leHBpcmF0aW9uVGltZTx0JiYoZS5leHBpcmF0aW9uVGltZT10KTt2YXIgbj1lLmFsdGVybmF0ZTtudWxsIT09biYmbi5leHBpcmF0aW9uVGltZTx0JiYobi5leHBpcmF0aW9uVGltZT10KSxjYShlLnJldHVybix0KX1mdW5jdGlvbiBvbyhlLHQsbixyLGwsYSl7dmFyIGk9ZS5tZW1vaXplZFN0YXRlO251bGw9PT1pP2UubWVtb2l6ZWRTdGF0ZT17aXNCYWNrd2FyZHM6dCxyZW5kZXJpbmc6bnVsbCxsYXN0OnIsdGFpbDpuLHRhaWxFeHBpcmF0aW9uOjAsdGFpbE1vZGU6bCxsYXN0RWZmZWN0OmF9OihpLmlzQmFja3dhcmRzPXQsaS5yZW5kZXJpbmc9bnVsbCxpLmxhc3Q9cixpLnRhaWw9bixpLnRhaWxFeHBpcmF0aW9uPTAsaS50YWlsTW9kZT1sLGkubGFzdEVmZmVjdD1hKX1mdW5jdGlvbiB1byhlLHQsbil7dmFyIHI9dC5wZW5kaW5nUHJvcHMsbD1yLnJldmVhbE9yZGVyLGE9ci50YWlsO2lmKCRpKGUsdCxyLmNoaWxkcmVuLG4pLDAhPT0oMiYocj1LYS5jdXJyZW50KSkpcj0xJnJ8Mix0LmVmZmVjdFRhZ3w9NjQ7ZWxzZXtpZihudWxsIT09ZSYmMCE9PSg2NCZlLmVmZmVjdFRhZykpZTpmb3IoZT10LmNoaWxkO251bGwhPT1lOyl7aWYoMTM9PT1lLnRhZyludWxsIT09ZS5tZW1vaXplZFN0YXRlJiZpbyhlLG4pO2Vsc2UgaWYoMTk9PT1lLnRhZylpbyhlLG4pO2Vsc2UgaWYobnVsbCE9PWUuY2hpbGQpe2UuY2hpbGQucmV0dXJuPWUsZT1lLmNoaWxkO2NvbnRpbnVlfWlmKGU9PT10KWJyZWFrIGU7Zm9yKDtudWxsPT09ZS5zaWJsaW5nOyl7aWYobnVsbD09PWUucmV0dXJufHxlLnJldHVybj09PXQpYnJlYWsgZTtlPWUucmV0dXJufWUuc2libGluZy5yZXR1cm49ZS5yZXR1cm4sZT1lLnNpYmxpbmd9ciY9MX1pZihtbChLYSxyKSwwPT09KDImdC5tb2RlKSl0Lm1lbW9pemVkU3RhdGU9bnVsbDtlbHNlIHN3aXRjaChsKXtjYXNlImZvcndhcmRzIjpmb3Iobj10LmNoaWxkLGw9bnVsbDtudWxsIT09bjspbnVsbCE9PShlPW4uYWx0ZXJuYXRlKSYmbnVsbD09PXFhKGUpJiYobD1uKSxuPW4uc2libGluZztudWxsPT09KG49bCk/KGw9dC5jaGlsZCx0LmNoaWxkPW51bGwpOihsPW4uc2libGluZyxuLnNpYmxpbmc9bnVsbCksb28odCwhMSxsLG4sYSx0Lmxhc3RFZmZlY3QpO2JyZWFrO2Nhc2UiYmFja3dhcmRzIjpmb3Iobj1udWxsLGw9dC5jaGlsZCx0LmNoaWxkPW51bGw7bnVsbCE9PWw7KXtpZihudWxsIT09KGU9bC5hbHRlcm5hdGUpJiZudWxsPT09cWEoZSkpe3QuY2hpbGQ9bDticmVha31lPWwuc2libGluZyxsLnNpYmxpbmc9bixuPWwsbD1lfW9vKHQsITAsbixudWxsLGEsdC5sYXN0RWZmZWN0KTticmVhaztjYXNlInRvZ2V0aGVyIjpvbyh0LCExLG51bGwsbnVsbCx2b2lkIDAsdC5sYXN0RWZmZWN0KTticmVhaztkZWZhdWx0OnQubWVtb2l6ZWRTdGF0ZT1udWxsfXJldHVybiB0LmNoaWxkfWZ1bmN0aW9uIGNvKGUsdCxuKXtudWxsIT09ZSYmKHQuZGVwZW5kZW5jaWVzPWUuZGVwZW5kZW5jaWVzKTt2YXIgcj10LmV4cGlyYXRpb25UaW1lO2lmKDAhPT1yJiZQdShyKSx0LmNoaWxkRXhwaXJhdGlvblRpbWU8bilyZXR1cm4gbnVsbDtpZihudWxsIT09ZSYmdC5jaGlsZCE9PWUuY2hpbGQpdGhyb3cgRXJyb3IoaSgxNTMpKTtpZihudWxsIT09dC5jaGlsZCl7Zm9yKG49cXUoZT10LmNoaWxkLGUucGVuZGluZ1Byb3BzLGUuZXhwaXJhdGlvblRpbWUpLHQuY2hpbGQ9bixuLnJldHVybj10O251bGwhPT1lLnNpYmxpbmc7KWU9ZS5zaWJsaW5nLChuPW4uc2libGluZz1xdShlLGUucGVuZGluZ1Byb3BzLGUuZXhwaXJhdGlvblRpbWUpKS5yZXR1cm49dDtuLnNpYmxpbmc9bnVsbH1yZXR1cm4gdC5jaGlsZH1mdW5jdGlvbiBzbyhlKXtlLmVmZmVjdFRhZ3w9NH1mdW5jdGlvbiBmbyhlLHQpe3N3aXRjaChlLnRhaWxNb2RlKXtjYXNlImhpZGRlbiI6dD1lLnRhaWw7Zm9yKHZhciBuPW51bGw7bnVsbCE9PXQ7KW51bGwhPT10LmFsdGVybmF0ZSYmKG49dCksdD10LnNpYmxpbmc7bnVsbD09PW4/ZS50YWlsPW51bGw6bi5zaWJsaW5nPW51bGw7YnJlYWs7Y2FzZSJjb2xsYXBzZWQiOm49ZS50YWlsO2Zvcih2YXIgcj1udWxsO251bGwhPT1uOyludWxsIT09bi5hbHRlcm5hdGUmJihyPW4pLG49bi5zaWJsaW5nO251bGw9PT1yP3R8fG51bGw9PT1lLnRhaWw/ZS50YWlsPW51bGw6ZS50YWlsLnNpYmxpbmc9bnVsbDpyLnNpYmxpbmc9bnVsbH19ZnVuY3Rpb24gcG8oZSl7c3dpdGNoKGUudGFnKXtjYXNlIDE6d2woZS50eXBlKSYma2woKTt2YXIgdD1lLmVmZmVjdFRhZztyZXR1cm4gNDA5NiZ0PyhlLmVmZmVjdFRhZz0tNDA5NyZ0fDY0LGUpOm51bGw7Y2FzZSAzOmlmKEhhKCksRWwoKSwwIT09KDY0Jih0PWUuZWZmZWN0VGFnKSkpdGhyb3cgRXJyb3IoaSgyODUpKTtyZXR1cm4gZS5lZmZlY3RUYWc9LTQwOTcmdHw2NCxlO2Nhc2UgNTpyZXR1cm4gUWEoZSksbnVsbDtjYXNlIDEzOnJldHVybiBwbChLYSksNDA5NiYodD1lLmVmZmVjdFRhZyk/KGUuZWZmZWN0VGFnPS00MDk3JnR8NjQsZSk6bnVsbDtjYXNlIDE5OnJldHVybiBwbChLYSksbnVsbDtjYXNlIDQ6cmV0dXJuIEhhKCksbnVsbDtjYXNlIDEwOnJldHVybiB1YShlKSxudWxsO2RlZmF1bHQ6cmV0dXJuIG51bGx9fWZ1bmN0aW9uIG1vKGUsdCl7cmV0dXJue3ZhbHVlOmUsc291cmNlOnQsc3RhY2s6Sih0KX19ZW89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dC5jaGlsZDtudWxsIT09bjspe2lmKDU9PT1uLnRhZ3x8Nj09PW4udGFnKWUuYXBwZW5kQ2hpbGQobi5zdGF0ZU5vZGUpO2Vsc2UgaWYoNCE9PW4udGFnJiZudWxsIT09bi5jaGlsZCl7bi5jaGlsZC5yZXR1cm49bixuPW4uY2hpbGQ7Y29udGludWV9aWYobj09PXQpYnJlYWs7Zm9yKDtudWxsPT09bi5zaWJsaW5nOyl7aWYobnVsbD09PW4ucmV0dXJufHxuLnJldHVybj09PXQpcmV0dXJuO249bi5yZXR1cm59bi5zaWJsaW5nLnJldHVybj1uLnJldHVybixuPW4uc2libGluZ319LHRvPWZ1bmN0aW9uKCl7fSxubz1mdW5jdGlvbihlLHQsbixyLGEpe3ZhciBpPWUubWVtb2l6ZWRQcm9wcztpZihpIT09cil7dmFyIG8sdSxjPXQuc3RhdGVOb2RlO3N3aXRjaChWYShBYS5jdXJyZW50KSxlPW51bGwsbil7Y2FzZSJpbnB1dCI6aT1DZShjLGkpLHI9Q2UoYyxyKSxlPVtdO2JyZWFrO2Nhc2Uib3B0aW9uIjppPU1lKGMsaSkscj1NZShjLHIpLGU9W107YnJlYWs7Y2FzZSJzZWxlY3QiOmk9bCh7fSxpLHt2YWx1ZTp2b2lkIDB9KSxyPWwoe30scix7dmFsdWU6dm9pZCAwfSksZT1bXTticmVhaztjYXNlInRleHRhcmVhIjppPVJlKGMsaSkscj1SZShjLHIpLGU9W107YnJlYWs7ZGVmYXVsdDoiZnVuY3Rpb24iIT09dHlwZW9mIGkub25DbGljayYmImZ1bmN0aW9uIj09PXR5cGVvZiByLm9uQ2xpY2smJihjLm9uY2xpY2s9SG4pfWZvcihvIGluIGpuKG4sciksbj1udWxsLGkpaWYoIXIuaGFzT3duUHJvcGVydHkobykmJmkuaGFzT3duUHJvcGVydHkobykmJm51bGwhPWlbb10paWYoInN0eWxlIj09PW8pZm9yKHUgaW4gYz1pW29dKWMuaGFzT3duUHJvcGVydHkodSkmJihufHwobj17fSksblt1XT0iIik7ZWxzZSJkYW5nZXJvdXNseVNldElubmVySFRNTCIhPT1vJiYiY2hpbGRyZW4iIT09byYmInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyIhPT1vJiYic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIiE9PW8mJiJhdXRvRm9jdXMiIT09byYmKHAuaGFzT3duUHJvcGVydHkobyk/ZXx8KGU9W10pOihlPWV8fFtdKS5wdXNoKG8sbnVsbCkpO2ZvcihvIGluIHIpe3ZhciBzPXJbb107aWYoYz1udWxsIT1pP2lbb106dm9pZCAwLHIuaGFzT3duUHJvcGVydHkobykmJnMhPT1jJiYobnVsbCE9c3x8bnVsbCE9YykpaWYoInN0eWxlIj09PW8paWYoYyl7Zm9yKHUgaW4gYykhYy5oYXNPd25Qcm9wZXJ0eSh1KXx8cyYmcy5oYXNPd25Qcm9wZXJ0eSh1KXx8KG58fChuPXt9KSxuW3VdPSIiKTtmb3IodSBpbiBzKXMuaGFzT3duUHJvcGVydHkodSkmJmNbdV0hPT1zW3VdJiYobnx8KG49e30pLG5bdV09c1t1XSl9ZWxzZSBufHwoZXx8KGU9W10pLGUucHVzaChvLG4pKSxuPXM7ZWxzZSJkYW5nZXJvdXNseVNldElubmVySFRNTCI9PT1vPyhzPXM/cy5fX2h0bWw6dm9pZCAwLGM9Yz9jLl9faHRtbDp2b2lkIDAsbnVsbCE9cyYmYyE9PXMmJihlPWV8fFtdKS5wdXNoKG8sIiIrcykpOiJjaGlsZHJlbiI9PT1vP2M9PT1zfHwic3RyaW5nIiE9PXR5cGVvZiBzJiYibnVtYmVyIiE9PXR5cGVvZiBzfHwoZT1lfHxbXSkucHVzaChvLCIiK3MpOiJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmciIT09byYmInN1cHByZXNzSHlkcmF0aW9uV2FybmluZyIhPT1vJiYocC5oYXNPd25Qcm9wZXJ0eShvKT8obnVsbCE9cyYmQm4oYSxvKSxlfHxjPT09c3x8KGU9W10pKTooZT1lfHxbXSkucHVzaChvLHMpKX1uJiYoZT1lfHxbXSkucHVzaCgic3R5bGUiLG4pLGE9ZSwodC51cGRhdGVRdWV1ZT1hKSYmc28odCl9fSxybz1mdW5jdGlvbihlLHQsbixyKXtuIT09ciYmc28odCl9O3ZhciBobz0iZnVuY3Rpb24iPT09dHlwZW9mIFdlYWtTZXQ/V2Vha1NldDpTZXQ7ZnVuY3Rpb24gdm8oZSx0KXt2YXIgbj10LnNvdXJjZSxyPXQuc3RhY2s7bnVsbD09PXImJm51bGwhPT1uJiYocj1KKG4pKSxudWxsIT09biYmRyhuLnR5cGUpLHQ9dC52YWx1ZSxudWxsIT09ZSYmMT09PWUudGFnJiZHKGUudHlwZSk7dHJ5e2NvbnNvbGUuZXJyb3IodCl9Y2F0Y2gobCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0aHJvdyBsfSkpfX1mdW5jdGlvbiB5byhlKXt2YXIgdD1lLnJlZjtpZihudWxsIT09dClpZigiZnVuY3Rpb24iPT09dHlwZW9mIHQpdHJ5e3QobnVsbCl9Y2F0Y2gobil7V3UoZSxuKX1lbHNlIHQuY3VycmVudD1udWxsfWZ1bmN0aW9uIGdvKGUsdCl7c3dpdGNoKHQudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE1OmJvKDIsMCx0KTticmVhaztjYXNlIDE6aWYoMjU2JnQuZWZmZWN0VGFnJiZudWxsIT09ZSl7dmFyIG49ZS5tZW1vaXplZFByb3BzLHI9ZS5tZW1vaXplZFN0YXRlO3Q9KGU9dC5zdGF0ZU5vZGUpLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHQuZWxlbWVudFR5cGU9PT10LnR5cGU/bjp0YSh0LnR5cGUsbiksciksZS5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZT10fWJyZWFrO2Nhc2UgMzpjYXNlIDU6Y2FzZSA2OmNhc2UgNDpjYXNlIDE3OmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoaSgxNjMpKX19ZnVuY3Rpb24gYm8oZSx0LG4pe2lmKG51bGwhPT0obj1udWxsIT09KG49bi51cGRhdGVRdWV1ZSk/bi5sYXN0RWZmZWN0Om51bGwpKXt2YXIgcj1uPW4ubmV4dDtkb3tpZigwIT09KHIudGFnJmUpKXt2YXIgbD1yLmRlc3Ryb3k7ci5kZXN0cm95PXZvaWQgMCx2b2lkIDAhPT1sJiZsKCl9MCE9PShyLnRhZyZ0KSYmKGw9ci5jcmVhdGUsci5kZXN0cm95PWwoKSkscj1yLm5leHR9d2hpbGUociE9PW4pfX1mdW5jdGlvbiB3byhlLHQsbil7c3dpdGNoKCJmdW5jdGlvbiI9PT10eXBlb2YgSHUmJkh1KHQpLHQudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6aWYobnVsbCE9PShlPXQudXBkYXRlUXVldWUpJiZudWxsIT09KGU9ZS5sYXN0RWZmZWN0KSl7dmFyIHI9ZS5uZXh0O3FsKDk3PG4/OTc6biwoZnVuY3Rpb24oKXt2YXIgZT1yO2Rve3ZhciBuPWUuZGVzdHJveTtpZih2b2lkIDAhPT1uKXt2YXIgbD10O3RyeXtuKCl9Y2F0Y2goYSl7V3UobCxhKX19ZT1lLm5leHR9d2hpbGUoZSE9PXIpfSkpfWJyZWFrO2Nhc2UgMTp5byh0KSwiZnVuY3Rpb24iPT09dHlwZW9mKG49dC5zdGF0ZU5vZGUpLmNvbXBvbmVudFdpbGxVbm1vdW50JiZmdW5jdGlvbihlLHQpe3RyeXt0LnByb3BzPWUubWVtb2l6ZWRQcm9wcyx0LnN0YXRlPWUubWVtb2l6ZWRTdGF0ZSx0LmNvbXBvbmVudFdpbGxVbm1vdW50KCl9Y2F0Y2gobil7V3UoZSxuKX19KHQsbik7YnJlYWs7Y2FzZSA1OnlvKHQpO2JyZWFrO2Nhc2UgNDpUbyhlLHQsbil9fWZ1bmN0aW9uIGtvKGUpe3ZhciB0PWUuYWx0ZXJuYXRlO2UucmV0dXJuPW51bGwsZS5jaGlsZD1udWxsLGUubWVtb2l6ZWRTdGF0ZT1udWxsLGUudXBkYXRlUXVldWU9bnVsbCxlLmRlcGVuZGVuY2llcz1udWxsLGUuYWx0ZXJuYXRlPW51bGwsZS5maXJzdEVmZmVjdD1udWxsLGUubGFzdEVmZmVjdD1udWxsLGUucGVuZGluZ1Byb3BzPW51bGwsZS5tZW1vaXplZFByb3BzPW51bGwsbnVsbCE9PXQmJmtvKHQpfWZ1bmN0aW9uIEVvKGUpe3JldHVybiA1PT09ZS50YWd8fDM9PT1lLnRhZ3x8ND09PWUudGFnfWZ1bmN0aW9uIHhvKGUpe2U6e2Zvcih2YXIgdD1lLnJldHVybjtudWxsIT09dDspe2lmKEVvKHQpKXt2YXIgbj10O2JyZWFrIGV9dD10LnJldHVybn10aHJvdyBFcnJvcihpKDE2MCkpfXN3aXRjaCh0PW4uc3RhdGVOb2RlLG4udGFnKXtjYXNlIDU6dmFyIHI9ITE7YnJlYWs7Y2FzZSAzOmNhc2UgNDp0PXQuY29udGFpbmVySW5mbyxyPSEwO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoaSgxNjEpKX0xNiZuLmVmZmVjdFRhZyYmKEJlKHQsIiIpLG4uZWZmZWN0VGFnJj0tMTcpO2U6dDpmb3Iobj1lOzspe2Zvcig7bnVsbD09PW4uc2libGluZzspe2lmKG51bGw9PT1uLnJldHVybnx8RW8obi5yZXR1cm4pKXtuPW51bGw7YnJlYWsgZX1uPW4ucmV0dXJufWZvcihuLnNpYmxpbmcucmV0dXJuPW4ucmV0dXJuLG49bi5zaWJsaW5nOzUhPT1uLnRhZyYmNiE9PW4udGFnJiYxOCE9PW4udGFnOyl7aWYoMiZuLmVmZmVjdFRhZyljb250aW51ZSB0O2lmKG51bGw9PT1uLmNoaWxkfHw0PT09bi50YWcpY29udGludWUgdDtuLmNoaWxkLnJldHVybj1uLG49bi5jaGlsZH1pZighKDImbi5lZmZlY3RUYWcpKXtuPW4uc3RhdGVOb2RlO2JyZWFrIGV9fWZvcih2YXIgbD1lOzspe3ZhciBhPTU9PT1sLnRhZ3x8Nj09PWwudGFnO2lmKGEpe3ZhciBvPWE/bC5zdGF0ZU5vZGU6bC5zdGF0ZU5vZGUuaW5zdGFuY2U7aWYobilpZihyKXt2YXIgdT1vO289biw4PT09KGE9dCkubm9kZVR5cGU/YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh1LG8pOmEuaW5zZXJ0QmVmb3JlKHUsbyl9ZWxzZSB0Lmluc2VydEJlZm9yZShvLG4pO2Vsc2Ugcj8oOD09PSh1PXQpLm5vZGVUeXBlPyhhPXUucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKG8sdSk6KGE9dSkuYXBwZW5kQ2hpbGQobyksbnVsbCE9PSh1PXUuX3JlYWN0Um9vdENvbnRhaW5lcikmJnZvaWQgMCE9PXV8fG51bGwhPT1hLm9uY2xpY2t8fChhLm9uY2xpY2s9SG4pKTp0LmFwcGVuZENoaWxkKG8pfWVsc2UgaWYoNCE9PWwudGFnJiZudWxsIT09bC5jaGlsZCl7bC5jaGlsZC5yZXR1cm49bCxsPWwuY2hpbGQ7Y29udGludWV9aWYobD09PWUpYnJlYWs7Zm9yKDtudWxsPT09bC5zaWJsaW5nOyl7aWYobnVsbD09PWwucmV0dXJufHxsLnJldHVybj09PWUpcmV0dXJuO2w9bC5yZXR1cm59bC5zaWJsaW5nLnJldHVybj1sLnJldHVybixsPWwuc2libGluZ319ZnVuY3Rpb24gVG8oZSx0LG4pe2Zvcih2YXIgcixsLGE9dCxvPSExOzspe2lmKCFvKXtvPWEucmV0dXJuO2U6Zm9yKDs7KXtpZihudWxsPT09byl0aHJvdyBFcnJvcihpKDE2MCkpO3N3aXRjaChyPW8uc3RhdGVOb2RlLG8udGFnKXtjYXNlIDU6bD0hMTticmVhayBlO2Nhc2UgMzpjYXNlIDQ6cj1yLmNvbnRhaW5lckluZm8sbD0hMDticmVhayBlfW89by5yZXR1cm59bz0hMH1pZig1PT09YS50YWd8fDY9PT1hLnRhZyl7ZTpmb3IodmFyIHU9ZSxjPWEscz1uLGY9Yzs7KWlmKHdvKHUsZixzKSxudWxsIT09Zi5jaGlsZCYmNCE9PWYudGFnKWYuY2hpbGQucmV0dXJuPWYsZj1mLmNoaWxkO2Vsc2V7aWYoZj09PWMpYnJlYWs7Zm9yKDtudWxsPT09Zi5zaWJsaW5nOyl7aWYobnVsbD09PWYucmV0dXJufHxmLnJldHVybj09PWMpYnJlYWsgZTtmPWYucmV0dXJufWYuc2libGluZy5yZXR1cm49Zi5yZXR1cm4sZj1mLnNpYmxpbmd9bD8odT1yLGM9YS5zdGF0ZU5vZGUsOD09PXUubm9kZVR5cGU/dS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpOnUucmVtb3ZlQ2hpbGQoYykpOnIucmVtb3ZlQ2hpbGQoYS5zdGF0ZU5vZGUpfWVsc2UgaWYoND09PWEudGFnKXtpZihudWxsIT09YS5jaGlsZCl7cj1hLnN0YXRlTm9kZS5jb250YWluZXJJbmZvLGw9ITAsYS5jaGlsZC5yZXR1cm49YSxhPWEuY2hpbGQ7Y29udGludWV9fWVsc2UgaWYod28oZSxhLG4pLG51bGwhPT1hLmNoaWxkKXthLmNoaWxkLnJldHVybj1hLGE9YS5jaGlsZDtjb250aW51ZX1pZihhPT09dClicmVhaztmb3IoO251bGw9PT1hLnNpYmxpbmc7KXtpZihudWxsPT09YS5yZXR1cm58fGEucmV0dXJuPT09dClyZXR1cm47ND09PShhPWEucmV0dXJuKS50YWcmJihvPSExKX1hLnNpYmxpbmcucmV0dXJuPWEucmV0dXJuLGE9YS5zaWJsaW5nfX1mdW5jdGlvbiBTbyhlLHQpe3N3aXRjaCh0LnRhZyl7Y2FzZSAwOmNhc2UgMTE6Y2FzZSAxNDpjYXNlIDE1OmJvKDQsOCx0KTticmVhaztjYXNlIDE6YnJlYWs7Y2FzZSA1OnZhciBuPXQuc3RhdGVOb2RlO2lmKG51bGwhPW4pe3ZhciByPXQubWVtb2l6ZWRQcm9wcyxsPW51bGwhPT1lP2UubWVtb2l6ZWRQcm9wczpyO2U9dC50eXBlO3ZhciBhPXQudXBkYXRlUXVldWU7aWYodC51cGRhdGVRdWV1ZT1udWxsLG51bGwhPT1hKXtmb3Iobltzcl09ciwiaW5wdXQiPT09ZSYmInJhZGlvIj09PXIudHlwZSYmbnVsbCE9ci5uYW1lJiZQZShuLHIpLFZuKGUsbCksdD1WbihlLHIpLGw9MDtsPGEubGVuZ3RoO2wrPTIpe3ZhciBvPWFbbF0sdT1hW2wrMV07InN0eWxlIj09PW8/QW4obix1KToiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiPT09bz9WZShuLHUpOiJjaGlsZHJlbiI9PT1vP0JlKG4sdSk6RWUobixvLHUsdCl9c3dpdGNoKGUpe2Nhc2UiaW5wdXQiOk5lKG4scik7YnJlYWs7Y2FzZSJ0ZXh0YXJlYSI6VWUobixyKTticmVhaztjYXNlInNlbGVjdCI6dD1uLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGUsbi5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlPSEhci5tdWx0aXBsZSxudWxsIT0oZT1yLnZhbHVlKT9JZShuLCEhci5tdWx0aXBsZSxlLCExKTp0IT09ISFyLm11bHRpcGxlJiYobnVsbCE9ci5kZWZhdWx0VmFsdWU/SWUobiwhIXIubXVsdGlwbGUsci5kZWZhdWx0VmFsdWUsITApOkllKG4sISFyLm11bHRpcGxlLHIubXVsdGlwbGU/W106IiIsITEpKX19fWJyZWFrO2Nhc2UgNjppZihudWxsPT09dC5zdGF0ZU5vZGUpdGhyb3cgRXJyb3IoaSgxNjIpKTt0LnN0YXRlTm9kZS5ub2RlVmFsdWU9dC5tZW1vaXplZFByb3BzO2JyZWFrO2Nhc2UgMzoodD10LnN0YXRlTm9kZSkuaHlkcmF0ZSYmKHQuaHlkcmF0ZT0hMSxTdCh0LmNvbnRhaW5lckluZm8pKTticmVhaztjYXNlIDEyOmJyZWFrO2Nhc2UgMTM6aWYobj10LG51bGw9PT10Lm1lbW9pemVkU3RhdGU/cj0hMToocj0hMCxuPXQuY2hpbGQsdHU9JGwoKSksbnVsbCE9PW4pZTpmb3IoZT1uOzspe2lmKDU9PT1lLnRhZylhPWUuc3RhdGVOb2RlLHI/ImZ1bmN0aW9uIj09PXR5cGVvZihhPWEuc3R5bGUpLnNldFByb3BlcnR5P2Euc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIiwiaW1wb3J0YW50Iik6YS5kaXNwbGF5PSJub25lIjooYT1lLnN0YXRlTm9kZSxsPXZvaWQgMCE9PShsPWUubWVtb2l6ZWRQcm9wcy5zdHlsZSkmJm51bGwhPT1sJiZsLmhhc093blByb3BlcnR5KCJkaXNwbGF5Iik/bC5kaXNwbGF5Om51bGwsYS5zdHlsZS5kaXNwbGF5PUxuKCJkaXNwbGF5IixsKSk7ZWxzZSBpZig2PT09ZS50YWcpZS5zdGF0ZU5vZGUubm9kZVZhbHVlPXI/IiI6ZS5tZW1vaXplZFByb3BzO2Vsc2V7aWYoMTM9PT1lLnRhZyYmbnVsbCE9PWUubWVtb2l6ZWRTdGF0ZSYmbnVsbD09PWUubWVtb2l6ZWRTdGF0ZS5kZWh5ZHJhdGVkKXsoYT1lLmNoaWxkLnNpYmxpbmcpLnJldHVybj1lLGU9YTtjb250aW51ZX1pZihudWxsIT09ZS5jaGlsZCl7ZS5jaGlsZC5yZXR1cm49ZSxlPWUuY2hpbGQ7Y29udGludWV9fWlmKGU9PT1uKWJyZWFrIGU7Zm9yKDtudWxsPT09ZS5zaWJsaW5nOyl7aWYobnVsbD09PWUucmV0dXJufHxlLnJldHVybj09PW4pYnJlYWsgZTtlPWUucmV0dXJufWUuc2libGluZy5yZXR1cm49ZS5yZXR1cm4sZT1lLnNpYmxpbmd9Q28odCk7YnJlYWs7Y2FzZSAxOTpDbyh0KTticmVhaztjYXNlIDE3OmNhc2UgMjA6Y2FzZSAyMTpicmVhaztkZWZhdWx0OnRocm93IEVycm9yKGkoMTYzKSl9fWZ1bmN0aW9uIENvKGUpe3ZhciB0PWUudXBkYXRlUXVldWU7aWYobnVsbCE9PXQpe2UudXBkYXRlUXVldWU9bnVsbDt2YXIgbj1lLnN0YXRlTm9kZTtudWxsPT09biYmKG49ZS5zdGF0ZU5vZGU9bmV3IGhvKSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPVZ1LmJpbmQobnVsbCxlLHQpO24uaGFzKHQpfHwobi5hZGQodCksdC50aGVuKHIscikpfSkpfX12YXIgX289ImZ1bmN0aW9uIj09PXR5cGVvZiBXZWFrTWFwP1dlYWtNYXA6TWFwO2Z1bmN0aW9uIFBvKGUsdCxuKXsobj1oYShuLG51bGwpKS50YWc9MyxuLnBheWxvYWQ9e2VsZW1lbnQ6bnVsbH07dmFyIHI9dC52YWx1ZTtyZXR1cm4gbi5jYWxsYmFjaz1mdW5jdGlvbigpe2x1fHwobHU9ITAsYXU9ciksdm8oZSx0KX0sbn1mdW5jdGlvbiBObyhlLHQsbil7KG49aGEobixudWxsKSkudGFnPTM7dmFyIHI9ZS50eXBlLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcjtpZigiZnVuY3Rpb24iPT09dHlwZW9mIHIpe3ZhciBsPXQudmFsdWU7bi5wYXlsb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIHZvKGUsdCkscihsKX19dmFyIGE9ZS5zdGF0ZU5vZGU7cmV0dXJuIG51bGwhPT1hJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuY29tcG9uZW50RGlkQ2F0Y2gmJihuLmNhbGxiYWNrPWZ1bmN0aW9uKCl7ImZ1bmN0aW9uIiE9PXR5cGVvZiByJiYobnVsbD09PWl1P2l1PW5ldyBTZXQoW3RoaXNdKTppdS5hZGQodGhpcyksdm8oZSx0KSk7dmFyIG49dC5zdGFjazt0aGlzLmNvbXBvbmVudERpZENhdGNoKHQudmFsdWUse2NvbXBvbmVudFN0YWNrOm51bGwhPT1uP246IiJ9KX0pLG59dmFyIHpvLE9vPU1hdGguY2VpbCxNbz1JLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsSW89SS5SZWFjdEN1cnJlbnRPd25lcixSbz0wLEZvPTgsVW89MTYsRG89MzIsTG89MCxBbz0xLFdvPTIsam89MyxWbz00LEJvPTUsSG89Um8sJG89bnVsbCxRbz1udWxsLEtvPTAscW89TG8sWW89bnVsbCxYbz0xMDczNzQxODIzLEdvPTEwNzM3NDE4MjMsSm89bnVsbCxabz0wLGV1PSExLHR1PTAsbnU9NTAwLHJ1PW51bGwsbHU9ITEsYXU9bnVsbCxpdT1udWxsLG91PSExLHV1PW51bGwsY3U9OTAsc3U9bnVsbCxmdT0wLGR1PW51bGwscHU9MDtmdW5jdGlvbiBtdSgpe3JldHVybihIbyYoVW98RG8pKSE9PVJvPzEwNzM3NDE4MjEtKCRsKCkvMTB8MCk6MCE9PXB1P3B1OnB1PTEwNzM3NDE4MjEtKCRsKCkvMTB8MCl9ZnVuY3Rpb24gaHUoZSx0LG4pe2lmKDA9PT0oMiYodD10Lm1vZGUpKSlyZXR1cm4gMTA3Mzc0MTgyMzt2YXIgcj1RbCgpO2lmKDA9PT0oNCZ0KSlyZXR1cm4gOTk9PT1yPzEwNzM3NDE4MjM6MTA3Mzc0MTgyMjtpZigoSG8mVW8pIT09Um8pcmV0dXJuIEtvO2lmKG51bGwhPT1uKWU9ZWEoZSwwfG4udGltZW91dE1zfHw1ZTMsMjUwKTtlbHNlIHN3aXRjaChyKXtjYXNlIDk5OmU9MTA3Mzc0MTgyMzticmVhaztjYXNlIDk4OmU9ZWEoZSwxNTAsMTAwKTticmVhaztjYXNlIDk3OmNhc2UgOTY6ZT1lYShlLDVlMywyNTApO2JyZWFrO2Nhc2UgOTU6ZT0yO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoaSgzMjYpKX1yZXR1cm4gbnVsbCE9PSRvJiZlPT09S28mJi0tZSxlfWZ1bmN0aW9uIHZ1KGUsdCl7aWYoNTA8ZnUpdGhyb3cgZnU9MCxkdT1udWxsLEVycm9yKGkoMTg1KSk7aWYobnVsbCE9PShlPXl1KGUsdCkpKXt2YXIgbj1RbCgpOzEwNzM3NDE4MjM9PT10PyhIbyZGbykhPT1SbyYmKEhvJihVb3xEbykpPT09Um8/a3UoZSk6KGJ1KGUpLEhvPT09Um8mJkdsKCkpOmJ1KGUpLCg0JkhvKT09PVJvfHw5OCE9PW4mJjk5IT09bnx8KG51bGw9PT1zdT9zdT1uZXcgTWFwKFtbZSx0XV0pOih2b2lkIDA9PT0obj1zdS5nZXQoZSkpfHxuPnQpJiZzdS5zZXQoZSx0KSl9fWZ1bmN0aW9uIHl1KGUsdCl7ZS5leHBpcmF0aW9uVGltZTx0JiYoZS5leHBpcmF0aW9uVGltZT10KTt2YXIgbj1lLmFsdGVybmF0ZTtudWxsIT09biYmbi5leHBpcmF0aW9uVGltZTx0JiYobi5leHBpcmF0aW9uVGltZT10KTt2YXIgcj1lLnJldHVybixsPW51bGw7aWYobnVsbD09PXImJjM9PT1lLnRhZylsPWUuc3RhdGVOb2RlO2Vsc2UgZm9yKDtudWxsIT09cjspe2lmKG49ci5hbHRlcm5hdGUsci5jaGlsZEV4cGlyYXRpb25UaW1lPHQmJihyLmNoaWxkRXhwaXJhdGlvblRpbWU9dCksbnVsbCE9PW4mJm4uY2hpbGRFeHBpcmF0aW9uVGltZTx0JiYobi5jaGlsZEV4cGlyYXRpb25UaW1lPXQpLG51bGw9PT1yLnJldHVybiYmMz09PXIudGFnKXtsPXIuc3RhdGVOb2RlO2JyZWFrfXI9ci5yZXR1cm59cmV0dXJuIG51bGwhPT1sJiYoJG89PT1sJiYoUHUodCkscW89PT1WbyYmdGMobCxLbykpLG5jKGwsdCkpLGx9ZnVuY3Rpb24gZ3UoZSl7dmFyIHQ9ZS5sYXN0RXhwaXJlZFRpbWU7cmV0dXJuIDAhPT10P3Q6ZWMoZSx0PWUuZmlyc3RQZW5kaW5nVGltZSk/KHQ9ZS5sYXN0UGluZ2VkVGltZSk+KGU9ZS5uZXh0S25vd25QZW5kaW5nTGV2ZWwpP3Q6ZTp0fWZ1bmN0aW9uIGJ1KGUpe2lmKDAhPT1lLmxhc3RFeHBpcmVkVGltZSllLmNhbGxiYWNrRXhwaXJhdGlvblRpbWU9MTA3Mzc0MTgyMyxlLmNhbGxiYWNrUHJpb3JpdHk9OTksZS5jYWxsYmFja05vZGU9WGwoa3UuYmluZChudWxsLGUpKTtlbHNle3ZhciB0PWd1KGUpLG49ZS5jYWxsYmFja05vZGU7aWYoMD09PXQpbnVsbCE9PW4mJihlLmNhbGxiYWNrTm9kZT1udWxsLGUuY2FsbGJhY2tFeHBpcmF0aW9uVGltZT0wLGUuY2FsbGJhY2tQcmlvcml0eT05MCk7ZWxzZXt2YXIgcj1tdSgpO2lmKDEwNzM3NDE4MjM9PT10P3I9OTk6MT09PXR8fDI9PT10P3I9OTU6cj0wPj0ocj0xMCooMTA3Mzc0MTgyMS10KS0xMCooMTA3Mzc0MTgyMS1yKSk/OTk6MjUwPj1yPzk4OjUyNTA+PXI/OTc6OTUsbnVsbCE9PW4pe3ZhciBsPWUuY2FsbGJhY2tQcmlvcml0eTtpZihlLmNhbGxiYWNrRXhwaXJhdGlvblRpbWU9PT10JiZsPj1yKXJldHVybjtuIT09QWwmJk5sKG4pfWUuY2FsbGJhY2tFeHBpcmF0aW9uVGltZT10LGUuY2FsbGJhY2tQcmlvcml0eT1yLHQ9MTA3Mzc0MTgyMz09PXQ/WGwoa3UuYmluZChudWxsLGUpKTpZbChyLHd1LmJpbmQobnVsbCxlKSx7dGltZW91dDoxMCooMTA3Mzc0MTgyMS10KS0kbCgpfSksZS5jYWxsYmFja05vZGU9dH19fWZ1bmN0aW9uIHd1KGUsdCl7aWYocHU9MCx0KXJldHVybiByYyhlLHQ9bXUoKSksYnUoZSksbnVsbDt2YXIgbj1ndShlKTtpZigwIT09bil7aWYodD1lLmNhbGxiYWNrTm9kZSwoSG8mKFVvfERvKSkhPT1Sbyl0aHJvdyBFcnJvcihpKDMyNykpO2lmKER1KCksZT09PSRvJiZuPT09S298fFR1KGUsbiksbnVsbCE9PVFvKXt2YXIgcj1IbztIb3w9VW87Zm9yKHZhciBsPUN1KCk7Oyl0cnl7enUoKTticmVha31jYXRjaCh1KXtTdShlLHUpfWlmKGlhKCksSG89cixNby5jdXJyZW50PWwscW89PT1Bbyl0aHJvdyB0PVlvLFR1KGUsbiksdGMoZSxuKSxidShlKSx0O2lmKG51bGw9PT1Rbylzd2l0Y2gobD1lLmZpbmlzaGVkV29yaz1lLmN1cnJlbnQuYWx0ZXJuYXRlLGUuZmluaXNoZWRFeHBpcmF0aW9uVGltZT1uLHI9cW8sJG89bnVsbCxyKXtjYXNlIExvOmNhc2UgQW86dGhyb3cgRXJyb3IoaSgzNDUpKTtjYXNlIFdvOnJjKGUsMjxuPzI6bik7YnJlYWs7Y2FzZSBqbzppZih0YyhlLG4pLG49PT0ocj1lLmxhc3RTdXNwZW5kZWRUaW1lKSYmKGUubmV4dEtub3duUGVuZGluZ0xldmVsPUl1KGwpKSwxMDczNzQxODIzPT09WG8mJjEwPChsPXR1K251LSRsKCkpKXtpZihldSl7dmFyIGE9ZS5sYXN0UGluZ2VkVGltZTtpZigwPT09YXx8YT49bil7ZS5sYXN0UGluZ2VkVGltZT1uLFR1KGUsbik7YnJlYWt9fWlmKDAhPT0oYT1ndShlKSkmJmEhPT1uKWJyZWFrO2lmKDAhPT1yJiZyIT09bil7ZS5sYXN0UGluZ2VkVGltZT1yO2JyZWFrfWUudGltZW91dEhhbmRsZT1scihSdS5iaW5kKG51bGwsZSksbCk7YnJlYWt9UnUoZSk7YnJlYWs7Y2FzZSBWbzppZih0YyhlLG4pLG49PT0ocj1lLmxhc3RTdXNwZW5kZWRUaW1lKSYmKGUubmV4dEtub3duUGVuZGluZ0xldmVsPUl1KGwpKSxldSYmKDA9PT0obD1lLmxhc3RQaW5nZWRUaW1lKXx8bD49bikpe2UubGFzdFBpbmdlZFRpbWU9bixUdShlLG4pO2JyZWFrfWlmKDAhPT0obD1ndShlKSkmJmwhPT1uKWJyZWFrO2lmKDAhPT1yJiZyIT09bil7ZS5sYXN0UGluZ2VkVGltZT1yO2JyZWFrfWlmKDEwNzM3NDE4MjMhPT1Hbz9yPTEwKigxMDczNzQxODIxLUdvKS0kbCgpOjEwNzM3NDE4MjM9PT1Ybz9yPTA6KHI9MTAqKDEwNzM3NDE4MjEtWG8pLTVlMywwPihyPShsPSRsKCkpLXIpJiYocj0wKSwobj0xMCooMTA3Mzc0MTgyMS1uKS1sKTwocj0oMTIwPnI/MTIwOjQ4MD5yPzQ4MDoxMDgwPnI/MTA4MDoxOTIwPnI/MTkyMDozZTM+cj8zZTM6NDMyMD5yPzQzMjA6MTk2MCpPbyhyLzE5NjApKS1yKSYmKHI9bikpLDEwPHIpe2UudGltZW91dEhhbmRsZT1scihSdS5iaW5kKG51bGwsZSkscik7YnJlYWt9UnUoZSk7YnJlYWs7Y2FzZSBCbzppZigxMDczNzQxODIzIT09WG8mJm51bGwhPT1Kbyl7YT1Ybzt2YXIgbz1KbztpZigwPj0ocj0wfG8uYnVzeU1pbkR1cmF0aW9uTXMpP3I9MDoobD0wfG8uYnVzeURlbGF5TXMscj0oYT0kbCgpLSgxMCooMTA3Mzc0MTgyMS1hKS0oMHxvLnRpbWVvdXRNc3x8NWUzKSkpPD1sPzA6bCtyLWEpLDEwPHIpe3RjKGUsbiksZS50aW1lb3V0SGFuZGxlPWxyKFJ1LmJpbmQobnVsbCxlKSxyKTticmVha319UnUoZSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihpKDMyOSkpfWlmKGJ1KGUpLGUuY2FsbGJhY2tOb2RlPT09dClyZXR1cm4gd3UuYmluZChudWxsLGUpfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBrdShlKXt2YXIgdD1lLmxhc3RFeHBpcmVkVGltZTtpZih0PTAhPT10P3Q6MTA3Mzc0MTgyMyxlLmZpbmlzaGVkRXhwaXJhdGlvblRpbWU9PT10KVJ1KGUpO2Vsc2V7aWYoKEhvJihVb3xEbykpIT09Um8pdGhyb3cgRXJyb3IoaSgzMjcpKTtpZihEdSgpLGU9PT0kbyYmdD09PUtvfHxUdShlLHQpLG51bGwhPT1Rbyl7dmFyIG49SG87SG98PVVvO2Zvcih2YXIgcj1DdSgpOzspdHJ5e051KCk7YnJlYWt9Y2F0Y2gobCl7U3UoZSxsKX1pZihpYSgpLEhvPW4sTW8uY3VycmVudD1yLHFvPT09QW8pdGhyb3cgbj1ZbyxUdShlLHQpLHRjKGUsdCksYnUoZSksbjtpZihudWxsIT09UW8pdGhyb3cgRXJyb3IoaSgyNjEpKTtlLmZpbmlzaGVkV29yaz1lLmN1cnJlbnQuYWx0ZXJuYXRlLGUuZmluaXNoZWRFeHBpcmF0aW9uVGltZT10LCRvPW51bGwsUnUoZSksYnUoZSl9fXJldHVybiBudWxsfWZ1bmN0aW9uIEV1KGUsdCl7dmFyIG49SG87SG98PTE7dHJ5e3JldHVybiBlKHQpfWZpbmFsbHl7KEhvPW4pPT09Um8mJkdsKCl9fWZ1bmN0aW9uIHh1KGUsdCl7dmFyIG49SG87SG8mPS0yLEhvfD1Gbzt0cnl7cmV0dXJuIGUodCl9ZmluYWxseXsoSG89bik9PT1SbyYmR2woKX19ZnVuY3Rpb24gVHUoZSx0KXtlLmZpbmlzaGVkV29yaz1udWxsLGUuZmluaXNoZWRFeHBpcmF0aW9uVGltZT0wO3ZhciBuPWUudGltZW91dEhhbmRsZTtpZigtMSE9PW4mJihlLnRpbWVvdXRIYW5kbGU9LTEsYXIobikpLG51bGwhPT1Rbylmb3Iobj1Rby5yZXR1cm47bnVsbCE9PW47KXt2YXIgcj1uO3N3aXRjaChyLnRhZyl7Y2FzZSAxOnZhciBsPXIudHlwZS5jaGlsZENvbnRleHRUeXBlcztudWxsIT09bCYmdm9pZCAwIT09bCYma2woKTticmVhaztjYXNlIDM6SGEoKSxFbCgpO2JyZWFrO2Nhc2UgNTpRYShyKTticmVhaztjYXNlIDQ6SGEoKTticmVhaztjYXNlIDEzOmNhc2UgMTk6cGwoS2EpO2JyZWFrO2Nhc2UgMTA6dWEocil9bj1uLnJldHVybn0kbz1lLFFvPXF1KGUuY3VycmVudCxudWxsKSxLbz10LHFvPUxvLFlvPW51bGwsR289WG89MTA3Mzc0MTgyMyxKbz1udWxsLFpvPTAsZXU9ITF9ZnVuY3Rpb24gU3UoZSx0KXtmb3IoOzspe3RyeXtpZihpYSgpLG1pKCksbnVsbD09PVFvfHxudWxsPT09UW8ucmV0dXJuKXJldHVybiBxbz1BbyxZbz10LG51bGw7ZTp7dmFyIG49ZSxyPVFvLnJldHVybixsPVFvLGE9dDtpZih0PUtvLGwuZWZmZWN0VGFnfD0yMDQ4LGwuZmlyc3RFZmZlY3Q9bC5sYXN0RWZmZWN0PW51bGwsbnVsbCE9PWEmJiJvYmplY3QiPT09dHlwZW9mIGEmJiJmdW5jdGlvbiI9PT10eXBlb2YgYS50aGVuKXt2YXIgaT1hLG89MCE9PSgxJkthLmN1cnJlbnQpLHU9cjtkb3t2YXIgYztpZihjPTEzPT09dS50YWcpe3ZhciBzPXUubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09cyljPW51bGwhPT1zLmRlaHlkcmF0ZWQ7ZWxzZXt2YXIgZj11Lm1lbW9pemVkUHJvcHM7Yz12b2lkIDAhPT1mLmZhbGxiYWNrJiYoITAhPT1mLnVuc3RhYmxlX2F2b2lkVGhpc0ZhbGxiYWNrfHwhbyl9fWlmKGMpe3ZhciBkPXUudXBkYXRlUXVldWU7aWYobnVsbD09PWQpe3ZhciBwPW5ldyBTZXQ7cC5hZGQoaSksdS51cGRhdGVRdWV1ZT1wfWVsc2UgZC5hZGQoaSk7aWYoMD09PSgyJnUubW9kZSkpe2lmKHUuZWZmZWN0VGFnfD02NCxsLmVmZmVjdFRhZyY9LTI5ODEsMT09PWwudGFnKWlmKG51bGw9PT1sLmFsdGVybmF0ZSlsLnRhZz0xNztlbHNle3ZhciBtPWhhKDEwNzM3NDE4MjMsbnVsbCk7bS50YWc9Mix5YShsLG0pfWwuZXhwaXJhdGlvblRpbWU9MTA3Mzc0MTgyMzticmVhayBlfWE9dm9pZCAwLGw9dDt2YXIgaD1uLnBpbmdDYWNoZTtpZihudWxsPT09aD8oaD1uLnBpbmdDYWNoZT1uZXcgX28sYT1uZXcgU2V0LGguc2V0KGksYSkpOnZvaWQgMD09PShhPWguZ2V0KGkpKSYmKGE9bmV3IFNldCxoLnNldChpLGEpKSwhYS5oYXMobCkpe2EuYWRkKGwpO3ZhciB2PWp1LmJpbmQobnVsbCxuLGksbCk7aS50aGVuKHYsdil9dS5lZmZlY3RUYWd8PTQwOTYsdS5leHBpcmF0aW9uVGltZT10O2JyZWFrIGV9dT11LnJldHVybn13aGlsZShudWxsIT09dSk7YT1FcnJvcigoRyhsLnR5cGUpfHwiQSBSZWFjdCBjb21wb25lbnQiKSsiIHN1c3BlbmRlZCB3aGlsZSByZW5kZXJpbmcsIGJ1dCBubyBmYWxsYmFjayBVSSB3YXMgc3BlY2lmaWVkLlxuXG5BZGQgYSA8U3VzcGVuc2UgZmFsbGJhY2s9Li4uPiBjb21wb25lbnQgaGlnaGVyIGluIHRoZSB0cmVlIHRvIHByb3ZpZGUgYSBsb2FkaW5nIGluZGljYXRvciBvciBwbGFjZWhvbGRlciB0byBkaXNwbGF5LiIrSihsKSl9cW8hPT1CbyYmKHFvPVdvKSxhPW1vKGEsbCksdT1yO2Rve3N3aXRjaCh1LnRhZyl7Y2FzZSAzOmk9YSx1LmVmZmVjdFRhZ3w9NDA5Nix1LmV4cGlyYXRpb25UaW1lPXQsZ2EodSxQbyh1LGksdCkpO2JyZWFrIGU7Y2FzZSAxOmk9YTt2YXIgeT11LnR5cGUsZz11LnN0YXRlTm9kZTtpZigwPT09KDY0JnUuZWZmZWN0VGFnKSYmKCJmdW5jdGlvbiI9PT10eXBlb2YgeS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3J8fG51bGwhPT1nJiYiZnVuY3Rpb24iPT09dHlwZW9mIGcuY29tcG9uZW50RGlkQ2F0Y2gmJihudWxsPT09aXV8fCFpdS5oYXMoZykpKSl7dS5lZmZlY3RUYWd8PTQwOTYsdS5leHBpcmF0aW9uVGltZT10LGdhKHUsTm8odSxpLHQpKTticmVhayBlfX11PXUucmV0dXJufXdoaWxlKG51bGwhPT11KX1Rbz1NdShRbyl9Y2F0Y2goYil7dD1iO2NvbnRpbnVlfWJyZWFrfX1mdW5jdGlvbiBDdSgpe3ZhciBlPU1vLmN1cnJlbnQ7cmV0dXJuIE1vLmN1cnJlbnQ9T2ksbnVsbD09PWU/T2k6ZX1mdW5jdGlvbiBfdShlLHQpe2U8WG8mJjI8ZSYmKFhvPWUpLG51bGwhPT10JiZlPEdvJiYyPGUmJihHbz1lLEpvPXQpfWZ1bmN0aW9uIFB1KGUpe2U+Wm8mJihabz1lKX1mdW5jdGlvbiBOdSgpe2Zvcig7bnVsbCE9PVFvOylRbz1PdShRbyl9ZnVuY3Rpb24genUoKXtmb3IoO251bGwhPT1RbyYmIXpsKCk7KVFvPU91KFFvKX1mdW5jdGlvbiBPdShlKXt2YXIgdD16byhlLmFsdGVybmF0ZSxlLEtvKTtyZXR1cm4gZS5tZW1vaXplZFByb3BzPWUucGVuZGluZ1Byb3BzLG51bGw9PT10JiYodD1NdShlKSksSW8uY3VycmVudD1udWxsLHR9ZnVuY3Rpb24gTXUoZSl7UW89ZTtkb3t2YXIgdD1Rby5hbHRlcm5hdGU7aWYoZT1Rby5yZXR1cm4sMD09PSgyMDQ4JlFvLmVmZmVjdFRhZykpe2U6e3ZhciBuPXQscj1LbyxhPSh0PVFvKS5wZW5kaW5nUHJvcHM7c3dpdGNoKHQudGFnKXtjYXNlIDI6Y2FzZSAxNjpicmVhaztjYXNlIDE1OmNhc2UgMDpicmVhaztjYXNlIDE6d2wodC50eXBlKSYma2woKTticmVhaztjYXNlIDM6SGEoKSxFbCgpLChhPXQuc3RhdGVOb2RlKS5wZW5kaW5nQ29udGV4dCYmKGEuY29udGV4dD1hLnBlbmRpbmdDb250ZXh0LGEucGVuZGluZ0NvbnRleHQ9bnVsbCksKG51bGw9PT1ufHxudWxsPT09bi5jaGlsZCkmJmppKHQpJiZzbyh0KSx0byh0KTticmVhaztjYXNlIDU6UWEodCkscj1WYShqYS5jdXJyZW50KTt2YXIgbz10LnR5cGU7aWYobnVsbCE9PW4mJm51bGwhPXQuc3RhdGVOb2RlKW5vKG4sdCxvLGEsciksbi5yZWYhPT10LnJlZiYmKHQuZWZmZWN0VGFnfD0xMjgpO2Vsc2UgaWYoYSl7dmFyIHU9VmEoQWEuY3VycmVudCk7aWYoamkodCkpe3ZhciBjPShhPXQpLnN0YXRlTm9kZTtuPWEudHlwZTt2YXIgcz1hLm1lbW9pemVkUHJvcHMsZj1yO3N3aXRjaChjW2NyXT1hLGNbc3JdPXMsbz12b2lkIDAscj1jLG4pe2Nhc2UiaWZyYW1lIjpjYXNlIm9iamVjdCI6Y2FzZSJlbWJlZCI6U24oImxvYWQiLHIpO2JyZWFrO2Nhc2UidmlkZW8iOmNhc2UiYXVkaW8iOmZvcihjPTA7YzxaZS5sZW5ndGg7YysrKVNuKFplW2NdLHIpO2JyZWFrO2Nhc2Uic291cmNlIjpTbigiZXJyb3IiLHIpO2JyZWFrO2Nhc2UiaW1nIjpjYXNlImltYWdlIjpjYXNlImxpbmsiOlNuKCJlcnJvciIsciksU24oImxvYWQiLHIpO2JyZWFrO2Nhc2UiZm9ybSI6U24oInJlc2V0IixyKSxTbigic3VibWl0IixyKTticmVhaztjYXNlImRldGFpbHMiOlNuKCJ0b2dnbGUiLHIpO2JyZWFrO2Nhc2UiaW5wdXQiOl9lKHIscyksU24oImludmFsaWQiLHIpLEJuKGYsIm9uQ2hhbmdlIik7YnJlYWs7Y2FzZSJzZWxlY3QiOnIuX3dyYXBwZXJTdGF0ZT17d2FzTXVsdGlwbGU6ISFzLm11bHRpcGxlfSxTbigiaW52YWxpZCIsciksQm4oZiwib25DaGFuZ2UiKTticmVhaztjYXNlInRleHRhcmVhIjpGZShyLHMpLFNuKCJpbnZhbGlkIixyKSxCbihmLCJvbkNoYW5nZSIpfWZvcihvIGluIGpuKG4scyksYz1udWxsLHMpcy5oYXNPd25Qcm9wZXJ0eShvKSYmKHU9c1tvXSwiY2hpbGRyZW4iPT09bz8ic3RyaW5nIj09PXR5cGVvZiB1P3IudGV4dENvbnRlbnQhPT11JiYoYz1bImNoaWxkcmVuIix1XSk6Im51bWJlciI9PT10eXBlb2YgdSYmci50ZXh0Q29udGVudCE9PSIiK3UmJihjPVsiY2hpbGRyZW4iLCIiK3VdKTpwLmhhc093blByb3BlcnR5KG8pJiZudWxsIT11JiZCbihmLG8pKTtzd2l0Y2gobil7Y2FzZSJpbnB1dCI6VGUociksemUocixzLCEwKTticmVhaztjYXNlInRleHRhcmVhIjpUZShyKSxEZShyKTticmVhaztjYXNlInNlbGVjdCI6Y2FzZSJvcHRpb24iOmJyZWFrO2RlZmF1bHQ6ImZ1bmN0aW9uIj09PXR5cGVvZiBzLm9uQ2xpY2smJihyLm9uY2xpY2s9SG4pfW89YyxhLnVwZGF0ZVF1ZXVlPW8sKGE9bnVsbCE9PW8pJiZzbyh0KX1lbHNle249dCxmPW8scz1hLGM9OT09PXIubm9kZVR5cGU/cjpyLm93bmVyRG9jdW1lbnQsdT09PUxlLmh0bWwmJih1PUFlKGYpKSx1PT09TGUuaHRtbD8ic2NyaXB0Ij09PWY/KChzPWMuY3JlYXRlRWxlbWVudCgiZGl2IikpLmlubmVySFRNTD0iPHNjcmlwdD48XC9zY3JpcHQ+IixjPXMucmVtb3ZlQ2hpbGQocy5maXJzdENoaWxkKSk6InN0cmluZyI9PT10eXBlb2Ygcy5pcz9jPWMuY3JlYXRlRWxlbWVudChmLHtpczpzLmlzfSk6KGM9Yy5jcmVhdGVFbGVtZW50KGYpLCJzZWxlY3QiPT09ZiYmKGY9YyxzLm11bHRpcGxlP2YubXVsdGlwbGU9ITA6cy5zaXplJiYoZi5zaXplPXMuc2l6ZSkpKTpjPWMuY3JlYXRlRWxlbWVudE5TKHUsZiksKHM9YylbY3JdPW4sc1tzcl09YSxlbyhzLHQsITEsITEpLHQuc3RhdGVOb2RlPXM7dmFyIGQ9cixtPVZuKGY9byxuPWEpO3N3aXRjaChmKXtjYXNlImlmcmFtZSI6Y2FzZSJvYmplY3QiOmNhc2UiZW1iZWQiOlNuKCJsb2FkIixzKSxyPW47YnJlYWs7Y2FzZSJ2aWRlbyI6Y2FzZSJhdWRpbyI6Zm9yKHI9MDtyPFplLmxlbmd0aDtyKyspU24oWmVbcl0scyk7cj1uO2JyZWFrO2Nhc2Uic291cmNlIjpTbigiZXJyb3IiLHMpLHI9bjticmVhaztjYXNlImltZyI6Y2FzZSJpbWFnZSI6Y2FzZSJsaW5rIjpTbigiZXJyb3IiLHMpLFNuKCJsb2FkIixzKSxyPW47YnJlYWs7Y2FzZSJmb3JtIjpTbigicmVzZXQiLHMpLFNuKCJzdWJtaXQiLHMpLHI9bjticmVhaztjYXNlImRldGFpbHMiOlNuKCJ0b2dnbGUiLHMpLHI9bjticmVhaztjYXNlImlucHV0IjpfZShzLG4pLHI9Q2UocyxuKSxTbigiaW52YWxpZCIscyksQm4oZCwib25DaGFuZ2UiKTticmVhaztjYXNlIm9wdGlvbiI6cj1NZShzLG4pO2JyZWFrO2Nhc2Uic2VsZWN0IjpzLl93cmFwcGVyU3RhdGU9e3dhc011bHRpcGxlOiEhbi5tdWx0aXBsZX0scj1sKHt9LG4se3ZhbHVlOnZvaWQgMH0pLFNuKCJpbnZhbGlkIixzKSxCbihkLCJvbkNoYW5nZSIpO2JyZWFrO2Nhc2UidGV4dGFyZWEiOkZlKHMsbikscj1SZShzLG4pLFNuKCJpbnZhbGlkIixzKSxCbihkLCJvbkNoYW5nZSIpO2JyZWFrO2RlZmF1bHQ6cj1ufWpuKGYsciksYz12b2lkIDAsdT1mO3ZhciBoPXMsdj1yO2ZvcihjIGluIHYpaWYodi5oYXNPd25Qcm9wZXJ0eShjKSl7dmFyIHk9dltjXTsic3R5bGUiPT09Yz9BbihoLHkpOiJkYW5nZXJvdXNseVNldElubmVySFRNTCI9PT1jP251bGwhPSh5PXk/eS5fX2h0bWw6dm9pZCAwKSYmVmUoaCx5KToiY2hpbGRyZW4iPT09Yz8ic3RyaW5nIj09PXR5cGVvZiB5PygidGV4dGFyZWEiIT09dXx8IiIhPT15KSYmQmUoaCx5KToibnVtYmVyIj09PXR5cGVvZiB5JiZCZShoLCIiK3kpOiJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmciIT09YyYmInN1cHByZXNzSHlkcmF0aW9uV2FybmluZyIhPT1jJiYiYXV0b0ZvY3VzIiE9PWMmJihwLmhhc093blByb3BlcnR5KGMpP251bGwhPXkmJkJuKGQsYyk6bnVsbCE9eSYmRWUoaCxjLHksbSkpfXN3aXRjaChmKXtjYXNlImlucHV0IjpUZShzKSx6ZShzLG4sITEpO2JyZWFrO2Nhc2UidGV4dGFyZWEiOlRlKHMpLERlKHMpO2JyZWFrO2Nhc2Uib3B0aW9uIjpudWxsIT1uLnZhbHVlJiZzLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiK2tlKG4udmFsdWUpKTticmVhaztjYXNlInNlbGVjdCI6KHI9cykubXVsdGlwbGU9ISFuLm11bHRpcGxlLG51bGwhPShzPW4udmFsdWUpP0llKHIsISFuLm11bHRpcGxlLHMsITEpOm51bGwhPW4uZGVmYXVsdFZhbHVlJiZJZShyLCEhbi5tdWx0aXBsZSxuLmRlZmF1bHRWYWx1ZSwhMCk7YnJlYWs7ZGVmYXVsdDoiZnVuY3Rpb24iPT09dHlwZW9mIHIub25DbGljayYmKHMub25jbGljaz1Ibil9KGE9bnIobyxhKSkmJnNvKHQpfW51bGwhPT10LnJlZiYmKHQuZWZmZWN0VGFnfD0xMjgpfWVsc2UgaWYobnVsbD09PXQuc3RhdGVOb2RlKXRocm93IEVycm9yKGkoMTY2KSk7YnJlYWs7Y2FzZSA2OmlmKG4mJm51bGwhPXQuc3RhdGVOb2RlKXJvKG4sdCxuLm1lbW9pemVkUHJvcHMsYSk7ZWxzZXtpZigic3RyaW5nIiE9PXR5cGVvZiBhJiZudWxsPT09dC5zdGF0ZU5vZGUpdGhyb3cgRXJyb3IoaSgxNjYpKTtyPVZhKGphLmN1cnJlbnQpLFZhKEFhLmN1cnJlbnQpLGppKHQpPyhvPShhPXQpLnN0YXRlTm9kZSxyPWEubWVtb2l6ZWRQcm9wcyxvW2NyXT1hLChhPW8ubm9kZVZhbHVlIT09cikmJnNvKHQpKToobz10LChhPSg5PT09ci5ub2RlVHlwZT9yOnIub3duZXJEb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoYSkpW2NyXT1vLHQuc3RhdGVOb2RlPWEpfWJyZWFrO2Nhc2UgMTE6YnJlYWs7Y2FzZSAxMzppZihwbChLYSksYT10Lm1lbW9pemVkU3RhdGUsMCE9PSg2NCZ0LmVmZmVjdFRhZykpe3QuZXhwaXJhdGlvblRpbWU9cjticmVhayBlfWE9bnVsbCE9PWEsbz0hMSxudWxsPT09bj92b2lkIDAhPT10Lm1lbW9pemVkUHJvcHMuZmFsbGJhY2smJmppKHQpOihvPW51bGwhPT0ocj1uLm1lbW9pemVkU3RhdGUpLGF8fG51bGw9PT1yfHxudWxsIT09KHI9bi5jaGlsZC5zaWJsaW5nKSYmKG51bGwhPT0ocz10LmZpcnN0RWZmZWN0KT8odC5maXJzdEVmZmVjdD1yLHIubmV4dEVmZmVjdD1zKToodC5maXJzdEVmZmVjdD10Lmxhc3RFZmZlY3Q9cixyLm5leHRFZmZlY3Q9bnVsbCksci5lZmZlY3RUYWc9OCkpLGEmJiFvJiYwIT09KDImdC5tb2RlKSYmKG51bGw9PT1uJiYhMCE9PXQubWVtb2l6ZWRQcm9wcy51bnN0YWJsZV9hdm9pZFRoaXNGYWxsYmFja3x8MCE9PSgxJkthLmN1cnJlbnQpP3FvPT09TG8mJihxbz1qbyk6KHFvIT09TG8mJnFvIT09am98fChxbz1WbyksMCE9PVpvJiZudWxsIT09JG8mJih0YygkbyxLbyksbmMoJG8sWm8pKSkpLChhfHxvKSYmKHQuZWZmZWN0VGFnfD00KTticmVhaztjYXNlIDc6Y2FzZSA4OmNhc2UgMTI6YnJlYWs7Y2FzZSA0OkhhKCksdG8odCk7YnJlYWs7Y2FzZSAxMDp1YSh0KTticmVhaztjYXNlIDk6Y2FzZSAxNDpicmVhaztjYXNlIDE3OndsKHQudHlwZSkmJmtsKCk7YnJlYWs7Y2FzZSAxOTppZihwbChLYSksbnVsbD09PShhPXQubWVtb2l6ZWRTdGF0ZSkpYnJlYWs7aWYobz0wIT09KDY0JnQuZWZmZWN0VGFnKSxudWxsPT09KHM9YS5yZW5kZXJpbmcpKXtpZihvKWZvKGEsITEpO2Vsc2UgaWYocW8hPT1Mb3x8bnVsbCE9PW4mJjAhPT0oNjQmbi5lZmZlY3RUYWcpKWZvcihuPXQuY2hpbGQ7bnVsbCE9PW47KXtpZihudWxsIT09KHM9cWEobikpKXtmb3IodC5lZmZlY3RUYWd8PTY0LGZvKGEsITEpLG51bGwhPT0obz1zLnVwZGF0ZVF1ZXVlKSYmKHQudXBkYXRlUXVldWU9byx0LmVmZmVjdFRhZ3w9NCksbnVsbD09PWEubGFzdEVmZmVjdCYmKHQuZmlyc3RFZmZlY3Q9bnVsbCksdC5sYXN0RWZmZWN0PWEubGFzdEVmZmVjdCxhPXIsbz10LmNoaWxkO251bGwhPT1vOyluPWEsKHI9bykuZWZmZWN0VGFnJj0yLHIubmV4dEVmZmVjdD1udWxsLHIuZmlyc3RFZmZlY3Q9bnVsbCxyLmxhc3RFZmZlY3Q9bnVsbCxudWxsPT09KHM9ci5hbHRlcm5hdGUpPyhyLmNoaWxkRXhwaXJhdGlvblRpbWU9MCxyLmV4cGlyYXRpb25UaW1lPW4sci5jaGlsZD1udWxsLHIubWVtb2l6ZWRQcm9wcz1udWxsLHIubWVtb2l6ZWRTdGF0ZT1udWxsLHIudXBkYXRlUXVldWU9bnVsbCxyLmRlcGVuZGVuY2llcz1udWxsKTooci5jaGlsZEV4cGlyYXRpb25UaW1lPXMuY2hpbGRFeHBpcmF0aW9uVGltZSxyLmV4cGlyYXRpb25UaW1lPXMuZXhwaXJhdGlvblRpbWUsci5jaGlsZD1zLmNoaWxkLHIubWVtb2l6ZWRQcm9wcz1zLm1lbW9pemVkUHJvcHMsci5tZW1vaXplZFN0YXRlPXMubWVtb2l6ZWRTdGF0ZSxyLnVwZGF0ZVF1ZXVlPXMudXBkYXRlUXVldWUsbj1zLmRlcGVuZGVuY2llcyxyLmRlcGVuZGVuY2llcz1udWxsPT09bj9udWxsOntleHBpcmF0aW9uVGltZTpuLmV4cGlyYXRpb25UaW1lLGZpcnN0Q29udGV4dDpuLmZpcnN0Q29udGV4dCxyZXNwb25kZXJzOm4ucmVzcG9uZGVyc30pLG89by5zaWJsaW5nO21sKEthLDEmS2EuY3VycmVudHwyKSx0PXQuY2hpbGQ7YnJlYWsgZX1uPW4uc2libGluZ319ZWxzZXtpZighbylpZihudWxsIT09KG49cWEocykpKXtpZih0LmVmZmVjdFRhZ3w9NjQsbz0hMCxudWxsIT09KHI9bi51cGRhdGVRdWV1ZSkmJih0LnVwZGF0ZVF1ZXVlPXIsdC5lZmZlY3RUYWd8PTQpLGZvKGEsITApLG51bGw9PT1hLnRhaWwmJiJoaWRkZW4iPT09YS50YWlsTW9kZSYmIXMuYWx0ZXJuYXRlKXtudWxsIT09KHQ9dC5sYXN0RWZmZWN0PWEubGFzdEVmZmVjdCkmJih0Lm5leHRFZmZlY3Q9bnVsbCk7YnJlYWt9fWVsc2UgJGwoKT5hLnRhaWxFeHBpcmF0aW9uJiYxPHImJih0LmVmZmVjdFRhZ3w9NjQsbz0hMCxmbyhhLCExKSx0LmV4cGlyYXRpb25UaW1lPXQuY2hpbGRFeHBpcmF0aW9uVGltZT1yLTEpO2EuaXNCYWNrd2FyZHM/KHMuc2libGluZz10LmNoaWxkLHQuY2hpbGQ9cyk6KG51bGwhPT0ocj1hLmxhc3QpP3Iuc2libGluZz1zOnQuY2hpbGQ9cyxhLmxhc3Q9cyl9aWYobnVsbCE9PWEudGFpbCl7MD09PWEudGFpbEV4cGlyYXRpb24mJihhLnRhaWxFeHBpcmF0aW9uPSRsKCkrNTAwKSxyPWEudGFpbCxhLnJlbmRlcmluZz1yLGEudGFpbD1yLnNpYmxpbmcsYS5sYXN0RWZmZWN0PXQubGFzdEVmZmVjdCxyLnNpYmxpbmc9bnVsbCxhPUthLmN1cnJlbnQsbWwoS2EsYT1vPzEmYXwyOjEmYSksdD1yO2JyZWFrIGV9YnJlYWs7Y2FzZSAyMDpjYXNlIDIxOmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoaSgxNTYsdC50YWcpKX10PW51bGx9aWYoYT1RbywxPT09S298fDEhPT1hLmNoaWxkRXhwaXJhdGlvblRpbWUpe2ZvcihvPTAscj1hLmNoaWxkO251bGwhPT1yOykobj1yLmV4cGlyYXRpb25UaW1lKT5vJiYobz1uKSwocz1yLmNoaWxkRXhwaXJhdGlvblRpbWUpPm8mJihvPXMpLHI9ci5zaWJsaW5nO2EuY2hpbGRFeHBpcmF0aW9uVGltZT1vfWlmKG51bGwhPT10KXJldHVybiB0O251bGwhPT1lJiYwPT09KDIwNDgmZS5lZmZlY3RUYWcpJiYobnVsbD09PWUuZmlyc3RFZmZlY3QmJihlLmZpcnN0RWZmZWN0PVFvLmZpcnN0RWZmZWN0KSxudWxsIT09UW8ubGFzdEVmZmVjdCYmKG51bGwhPT1lLmxhc3RFZmZlY3QmJihlLmxhc3RFZmZlY3QubmV4dEVmZmVjdD1Rby5maXJzdEVmZmVjdCksZS5sYXN0RWZmZWN0PVFvLmxhc3RFZmZlY3QpLDE8UW8uZWZmZWN0VGFnJiYobnVsbCE9PWUubGFzdEVmZmVjdD9lLmxhc3RFZmZlY3QubmV4dEVmZmVjdD1RbzplLmZpcnN0RWZmZWN0PVFvLGUubGFzdEVmZmVjdD1RbykpfWVsc2V7aWYobnVsbCE9PSh0PXBvKFFvKSkpcmV0dXJuIHQuZWZmZWN0VGFnJj0yMDQ3LHQ7bnVsbCE9PWUmJihlLmZpcnN0RWZmZWN0PWUubGFzdEVmZmVjdD1udWxsLGUuZWZmZWN0VGFnfD0yMDQ4KX1pZihudWxsIT09KHQ9UW8uc2libGluZykpcmV0dXJuIHQ7UW89ZX13aGlsZShudWxsIT09UW8pO3JldHVybiBxbz09PUxvJiYocW89Qm8pLG51bGx9ZnVuY3Rpb24gSXUoZSl7dmFyIHQ9ZS5leHBpcmF0aW9uVGltZTtyZXR1cm4gdD4oZT1lLmNoaWxkRXhwaXJhdGlvblRpbWUpP3Q6ZX1mdW5jdGlvbiBSdShlKXt2YXIgdD1RbCgpO3JldHVybiBxbCg5OSxGdS5iaW5kKG51bGwsZSx0KSksbnVsbH1mdW5jdGlvbiBGdShlLHQpe2Rve0R1KCl9d2hpbGUobnVsbCE9PXV1KTtpZigoSG8mKFVvfERvKSkhPT1Sbyl0aHJvdyBFcnJvcihpKDMyNykpO3ZhciBuPWUuZmluaXNoZWRXb3JrLHI9ZS5maW5pc2hlZEV4cGlyYXRpb25UaW1lO2lmKG51bGw9PT1uKXJldHVybiBudWxsO2lmKGUuZmluaXNoZWRXb3JrPW51bGwsZS5maW5pc2hlZEV4cGlyYXRpb25UaW1lPTAsbj09PWUuY3VycmVudCl0aHJvdyBFcnJvcihpKDE3NykpO2UuY2FsbGJhY2tOb2RlPW51bGwsZS5jYWxsYmFja0V4cGlyYXRpb25UaW1lPTAsZS5jYWxsYmFja1ByaW9yaXR5PTkwLGUubmV4dEtub3duUGVuZGluZ0xldmVsPTA7dmFyIGw9SXUobik7aWYoZS5maXJzdFBlbmRpbmdUaW1lPWwscjw9ZS5sYXN0U3VzcGVuZGVkVGltZT9lLmZpcnN0U3VzcGVuZGVkVGltZT1lLmxhc3RTdXNwZW5kZWRUaW1lPWUubmV4dEtub3duUGVuZGluZ0xldmVsPTA6cjw9ZS5maXJzdFN1c3BlbmRlZFRpbWUmJihlLmZpcnN0U3VzcGVuZGVkVGltZT1yLTEpLHI8PWUubGFzdFBpbmdlZFRpbWUmJihlLmxhc3RQaW5nZWRUaW1lPTApLHI8PWUubGFzdEV4cGlyZWRUaW1lJiYoZS5sYXN0RXhwaXJlZFRpbWU9MCksZT09PSRvJiYoUW89JG89bnVsbCxLbz0wKSwxPG4uZWZmZWN0VGFnP251bGwhPT1uLmxhc3RFZmZlY3Q/KG4ubGFzdEVmZmVjdC5uZXh0RWZmZWN0PW4sbD1uLmZpcnN0RWZmZWN0KTpsPW46bD1uLmZpcnN0RWZmZWN0LG51bGwhPT1sKXt2YXIgYT1IbztIb3w9RG8sSW8uY3VycmVudD1udWxsLGVyPVRuO3ZhciBvPXFuKCk7aWYoWW4obykpe2lmKCJzZWxlY3Rpb25TdGFydCJpbiBvKXZhciB1PXtzdGFydDpvLnNlbGVjdGlvblN0YXJ0LGVuZDpvLnNlbGVjdGlvbkVuZH07ZWxzZSBlOnt2YXIgYz0odT0odT1vLm93bmVyRG9jdW1lbnQpJiZ1LmRlZmF1bHRWaWV3fHx3aW5kb3cpLmdldFNlbGVjdGlvbiYmdS5nZXRTZWxlY3Rpb24oKTtpZihjJiYwIT09Yy5yYW5nZUNvdW50KXt1PWMuYW5jaG9yTm9kZTt2YXIgcz1jLmFuY2hvck9mZnNldCxmPWMuZm9jdXNOb2RlO2M9Yy5mb2N1c09mZnNldDt0cnl7dS5ub2RlVHlwZSxmLm5vZGVUeXBlfWNhdGNoKEYpe3U9bnVsbDticmVhayBlfXZhciBkPTAscD0tMSxtPS0xLGg9MCx2PTAseT1vLGc9bnVsbDt0OmZvcig7Oyl7Zm9yKHZhciBiO3khPT11fHwwIT09cyYmMyE9PXkubm9kZVR5cGV8fChwPWQrcykseSE9PWZ8fDAhPT1jJiYzIT09eS5ub2RlVHlwZXx8KG09ZCtjKSwzPT09eS5ub2RlVHlwZSYmKGQrPXkubm9kZVZhbHVlLmxlbmd0aCksbnVsbCE9PShiPXkuZmlyc3RDaGlsZCk7KWc9eSx5PWI7Zm9yKDs7KXtpZih5PT09bylicmVhayB0O2lmKGc9PT11JiYrK2g9PT1zJiYocD1kKSxnPT09ZiYmKyt2PT09YyYmKG09ZCksbnVsbCE9PShiPXkubmV4dFNpYmxpbmcpKWJyZWFrO2c9KHk9ZykucGFyZW50Tm9kZX15PWJ9dT0tMT09PXB8fC0xPT09bT9udWxsOntzdGFydDpwLGVuZDptfX1lbHNlIHU9bnVsbH11PXV8fHtzdGFydDowLGVuZDowfX1lbHNlIHU9bnVsbDt0cj17Zm9jdXNlZEVsZW06byxzZWxlY3Rpb25SYW5nZTp1fSxUbj0hMSxydT1sO2Rve3RyeXtVdSgpfWNhdGNoKEYpe2lmKG51bGw9PT1ydSl0aHJvdyBFcnJvcihpKDMzMCkpO1d1KHJ1LEYpLHJ1PXJ1Lm5leHRFZmZlY3R9fXdoaWxlKG51bGwhPT1ydSk7cnU9bDtkb3t0cnl7Zm9yKG89ZSx1PXQ7bnVsbCE9PXJ1Oyl7dmFyIHc9cnUuZWZmZWN0VGFnO2lmKDE2JncmJkJlKHJ1LnN0YXRlTm9kZSwiIiksMTI4Jncpe3ZhciBrPXJ1LmFsdGVybmF0ZTtpZihudWxsIT09ayl7dmFyIEU9ay5yZWY7bnVsbCE9PUUmJigiZnVuY3Rpb24iPT09dHlwZW9mIEU/RShudWxsKTpFLmN1cnJlbnQ9bnVsbCl9fXN3aXRjaCgxMDM4Jncpe2Nhc2UgMjp4byhydSkscnUuZWZmZWN0VGFnJj0tMzticmVhaztjYXNlIDY6eG8ocnUpLHJ1LmVmZmVjdFRhZyY9LTMsU28ocnUuYWx0ZXJuYXRlLHJ1KTticmVhaztjYXNlIDEwMjQ6cnUuZWZmZWN0VGFnJj0tMTAyNTticmVhaztjYXNlIDEwMjg6cnUuZWZmZWN0VGFnJj0tMTAyNSxTbyhydS5hbHRlcm5hdGUscnUpO2JyZWFrO2Nhc2UgNDpTbyhydS5hbHRlcm5hdGUscnUpO2JyZWFrO2Nhc2UgODpUbyhvLHM9cnUsdSksa28ocyl9cnU9cnUubmV4dEVmZmVjdH19Y2F0Y2goRil7aWYobnVsbD09PXJ1KXRocm93IEVycm9yKGkoMzMwKSk7V3UocnUsRikscnU9cnUubmV4dEVmZmVjdH19d2hpbGUobnVsbCE9PXJ1KTtpZihFPXRyLGs9cW4oKSx3PUUuZm9jdXNlZEVsZW0sdT1FLnNlbGVjdGlvblJhbmdlLGshPT13JiZ3JiZ3Lm93bmVyRG9jdW1lbnQmJmZ1bmN0aW9uIGUodCxuKXtyZXR1cm4hKCF0fHwhbikmJih0PT09bnx8KCF0fHwzIT09dC5ub2RlVHlwZSkmJihuJiYzPT09bi5ub2RlVHlwZT9lKHQsbi5wYXJlbnROb2RlKToiY29udGFpbnMiaW4gdD90LmNvbnRhaW5zKG4pOiEhdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmISEoMTYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuKSkpKX0ody5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx3KSl7bnVsbCE9PXUmJlluKHcpJiYoaz11LnN0YXJ0LHZvaWQgMD09PShFPXUuZW5kKSYmKEU9ayksInNlbGVjdGlvblN0YXJ0ImluIHc/KHcuc2VsZWN0aW9uU3RhcnQ9ayx3LnNlbGVjdGlvbkVuZD1NYXRoLm1pbihFLHcudmFsdWUubGVuZ3RoKSk6KEU9KGs9dy5vd25lckRvY3VtZW50fHxkb2N1bWVudCkmJmsuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0U2VsZWN0aW9uJiYoRT1FLmdldFNlbGVjdGlvbigpLHM9dy50ZXh0Q29udGVudC5sZW5ndGgsbz1NYXRoLm1pbih1LnN0YXJ0LHMpLHU9dm9pZCAwPT09dS5lbmQ/bzpNYXRoLm1pbih1LmVuZCxzKSwhRS5leHRlbmQmJm8+dSYmKHM9dSx1PW8sbz1zKSxzPUtuKHcsbyksZj1Lbih3LHUpLHMmJmYmJigxIT09RS5yYW5nZUNvdW50fHxFLmFuY2hvck5vZGUhPT1zLm5vZGV8fEUuYW5jaG9yT2Zmc2V0IT09cy5vZmZzZXR8fEUuZm9jdXNOb2RlIT09Zi5ub2RlfHxFLmZvY3VzT2Zmc2V0IT09Zi5vZmZzZXQpJiYoKGs9ay5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydChzLm5vZGUscy5vZmZzZXQpLEUucmVtb3ZlQWxsUmFuZ2VzKCksbz51PyhFLmFkZFJhbmdlKGspLEUuZXh0ZW5kKGYubm9kZSxmLm9mZnNldCkpOihrLnNldEVuZChmLm5vZGUsZi5vZmZzZXQpLEUuYWRkUmFuZ2UoaykpKSkpLGs9W107Zm9yKEU9dztFPUUucGFyZW50Tm9kZTspMT09PUUubm9kZVR5cGUmJmsucHVzaCh7ZWxlbWVudDpFLGxlZnQ6RS5zY3JvbGxMZWZ0LHRvcDpFLnNjcm9sbFRvcH0pO2ZvcigiZnVuY3Rpb24iPT09dHlwZW9mIHcuZm9jdXMmJncuZm9jdXMoKSx3PTA7dzxrLmxlbmd0aDt3KyspKEU9a1t3XSkuZWxlbWVudC5zY3JvbGxMZWZ0PUUubGVmdCxFLmVsZW1lbnQuc2Nyb2xsVG9wPUUudG9wfXRyPW51bGwsVG49ISFlcixlcj1udWxsLGUuY3VycmVudD1uLHJ1PWw7ZG97dHJ5e2Zvcih3PXI7bnVsbCE9PXJ1Oyl7dmFyIHg9cnUuZWZmZWN0VGFnO2lmKDM2Jngpe3ZhciBUPXJ1LmFsdGVybmF0ZTtzd2l0Y2goRT13LChrPXJ1KS50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6Ym8oMTYsMzIsayk7YnJlYWs7Y2FzZSAxOnZhciBTPWsuc3RhdGVOb2RlO2lmKDQmay5lZmZlY3RUYWcpaWYobnVsbD09PVQpUy5jb21wb25lbnREaWRNb3VudCgpO2Vsc2V7dmFyIEM9ay5lbGVtZW50VHlwZT09PWsudHlwZT9ULm1lbW9pemVkUHJvcHM6dGEoay50eXBlLFQubWVtb2l6ZWRQcm9wcyk7Uy5jb21wb25lbnREaWRVcGRhdGUoQyxULm1lbW9pemVkU3RhdGUsUy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZSl9dmFyIF89ay51cGRhdGVRdWV1ZTtudWxsIT09XyYmRWEoMCxfLFMpO2JyZWFrO2Nhc2UgMzp2YXIgUD1rLnVwZGF0ZVF1ZXVlO2lmKG51bGwhPT1QKXtpZihvPW51bGwsbnVsbCE9PWsuY2hpbGQpc3dpdGNoKGsuY2hpbGQudGFnKXtjYXNlIDU6bz1rLmNoaWxkLnN0YXRlTm9kZTticmVhaztjYXNlIDE6bz1rLmNoaWxkLnN0YXRlTm9kZX1FYSgwLFAsbyl9YnJlYWs7Y2FzZSA1OnZhciBOPWsuc3RhdGVOb2RlO251bGw9PT1UJiY0JmsuZWZmZWN0VGFnJiZucihrLnR5cGUsay5tZW1vaXplZFByb3BzKSYmTi5mb2N1cygpO2JyZWFrO2Nhc2UgNjpjYXNlIDQ6Y2FzZSAxMjpicmVhaztjYXNlIDEzOmlmKG51bGw9PT1rLm1lbW9pemVkU3RhdGUpe3ZhciB6PWsuYWx0ZXJuYXRlO2lmKG51bGwhPT16KXt2YXIgTz16Lm1lbW9pemVkU3RhdGU7aWYobnVsbCE9PU8pe3ZhciBNPU8uZGVoeWRyYXRlZDtudWxsIT09TSYmU3QoTSl9fX1icmVhaztjYXNlIDE5OmNhc2UgMTc6Y2FzZSAyMDpjYXNlIDIxOmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoaSgxNjMpKX19aWYoMTI4Jngpe2s9dm9pZCAwO3ZhciBJPXJ1LnJlZjtpZihudWxsIT09SSl7dmFyIFI9cnUuc3RhdGVOb2RlO3N3aXRjaChydS50YWcpe2Nhc2UgNTprPVI7YnJlYWs7ZGVmYXVsdDprPVJ9ImZ1bmN0aW9uIj09PXR5cGVvZiBJP0koayk6SS5jdXJyZW50PWt9fXJ1PXJ1Lm5leHRFZmZlY3R9fWNhdGNoKEYpe2lmKG51bGw9PT1ydSl0aHJvdyBFcnJvcihpKDMzMCkpO1d1KHJ1LEYpLHJ1PXJ1Lm5leHRFZmZlY3R9fXdoaWxlKG51bGwhPT1ydSk7cnU9bnVsbCxXbCgpLEhvPWF9ZWxzZSBlLmN1cnJlbnQ9bjtpZihvdSlvdT0hMSx1dT1lLGN1PXQ7ZWxzZSBmb3IocnU9bDtudWxsIT09cnU7KXQ9cnUubmV4dEVmZmVjdCxydS5uZXh0RWZmZWN0PW51bGwscnU9dDtpZigwPT09KHQ9ZS5maXJzdFBlbmRpbmdUaW1lKSYmKGl1PW51bGwpLDEwNzM3NDE4MjM9PT10P2U9PT1kdT9mdSsrOihmdT0wLGR1PWUpOmZ1PTAsImZ1bmN0aW9uIj09PXR5cGVvZiBCdSYmQnUobi5zdGF0ZU5vZGUsciksYnUoZSksbHUpdGhyb3cgbHU9ITEsZT1hdSxhdT1udWxsLGU7cmV0dXJuKEhvJkZvKSE9PVJvP251bGw6KEdsKCksbnVsbCl9ZnVuY3Rpb24gVXUoKXtmb3IoO251bGwhPT1ydTspe3ZhciBlPXJ1LmVmZmVjdFRhZzswIT09KDI1NiZlKSYmZ28ocnUuYWx0ZXJuYXRlLHJ1KSwwPT09KDUxMiZlKXx8b3V8fChvdT0hMCxZbCg5NywoZnVuY3Rpb24oKXtyZXR1cm4gRHUoKSxudWxsfSkpKSxydT1ydS5uZXh0RWZmZWN0fX1mdW5jdGlvbiBEdSgpe2lmKDkwIT09Y3Upe3ZhciBlPTk3PGN1Pzk3OmN1O3JldHVybiBjdT05MCxxbChlLEx1KX19ZnVuY3Rpb24gTHUoKXtpZihudWxsPT09dXUpcmV0dXJuITE7dmFyIGU9dXU7aWYodXU9bnVsbCwoSG8mKFVvfERvKSkhPT1Sbyl0aHJvdyBFcnJvcihpKDMzMSkpO3ZhciB0PUhvO2ZvcihIb3w9RG8sZT1lLmN1cnJlbnQuZmlyc3RFZmZlY3Q7bnVsbCE9PWU7KXt0cnl7dmFyIG49ZTtpZigwIT09KDUxMiZuLmVmZmVjdFRhZykpc3dpdGNoKG4udGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE1OmJvKDEyOCwwLG4pLGJvKDAsNjQsbil9fWNhdGNoKHIpe2lmKG51bGw9PT1lKXRocm93IEVycm9yKGkoMzMwKSk7V3UoZSxyKX1uPWUubmV4dEVmZmVjdCxlLm5leHRFZmZlY3Q9bnVsbCxlPW59cmV0dXJuIEhvPXQsR2woKSwhMH1mdW5jdGlvbiBBdShlLHQsbil7eWEoZSx0PVBvKGUsdD1tbyhuLHQpLDEwNzM3NDE4MjMpKSxudWxsIT09KGU9eXUoZSwxMDczNzQxODIzKSkmJmJ1KGUpfWZ1bmN0aW9uIFd1KGUsdCl7aWYoMz09PWUudGFnKUF1KGUsZSx0KTtlbHNlIGZvcih2YXIgbj1lLnJldHVybjtudWxsIT09bjspe2lmKDM9PT1uLnRhZyl7QXUobixlLHQpO2JyZWFrfWlmKDE9PT1uLnRhZyl7dmFyIHI9bi5zdGF0ZU5vZGU7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBuLnR5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yfHwiZnVuY3Rpb24iPT09dHlwZW9mIHIuY29tcG9uZW50RGlkQ2F0Y2gmJihudWxsPT09aXV8fCFpdS5oYXMocikpKXt5YShuLGU9Tm8obixlPW1vKHQsZSksMTA3Mzc0MTgyMykpLG51bGwhPT0obj15dShuLDEwNzM3NDE4MjMpKSYmYnUobik7YnJlYWt9fW49bi5yZXR1cm59fWZ1bmN0aW9uIGp1KGUsdCxuKXt2YXIgcj1lLnBpbmdDYWNoZTtudWxsIT09ciYmci5kZWxldGUodCksJG89PT1lJiZLbz09PW4/cW89PT1Wb3x8cW89PT1qbyYmMTA3Mzc0MTgyMz09PVhvJiYkbCgpLXR1PG51P1R1KGUsS28pOmV1PSEwOmVjKGUsbikmJigwIT09KHQ9ZS5sYXN0UGluZ2VkVGltZSkmJnQ8bnx8KGUubGFzdFBpbmdlZFRpbWU9bixlLmZpbmlzaGVkRXhwaXJhdGlvblRpbWU9PT1uJiYoZS5maW5pc2hlZEV4cGlyYXRpb25UaW1lPTAsZS5maW5pc2hlZFdvcms9bnVsbCksYnUoZSkpKX1mdW5jdGlvbiBWdShlLHQpe3ZhciBuPWUuc3RhdGVOb2RlO251bGwhPT1uJiZuLmRlbGV0ZSh0KSwwPT09KHQ9MCkmJih0PWh1KHQ9bXUoKSxlLG51bGwpKSxudWxsIT09KGU9eXUoZSx0KSkmJmJ1KGUpfXpvPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10LmV4cGlyYXRpb25UaW1lO2lmKG51bGwhPT1lKXt2YXIgbD10LnBlbmRpbmdQcm9wcztpZihlLm1lbW9pemVkUHJvcHMhPT1sfHx5bC5jdXJyZW50KUhpPSEwO2Vsc2V7aWYocjxuKXtzd2l0Y2goSGk9ITEsdC50YWcpe2Nhc2UgMzpaaSh0KSxWaSgpO2JyZWFrO2Nhc2UgNTppZigkYSh0KSw0JnQubW9kZSYmMSE9PW4mJmwuaGlkZGVuKXJldHVybiB0LmV4cGlyYXRpb25UaW1lPXQuY2hpbGRFeHBpcmF0aW9uVGltZT0xLG51bGw7YnJlYWs7Y2FzZSAxOndsKHQudHlwZSkmJlNsKHQpO2JyZWFrO2Nhc2UgNDpCYSh0LHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pO2JyZWFrO2Nhc2UgMTA6b2EodCx0Lm1lbW9pemVkUHJvcHMudmFsdWUpO2JyZWFrO2Nhc2UgMTM6aWYobnVsbCE9PXQubWVtb2l6ZWRTdGF0ZSlyZXR1cm4gMCE9PShyPXQuY2hpbGQuY2hpbGRFeHBpcmF0aW9uVGltZSkmJnI+PW4/YW8oZSx0LG4pOihtbChLYSwxJkthLmN1cnJlbnQpLG51bGwhPT0odD1jbyhlLHQsbikpP3Quc2libGluZzpudWxsKTttbChLYSwxJkthLmN1cnJlbnQpO2JyZWFrO2Nhc2UgMTk6aWYocj10LmNoaWxkRXhwaXJhdGlvblRpbWU+PW4sMCE9PSg2NCZlLmVmZmVjdFRhZykpe2lmKHIpcmV0dXJuIHVvKGUsdCxuKTt0LmVmZmVjdFRhZ3w9NjR9aWYobnVsbCE9PShsPXQubWVtb2l6ZWRTdGF0ZSkmJihsLnJlbmRlcmluZz1udWxsLGwudGFpbD1udWxsKSxtbChLYSxLYS5jdXJyZW50KSwhcilyZXR1cm4gbnVsbH1yZXR1cm4gY28oZSx0LG4pfUhpPSExfX1lbHNlIEhpPSExO3N3aXRjaCh0LmV4cGlyYXRpb25UaW1lPTAsdC50YWcpe2Nhc2UgMjppZihyPXQudHlwZSxudWxsIT09ZSYmKGUuYWx0ZXJuYXRlPW51bGwsdC5hbHRlcm5hdGU9bnVsbCx0LmVmZmVjdFRhZ3w9MiksZT10LnBlbmRpbmdQcm9wcyxsPWJsKHQsdmwuY3VycmVudCksc2EodCxuKSxsPXBpKG51bGwsdCxyLGUsbCxuKSx0LmVmZmVjdFRhZ3w9MSwib2JqZWN0Ij09PXR5cGVvZiBsJiZudWxsIT09bCYmImZ1bmN0aW9uIj09PXR5cGVvZiBsLnJlbmRlciYmdm9pZCAwPT09bC4kJHR5cGVvZil7aWYodC50YWc9MSxtaSgpLHdsKHIpKXt2YXIgYT0hMDtTbCh0KX1lbHNlIGE9ITE7dC5tZW1vaXplZFN0YXRlPW51bGwhPT1sLnN0YXRlJiZ2b2lkIDAhPT1sLnN0YXRlP2wuc3RhdGU6bnVsbDt2YXIgbz1yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczsiZnVuY3Rpb24iPT09dHlwZW9mIG8mJkNhKHQscixvLGUpLGwudXBkYXRlcj1fYSx0LnN0YXRlTm9kZT1sLGwuX3JlYWN0SW50ZXJuYWxGaWJlcj10LE9hKHQscixlLG4pLHQ9SmkobnVsbCx0LHIsITAsYSxuKX1lbHNlIHQudGFnPTAsJGkobnVsbCx0LGwsbiksdD10LmNoaWxkO3JldHVybiB0O2Nhc2UgMTY6aWYobD10LmVsZW1lbnRUeXBlLG51bGwhPT1lJiYoZS5hbHRlcm5hdGU9bnVsbCx0LmFsdGVybmF0ZT1udWxsLHQuZWZmZWN0VGFnfD0yKSxlPXQucGVuZGluZ1Byb3BzLGZ1bmN0aW9uKGUpe2lmKC0xPT09ZS5fc3RhdHVzKXtlLl9zdGF0dXM9MDt2YXIgdD1lLl9jdG9yO3Q9dCgpLGUuX3Jlc3VsdD10LHQudGhlbigoZnVuY3Rpb24odCl7MD09PWUuX3N0YXR1cyYmKHQ9dC5kZWZhdWx0LGUuX3N0YXR1cz0xLGUuX3Jlc3VsdD10KX0pLChmdW5jdGlvbih0KXswPT09ZS5fc3RhdHVzJiYoZS5fc3RhdHVzPTIsZS5fcmVzdWx0PXQpfSkpfX0obCksMSE9PWwuX3N0YXR1cyl0aHJvdyBsLl9yZXN1bHQ7c3dpdGNoKGw9bC5fcmVzdWx0LHQudHlwZT1sLGE9dC50YWc9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBlKXJldHVybiBLdShlKT8xOjA7aWYodm9pZCAwIT09ZSYmbnVsbCE9PWUpe2lmKChlPWUuJCR0eXBlb2YpPT09SClyZXR1cm4gMTE7aWYoZT09PUspcmV0dXJuIDE0fXJldHVybiAyfShsKSxlPXRhKGwsZSksYSl7Y2FzZSAwOnQ9WGkobnVsbCx0LGwsZSxuKTticmVhaztjYXNlIDE6dD1HaShudWxsLHQsbCxlLG4pO2JyZWFrO2Nhc2UgMTE6dD1RaShudWxsLHQsbCxlLG4pO2JyZWFrO2Nhc2UgMTQ6dD1LaShudWxsLHQsbCx0YShsLnR5cGUsZSkscixuKTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKGkoMzA2LGwsIiIpKX1yZXR1cm4gdDtjYXNlIDA6cmV0dXJuIHI9dC50eXBlLGw9dC5wZW5kaW5nUHJvcHMsWGkoZSx0LHIsbD10LmVsZW1lbnRUeXBlPT09cj9sOnRhKHIsbCksbik7Y2FzZSAxOnJldHVybiByPXQudHlwZSxsPXQucGVuZGluZ1Byb3BzLEdpKGUsdCxyLGw9dC5lbGVtZW50VHlwZT09PXI/bDp0YShyLGwpLG4pO2Nhc2UgMzppZihaaSh0KSxudWxsPT09KHI9dC51cGRhdGVRdWV1ZSkpdGhyb3cgRXJyb3IoaSgyODIpKTtpZihsPW51bGwhPT0obD10Lm1lbW9pemVkU3RhdGUpP2wuZWxlbWVudDpudWxsLGthKHQscix0LnBlbmRpbmdQcm9wcyxudWxsLG4pLChyPXQubWVtb2l6ZWRTdGF0ZS5lbGVtZW50KT09PWwpVmkoKSx0PWNvKGUsdCxuKTtlbHNle2lmKChsPXQuc3RhdGVOb2RlLmh5ZHJhdGUpJiYoRmk9aXIodC5zdGF0ZU5vZGUuY29udGFpbmVySW5mby5maXJzdENoaWxkKSxSaT10LGw9VWk9ITApLGwpZm9yKG49RGEodCxudWxsLHIsbiksdC5jaGlsZD1uO247KW4uZWZmZWN0VGFnPS0zJm4uZWZmZWN0VGFnfDEwMjQsbj1uLnNpYmxpbmc7ZWxzZSAkaShlLHQscixuKSxWaSgpO3Q9dC5jaGlsZH1yZXR1cm4gdDtjYXNlIDU6cmV0dXJuICRhKHQpLG51bGw9PT1lJiZBaSh0KSxyPXQudHlwZSxsPXQucGVuZGluZ1Byb3BzLGE9bnVsbCE9PWU/ZS5tZW1vaXplZFByb3BzOm51bGwsbz1sLmNoaWxkcmVuLHJyKHIsbCk/bz1udWxsOm51bGwhPT1hJiZycihyLGEpJiYodC5lZmZlY3RUYWd8PTE2KSxZaShlLHQpLDQmdC5tb2RlJiYxIT09biYmbC5oaWRkZW4/KHQuZXhwaXJhdGlvblRpbWU9dC5jaGlsZEV4cGlyYXRpb25UaW1lPTEsdD1udWxsKTooJGkoZSx0LG8sbiksdD10LmNoaWxkKSx0O2Nhc2UgNjpyZXR1cm4gbnVsbD09PWUmJkFpKHQpLG51bGw7Y2FzZSAxMzpyZXR1cm4gYW8oZSx0LG4pO2Nhc2UgNDpyZXR1cm4gQmEodCx0LnN0YXRlTm9kZS5jb250YWluZXJJbmZvKSxyPXQucGVuZGluZ1Byb3BzLG51bGw9PT1lP3QuY2hpbGQ9VWEodCxudWxsLHIsbik6JGkoZSx0LHIsbiksdC5jaGlsZDtjYXNlIDExOnJldHVybiByPXQudHlwZSxsPXQucGVuZGluZ1Byb3BzLFFpKGUsdCxyLGw9dC5lbGVtZW50VHlwZT09PXI/bDp0YShyLGwpLG4pO2Nhc2UgNzpyZXR1cm4gJGkoZSx0LHQucGVuZGluZ1Byb3BzLG4pLHQuY2hpbGQ7Y2FzZSA4OmNhc2UgMTI6cmV0dXJuICRpKGUsdCx0LnBlbmRpbmdQcm9wcy5jaGlsZHJlbixuKSx0LmNoaWxkO2Nhc2UgMTA6ZTp7aWYocj10LnR5cGUuX2NvbnRleHQsbD10LnBlbmRpbmdQcm9wcyxvPXQubWVtb2l6ZWRQcm9wcyxvYSh0LGE9bC52YWx1ZSksbnVsbCE9PW8pe3ZhciB1PW8udmFsdWU7aWYoMD09PShhPWVsKHUsYSk/MDowfCgiZnVuY3Rpb24iPT09dHlwZW9mIHIuX2NhbGN1bGF0ZUNoYW5nZWRCaXRzP3IuX2NhbGN1bGF0ZUNoYW5nZWRCaXRzKHUsYSk6MTA3Mzc0MTgyMykpKXtpZihvLmNoaWxkcmVuPT09bC5jaGlsZHJlbiYmIXlsLmN1cnJlbnQpe3Q9Y28oZSx0LG4pO2JyZWFrIGV9fWVsc2UgZm9yKG51bGwhPT0odT10LmNoaWxkKSYmKHUucmV0dXJuPXQpO251bGwhPT11Oyl7dmFyIGM9dS5kZXBlbmRlbmNpZXM7aWYobnVsbCE9PWMpe289dS5jaGlsZDtmb3IodmFyIHM9Yy5maXJzdENvbnRleHQ7bnVsbCE9PXM7KXtpZihzLmNvbnRleHQ9PT1yJiYwIT09KHMub2JzZXJ2ZWRCaXRzJmEpKXsxPT09dS50YWcmJigocz1oYShuLG51bGwpKS50YWc9Mix5YSh1LHMpKSx1LmV4cGlyYXRpb25UaW1lPG4mJih1LmV4cGlyYXRpb25UaW1lPW4pLG51bGwhPT0ocz11LmFsdGVybmF0ZSkmJnMuZXhwaXJhdGlvblRpbWU8biYmKHMuZXhwaXJhdGlvblRpbWU9biksY2EodS5yZXR1cm4sbiksYy5leHBpcmF0aW9uVGltZTxuJiYoYy5leHBpcmF0aW9uVGltZT1uKTticmVha31zPXMubmV4dH19ZWxzZSBvPTEwPT09dS50YWcmJnUudHlwZT09PXQudHlwZT9udWxsOnUuY2hpbGQ7aWYobnVsbCE9PW8pby5yZXR1cm49dTtlbHNlIGZvcihvPXU7bnVsbCE9PW87KXtpZihvPT09dCl7bz1udWxsO2JyZWFrfWlmKG51bGwhPT0odT1vLnNpYmxpbmcpKXt1LnJldHVybj1vLnJldHVybixvPXU7YnJlYWt9bz1vLnJldHVybn11PW99fSRpKGUsdCxsLmNoaWxkcmVuLG4pLHQ9dC5jaGlsZH1yZXR1cm4gdDtjYXNlIDk6cmV0dXJuIGw9dC50eXBlLHI9KGE9dC5wZW5kaW5nUHJvcHMpLmNoaWxkcmVuLHNhKHQsbikscj1yKGw9ZmEobCxhLnVuc3RhYmxlX29ic2VydmVkQml0cykpLHQuZWZmZWN0VGFnfD0xLCRpKGUsdCxyLG4pLHQuY2hpbGQ7Y2FzZSAxNDpyZXR1cm4gYT10YShsPXQudHlwZSx0LnBlbmRpbmdQcm9wcyksS2koZSx0LGwsYT10YShsLnR5cGUsYSkscixuKTtjYXNlIDE1OnJldHVybiBxaShlLHQsdC50eXBlLHQucGVuZGluZ1Byb3BzLHIsbik7Y2FzZSAxNzpyZXR1cm4gcj10LnR5cGUsbD10LnBlbmRpbmdQcm9wcyxsPXQuZWxlbWVudFR5cGU9PT1yP2w6dGEocixsKSxudWxsIT09ZSYmKGUuYWx0ZXJuYXRlPW51bGwsdC5hbHRlcm5hdGU9bnVsbCx0LmVmZmVjdFRhZ3w9MiksdC50YWc9MSx3bChyKT8oZT0hMCxTbCh0KSk6ZT0hMSxzYSh0LG4pLE5hKHQscixsKSxPYSh0LHIsbCxuKSxKaShudWxsLHQsciwhMCxlLG4pO2Nhc2UgMTk6cmV0dXJuIHVvKGUsdCxuKX10aHJvdyBFcnJvcihpKDE1Nix0LnRhZykpfTt2YXIgQnU9bnVsbCxIdT1udWxsO2Z1bmN0aW9uICR1KGUsdCxuLHIpe3RoaXMudGFnPWUsdGhpcy5rZXk9bix0aGlzLnNpYmxpbmc9dGhpcy5jaGlsZD10aGlzLnJldHVybj10aGlzLnN0YXRlTm9kZT10aGlzLnR5cGU9dGhpcy5lbGVtZW50VHlwZT1udWxsLHRoaXMuaW5kZXg9MCx0aGlzLnJlZj1udWxsLHRoaXMucGVuZGluZ1Byb3BzPXQsdGhpcy5kZXBlbmRlbmNpZXM9dGhpcy5tZW1vaXplZFN0YXRlPXRoaXMudXBkYXRlUXVldWU9dGhpcy5tZW1vaXplZFByb3BzPW51bGwsdGhpcy5tb2RlPXIsdGhpcy5lZmZlY3RUYWc9MCx0aGlzLmxhc3RFZmZlY3Q9dGhpcy5maXJzdEVmZmVjdD10aGlzLm5leHRFZmZlY3Q9bnVsbCx0aGlzLmNoaWxkRXhwaXJhdGlvblRpbWU9dGhpcy5leHBpcmF0aW9uVGltZT0wLHRoaXMuYWx0ZXJuYXRlPW51bGx9ZnVuY3Rpb24gUXUoZSx0LG4scil7cmV0dXJuIG5ldyAkdShlLHQsbixyKX1mdW5jdGlvbiBLdShlKXtyZXR1cm4hKCEoZT1lLnByb3RvdHlwZSl8fCFlLmlzUmVhY3RDb21wb25lbnQpfWZ1bmN0aW9uIHF1KGUsdCl7dmFyIG49ZS5hbHRlcm5hdGU7cmV0dXJuIG51bGw9PT1uPygobj1RdShlLnRhZyx0LGUua2V5LGUubW9kZSkpLmVsZW1lbnRUeXBlPWUuZWxlbWVudFR5cGUsbi50eXBlPWUudHlwZSxuLnN0YXRlTm9kZT1lLnN0YXRlTm9kZSxuLmFsdGVybmF0ZT1lLGUuYWx0ZXJuYXRlPW4pOihuLnBlbmRpbmdQcm9wcz10LG4uZWZmZWN0VGFnPTAsbi5uZXh0RWZmZWN0PW51bGwsbi5maXJzdEVmZmVjdD1udWxsLG4ubGFzdEVmZmVjdD1udWxsKSxuLmNoaWxkRXhwaXJhdGlvblRpbWU9ZS5jaGlsZEV4cGlyYXRpb25UaW1lLG4uZXhwaXJhdGlvblRpbWU9ZS5leHBpcmF0aW9uVGltZSxuLmNoaWxkPWUuY2hpbGQsbi5tZW1vaXplZFByb3BzPWUubWVtb2l6ZWRQcm9wcyxuLm1lbW9pemVkU3RhdGU9ZS5tZW1vaXplZFN0YXRlLG4udXBkYXRlUXVldWU9ZS51cGRhdGVRdWV1ZSx0PWUuZGVwZW5kZW5jaWVzLG4uZGVwZW5kZW5jaWVzPW51bGw9PT10P251bGw6e2V4cGlyYXRpb25UaW1lOnQuZXhwaXJhdGlvblRpbWUsZmlyc3RDb250ZXh0OnQuZmlyc3RDb250ZXh0LHJlc3BvbmRlcnM6dC5yZXNwb25kZXJzfSxuLnNpYmxpbmc9ZS5zaWJsaW5nLG4uaW5kZXg9ZS5pbmRleCxuLnJlZj1lLnJlZixufWZ1bmN0aW9uIFl1KGUsdCxuLHIsbCxhKXt2YXIgbz0yO2lmKHI9ZSwiZnVuY3Rpb24iPT09dHlwZW9mIGUpS3UoZSkmJihvPTEpO2Vsc2UgaWYoInN0cmluZyI9PT10eXBlb2YgZSlvPTU7ZWxzZSBlOnN3aXRjaChlKXtjYXNlIEw6cmV0dXJuIFh1KG4uY2hpbGRyZW4sbCxhLHQpO2Nhc2UgQjpvPTgsbHw9NzticmVhaztjYXNlIEE6bz04LGx8PTE7YnJlYWs7Y2FzZSBXOnJldHVybihlPVF1KDEyLG4sdCw4fGwpKS5lbGVtZW50VHlwZT1XLGUudHlwZT1XLGUuZXhwaXJhdGlvblRpbWU9YSxlO2Nhc2UgJDpyZXR1cm4oZT1RdSgxMyxuLHQsbCkpLnR5cGU9JCxlLmVsZW1lbnRUeXBlPSQsZS5leHBpcmF0aW9uVGltZT1hLGU7Y2FzZSBROnJldHVybihlPVF1KDE5LG4sdCxsKSkuZWxlbWVudFR5cGU9USxlLmV4cGlyYXRpb25UaW1lPWEsZTtkZWZhdWx0OmlmKCJvYmplY3QiPT09dHlwZW9mIGUmJm51bGwhPT1lKXN3aXRjaChlLiQkdHlwZW9mKXtjYXNlIGo6bz0xMDticmVhayBlO2Nhc2UgVjpvPTk7YnJlYWsgZTtjYXNlIEg6bz0xMTticmVhayBlO2Nhc2UgSzpvPTE0O2JyZWFrIGU7Y2FzZSBxOm89MTYscj1udWxsO2JyZWFrIGV9dGhyb3cgRXJyb3IoaSgxMzAsbnVsbD09ZT9lOnR5cGVvZiBlLCIiKSl9cmV0dXJuKHQ9UXUobyxuLHQsbCkpLmVsZW1lbnRUeXBlPWUsdC50eXBlPXIsdC5leHBpcmF0aW9uVGltZT1hLHR9ZnVuY3Rpb24gWHUoZSx0LG4scil7cmV0dXJuKGU9UXUoNyxlLHIsdCkpLmV4cGlyYXRpb25UaW1lPW4sZX1mdW5jdGlvbiBHdShlLHQsbil7cmV0dXJuKGU9UXUoNixlLG51bGwsdCkpLmV4cGlyYXRpb25UaW1lPW4sZX1mdW5jdGlvbiBKdShlLHQsbil7cmV0dXJuKHQ9UXUoNCxudWxsIT09ZS5jaGlsZHJlbj9lLmNoaWxkcmVuOltdLGUua2V5LHQpKS5leHBpcmF0aW9uVGltZT1uLHQuc3RhdGVOb2RlPXtjb250YWluZXJJbmZvOmUuY29udGFpbmVySW5mbyxwZW5kaW5nQ2hpbGRyZW46bnVsbCxpbXBsZW1lbnRhdGlvbjplLmltcGxlbWVudGF0aW9ufSx0fWZ1bmN0aW9uIFp1KGUsdCxuKXt0aGlzLnRhZz10LHRoaXMuY3VycmVudD1udWxsLHRoaXMuY29udGFpbmVySW5mbz1lLHRoaXMucGluZ0NhY2hlPXRoaXMucGVuZGluZ0NoaWxkcmVuPW51bGwsdGhpcy5maW5pc2hlZEV4cGlyYXRpb25UaW1lPTAsdGhpcy5maW5pc2hlZFdvcms9bnVsbCx0aGlzLnRpbWVvdXRIYW5kbGU9LTEsdGhpcy5wZW5kaW5nQ29udGV4dD10aGlzLmNvbnRleHQ9bnVsbCx0aGlzLmh5ZHJhdGU9bix0aGlzLmNhbGxiYWNrTm9kZT1udWxsLHRoaXMuY2FsbGJhY2tQcmlvcml0eT05MCx0aGlzLmxhc3RFeHBpcmVkVGltZT10aGlzLmxhc3RQaW5nZWRUaW1lPXRoaXMubmV4dEtub3duUGVuZGluZ0xldmVsPXRoaXMubGFzdFN1c3BlbmRlZFRpbWU9dGhpcy5maXJzdFN1c3BlbmRlZFRpbWU9dGhpcy5maXJzdFBlbmRpbmdUaW1lPTB9ZnVuY3Rpb24gZWMoZSx0KXt2YXIgbj1lLmZpcnN0U3VzcGVuZGVkVGltZTtyZXR1cm4gZT1lLmxhc3RTdXNwZW5kZWRUaW1lLDAhPT1uJiZuPj10JiZlPD10fWZ1bmN0aW9uIHRjKGUsdCl7dmFyIG49ZS5maXJzdFN1c3BlbmRlZFRpbWUscj1lLmxhc3RTdXNwZW5kZWRUaW1lO248dCYmKGUuZmlyc3RTdXNwZW5kZWRUaW1lPXQpLChyPnR8fDA9PT1uKSYmKGUubGFzdFN1c3BlbmRlZFRpbWU9dCksdDw9ZS5sYXN0UGluZ2VkVGltZSYmKGUubGFzdFBpbmdlZFRpbWU9MCksdDw9ZS5sYXN0RXhwaXJlZFRpbWUmJihlLmxhc3RFeHBpcmVkVGltZT0wKX1mdW5jdGlvbiBuYyhlLHQpe3Q+ZS5maXJzdFBlbmRpbmdUaW1lJiYoZS5maXJzdFBlbmRpbmdUaW1lPXQpO3ZhciBuPWUuZmlyc3RTdXNwZW5kZWRUaW1lOzAhPT1uJiYodD49bj9lLmZpcnN0U3VzcGVuZGVkVGltZT1lLmxhc3RTdXNwZW5kZWRUaW1lPWUubmV4dEtub3duUGVuZGluZ0xldmVsPTA6dD49ZS5sYXN0U3VzcGVuZGVkVGltZSYmKGUubGFzdFN1c3BlbmRlZFRpbWU9dCsxKSx0PmUubmV4dEtub3duUGVuZGluZ0xldmVsJiYoZS5uZXh0S25vd25QZW5kaW5nTGV2ZWw9dCkpfWZ1bmN0aW9uIHJjKGUsdCl7dmFyIG49ZS5sYXN0RXhwaXJlZFRpbWU7KDA9PT1ufHxuPnQpJiYoZS5sYXN0RXhwaXJlZFRpbWU9dCl9ZnVuY3Rpb24gbGMoZSx0LG4scil7dmFyIGw9dC5jdXJyZW50LGE9bXUoKSxvPVRhLnN1c3BlbnNlO2E9aHUoYSxsLG8pO2U6aWYobil7dDp7aWYoZXQobj1uLl9yZWFjdEludGVybmFsRmliZXIpIT09bnx8MSE9PW4udGFnKXRocm93IEVycm9yKGkoMTcwKSk7dmFyIHU9bjtkb3tzd2l0Y2godS50YWcpe2Nhc2UgMzp1PXUuc3RhdGVOb2RlLmNvbnRleHQ7YnJlYWsgdDtjYXNlIDE6aWYod2wodS50eXBlKSl7dT11LnN0YXRlTm9kZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dDticmVhayB0fX11PXUucmV0dXJufXdoaWxlKG51bGwhPT11KTt0aHJvdyBFcnJvcihpKDE3MSkpfWlmKDE9PT1uLnRhZyl7dmFyIGM9bi50eXBlO2lmKHdsKGMpKXtuPVRsKG4sYyx1KTticmVhayBlfX1uPXV9ZWxzZSBuPWhsO3JldHVybiBudWxsPT09dC5jb250ZXh0P3QuY29udGV4dD1uOnQucGVuZGluZ0NvbnRleHQ9biwodD1oYShhLG8pKS5wYXlsb2FkPXtlbGVtZW50OmV9LG51bGwhPT0ocj12b2lkIDA9PT1yP251bGw6cikmJih0LmNhbGxiYWNrPXIpLHlhKGwsdCksdnUobCxhKSxhfWZ1bmN0aW9uIGFjKGUpe2lmKCEoZT1lLmN1cnJlbnQpLmNoaWxkKXJldHVybiBudWxsO3N3aXRjaChlLmNoaWxkLnRhZyl7Y2FzZSA1OmRlZmF1bHQ6cmV0dXJuIGUuY2hpbGQuc3RhdGVOb2RlfX1mdW5jdGlvbiBpYyhlLHQpe251bGwhPT0oZT1lLm1lbW9pemVkU3RhdGUpJiZudWxsIT09ZS5kZWh5ZHJhdGVkJiZlLnJldHJ5VGltZTx0JiYoZS5yZXRyeVRpbWU9dCl9ZnVuY3Rpb24gb2MoZSx0KXtpYyhlLHQpLChlPWUuYWx0ZXJuYXRlKSYmaWMoZSx0KX1mdW5jdGlvbiB1YyhlLHQsbil7dmFyIHI9bmV3IFp1KGUsdCxuPW51bGwhPW4mJiEwPT09bi5oeWRyYXRlKSxsPVF1KDMsbnVsbCxudWxsLDI9PT10Pzc6MT09PXQ/MzowKTtyLmN1cnJlbnQ9bCxsLnN0YXRlTm9kZT1yLGVbZnJdPXIuY3VycmVudCxuJiYwIT09dCYmZnVuY3Rpb24oZSl7dmFyIHQ9Um4oZSk7aHQuZm9yRWFjaCgoZnVuY3Rpb24obil7Rm4obixlLHQpfSkpLHZ0LmZvckVhY2goKGZ1bmN0aW9uKG4pe0ZuKG4sZSx0KX0pKX0oOT09PWUubm9kZVR5cGU/ZTplLm93bmVyRG9jdW1lbnQpLHRoaXMuX2ludGVybmFsUm9vdD1yfWZ1bmN0aW9uIGNjKGUpe3JldHVybiEoIWV8fDEhPT1lLm5vZGVUeXBlJiY5IT09ZS5ub2RlVHlwZSYmMTEhPT1lLm5vZGVUeXBlJiYoOCE9PWUubm9kZVR5cGV8fCIgcmVhY3QtbW91bnQtcG9pbnQtdW5zdGFibGUgIiE9PWUubm9kZVZhbHVlKSl9ZnVuY3Rpb24gc2MoZSx0LG4scixsKXt2YXIgYT1uLl9yZWFjdFJvb3RDb250YWluZXI7aWYoYSl7dmFyIGk9YS5faW50ZXJuYWxSb290O2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgbCl7dmFyIG89bDtsPWZ1bmN0aW9uKCl7dmFyIGU9YWMoaSk7by5jYWxsKGUpfX1sYyh0LGksZSxsKX1lbHNle2lmKGE9bi5fcmVhY3RSb290Q29udGFpbmVyPWZ1bmN0aW9uKGUsdCl7aWYodHx8KHQ9ISghKHQ9ZT85PT09ZS5ub2RlVHlwZT9lLmRvY3VtZW50RWxlbWVudDplLmZpcnN0Q2hpbGQ6bnVsbCl8fDEhPT10Lm5vZGVUeXBlfHwhdC5oYXNBdHRyaWJ1dGUoImRhdGEtcmVhY3Ryb290IikpKSwhdClmb3IodmFyIG47bj1lLmxhc3RDaGlsZDspZS5yZW1vdmVDaGlsZChuKTtyZXR1cm4gbmV3IHVjKGUsMCx0P3toeWRyYXRlOiEwfTp2b2lkIDApfShuLHIpLGk9YS5faW50ZXJuYWxSb290LCJmdW5jdGlvbiI9PT10eXBlb2YgbCl7dmFyIHU9bDtsPWZ1bmN0aW9uKCl7dmFyIGU9YWMoaSk7dS5jYWxsKGUpfX14dSgoZnVuY3Rpb24oKXtsYyh0LGksZSxsKX0pKX1yZXR1cm4gYWMoaSl9ZnVuY3Rpb24gZmMoZSx0KXt2YXIgbj0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbDtpZighY2ModCkpdGhyb3cgRXJyb3IoaSgyMDApKTtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZhciByPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpudWxsO3JldHVybnskJHR5cGVvZjpELGtleTpudWxsPT1yP251bGw6IiIrcixjaGlsZHJlbjplLGNvbnRhaW5lckluZm86dCxpbXBsZW1lbnRhdGlvbjpufX0oZSx0LG51bGwsbil9dWMucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLHQpe2xjKGUsdGhpcy5faW50ZXJuYWxSb290LG51bGwsdm9pZCAwPT09dD9udWxsOnQpfSx1Yy5wcm90b3R5cGUudW5tb3VudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9pbnRlcm5hbFJvb3Qsbj12b2lkIDA9PT1lP251bGw6ZSxyPXQuY29udGFpbmVySW5mbztsYyhudWxsLHQsbnVsbCwoZnVuY3Rpb24oKXtyW2ZyXT1udWxsLG51bGwhPT1uJiZuKCl9KSl9LGx0PWZ1bmN0aW9uKGUpe2lmKDEzPT09ZS50YWcpe3ZhciB0PWVhKG11KCksMTUwLDEwMCk7dnUoZSx0KSxvYyhlLHQpfX0sYXQ9ZnVuY3Rpb24oZSl7aWYoMTM9PT1lLnRhZyl7bXUoKTt2YXIgdD1abCsrO3Z1KGUsdCksb2MoZSx0KX19LGl0PWZ1bmN0aW9uKGUpe2lmKDEzPT09ZS50YWcpe3ZhciB0PW11KCk7dnUoZSx0PWh1KHQsZSxudWxsKSksb2MoZSx0KX19LGVlPWZ1bmN0aW9uKGUsdCxuKXtzd2l0Y2godCl7Y2FzZSJpbnB1dCI6aWYoTmUoZSxuKSx0PW4ubmFtZSwicmFkaW8iPT09bi50eXBlJiZudWxsIT10KXtmb3Iobj1lO24ucGFyZW50Tm9kZTspbj1uLnBhcmVudE5vZGU7Zm9yKG49bi5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSIrSlNPTi5zdHJpbmdpZnkoIiIrdCkrJ11bdHlwZT0icmFkaW8iXScpLHQ9MDt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9blt0XTtpZihyIT09ZSYmci5mb3JtPT09ZS5mb3JtKXt2YXIgbD1ocihyKTtpZighbCl0aHJvdyBFcnJvcihpKDkwKSk7U2UociksTmUocixsKX19fWJyZWFrO2Nhc2UidGV4dGFyZWEiOlVlKGUsbik7YnJlYWs7Y2FzZSJzZWxlY3QiOm51bGwhPSh0PW4udmFsdWUpJiZJZShlLCEhbi5tdWx0aXBsZSx0LCExKX19LGllPUV1LG9lPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBsPUhvO0hvfD00O3RyeXtyZXR1cm4gcWwoOTgsZS5iaW5kKG51bGwsdCxuLHIpKX1maW5hbGx5eyhIbz1sKT09PVJvJiZHbCgpfX0sdWU9ZnVuY3Rpb24oKXsoSG8mKDF8VW98RG8pKT09PVJvJiYoZnVuY3Rpb24oKXtpZihudWxsIT09c3Upe3ZhciBlPXN1O3N1PW51bGwsZS5mb3JFYWNoKChmdW5jdGlvbihlLHQpe3JjKHQsZSksYnUodCl9KSksR2woKX19KCksRHUoKSl9LGNlPWZ1bmN0aW9uKGUsdCl7dmFyIG49SG87SG98PTI7dHJ5e3JldHVybiBlKHQpfWZpbmFsbHl7KEhvPW4pPT09Um8mJkdsKCl9fTt2YXIgZGM9e2NyZWF0ZVBvcnRhbDpmYyxmaW5kRE9NTm9kZTpmdW5jdGlvbihlKXtpZihudWxsPT1lKXJldHVybiBudWxsO2lmKDE9PT1lLm5vZGVUeXBlKXJldHVybiBlO3ZhciB0PWUuX3JlYWN0SW50ZXJuYWxGaWJlcjtpZih2b2lkIDA9PT10KXtpZigiZnVuY3Rpb24iPT09dHlwZW9mIGUucmVuZGVyKXRocm93IEVycm9yKGkoMTg4KSk7dGhyb3cgRXJyb3IoaSgyNjgsT2JqZWN0LmtleXMoZSkpKX1yZXR1cm4gZT1udWxsPT09KGU9cnQodCkpP251bGw6ZS5zdGF0ZU5vZGV9LGh5ZHJhdGU6ZnVuY3Rpb24oZSx0LG4pe2lmKCFjYyh0KSl0aHJvdyBFcnJvcihpKDIwMCkpO3JldHVybiBzYyhudWxsLGUsdCwhMCxuKX0scmVuZGVyOmZ1bmN0aW9uKGUsdCxuKXtpZighY2ModCkpdGhyb3cgRXJyb3IoaSgyMDApKTtyZXR1cm4gc2MobnVsbCxlLHQsITEsbil9LHVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKCFjYyhuKSl0aHJvdyBFcnJvcihpKDIwMCkpO2lmKG51bGw9PWV8fHZvaWQgMD09PWUuX3JlYWN0SW50ZXJuYWxGaWJlcil0aHJvdyBFcnJvcihpKDM4KSk7cmV0dXJuIHNjKGUsdCxuLCExLHIpfSx1bm1vdW50Q29tcG9uZW50QXROb2RlOmZ1bmN0aW9uKGUpe2lmKCFjYyhlKSl0aHJvdyBFcnJvcihpKDQwKSk7cmV0dXJuISFlLl9yZWFjdFJvb3RDb250YWluZXImJih4dSgoZnVuY3Rpb24oKXtzYyhudWxsLG51bGwsZSwhMSwoZnVuY3Rpb24oKXtlLl9yZWFjdFJvb3RDb250YWluZXI9bnVsbCxlW2ZyXT1udWxsfSkpfSkpLCEwKX0sdW5zdGFibGVfY3JlYXRlUG9ydGFsOmZ1bmN0aW9uKCl7cmV0dXJuIGZjLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfSx1bnN0YWJsZV9iYXRjaGVkVXBkYXRlczpFdSxmbHVzaFN5bmM6ZnVuY3Rpb24oZSx0KXtpZigoSG8mKFVvfERvKSkhPT1Sbyl0aHJvdyBFcnJvcihpKDE4NykpO3ZhciBuPUhvO0hvfD0xO3RyeXtyZXR1cm4gcWwoOTksZS5iaW5kKG51bGwsdCkpfWZpbmFsbHl7SG89bixHbCgpfX0sX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ6e0V2ZW50czpbcHIsbXIsaHIsTy5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWUsZCxNdCxmdW5jdGlvbihlKXtfKGUsT3QpfSxsZSxhZSx6bix6LER1LHtjdXJyZW50OiExfV19fTshZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maW5kRmliZXJCeUhvc3RJbnN0YW5jZTsoZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCI9PT10eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fKXJldHVybiExO3ZhciB0PV9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztpZih0LmlzRGlzYWJsZWR8fCF0LnN1cHBvcnRzRmliZXIpcmV0dXJuITA7dHJ5e3ZhciBuPXQuaW5qZWN0KGUpO0J1PWZ1bmN0aW9uKGUpe3RyeXt0Lm9uQ29tbWl0RmliZXJSb290KG4sZSx2b2lkIDAsNjQ9PT0oNjQmZS5jdXJyZW50LmVmZmVjdFRhZykpfWNhdGNoKHIpe319LEh1PWZ1bmN0aW9uKGUpe3RyeXt0Lm9uQ29tbWl0RmliZXJVbm1vdW50KG4sZSl9Y2F0Y2gocil7fX19Y2F0Y2gocil7fX0pKGwoe30sZSx7b3ZlcnJpZGVIb29rU3RhdGU6bnVsbCxvdmVycmlkZVByb3BzOm51bGwsc2V0U3VzcGVuc2VIYW5kbGVyOm51bGwsc2NoZWR1bGVVcGRhdGU6bnVsbCxjdXJyZW50RGlzcGF0Y2hlclJlZjpJLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsZmluZEhvc3RJbnN0YW5jZUJ5RmliZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT0oZT1ydChlKSk/bnVsbDplLnN0YXRlTm9kZX0sZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHQ/dChlKTpudWxsfSxmaW5kSG9zdEluc3RhbmNlc0ZvclJlZnJlc2g6bnVsbCxzY2hlZHVsZVJlZnJlc2g6bnVsbCxzY2hlZHVsZVJvb3Q6bnVsbCxzZXRSZWZyZXNoSGFuZGxlcjpudWxsLGdldEN1cnJlbnRGaWJlcjpudWxsfSkpfSh7ZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6ZHIsYnVuZGxlVHlwZTowLHZlcnNpb246IjE2LjEyLjAiLHJlbmRlcmVyUGFja2FnZU5hbWU6InJlYWN0LWRvbSJ9KTt2YXIgcGM9e2RlZmF1bHQ6ZGN9LG1jPXBjJiZkY3x8cGM7ZS5leHBvcnRzPW1jLmRlZmF1bHR8fG1jfX1dKTs=" async=""></script><script src="data:application/javascript;charset=UTF-8;base64,KHdpbmRvdy53ZWJwYWNrSnNvbnA9d2luZG93LndlYnBhY2tKc29ucHx8W10pLnB1c2goW1swXSx7IitTRksiOmZ1bmN0aW9uKHQsZSxuKXtuKCJBVXZtIiksbigid2dlVSIpLG4oImFkT3oiKSxuKCJkbDBxIiksdC5leHBvcnRzPW4oIldFcGsiKS5TeW1ib2x9LCIranJ1IjpmdW5jdGlvbih0LGUsbil7bigiYVBmZyIpKCJXZWFrTWFwIil9LCIvSFJOIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0sIi9lUUciOmZ1bmN0aW9uKHQsZSxuKXtuKCJ2NURkIik7dmFyIHI9bigiV0VwayIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gci5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKX19LCIvamtXIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24oImhmS20iKShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj0vXC9cW1teL10rP1xdKD89XC98JCkvO2UuaXNEeW5hbWljUm91dGU9ZnVuY3Rpb24odCl7cmV0dXJuIHIudGVzdCh0KX19LCIwQnNtIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlFldGQiKSxvPW4oIktJNDUiKTtlLl9fZXNNb2R1bGU9ITAsZS5kZWZhdWx0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIGkuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHQscih7cm91dGVyOigwLGEudXNlUm91dGVyKSgpfSxlKSl9ZS5nZXRJbml0aWFsUHJvcHM9dC5nZXRJbml0aWFsUHJvcHMsZS5vcmlnR2V0SW5pdGlhbFByb3BzPXQub3JpZ0dldEluaXRpYWxQcm9wcywhMTtyZXR1cm4gZX07dmFyIGk9byhuKCJxMXRJIikpLGE9bigibk9IdCIpfSwiMjlzLyI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIldFcGsiKSxvPW4oIjVUMlkiKSxpPW9bIl9fY29yZS1qc19zaGFyZWRfXyJdfHwob1siX19jb3JlLWpzX3NoYXJlZF9fIl09e30pOyh0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaVt0XXx8KGlbdF09dm9pZCAwIT09ZT9lOnt9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246ci52ZXJzaW9uLG1vZGU6bigidU9QUyIpPyJwdXJlIjoiZ2xvYmFsIixjb3B5cmlnaHQ6Ilx4YTkgMjAxOSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSJ9KX0sIjJHVFAiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJlYW9oIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtpZihyKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKG4pe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbChlLG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIHQuY2FsbChlLG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLG8pe3JldHVybiB0LmNhbGwoZSxuLHIsbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSwiMk5iMCI6ZnVuY3Rpb24odCxlLG4pe24oIkZsUWYiKSxuKCJiQnk5IiksdC5leHBvcnRzPW4oInpMa0ciKS5mKCJpdGVyYXRvciIpfSwiMmZhRSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjVLN1oiKSxvPW4oImVVdEYiKSxpPW4oIkc4TW8iKSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtlLmY9bigiam1ESCIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUsbil7aWYocih0KSxlPWkoZSwhMCkscihuKSxvKXRyeXtyZXR1cm4gYSh0LGUsbil9Y2F0Y2godSl7fWlmKCJnZXQiaW4gbnx8InNldCJpbiBuKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIG4mJih0W2VdPW4udmFsdWUpLHR9fSwiM0dKSCI6ZnVuY3Rpb24odCxlLG4pe24oImxDYzgiKTt2YXIgcj1uKCJXRXBrIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiByLmNyZWF0ZSh0LGUpfX0sIjRKbEQiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9ZnVuY3Rpb24odCl7c3dpdGNoKHR5cGVvZiB0KXtjYXNlInN0cmluZyI6cmV0dXJuIHQ7Y2FzZSJib29sZWFuIjpyZXR1cm4gdD8idHJ1ZSI6ImZhbHNlIjtjYXNlIm51bWJlciI6cmV0dXJuIGlzRmluaXRlKHQpP3Q6IiI7ZGVmYXVsdDpyZXR1cm4iIn19O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbix1KXtyZXR1cm4gZT1lfHwiJiIsbj1ufHwiPSIsbnVsbD09PXQmJih0PXZvaWQgMCksIm9iamVjdCI9PT10eXBlb2YgdD9pKGEodCksKGZ1bmN0aW9uKGEpe3ZhciB1PWVuY29kZVVSSUNvbXBvbmVudChyKGEpKStuO3JldHVybiBvKHRbYV0pP2kodFthXSwoZnVuY3Rpb24odCl7cmV0dXJuIHUrZW5jb2RlVVJJQ29tcG9uZW50KHIodCkpfSkpLmpvaW4oZSk6dStlbmNvZGVVUklDb21wb25lbnQocih0W2FdKSl9KSkuam9pbihlKTp1P2VuY29kZVVSSUNvbXBvbmVudChyKHUpKStuK2VuY29kZVVSSUNvbXBvbmVudChyKHQpKToiIn07dmFyIG89QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX07ZnVuY3Rpb24gaSh0LGUpe2lmKHQubWFwKXJldHVybiB0Lm1hcChlKTtmb3IodmFyIG49W10scj0wO3I8dC5sZW5ndGg7cisrKW4ucHVzaChlKHRbcl0scikpO3JldHVybiBufXZhciBhPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXt2YXIgZT1bXTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmZS5wdXNoKG4pO3JldHVybiBlfX0sIjVLN1oiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI5M0k0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXRocm93IFR5cGVFcnJvcih0KyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gdH19LCI1VDJZIjpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0sIjVVdXEiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJKbyt2Iiksbz1uKCJoZkttIiksaT1uKCJpWlAzIiksYT1uKCJHNEhRIik7ZnVuY3Rpb24gdSgpe2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgYSlyZXR1cm4gbnVsbDt2YXIgdD1uZXcgYTtyZXR1cm4gdT1mdW5jdGlvbigpe3JldHVybiB0fSx0fXQuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7aWYobnVsbD09PXR8fCJvYmplY3QiIT09aSh0KSYmImZ1bmN0aW9uIiE9PXR5cGVvZiB0KXJldHVybntkZWZhdWx0OnR9O3ZhciBlPXUoKTtpZihlJiZlLmhhcyh0KSlyZXR1cm4gZS5nZXQodCk7dmFyIG49e30sYT1vJiZyO2Zvcih2YXIgcyBpbiB0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHMpKXt2YXIgYz1hP3IodCxzKTpudWxsO2MmJihjLmdldHx8Yy5zZXQpP28obixzLGMpOm5bc109dFtzXX1yZXR1cm4gbi5kZWZhdWx0PXQsZSYmZS5zZXQodCxuKSxufX0sIjV2TVYiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJCK09UIiksbz1uKCJOc08vIiksaT1uKCJXMDcwIikoITEpLGE9bigiVlZseCIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLHU9byh0KSxzPTAsYz1bXTtmb3IobiBpbiB1KW4hPWEmJnIodSxuKSYmYy5wdXNoKG4pO2Zvcig7ZS5sZW5ndGg+czspcih1LG49ZVtzKytdKSYmKH5pKGMsbil8fGMucHVzaChuKSk7cmV0dXJuIGN9fSwiNi8xcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIllxQWMiKSgibWV0YSIpLG89bigiOTNJNCIpLGk9bigiQitPVCIpLGE9bigiMmZhRSIpLmYsdT0wLHM9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sYz0hbigiS1V4UCIpKChmdW5jdGlvbigpe3JldHVybiBzKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSkpLGY9ZnVuY3Rpb24odCl7YSh0LHIse3ZhbHVlOntpOiJPIisgKyt1LHc6e319fSl9LGg9dC5leHBvcnRzPXtLRVk6cixORUVEOiExLGZhc3RLZXk6ZnVuY3Rpb24odCxlKXtpZighbyh0KSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIHQ/dDooInN0cmluZyI9PXR5cGVvZiB0PyJTIjoiUCIpK3Q7aWYoIWkodCxyKSl7aWYoIXModCkpcmV0dXJuIkYiO2lmKCFlKXJldHVybiJFIjtmKHQpfXJldHVybiB0W3JdLml9LGdldFdlYWs6ZnVuY3Rpb24odCxlKXtpZighaSh0LHIpKXtpZighcyh0KSlyZXR1cm4hMDtpZighZSlyZXR1cm4hMTtmKHQpfXJldHVybiB0W3JdLnd9LG9uRnJlZXplOmZ1bmN0aW9uKHQpe3JldHVybiBjJiZoLk5FRUQmJnModCkmJiFpKHQscikmJmYodCksdH19fSwiNnRZaCI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjkzSTQiKSxvPW4oIjVLN1oiKSxpPWZ1bmN0aW9uKHQsZSl7aWYobyh0KSwhcihlKSYmbnVsbCE9PWUpdGhyb3cgVHlwZUVycm9yKGUrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQsZSxyKXt0cnl7KHI9bigiMkdUUCIpKEZ1bmN0aW9uLmNhbGwsbigidnd1TCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpKSh0LFtdKSxlPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChvKXtlPSEwfXJldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiBpKHQsbiksZT90Ll9fcHJvdG9fXz1uOnIodCxuKSx0fX0oe30sITEpOnZvaWQgMCksY2hlY2s6aX19LCI4K051IjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiOGJkeSIpLG89bigiZnByWiIpLGk9bigiQmgxbyIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiByKHQpfHxvKHQsZSl8fGkoKX19LCI4YmR5IjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigicDBYQiIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihyKHQpKXJldHVybiB0fX0sIjhnSHoiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI1SzdaIiksbz1uKCJlYW9oIiksaT1uKCJVV2lYIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixhPXIodCkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PWF8fHZvaWQgMD09KG49cihhKVtpXSk/ZTpvKG4pfX0sIjkzSTQiOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJvYmplY3QiPT09dHlwZW9mIHQ/bnVsbCE9PXQ6ImZ1bmN0aW9uIj09PXR5cGVvZiB0fX0sIjlCRGQiOmZ1bmN0aW9uKHQsZSxuKXtuKCJHdmJPIiksdC5leHBvcnRzPW4oIldFcGsiKS5BcnJheS5pc0FycmF5fSxBNVhnOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJOc08vIiksbz1uKCJhci9wIikuZixpPXt9LnRvU3RyaW5nLGE9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXTt0LmV4cG9ydHMuZj1mdW5jdGlvbih0KXtyZXR1cm4gYSYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbCh0KT9mdW5jdGlvbih0KXt0cnl7cmV0dXJuIG8odCl9Y2F0Y2goZSl7cmV0dXJuIGEuc2xpY2UoKX19KHQpOm8ocih0KSl9fSxBVXZtOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiNVQyWSIpLG89bigiQitPVCIpLGk9bigiam1ESCIpLGE9bigiWTdaQyIpLHU9bigia1RpVyIpLHM9bigiNi8xcyIpLktFWSxjPW4oIktVeFAiKSxmPW4oIjI5cy8iKSxoPW4oIlJmS0IiKSxwPW4oIllxQWMiKSxsPW4oIlVXaVgiKSx2PW4oInpMa0ciKSx5PW4oIlp4Z2kiKSxkPW4oIlIrNysiKSxtPW4oImtBTUgiKSxnPW4oIjVLN1oiKSx4PW4oIjkzSTQiKSx3PW4oIkpCNjgiKSxiPW4oIk5zTy8iKSxPPW4oIkc4TW8iKSxfPW4oInJyMWkiKSxqPW4oIm9WbWwiKSxFPW4oIkE1WGciKSxTPW4oInZ3dUwiKSxrPW4oIm1xbEYiKSxQPW4oIjJmYUUiKSxDPW4oInc2R08iKSxUPVMuZixNPVAuZixSPUUuZixBPXIuU3ltYm9sLEw9ci5KU09OLE49TCYmTC5zdHJpbmdpZnksST1sKCJfaGlkZGVuIiksVz1sKCJ0b1ByaW1pdGl2ZSIpLFU9e30ucHJvcGVydHlJc0VudW1lcmFibGUscT1mKCJzeW1ib2wtcmVnaXN0cnkiKSxGPWYoInN5bWJvbHMiKSxHPWYoIm9wLXN5bWJvbHMiKSxEPU9iamVjdC5wcm90b3R5cGUsSz0iZnVuY3Rpb24iPT10eXBlb2YgQSYmISFrLmYsQj1yLlFPYmplY3QsWT0hQnx8IUIucHJvdG90eXBlfHwhQi5wcm90b3R5cGUuZmluZENoaWxkLFo9aSYmYygoZnVuY3Rpb24oKXtyZXR1cm4gNyE9aihNKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE0odGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSkpP2Z1bmN0aW9uKHQsZSxuKXt2YXIgcj1UKEQsZSk7ciYmZGVsZXRlIERbZV0sTSh0LGUsbiksciYmdCE9PUQmJk0oRCxlLHIpfTpNLEg9ZnVuY3Rpb24odCl7dmFyIGU9Rlt0XT1qKEEucHJvdG90eXBlKTtyZXR1cm4gZS5faz10LGV9LFY9SyYmInN5bWJvbCI9PXR5cGVvZiBBLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBBfSxYPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD09PUQmJlgoRyxlLG4pLGcodCksZT1PKGUsITApLGcobiksbyhGLGUpPyhuLmVudW1lcmFibGU/KG8odCxJKSYmdFtJXVtlXSYmKHRbSV1bZV09ITEpLG49aihuLHtlbnVtZXJhYmxlOl8oMCwhMSl9KSk6KG8odCxJKXx8TSh0LEksXygxLHt9KSksdFtJXVtlXT0hMCksWih0LGUsbikpOk0odCxlLG4pfSxKPWZ1bmN0aW9uKHQsZSl7Zyh0KTtmb3IodmFyIG4scj1kKGU9YihlKSksbz0wLGk9ci5sZW5ndGg7aT5vOylYKHQsbj1yW28rK10sZVtuXSk7cmV0dXJuIHR9LHo9ZnVuY3Rpb24odCl7dmFyIGU9VS5jYWxsKHRoaXMsdD1PKHQsITApKTtyZXR1cm4hKHRoaXM9PT1EJiZvKEYsdCkmJiFvKEcsdCkpJiYoIShlfHwhbyh0aGlzLHQpfHwhbyhGLHQpfHxvKHRoaXMsSSkmJnRoaXNbSV1bdF0pfHxlKX0sUT1mdW5jdGlvbih0LGUpe2lmKHQ9Yih0KSxlPU8oZSwhMCksdCE9PUR8fCFvKEYsZSl8fG8oRyxlKSl7dmFyIG49VCh0LGUpO3JldHVybiFufHwhbyhGLGUpfHxvKHQsSSkmJnRbSV1bZV18fChuLmVudW1lcmFibGU9ITApLG59fSwkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPVIoYih0KSkscj1bXSxpPTA7bi5sZW5ndGg+aTspbyhGLGU9bltpKytdKXx8ZT09SXx8ZT09c3x8ci5wdXNoKGUpO3JldHVybiByfSx0dD1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj10PT09RCxyPVIobj9HOmIodCkpLGk9W10sYT0wO3IubGVuZ3RoPmE7KSFvKEYsZT1yW2ErK10pfHxuJiYhbyhELGUpfHxpLnB1c2goRltlXSk7cmV0dXJuIGl9O0t8fCh1KChBPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIEEpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhIik7dmFyIHQ9cChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksZT1mdW5jdGlvbihuKXt0aGlzPT09RCYmZS5jYWxsKEcsbiksbyh0aGlzLEkpJiZvKHRoaXNbSV0sdCkmJih0aGlzW0ldW3RdPSExKSxaKHRoaXMsdCxfKDEsbikpfTtyZXR1cm4gaSYmWSYmWihELHQse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZX0pLEgodCl9KS5wcm90b3R5cGUsInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pKSxTLmY9USxQLmY9WCxuKCJhci9wIikuZj1FLmY9JCxuKCJOVjBrIikuZj16LGsuZj10dCxpJiYhbigidU9QUyIpJiZ1KEQsInByb3BlcnR5SXNFbnVtZXJhYmxlIix6LCEwKSx2LmY9ZnVuY3Rpb24odCl7cmV0dXJuIEgobCh0KSl9KSxhKGEuRythLlcrYS5GKiFLLHtTeW1ib2w6QX0pO2Zvcih2YXIgZXQ9Imhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzIi5zcGxpdCgiLCIpLG50PTA7ZXQubGVuZ3RoPm50OylsKGV0W250KytdKTtmb3IodmFyIHJ0PUMobC5zdG9yZSksb3Q9MDtydC5sZW5ndGg+b3Q7KXkocnRbb3QrK10pO2EoYS5TK2EuRiohSywiU3ltYm9sIix7Zm9yOmZ1bmN0aW9uKHQpe3JldHVybiBvKHEsdCs9IiIpP3FbdF06cVt0XT1BKHQpfSxrZXlGb3I6ZnVuY3Rpb24odCl7aWYoIVYodCkpdGhyb3cgVHlwZUVycm9yKHQrIiBpcyBub3QgYSBzeW1ib2whIik7Zm9yKHZhciBlIGluIHEpaWYocVtlXT09PXQpcmV0dXJuIGV9LHVzZVNldHRlcjpmdW5jdGlvbigpe1k9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe1k9ITF9fSksYShhLlMrYS5GKiFLLCJPYmplY3QiLHtjcmVhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZT9qKHQpOkooaih0KSxlKX0sZGVmaW5lUHJvcGVydHk6WCxkZWZpbmVQcm9wZXJ0aWVzOkosZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOlEsZ2V0T3duUHJvcGVydHlOYW1lczokLGdldE93blByb3BlcnR5U3ltYm9sczp0dH0pO3ZhciBpdD1jKChmdW5jdGlvbigpe2suZigxKX0pKTthKGEuUythLkYqaXQsIk9iamVjdCIse2dldE93blByb3BlcnR5U3ltYm9sczpmdW5jdGlvbih0KXtyZXR1cm4gay5mKHcodCkpfX0pLEwmJmEoYS5TK2EuRiooIUt8fGMoKGZ1bmN0aW9uKCl7dmFyIHQ9QSgpO3JldHVybiJbbnVsbF0iIT1OKFt0XSl8fCJ7fSIhPU4oe2E6dH0pfHwie30iIT1OKE9iamVjdCh0KSl9KSkpLCJKU09OIix7c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuLHI9W3RdLG89MTthcmd1bWVudHMubGVuZ3RoPm87KXIucHVzaChhcmd1bWVudHNbbysrXSk7aWYobj1lPXJbMV0sKHgoZSl8fHZvaWQgMCE9PXQpJiYhVih0KSlyZXR1cm4gbShlKXx8KGU9ZnVuY3Rpb24odCxlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgbiYmKGU9bi5jYWxsKHRoaXMsdCxlKSksIVYoZSkpcmV0dXJuIGV9KSxyWzFdPWUsTi5hcHBseShMLHIpfX0pLEEucHJvdG90eXBlW1ddfHxuKCJOZWdNIikoQS5wcm90b3R5cGUsVyxBLnByb3RvdHlwZS52YWx1ZU9mKSxoKEEsIlN5bWJvbCIpLGgoTWF0aCwiTWF0aCIsITApLGgoci5KU09OLCJKU09OIiwhMCl9LCJCK09UIjpmdW5jdGlvbih0LGUpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuLmNhbGwodCxlKX19LEJVUkU6ZnVuY3Rpb24odCxlLG4pe24oImNIVWQiKSgiV2Vha01hcCIpfSxCaDFvOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfX0sQzJTTjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiOTNJNCIpLG89bigia0FNSCIpLGk9bigiVVdpWCIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBvKHQpJiYoImZ1bmN0aW9uIiE9dHlwZW9mKGU9dC5jb25zdHJ1Y3Rvcil8fGUhPT1BcnJheSYmIW8oZS5wcm90b3R5cGUpfHwoZT12b2lkIDApLHIoZSkmJm51bGw9PT0oZT1lW2ldKSYmKGU9dm9pZCAwKSksdm9pZCAwPT09ZT9BcnJheTplfX0sQ3hZMDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIkdZV3kiKSxvPW4oIk5laHIiKTtmdW5jdGlvbiBpKCl7dGhpcy5wcm90b2NvbD1udWxsLHRoaXMuc2xhc2hlcz1udWxsLHRoaXMuYXV0aD1udWxsLHRoaXMuaG9zdD1udWxsLHRoaXMucG9ydD1udWxsLHRoaXMuaG9zdG5hbWU9bnVsbCx0aGlzLmhhc2g9bnVsbCx0aGlzLnNlYXJjaD1udWxsLHRoaXMucXVlcnk9bnVsbCx0aGlzLnBhdGhuYW1lPW51bGwsdGhpcy5wYXRoPW51bGwsdGhpcy5ocmVmPW51bGx9ZS5wYXJzZT14LGUucmVzb2x2ZT1mdW5jdGlvbih0LGUpe3JldHVybiB4KHQsITEsITApLnJlc29sdmUoZSl9LGUucmVzb2x2ZU9iamVjdD1mdW5jdGlvbih0LGUpe3JldHVybiB0P3godCwhMSwhMCkucmVzb2x2ZU9iamVjdChlKTplfSxlLmZvcm1hdD1mdW5jdGlvbih0KXtvLmlzU3RyaW5nKHQpJiYodD14KHQpKTtyZXR1cm4gdCBpbnN0YW5jZW9mIGk/dC5mb3JtYXQoKTppLnByb3RvdHlwZS5mb3JtYXQuY2FsbCh0KX0sZS5Vcmw9aTt2YXIgYT0vXihbYS16MC05ListXSs6KS9pLHU9LzpbMC05XSokLyxzPS9eKFwvXC8/KD8hXC8pW15cP1xzXSopKFw/W15cc10qKT8kLyxjPVsieyIsIn0iLCJ8IiwiXFwiLCJeIiwiYCJdLmNvbmNhdChbIjwiLCI+IiwnIicsImAiLCIgIiwiXHIiLCJcbiIsIlx0Il0pLGY9WyInIl0uY29uY2F0KGMpLGg9WyIlIiwiLyIsIj8iLCI7IiwiIyJdLmNvbmNhdChmKSxwPVsiLyIsIj8iLCIjIl0sbD0vXlsrYS16MC05QS1aXy1dezAsNjN9JC8sdj0vXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8seT17amF2YXNjcmlwdDohMCwiamF2YXNjcmlwdDoiOiEwfSxkPXtqYXZhc2NyaXB0OiEwLCJqYXZhc2NyaXB0OiI6ITB9LG09e2h0dHA6ITAsaHR0cHM6ITAsZnRwOiEwLGdvcGhlcjohMCxmaWxlOiEwLCJodHRwOiI6ITAsImh0dHBzOiI6ITAsImZ0cDoiOiEwLCJnb3BoZXI6IjohMCwiZmlsZToiOiEwfSxnPW4oInM0TlIiKTtmdW5jdGlvbiB4KHQsZSxuKXtpZih0JiZvLmlzT2JqZWN0KHQpJiZ0IGluc3RhbmNlb2YgaSlyZXR1cm4gdDt2YXIgcj1uZXcgaTtyZXR1cm4gci5wYXJzZSh0LGUsbikscn1pLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0LGUsbil7aWYoIW8uaXNTdHJpbmcodCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCAiK3R5cGVvZiB0KTt2YXIgaT10LmluZGV4T2YoIj8iKSx1PS0xIT09aSYmaTx0LmluZGV4T2YoIiMiKT8iPyI6IiMiLGM9dC5zcGxpdCh1KTtjWzBdPWNbMF0ucmVwbGFjZSgvXFwvZywiLyIpO3ZhciB4PXQ9Yy5qb2luKHUpO2lmKHg9eC50cmltKCksIW4mJjE9PT10LnNwbGl0KCIjIikubGVuZ3RoKXt2YXIgdz1zLmV4ZWMoeCk7aWYodylyZXR1cm4gdGhpcy5wYXRoPXgsdGhpcy5ocmVmPXgsdGhpcy5wYXRobmFtZT13WzFdLHdbMl0/KHRoaXMuc2VhcmNoPXdbMl0sdGhpcy5xdWVyeT1lP2cucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTp0aGlzLnNlYXJjaC5zdWJzdHIoMSkpOmUmJih0aGlzLnNlYXJjaD0iIix0aGlzLnF1ZXJ5PXt9KSx0aGlzfXZhciBiPWEuZXhlYyh4KTtpZihiKXt2YXIgTz0oYj1iWzBdKS50b0xvd2VyQ2FzZSgpO3RoaXMucHJvdG9jb2w9Tyx4PXguc3Vic3RyKGIubGVuZ3RoKX1pZihufHxifHx4Lm1hdGNoKC9eXC9cL1teQFwvXStAW15AXC9dKy8pKXt2YXIgXz0iLy8iPT09eC5zdWJzdHIoMCwyKTshX3x8YiYmZFtiXXx8KHg9eC5zdWJzdHIoMiksdGhpcy5zbGFzaGVzPSEwKX1pZighZFtiXSYmKF98fGImJiFtW2JdKSl7Zm9yKHZhciBqLEUsUz0tMSxrPTA7azxwLmxlbmd0aDtrKyspey0xIT09KFA9eC5pbmRleE9mKHBba10pKSYmKC0xPT09U3x8UDxTKSYmKFM9UCl9LTEhPT0oRT0tMT09PVM/eC5sYXN0SW5kZXhPZigiQCIpOngubGFzdEluZGV4T2YoIkAiLFMpKSYmKGo9eC5zbGljZSgwLEUpLHg9eC5zbGljZShFKzEpLHRoaXMuYXV0aD1kZWNvZGVVUklDb21wb25lbnQoaikpLFM9LTE7Zm9yKGs9MDtrPGgubGVuZ3RoO2srKyl7dmFyIFA7LTEhPT0oUD14LmluZGV4T2YoaFtrXSkpJiYoLTE9PT1TfHxQPFMpJiYoUz1QKX0tMT09PVMmJihTPXgubGVuZ3RoKSx0aGlzLmhvc3Q9eC5zbGljZSgwLFMpLHg9eC5zbGljZShTKSx0aGlzLnBhcnNlSG9zdCgpLHRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZXx8IiI7dmFyIEM9IlsiPT09dGhpcy5ob3N0bmFtZVswXSYmIl0iPT09dGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aC0xXTtpZighQylmb3IodmFyIFQ9dGhpcy5ob3N0bmFtZS5zcGxpdCgvXC4vKSxNPShrPTAsVC5sZW5ndGgpO2s8TTtrKyspe3ZhciBSPVRba107aWYoUiYmIVIubWF0Y2gobCkpe2Zvcih2YXIgQT0iIixMPTAsTj1SLmxlbmd0aDtMPE47TCsrKVIuY2hhckNvZGVBdChMKT4xMjc/QSs9IngiOkErPVJbTF07aWYoIUEubWF0Y2gobCkpe3ZhciBJPVQuc2xpY2UoMCxrKSxXPVQuc2xpY2UoaysxKSxVPVIubWF0Y2godik7VSYmKEkucHVzaChVWzFdKSxXLnVuc2hpZnQoVVsyXSkpLFcubGVuZ3RoJiYoeD0iLyIrVy5qb2luKCIuIikreCksdGhpcy5ob3N0bmFtZT1JLmpvaW4oIi4iKTticmVha319fXRoaXMuaG9zdG5hbWUubGVuZ3RoPjI1NT90aGlzLmhvc3RuYW1lPSIiOnRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpLEN8fCh0aGlzLmhvc3RuYW1lPXIudG9BU0NJSSh0aGlzLmhvc3RuYW1lKSk7dmFyIHE9dGhpcy5wb3J0PyI6Iit0aGlzLnBvcnQ6IiIsRj10aGlzLmhvc3RuYW1lfHwiIjt0aGlzLmhvc3Q9RitxLHRoaXMuaHJlZis9dGhpcy5ob3N0LEMmJih0aGlzLmhvc3RuYW1lPXRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsdGhpcy5ob3N0bmFtZS5sZW5ndGgtMiksIi8iIT09eFswXSYmKHg9Ii8iK3gpKX1pZigheVtPXSlmb3Ioaz0wLE09Zi5sZW5ndGg7azxNO2srKyl7dmFyIEc9ZltrXTtpZigtMSE9PXguaW5kZXhPZihHKSl7dmFyIEQ9ZW5jb2RlVVJJQ29tcG9uZW50KEcpO0Q9PT1HJiYoRD1lc2NhcGUoRykpLHg9eC5zcGxpdChHKS5qb2luKEQpfX12YXIgSz14LmluZGV4T2YoIiMiKTstMSE9PUsmJih0aGlzLmhhc2g9eC5zdWJzdHIoSykseD14LnNsaWNlKDAsSykpO3ZhciBCPXguaW5kZXhPZigiPyIpO2lmKC0xIT09Qj8odGhpcy5zZWFyY2g9eC5zdWJzdHIoQiksdGhpcy5xdWVyeT14LnN1YnN0cihCKzEpLGUmJih0aGlzLnF1ZXJ5PWcucGFyc2UodGhpcy5xdWVyeSkpLHg9eC5zbGljZSgwLEIpKTplJiYodGhpcy5zZWFyY2g9IiIsdGhpcy5xdWVyeT17fSkseCYmKHRoaXMucGF0aG5hbWU9eCksbVtPXSYmdGhpcy5ob3N0bmFtZSYmIXRoaXMucGF0aG5hbWUmJih0aGlzLnBhdGhuYW1lPSIvIiksdGhpcy5wYXRobmFtZXx8dGhpcy5zZWFyY2gpe3E9dGhpcy5wYXRobmFtZXx8IiI7dmFyIFk9dGhpcy5zZWFyY2h8fCIiO3RoaXMucGF0aD1xK1l9cmV0dXJuIHRoaXMuaHJlZj10aGlzLmZvcm1hdCgpLHRoaXN9LGkucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYXV0aHx8IiI7dCYmKHQ9KHQ9ZW5jb2RlVVJJQ29tcG9uZW50KHQpKS5yZXBsYWNlKC8lM0EvaSwiOiIpLHQrPSJAIik7dmFyIGU9dGhpcy5wcm90b2NvbHx8IiIsbj10aGlzLnBhdGhuYW1lfHwiIixyPXRoaXMuaGFzaHx8IiIsaT0hMSxhPSIiO3RoaXMuaG9zdD9pPXQrdGhpcy5ob3N0OnRoaXMuaG9zdG5hbWUmJihpPXQrKC0xPT09dGhpcy5ob3N0bmFtZS5pbmRleE9mKCI6Iik/dGhpcy5ob3N0bmFtZToiWyIrdGhpcy5ob3N0bmFtZSsiXSIpLHRoaXMucG9ydCYmKGkrPSI6Iit0aGlzLnBvcnQpKSx0aGlzLnF1ZXJ5JiZvLmlzT2JqZWN0KHRoaXMucXVlcnkpJiZPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgmJihhPWcuc3RyaW5naWZ5KHRoaXMucXVlcnkpKTt2YXIgdT10aGlzLnNlYXJjaHx8YSYmIj8iK2F8fCIiO3JldHVybiBlJiYiOiIhPT1lLnN1YnN0cigtMSkmJihlKz0iOiIpLHRoaXMuc2xhc2hlc3x8KCFlfHxtW2VdKSYmITEhPT1pPyhpPSIvLyIrKGl8fCIiKSxuJiYiLyIhPT1uLmNoYXJBdCgwKSYmKG49Ii8iK24pKTppfHwoaT0iIiksciYmIiMiIT09ci5jaGFyQXQoMCkmJihyPSIjIityKSx1JiYiPyIhPT11LmNoYXJBdCgwKSYmKHU9Ij8iK3UpLGUraSsobj1uLnJlcGxhY2UoL1s/I10vZywoZnVuY3Rpb24odCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KX0pKSkrKHU9dS5yZXBsYWNlKCIjIiwiJTIzIikpK3J9LGkucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh4KHQsITEsITApKS5mb3JtYXQoKX0saS5wcm90b3R5cGUucmVzb2x2ZU9iamVjdD1mdW5jdGlvbih0KXtpZihvLmlzU3RyaW5nKHQpKXt2YXIgZT1uZXcgaTtlLnBhcnNlKHQsITEsITApLHQ9ZX1mb3IodmFyIG49bmV3IGkscj1PYmplY3Qua2V5cyh0aGlzKSxhPTA7YTxyLmxlbmd0aDthKyspe3ZhciB1PXJbYV07blt1XT10aGlzW3VdfWlmKG4uaGFzaD10Lmhhc2gsIiI9PT10LmhyZWYpcmV0dXJuIG4uaHJlZj1uLmZvcm1hdCgpLG47aWYodC5zbGFzaGVzJiYhdC5wcm90b2NvbCl7Zm9yKHZhciBzPU9iamVjdC5rZXlzKHQpLGM9MDtjPHMubGVuZ3RoO2MrKyl7dmFyIGY9c1tjXTsicHJvdG9jb2wiIT09ZiYmKG5bZl09dFtmXSl9cmV0dXJuIG1bbi5wcm90b2NvbF0mJm4uaG9zdG5hbWUmJiFuLnBhdGhuYW1lJiYobi5wYXRoPW4ucGF0aG5hbWU9Ii8iKSxuLmhyZWY9bi5mb3JtYXQoKSxufWlmKHQucHJvdG9jb2wmJnQucHJvdG9jb2whPT1uLnByb3RvY29sKXtpZighbVt0LnByb3RvY29sXSl7Zm9yKHZhciBoPU9iamVjdC5rZXlzKHQpLHA9MDtwPGgubGVuZ3RoO3ArKyl7dmFyIGw9aFtwXTtuW2xdPXRbbF19cmV0dXJuIG4uaHJlZj1uLmZvcm1hdCgpLG59aWYobi5wcm90b2NvbD10LnByb3RvY29sLHQuaG9zdHx8ZFt0LnByb3RvY29sXSluLnBhdGhuYW1lPXQucGF0aG5hbWU7ZWxzZXtmb3IodmFyIHY9KHQucGF0aG5hbWV8fCIiKS5zcGxpdCgiLyIpO3YubGVuZ3RoJiYhKHQuaG9zdD12LnNoaWZ0KCkpOyk7dC5ob3N0fHwodC5ob3N0PSIiKSx0Lmhvc3RuYW1lfHwodC5ob3N0bmFtZT0iIiksIiIhPT12WzBdJiZ2LnVuc2hpZnQoIiIpLHYubGVuZ3RoPDImJnYudW5zaGlmdCgiIiksbi5wYXRobmFtZT12LmpvaW4oIi8iKX1pZihuLnNlYXJjaD10LnNlYXJjaCxuLnF1ZXJ5PXQucXVlcnksbi5ob3N0PXQuaG9zdHx8IiIsbi5hdXRoPXQuYXV0aCxuLmhvc3RuYW1lPXQuaG9zdG5hbWV8fHQuaG9zdCxuLnBvcnQ9dC5wb3J0LG4ucGF0aG5hbWV8fG4uc2VhcmNoKXt2YXIgeT1uLnBhdGhuYW1lfHwiIixnPW4uc2VhcmNofHwiIjtuLnBhdGg9eStnfXJldHVybiBuLnNsYXNoZXM9bi5zbGFzaGVzfHx0LnNsYXNoZXMsbi5ocmVmPW4uZm9ybWF0KCksbn12YXIgeD1uLnBhdGhuYW1lJiYiLyI9PT1uLnBhdGhuYW1lLmNoYXJBdCgwKSx3PXQuaG9zdHx8dC5wYXRobmFtZSYmIi8iPT09dC5wYXRobmFtZS5jaGFyQXQoMCksYj13fHx4fHxuLmhvc3QmJnQucGF0aG5hbWUsTz1iLF89bi5wYXRobmFtZSYmbi5wYXRobmFtZS5zcGxpdCgiLyIpfHxbXSxqPSh2PXQucGF0aG5hbWUmJnQucGF0aG5hbWUuc3BsaXQoIi8iKXx8W10sbi5wcm90b2NvbCYmIW1bbi5wcm90b2NvbF0pO2lmKGomJihuLmhvc3RuYW1lPSIiLG4ucG9ydD1udWxsLG4uaG9zdCYmKCIiPT09X1swXT9fWzBdPW4uaG9zdDpfLnVuc2hpZnQobi5ob3N0KSksbi5ob3N0PSIiLHQucHJvdG9jb2wmJih0Lmhvc3RuYW1lPW51bGwsdC5wb3J0PW51bGwsdC5ob3N0JiYoIiI9PT12WzBdP3ZbMF09dC5ob3N0OnYudW5zaGlmdCh0Lmhvc3QpKSx0Lmhvc3Q9bnVsbCksYj1iJiYoIiI9PT12WzBdfHwiIj09PV9bMF0pKSx3KW4uaG9zdD10Lmhvc3R8fCIiPT09dC5ob3N0P3QuaG9zdDpuLmhvc3Qsbi5ob3N0bmFtZT10Lmhvc3RuYW1lfHwiIj09PXQuaG9zdG5hbWU/dC5ob3N0bmFtZTpuLmhvc3RuYW1lLG4uc2VhcmNoPXQuc2VhcmNoLG4ucXVlcnk9dC5xdWVyeSxfPXY7ZWxzZSBpZih2Lmxlbmd0aClffHwoXz1bXSksXy5wb3AoKSxfPV8uY29uY2F0KHYpLG4uc2VhcmNoPXQuc2VhcmNoLG4ucXVlcnk9dC5xdWVyeTtlbHNlIGlmKCFvLmlzTnVsbE9yVW5kZWZpbmVkKHQuc2VhcmNoKSl7aWYoailuLmhvc3RuYW1lPW4uaG9zdD1fLnNoaWZ0KCksKEM9ISEobi5ob3N0JiZuLmhvc3QuaW5kZXhPZigiQCIpPjApJiZuLmhvc3Quc3BsaXQoIkAiKSkmJihuLmF1dGg9Qy5zaGlmdCgpLG4uaG9zdD1uLmhvc3RuYW1lPUMuc2hpZnQoKSk7cmV0dXJuIG4uc2VhcmNoPXQuc2VhcmNoLG4ucXVlcnk9dC5xdWVyeSxvLmlzTnVsbChuLnBhdGhuYW1lKSYmby5pc051bGwobi5zZWFyY2gpfHwobi5wYXRoPShuLnBhdGhuYW1lP24ucGF0aG5hbWU6IiIpKyhuLnNlYXJjaD9uLnNlYXJjaDoiIikpLG4uaHJlZj1uLmZvcm1hdCgpLG59aWYoIV8ubGVuZ3RoKXJldHVybiBuLnBhdGhuYW1lPW51bGwsbi5zZWFyY2g/bi5wYXRoPSIvIituLnNlYXJjaDpuLnBhdGg9bnVsbCxuLmhyZWY9bi5mb3JtYXQoKSxuO2Zvcih2YXIgRT1fLnNsaWNlKC0xKVswXSxTPShuLmhvc3R8fHQuaG9zdHx8Xy5sZW5ndGg+MSkmJigiLiI9PT1FfHwiLi4iPT09RSl8fCIiPT09RSxrPTAsUD1fLmxlbmd0aDtQPj0wO1AtLSkiLiI9PT0oRT1fW1BdKT9fLnNwbGljZShQLDEpOiIuLiI9PT1FPyhfLnNwbGljZShQLDEpLGsrKyk6ayYmKF8uc3BsaWNlKFAsMSksay0tKTtpZighYiYmIU8pZm9yKDtrLS07aylfLnVuc2hpZnQoIi4uIik7IWJ8fCIiPT09X1swXXx8X1swXSYmIi8iPT09X1swXS5jaGFyQXQoMCl8fF8udW5zaGlmdCgiIiksUyYmIi8iIT09Xy5qb2luKCIvIikuc3Vic3RyKC0xKSYmXy5wdXNoKCIiKTt2YXIgQyxUPSIiPT09X1swXXx8X1swXSYmIi8iPT09X1swXS5jaGFyQXQoMCk7aiYmKG4uaG9zdG5hbWU9bi5ob3N0PVQ/IiI6Xy5sZW5ndGg/Xy5zaGlmdCgpOiIiLChDPSEhKG4uaG9zdCYmbi5ob3N0LmluZGV4T2YoIkAiKT4wKSYmbi5ob3N0LnNwbGl0KCJAIikpJiYobi5hdXRoPUMuc2hpZnQoKSxuLmhvc3Q9bi5ob3N0bmFtZT1DLnNoaWZ0KCkpKTtyZXR1cm4oYj1ifHxuLmhvc3QmJl8ubGVuZ3RoKSYmIVQmJl8udW5zaGlmdCgiIiksXy5sZW5ndGg/bi5wYXRobmFtZT1fLmpvaW4oIi8iKToobi5wYXRobmFtZT1udWxsLG4ucGF0aD1udWxsKSxvLmlzTnVsbChuLnBhdGhuYW1lKSYmby5pc051bGwobi5zZWFyY2gpfHwobi5wYXRoPShuLnBhdGhuYW1lP24ucGF0aG5hbWU6IiIpKyhuLnNlYXJjaD9uLnNlYXJjaDoiIikpLG4uYXV0aD10LmF1dGh8fG4uYXV0aCxuLnNsYXNoZXM9bi5zbGFzaGVzfHx0LnNsYXNoZXMsbi5ocmVmPW4uZm9ybWF0KCksbn0saS5wcm90b3R5cGUucGFyc2VIb3N0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ob3N0LGU9dS5leGVjKHQpO2UmJigiOiIhPT0oZT1lWzBdKSYmKHRoaXMucG9ydD1lLnN1YnN0cigxKSksdD10LnN1YnN0cigwLHQubGVuZ3RoLWUubGVuZ3RoKSksdCYmKHRoaXMuaG9zdG5hbWU9dCl9fSxEOGtZOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJPamdkIiksbz1NYXRoLm1heCxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybih0PXIodCkpPDA/byh0K2UsMCk6aSh0LGUpfX0sRVhNajpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixyKXtpZighKHQgaW5zdGFuY2VvZiBlKXx8dm9pZCAwIT09ciYmciBpbiB0KXRocm93IFR5cGVFcnJvcihuKyI6IGluY29ycmVjdCBpbnZvY2F0aW9uISIpO3JldHVybiB0fX0sRmxRZjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImNjRTciKSghMCk7bigiTVBGcCIpKFN0cmluZywiU3RyaW5nIiwoZnVuY3Rpb24odCl7dGhpcy5fdD1TdHJpbmcodCksdGhpcy5faT0wfSksKGZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl90LG49dGhpcy5faTtyZXR1cm4gbj49ZS5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfToodD1yKGUsbiksdGhpcy5faSs9dC5sZW5ndGgse3ZhbHVlOnQsZG9uZTohMX0pfSkpfSxGcEhhOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YiLnNwbGl0KCIsIil9LEc0SFE6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCJtNXFPIil9LEc4TW86ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjkzSTQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighcih0KSlyZXR1cm4gdDt2YXIgbixvO2lmKGUmJiJmdW5jdGlvbiI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihvPW4uY2FsbCh0KSkpcmV0dXJuIG87aWYoImZ1bmN0aW9uIj09dHlwZW9mKG49dC52YWx1ZU9mKSYmIXIobz1uLmNhbGwodCkpKXJldHVybiBvO2lmKCFlJiYiZnVuY3Rpb24iPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIobz1uLmNhbGwodCkpKXJldHVybiBvO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSxHWVd5OmZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCxyKXt2YXIgbzshZnVuY3Rpb24oaSl7ZSYmZS5ub2RlVHlwZSx0JiZ0Lm5vZGVUeXBlO3ZhciBhPSJvYmplY3QiPT10eXBlb2YgciYmcjthLmdsb2JhbCE9PWEmJmEud2luZG93IT09YSYmYS5zZWxmO3ZhciB1LHM9MjE0NzQ4MzY0NyxjPTM2LGY9MSxoPTI2LHA9MzgsbD03MDAsdj03Mix5PTEyOCxkPSItIixtPS9eeG4tLS8sZz0vW15ceDIwLVx4N0VdLyx4PS9bXHgyRVx1MzAwMlx1RkYwRVx1RkY2MV0vZyx3PXtvdmVyZmxvdzoiT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MiLCJub3QtYmFzaWMiOiJJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpIiwiaW52YWxpZC1pbnB1dCI6IkludmFsaWQgaW5wdXQifSxiPWMtZixPPU1hdGguZmxvb3IsXz1TdHJpbmcuZnJvbUNoYXJDb2RlO2Z1bmN0aW9uIGoodCl7dGhyb3cgbmV3IFJhbmdlRXJyb3Iod1t0XSl9ZnVuY3Rpb24gRSh0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aCxyPVtdO24tLTspcltuXT1lKHRbbl0pO3JldHVybiByfWZ1bmN0aW9uIFModCxlKXt2YXIgbj10LnNwbGl0KCJAIikscj0iIjtyZXR1cm4gbi5sZW5ndGg+MSYmKHI9blswXSsiQCIsdD1uWzFdKSxyK0UoKHQ9dC5yZXBsYWNlKHgsIi4iKSkuc3BsaXQoIi4iKSxlKS5qb2luKCIuIil9ZnVuY3Rpb24gayh0KXtmb3IodmFyIGUsbixyPVtdLG89MCxpPXQubGVuZ3RoO288aTspKGU9dC5jaGFyQ29kZUF0KG8rKykpPj01NTI5NiYmZTw9NTYzMTkmJm88aT81NjMyMD09KDY0NTEyJihuPXQuY2hhckNvZGVBdChvKyspKSk/ci5wdXNoKCgoMTAyMyZlKTw8MTApKygxMDIzJm4pKzY1NTM2KTooci5wdXNoKGUpLG8tLSk6ci5wdXNoKGUpO3JldHVybiByfWZ1bmN0aW9uIFAodCl7cmV0dXJuIEUodCwoZnVuY3Rpb24odCl7dmFyIGU9IiI7cmV0dXJuIHQ+NjU1MzUmJihlKz1fKCh0LT02NTUzNik+Pj4xMCYxMDIzfDU1Mjk2KSx0PTU2MzIwfDEwMjMmdCksZSs9Xyh0KX0pKS5qb2luKCIiKX1mdW5jdGlvbiBDKHQsZSl7cmV0dXJuIHQrMjIrNzUqKHQ8MjYpLSgoMCE9ZSk8PDUpfWZ1bmN0aW9uIFQodCxlLG4pe3ZhciByPTA7Zm9yKHQ9bj9PKHQvbCk6dD4+MSx0Kz1PKHQvZSk7dD5iKmg+PjE7cis9Yyl0PU8odC9iKTtyZXR1cm4gTyhyKyhiKzEpKnQvKHQrcCkpfWZ1bmN0aW9uIE0odCl7dmFyIGUsbixyLG8saSxhLHUscCxsLG0sZyx4PVtdLHc9dC5sZW5ndGgsYj0wLF89eSxFPXY7Zm9yKChuPXQubGFzdEluZGV4T2YoZCkpPDAmJihuPTApLHI9MDtyPG47KytyKXQuY2hhckNvZGVBdChyKT49MTI4JiZqKCJub3QtYmFzaWMiKSx4LnB1c2godC5jaGFyQ29kZUF0KHIpKTtmb3Iobz1uPjA/bisxOjA7bzx3Oyl7Zm9yKGk9YixhPTEsdT1jO28+PXcmJmooImludmFsaWQtaW5wdXQiKSwoKHA9KGc9dC5jaGFyQ29kZUF0KG8rKykpLTQ4PDEwP2ctMjI6Zy02NTwyNj9nLTY1OmctOTc8MjY/Zy05NzpjKT49Y3x8cD5PKChzLWIpL2EpKSYmaigib3ZlcmZsb3ciKSxiKz1wKmEsIShwPChsPXU8PUU/Zjp1Pj1FK2g/aDp1LUUpKTt1Kz1jKWE+TyhzLyhtPWMtbCkpJiZqKCJvdmVyZmxvdyIpLGEqPW07RT1UKGItaSxlPXgubGVuZ3RoKzEsMD09aSksTyhiL2UpPnMtXyYmaigib3ZlcmZsb3ciKSxfKz1PKGIvZSksYiU9ZSx4LnNwbGljZShiKyssMCxfKX1yZXR1cm4gUCh4KX1mdW5jdGlvbiBSKHQpe3ZhciBlLG4scixvLGksYSx1LHAsbCxtLGcseCx3LGIsRSxTPVtdO2Zvcih4PSh0PWsodCkpLmxlbmd0aCxlPXksbj0wLGk9dixhPTA7YTx4OysrYSkoZz10W2FdKTwxMjgmJlMucHVzaChfKGcpKTtmb3Iocj1vPVMubGVuZ3RoLG8mJlMucHVzaChkKTtyPHg7KXtmb3IodT1zLGE9MDthPHg7KythKShnPXRbYV0pPj1lJiZnPHUmJih1PWcpO2Zvcih1LWU+Tygocy1uKS8odz1yKzEpKSYmaigib3ZlcmZsb3ciKSxuKz0odS1lKSp3LGU9dSxhPTA7YTx4OysrYSlpZigoZz10W2FdKTxlJiYrK24+cyYmaigib3ZlcmZsb3ciKSxnPT1lKXtmb3IocD1uLGw9YzshKHA8KG09bDw9aT9mOmw+PWkraD9oOmwtaSkpO2wrPWMpRT1wLW0sYj1jLW0sUy5wdXNoKF8oQyhtK0UlYiwwKSkpLHA9TyhFL2IpO1MucHVzaChfKEMocCwwKSkpLGk9VChuLHcscj09byksbj0wLCsrcn0rK24sKytlfXJldHVybiBTLmpvaW4oIiIpfXU9e3ZlcnNpb246IjEuNC4xIix1Y3MyOntkZWNvZGU6ayxlbmNvZGU6UH0sZGVjb2RlOk0sZW5jb2RlOlIsdG9BU0NJSTpmdW5jdGlvbih0KXtyZXR1cm4gUyh0LChmdW5jdGlvbih0KXtyZXR1cm4gZy50ZXN0KHQpPyJ4bi0tIitSKHQpOnR9KSl9LHRvVW5pY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gUyh0LChmdW5jdGlvbih0KXtyZXR1cm4gbS50ZXN0KHQpP00odC5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKTp0fSkpfX0sdm9pZCAwPT09KG89ZnVuY3Rpb24oKXtyZXR1cm4gdX0uY2FsbChlLG4sZSx0KSl8fCh0LmV4cG9ydHM9byl9KCl9KS5jYWxsKHRoaXMsbigiWXVUaSIpKHQpLG4oInlMcGoiKSl9LEd2Yk86ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIlk3WkMiKTtyKHIuUywiQXJyYXkiLHtpc0FycmF5Om4oImtBTUgiKX0pfSxIZml3OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJZN1pDIik7cihyLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOm4oIjZ0WWgiKS5zZXR9KX0sSHNuczpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiOTNJNCIpLG89bigiNVQyWSIpLmRvY3VtZW50LGk9cihvKSYmcihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQodCk6e319fSxKQjY4OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJKZXMwIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qocih0KSl9fSwiSk1XKyI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixvLGksYSx1PW4oInVPUFMiKSxzPW4oIjVUMlkiKSxjPW4oIjJHVFAiKSxmPW4oIlFNTVQiKSxoPW4oIlk3WkMiKSxwPW4oIjkzSTQiKSxsPW4oImVhb2giKSx2PW4oIkVYTWoiKSx5PW4oIm9pb1IiKSxkPW4oIjhnSHoiKSxtPW4oIlFYaGYiKS5zZXQsZz1uKCJxNkxKIikoKSx4PW4oIlpXNXEiKSx3PW4oIlJEbVYiKSxiPW4oInZCUDkiKSxPPW4oInpYaFoiKSxfPXMuVHlwZUVycm9yLGo9cy5wcm9jZXNzLEU9aiYmai52ZXJzaW9ucyxTPUUmJkUudjh8fCIiLGs9cy5Qcm9taXNlLFA9InByb2Nlc3MiPT1mKGopLEM9ZnVuY3Rpb24oKXt9LFQ9bz14LmYsTT0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWsucmVzb2x2ZSgxKSxlPSh0LmNvbnN0cnVjdG9yPXt9KVtuKCJVV2lYIikoInNwZWNpZXMiKV09ZnVuY3Rpb24odCl7dChDLEMpfTtyZXR1cm4oUHx8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbihDKWluc3RhbmNlb2YgZSYmMCE9PVMuaW5kZXhPZigiNi42IikmJi0xPT09Yi5pbmRleE9mKCJDaHJvbWUvNjYiKX1jYXRjaChyKXt9fSgpLFI9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuISghcCh0KXx8ImZ1bmN0aW9uIiE9dHlwZW9mKGU9dC50aGVuKSkmJmV9LEE9ZnVuY3Rpb24odCxlKXtpZighdC5fbil7dC5fbj0hMDt2YXIgbj10Ll9jO2coKGZ1bmN0aW9uKCl7Zm9yKHZhciByPXQuX3Ysbz0xPT10Ll9zLGk9MCxhPWZ1bmN0aW9uKGUpe3ZhciBuLGksYSx1PW8/ZS5vazplLmZhaWwscz1lLnJlc29sdmUsYz1lLnJlamVjdCxmPWUuZG9tYWluO3RyeXt1PyhvfHwoMj09dC5faCYmSSh0KSx0Ll9oPTEpLCEwPT09dT9uPXI6KGYmJmYuZW50ZXIoKSxuPXUociksZiYmKGYuZXhpdCgpLGE9ITApKSxuPT09ZS5wcm9taXNlP2MoXygiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1SKG4pKT9pLmNhbGwobixzLGMpOnMobikpOmMocil9Y2F0Y2goaCl7ZiYmIWEmJmYuZXhpdCgpLGMoaCl9fTtuLmxlbmd0aD5pOylhKG5baSsrXSk7dC5fYz1bXSx0Ll9uPSExLGUmJiF0Ll9oJiZMKHQpfSkpfX0sTD1mdW5jdGlvbih0KXttLmNhbGwocywoZnVuY3Rpb24oKXt2YXIgZSxuLHIsbz10Ll92LGk9Tih0KTtpZihpJiYoZT13KChmdW5jdGlvbigpe1A/ai5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG8sdCk6KG49cy5vbnVuaGFuZGxlZHJlamVjdGlvbik/bih7cHJvbWlzZTp0LHJlYXNvbjpvfSk6KHI9cy5jb25zb2xlKSYmci5lcnJvciYmci5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixvKX0pKSx0Ll9oPVB8fE4odCk/MjoxKSx0Ll9hPXZvaWQgMCxpJiZlLmUpdGhyb3cgZS52fSkpfSxOPWZ1bmN0aW9uKHQpe3JldHVybiAxIT09dC5faCYmMD09PSh0Ll9hfHx0Ll9jKS5sZW5ndGh9LEk9ZnVuY3Rpb24odCl7bS5jYWxsKHMsKGZ1bmN0aW9uKCl7dmFyIGU7UD9qLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLHQpOihlPXMub25yZWplY3Rpb25oYW5kbGVkKSYmZSh7cHJvbWlzZTp0LHJlYXNvbjp0Ll92fSl9KSl9LFc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLl9kfHwoZS5fZD0hMCwoZT1lLl93fHxlKS5fdj10LGUuX3M9MixlLl9hfHwoZS5fYT1lLl9jLnNsaWNlKCkpLEEoZSwhMCkpfSxVPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcztpZighbi5fZCl7bi5fZD0hMCxuPW4uX3d8fG47dHJ5e2lmKG49PT10KXRocm93IF8oIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KGU9Uih0KSk/ZygoZnVuY3Rpb24oKXt2YXIgcj17X3c6bixfZDohMX07dHJ5e2UuY2FsbCh0LGMoVSxyLDEpLGMoVyxyLDEpKX1jYXRjaChvKXtXLmNhbGwocixvKX19KSk6KG4uX3Y9dCxuLl9zPTEsQShuLCExKSl9Y2F0Y2gocil7Vy5jYWxsKHtfdzpuLF9kOiExfSxyKX19fTtNfHwoaz1mdW5jdGlvbih0KXt2KHRoaXMsaywiUHJvbWlzZSIsIl9oIiksbCh0KSxyLmNhbGwodGhpcyk7dHJ5e3QoYyhVLHRoaXMsMSksYyhXLHRoaXMsMSkpfWNhdGNoKGUpe1cuY2FsbCh0aGlzLGUpfX0sKHI9ZnVuY3Rpb24odCl7dGhpcy5fYz1bXSx0aGlzLl9hPXZvaWQgMCx0aGlzLl9zPTAsdGhpcy5fZD0hMSx0aGlzLl92PXZvaWQgMCx0aGlzLl9oPTAsdGhpcy5fbj0hMX0pLnByb3RvdHlwZT1uKCJYSlUvIikoay5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24odCxlKXt2YXIgbj1UKGQodGhpcyxrKSk7cmV0dXJuIG4ub2s9ImZ1bmN0aW9uIiE9dHlwZW9mIHR8fHQsbi5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLG4uZG9tYWluPVA/ai5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChuKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gobiksdGhpcy5fcyYmQSh0aGlzLCExKSxuLnByb21pc2V9LGNhdGNoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfX0pLGk9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgcjt0aGlzLnByb21pc2U9dCx0aGlzLnJlc29sdmU9YyhVLHQsMSksdGhpcy5yZWplY3Q9YyhXLHQsMSl9LHguZj1UPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09a3x8dD09PWE/bmV3IGkodCk6byh0KX0pLGgoaC5HK2guVytoLkYqIU0se1Byb21pc2U6a30pLG4oIlJmS0IiKShrLCJQcm9taXNlIiksbigiVEpXTiIpKCJQcm9taXNlIiksYT1uKCJXRXBrIikuUHJvbWlzZSxoKGguUytoLkYqIU0sIlByb21pc2UiLHtyZWplY3Q6ZnVuY3Rpb24odCl7dmFyIGU9VCh0aGlzKTtyZXR1cm4oMCxlLnJlamVjdCkodCksZS5wcm9taXNlfX0pLGgoaC5TK2guRioodXx8IU0pLCJQcm9taXNlIix7cmVzb2x2ZTpmdW5jdGlvbih0KXtyZXR1cm4gTyh1JiZ0aGlzPT09YT9rOnRoaXMsdCl9fSksaChoLlMraC5GKiEoTSYmbigiVHVHRCIpKChmdW5jdGlvbih0KXtrLmFsbCh0KS5jYXRjaChDKX0pKSksIlByb21pc2UiLHthbGw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPVQoZSkscj1uLnJlc29sdmUsbz1uLnJlamVjdCxpPXcoKGZ1bmN0aW9uKCl7dmFyIG49W10saT0wLGE9MTt5KHQsITEsKGZ1bmN0aW9uKHQpe3ZhciB1PWkrKyxzPSExO24ucHVzaCh2b2lkIDApLGErKyxlLnJlc29sdmUodCkudGhlbigoZnVuY3Rpb24odCl7c3x8KHM9ITAsblt1XT10LC0tYXx8cihuKSl9KSxvKX0pKSwtLWF8fHIobil9KSk7cmV0dXJuIGkuZSYmbyhpLnYpLG4ucHJvbWlzZX0scmFjZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49VChlKSxyPW4ucmVqZWN0LG89dygoZnVuY3Rpb24oKXt5KHQsITEsKGZ1bmN0aW9uKHQpe2UucmVzb2x2ZSh0KS50aGVuKG4ucmVzb2x2ZSxyKX0pKX0pKTtyZXR1cm4gby5lJiZyKG8udiksbi5wcm9taXNlfX0pfSxKYkJNOmZ1bmN0aW9uKHQsZSxuKXtuKCJIZml3IiksdC5leHBvcnRzPW4oIldFcGsiKS5PYmplY3Quc2V0UHJvdG90eXBlT2Z9LEplczA6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrdCk7cmV0dXJuIHR9fSwiSm8rdiI6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCIvZVFHIil9LEtJNDU6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fX0sS1V4UDpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0sTTF4cDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYTB4dSIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIlN0cmluZyI9PXIodCk/dC5zcGxpdCgiIik6T2JqZWN0KHQpfX0sTUNTSjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dm9pZCAwPT09bjtzd2l0Y2goZS5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gcj90KCk6dC5jYWxsKG4pO2Nhc2UgMTpyZXR1cm4gcj90KGVbMF0pOnQuY2FsbChuLGVbMF0pO2Nhc2UgMjpyZXR1cm4gcj90KGVbMF0sZVsxXSk6dC5jYWxsKG4sZVswXSxlWzFdKTtjYXNlIDM6cmV0dXJuIHI/dChlWzBdLGVbMV0sZVsyXSk6dC5jYWxsKG4sZVswXSxlWzFdLGVbMl0pO2Nhc2UgNDpyZXR1cm4gcj90KGVbMF0sZVsxXSxlWzJdLGVbM10pOnQuY2FsbChuLGVbMF0sZVsxXSxlWzJdLGVbM10pfXJldHVybiB0LmFwcGx5KG4sZSl9fSxNUEZwOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigidU9QUyIpLG89bigiWTdaQyIpLGk9bigia1RpVyIpLGE9bigiTmVnTSIpLHU9bigiU0J1RSIpLHM9bigiajJEQyIpLGM9bigiUmZLQiIpLGY9bigiVStLRCIpLGg9bigiVVdpWCIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksbD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4sdix5LGQsbSl7cyhuLGUsdik7dmFyIGcseCx3LGI9ZnVuY3Rpb24odCl7aWYoIXAmJnQgaW4gRSlyZXR1cm4gRVt0XTtzd2l0Y2godCl7Y2FzZSJrZXlzIjpjYXNlInZhbHVlcyI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfX0sTz1lKyIgSXRlcmF0b3IiLF89InZhbHVlcyI9PXksaj0hMSxFPXQucHJvdG90eXBlLFM9RVtoXXx8RVsiQEBpdGVyYXRvciJdfHx5JiZFW3ldLGs9U3x8Yih5KSxQPXk/Xz9iKCJlbnRyaWVzIik6azp2b2lkIDAsQz0iQXJyYXkiPT1lJiZFLmVudHJpZXN8fFM7aWYoQyYmKHc9ZihDLmNhbGwobmV3IHQpKSkhPT1PYmplY3QucHJvdG90eXBlJiZ3Lm5leHQmJihjKHcsTywhMCkscnx8ImZ1bmN0aW9uIj09dHlwZW9mIHdbaF18fGEodyxoLGwpKSxfJiZTJiYidmFsdWVzIiE9PVMubmFtZSYmKGo9ITAsaz1mdW5jdGlvbigpe3JldHVybiBTLmNhbGwodGhpcyl9KSxyJiYhbXx8IXAmJiFqJiZFW2hdfHxhKEUsaCxrKSx1W2VdPWssdVtPXT1sLHkpaWYoZz17dmFsdWVzOl8/azpiKCJ2YWx1ZXMiKSxrZXlzOmQ/azpiKCJrZXlzIiksZW50cmllczpQfSxtKWZvcih4IGluIGcpeCBpbiBFfHxpKEUseCxnW3hdKTtlbHNlIG8oby5QK28uRioocHx8aiksZSxnKTtyZXR1cm4gZ319LE1xYmw6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIkpCNjgiKSxvPW4oInc2R08iKTtuKCJ6bjdOIikoImtleXMiLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbyhyKHQpKX19KSl9LE12d0M6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjVUMlkiKS5kb2N1bWVudDt0LmV4cG9ydHM9ciYmci5kb2N1bWVudEVsZW1lbnR9LE5WMGs6ZnVuY3Rpb24odCxlKXtlLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LE5lZ006ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjJmYUUiKSxvPW4oInJyMWkiKTt0LmV4cG9ydHM9bigiam1ESCIpP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5mKHQsZSxvKDEsbikpfTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bix0fX0sTmVocjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz17aXNTdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PT10eXBlb2YgdH0saXNPYmplY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIm9iamVjdCI9PT10eXBlb2YgdCYmbnVsbCE9PXR9LGlzTnVsbDpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09PXR9LGlzTnVsbE9yVW5kZWZpbmVkOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10fX19LCJOc08vIjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiTTF4cCIpLG89bigiSmVzMCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcihvKHQpKX19LE53SjM6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIlNCdUUiKSxvPW4oIlVXaVgiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQmJihyLkFycmF5PT09dHx8aVtvXT09PXQpfX0sT2M4UTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByLG89bigiNVQyWSIpLGk9bigiVjdFdCIpKDApLGE9bigia1RpVyIpLHU9bigiNi8xcyIpLHM9bigia3daMSIpLGM9bigia0I0YyIpLGY9bigiOTNJNCIpLGg9bigibjNrbyIpLHA9bigibjNrbyIpLGw9IW8uQWN0aXZlWE9iamVjdCYmIkFjdGl2ZVhPYmplY3QiaW4gbyx2PXUuZ2V0V2Vhayx5PU9iamVjdC5pc0V4dGVuc2libGUsZD1jLnVmc3RvcmUsbT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKX19LGc9e2dldDpmdW5jdGlvbih0KXtpZihmKHQpKXt2YXIgZT12KHQpO3JldHVybiEwPT09ZT9kKGgodGhpcywiV2Vha01hcCIpKS5nZXQodCk6ZT9lW3RoaXMuX2ldOnZvaWQgMH19LHNldDpmdW5jdGlvbih0LGUpe3JldHVybiBjLmRlZihoKHRoaXMsIldlYWtNYXAiKSx0LGUpfX0seD10LmV4cG9ydHM9bigicmFUbSIpKCJXZWFrTWFwIixtLGcsYywhMCwhMCk7cCYmbCYmKHMoKHI9Yy5nZXRDb25zdHJ1Y3RvcihtLCJXZWFrTWFwIikpLnByb3RvdHlwZSxnKSx1Lk5FRUQ9ITAsaShbImRlbGV0ZSIsImhhcyIsImdldCIsInNldCJdLChmdW5jdGlvbih0KXt2YXIgZT14LnByb3RvdHlwZSxuPWVbdF07YShlLHQsKGZ1bmN0aW9uKGUsbyl7aWYoZihlKSYmIXkoZSkpe3RoaXMuX2Z8fCh0aGlzLl9mPW5ldyByKTt2YXIgaT10aGlzLl9mW3RdKGUsbyk7cmV0dXJuInNldCI9PXQ/dGhpczppfXJldHVybiBuLmNhbGwodGhpcyxlLG8pfSkpfSkpKX0sT2pnZDpmdW5jdGlvbih0LGUpe3ZhciBuPU1hdGguY2VpbCxyPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0PSt0KT8wOih0PjA/cjpuKSh0KX19LFBCRTE6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJZN1pDIiksbz1uKCJXRXBrIiksaT1uKCI1VDJZIiksYT1uKCI4Z0h6IiksdT1uKCJ6WGhaIik7cihyLlArci5SLCJQcm9taXNlIix7ZmluYWxseTpmdW5jdGlvbih0KXt2YXIgZT1hKHRoaXMsby5Qcm9taXNlfHxpLlByb21pc2UpLG49ImZ1bmN0aW9uIj09dHlwZW9mIHQ7cmV0dXJuIHRoaXMudGhlbihuP2Z1bmN0aW9uKG4pe3JldHVybiB1KGUsdCgpKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBufSkpfTp0LG4/ZnVuY3Rpb24obil7cmV0dXJuIHUoZSx0KCkpLnRoZW4oKGZ1bmN0aW9uKCl7dGhyb3cgbn0pKX06dCl9fSl9LCJRL3lYIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlk3WkMiKSxvPW4oIlpXNXEiKSxpPW4oIlJEbVYiKTtyKHIuUywiUHJvbWlzZSIse3RyeTpmdW5jdGlvbih0KXt2YXIgZT1vLmYodGhpcyksbj1pKHQpO3JldHVybihuLmU/ZS5yZWplY3Q6ZS5yZXNvbHZlKShuLnYpLGUucHJvbWlzZX19KX0sUU1NVDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYTB4dSIpLG89bigiVVdpWCIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PXIoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbixhO3JldHVybiB2b2lkIDA9PT10PyJVbmRlZmluZWQiOm51bGw9PT10PyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKG49ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2gobil7fX0oZT1PYmplY3QodCksbykpP246aT9yKGUpOiJPYmplY3QiPT0oYT1yKGUpKSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuY2FsbGVlPyJBcmd1bWVudHMiOmF9fSxRWGhmOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvLGksYT1uKCIyR1RQIiksdT1uKCJNQ1NKIikscz1uKCJNdndDIiksYz1uKCJIc25zIiksZj1uKCI1VDJZIiksaD1mLnByb2Nlc3MscD1mLnNldEltbWVkaWF0ZSxsPWYuY2xlYXJJbW1lZGlhdGUsdj1mLk1lc3NhZ2VDaGFubmVsLHk9Zi5EaXNwYXRjaCxkPTAsbT17fSxnPWZ1bmN0aW9uKCl7dmFyIHQ9K3RoaXM7aWYobS5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIGU9bVt0XTtkZWxldGUgbVt0XSxlKCl9fSx4PWZ1bmN0aW9uKHQpe2cuY2FsbCh0LmRhdGEpfTtwJiZsfHwocD1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0xO2FyZ3VtZW50cy5sZW5ndGg+bjspZS5wdXNoKGFyZ3VtZW50c1tuKytdKTtyZXR1cm4gbVsrK2RdPWZ1bmN0aW9uKCl7dSgiZnVuY3Rpb24iPT10eXBlb2YgdD90OkZ1bmN0aW9uKHQpLGUpfSxyKGQpLGR9LGw9ZnVuY3Rpb24odCl7ZGVsZXRlIG1bdF19LCJwcm9jZXNzIj09bigiYTB4dSIpKGgpP3I9ZnVuY3Rpb24odCl7aC5uZXh0VGljayhhKGcsdCwxKSl9OnkmJnkubm93P3I9ZnVuY3Rpb24odCl7eS5ub3coYShnLHQsMSkpfTp2PyhpPShvPW5ldyB2KS5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT14LHI9YShpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhyPWZ1bmN0aW9uKHQpe2YucG9zdE1lc3NhZ2UodCsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLHgsITEpKTpyPSJvbnJlYWR5c3RhdGVjaGFuZ2UiaW4gYygic2NyaXB0Iik/ZnVuY3Rpb24odCl7cy5hcHBlbmRDaGlsZChjKCJzY3JpcHQiKSkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7cy5yZW1vdmVDaGlsZCh0aGlzKSxnLmNhbGwodCl9fTpmdW5jdGlvbih0KXtzZXRUaW1lb3V0KGEoZyx0LDEpLDApfSksdC5leHBvcnRzPXtzZXQ6cCxjbGVhcjpsfX0sUWV0ZDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPU9iamVjdC5hc3NpZ24uYmluZChPYmplY3QpO3QuZXhwb3J0cz1yLHQuZXhwb3J0cy5kZWZhdWx0PXQuZXhwb3J0c30sIlIrNysiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJ3NkdPIiksbz1uKCJtcWxGIiksaT1uKCJOVjBrIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXIodCksbj1vLmY7aWYobilmb3IodmFyIGEsdT1uKHQpLHM9aS5mLGM9MDt1Lmxlbmd0aD5jOylzLmNhbGwodCxhPXVbYysrXSkmJmUucHVzaChhKTtyZXR1cm4gZX19LFJEbVY6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dHJ5e3JldHVybntlOiExLHY6dCgpfX1jYXRjaChlKXtyZXR1cm57ZTohMCx2OmV9fX19LCJSVS9MIjpmdW5jdGlvbih0LGUsbil7bigiUnFkeSIpO3ZhciByPW4oIldFcGsiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5kZWZpbmVQcm9wZXJ0eSh0LGUsbil9fSxSZktCOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCIyZmFFIikuZixvPW4oIkIrT1QiKSxpPW4oIlVXaVgiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3QmJiFvKHQ9bj90OnQucHJvdG90eXBlLGkpJiZyKHQsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOmV9KX19LFJwODY6ZnVuY3Rpb24odCxlLG4pe24oImJCeTkiKSxuKCJGbFFmIiksdC5leHBvcnRzPW4oImZYc1UiKX0sUnFkeTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiWTdaQyIpO3Ioci5TK3IuRiohbigiam1ESCIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTpuKCIyZmFFIikuZn0pfSxTQnVFOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXt9fSxTcVpnOmZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigiM0dKSCIpfSxUSldOOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiNVQyWSIpLG89bigiV0VwayIpLGk9bigiMmZhRSIpLGE9bigiam1ESCIpLHU9bigiVVdpWCIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPSJmdW5jdGlvbiI9PXR5cGVvZiBvW3RdP29bdF06clt0XTthJiZlJiYhZVt1XSYmaS5mKGUsdSx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sVFJaeDpmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oIkpiQk0iKX0sVHVHRDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiVVdpWCIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtyXSgpO2kucmV0dXJuPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLChmdW5jdGlvbigpe3Rocm93IDJ9KSl9Y2F0Y2goYSl7fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFlJiYhbylyZXR1cm4hMTt2YXIgbj0hMTt0cnl7dmFyIGk9WzddLHU9aVtyXSgpO3UubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOm49ITB9fSxpW3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHV9LHQoaSl9Y2F0Y2goYSl7fXJldHVybiBufX0sIlUrS0QiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJCK09UIiksbz1uKCJKQjY4IiksaT1uKCJWVmx4IikoIklFX1BST1RPIiksYT1PYmplY3QucHJvdG90eXBlO3QuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKHQpe3JldHVybiB0PW8odCkscih0LGkpP3RbaV06ImZ1bmN0aW9uIj09dHlwZW9mIHQuY29uc3RydWN0b3ImJnQgaW5zdGFuY2VvZiB0LmNvbnN0cnVjdG9yP3QuY29uc3RydWN0b3IucHJvdG90eXBlOnQgaW5zdGFuY2VvZiBPYmplY3Q/YTpudWxsfX0sVU8zOTpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybnt2YWx1ZTplLGRvbmU6ISF0fX19LFVXaVg6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjI5cy8iKSgid2tzIiksbz1uKCJZcUFjIiksaT1uKCI1VDJZIikuU3ltYm9sLGE9ImZ1bmN0aW9uIj09dHlwZW9mIGk7KHQuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gclt0XXx8KHJbdF09YSYmaVt0XXx8KGE/aTpvKSgiU3ltYm9sLiIrdCkpfSkuc3RvcmU9cn0sVjdFdDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiMkdUUCIpLG89bigiTTF4cCIpLGk9bigiSkI2OCIpLGE9bigidEVlaiIpLHU9bigidjZ4biIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPTE9PXQscz0yPT10LGM9Mz09dCxmPTQ9PXQsaD02PT10LHA9NT09dHx8aCxsPWV8fHU7cmV0dXJuIGZ1bmN0aW9uKGUsdSx2KXtmb3IodmFyIHksZCxtPWkoZSksZz1vKG0pLHg9cih1LHYsMyksdz1hKGcubGVuZ3RoKSxiPTAsTz1uP2woZSx3KTpzP2woZSwwKTp2b2lkIDA7dz5iO2IrKylpZigocHx8YiBpbiBnKSYmKGQ9eCh5PWdbYl0sYixtKSx0KSlpZihuKU9bYl09ZDtlbHNlIGlmKGQpc3dpdGNoKHQpe2Nhc2UgMzpyZXR1cm4hMDtjYXNlIDU6cmV0dXJuIHk7Y2FzZSA2OnJldHVybiBiO2Nhc2UgMjpPLnB1c2goeSl9ZWxzZSBpZihmKXJldHVybiExO3JldHVybiBoPy0xOmN8fGY/ZjpPfX19LFZLRm46ZnVuY3Rpb24odCxlLG4pe24oImJCeTkiKSxuKCJGbFFmIiksdC5leHBvcnRzPW4oImxkVnEiKX0sVlZseDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiMjlzLyIpKCJrZXlzIiksbz1uKCJZcUFjIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByW3RdfHwoclt0XT1vKHQpKX19LFcwNzA6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIk5zTy8iKSxvPW4oInRFZWoiKSxpPW4oIkQ4a1kiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixhKXt2YXIgdSxzPXIoZSksYz1vKHMubGVuZ3RoKSxmPWkoYSxjKTtpZih0JiZuIT1uKXtmb3IoO2M+ZjspaWYoKHU9c1tmKytdKSE9dSlyZXR1cm4hMH1lbHNlIGZvcig7Yz5mO2YrKylpZigodHx8ZiBpbiBzKSYmc1tmXT09PW4pcmV0dXJuIHR8fGZ8fDA7cmV0dXJuIXQmJi0xfX19LFdFcGs6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjIuNi4xMSJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSxXYUdpOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJoZkttIik7ZnVuY3Rpb24gbyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBvJiYoby53cml0YWJsZT0hMCkscih0LG8ua2V5LG8pfX10LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZvKHQucHJvdG90eXBlLGUpLG4mJm8odCxuKSx0fX0sIlhKVS8iOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJOZWdNIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIG8gaW4gZSluJiZ0W29dP3Rbb109ZVtvXTpyKHQsbyxlW29dKTtyZXR1cm4gdH19LFhWZ3E6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCIyTmIwIil9LFhYT0s6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCJScDg2Iil9LFk3WkM6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjVUMlkiKSxvPW4oIldFcGsiKSxpPW4oIjJHVFAiKSxhPW4oIk5lZ00iKSx1PW4oIkIrT1QiKSxzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgYyxmLGgscD10JnMuRixsPXQmcy5HLHY9dCZzLlMseT10JnMuUCxkPXQmcy5CLG09dCZzLlcsZz1sP286b1tlXXx8KG9bZV09e30pLHg9Zy5wcm90b3R5cGUsdz1sP3I6dj9yW2VdOihyW2VdfHx7fSkucHJvdG90eXBlO2ZvcihjIGluIGwmJihuPWUpLG4pKGY9IXAmJncmJnZvaWQgMCE9PXdbY10pJiZ1KGcsYyl8fChoPWY/d1tjXTpuW2NdLGdbY109bCYmImZ1bmN0aW9uIiE9dHlwZW9mIHdbY10/bltjXTpkJiZmP2koaCxyKTptJiZ3W2NdPT1oP2Z1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGUsbixyKXtpZih0aGlzIGluc3RhbmNlb2YgdCl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChlKTtjYXNlIDI6cmV0dXJuIG5ldyB0KGUsbil9cmV0dXJuIG5ldyB0KGUsbixyKX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBlLnByb3RvdHlwZT10LnByb3RvdHlwZSxlfShoKTp5JiYiZnVuY3Rpb24iPT10eXBlb2YgaD9pKEZ1bmN0aW9uLmNhbGwsaCk6aCx5JiYoKGcudmlydHVhbHx8KGcudmlydHVhbD17fSkpW2NdPWgsdCZzLlImJngmJiF4W2NdJiZhKHgsYyxoKSkpfTtzLkY9MSxzLkc9MixzLlM9NCxzLlA9OCxzLkI9MTYscy5XPTMyLHMuVT02NCxzLlI9MTI4LHQuZXhwb3J0cz1zfSxZVHFkOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bigiaGZLbSIpKGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZ2V0Um91dGVSZWdleD1mdW5jdGlvbih0KXt2YXIgZT0odC5yZXBsYWNlKC9cLyQvLCIiKXx8Ii8iKS5yZXBsYWNlKC9bfFxce30oKVtcXV4kKyo/Li1dL2csIlxcJCYiKSxuPXt9LHI9MSxvPWUucmVwbGFjZSgvXC9cXFxbKFteL10rPylcXFxdKD89XC98JCkvZywoZnVuY3Rpb24odCxlKXt2YXIgbz0vXihcXFwuKXszfS8udGVzdChlKTtyZXR1cm4gbltlLnJlcGxhY2UoL1xcKFt8XFx7fSgpW1xdXiQrKj8uLV0pL2csIiQxIikucmVwbGFjZSgvXlwuezN9LywiIildPXtwb3M6cisrLHJlcGVhdDpvfSxvPyIvKC4rPykiOiIvKFteL10rPykifSkpO3JldHVybntyZTpuZXcgUmVnRXhwKCJeIitvKyIoPzovKT8kIiwiaSIpLGdyb3VwczpufX19LFlxQWM6ZnVuY3Rpb24odCxlKXt2YXIgbj0wLHI9TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT10PyIiOnQsIilfIiwoKytuK3IpLnRvU3RyaW5nKDM2KSl9fSxZdVRpOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0LndlYnBhY2tQb2x5ZmlsbHx8KHQuZGVwcmVjYXRlPWZ1bmN0aW9uKCl7fSx0LnBhdGhzPVtdLHQuY2hpbGRyZW58fCh0LmNoaWxkcmVuPVtdKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwibG9hZGVkIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJpZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuaX19KSx0LndlYnBhY2tQb2x5ZmlsbD0xKSx0fX0sWjd0NTpmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oIitTRksiKX0sWlc1cTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImVhb2giKTtmdW5jdGlvbiBvKHQpe3ZhciBlLG47dGhpcy5wcm9taXNlPW5ldyB0KChmdW5jdGlvbih0LHIpe2lmKHZvaWQgMCE9PWV8fHZvaWQgMCE9PW4pdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO2U9dCxuPXJ9KSksdGhpcy5yZXNvbHZlPXIoZSksdGhpcy5yZWplY3Q9cihuKX10LmV4cG9ydHMuZj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG8odCl9fSxaeGdpOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI1VDJZIiksbz1uKCJXRXBrIiksaT1uKCJ1T1BTIiksYT1uKCJ6TGtHIiksdT1uKCIyZmFFIikuZjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9by5TeW1ib2x8fChvLlN5bWJvbD1pP3t9OnIuU3ltYm9sfHx7fSk7Il8iPT10LmNoYXJBdCgwKXx8dCBpbiBlfHx1KGUsdCx7dmFsdWU6YS5mKHQpfSl9fSxhMHh1OmZ1bmN0aW9uKHQsZSl7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuLmNhbGwodCkuc2xpY2UoOCwtMSl9fSxhUGZnOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiWTdaQyIpLG89bigiZWFvaCIpLGk9bigiMkdUUCIpLGE9bigib2lvUiIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyKHIuUyx0LHtmcm9tOmZ1bmN0aW9uKHQpe3ZhciBlLG4scix1LHM9YXJndW1lbnRzWzFdO3JldHVybiBvKHRoaXMpLChlPXZvaWQgMCE9PXMpJiZvKHMpLHZvaWQgMD09dD9uZXcgdGhpczoobj1bXSxlPyhyPTAsdT1pKHMsYXJndW1lbnRzWzJdLDIpLGEodCwhMSwoZnVuY3Rpb24odCl7bi5wdXNoKHUodCxyKyspKX0pKSk6YSh0LCExLG4ucHVzaCxuKSxuZXcgdGhpcyhuKSl9fSl9fSxhVzdlOmZ1bmN0aW9uKHQsZSxuKXtuKCJ3Z2VVIiksbigiRmxRZiIpLG4oImJCeTkiKSxuKCJKTVcrIiksbigiUEJFMSIpLG4oIlEveVgiKSx0LmV4cG9ydHM9bigiV0VwayIpLlByb21pc2V9LGFkT3o6ZnVuY3Rpb24odCxlLG4pe24oIlp4Z2kiKSgiYXN5bmNJdGVyYXRvciIpfSwiYXIvcCI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjV2TVYiKSxvPW4oIkZwSGEiKS5jb25jYXQoImxlbmd0aCIsInByb3RvdHlwZSIpO2UuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24odCl7cmV0dXJuIHIodCxvKX19LGIzQ1U6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oInBiS1QiKSxvPW4oInZqZWEiKTtmdW5jdGlvbiBpKGUsbixhKXtyZXR1cm4hZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09PXR5cGVvZiBSZWZsZWN0fHwhcilyZXR1cm4hMTtpZihyLnNoYW0pcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocihEYXRlLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpP3QuZXhwb3J0cz1pPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1bbnVsbF07ci5wdXNoLmFwcGx5KHIsZSk7dmFyIGk9bmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkodCxyKSk7cmV0dXJuIG4mJm8oaSxuLnByb3RvdHlwZSksaX06dC5leHBvcnRzPWk9cixpLmFwcGx5KG51bGwsYXJndW1lbnRzKX10LmV4cG9ydHM9aX0sYkJ5OTpmdW5jdGlvbih0LGUsbil7bigidzJkKyIpO2Zvcih2YXIgcj1uKCI1VDJZIiksbz1uKCJOZWdNIiksaT1uKCJTQnVFIiksYT1uKCJVV2lYIikoInRvU3RyaW5nVGFnIiksdT0iQ1NTUnVsZUxpc3QsQ1NTU3R5bGVEZWNsYXJhdGlvbixDU1NWYWx1ZUxpc3QsQ2xpZW50UmVjdExpc3QsRE9NUmVjdExpc3QsRE9NU3RyaW5nTGlzdCxET01Ub2tlbkxpc3QsRGF0YVRyYW5zZmVySXRlbUxpc3QsRmlsZUxpc3QsSFRNTEFsbENvbGxlY3Rpb24sSFRNTENvbGxlY3Rpb24sSFRNTEZvcm1FbGVtZW50LEhUTUxTZWxlY3RFbGVtZW50LE1lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsU1ZHUGF0aFNlZ0xpc3QsU1ZHUG9pbnRMaXN0LFNWR1N0cmluZ0xpc3QsU1ZHVHJhbnNmb3JtTGlzdCxTb3VyY2VCdWZmZXJMaXN0LFN0eWxlU2hlZXRMaXN0LFRleHRUcmFja0N1ZUxpc3QsVGV4dFRyYWNrTGlzdCxUb3VjaExpc3QiLnNwbGl0KCIsIikscz0wO3M8dS5sZW5ndGg7cysrKXt2YXIgYz11W3NdLGY9cltjXSxoPWYmJmYucHJvdG90eXBlO2gmJiFoW2FdJiZvKGgsYSxjKSxpW2NdPWkuQXJyYXl9fSxjSFVkOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiWTdaQyIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyKHIuUyx0LHtvZjpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpO3QtLTspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIG5ldyB0aGlzKGUpfX0pfX0sY2NFNzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiT2pnZCIpLG89bigiSmVzMCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgaSxhLHU9U3RyaW5nKG8oZSkpLHM9cihuKSxjPXUubGVuZ3RoO3JldHVybiBzPDB8fHM+PWM/dD8iIjp2b2lkIDA6KGk9dS5jaGFyQ29kZUF0KHMpKTw1NTI5Nnx8aT41NjMxOXx8cysxPT09Y3x8KGE9dS5jaGFyQ29kZUF0KHMrMSkpPDU2MzIwfHxhPjU3MzQzP3Q/dS5jaGFyQXQocyk6aTp0P3Uuc2xpY2UocyxzKzIpOmEtNTYzMjArKGktNTUyOTY8PDEwKSs2NTUzNn19fSxjendoOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJZN1pDIiksbz1uKCJvVm1sIiksaT1uKCJlYW9oIiksYT1uKCI1SzdaIiksdT1uKCI5M0k0Iikscz1uKCJLVXhQIiksYz1uKCJ3WW14IiksZj0obigiNVQyWSIpLlJlZmxlY3R8fHt9KS5jb25zdHJ1Y3QsaD1zKChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIShmKChmdW5jdGlvbigpe30pLFtdLHQpaW5zdGFuY2VvZiB0KX0pKSxwPSFzKChmdW5jdGlvbigpe2YoKGZ1bmN0aW9uKCl7fSkpfSkpO3Ioci5TK3IuRiooaHx8cCksIlJlZmxlY3QiLHtjb25zdHJ1Y3Q6ZnVuY3Rpb24odCxlKXtpKHQpLGEoZSk7dmFyIG49YXJndW1lbnRzLmxlbmd0aDwzP3Q6aShhcmd1bWVudHNbMl0pO2lmKHAmJiFoKXJldHVybiBmKHQsZSxuKTtpZih0PT1uKXtzd2l0Y2goZS5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChlWzBdKTtjYXNlIDI6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSk7Y2FzZSAzOnJldHVybiBuZXcgdChlWzBdLGVbMV0sZVsyXSk7Y2FzZSA0OnJldHVybiBuZXcgdChlWzBdLGVbMV0sZVsyXSxlWzNdKX12YXIgcj1bbnVsbF07cmV0dXJuIHIucHVzaC5hcHBseShyLGUpLG5ldyhjLmFwcGx5KHQscikpfXZhciBzPW4ucHJvdG90eXBlLGw9byh1KHMpP3M6T2JqZWN0LnByb3RvdHlwZSksdj1GdW5jdGlvbi5hcHBseS5jYWxsKHQsbCxlKTtyZXR1cm4gdSh2KT92Omx9fSl9LGRaNlk6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJTcVpnIik7bigiaGZLbSIpKGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD1mdW5jdGlvbigpe3ZhciB0PXIobnVsbCk7cmV0dXJue29uOmZ1bmN0aW9uKGUsbil7KHRbZV18fCh0W2VdPVtdKSkucHVzaChuKX0sb2ZmOmZ1bmN0aW9uKGUsbil7dFtlXSYmdFtlXS5zcGxpY2UodFtlXS5pbmRleE9mKG4pPj4+MCwxKX0sZW1pdDpmdW5jdGlvbihlKXtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShuPjE/bi0xOjApLG89MTtvPG47bysrKXJbby0xXT1hcmd1bWVudHNbb107KHRbZV18fFtdKS5zbGljZSgpLm1hcCgoZnVuY3Rpb24odCl7dC5hcHBseSh2b2lkIDAscil9KSl9fX19LGRsMHE6ZnVuY3Rpb24odCxlLG4pe24oIlp4Z2kiKSgib2JzZXJ2YWJsZSIpfSxlVXRGOmZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9IW4oImptREgiKSYmIW4oIktVeFAiKSgoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4oIkhzbnMiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpfSxlVnVGOmZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigiYVc3ZSIpfSxlYW9oOmZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcih0KyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIHR9fSxlbHlnOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigibG42aCIpLG89bigiOCtOdSIpLGk9bigicEx0cCIpLGE9bigiUWV0ZCIpLHU9bigiZVZ1RiIpLHM9bigiL0hSTiIpLGM9bigiV2FHaSIpLGY9bigiaGZLbSIpLGg9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07ZihlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcD1uKCJDeFkwIiksbD1oKG4oImRaNlkiKSksdj1uKCJnLzE1IikseT1uKCIvamtXIiksZD1uKCJnZ3VjIiksbT1uKCJZVHFkIik7ZnVuY3Rpb24gZyh0KXtyZXR1cm4gMCE9PXQuaW5kZXhPZigiIik/IiIrdDp0fWZ1bmN0aW9uIHgodCl7cmV0dXJuIHQucmVwbGFjZSgvXC8kLywiIil8fCIvIn12YXIgdz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuLHIsbyl7dmFyIGk9dGhpcyxhPW8uaW5pdGlhbFByb3BzLGM9by5wYWdlTG9hZGVyLGY9by5BcHAsaD1vLndyYXBBcHAsbD1vLkNvbXBvbmVudCxkPW8uZXJyLG09by5zdWJzY3JpcHRpb247cyh0aGlzLHQpLHRoaXMuc2RjPXt9LHRoaXMub25Qb3BTdGF0ZT1mdW5jdGlvbih0KXtpZih0LnN0YXRlKXtpZigoIXQuc3RhdGV8fCFpLmlzU3NyfHx0LnN0YXRlLnVybCE9PWkucGF0aG5hbWV8fHQuc3RhdGUuYXMhPT1pLmFzUGF0aCkmJighaS5fYnBzfHxpLl9icHModC5zdGF0ZSkpKXt2YXIgZT10LnN0YXRlLG49ZS51cmwscj1lLmFzLG89ZS5vcHRpb25zOzAsaS5yZXBsYWNlKG4scixvKX19ZWxzZXt2YXIgYT1pLnBhdGhuYW1lLHU9aS5xdWVyeTtpLmNoYW5nZVN0YXRlKCJyZXBsYWNlU3RhdGUiLHYuZm9ybWF0V2l0aFZhbGlkYXRpb24oe3BhdGhuYW1lOmEscXVlcnk6dX0pLHYuZ2V0VVJMKCkpfX0sdGhpcy5fZ2V0U3RhdGljRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPXAucGFyc2UodCkucGF0aG5hbWU7cmV0dXJuIG49eChuJiYiLyIhPT1uP246Ii9pbmRleCIpLChlPWkuc2RjW25dKT91LnJlc29sdmUoZSk6ZmV0Y2goIi9fbmV4dC9kYXRhLyIuY29uY2F0KF9fTkVYVF9EQVRBX18uYnVpbGRJZCkuY29uY2F0KG4sIi5qc29uIikpLnRoZW4oKGZ1bmN0aW9uKHQpe2lmKCF0Lm9rKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGxvYWQgc3RhdGljIHByb3BzIik7cmV0dXJuIHQuanNvbigpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBpLnNkY1tuXT10LHR9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3Rocm93IHQuY29kZT0iUEFHRV9MT0FEX0VSUk9SIix0fSkpfSx0aGlzLnJvdXRlPXgoZSksdGhpcy5jb21wb25lbnRzPXt9LCIvX2Vycm9yIiE9PWUmJih0aGlzLmNvbXBvbmVudHNbdGhpcy5yb3V0ZV09e0NvbXBvbmVudDpsLHByb3BzOmEsZXJyOmR9KSx0aGlzLmNvbXBvbmVudHNbIi9fYXBwIl09e0NvbXBvbmVudDpmfSx0aGlzLmV2ZW50cz10LmV2ZW50cyx0aGlzLnBhZ2VMb2FkZXI9Yyx0aGlzLnBhdGhuYW1lPWUsdGhpcy5xdWVyeT1uLHRoaXMuYXNQYXRoPXkuaXNEeW5hbWljUm91dGUoZSkmJl9fTkVYVF9EQVRBX18uYXV0b0V4cG9ydD9lOnIsdGhpcy5zdWI9bSx0aGlzLmNsYz1udWxsLHRoaXMuX3dyYXBBcHA9aCx0aGlzLmlzU3NyPSEwLHRoaXMuY2hhbmdlU3RhdGUoInJlcGxhY2VTdGF0ZSIsdi5mb3JtYXRXaXRoVmFsaWRhdGlvbih7cGF0aG5hbWU6ZSxxdWVyeTpufSksciksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInBvcHN0YXRlIix0aGlzLm9uUG9wU3RhdGUpfXJldHVybiBjKHQsW3trZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmRlZmF1bHR8fGUscj10aGlzLmNvbXBvbmVudHNbdF07aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgdXBkYXRlIHVuYXZhaWxhYmxlIHJvdXRlOiAiLmNvbmNhdCh0KSk7dmFyIG89YShhKHt9LHIpLHtDb21wb25lbnQ6bn0pO3RoaXMuY29tcG9uZW50c1t0XT1vLCIvX2FwcCIhPT10P3Q9PT10aGlzLnJvdXRlJiZ0aGlzLm5vdGlmeShvKTp0aGlzLm5vdGlmeSh0aGlzLmNvbXBvbmVudHNbdGhpcy5yb3V0ZV0pfX0se2tleToicmVsb2FkIix2YWx1ZTpmdW5jdGlvbigpe3dpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKX19LHtrZXk6ImJhY2siLHZhbHVlOmZ1bmN0aW9uKCl7d2luZG93Lmhpc3RvcnkuYmFjaygpfX0se2tleToicHVzaCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnQsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307cmV0dXJuIHRoaXMuY2hhbmdlKCJwdXNoU3RhdGUiLHQsZSxuKX19LHtrZXk6InJlcGxhY2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0LG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JldHVybiB0aGlzLmNoYW5nZSgicmVwbGFjZVN0YXRlIix0LGUsbil9fSx7a2V5OiJjaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsbixyLG8pe3ZhciBzPXRoaXM7cmV0dXJuIG5ldyB1KChmdW5jdGlvbih1LGMpe28uX2h8fChzLmlzU3NyPSExKSx2LlNUJiZwZXJmb3JtYW5jZS5tYXJrKCJyb3V0ZUNoYW5nZSIpO3ZhciBmPSJvYmplY3QiPT09dHlwZW9mIG4/di5mb3JtYXRXaXRoVmFsaWRhdGlvbihuKTpuLGg9Im9iamVjdCI9PT10eXBlb2Ygcj92LmZvcm1hdFdpdGhWYWxpZGF0aW9uKHIpOnI7aWYocy5hYm9ydENvbXBvbmVudExvYWQoaCksIW8uX2gmJnMub25seUFIYXNoQ2hhbmdlKGgpKXJldHVybiBzLmFzUGF0aD1oLHQuZXZlbnRzLmVtaXQoImhhc2hDaGFuZ2VTdGFydCIsaCkscy5jaGFuZ2VTdGF0ZShlLGYsZyhoKSxvKSxzLnNjcm9sbFRvSGFzaChoKSx0LmV2ZW50cy5lbWl0KCJoYXNoQ2hhbmdlQ29tcGxldGUiLGgpLHUoITApO3ZhciBsPXAucGFyc2UoZiwhMCksdz1sLnBhdGhuYW1lLGI9bC5xdWVyeSxPPWwucHJvdG9jb2w7aWYoIXd8fE8pcmV0dXJuIHUoITEpO3MudXJsSXNOZXcoaCl8fChlPSJyZXBsYWNlU3RhdGUiKTt2YXIgXz14KHcpLGo9by5zaGFsbG93LEU9dm9pZCAwIT09aiYmajtpZih5LmlzRHluYW1pY1JvdXRlKF8pKXt2YXIgUz1wLnBhcnNlKGgpLnBhdGhuYW1lLGs9bS5nZXRSb3V0ZVJlZ2V4KF8pLFA9ZC5nZXRSb3V0ZU1hdGNoZXIoaykoUyk7aWYoUClhKGIsUCk7ZWxzZSBpZihpKGsuZ3JvdXBzKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiFiW3RdfSkpLmxlbmd0aD4wKXJldHVybiBjKG5ldyBFcnJvcigiVGhlIHByb3ZpZGVkIGBhc2AgdmFsdWUgKCIuY29uY2F0KFMsIikgaXMgaW5jb21wYXRpYmxlIHdpdGggdGhlIGBocmVmYCB2YWx1ZSAoIikuY29uY2F0KF8sIikuICIpKyJSZWFkIG1vcmU6IGh0dHBzOi8vZXJyLnNoL3plaXQvbmV4dC5qcy9pbmNvbXBhdGlibGUtaHJlZi1hcyIpKX10LmV2ZW50cy5lbWl0KCJyb3V0ZUNoYW5nZVN0YXJ0IixoKSxzLmdldFJvdXRlSW5mbyhfLHcsYixoLEUpLnRoZW4oKGZ1bmN0aW9uKG4pe3ZhciByPW4uZXJyb3I7aWYociYmci5jYW5jZWxsZWQpcmV0dXJuIHUoITEpO3QuZXZlbnRzLmVtaXQoImJlZm9yZUhpc3RvcnlDaGFuZ2UiLGgpLHMuY2hhbmdlU3RhdGUoZSxmLGcoaCksbyk7dmFyIGk9d2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpO2lmKHMuc2V0KF8sdyxiLGgsYShhKHt9LG4pLHtoYXNoOml9KSkscil0aHJvdyB0LmV2ZW50cy5lbWl0KCJyb3V0ZUNoYW5nZUVycm9yIixyLGgpLHI7cmV0dXJuIHQuZXZlbnRzLmVtaXQoInJvdXRlQ2hhbmdlQ29tcGxldGUiLGgpLHUoITApfSksYyl9KSl9fSx7a2V5OiJjaGFuZ2VTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fTsicHVzaFN0YXRlIj09PXQmJnYuZ2V0VVJMKCk9PT1ufHx3aW5kb3cuaGlzdG9yeVt0XSh7dXJsOmUsYXM6bixvcHRpb25zOnJ9LG51bGwsbil9fSx7a2V5OiJnZXRSb3V0ZUluZm8iLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXRoaXMsaT1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSYmYXJndW1lbnRzWzRdLGE9dGhpcy5jb21wb25lbnRzW3RdO3JldHVybiBpJiZhJiZ0aGlzLnJvdXRlPT09dD91LnJlc29sdmUoYSk6bmV3IHUoKGZ1bmN0aW9uKGUsbil7aWYoYSlyZXR1cm4gZShhKTtvLmZldGNoQ29tcG9uZW50KHQpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBlKHtDb21wb25lbnQ6dH0pfSksbil9KSkudGhlbigoZnVuY3Rpb24oaSl7dmFyIGE9aS5Db21wb25lbnQ7cmV0dXJuIG8uX2dldERhdGEoKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX19OX1NTRz9vLl9nZXRTdGF0aWNEYXRhKHIpOm8uZ2V0SW5pdGlhbFByb3BzKGEse3BhdGhuYW1lOmUscXVlcnk6bixhc1BhdGg6cn0pfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBpLnByb3BzPWUsby5jb21wb25lbnRzW3RdPWksaX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB1KChmdW5jdGlvbihpKXtyZXR1cm4iUEFHRV9MT0FEX0VSUk9SIj09PXQuY29kZT8od2luZG93LmxvY2F0aW9uLmhyZWY9cix0LmNhbmNlbGxlZD0hMCxpKHtlcnJvcjp0fSkpOnQuY2FuY2VsbGVkP2koe2Vycm9yOnR9KTp2b2lkIGkoby5mZXRjaENvbXBvbmVudCgiL19lcnJvciIpLnRoZW4oKGZ1bmN0aW9uKHIpe3ZhciBpPXtDb21wb25lbnQ6cixlcnI6dH07cmV0dXJuIG5ldyB1KChmdW5jdGlvbihhKXtvLmdldEluaXRpYWxQcm9wcyhyLHtlcnI6dCxwYXRobmFtZTplLHF1ZXJ5Om59KS50aGVuKChmdW5jdGlvbihlKXtpLnByb3BzPWUsaS5lcnJvcj10LGEoaSl9KSwoZnVuY3Rpb24oZSl7Y29uc29sZS5lcnJvcigiRXJyb3IgaW4gZXJyb3IgcGFnZSBgZ2V0SW5pdGlhbFByb3BzYDogIixlKSxpLmVycm9yPXQsaS5wcm9wcz17fSxhKGkpfSkpfSkpfSkpKX0pKX0pKX19LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvKXt0aGlzLnJvdXRlPXQsdGhpcy5wYXRobmFtZT1lLHRoaXMucXVlcnk9bix0aGlzLmFzUGF0aD1yLHRoaXMubm90aWZ5KG8pfX0se2tleToiYmVmb3JlUG9wU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2Jwcz10fX0se2tleToib25seUFIYXNoQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5hc1BhdGgpcmV0dXJuITE7dmFyIGU9dGhpcy5hc1BhdGguc3BsaXQoIiMiKSxuPW8oZSwyKSxyPW5bMF0saT1uWzFdLGE9dC5zcGxpdCgiIyIpLHU9byhhLDIpLHM9dVswXSxjPXVbMV07cmV0dXJuISghY3x8ciE9PXN8fGkhPT1jKXx8cj09PXMmJmkhPT1jfX0se2tleToic2Nyb2xsVG9IYXNoIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNwbGl0KCIjIiksbj1vKGUsMilbMV07aWYoIiIhPT1uKXt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKTtpZihyKXIuc2Nyb2xsSW50b1ZpZXcoKTtlbHNle3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKG4pWzBdO2kmJmkuc2Nyb2xsSW50b1ZpZXcoKX19ZWxzZSB3aW5kb3cuc2Nyb2xsVG8oMCwwKX19LHtrZXk6InVybElzTmV3Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hc1BhdGghPT10fX0se2tleToicHJlZmV0Y2giLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyB1KChmdW5jdGlvbihuLHIpe3ZhciBvPXAucGFyc2UodCksaT1vLnBhdGhuYW1lLGE9by5wcm90b2NvbDtpZihpJiYhYSl7MDt2YXIgdT14KGkpO2UucGFnZUxvYWRlci5wcmVmZXRjaCh1KS50aGVuKG4scil9fSkpfX0se2tleToiZmV0Y2hDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG4sbyxpO3JldHVybiByLmFzeW5jKChmdW5jdGlvbihhKXtmb3IoOzspc3dpdGNoKGEucHJldj1hLm5leHQpe2Nhc2UgMDpyZXR1cm4gZT0hMSxuPXRoaXMuY2xjPWZ1bmN0aW9uKCl7ZT0hMH0sYS5uZXh0PTQsci5hd3JhcCh0aGlzLnBhZ2VMb2FkZXIubG9hZFBhZ2UodCkpO2Nhc2UgNDppZihvPWEuc2VudCwhZSl7YS5uZXh0PTk7YnJlYWt9dGhyb3coaT1uZXcgRXJyb3IoJ0Fib3J0IGZldGNoaW5nIGNvbXBvbmVudCBmb3Igcm91dGU6ICInLmNvbmNhdCh0LCciJykpKS5jYW5jZWxsZWQ9ITAsaTtjYXNlIDk6cmV0dXJuIG49PT10aGlzLmNsYyYmKHRoaXMuY2xjPW51bGwpLGEuYWJydXB0KCJyZXR1cm4iLG8pO2Nhc2UgMTE6Y2FzZSJlbmQiOnJldHVybiBhLnN0b3AoKX19KSxudWxsLHRoaXMpfX0se2tleToiX2dldERhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj0hMSxyPWZ1bmN0aW9uKCl7bj0hMH07cmV0dXJuIHRoaXMuY2xjPXIsdCgpLnRoZW4oKGZ1bmN0aW9uKHQpe2lmKHI9PT1lLmNsYyYmKGUuY2xjPW51bGwpLG4pe3ZhciBvPW5ldyBFcnJvcigiTG9hZGluZyBpbml0aWFsIHByb3BzIGNhbmNlbGxlZCIpO3Rocm93IG8uY2FuY2VsbGVkPSEwLG99cmV0dXJuIHR9KSl9fSx7a2V5OiJnZXRJbml0aWFsUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5jb21wb25lbnRzWyIvX2FwcCJdLkNvbXBvbmVudCxyPXRoaXMuX3dyYXBBcHAobik7cmV0dXJuIGUuQXBwVHJlZT1yLHYubG9hZEdldEluaXRpYWxQcm9wcyhuLHtBcHBUcmVlOnIsQ29tcG9uZW50OnQscm91dGVyOnRoaXMsY3R4OmV9KX19LHtrZXk6ImFib3J0Q29tcG9uZW50TG9hZCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5jbGMpe3ZhciBuPW5ldyBFcnJvcigiUm91dGUgQ2FuY2VsbGVkIik7bi5jYW5jZWxsZWQ9ITAsdC5ldmVudHMuZW1pdCgicm91dGVDaGFuZ2VFcnJvciIsbixlKSx0aGlzLmNsYygpLHRoaXMuY2xjPW51bGx9fX0se2tleToibm90aWZ5Iix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnN1Yih0LHRoaXMuY29tcG9uZW50c1siL19hcHAiXS5Db21wb25lbnQpfX1dLFt7a2V5OiJfcmV3cml0ZVVybEZvck5leHRFeHBvcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0fX1dKSx0fSgpO2UuZGVmYXVsdD13LHcuZXZlbnRzPWwuZGVmYXVsdCgpfSxmTlpBOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJRTU1UIiksbz1uKCJVV2lYIikoIml0ZXJhdG9yIiksaT1uKCJTQnVFIik7dC5leHBvcnRzPW4oIldFcGsiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbih0KXtpZih2b2lkIDAhPXQpcmV0dXJuIHRbb118fHRbIkBAaXRlcmF0b3IiXXx8aVtyKHQpXX19LGZYc1U6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjVLN1oiKSxvPW4oImZOWkEiKTt0LmV4cG9ydHM9bigiV0VwayIpLmdldEl0ZXJhdG9yPWZ1bmN0aW9uKHQpe3ZhciBlPW8odCk7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKHQrIiBpcyBub3QgaXRlcmFibGUhIik7cmV0dXJuIHIoZS5jYWxsKHQpKX19LGZwQzU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjJmYUUiKSxvPW4oIjVLN1oiKSxpPW4oInc2R08iKTt0LmV4cG9ydHM9bigiam1ESCIpP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKHQsZSl7byh0KTtmb3IodmFyIG4sYT1pKGUpLHU9YS5sZW5ndGgscz0wO3U+czspci5mKHQsbj1hW3MrK10sZVtuXSk7cmV0dXJuIHR9fSxmcHJaOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJYWE9LIiksbz1uKCJ5THUzIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYobyhPYmplY3QodCkpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl7dmFyIG49W10saT0hMCxhPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIHMsYz1yKHQpOyEoaT0ocz1jLm5leHQoKSkuZG9uZSkmJihuLnB1c2gocy52YWx1ZSksIWV8fG4ubGVuZ3RoIT09ZSk7aT0hMCk7fWNhdGNoKGYpe2E9ITAsdT1mfWZpbmFsbHl7dHJ5e2l8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyB1fX1yZXR1cm4gbn19fSwiZy8xNSI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJsbjZoIik7bigicEx0cCIpO24oImhmS20iKShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1uKCJDeFkwIik7ZnVuY3Rpb24gaSgpe3ZhciB0PXdpbmRvdy5sb2NhdGlvbixlPXQucHJvdG9jb2wsbj10Lmhvc3RuYW1lLHI9dC5wb3J0O3JldHVybiIiLmNvbmNhdChlLCIvLyIpLmNvbmNhdChuKS5jb25jYXQocj8iOiIrcjoiIil9ZnVuY3Rpb24gYSh0KXtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiB0P3Q6dC5kaXNwbGF5TmFtZXx8dC5uYW1lfHwiVW5rbm93biJ9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdC5maW5pc2hlZHx8dC5oZWFkZXJzU2VudH1lLmV4ZWNPbmNlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj0hMSxyPW51bGw7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIW4pe249ITA7Zm9yKHZhciBvPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkobyksYT0wO2E8bzthKyspaVthXT1hcmd1bWVudHNbYV07cj10LmFwcGx5KGUsaSl9cmV0dXJuIHJ9fSxlLmdldExvY2F0aW9uT3JpZ2luPWksZS5nZXRVUkw9ZnVuY3Rpb24oKXt2YXIgdD13aW5kb3cubG9jYXRpb24uaHJlZixlPWkoKTtyZXR1cm4gdC5zdWJzdHJpbmcoZS5sZW5ndGgpfSxlLmdldERpc3BsYXlOYW1lPWEsZS5pc1Jlc1NlbnQ9dSxlLmxvYWRHZXRJbml0aWFsUHJvcHM9ZnVuY3Rpb24gdChlLG4pe3ZhciBvLGkscztyZXR1cm4gci5hc3luYygoZnVuY3Rpb24oYyl7Zm9yKDs7KXN3aXRjaChjLnByZXY9Yy5uZXh0KXtjYXNlIDA6Yy5uZXh0PTQ7YnJlYWs7Y2FzZSA0OmlmKG89bi5yZXN8fG4uY3R4JiZuLmN0eC5yZXMsZS5nZXRJbml0aWFsUHJvcHMpe2MubmV4dD0xMjticmVha31pZighbi5jdHh8fCFuLkNvbXBvbmVudCl7Yy5uZXh0PTExO2JyZWFrfXJldHVybiBjLm5leHQ9OSxyLmF3cmFwKHQobi5Db21wb25lbnQsbi5jdHgpKTtjYXNlIDk6cmV0dXJuIGMudDA9Yy5zZW50LGMuYWJydXB0KCJyZXR1cm4iLHtwYWdlUHJvcHM6Yy50MH0pO2Nhc2UgMTE6cmV0dXJuIGMuYWJydXB0KCJyZXR1cm4iLHt9KTtjYXNlIDEyOnJldHVybiBjLm5leHQ9MTQsci5hd3JhcChlLmdldEluaXRpYWxQcm9wcyhuKSk7Y2FzZSAxNDppZihpPWMuc2VudCwhb3x8IXUobykpe2MubmV4dD0xNzticmVha31yZXR1cm4gYy5hYnJ1cHQoInJldHVybiIsaSk7Y2FzZSAxNzppZihpKXtjLm5leHQ9MjA7YnJlYWt9dGhyb3cgcz0nIicuY29uY2F0KGEoZSksJy5nZXRJbml0aWFsUHJvcHMoKSIgc2hvdWxkIHJlc29sdmUgdG8gYW4gb2JqZWN0LiBCdXQgZm91bmQgIicpLmNvbmNhdChpLCciIGluc3RlYWQuJyksbmV3IEVycm9yKHMpO2Nhc2UgMjA6cmV0dXJuIGMuYWJydXB0KCJyZXR1cm4iLGkpO2Nhc2UgMjI6Y2FzZSJlbmQiOnJldHVybiBjLnN0b3AoKX19KSl9LGUudXJsT2JqZWN0S2V5cz1bImF1dGgiLCJoYXNoIiwiaG9zdCIsImhvc3RuYW1lIiwiaHJlZiIsInBhdGgiLCJwYXRobmFtZSIsInBvcnQiLCJwcm90b2NvbCIsInF1ZXJ5Iiwic2VhcmNoIiwic2xhc2hlcyJdLGUuZm9ybWF0V2l0aFZhbGlkYXRpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gby5mb3JtYXQodCxlKX0sZS5TUD0idW5kZWZpbmVkIiE9PXR5cGVvZiBwZXJmb3JtYW5jZSxlLlNUPWUuU1AmJiJmdW5jdGlvbiI9PT10eXBlb2YgcGVyZm9ybWFuY2UubWFyayYmImZ1bmN0aW9uIj09PXR5cGVvZiBwZXJmb3JtYW5jZS5tZWFzdXJlfSxnZ3VjOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigicEx0cCIpO24oImhmS20iKShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmdldFJvdXRlTWF0Y2hlcj1mdW5jdGlvbih0KXt2YXIgZT10LnJlLG49dC5ncm91cHM7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBvPWUuZXhlYyh0KTtpZighbylyZXR1cm4hMTt2YXIgaT1kZWNvZGVVUklDb21wb25lbnQsYT17fTtyZXR1cm4gcihuKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1uW3RdLHI9b1tlLnBvc107dm9pZCAwIT09ciYmKGFbdF09fnIuaW5kZXhPZigiLyIpP3Iuc3BsaXQoIi8iKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBpKHQpfSkpOmUucmVwZWF0P1tpKHIpXTppKHIpKX0pKSxhfX19LGhEYW06ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSxoZkttOmZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigiUlUvTCIpfSxpWlAzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJYVmdxIiksbz1uKCJaN3Q1Iik7ZnVuY3Rpb24gaSh0KXtyZXR1cm4oaT0iZnVuY3Rpb24iPT09dHlwZW9mIG8mJiJzeW1ib2wiPT09dHlwZW9mIHI/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09PXR5cGVvZiBvJiZ0LmNvbnN0cnVjdG9yPT09byYmdCE9PW8ucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSkodCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIG8mJiJzeW1ib2wiPT09aShyKT90LmV4cG9ydHM9YT1mdW5jdGlvbih0KXtyZXR1cm4gaSh0KX06dC5leHBvcnRzPWE9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PT10eXBlb2YgbyYmdC5jb25zdHJ1Y3Rvcj09PW8mJnQhPT1vLnByb3RvdHlwZT8ic3ltYm9sIjppKHQpfSxhKGUpfXQuZXhwb3J0cz1hfSxpcTR2OmZ1bmN0aW9uKHQsZSxuKXtuKCJNcWJsIiksdC5leHBvcnRzPW4oIldFcGsiKS5PYmplY3Qua2V5c30sajJEQzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIm9WbWwiKSxvPW4oInJyMWkiKSxpPW4oIlJmS0IiKSxhPXt9O24oIk5lZ00iKShhLG4oIlVXaVgiKSgiaXRlcmF0b3IiKSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSx0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3QucHJvdG90eXBlPXIoYSx7bmV4dDpvKDEsbil9KSxpKHQsZSsiIEl0ZXJhdG9yIil9fSxqbURIOmZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9IW4oIktVeFAiKSgoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKX0sa0FNSDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiYTB4dSIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4iQXJyYXkiPT1yKHQpfX0sa0I0YzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlhKVS8iKSxvPW4oIjYvMXMiKS5nZXRXZWFrLGk9bigiNUs3WiIpLGE9bigiOTNJNCIpLHU9bigiRVhNaiIpLHM9bigib2lvUiIpLGM9bigiVjdFdCIpLGY9bigiQitPVCIpLGg9bigibjNrbyIpLHA9Yyg1KSxsPWMoNiksdj0wLHk9ZnVuY3Rpb24odCl7cmV0dXJuIHQuX2x8fCh0Ll9sPW5ldyBkKX0sZD1mdW5jdGlvbigpe3RoaXMuYT1bXX0sbT1mdW5jdGlvbih0LGUpe3JldHVybiBwKHQuYSwoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09PT1lfSkpfTtkLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKHQpe3ZhciBlPW0odGhpcyx0KTtpZihlKXJldHVybiBlWzFdfSxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuISFtKHRoaXMsdCl9LHNldDpmdW5jdGlvbih0LGUpe3ZhciBuPW0odGhpcyx0KTtuP25bMV09ZTp0aGlzLmEucHVzaChbdCxlXSl9LGRlbGV0ZTpmdW5jdGlvbih0KXt2YXIgZT1sKHRoaXMuYSwoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09PT10fSkpO3JldHVybn5lJiZ0aGlzLmEuc3BsaWNlKGUsMSksISF+ZX19LHQuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24odCxlLG4saSl7dmFyIGM9dCgoZnVuY3Rpb24odCxyKXt1KHQsYyxlLCJfaSIpLHQuX3Q9ZSx0Ll9pPXYrKyx0Ll9sPXZvaWQgMCx2b2lkIDAhPXImJnMocixuLHRbaV0sdCl9KSk7cmV0dXJuIHIoYy5wcm90b3R5cGUse2RlbGV0ZTpmdW5jdGlvbih0KXtpZighYSh0KSlyZXR1cm4hMTt2YXIgbj1vKHQpO3JldHVybiEwPT09bj95KGgodGhpcyxlKSkuZGVsZXRlKHQpOm4mJmYobix0aGlzLl9pKSYmZGVsZXRlIG5bdGhpcy5faV19LGhhczpmdW5jdGlvbih0KXtpZighYSh0KSlyZXR1cm4hMTt2YXIgbj1vKHQpO3JldHVybiEwPT09bj95KGgodGhpcyxlKSkuaGFzKHQpOm4mJmYobix0aGlzLl9pKX19KSxjfSxkZWY6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW8oaShlKSwhMCk7cmV0dXJuITA9PT1yP3kodCkuc2V0KGUsbik6clt0Ll9pXT1uLHR9LHVmc3RvcmU6eX19LGtUaVc6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCJOZWdNIil9LGtkMkU6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfXQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixpKXtlPWV8fCImIixuPW58fCI9Ijt2YXIgYT17fTtpZigic3RyaW5nIiE9PXR5cGVvZiB0fHwwPT09dC5sZW5ndGgpcmV0dXJuIGE7dmFyIHU9L1wrL2c7dD10LnNwbGl0KGUpO3ZhciBzPTFlMztpJiYibnVtYmVyIj09PXR5cGVvZiBpLm1heEtleXMmJihzPWkubWF4S2V5cyk7dmFyIGM9dC5sZW5ndGg7cz4wJiZjPnMmJihjPXMpO2Zvcih2YXIgZj0wO2Y8YzsrK2Ype3ZhciBoLHAsbCx2LHk9dFtmXS5yZXBsYWNlKHUsIiUyMCIpLGQ9eS5pbmRleE9mKG4pO2Q+PTA/KGg9eS5zdWJzdHIoMCxkKSxwPXkuc3Vic3RyKGQrMSkpOihoPXkscD0iIiksbD1kZWNvZGVVUklDb21wb25lbnQoaCksdj1kZWNvZGVVUklDb21wb25lbnQocCkscihhLGwpP28oYVtsXSk/YVtsXS5wdXNoKHYpOmFbbF09W2FbbF0sdl06YVtsXT12fXJldHVybiBhfTt2YXIgbz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfX0sa3daMTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImptREgiKSxvPW4oInc2R08iKSxpPW4oIm1xbEYiKSxhPW4oIk5WMGsiKSx1PW4oIkpCNjgiKSxzPW4oIk0xeHAiKSxjPU9iamVjdC5hc3NpZ247dC5leHBvcnRzPSFjfHxuKCJLVXhQIikoKGZ1bmN0aW9uKCl7dmFyIHQ9e30sZT17fSxuPVN5bWJvbCgpLHI9ImFiY2RlZmdoaWprbG1ub3BxcnN0IjtyZXR1cm4gdFtuXT03LHIuc3BsaXQoIiIpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF09dH0pKSw3IT1jKHt9LHQpW25dfHxPYmplY3Qua2V5cyhjKHt9LGUpKS5qb2luKCIiKSE9cn0pKT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj11KHQpLGM9YXJndW1lbnRzLmxlbmd0aCxmPTEsaD1pLmYscD1hLmY7Yz5mOylmb3IodmFyIGwsdj1zKGFyZ3VtZW50c1tmKytdKSx5PWg/byh2KS5jb25jYXQoaCh2KSk6byh2KSxkPXkubGVuZ3RoLG09MDtkPm07KWw9eVttKytdLHImJiFwLmNhbGwodixsKXx8KG5bbF09dltsXSk7cmV0dXJuIG59OmN9LGxDYzg6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIlk3WkMiKTtyKHIuUywiT2JqZWN0Iix7Y3JlYXRlOm4oIm9WbWwiKX0pfSxsZFZxOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJRTU1UIiksbz1uKCJVV2lYIikoIml0ZXJhdG9yIiksaT1uKCJTQnVFIik7dC5leHBvcnRzPW4oIldFcGsiKS5pc0l0ZXJhYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdCh0KTtyZXR1cm4gdm9pZCAwIT09ZVtvXXx8IkBAaXRlcmF0b3IiaW4gZXx8aS5oYXNPd25Qcm9wZXJ0eShyKGUpKX19LGxuNmg6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCJsczgyIil9LGxzODI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgZSxuPU9iamVjdC5wcm90b3R5cGUscj1uLmhhc093blByb3BlcnR5LG89ImZ1bmN0aW9uIj09PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGk9by5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLGE9by5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIix1PW8udG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIjtmdW5jdGlvbiBzKHQsZSxuLHIpe3ZhciBvPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgeT9lOnksaT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxhPW5ldyBrKHJ8fFtdKTtyZXR1cm4gaS5faW52b2tlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1mO3JldHVybiBmdW5jdGlvbihvLGkpe2lmKHI9PT1wKXRocm93IG5ldyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpO2lmKHI9PT1sKXtpZigidGhyb3ciPT09byl0aHJvdyBpO3JldHVybiBDKCl9Zm9yKG4ubWV0aG9kPW8sbi5hcmc9aTs7KXt2YXIgYT1uLmRlbGVnYXRlO2lmKGEpe3ZhciB1PWooYSxuKTtpZih1KXtpZih1PT09diljb250aW51ZTtyZXR1cm4gdX19aWYoIm5leHQiPT09bi5tZXRob2Qpbi5zZW50PW4uX3NlbnQ9bi5hcmc7ZWxzZSBpZigidGhyb3ciPT09bi5tZXRob2Qpe2lmKHI9PT1mKXRocm93IHI9bCxuLmFyZztuLmRpc3BhdGNoRXhjZXB0aW9uKG4uYXJnKX1lbHNlInJldHVybiI9PT1uLm1ldGhvZCYmbi5hYnJ1cHQoInJldHVybiIsbi5hcmcpO3I9cDt2YXIgcz1jKHQsZSxuKTtpZigibm9ybWFsIj09PXMudHlwZSl7aWYocj1uLmRvbmU/bDpoLHMuYXJnPT09diljb250aW51ZTtyZXR1cm57dmFsdWU6cy5hcmcsZG9uZTpuLmRvbmV9fSJ0aHJvdyI9PT1zLnR5cGUmJihyPWwsbi5tZXRob2Q9InRocm93IixuLmFyZz1zLmFyZyl9fX0odCxuLGEpLGl9ZnVuY3Rpb24gYyh0LGUsbil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzp0LmNhbGwoZSxuKX19Y2F0Y2gocil7cmV0dXJue3R5cGU6InRocm93Iixhcmc6cn19fXQud3JhcD1zO3ZhciBmPSJzdXNwZW5kZWRTdGFydCIsaD0ic3VzcGVuZGVkWWllbGQiLHA9ImV4ZWN1dGluZyIsbD0iY29tcGxldGVkIix2PXt9O2Z1bmN0aW9uIHkoKXt9ZnVuY3Rpb24gZCgpe31mdW5jdGlvbiBtKCl7fXZhciBnPXt9O2dbaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dmFyIHg9T2JqZWN0LmdldFByb3RvdHlwZU9mLHc9eCYmeCh4KFAoW10pKSk7dyYmdyE9PW4mJnIuY2FsbCh3LGkpJiYoZz13KTt2YXIgYj1tLnByb3RvdHlwZT15LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGcpO2Z1bmN0aW9uIE8odCl7WyJuZXh0IiwidGhyb3ciLCJyZXR1cm4iXS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX19KSl9ZnVuY3Rpb24gXyh0KXt2YXIgZTt0aGlzLl9pbnZva2U9ZnVuY3Rpb24obixvKXtmdW5jdGlvbiBpKCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLGkpeyFmdW5jdGlvbiBlKG4sbyxpLGEpe3ZhciB1PWModFtuXSx0LG8pO2lmKCJ0aHJvdyIhPT11LnR5cGUpe3ZhciBzPXUuYXJnLGY9cy52YWx1ZTtyZXR1cm4gZiYmIm9iamVjdCI9PT10eXBlb2YgZiYmci5jYWxsKGYsIl9fYXdhaXQiKT9Qcm9taXNlLnJlc29sdmUoZi5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih0KXtlKCJuZXh0Iix0LGksYSl9KSwoZnVuY3Rpb24odCl7ZSgidGhyb3ciLHQsaSxhKX0pKTpQcm9taXNlLnJlc29sdmUoZikudGhlbigoZnVuY3Rpb24odCl7cy52YWx1ZT10LGkocyl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGUoInRocm93Iix0LGksYSl9KSl9YSh1LmFyZyl9KG4sbyxlLGkpfSkpfXJldHVybiBlPWU/ZS50aGVuKGksaSk6aSgpfX1mdW5jdGlvbiBqKHQsbil7dmFyIHI9dC5pdGVyYXRvcltuLm1ldGhvZF07aWYocj09PWUpe2lmKG4uZGVsZWdhdGU9bnVsbCwidGhyb3ciPT09bi5tZXRob2Qpe2lmKHQuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9InJldHVybiIsbi5hcmc9ZSxqKHQsbiksInRocm93Ij09PW4ubWV0aG9kKSlyZXR1cm4gdjtuLm1ldGhvZD0idGhyb3ciLG4uYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2QiKX1yZXR1cm4gdn12YXIgbz1jKHIsdC5pdGVyYXRvcixuLmFyZyk7aWYoInRocm93Ij09PW8udHlwZSlyZXR1cm4gbi5tZXRob2Q9InRocm93IixuLmFyZz1vLmFyZyxuLmRlbGVnYXRlPW51bGwsdjt2YXIgaT1vLmFyZztyZXR1cm4gaT9pLmRvbmU/KG5bdC5yZXN1bHROYW1lXT1pLnZhbHVlLG4ubmV4dD10Lm5leHRMb2MsInJldHVybiIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPSJuZXh0IixuLmFyZz1lKSxuLmRlbGVnYXRlPW51bGwsdik6aToobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdCIpLG4uZGVsZWdhdGU9bnVsbCx2KX1mdW5jdGlvbiBFKHQpe3ZhciBlPXt0cnlMb2M6dFswXX07MSBpbiB0JiYoZS5jYXRjaExvYz10WzFdKSwyIGluIHQmJihlLmZpbmFsbHlMb2M9dFsyXSxlLmFmdGVyTG9jPXRbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKGUpfWZ1bmN0aW9uIFModCl7dmFyIGU9dC5jb21wbGV0aW9ufHx7fTtlLnR5cGU9Im5vcm1hbCIsZGVsZXRlIGUuYXJnLHQuY29tcGxldGlvbj1lfWZ1bmN0aW9uIGsodCl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLHQuZm9yRWFjaChFLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIFAodCl7aWYodCl7dmFyIG49dFtpXTtpZihuKXJldHVybiBuLmNhbGwodCk7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiB0Lm5leHQpcmV0dXJuIHQ7aWYoIWlzTmFOKHQubGVuZ3RoKSl7dmFyIG89LTEsYT1mdW5jdGlvbiBuKCl7Zm9yKDsrK288dC5sZW5ndGg7KWlmKHIuY2FsbCh0LG8pKXJldHVybiBuLnZhbHVlPXRbb10sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9ZSxuLmRvbmU9ITAsbn07cmV0dXJuIGEubmV4dD1hfX1yZXR1cm57bmV4dDpDfX1mdW5jdGlvbiBDKCl7cmV0dXJue3ZhbHVlOmUsZG9uZTohMH19cmV0dXJuIGQucHJvdG90eXBlPWIuY29uc3RydWN0b3I9bSxtLmNvbnN0cnVjdG9yPWQsbVt1XT1kLmRpc3BsYXlOYW1lPSJHZW5lcmF0b3JGdW5jdGlvbiIsdC5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPSJmdW5jdGlvbiI9PT10eXBlb2YgdCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4hIWUmJihlPT09ZHx8IkdlbmVyYXRvckZ1bmN0aW9uIj09PShlLmRpc3BsYXlOYW1lfHxlLm5hbWUpKX0sdC5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsbSk6KHQuX19wcm90b19fPW0sdSBpbiB0fHwodFt1XT0iR2VuZXJhdG9yRnVuY3Rpb24iKSksdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiKSx0fSx0LmF3cmFwPWZ1bmN0aW9uKHQpe3JldHVybntfX2F3YWl0OnR9fSxPKF8ucHJvdG90eXBlKSxfLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0LkFzeW5jSXRlcmF0b3I9Xyx0LmFzeW5jPWZ1bmN0aW9uKGUsbixyLG8pe3ZhciBpPW5ldyBfKHMoZSxuLHIsbykpO3JldHVybiB0LmlzR2VuZXJhdG9yRnVuY3Rpb24obik/aTppLm5leHQoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kb25lP3QudmFsdWU6aS5uZXh0KCl9KSl9LE8oYiksYlt1XT0iR2VuZXJhdG9yIixiW2ldPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBHZW5lcmF0b3JdIn0sdC5rZXlzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KWUucHVzaChuKTtyZXR1cm4gZS5yZXZlcnNlKCksZnVuY3Rpb24gbigpe2Zvcig7ZS5sZW5ndGg7KXt2YXIgcj1lLnBvcCgpO2lmKHIgaW4gdClyZXR1cm4gbi52YWx1ZT1yLG4uZG9uZT0hMSxufXJldHVybiBuLmRvbmU9ITAsbn19LHQudmFsdWVzPVAsay5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmsscmVzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9ZSx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz1lLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKFMpLCF0KWZvcih2YXIgbiBpbiB0aGlzKSJ0Ij09PW4uY2hhckF0KDApJiZyLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09ZSl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIHQ9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoInRocm93Ij09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbih0KXtpZih0aGlzLmRvbmUpdGhyb3cgdDt2YXIgbj10aGlzO2Z1bmN0aW9uIG8ocixvKXtyZXR1cm4gdS50eXBlPSJ0aHJvdyIsdS5hcmc9dCxuLm5leHQ9cixvJiYobi5tZXRob2Q9Im5leHQiLG4uYXJnPWUpLCEhb31mb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbaV0sdT1hLmNvbXBsZXRpb247aWYoInJvb3QiPT09YS50cnlMb2MpcmV0dXJuIG8oImVuZCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBzPXIuY2FsbChhLCJjYXRjaExvYyIpLGM9ci5jYWxsKGEsImZpbmFsbHlMb2MiKTtpZihzJiZjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9ZWxzZSBpZihzKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCFjKXRocm93IG5ldyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciBvPXRoaXMudHJ5RW50cmllc1tuXTtpZihvLnRyeUxvYzw9dGhpcy5wcmV2JiZyLmNhbGwobywiZmluYWxseUxvYyIpJiZ0aGlzLnByZXY8by5maW5hbGx5TG9jKXt2YXIgaT1vO2JyZWFrfX1pJiYoImJyZWFrIj09PXR8fCJjb250aW51ZSI9PT10KSYmaS50cnlMb2M8PWUmJmU8PWkuZmluYWxseUxvYyYmKGk9bnVsbCk7dmFyIGE9aT9pLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT10LGEuYXJnPWUsaT8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1pLmZpbmFsbHlMb2Msdik6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24odCxlKXtpZigidGhyb3ciPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiJicmVhayI9PT10LnR5cGV8fCJjb250aW51ZSI9PT10LnR5cGU/dGhpcy5uZXh0PXQuYXJnOiJyZXR1cm4iPT09dC50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9dC5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PXQudHlwZSYmZSYmKHRoaXMubmV4dD1lKSx2fSxmaW5pc2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4uZmluYWxseUxvYz09PXQpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLFMobiksdn19LGNhdGNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLnRyeUxvYz09PXQpe3ZhciByPW4uY29tcGxldGlvbjtpZigidGhyb3ciPT09ci50eXBlKXt2YXIgbz1yLmFyZztTKG4pfXJldHVybiBvfX10aHJvdyBuZXcgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6UCh0KSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPWUpLHZ9fSx0fSh0LmV4cG9ydHMpO3RyeXtyZWdlbmVyYXRvclJ1bnRpbWU9cn1jYXRjaChvKXtGdW5jdGlvbigiciIsInJlZ2VuZXJhdG9yUnVudGltZSA9IHIiKShyKX19LG01cU86ZnVuY3Rpb24odCxlLG4pe24oIndnZVUiKSxuKCJiQnk5IiksbigiT2M4USIpLG4oIkJVUkUiKSxuKCIranJ1IiksdC5leHBvcnRzPW4oIldFcGsiKS5XZWFrTWFwfSxtcWxGOmZ1bmN0aW9uKHQsZSl7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LG4za286ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjkzSTQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighcih0KXx8dC5fdCE9PWUpdGhyb3cgVHlwZUVycm9yKCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICIrZSsiIHJlcXVpcmVkISIpO3JldHVybiB0fX0sbk9IdDpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIlFldGQiKSxvPW4oIlhYT0siKSxpPW4oImIzQ1UiKSxhPW4oImhmS20iKSx1PW4oIjVVdXEiKSxzPW4oIktJNDUiKTtlLl9fZXNNb2R1bGU9ITAsZS51c2VSb3V0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gYy5kZWZhdWx0LnVzZUNvbnRleHQoaC5Sb3V0ZXJDb250ZXh0KX0sZS5tYWtlUHVibGljUm91dGVySW5zdGFuY2U9ZnVuY3Rpb24odCl7dmFyIGU9dCxuPXt9LGk9ITAsYT0hMSx1PXZvaWQgMDt0cnl7Zm9yKHZhciBzLGM9byh2KTshKGk9KHM9Yy5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBoPXMudmFsdWU7Im9iamVjdCIhPT10eXBlb2YgZVtoXT9uW2hdPWVbaF06bltoXT1yKHt9LGVbaF0pfX1jYXRjaChwKXthPSEwLHU9cH1maW5hbGx5e3RyeXtpfHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgdX19cmV0dXJuIG4uZXZlbnRzPWYuZGVmYXVsdC5ldmVudHMseS5mb3JFYWNoKChmdW5jdGlvbih0KXtuW3RdPWZ1bmN0aW9uKCl7cmV0dXJuIGVbdF0uYXBwbHkoZSxhcmd1bWVudHMpfX0pKSxufSxlLmNyZWF0ZVJvdXRlcj1lLndpdGhSb3V0ZXI9ZS5kZWZhdWx0PXZvaWQgMDt2YXIgYz1zKG4oInExdEkiKSksZj11KG4oImVseWciKSk7ZS5Sb3V0ZXI9Zi5kZWZhdWx0LGUuTmV4dFJvdXRlcj1mLk5leHRSb3V0ZXI7dmFyIGg9bigicU9JZyIpLHA9cyhuKCIwQnNtIikpO2Uud2l0aFJvdXRlcj1wLmRlZmF1bHQ7dmFyIGw9e3JvdXRlcjpudWxsLHJlYWR5Q2FsbGJhY2tzOltdLHJlYWR5OmZ1bmN0aW9uKHQpe2lmKHRoaXMucm91dGVyKXJldHVybiB0KCk7dGhpcy5yZWFkeUNhbGxiYWNrcy5wdXNoKHQpfX0sdj1bInBhdGhuYW1lIiwicm91dGUiLCJxdWVyeSIsImFzUGF0aCIsImNvbXBvbmVudHMiXSx5PVsicHVzaCIsInJlcGxhY2UiLCJyZWxvYWQiLCJiYWNrIiwicHJlZmV0Y2giLCJiZWZvcmVQb3BTdGF0ZSJdO2Z1bmN0aW9uIGQoKXtpZighbC5yb3V0ZXIpe3Rocm93IG5ldyBFcnJvcignTm8gcm91dGVyIGluc3RhbmNlIGZvdW5kLlxuWW91IHNob3VsZCBvbmx5IHVzZSAibmV4dC9yb3V0ZXIiIGluc2lkZSB0aGUgY2xpZW50IHNpZGUgb2YgeW91ciBhcHAuXG4nKX1yZXR1cm4gbC5yb3V0ZXJ9YShsLCJldmVudHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5kZWZhdWx0LmV2ZW50c319KSx2LmZvckVhY2goKGZ1bmN0aW9uKHQpe2EobCx0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZCgpW3RdfX0pfSkpLHkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bFt0XT1mdW5jdGlvbigpe3ZhciBlPWQoKTtyZXR1cm4gZVt0XS5hcHBseShlLGFyZ3VtZW50cyl9fSkpLFsicm91dGVDaGFuZ2VTdGFydCIsImJlZm9yZUhpc3RvcnlDaGFuZ2UiLCJyb3V0ZUNoYW5nZUNvbXBsZXRlIiwicm91dGVDaGFuZ2VFcnJvciIsImhhc2hDaGFuZ2VTdGFydCIsImhhc2hDaGFuZ2VDb21wbGV0ZSJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2wucmVhZHkoKGZ1bmN0aW9uKCl7Zi5kZWZhdWx0LmV2ZW50cy5vbih0LChmdW5jdGlvbigpe3ZhciBlPSJvbiIrdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnN1YnN0cmluZygxKSxuPWw7aWYobltlXSl0cnl7bltlXS5hcHBseShuLGFyZ3VtZW50cyl9Y2F0Y2gocil7Y29uc29sZS5lcnJvcigiRXJyb3Igd2hlbiBydW5uaW5nIHRoZSBSb3V0ZXIgZXZlbnQ6ICIrZSksY29uc29sZS5lcnJvcihyLm1lc3NhZ2UrIlxuIityLnN0YWNrKX19KSl9KSl9KSk7dmFyIG09bDtlLmRlZmF1bHQ9bTtlLmNyZWF0ZVJvdXRlcj1mdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO3JldHVybiBsLnJvdXRlcj1pKGYuZGVmYXVsdCxlKSxsLnJlYWR5Q2FsbGJhY2tzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0KCl9KSksbC5yZWFkeUNhbGxiYWNrcz1bXSxsLnJvdXRlcn19LG9WbWw6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjVLN1oiKSxvPW4oImZwQzUiKSxpPW4oIkZwSGEiKSxhPW4oIlZWbHgiKSgiSUVfUFJPVE8iKSx1PWZ1bmN0aW9uKCl7fSxzPWZ1bmN0aW9uKCl7dmFyIHQsZT1uKCJIc25zIikoImlmcmFtZSIpLHI9aS5sZW5ndGg7Zm9yKGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsbigiTXZ3QyIpLmFwcGVuZENoaWxkKGUpLGUuc3JjPSJqYXZhc2NyaXB0OiIsKHQ9ZS5jb250ZW50V2luZG93LmRvY3VtZW50KS5vcGVuKCksdC53cml0ZSgiPHNjcmlwdD5kb2N1bWVudC5GPU9iamVjdDxcL3NjcmlwdD4iKSx0LmNsb3NlKCkscz10LkY7ci0tOylkZWxldGUgcy5wcm90b3R5cGVbaVtyXV07cmV0dXJuIHMoKX07dC5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG51bGwhPT10Pyh1LnByb3RvdHlwZT1yKHQpLG49bmV3IHUsdS5wcm90b3R5cGU9bnVsbCxuW2FdPXQpOm49cygpLHZvaWQgMD09PWU/bjpvKG4sZSl9fSxvaW9SOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCIyR1RQIiksbz1uKCJzTndJIiksaT1uKCJOd0ozIiksYT1uKCI1SzdaIiksdT1uKCJ0RWVqIikscz1uKCJmTlpBIiksYz17fSxmPXt9OyhlPXQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixoLHApe3ZhciBsLHYseSxkLG09cD9mdW5jdGlvbigpe3JldHVybiB0fTpzKHQpLGc9cihuLGgsZT8yOjEpLHg9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgbSl0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKG0pKXtmb3IobD11KHQubGVuZ3RoKTtsPng7eCsrKWlmKChkPWU/ZyhhKHY9dFt4XSlbMF0sdlsxXSk6Zyh0W3hdKSk9PT1jfHxkPT09ZilyZXR1cm4gZH1lbHNlIGZvcih5PW0uY2FsbCh0KTshKHY9eS5uZXh0KCkpLmRvbmU7KWlmKChkPW8oeSxnLHYudmFsdWUsZSkpPT09Y3x8ZD09PWYpcmV0dXJuIGR9KS5CUkVBSz1jLGUuUkVUVVJOPWZ9LHAwWEI6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCI5QkRkIil9LHBMdHA6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCJpcTR2Iil9LHBiS1Q6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCJxaWpyIil9LHE2TEo6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjVUMlkiKSxvPW4oIlFYaGYiKS5zZXQsaT1yLk11dGF0aW9uT2JzZXJ2ZXJ8fHIuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixhPXIucHJvY2Vzcyx1PXIuUHJvbWlzZSxzPSJwcm9jZXNzIj09bigiYTB4dSIpKGEpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0LGUsbixjPWZ1bmN0aW9uKCl7dmFyIHIsbztmb3IocyYmKHI9YS5kb21haW4pJiZyLmV4aXQoKTt0Oyl7bz10LmZuLHQ9dC5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgdD9uKCk6ZT12b2lkIDAsaX19ZT12b2lkIDAsciYmci5lbnRlcigpfTtpZihzKW49ZnVuY3Rpb24oKXthLm5leHRUaWNrKGMpfTtlbHNlIGlmKCFpfHxyLm5hdmlnYXRvciYmci5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSlpZih1JiZ1LnJlc29sdmUpe3ZhciBmPXUucmVzb2x2ZSh2b2lkIDApO249ZnVuY3Rpb24oKXtmLnRoZW4oYyl9fWVsc2Ugbj1mdW5jdGlvbigpe28uY2FsbChyLGMpfTtlbHNle3ZhciBoPSEwLHA9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGMpLm9ic2VydmUocCx7Y2hhcmFjdGVyRGF0YTohMH0pLG49ZnVuY3Rpb24oKXtwLmRhdGE9aD0haH19cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBvPXtmbjpyLG5leHQ6dm9pZCAwfTtlJiYoZS5uZXh0PW8pLHR8fCh0PW8sbigpKSxlPW99fX0scU9JZzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oImhmS20iKSxvPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIG4gaW4gdClPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX07cihlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1vKG4oInExdEkiKSk7ZS5Sb3V0ZXJDb250ZXh0PWkuY3JlYXRlQ29udGV4dChudWxsKX0scWlqcjpmdW5jdGlvbih0LGUsbil7bigiY3p3aCIpLHQuZXhwb3J0cz1uKCJXRXBrIikuUmVmbGVjdC5jb25zdHJ1Y3R9LHJhVG06ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCI1VDJZIiksbz1uKCJZN1pDIiksaT1uKCI2LzFzIiksYT1uKCJLVXhQIiksdT1uKCJOZWdNIikscz1uKCJYSlUvIiksYz1uKCJvaW9SIiksZj1uKCJFWE1qIiksaD1uKCI5M0k0IikscD1uKCJSZktCIiksbD1uKCIyZmFFIikuZix2PW4oIlY3RXQiKSgwKSx5PW4oImptREgiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4sZCxtLGcpe3ZhciB4PXJbdF0sdz14LGI9bT8ic2V0IjoiYWRkIixPPXcmJncucHJvdG90eXBlLF89e307cmV0dXJuIHkmJiJmdW5jdGlvbiI9PXR5cGVvZiB3JiYoZ3x8Ty5mb3JFYWNoJiYhYSgoZnVuY3Rpb24oKXsobmV3IHcpLmVudHJpZXMoKS5uZXh0KCl9KSkpPyh3PWUoKGZ1bmN0aW9uKGUsbil7ZihlLHcsdCwiX2MiKSxlLl9jPW5ldyB4LHZvaWQgMCE9biYmYyhuLG0sZVtiXSxlKX0pKSx2KCJhZGQsY2xlYXIsZGVsZXRlLGZvckVhY2gsZ2V0LGhhcyxzZXQsa2V5cyx2YWx1ZXMsZW50cmllcyx0b0pTT04iLnNwbGl0KCIsIiksKGZ1bmN0aW9uKHQpe3ZhciBlPSJhZGQiPT10fHwic2V0Ij09dDt0IGluIE8mJighZ3x8ImNsZWFyIiE9dCkmJnUody5wcm90b3R5cGUsdCwoZnVuY3Rpb24obixyKXtpZihmKHRoaXMsdyx0KSwhZSYmZyYmIWgobikpcmV0dXJuImdldCI9PXQmJnZvaWQgMDt2YXIgbz10aGlzLl9jW3RdKDA9PT1uPzA6bixyKTtyZXR1cm4gZT90aGlzOm99KSl9KSksZ3x8bCh3LnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jLnNpemV9fSkpOih3PWQuZ2V0Q29uc3RydWN0b3IoZSx0LG0sYikscyh3LnByb3RvdHlwZSxuKSxpLk5FRUQ9ITApLHAodyx0KSxfW3RdPXcsbyhvLkcrby5XK28uRixfKSxnfHxkLnNldFN0cm9uZyh3LHQsbSksd319LHJyMWk6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSxzNE5SOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZS5kZWNvZGU9ZS5wYXJzZT1uKCJrZDJFIiksZS5lbmNvZGU9ZS5zdHJpbmdpZnk9bigiNEpsRCIpfSxzTndJOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI1SzdaIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLG8pe3RyeXtyZXR1cm4gbz9lKHIobilbMF0sblsxXSk6ZShuKX1jYXRjaChhKXt2YXIgaT10LnJldHVybjt0aHJvdyB2b2lkIDAhPT1pJiZyKGkuY2FsbCh0KSksYX19fSx0RWVqOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJPamdkIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MD9vKHIodCksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHVPUFM6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ITB9LHY1RGQ6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIk5zTy8iKSxvPW4oInZ3dUwiKS5mO24oInpuN04iKSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gbyhyKHQpLGUpfX0pKX0sdjZ4bjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiQzJTTiIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcocih0KSkoZSl9fSx2QlA5OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCI1VDJZIikubmF2aWdhdG9yO3QuZXhwb3J0cz1yJiZyLnVzZXJBZ2VudHx8IiJ9LHZqZWE6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIlRSWngiKTtmdW5jdGlvbiBvKGUsbil7cmV0dXJuIHQuZXhwb3J0cz1vPXJ8fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sbyhlLG4pfXQuZXhwb3J0cz1vfSx2d3VMOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJOVjBrIiksbz1uKCJycjFpIiksaT1uKCJOc08vIiksYT1uKCJHOE1vIiksdT1uKCJCK09UIikscz1uKCJlVXRGIiksYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2UuZj1uKCJqbURIIik/YzpmdW5jdGlvbih0LGUpe2lmKHQ9aSh0KSxlPWEoZSwhMCkscyl0cnl7cmV0dXJuIGModCxlKX1jYXRjaChuKXt9aWYodSh0LGUpKXJldHVybiBvKCFyLmYuY2FsbCh0LGUpLHRbZV0pfX0sIncyZCsiOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiaERhbSIpLG89bigiVU8zOSIpLGk9bigiU0J1RSIpLGE9bigiTnNPLyIpO3QuZXhwb3J0cz1uKCJNUEZwIikoQXJyYXksIkFycmF5IiwoZnVuY3Rpb24odCxlKXt0aGlzLl90PWEodCksdGhpcy5faT0wLHRoaXMuX2s9ZX0pLChmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3QsZT10aGlzLl9rLG49dGhpcy5faSsrO3JldHVybiF0fHxuPj10Lmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6bygwLCJrZXlzIj09ZT9uOiJ2YWx1ZXMiPT1lP3Rbbl06W24sdFtuXV0pfSksInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXkscigia2V5cyIpLHIoInZhbHVlcyIpLHIoImVudHJpZXMiKX0sdzZHTzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiNXZNViIpLG89bigiRnBIYSIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7cmV0dXJuIHIodCxvKX19LHdZbXg6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJlYW9oIiksbz1uKCI5M0k0IiksaT1uKCJNQ1NKIiksYT1bXS5zbGljZSx1PXt9LHM9ZnVuY3Rpb24odCxlLG4pe2lmKCEoZSBpbiB1KSl7Zm9yKHZhciByPVtdLG89MDtvPGU7bysrKXJbb109ImFbIitvKyJdIjt1W2VdPUZ1bmN0aW9uKCJGLGEiLCJyZXR1cm4gbmV3IEYoIityLmpvaW4oIiwiKSsiKSIpfXJldHVybiB1W2VdKHQsbil9O3QuZXhwb3J0cz1GdW5jdGlvbi5iaW5kfHxmdW5jdGlvbih0KXt2YXIgZT1yKHRoaXMpLG49YS5jYWxsKGFyZ3VtZW50cywxKSx1PWZ1bmN0aW9uKCl7dmFyIHI9bi5jb25jYXQoYS5jYWxsKGFyZ3VtZW50cykpO3JldHVybiB0aGlzIGluc3RhbmNlb2YgdT9zKGUsci5sZW5ndGgscik6aShlLHIsdCl9O3JldHVybiBvKGUucHJvdG90eXBlKSYmKHUucHJvdG90eXBlPWUucHJvdG90eXBlKSx1fX0sd2dlVTpmdW5jdGlvbih0LGUpe30seUxwajpmdW5jdGlvbih0LGUpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxuZXcgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKX1jYXRjaChyKXsib2JqZWN0Ij09PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9dC5leHBvcnRzPW59LHlMdTM6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCJWS0ZuIil9LHpMa0c6ZnVuY3Rpb24odCxlLG4pe2UuZj1uKCJVV2lYIil9LHpYaFo6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIjVLN1oiKSxvPW4oIjkzSTQiKSxpPW4oIlpXNXEiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihyKHQpLG8oZSkmJmUuY29uc3RydWN0b3I9PT10KXJldHVybiBlO3ZhciBuPWkuZih0KTtyZXR1cm4oMCxuLnJlc29sdmUpKGUpLG4ucHJvbWlzZX19LHpuN046ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIlk3WkMiKSxvPW4oIldFcGsiKSxpPW4oIktVeFAiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj0oby5PYmplY3R8fHt9KVt0XXx8T2JqZWN0W3RdLGE9e307YVt0XT1lKG4pLHIoci5TK3IuRippKChmdW5jdGlvbigpe24oMSl9KSksIk9iamVjdCIsYSl9fX1dKTs=" async=""></script><script src="data:application/javascript;charset=UTF-8;base64,KHdpbmRvdy53ZWJwYWNrSnNvbnA9d2luZG93LndlYnBhY2tKc29ucHx8W10pLnB1c2goW1sxNF0seyIrcGxLIjpmdW5jdGlvbihlLHQscil7cigiQXBQRCIpLGUuZXhwb3J0cz1yKCJXRXBrIikuT2JqZWN0LmdldFByb3RvdHlwZU9mfSwiLytQNCI6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoIkJodXEiKSxhPXIoIlRSWngiKTtmdW5jdGlvbiBvKHQpe3JldHVybiBlLmV4cG9ydHM9bz1hP246ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxuKGUpfSxvKHQpfWUuZXhwb3J0cz1vfSxBcFBEOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKCJKQjY4IiksYT1yKCJVK0tEIik7cigiem43TiIpKCJnZXRQcm90b3R5cGVPZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBhKG4oZSkpfX0pKX0sQk1QMTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoIjVVdXEiKShyKCJJS2x2IikpO3dpbmRvdy5uZXh0PW4sKDAsbi5kZWZhdWx0KSgpLmNhdGNoKChmdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKGUubWVzc2FnZSsiXG4iK2Uuc3RhY2spfSkpfSxCaHVxOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cigiK3BsSyIpfSxEcVRYOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigiZVZ1RiIpLGE9cigiL0hSTiIpLG89cigiV2FHaSIpO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPXthY2NlcHRDaGFyc2V0OiJhY2NlcHQtY2hhcnNldCIsY2xhc3NOYW1lOiJjbGFzcyIsaHRtbEZvcjoiZm9yIixodHRwRXF1aXY6Imh0dHAtZXF1aXYifSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PXRoaXM7YSh0aGlzLGUpLHRoaXMudXBkYXRlSGVhZD1mdW5jdGlvbihlKXt2YXIgcj10LnVwZGF0ZVByb21pc2U9bi5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyPT09dC51cGRhdGVQcm9taXNlJiYodC51cGRhdGVQcm9taXNlPW51bGwsdC5kb1VwZGF0ZUhlYWQoZSkpfSkpfSx0aGlzLnVwZGF0ZVByb21pc2U9bnVsbH1yZXR1cm4gbyhlLFt7a2V5OiJkb1VwZGF0ZUhlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17fTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXJbZS50eXBlXXx8W107dC5wdXNoKGUpLHJbZS50eXBlXT10fSkpLHRoaXMudXBkYXRlVGl0bGUoci50aXRsZT9yLnRpdGxlWzBdOm51bGwpO1sibWV0YSIsImJhc2UiLCJsaW5rIiwic3R5bGUiLCJzY3JpcHQiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnVwZGF0ZUVsZW1lbnRzKGUscltlXXx8W10pfSkpfX0se2tleToidXBkYXRlVGl0bGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSIiO2lmKGUpe3ZhciByPWUucHJvcHMuY2hpbGRyZW47dD0ic3RyaW5nIj09PXR5cGVvZiByP3I6ci5qb2luKCIiKX10IT09ZG9jdW1lbnQudGl0bGUmJihkb2N1bWVudC50aXRsZT10KX19LHtrZXk6InVwZGF0ZUVsZW1lbnRzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0sbj1yLnF1ZXJ5U2VsZWN0b3IoIm1ldGFbbmFtZT1uZXh0LWhlYWQtY291bnRdIik7Zm9yKHZhciBhPU51bWJlcihuLmNvbnRlbnQpLG89W10saT0wLHU9bi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO2k8YTtpKyssdT11LnByZXZpb3VzRWxlbWVudFNpYmxpbmcpdS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1lJiZvLnB1c2godSk7dmFyIHM9dC5tYXAoYykuZmlsdGVyKChmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPW8ubGVuZ3RoO3Q8cjt0Kyspe2lmKG9bdF0uaXNFcXVhbE5vZGUoZSkpcmV0dXJuIG8uc3BsaWNlKHQsMSksITF9cmV0dXJuITB9KSk7by5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfSkpLHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIuaW5zZXJ0QmVmb3JlKGUsbil9KSksbi5jb250ZW50PShhLW8ubGVuZ3RoK3MubGVuZ3RoKS50b1N0cmluZygpfX1dKSxlfSgpO2Z1bmN0aW9uIGMoZSl7dmFyIHQ9ZS50eXBlLHI9ZS5wcm9wcyxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodCk7Zm9yKHZhciBhIGluIHIpaWYoci5oYXNPd25Qcm9wZXJ0eShhKSYmImNoaWxkcmVuIiE9PWEmJiJkYW5nZXJvdXNseVNldElubmVySFRNTCIhPT1hKXt2YXIgbz1pW2FdfHxhLnRvTG93ZXJDYXNlKCk7bi5zZXRBdHRyaWJ1dGUobyxyW2FdKX12YXIgdT1yLmNoaWxkcmVuLGM9ci5kYW5nZXJvdXNseVNldElubmVySFRNTDtyZXR1cm4gYz9uLmlubmVySFRNTD1jLl9faHRtbHx8IiI6dSYmKG4udGV4dENvbnRlbnQ9InN0cmluZyI9PT10eXBlb2YgdT91OnUuam9pbigiIikpLG59dC5kZWZhdWx0PXV9LEZZYTg6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKCJoZkttIiksYT10aGlzJiZ0aGlzLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9O24odCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89YShyKCJxMXRJIikpO3QuSGVhZE1hbmFnZXJDb250ZXh0PW8uY3JlYXRlQ29udGV4dChudWxsKX0sSUtsdjpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoImxuNmgiKSxhPShyKCJlVnVGIikscigiL0hSTiIpKSxvPXIoIldhR2kiKSxpPXIoIlpEQTIiKSx1PXIoIi8rUDQiKSxjPXIoIk45bjIiKSxzPXIoIjgrTnUiKSxwPXIoIjVVdXEiKSxmPXIoIktJNDUiKTt0Ll9fZXNNb2R1bGU9ITAsdC5yZW5kZXI9Vix0LnJlbmRlckVycm9yPVcsdC5kZWZhdWx0PXQuZW1pdHRlcj10LnJvdXRlcj10LnZlcnNpb249dm9pZCAwO3ZhciBsPWYocigiaHRHaSIpKSxkPShmKHIoIjVVdXEiKSksZihyKCJxMXRJIikpKSxoPWYocigiaThpNCIpKSxtPWYocigiRHFUWCIpKSx2PXIoIm5PSHQiKSxnPWYocigiZFo2WSIpKSx5PXIoImcvMTUiKSxFPWYocigiem12TiIpKSxfPXAocigieUxpWSIpKSx3PXIoIkZZYTgiKSx4PXIoInFPSWciKSxiPXIoInM0TlIiKSxQPXIoIi9qa1ciKTt3aW5kb3cuUHJvbWlzZXx8KHdpbmRvdy5Qcm9taXNlPXIoImVWdUYiKSk7dmFyIFI9SlNPTi5wYXJzZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiX19ORVhUX0RBVEFfXyIpLnRleHRDb250ZW50KTt3aW5kb3cuX19ORVhUX0RBVEFfXz1SO3QudmVyc2lvbj0iOS4yLjEiO3ZhciBOPVIucHJvcHMsQz1SLmVycixrPVIucGFnZSxUPVIucXVlcnksST1SLmJ1aWxkSWQsUz1SLmFzc2V0UHJlZml4LEE9Ui5ydW50aW1lQ29uZmlnLEQ9Ui5keW5hbWljSWRzLGo9U3x8IiI7ci5wPWorIi9fbmV4dC8iLF8uc2V0Q29uZmlnKHtzZXJ2ZXJSdW50aW1lQ29uZmlnOnt9LHB1YmxpY1J1bnRpbWVDb25maWc6QXx8e319KTt2YXIgcT0oMCx5LmdldFVSTCkoKSxCPW5ldyBFLmRlZmF1bHQoSSxqKSxNPWZ1bmN0aW9uKGUpe3ZhciB0PXMoZSwyKSxyPXRbMF0sbj10WzFdO3JldHVybiBCLnJlZ2lzdGVyUGFnZShyLG4pfTt3aW5kb3cuX19ORVhUX1AmJndpbmRvdy5fX05FWFRfUC5tYXAoTSksd2luZG93Ll9fTkVYVF9QPVtdLHdpbmRvdy5fX05FWFRfUC5wdXNoPU07dmFyIEgsVSxPLEwsRixYLEs9bmV3IG0uZGVmYXVsdCxaPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJfX25leHQiKTt0LnJvdXRlcj1VO3ZhciBHPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gYSh0aGlzLHQpLGkodGhpcyx1KHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGModCxlKSxvKHQsW3trZXk6ImNvbXBvbmVudERpZENhdGNoIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMucHJvcHMuZm4oZSx0KX19LHtrZXk6ImNvbXBvbmVudERpZE1vdW50Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2Nyb2xsVG9IYXNoKCksKFIubmV4dEV4cG9ydCYmKCgwLFAuaXNEeW5hbWljUm91dGUpKFUucGF0aG5hbWUpfHxsb2NhdGlvbi5zZWFyY2gpfHxMJiZMLl9fTl9TU0cmJmxvY2F0aW9uLnNlYXJjaCkmJlUucmVwbGFjZShVLnBhdGhuYW1lKyI/IisoMCxiLnN0cmluZ2lmeSkoKDAsbC5kZWZhdWx0KSh7fSxVLnF1ZXJ5LHt9LCgwLGIucGFyc2UpKGxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkpKSkscSx7X2g6MSxzaGFsbG93OiEwfSl9fSx7a2V5OiJjb21wb25lbnREaWRVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxUb0hhc2goKX19LHtrZXk6InNjcm9sbFRvSGFzaCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1sb2NhdGlvbi5oYXNoO2lmKGU9ZSYmZS5zdWJzdHJpbmcoMSkpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO3QmJnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuc2Nyb2xsSW50b1ZpZXcoKX0pLDApfX19LHtrZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbn19XSksdH0oZC5kZWZhdWx0LkNvbXBvbmVudCksWT0oMCxnLmRlZmF1bHQpKCk7dC5lbWl0dGVyPVk7ZnVuY3Rpb24gVihlKXtyZXR1cm4gbi5hc3luYygoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoIWUuZXJyKXt0Lm5leHQ9NDticmVha31yZXR1cm4gdC5uZXh0PTMsbi5hd3JhcChXKGUpKTtjYXNlIDM6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iKTtjYXNlIDQ6cmV0dXJuIHQucHJldj00LHQubmV4dD03LG4uYXdyYXAobmUoZSkpO2Nhc2UgNzp0Lm5leHQ9MTM7YnJlYWs7Y2FzZSA5OnJldHVybiB0LnByZXY9OSx0LnQwPXQuY2F0Y2goNCksdC5uZXh0PTEzLG4uYXdyYXAoVygoMCxsLmRlZmF1bHQpKHt9LGUse2Vycjp0LnQwfSkpKTtjYXNlIDEzOmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksbnVsbCxudWxsLFtbNCw5XV0pfWZ1bmN0aW9uIFcoZSl7dmFyIHQscixhLG8saTtyZXR1cm4gbi5hc3luYygoZnVuY3Rpb24odSl7Zm9yKDs7KXN3aXRjaCh1LnByZXY9dS5uZXh0KXtjYXNlIDA6dD1lLkFwcCxyPWUuZXJyLHUubmV4dD0zO2JyZWFrO2Nhc2UgMzpyZXR1cm4gY29uc29sZS5lcnJvcihyKSx1Lm5leHQ9NyxuLmF3cmFwKEIubG9hZFBhZ2UoIi9fZXJyb3IiKSk7Y2FzZSA3OmlmKE89dS5zZW50LGE9cmUodCksbz17Q29tcG9uZW50Ok8sQXBwVHJlZTphLHJvdXRlcjpVLGN0eDp7ZXJyOnIscGF0aG5hbWU6ayxxdWVyeTpULGFzUGF0aDpxLEFwcFRyZWU6YX19LCFlLnByb3BzKXt1Lm5leHQ9MTQ7YnJlYWt9dS50MD1lLnByb3BzLHUubmV4dD0xNzticmVhaztjYXNlIDE0OnJldHVybiB1Lm5leHQ9MTYsbi5hd3JhcCgoMCx5LmxvYWRHZXRJbml0aWFsUHJvcHMpKHQsbykpO2Nhc2UgMTY6dS50MD11LnNlbnQ7Y2FzZSAxNzpyZXR1cm4gaT11LnQwLHUubmV4dD0yMCxuLmF3cmFwKG5lKCgwLGwuZGVmYXVsdCkoe30sZSx7ZXJyOnIsQ29tcG9uZW50Ok8scHJvcHM6aX0pKSk7Y2FzZSAyMDpjYXNlImVuZCI6cmV0dXJuIHUuc3RvcCgpfX0pKX10LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHIsYSxvLGk7cmV0dXJuIG4uYXN5bmMoKGZ1bmN0aW9uKHUpe2Zvcig7Oylzd2l0Y2godS5wcmV2PXUubmV4dCl7Y2FzZSAwOnJldHVybih2b2lkIDA9PT1lP3t9OmUpLndlYnBhY2tITVIsdS5uZXh0PTQsbi5hd3JhcChCLmxvYWRQYWdlU2NyaXB0KCIvX2FwcCIpKTtjYXNlIDQ6cmV0dXJuIHI9dS5zZW50LGE9ci5wYWdlLG89ci5tb2QsRj1hLG8mJm8udW5zdGFibGVfb25QZXJmb3JtYW5jZURhdGEmJihYPWZ1bmN0aW9uKGUpe3ZhciB0PWUubmFtZSxyPWUuc3RhcnRUaW1lLG49ZS52YWx1ZSxhPWUuZHVyYXRpb247by51bnN0YWJsZV9vblBlcmZvcm1hbmNlRGF0YSh7bmFtZTp0LHN0YXJ0VGltZTpyLHZhbHVlOm4sZHVyYXRpb246YX0pfSksaT1DLHUucHJldj0xMCx1Lm5leHQ9MTMsbi5hd3JhcChCLmxvYWRQYWdlKGspKTtjYXNlIDEzOkw9dS5zZW50LHUubmV4dD0xODticmVhaztjYXNlIDE4OnUubmV4dD0yMzticmVhaztjYXNlIDIwOnUucHJldj0yMCx1LnQwPXUuY2F0Y2goMTApLGk9dS50MDtjYXNlIDIzOmlmKCF3aW5kb3cuX19ORVhUX1BSRUxPQURSRUFEWSl7dS5uZXh0PTI2O2JyZWFrfXJldHVybiB1Lm5leHQ9MjYsbi5hd3JhcCh3aW5kb3cuX19ORVhUX1BSRUxPQURSRUFEWShEKSk7Y2FzZSAyNjpyZXR1cm4gdC5yb3V0ZXI9VT0oMCx2LmNyZWF0ZVJvdXRlcikoayxULHEse2luaXRpYWxQcm9wczpOLHBhZ2VMb2FkZXI6QixBcHA6RixDb21wb25lbnQ6TCx3cmFwQXBwOnJlLGVycjppLHN1YnNjcmlwdGlvbjpmdW5jdGlvbihlLHQpe1Yoe0FwcDp0LENvbXBvbmVudDplLkNvbXBvbmVudCxwcm9wczplLnByb3BzLGVycjplLmVycn0pfX0pLFYoe0FwcDpGLENvbXBvbmVudDpMLHByb3BzOk4sZXJyOml9KSx1LmFicnVwdCgicmV0dXJuIixZKTtjYXNlIDMyOnUubmV4dD0zNDticmVhaztjYXNlIDM0OmNhc2UiZW5kIjpyZXR1cm4gdS5zdG9wKCl9fSksbnVsbCxudWxsLFtbMTAsMjBdXSl9O3ZhciAkPSJmdW5jdGlvbiI9PT10eXBlb2YgaC5kZWZhdWx0Lmh5ZHJhdGU7ZnVuY3Rpb24gSihlLHQpe2lmKHkuU1QmJnBlcmZvcm1hbmNlLm1hcmsoImJlZm9yZVJlbmRlciIpLCQ/KGguZGVmYXVsdC5oeWRyYXRlKGUsdCx6KSwkPSExKTpoLmRlZmF1bHQucmVuZGVyKGUsdCxRKSxYJiZ5LlNUKXRyeXtuZXcgUGVyZm9ybWFuY2VPYnNlcnZlcigoZnVuY3Rpb24oZSl7ZS5nZXRFbnRyaWVzKCkuZm9yRWFjaChYKX0pKS5vYnNlcnZlKHt0eXBlOiJwYWludCIsYnVmZmVyZWQ6ITB9KX1jYXRjaChyKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsKGZ1bmN0aW9uKCl7cGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZSgicGFpbnQiKS5mb3JFYWNoKFgpfSkpfX1mdW5jdGlvbiB6KCl7eS5TVCYmKHBlcmZvcm1hbmNlLm1hcmsoImFmdGVySHlkcmF0ZSIpLHBlcmZvcm1hbmNlLm1lYXN1cmUoIk5leHQuanMtYmVmb3JlLWh5ZHJhdGlvbiIsIm5hdmlnYXRpb25TdGFydCIsImJlZm9yZVJlbmRlciIpLHBlcmZvcm1hbmNlLm1lYXN1cmUoIk5leHQuanMtaHlkcmF0aW9uIiwiYmVmb3JlUmVuZGVyIiwiYWZ0ZXJIeWRyYXRlIiksWCYmKHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoIk5leHQuanMtaHlkcmF0aW9uIikuZm9yRWFjaChYKSxwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lKCJiZWZvcmVSZW5kZXIiKS5mb3JFYWNoKFgpKSxlZSgpKX1mdW5jdGlvbiBRKCl7aWYoeS5TVCl7cGVyZm9ybWFuY2UubWFyaygiYWZ0ZXJSZW5kZXIiKTt2YXIgZT1wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lKCJyb3V0ZUNoYW5nZSIsIm1hcmsiKTtlLmxlbmd0aCYmKHBlcmZvcm1hbmNlLm1lYXN1cmUoIk5leHQuanMtcm91dGUtY2hhbmdlLXRvLXJlbmRlciIsZVswXS5uYW1lLCJiZWZvcmVSZW5kZXIiKSxwZXJmb3JtYW5jZS5tZWFzdXJlKCJOZXh0LmpzLXJlbmRlciIsImJlZm9yZVJlbmRlciIsImFmdGVyUmVuZGVyIiksWCYmKHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoIk5leHQuanMtcmVuZGVyIikuZm9yRWFjaChYKSxwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lKCJOZXh0LmpzLXJvdXRlLWNoYW5nZS10by1yZW5kZXIiKS5mb3JFYWNoKFgpKSxlZSgpKX19ZnVuY3Rpb24gZWUoKXtbImJlZm9yZVJlbmRlciIsImFmdGVySHlkcmF0ZSIsImFmdGVyUmVuZGVyIiwicm91dGVDaGFuZ2UiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gcGVyZm9ybWFuY2UuY2xlYXJNYXJrcyhlKX0pKSxbIk5leHQuanMtYmVmb3JlLWh5ZHJhdGlvbiIsIk5leHQuanMtaHlkcmF0aW9uIiwiTmV4dC5qcy1yb3V0ZS1jaGFuZ2UtdG8tcmVuZGVyIiwiTmV4dC5qcy1yZW5kZXIiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gcGVyZm9ybWFuY2UuY2xlYXJNZWFzdXJlcyhlKX0pKX1mdW5jdGlvbiB0ZShlKXt2YXIgdD1lLmNoaWxkcmVuO3JldHVybiBkLmRlZmF1bHQuY3JlYXRlRWxlbWVudChHLHtmbjpmdW5jdGlvbihlKXtyZXR1cm4gVyh7QXBwOkYsZXJyOmV9KS5jYXRjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoIkVycm9yIHJlbmRlcmluZyBwYWdlOiAiLGUpfSkpfX0sZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoeC5Sb3V0ZXJDb250ZXh0LlByb3ZpZGVyLHt2YWx1ZTooMCx2Lm1ha2VQdWJsaWNSb3V0ZXJJbnN0YW5jZSkoVSl9LGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHcuSGVhZE1hbmFnZXJDb250ZXh0LlByb3ZpZGVyLHt2YWx1ZTpLLnVwZGF0ZUhlYWR9LHQpKSl9dmFyIHJlPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgcj0oMCxsLmRlZmF1bHQpKHt9LHQse0NvbXBvbmVudDpMLGVycjpDLHJvdXRlcjpVfSk7cmV0dXJuIGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHRlLG51bGwsZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoZSxyKSl9fTtmdW5jdGlvbiBuZShlKXt2YXIgdCxyLGEsbyxpLHUsYyxzLHAsZixoO3JldHVybiBuLmFzeW5jKChmdW5jdGlvbihtKXtmb3IoOzspc3dpdGNoKG0ucHJldj1tLm5leHQpe2Nhc2UgMDppZih0PWUuQXBwLHI9ZS5Db21wb25lbnQsYT1lLnByb3BzLG89ZS5lcnIsYXx8IXJ8fHI9PT1PfHxILkNvbXBvbmVudCE9PU8pe20ubmV4dD04O2JyZWFrfXJldHVybiB1PShpPVUpLnBhdGhuYW1lLGM9aS5xdWVyeSxzPWkuYXNQYXRoLHA9cmUodCksZj17cm91dGVyOlUsQXBwVHJlZTpwLENvbXBvbmVudDpPLGN0eDp7ZXJyOm8scGF0aG5hbWU6dSxxdWVyeTpjLGFzUGF0aDpzLEFwcFRyZWU6cH19LG0ubmV4dD03LG4uYXdyYXAoKDAseS5sb2FkR2V0SW5pdGlhbFByb3BzKSh0LGYpKTtjYXNlIDc6YT1tLnNlbnQ7Y2FzZSA4OnI9cnx8SC5Db21wb25lbnQsYT1hfHxILnByb3BzLGg9KDAsbC5kZWZhdWx0KSh7fSxhLHtDb21wb25lbnQ6cixlcnI6byxyb3V0ZXI6VX0pLEg9aCxZLmVtaXQoImJlZm9yZS1yZWFjdGRvbS1yZW5kZXIiLHtDb21wb25lbnQ6cixFcnJvckNvbXBvbmVudDpPLGFwcFByb3BzOmh9KSxKKGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHRlLG51bGwsZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodCxoKSksWiksWS5lbWl0KCJhZnRlci1yZWFjdGRvbS1yZW5kZXIiLHtDb21wb25lbnQ6cixFcnJvckNvbXBvbmVudDpPLGFwcFByb3BzOmh9KTtjYXNlIDE2OmNhc2UiZW5kIjpyZXR1cm4gbS5zdG9wKCl9fSkpfX0sSzQ3RTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIGV9fSxOOW4yOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKCJTcVpnIiksYT1yKCJ2amVhIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9PXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO2UucHJvdG90eXBlPW4odCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZhKGUsdCl9fSxVWFpWOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cigiVWJiRSIpfSxVYmJFOmZ1bmN0aW9uKGUsdCxyKXtyKCJvOE5IIiksZS5leHBvcnRzPXIoIldFcGsiKS5PYmplY3QuYXNzaWdufSxaREEyOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKCJpWlAzIiksYT1yKCJLNDdFIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIXR8fCJvYmplY3QiIT09bih0KSYmImZ1bmN0aW9uIiE9PXR5cGVvZiB0P2EoZSk6dH19LGh0R2k6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoIlVYWlYiKTtmdW5jdGlvbiBhKCl7cmV0dXJuIGUuZXhwb3J0cz1hPW58fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9LGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfWUuZXhwb3J0cz1hfSxvOE5IOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKCJZN1pDIik7bihuLlMrbi5GLCJPYmplY3QiLHthc3NpZ246cigia3daMSIpfSl9LHlMaVk6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbjtyKCJoZkttIikodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIG59LHQuc2V0Q29uZmlnPWZ1bmN0aW9uKGUpe249ZX19LHptdk46ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKCIvSFJOIiksYT1yKCJXYUdpIiksbz1yKCJlVnVGIiksaT1yKCJLSTQ1Iik7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIHU9aShyKCJkWjZZIikpO2Z1bmN0aW9uIGMoZSx0KXt0cnl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpbmsiKS5yZWxMaXN0LnN1cHBvcnRzKGUpfWNhdGNoKHIpe319dmFyIHM9YygicHJlbG9hZCIpJiYhYygicHJlZmV0Y2giKT8icHJlbG9hZCI6InByZWZldGNoIjtkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtmdW5jdGlvbiBwKGUpe2lmKCIvIiE9PWVbMF0pdGhyb3cgbmV3IEVycm9yKCdSb3V0ZSBuYW1lIHNob3VsZCBzdGFydCB3aXRoIGEgIi8iLCBnb3QgIicrZSsnIicpO3JldHVybiIvIj09PShlPWUucmVwbGFjZSgvXC9pbmRleCQvLCIvIikpP2U6ZS5yZXBsYWNlKC9cLyQvLCIiKX1mdW5jdGlvbiBmKGUsdCxyKXtyZXR1cm4gbmV3IG8oKGZ1bmN0aW9uKG4sYSxvKXsobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIikpLmNyb3NzT3JpZ2luPXZvaWQgMCxvLmhyZWY9ZSxvLnJlbD10LHImJihvLmFzPXIpLG8ub25sb2FkPW4sby5vbmVycm9yPWEsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChvKX0pKX12YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXtuKHRoaXMsZSksdGhpcy5idWlsZElkPXQsdGhpcy5hc3NldFByZWZpeD1yLHRoaXMucGFnZUNhY2hlPXt9LHRoaXMucGFnZVJlZ2lzdGVyRXZlbnRzPSgwLHUuZGVmYXVsdCkoKSx0aGlzLmxvYWRpbmdSb3V0ZXM9e30sdGhpcy5wcm9taXNlZEJ1aWxkTWFuaWZlc3Q9bmV3IG8oKGZ1bmN0aW9uKGUpe3dpbmRvdy5fX0JVSUxEX01BTklGRVNUP2Uod2luZG93Ll9fQlVJTERfTUFOSUZFU1QpOndpbmRvdy5fX0JVSUxEX01BTklGRVNUX0NCPWZ1bmN0aW9uKCl7ZSh3aW5kb3cuX19CVUlMRF9NQU5JRkVTVCl9fSkpfXJldHVybiBhKGUsW3trZXk6ImdldERlcGVuZGVuY2llcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5wcm9taXNlZEJ1aWxkTWFuaWZlc3QudGhlbigoZnVuY3Rpb24ocil7cmV0dXJuIHJbZV0mJnJbZV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5hc3NldFByZWZpeCsiL19uZXh0LyIrZW5jb2RlVVJJKGUpfSkpfHxbXX0pKX19LHtrZXk6ImxvYWRQYWdlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sb2FkUGFnZVNjcmlwdChlKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYWdlfSkpfX0se2tleToibG9hZFBhZ2VTY3JpcHQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGU9cChlKSxuZXcgbygoZnVuY3Rpb24ocixuKXt2YXIgYT10LnBhZ2VDYWNoZVtlXTtpZihhKXt2YXIgbz1hLmVycm9yLGk9YS5wYWdlLHU9YS5tb2Q7bz9uKG8pOnIoe3BhZ2U6aSxtb2Q6dX0pfWVsc2UgdC5wYWdlUmVnaXN0ZXJFdmVudHMub24oZSwoZnVuY3Rpb24gYShvKXt2YXIgaT1vLmVycm9yLHU9by5wYWdlLGM9by5tb2Q7dC5wYWdlUmVnaXN0ZXJFdmVudHMub2ZmKGUsYSksZGVsZXRlIHQubG9hZGluZ1JvdXRlc1tlXSxpP24oaSk6cih7cGFnZTp1LG1vZDpjfSl9KSksZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2NyaXB0W2RhdGEtbmV4dC1wYWdlPSInK2UrJyJdJyl8fHQubG9hZGluZ1JvdXRlc1tlXXx8KHQubG9hZGluZ1JvdXRlc1tlXT0hMCx0LmdldERlcGVuZGVuY2llcyhlKS50aGVuKChmdW5jdGlvbihyKXtyLmZvckVhY2goKGZ1bmN0aW9uKHIpey9cLmpzJC8udGVzdChyKSYmIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtzcmNePSInK3IrJyJdJykmJnQubG9hZFNjcmlwdChyLGUsITEpLC9cLmNzcyQvLnRlc3QocikmJiFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD1zdHlsZXNoZWV0XVtocmVmXj0iJytyKyciXScpJiZmKHIsInN0eWxlc2hlZXQiKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSl9KSksdC5sb2FkUm91dGUoZSl9KSkpfSkpfX0se2tleToibG9hZFJvdXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0iLyI9PT0oZT1wKGUpKT8iL2luZGV4LmpzIjplKyIuanMiLHI9dGhpcy5hc3NldFByZWZpeCsiL19uZXh0L3N0YXRpYy8iK2VuY29kZVVSSUNvbXBvbmVudCh0aGlzLmJ1aWxkSWQpKyIvcGFnZXMiK2VuY29kZVVSSSh0KTt0aGlzLmxvYWRTY3JpcHQocixlLCEwKX19LHtrZXk6ImxvYWRTY3JpcHQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7YS5jcm9zc09yaWdpbj12b2lkIDAsYS5zcmM9ZSxhLm9uZXJyb3I9ZnVuY3Rpb24oKXt2YXIgcj1uZXcgRXJyb3IoIkVycm9yIGxvYWRpbmcgc2NyaXB0ICIrZSk7ci5jb2RlPSJQQUdFX0xPQURfRVJST1IiLG4ucGFnZVJlZ2lzdGVyRXZlbnRzLmVtaXQodCx7ZXJyb3I6cn0pfSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpfX0se2tleToicmVnaXN0ZXJQYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7IWZ1bmN0aW9uKCl7dHJ5e3ZhciBuPXQoKSxhPXtwYWdlOm4uZGVmYXVsdHx8bixtb2Q6bn07ci5wYWdlQ2FjaGVbZV09YSxyLnBhZ2VSZWdpc3RlckV2ZW50cy5lbWl0KGUsYSl9Y2F0Y2gobyl7ci5wYWdlQ2FjaGVbZV09e2Vycm9yOm99LHIucGFnZVJlZ2lzdGVyRXZlbnRzLmVtaXQoZSx7ZXJyb3I6b30pfX0oKX19LHtrZXk6InByZWZldGNoIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByLG4sYT10aGlzO2lmKChyPW5hdmlnYXRvci5jb25uZWN0aW9uKSYmKHIuc2F2ZURhdGF8fC8yZy8udGVzdChyLmVmZmVjdGl2ZVR5cGUpKSlyZXR1cm4gby5yZXNvbHZlKCk7aWYodCluPWU7ZWxzZXt2YXIgaT0oIi8iPT09KGU9cChlKSk/Ii9pbmRleCI6ZSkrIi5qcyI7MCxuPXRoaXMuYXNzZXRQcmVmaXgrIi9fbmV4dC9zdGF0aWMvIitlbmNvZGVVUklDb21wb25lbnQodGhpcy5idWlsZElkKSsiL3BhZ2VzIitlbmNvZGVVUkkoaSl9cmV0dXJuIG8uYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xpbmtbcmVsPSInK3MrJyJdW2hyZWZePSInK24rJyJdLCBzY3JpcHRbZGF0YS1uZXh0LXBhZ2U9IicrZSsnIl0nKT9bXTpbZihuLHMsbi5tYXRjaCgvXC5jc3MkLyk/InN0eWxlIjoic2NyaXB0IiksIXQmJnRoaXMuZ2V0RGVwZW5kZW5jaWVzKGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBvLmFsbChlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGEucHJlZmV0Y2goZSwhMCl9KSkpfSkpXSkudGhlbigoZnVuY3Rpb24oKXt9KSwoZnVuY3Rpb24oKXt9KSl9fV0pLGV9KCk7dC5kZWZhdWx0PWx9fSxbWyJCTVAxIiwxLDIsMF1dXSk7" async=""></script><script src="data:application/javascript;charset=UTF-8;base64,KHdpbmRvdy53ZWJwYWNrSnNvbnA9d2luZG93LndlYnBhY2tKc29ucHx8W10pLnB1c2goW1s2XSx7IjZKb2kiOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7KGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcixpLG89KHI9bigid2ozQyIpKSYmIm9iamVjdCI9PT10eXBlb2YgciYmImRlZmF1bHQiaW4gcj9yLmRlZmF1bHQ6cixhPW4oIm1yU0ciKSxzPW4oInEvME0iKSx1PW4oInpWRjQiKSxjPW4oIlMrUzAiKSxoPW4oIng3STMiKSxsPW8uU0RLX1ZFUlNJT04sZj1uZXcgcy5Mb2dnZXIoIkBmaXJlYmFzZS9maXJlc3RvcmUiKTtmdW5jdGlvbiBkKCl7cmV0dXJuIGYubG9nTGV2ZWw9PT1zLkxvZ0xldmVsLkRFQlVHP2kuREVCVUc6Zi5sb2dMZXZlbD09PXMuTG9nTGV2ZWwuU0lMRU5UP2kuU0lMRU5UOmkuRVJST1J9ZnVuY3Rpb24gcChlKXtzd2l0Y2goZSl7Y2FzZSBpLkRFQlVHOmYubG9nTGV2ZWw9cy5Mb2dMZXZlbC5ERUJVRzticmVhaztjYXNlIGkuRVJST1I6Zi5sb2dMZXZlbD1zLkxvZ0xldmVsLkVSUk9SO2JyZWFrO2Nhc2UgaS5TSUxFTlQ6Zi5sb2dMZXZlbD1zLkxvZ0xldmVsLlNJTEVOVDticmVhaztkZWZhdWx0OmYuZXJyb3IoIkZpcmVzdG9yZSAoIitsKyIpOiBJbnZhbGlkIHZhbHVlIHBhc3NlZCB0byBgc2V0TG9nTGV2ZWxgIil9fWZ1bmN0aW9uIG0oZSx0KXtmb3IodmFyIG49W10scj0yO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspbltyLTJdPWFyZ3VtZW50c1tyXTtpZihmLmxvZ0xldmVsPD1zLkxvZ0xldmVsLkRFQlVHKXt2YXIgaT1uLm1hcChnKTtmLmRlYnVnLmFwcGx5KGYsYS5fX3NwcmVhZEFycmF5cyhbIkZpcmVzdG9yZSAoIitsKyIpIFsiK2UrIl06ICIrdF0saSkpfX1mdW5jdGlvbiB5KGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO2lmKGYubG9nTGV2ZWw8PXMuTG9nTGV2ZWwuRVJST1Ipe3ZhciByPXQubWFwKGcpO2YuZXJyb3IuYXBwbHkoZixhLl9fc3ByZWFkQXJyYXlzKFsiRmlyZXN0b3JlICgiK2wrIik6ICIrZV0scikpfX1mdW5jdGlvbiBnKGUpe2lmKCJzdHJpbmciPT09dHlwZW9mIGUpcmV0dXJuIGU7dmFyIHQ9Yi5nZXRQbGF0Zm9ybSgpO3RyeXtyZXR1cm4gdC5mb3JtYXRKU09OKGUpfWNhdGNoKG4pe3JldHVybiBlfX1mdW5jdGlvbiB2KGUpe3ZhciB0PSJGSVJFU1RPUkUgKCIrbCsiKSBJTlRFUk5BTCBBU1NFUlRJT04gRkFJTEVEOiAiK2U7dGhyb3cgeSh0KSxuZXcgRXJyb3IodCl9ZnVuY3Rpb24gdyhlLHQpe2V8fHYodCl9IWZ1bmN0aW9uKGUpe2VbZS5ERUJVRz0wXT0iREVCVUciLGVbZS5FUlJPUj0xXT0iRVJST1IiLGVbZS5TSUxFTlQ9Ml09IlNJTEVOVCJ9KGl8fChpPXt9KSk7dmFyIGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnNldFBsYXRmb3JtPWZ1bmN0aW9uKHQpe2UucGxhdGZvcm0mJnYoIlBsYXRmb3JtIGFscmVhZHkgZGVmaW5lZCIpLGUucGxhdGZvcm09dH0sZS5nZXRQbGF0Zm9ybT1mdW5jdGlvbigpe3JldHVybiBlLnBsYXRmb3JtfHx2KCJQbGF0Zm9ybSBub3Qgc2V0IiksZS5wbGF0Zm9ybX0sZX0oKTtmdW5jdGlvbiBUKCl7cmV0dXJuIGIuZ2V0UGxhdGZvcm0oKS5lbXB0eUJ5dGVTdHJpbmd9dmFyIFM9e09LOiJvayIsQ0FOQ0VMTEVEOiJjYW5jZWxsZWQiLFVOS05PV046InVua25vd24iLElOVkFMSURfQVJHVU1FTlQ6ImludmFsaWQtYXJndW1lbnQiLERFQURMSU5FX0VYQ0VFREVEOiJkZWFkbGluZS1leGNlZWRlZCIsTk9UX0ZPVU5EOiJub3QtZm91bmQiLEFMUkVBRFlfRVhJU1RTOiJhbHJlYWR5LWV4aXN0cyIsUEVSTUlTU0lPTl9ERU5JRUQ6InBlcm1pc3Npb24tZGVuaWVkIixVTkFVVEhFTlRJQ0FURUQ6InVuYXV0aGVudGljYXRlZCIsUkVTT1VSQ0VfRVhIQVVTVEVEOiJyZXNvdXJjZS1leGhhdXN0ZWQiLEZBSUxFRF9QUkVDT05ESVRJT046ImZhaWxlZC1wcmVjb25kaXRpb24iLEFCT1JURUQ6ImFib3J0ZWQiLE9VVF9PRl9SQU5HRToib3V0LW9mLXJhbmdlIixVTklNUExFTUVOVEVEOiJ1bmltcGxlbWVudGVkIixJTlRFUk5BTDoiaW50ZXJuYWwiLFVOQVZBSUxBQkxFOiJ1bmF2YWlsYWJsZSIsREFUQV9MT1NTOiJkYXRhLWxvc3MifSxFPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgcj1lLmNhbGwodGhpcyxuKXx8dGhpcztyZXR1cm4gci5jb2RlPXQsci5tZXNzYWdlPW4sci5uYW1lPSJGaXJlYmFzZUVycm9yIixyLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHIubmFtZSsiOiBbY29kZT0iK3IuY29kZSsiXTogIityLm1lc3NhZ2V9LHJ9cmV0dXJuIGEuX19leHRlbmRzKHQsZSksdH0oRXJyb3IpO2Z1bmN0aW9uIEkoZSx0KXtmdW5jdGlvbiBuKCl7dmFyIGU9IlRoaXMgY29uc3RydWN0b3IgaXMgcHJpdmF0ZS4iO3Rocm93IHQmJihlKz0iICIsZSs9dCksbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULGUpfWZvcih2YXIgciBpbiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxlKWUuaGFzT3duUHJvcGVydHkocikmJihuW3JdPWVbcl0pO3JldHVybiBufWZ1bmN0aW9uIEMoZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9ZnVuY3Rpb24gRChlLHQpe3JldHVybiB2b2lkIDAhPT1lP2U6dH1mdW5jdGlvbiBfKGUsdCl7Zm9yKHZhciBuIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikpe3ZhciByPU51bWJlcihuKTtpc05hTihyKXx8dChyLGVbbl0pfX1mdW5jdGlvbiBOKGUsdCl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJnQobixlW25dKX1mdW5jdGlvbiBBKGUpe2Zvcih2YXIgdCBpbiB3KG51bGwhPWUmJiJvYmplY3QiPT09dHlwZW9mIGUsImlzRW1wdHkoKSBleHBlY3RzIG9iamVjdCBwYXJhbWV0ZXIuIiksZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBrKGUsdCl7aWYoMCE9PXQubGVuZ3RoKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiRnVuY3Rpb24gIitlKyIoKSBkb2VzIG5vdCBzdXBwb3J0IGFyZ3VtZW50cywgYnV0IHdhcyBjYWxsZWQgd2l0aCAiK1kodC5sZW5ndGgsImFyZ3VtZW50IikrIi4iKX1mdW5jdGlvbiBSKGUsdCxuKXtpZih0Lmxlbmd0aCE9PW4pdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJGdW5jdGlvbiAiK2UrIigpIHJlcXVpcmVzICIrWShuLCJhcmd1bWVudCIpKyIsIGJ1dCB3YXMgY2FsbGVkIHdpdGggIitZKHQubGVuZ3RoLCJhcmd1bWVudCIpKyIuIil9ZnVuY3Rpb24gTShlLHQsbil7aWYodC5sZW5ndGg8bil0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIkZ1bmN0aW9uICIrZSsiKCkgcmVxdWlyZXMgYXQgbGVhc3QgIitZKG4sImFyZ3VtZW50IikrIiwgYnV0IHdhcyBjYWxsZWQgd2l0aCAiK1kodC5sZW5ndGgsImFyZ3VtZW50IikrIi4iKX1mdW5jdGlvbiBMKGUsdCxuLHIpe2lmKHQubGVuZ3RoPG58fHQubGVuZ3RoPnIpdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJGdW5jdGlvbiAiK2UrIigpIHJlcXVpcmVzIGJldHdlZW4gIituKyIgYW5kICIrcisiIGFyZ3VtZW50cywgYnV0IHdhcyBjYWxsZWQgd2l0aCAiK1kodC5sZW5ndGgsImFyZ3VtZW50IikrIi4iKX1mdW5jdGlvbiBPKGUsdCxuLHIpe1UoZSx0LEgobikrIiBhcmd1bWVudCIscil9ZnVuY3Rpb24geChlLHQsbixyKXt2b2lkIDAhPT1yJiZPKGUsdCxuLHIpfWZ1bmN0aW9uIFAoZSx0LG4scil7VShlLHQsbisiIG9wdGlvbiIscil9ZnVuY3Rpb24gRihlLHQsbixyKXt2b2lkIDAhPT1yJiZQKGUsdCxuLHIpfWZ1bmN0aW9uIHEoZSx0LG4scixpKXt2b2lkIDAhPT1yJiZmdW5jdGlvbihlLHQsbixyLGkpe2lmKCEociBpbnN0YW5jZW9mIEFycmF5KSl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIkZ1bmN0aW9uICIrZSsiKCkgcmVxdWlyZXMgaXRzICIrdCsiIG9wdGlvbiB0byBiZSBhbiBhcnJheSwgYnV0IGl0IHdhczogIitLKHIpKTtmb3IodmFyIG89MDtvPHIubGVuZ3RoOysrbylpZighaShyW29dKSl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIkZ1bmN0aW9uICIrZSsiKCkgcmVxdWlyZXMgYWxsICIrdCsiIGVsZW1lbnRzIHRvIGJlICIrbisiLCBidXQgdGhlIHZhbHVlIGF0IGluZGV4ICIrbysiIHdhczogIitLKHJbb10pKX0oZSx0LG4scixpKX1mdW5jdGlvbiBWKGUsdCxuLHIsaSl7dm9pZCAwIT09ciYmZnVuY3Rpb24oZSx0LG4scixpKXtmb3IodmFyIG89W10sYT0wLHM9aTthPHMubGVuZ3RoO2ErKyl7dmFyIHU9c1thXTtpZih1PT09cilyZXR1cm47by5wdXNoKEsodSkpfXZhciBjPUsocik7dGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJJbnZhbGlkIHZhbHVlICIrYysiIHByb3ZpZGVkIHRvIGZ1bmN0aW9uICIrZSsnKCkgZm9yIG9wdGlvbiAiJytuKyciLiBBY2NlcHRhYmxlIHZhbHVlczogJytvLmpvaW4oIiwgIikpfShlLDAsbixyLGkpfWZ1bmN0aW9uIEIoZSx0LG4scil7aWYoIXQuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1yfSkpKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiSW52YWxpZCB2YWx1ZSAiK0socikrIiBwcm92aWRlZCB0byBmdW5jdGlvbiAiK2UrIigpIGZvciBpdHMgIitIKG4pKyIgYXJndW1lbnQuIEFjY2VwdGFibGUgdmFsdWVzOiAiK3Quam9pbigiLCAiKSl9ZnVuY3Rpb24gVShlLHQsbixyKXtpZighKCJvYmplY3QiPT09dD9RKHIpOiJub24tZW1wdHkgc3RyaW5nIj09PXQ/InN0cmluZyI9PT10eXBlb2YgciYmIiIhPT1yOnR5cGVvZiByPT09dCkpe3ZhciBpPUsocik7dGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJGdW5jdGlvbiAiK2UrIigpIHJlcXVpcmVzIGl0cyAiK24rIiB0byBiZSBvZiB0eXBlICIrdCsiLCBidXQgaXQgd2FzOiAiK2kpfX1mdW5jdGlvbiBRKGUpe3JldHVybiJvYmplY3QiPT09dHlwZW9mIGUmJm51bGwhPT1lJiYoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09T2JqZWN0LnByb3RvdHlwZXx8bnVsbD09PU9iamVjdC5nZXRQcm90b3R5cGVPZihlKSl9ZnVuY3Rpb24gSyhlKXtpZih2b2lkIDA9PT1lKXJldHVybiJ1bmRlZmluZWQiO2lmKG51bGw9PT1lKXJldHVybiJudWxsIjtpZigic3RyaW5nIj09PXR5cGVvZiBlKXJldHVybiBlLmxlbmd0aD4yMCYmKGU9ZS5zdWJzdHJpbmcoMCwyMCkrIi4uLiIpLEpTT04uc3RyaW5naWZ5KGUpO2lmKCJudW1iZXIiPT09dHlwZW9mIGV8fCJib29sZWFuIj09PXR5cGVvZiBlKXJldHVybiIiK2U7aWYoIm9iamVjdCI9PT10eXBlb2YgZSl7aWYoZSBpbnN0YW5jZW9mIEFycmF5KXJldHVybiJhbiBhcnJheSI7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZS5jb25zdHJ1Y3Rvcil7dmFyIHQ9L2Z1bmN0aW9uXHMrKFteXHMoXSspXHMqXCgvLmV4ZWMoZS5jb25zdHJ1Y3Rvci50b1N0cmluZygpKTtpZih0JiZ0Lmxlbmd0aD4xKXJldHVybiB0WzFdfXJldHVybiBudWxsfShlKTtyZXR1cm4gdD8iYSBjdXN0b20gIit0KyIgb2JqZWN0IjoiYW4gb2JqZWN0In1yZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIGU/ImEgZnVuY3Rpb24iOnYoIlVua25vd24gd3JvbmcgdHlwZTogIit0eXBlb2YgZSl9ZnVuY3Rpb24geihlLHQsbil7aWYodm9pZCAwPT09bil0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIkZ1bmN0aW9uICIrZSsiKCkgcmVxdWlyZXMgYSB2YWxpZCAiK0godCkrIiBhcmd1bWVudCwgYnV0IGl0IHdhcyB1bmRlZmluZWQuIil9ZnVuY3Rpb24gVyhlLHQsbil7Tih0LChmdW5jdGlvbih0LHIpe2lmKG4uaW5kZXhPZih0KTwwKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiVW5rbm93biBvcHRpb24gJyIrdCsiJyBwYXNzZWQgdG8gZnVuY3Rpb24gIitlKyIoKS4gQXZhaWxhYmxlIG9wdGlvbnM6ICIrbi5qb2luKCIsICIpKX0pKX1mdW5jdGlvbiBHKGUsdCxuLHIpe3ZhciBpPUsocik7cmV0dXJuIG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiRnVuY3Rpb24gIitlKyIoKSByZXF1aXJlcyBpdHMgIitIKG4pKyIgYXJndW1lbnQgdG8gYmUgYSAiK3QrIiwgYnV0IGl0IHdhczogIitpKX1mdW5jdGlvbiBqKGUsdCxuKXtpZihuPD0wKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwnRnVuY3Rpb24gIicrZSsnKCkiIHJlcXVpcmVzIGl0cyAnK0godCkrIiBhcmd1bWVudCB0byBiZSBhIHBvc2l0aXZlIG51bWJlciwgYnV0IGl0IHdhczogIituKyIuIil9ZnVuY3Rpb24gSChlKXtzd2l0Y2goZSl7Y2FzZSAxOnJldHVybiJmaXJzdCI7Y2FzZSAyOnJldHVybiJzZWNvbmQiO2Nhc2UgMzpyZXR1cm4idGhpcmQiO2RlZmF1bHQ6cmV0dXJuIGUrInRoIn19ZnVuY3Rpb24gWShlLHQpe3JldHVybiBlKyIgIit0KygxPT09ZT8iIjoicyIpfXZhciBKPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5uZXdJZD1mdW5jdGlvbigpe2Zvcih2YXIgZT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkiLHQ9IiIsbj0wO248MjA7bisrKXQrPWUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSplLmxlbmd0aCkpO3JldHVybiB3KDIwPT09dC5sZW5ndGgsIkludmFsaWQgYXV0byBJRDogIit0KSx0fSxlfSgpO2Z1bmN0aW9uIFgoZSx0KXtyZXR1cm4gZTx0Py0xOmU+dD8xOjB9ZnVuY3Rpb24gWihlLHQpe2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYoIWVbbl0uaXNFcXVhbCh0W25dKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiAkKGUpe3JldHVybiBlKyJcMCJ9ZnVuY3Rpb24gZWUoKXtpZigidW5kZWZpbmVkIj09PXR5cGVvZiBVaW50OEFycmF5KXRocm93IG5ldyBFKFMuVU5JTVBMRU1FTlRFRCwiVWludDhBcnJheXMgYXJlIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudC4iKX1mdW5jdGlvbiB0ZSgpe2lmKCFiLmdldFBsYXRmb3JtKCkuYmFzZTY0QXZhaWxhYmxlKXRocm93IG5ldyBFKFMuVU5JTVBMRU1FTlRFRCwiQmxvYnMgYXJlIHVuYXZhaWxhYmxlIGluIEZpcmVzdG9yZSBpbiB0aGlzIGVudmlyb25tZW50LiIpfXZhciBuZSxyZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGUoKSx0aGlzLl9iaW5hcnlTdHJpbmc9ZX1yZXR1cm4gZS5mcm9tQmFzZTY0U3RyaW5nPWZ1bmN0aW9uKHQpe1IoIkJsb2IuZnJvbUJhc2U2NFN0cmluZyIsYXJndW1lbnRzLDEpLE8oIkJsb2IuZnJvbUJhc2U2NFN0cmluZyIsInN0cmluZyIsMSx0KSx0ZSgpO3RyeXt2YXIgbj1iLmdldFBsYXRmb3JtKCkuYXRvYih0KTtyZXR1cm4gbmV3IGUobil9Y2F0Y2gocil7dGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJGYWlsZWQgdG8gY29uc3RydWN0IEJsb2IgZnJvbSBCYXNlNjQgc3RyaW5nOiAiK3IpfX0sZS5mcm9tVWludDhBcnJheT1mdW5jdGlvbih0KXtpZihSKCJCbG9iLmZyb21VaW50OEFycmF5Iixhcmd1bWVudHMsMSksZWUoKSwhKHQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSl0aHJvdyBHKCJCbG9iLmZyb21VaW50OEFycmF5IiwiVWludDhBcnJheSIsMSx0KTt2YXIgbj1BcnJheS5wcm90b3R5cGUubWFwLmNhbGwodCwoZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoZSl9KSkuam9pbigiIik7cmV0dXJuIG5ldyBlKG4pfSxlLnByb3RvdHlwZS50b0Jhc2U2ND1mdW5jdGlvbigpe3JldHVybiBSKCJCbG9iLnRvQmFzZTY0Iixhcmd1bWVudHMsMCksdGUoKSxiLmdldFBsYXRmb3JtKCkuYnRvYSh0aGlzLl9iaW5hcnlTdHJpbmcpfSxlLnByb3RvdHlwZS50b1VpbnQ4QXJyYXk9ZnVuY3Rpb24oKXtSKCJCbG9iLnRvVWludDhBcnJheSIsYXJndW1lbnRzLDApLGVlKCk7Zm9yKHZhciBlPW5ldyBVaW50OEFycmF5KHRoaXMuX2JpbmFyeVN0cmluZy5sZW5ndGgpLHQ9MDt0PHRoaXMuX2JpbmFyeVN0cmluZy5sZW5ndGg7dCsrKWVbdF09dGhpcy5fYmluYXJ5U3RyaW5nLmNoYXJDb2RlQXQodCk7cmV0dXJuIGV9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIkJsb2IoYmFzZTY0OiAiK3RoaXMudG9CYXNlNjQoKSsiKSJ9LGUucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2JpbmFyeVN0cmluZz09PWUuX2JpbmFyeVN0cmluZ30sZS5wcm90b3R5cGUuX2FwcHJveGltYXRlQnl0ZVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gMip0aGlzLl9iaW5hcnlTdHJpbmcubGVuZ3RofSxlLnByb3RvdHlwZS5fY29tcGFyZVRvPWZ1bmN0aW9uKGUpe3JldHVybiBYKHRoaXMuX2JpbmFyeVN0cmluZyxlLl9iaW5hcnlTdHJpbmcpfSxlfSgpLGllPUkocmUsIlVzZSBCbG9iLmZyb21VaW50OEFycmF5KCkgb3IgQmxvYi5mcm9tQmFzZTY0U3RyaW5nKCkgaW5zdGVhZC4iKSxvZT1mdW5jdGlvbihlLHQsbixyLGkpe3RoaXMuZGF0YWJhc2VJZD1lLHRoaXMucGVyc2lzdGVuY2VLZXk9dCx0aGlzLmhvc3Q9bix0aGlzLnNzbD1yLHRoaXMuZm9yY2VMb25nUG9sbGluZz1pfSxhZT0iKGRlZmF1bHQpIixzZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLnByb2plY3RJZD1lLHRoaXMuZGF0YWJhc2U9dHx8YWV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNEZWZhdWx0RGF0YWJhc2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhYmFzZT09PWFlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlJiZ0LnByb2plY3RJZD09PXRoaXMucHJvamVjdElkJiZ0LmRhdGFiYXNlPT09dGhpcy5kYXRhYmFzZX0sZS5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKGUpe3JldHVybiBYKHRoaXMucHJvamVjdElkLGUucHJvamVjdElkKXx8WCh0aGlzLmRhdGFiYXNlLGUuZGF0YWJhc2UpfSxlfSgpLHVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciBuPXRoaXM7dGhpcy5wcmV2aW91c1ZhbHVlPWUsdCYmKHQuc2VxdWVuY2VOdW1iZXJIYW5kbGVyPWZ1bmN0aW9uKGUpe3JldHVybiBuLnNldFByZXZpb3VzVmFsdWUoZSl9LHRoaXMud3JpdGVOZXdTZXF1ZW5jZU51bWJlcj1mdW5jdGlvbihlKXtyZXR1cm4gdC53cml0ZVNlcXVlbmNlTnVtYmVyKGUpfSl9cmV0dXJuIGUucHJvdG90eXBlLnNldFByZXZpb3VzVmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHJldmlvdXNWYWx1ZT1NYXRoLm1heChlLHRoaXMucHJldmlvdXNWYWx1ZSksdGhpcy5wcmV2aW91c1ZhbHVlfSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIGU9Kyt0aGlzLnByZXZpb3VzVmFsdWU7cmV0dXJuIHRoaXMud3JpdGVOZXdTZXF1ZW5jZU51bWJlciYmdGhpcy53cml0ZU5ld1NlcXVlbmNlTnVtYmVyKGUpLGV9LGUuSU5WQUxJRD0tMSxlfSgpLGNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dm9pZCAwPT09dD90PTA6dD5lLmxlbmd0aCYmdigib2Zmc2V0ICIrdCsiIG91dCBvZiByYW5nZSAiK2UubGVuZ3RoKSx2b2lkIDA9PT1uP249ZS5sZW5ndGgtdDpuPmUubGVuZ3RoLXQmJnYoImxlbmd0aCAiK24rIiBvdXQgb2YgcmFuZ2UgIisoZS5sZW5ndGgtdCkpLHRoaXMuc2VnbWVudHM9ZSx0aGlzLm9mZnNldD10LHRoaXMubGVuPW59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVufSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT1lLmNvbXBhcmF0b3IodGhpcyx0KX0sZS5wcm90b3R5cGUuY2hpbGQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5zZWdtZW50cy5zbGljZSh0aGlzLm9mZnNldCx0aGlzLmxpbWl0KCkpO3JldHVybiB0IGluc3RhbmNlb2YgZT90LmZvckVhY2goKGZ1bmN0aW9uKGUpe24ucHVzaChlKX0pKTpuLnB1c2godCksdGhpcy5jb25zdHJ1Y3Qobil9LGUucHJvdG90eXBlLmxpbWl0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2Zmc2V0K3RoaXMubGVuZ3RofSxlLnByb3RvdHlwZS5wb3BGaXJzdD1mdW5jdGlvbihlKXtyZXR1cm4gZT12b2lkIDA9PT1lPzE6ZSx3KHRoaXMubGVuZ3RoPj1lLCJDYW4ndCBjYWxsIHBvcEZpcnN0KCkgd2l0aCBsZXNzIHNlZ21lbnRzIiksdGhpcy5jb25zdHJ1Y3QodGhpcy5zZWdtZW50cyx0aGlzLm9mZnNldCtlLHRoaXMubGVuZ3RoLWUpfSxlLnByb3RvdHlwZS5wb3BMYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHcoIXRoaXMuaXNFbXB0eSgpLCJDYW4ndCBjYWxsIHBvcExhc3QoKSBvbiBlbXB0eSBwYXRoIiksdGhpcy5jb25zdHJ1Y3QodGhpcy5zZWdtZW50cyx0aGlzLm9mZnNldCx0aGlzLmxlbmd0aC0xKX0sZS5wcm90b3R5cGUuZmlyc3RTZWdtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHcoIXRoaXMuaXNFbXB0eSgpLCJDYW4ndCBjYWxsIGZpcnN0U2VnbWVudCgpIG9uIGVtcHR5IHBhdGgiKSx0aGlzLnNlZ21lbnRzW3RoaXMub2Zmc2V0XX0sZS5wcm90b3R5cGUubGFzdFNlZ21lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQodGhpcy5sZW5ndGgtMSl9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdyhlPHRoaXMubGVuZ3RoLCJJbmRleCBvdXQgb2YgcmFuZ2UiKSx0aGlzLnNlZ21lbnRzW3RoaXMub2Zmc2V0K2VdfSxlLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxlbmd0aH0sZS5wcm90b3R5cGUuaXNQcmVmaXhPZj1mdW5jdGlvbihlKXtpZihlLmxlbmd0aDx0aGlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHQ9MDt0PHRoaXMubGVuZ3RoO3QrKylpZih0aGlzLmdldCh0KSE9PWUuZ2V0KHQpKXJldHVybiExO3JldHVybiEwfSxlLnByb3RvdHlwZS5pc0ltbWVkaWF0ZVBhcmVudE9mPWZ1bmN0aW9uKGUpe2lmKHRoaXMubGVuZ3RoKzEhPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHQ9MDt0PHRoaXMubGVuZ3RoO3QrKylpZih0aGlzLmdldCh0KSE9PWUuZ2V0KHQpKXJldHVybiExO3JldHVybiEwfSxlLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLm9mZnNldCxuPXRoaXMubGltaXQoKTt0PG47dCsrKWUodGhpcy5zZWdtZW50c1t0XSl9LGUucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWdtZW50cy5zbGljZSh0aGlzLm9mZnNldCx0aGlzLmxpbWl0KCkpfSxlLmNvbXBhcmF0b3I9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49TWF0aC5taW4oZS5sZW5ndGgsdC5sZW5ndGgpLHI9MDtyPG47cisrKXt2YXIgaT1lLmdldChyKSxvPXQuZ2V0KHIpO2lmKGk8bylyZXR1cm4tMTtpZihpPm8pcmV0dXJuIDF9cmV0dXJuIGUubGVuZ3RoPHQubGVuZ3RoPy0xOmUubGVuZ3RoPnQubGVuZ3RoPzE6MH0sZX0oKSxoZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5jb25zdHJ1Y3Q9ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuZXcgdChlLG4scil9LHQucHJvdG90eXBlLmNhbm9uaWNhbFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvQXJyYXkoKS5qb2luKCIvIil9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2Fub25pY2FsU3RyaW5nKCl9LHQuZnJvbVN0cmluZz1mdW5jdGlvbihlKXtpZihlLmluZGV4T2YoIi8vIik+PTApdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJJbnZhbGlkIHBhdGggKCIrZSsiKS4gUGF0aHMgbXVzdCBub3QgY29udGFpbiAvLyBpbiB0aGVtLiIpO3JldHVybiBuZXcgdChlLnNwbGl0KCIvIikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5sZW5ndGg+MH0pKSl9LHQuRU1QVFlfUEFUSD1uZXcgdChbXSksdH0oY2UpLGxlPS9eW19hLXpBLVpdW19hLXpBLVowLTldKiQvLGZlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBhLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdD1mdW5jdGlvbihlLG4scil7cmV0dXJuIG5ldyB0KGUsbixyKX0sdC5pc1ZhbGlkSWRlbnRpZmllcj1mdW5jdGlvbihlKXtyZXR1cm4gbGUudGVzdChlKX0sdC5wcm90b3R5cGUuY2Fub25pY2FsU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9BcnJheSgpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5yZXBsYWNlKCJcXCIsIlxcXFwiKS5yZXBsYWNlKCJgIiwiXFxgIiksdC5pc1ZhbGlkSWRlbnRpZmllcihlKXx8KGU9ImAiK2UrImAiKSxlfSkpLmpvaW4oIi4iKX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5vbmljYWxTdHJpbmcoKX0sdC5wcm90b3R5cGUuaXNLZXlGaWVsZD1mdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5sZW5ndGgmJiJfX25hbWVfXyI9PT10aGlzLmdldCgwKX0sdC5rZXlGaWVsZD1mdW5jdGlvbigpe3JldHVybiBuZXcgdChbIl9fbmFtZV9fIl0pfSx0LmZyb21TZXJ2ZXJGb3JtYXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPVtdLHI9IiIsaT0wLG89ZnVuY3Rpb24oKXtpZigwPT09ci5sZW5ndGgpdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJJbnZhbGlkIGZpZWxkIHBhdGggKCIrZSsiKS4gUGF0aHMgbXVzdCBub3QgYmUgZW1wdHksIGJlZ2luIHdpdGggJy4nLCBlbmQgd2l0aCAnLicsIG9yIGNvbnRhaW4gJy4uJyIpO24ucHVzaChyKSxyPSIifSxhPSExO2k8ZS5sZW5ndGg7KXt2YXIgcz1lW2ldO2lmKCJcXCI9PT1zKXtpZihpKzE9PT1lLmxlbmd0aCl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIlBhdGggaGFzIHRyYWlsaW5nIGVzY2FwZSBjaGFyYWN0ZXI6ICIrZSk7dmFyIHU9ZVtpKzFdO2lmKCJcXCIhPT11JiYiLiIhPT11JiYiYCIhPT11KXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiUGF0aCBoYXMgaW52YWxpZCBlc2NhcGUgc2VxdWVuY2U6ICIrZSk7cis9dSxpKz0yfWVsc2UiYCI9PT1zPyhhPSFhLGkrKyk6Ii4iIT09c3x8YT8ocis9cyxpKyspOihvKCksaSsrKX1pZihvKCksYSl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIlVudGVybWluYXRlZCBgIGluIHBhdGg6ICIrZSk7cmV0dXJuIG5ldyB0KG4pfSx0LkVNUFRZX1BBVEg9bmV3IHQoW10pLHR9KGNlKSxkZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dGhpcy5wYXRoPXQsdyhlLmlzRG9jdW1lbnRLZXkodCksIkludmFsaWQgRG9jdW1lbnRLZXkgd2l0aCBhbiBvZGQgbnVtYmVyIG9mIHNlZ21lbnRzOiAiK3QudG9BcnJheSgpLmpvaW4oIi8iKSl9cmV0dXJuIGUucHJvdG90eXBlLmhhc0NvbGxlY3Rpb25JZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wYXRoLmxlbmd0aD49MiYmdGhpcy5wYXRoLmdldCh0aGlzLnBhdGgubGVuZ3RoLTIpPT09ZX0sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWUmJjA9PT1oZS5jb21wYXJhdG9yKHRoaXMucGF0aCxlLnBhdGgpfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGgudG9TdHJpbmcoKX0sZS5jb21wYXJhdG9yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGhlLmNvbXBhcmF0b3IoZS5wYXRoLHQucGF0aCl9LGUuaXNEb2N1bWVudEtleT1mdW5jdGlvbihlKXtyZXR1cm4gZS5sZW5ndGglMj09PTB9LGUuZnJvbVNlZ21lbnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZShuZXcgaGUodC5zbGljZSgpKSl9LGUuZnJvbVBhdGhTdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKGhlLmZyb21TdHJpbmcodCkpfSxlLkVNUFRZPW5ldyBlKG5ldyBoZShbXSkpLGV9KCkscGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucHJvbWlzZT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtlLnJlc29sdmU9dCxlLnJlamVjdD1ufSkpfTshZnVuY3Rpb24oZSl7ZS5BbGw9ImFsbCIsZS5MaXN0ZW5TdHJlYW1JZGxlPSJsaXN0ZW5fc3RyZWFtX2lkbGUiLGUuTGlzdGVuU3RyZWFtQ29ubmVjdGlvbkJhY2tvZmY9Imxpc3Rlbl9zdHJlYW1fY29ubmVjdGlvbl9iYWNrb2ZmIixlLldyaXRlU3RyZWFtSWRsZT0id3JpdGVfc3RyZWFtX2lkbGUiLGUuV3JpdGVTdHJlYW1Db25uZWN0aW9uQmFja29mZj0id3JpdGVfc3RyZWFtX2Nvbm5lY3Rpb25fYmFja29mZiIsZS5PbmxpbmVTdGF0ZVRpbWVvdXQ9Im9ubGluZV9zdGF0ZV90aW1lb3V0IixlLkNsaWVudE1ldGFkYXRhUmVmcmVzaD0iY2xpZW50X21ldGFkYXRhX3JlZnJlc2giLGUuTHJ1R2FyYmFnZUNvbGxlY3Rpb249ImxydV9nYXJiYWdlX2NvbGxlY3Rpb24iLGUuUmV0cnlUcmFuc2FjdGlvbj0icmV0cnlfdHJhbnNhY3Rpb24ifShuZXx8KG5lPXt9KSk7dmFyIG1lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyLGkpe3RoaXMuYXN5bmNRdWV1ZT1lLHRoaXMudGltZXJJZD10LHRoaXMudGFyZ2V0VGltZU1zPW4sdGhpcy5vcD1yLHRoaXMucmVtb3ZhbENhbGxiYWNrPWksdGhpcy5kZWZlcnJlZD1uZXcgcGUsdGhpcy50aGVuPXRoaXMuZGVmZXJyZWQucHJvbWlzZS50aGVuLmJpbmQodGhpcy5kZWZlcnJlZC5wcm9taXNlKSx0aGlzLmNhdGNoPXRoaXMuZGVmZXJyZWQucHJvbWlzZS5jYXRjaC5iaW5kKHRoaXMuZGVmZXJyZWQucHJvbWlzZSksdGhpcy5kZWZlcnJlZC5wcm9taXNlLmNhdGNoKChmdW5jdGlvbihlKXt9KSl9cmV0dXJuIGUuY3JlYXRlQW5kU2NoZWR1bGU9ZnVuY3Rpb24odCxuLHIsaSxvKXt2YXIgYT1uZXcgZSh0LG4sRGF0ZS5ub3coKStyLGksbyk7cmV0dXJuIGEuc3RhcnQociksYX0sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnRpbWVySGFuZGxlPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuaGFuZGxlRGVsYXlFbGFwc2VkKCl9KSxlKX0sZS5wcm90b3R5cGUuc2tpcERlbGF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFuZGxlRGVsYXlFbGFwc2VkKCl9LGUucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihlKXtudWxsIT09dGhpcy50aW1lckhhbmRsZSYmKHRoaXMuY2xlYXJUaW1lb3V0KCksdGhpcy5kZWZlcnJlZC5yZWplY3QobmV3IEUoUy5DQU5DRUxMRUQsIk9wZXJhdGlvbiBjYW5jZWxsZWQiKyhlPyI6ICIrZToiIikpKSl9LGUucHJvdG90eXBlLmhhbmRsZURlbGF5RWxhcHNlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT1lLnRpbWVySGFuZGxlPyhlLmNsZWFyVGltZW91dCgpLGUub3AoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gZS5kZWZlcnJlZC5yZXNvbHZlKHQpfSkpKTpQcm9taXNlLnJlc29sdmUoKX0pKX0sZS5wcm90b3R5cGUuY2xlYXJUaW1lb3V0PWZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMudGltZXJIYW5kbGUmJih0aGlzLnJlbW92YWxDYWxsYmFjayh0aGlzKSxjbGVhclRpbWVvdXQodGhpcy50aW1lckhhbmRsZSksdGhpcy50aW1lckhhbmRsZT1udWxsKX0sZX0oKSx5ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnRhaWw9UHJvbWlzZS5yZXNvbHZlKCksdGhpcy5faXNTaHV0dGluZ0Rvd249ITEsdGhpcy5kZWxheWVkT3BlcmF0aW9ucz1bXSx0aGlzLmZhaWx1cmU9bnVsbCx0aGlzLm9wZXJhdGlvbkluUHJvZ3Jlc3M9ITEsdGhpcy50aW1lcklkc1RvU2tpcD1bXX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc1NodXR0aW5nRG93biIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1NodXR0aW5nRG93bn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5lbnF1ZXVlQW5kRm9yZ2V0PWZ1bmN0aW9uKGUpe3RoaXMuZW5xdWV1ZShlKX0sZS5wcm90b3R5cGUuZW5xdWV1ZUFuZEZvcmdldEV2ZW5BZnRlclNodXRkb3duPWZ1bmN0aW9uKGUpe3RoaXMudmVyaWZ5Tm90RmFpbGVkKCksdGhpcy5lbnF1ZXVlSW50ZXJuYWwoZSl9LGUucHJvdG90eXBlLmVucXVldWVFdmVuQWZ0ZXJTaHV0ZG93bj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52ZXJpZnlOb3RGYWlsZWQoKSx0aGlzLmVucXVldWVJbnRlcm5hbChlKX0sZS5wcm90b3R5cGUuZW5xdWV1ZUFuZEluaXRpYXRlU2h1dGRvd249ZnVuY3Rpb24oZSl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnZlcmlmeU5vdEZhaWxlZCgpLHRoaXMuX2lzU2h1dHRpbmdEb3duP1szLDJdOih0aGlzLl9pc1NodXR0aW5nRG93bj0hMCxbNCx0aGlzLmVucXVldWVFdmVuQWZ0ZXJTaHV0ZG93bihlKV0pO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KSl9KSl9LGUucHJvdG90eXBlLmVucXVldWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudmVyaWZ5Tm90RmFpbGVkKCksdGhpcy5faXNTaHV0dGluZ0Rvd24/bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe30pKTp0aGlzLmVucXVldWVJbnRlcm5hbChlKX0sZS5wcm90b3R5cGUuZW5xdWV1ZUludGVybmFsPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10aGlzLnRhaWwudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5vcGVyYXRpb25JblByb2dyZXNzPSEwLGUoKS5jYXRjaCgoZnVuY3Rpb24oZSl7dC5mYWlsdXJlPWUsdC5vcGVyYXRpb25JblByb2dyZXNzPSExO3ZhciBuPWUuc3RhY2t8fGUubWVzc2FnZXx8IiI7dGhyb3cgeSgiSU5URVJOQUwgVU5IQU5ETEVEIEVSUk9SOiAiLG4pLG4uaW5kZXhPZigiRmlyZXN0b3JlIFRlc3QgU2ltdWxhdGVkIEVycm9yIik8MCYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0aHJvdyBlfSksMCksZX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gdC5vcGVyYXRpb25JblByb2dyZXNzPSExLGV9KSl9KSk7cmV0dXJuIHRoaXMudGFpbD1uLG59LGUucHJvdG90eXBlLmVucXVldWVBZnRlckRlbGF5PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzO3RoaXMudmVyaWZ5Tm90RmFpbGVkKCksdyh0Pj0wLCJBdHRlbXB0ZWQgdG8gc2NoZWR1bGUgYW4gb3BlcmF0aW9uIHdpdGggYSBuZWdhdGl2ZSBkZWxheSBvZiAiK3QpLHRoaXMudGltZXJJZHNUb1NraXAuaW5kZXhPZihlKT4tMSYmKHQ9MCk7dmFyIGk9bWUuY3JlYXRlQW5kU2NoZWR1bGUodGhpcyxlLHQsbiwoZnVuY3Rpb24oZSl7cmV0dXJuIHIucmVtb3ZlRGVsYXllZE9wZXJhdGlvbihlKX0pKTtyZXR1cm4gdGhpcy5kZWxheWVkT3BlcmF0aW9ucy5wdXNoKGkpLGl9LGUucHJvdG90eXBlLnZlcmlmeU5vdEZhaWxlZD1mdW5jdGlvbigpe3RoaXMuZmFpbHVyZSYmdigiQXN5bmNRdWV1ZSBpcyBhbHJlYWR5IGZhaWxlZDogIisodGhpcy5mYWlsdXJlLnN0YWNrfHx0aGlzLmZhaWx1cmUubWVzc2FnZSkpfSxlLnByb3RvdHlwZS52ZXJpZnlPcGVyYXRpb25JblByb2dyZXNzPWZ1bmN0aW9uKCl7dyh0aGlzLm9wZXJhdGlvbkluUHJvZ3Jlc3MsInZlcmlmeU9wSW5Qcm9ncmVzcygpIGNhbGxlZCB3aGVuIG5vIG9wIGluIHByb2dyZXNzIG9uIHRoaXMgcXVldWUuIil9LGUucHJvdG90eXBlLmRyYWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5xdWV1ZUV2ZW5BZnRlclNodXRkb3duKChmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKX0sZS5wcm90b3R5cGUuY29udGFpbnNEZWxheWVkT3BlcmF0aW9uPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49dGhpcy5kZWxheWVkT3BlcmF0aW9uczt0PG4ubGVuZ3RoO3QrKyl7aWYoblt0XS50aW1lcklkPT09ZSlyZXR1cm4hMH1yZXR1cm4hMX0sZS5wcm90b3R5cGUucnVuRGVsYXllZE9wZXJhdGlvbnNFYXJseT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLmRyYWluKCkudGhlbigoZnVuY3Rpb24oKXt3KGU9PT1uZS5BbGx8fHQuY29udGFpbnNEZWxheWVkT3BlcmF0aW9uKGUpLCJBdHRlbXB0ZWQgdG8gZHJhaW4gdG8gbWlzc2luZyBvcGVyYXRpb24gIitlKSx0LmRlbGF5ZWRPcGVyYXRpb25zLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudGFyZ2V0VGltZU1zLXQudGFyZ2V0VGltZU1zfSkpO2Zvcih2YXIgbj0wLHI9dC5kZWxheWVkT3BlcmF0aW9ucztuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXTtpZihpLnNraXBEZWxheSgpLGUhPT1uZS5BbGwmJmkudGltZXJJZD09PWUpYnJlYWt9cmV0dXJuIHQuZHJhaW4oKX0pKX0sZS5wcm90b3R5cGUuc2tpcERlbGF5c0ZvclRpbWVySWQ9ZnVuY3Rpb24oZSl7dGhpcy50aW1lcklkc1RvU2tpcC5wdXNoKGUpfSxlLnByb3RvdHlwZS5yZW1vdmVEZWxheWVkT3BlcmF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGVsYXllZE9wZXJhdGlvbnMuaW5kZXhPZihlKTt3KHQ+PTAsIkRlbGF5ZWQgb3BlcmF0aW9uIG5vdCBmb3VuZC4iKSx0aGlzLmRlbGF5ZWRPcGVyYXRpb25zLnNwbGljZSh0LDEpfSxlfSgpLGdlPSJceDAxIix2ZT0iXHgwMSIsd2U9Ilx4MTAiLGJlPSJceDExIjtmdW5jdGlvbiBUZShlKXtmb3IodmFyIHQ9IiIsbj0wO248ZS5sZW5ndGg7bisrKXQubGVuZ3RoPjAmJih0PUVlKHQpKSx0PVNlKGUuZ2V0KG4pLHQpO3JldHVybiBFZSh0KX1mdW5jdGlvbiBTZShlLHQpe2Zvcih2YXIgbj10LHI9ZS5sZW5ndGgsaT0wO2k8cjtpKyspe3ZhciBvPWUuY2hhckF0KGkpO3N3aXRjaChvKXtjYXNlIlwwIjpuKz1nZSt3ZTticmVhaztjYXNlIGdlOm4rPWdlK2JlO2JyZWFrO2RlZmF1bHQ6bis9b319cmV0dXJuIG59ZnVuY3Rpb24gRWUoZSl7cmV0dXJuIGUrZ2UrdmV9ZnVuY3Rpb24gSWUoZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodyh0Pj0yLCJJbnZhbGlkIHBhdGggIitlKSwyPT09dClyZXR1cm4gdyhlLmNoYXJBdCgwKT09PWdlJiZlLmNoYXJBdCgxKT09PXZlLCJOb24tZW1wdHkgcGF0aCAiK2UrIiBoYWQgbGVuZ3RoIDIiKSxoZS5FTVBUWV9QQVRIO2Zvcih2YXIgbj10LTIscj1bXSxpPSIiLG89MDtvPHQ7KXt2YXIgYT1lLmluZGV4T2YoZ2Usbyk7c3dpdGNoKChhPDB8fGE+bikmJnYoJ0ludmFsaWQgZW5jb2RlZCByZXNvdXJjZSBwYXRoOiAiJytlKyciJyksZS5jaGFyQXQoYSsxKSl7Y2FzZSB2ZTp2YXIgcz1lLnN1YnN0cmluZyhvLGEpLHU9dm9pZCAwOzA9PT1pLmxlbmd0aD91PXM6KHU9aSs9cyxpPSIiKSxyLnB1c2godSk7YnJlYWs7Y2FzZSB3ZTppKz1lLnN1YnN0cmluZyhvLGEpLGkrPSJcMCI7YnJlYWs7Y2FzZSBiZTppKz1lLnN1YnN0cmluZyhvLGErMSk7YnJlYWs7ZGVmYXVsdDp2KCdJbnZhbGlkIGVuY29kZWQgcmVzb3VyY2UgcGF0aDogIicrZSsnIicpfW89YSsyfXJldHVybiBuZXcgaGUocil9dmFyIENlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2lmKHRoaXMuc2Vjb25kcz1lLHRoaXMubmFub3NlY29uZHM9dCx0PDApdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJUaW1lc3RhbXAgbmFub3NlY29uZHMgb3V0IG9mIHJhbmdlOiAiK3QpO2lmKHQ+PTFlOSl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIlRpbWVzdGFtcCBuYW5vc2Vjb25kcyBvdXQgb2YgcmFuZ2U6ICIrdCk7aWYoZTwtNjIxMzU1OTY4MDApdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJUaW1lc3RhbXAgc2Vjb25kcyBvdXQgb2YgcmFuZ2U6ICIrZSk7aWYoZT49MjUzNDAyMzAwODAwKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiVGltZXN0YW1wIHNlY29uZHMgb3V0IG9mIHJhbmdlOiAiK2UpfXJldHVybiBlLm5vdz1mdW5jdGlvbigpe3JldHVybiBlLmZyb21NaWxsaXMoRGF0ZS5ub3coKSl9LGUuZnJvbURhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIGUuZnJvbU1pbGxpcyh0LmdldFRpbWUoKSl9LGUuZnJvbU1pbGxpcz1mdW5jdGlvbih0KXt2YXIgbj1NYXRoLmZsb29yKHQvMWUzKTtyZXR1cm4gbmV3IGUobiwxZTYqKHQtMWUzKm4pKX0sZS5wcm90b3R5cGUudG9EYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMudG9NaWxsaXMoKSl9LGUucHJvdG90eXBlLnRvTWlsbGlzPWZ1bmN0aW9uKCl7cmV0dXJuIDFlMyp0aGlzLnNlY29uZHMrdGhpcy5uYW5vc2Vjb25kcy8xZTZ9LGUucHJvdG90eXBlLl9jb21wYXJlVG89ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2Vjb25kcz09PWUuc2Vjb25kcz9YKHRoaXMubmFub3NlY29uZHMsZS5uYW5vc2Vjb25kcyk6WCh0aGlzLnNlY29uZHMsZS5zZWNvbmRzKX0sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gZS5zZWNvbmRzPT09dGhpcy5zZWNvbmRzJiZlLm5hbm9zZWNvbmRzPT09dGhpcy5uYW5vc2Vjb25kc30sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iVGltZXN0YW1wKHNlY29uZHM9Iit0aGlzLnNlY29uZHMrIiwgbmFub3NlY29uZHM9Iit0aGlzLm5hbm9zZWNvbmRzKyIpIn0sZX0oKSxEZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy50aW1lc3RhbXA9ZX1yZXR1cm4gZS5mcm9tTWljcm9zZWNvbmRzPWZ1bmN0aW9uKHQpe3ZhciBuPU1hdGguZmxvb3IodC8xZTYpO3JldHVybiBuZXcgZShuZXcgQ2Uobix0JTFlNioxZTMpKX0sZS5mcm9tVGltZXN0YW1wPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0sZS5mb3JEZWxldGVkRG9jPWZ1bmN0aW9uKCl7cmV0dXJuIGUuTUlOfSxlLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGltZXN0YW1wLl9jb21wYXJlVG8oZS50aW1lc3RhbXApfSxlLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRpbWVzdGFtcC5pc0VxdWFsKGUudGltZXN0YW1wKX0sZS5wcm90b3R5cGUudG9NaWNyb3NlY29uZHM9ZnVuY3Rpb24oKXtyZXR1cm4gMWU2KnRoaXMudGltZXN0YW1wLnNlY29uZHMrdGhpcy50aW1lc3RhbXAubmFub3NlY29uZHMvMWUzfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJTbmFwc2hvdFZlcnNpb24oIit0aGlzLnRpbWVzdGFtcC50b1N0cmluZygpKyIpIn0sZS5wcm90b3R5cGUudG9UaW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lc3RhbXB9LGUuTUlOPW5ldyBlKG5ldyBDZSgwLDApKSxlfSgpLF9lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuY29tcGFyYXRvcj1lLHRoaXMucm9vdD10fHxBZS5FTVBUWX1yZXR1cm4gZS5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBlKHRoaXMuY29tcGFyYXRvcix0aGlzLnJvb3QuaW5zZXJ0KHQsbix0aGlzLmNvbXBhcmF0b3IpLmNvcHkobnVsbCxudWxsLEFlLkJMQUNLLG51bGwsbnVsbCkpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHRoaXMuY29tcGFyYXRvcix0aGlzLnJvb3QucmVtb3ZlKHQsdGhpcy5jb21wYXJhdG9yKS5jb3B5KG51bGwsbnVsbCxBZS5CTEFDSyxudWxsLG51bGwpKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnJvb3Q7IXQuaXNFbXB0eSgpOyl7dmFyIG49dGhpcy5jb21wYXJhdG9yKGUsdC5rZXkpO2lmKDA9PT1uKXJldHVybiB0LnZhbHVlO248MD90PXQubGVmdDpuPjAmJih0PXQucmlnaHQpfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49dGhpcy5yb290OyFuLmlzRW1wdHkoKTspe3ZhciByPXRoaXMuY29tcGFyYXRvcihlLG4ua2V5KTtpZigwPT09cilyZXR1cm4gdCtuLmxlZnQuc2l6ZTtyPDA/bj1uLmxlZnQ6KHQrPW4ubGVmdC5zaXplKzEsbj1uLnJpZ2h0KX1yZXR1cm4tMX0sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJvb3QuaXNFbXB0eSgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb290LnNpemV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubWluS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdC5taW5LZXkoKX0sZS5wcm90b3R5cGUubWF4S2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdC5tYXhLZXkoKX0sZS5wcm90b3R5cGUuaW5vcmRlclRyYXZlcnNhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yb290Lmlub3JkZXJUcmF2ZXJzYWwoZSl9LGUucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZSl7dGhpcy5pbm9yZGVyVHJhdmVyc2FsKChmdW5jdGlvbih0LG4pe3JldHVybiBlKHQsbiksITF9KSl9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuaW5vcmRlclRyYXZlcnNhbCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5wdXNoKHQrIjoiK24pLCExfSkpLCJ7IitlLmpvaW4oIiwgIikrIn0ifSxlLnByb3RvdHlwZS5yZXZlcnNlVHJhdmVyc2FsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJvb3QucmV2ZXJzZVRyYXZlcnNhbChlKX0sZS5wcm90b3R5cGUuZ2V0SXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE5lKHRoaXMucm9vdCxudWxsLHRoaXMuY29tcGFyYXRvciwhMSl9LGUucHJvdG90eXBlLmdldEl0ZXJhdG9yRnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE5lKHRoaXMucm9vdCxlLHRoaXMuY29tcGFyYXRvciwhMSl9LGUucHJvdG90eXBlLmdldFJldmVyc2VJdGVyYXRvcj1mdW5jdGlvbigpe3JldHVybiBuZXcgTmUodGhpcy5yb290LG51bGwsdGhpcy5jb21wYXJhdG9yLCEwKX0sZS5wcm90b3R5cGUuZ2V0UmV2ZXJzZUl0ZXJhdG9yRnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE5lKHRoaXMucm9vdCxlLHRoaXMuY29tcGFyYXRvciwhMCl9LGV9KCksTmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLHIpe3RoaXMuaXNSZXZlcnNlPXIsdGhpcy5ub2RlU3RhY2s9W107Zm9yKHZhciBpPTE7IWUuaXNFbXB0eSgpOylpZihpPXQ/bihlLmtleSx0KToxLHImJihpKj0tMSksaTwwKWU9dGhpcy5pc1JldmVyc2U/ZS5sZWZ0OmUucmlnaHQ7ZWxzZXtpZigwPT09aSl7dGhpcy5ub2RlU3RhY2sucHVzaChlKTticmVha310aGlzLm5vZGVTdGFjay5wdXNoKGUpLGU9dGhpcy5pc1JldmVyc2U/ZS5yaWdodDplLmxlZnR9fXJldHVybiBlLnByb3RvdHlwZS5nZXROZXh0PWZ1bmN0aW9uKCl7dyh0aGlzLm5vZGVTdGFjay5sZW5ndGg+MCwiZ2V0TmV4dCgpIGNhbGxlZCBvbiBpdGVyYXRvciB3aGVuIGhhc05leHQoKSBpcyBmYWxzZS4iKTt2YXIgZT10aGlzLm5vZGVTdGFjay5wb3AoKSx0PXtrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZX07aWYodGhpcy5pc1JldmVyc2UpZm9yKGU9ZS5sZWZ0OyFlLmlzRW1wdHkoKTspdGhpcy5ub2RlU3RhY2sucHVzaChlKSxlPWUucmlnaHQ7ZWxzZSBmb3IoZT1lLnJpZ2h0OyFlLmlzRW1wdHkoKTspdGhpcy5ub2RlU3RhY2sucHVzaChlKSxlPWUubGVmdDtyZXR1cm4gdH0sZS5wcm90b3R5cGUuaGFzTmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGVTdGFjay5sZW5ndGg+MH0sZS5wcm90b3R5cGUucGVlaz1mdW5jdGlvbigpe2lmKDA9PT10aGlzLm5vZGVTdGFjay5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGU9dGhpcy5ub2RlU3RhY2tbdGhpcy5ub2RlU3RhY2subGVuZ3RoLTFdO3JldHVybntrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZX19LGV9KCksQWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixyLGksbyl7dGhpcy5rZXk9dCx0aGlzLnZhbHVlPW4sdGhpcy5jb2xvcj1udWxsIT1yP3I6ZS5SRUQsdGhpcy5sZWZ0PW51bGwhPWk/aTplLkVNUFRZLHRoaXMucmlnaHQ9bnVsbCE9bz9vOmUuRU1QVFksdGhpcy5zaXplPXRoaXMubGVmdC5zaXplKzErdGhpcy5yaWdodC5zaXplfXJldHVybiBlLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQsbixyLGksbyl7cmV0dXJuIG5ldyBlKG51bGwhPXQ/dDp0aGlzLmtleSxudWxsIT1uP246dGhpcy52YWx1ZSxudWxsIT1yP3I6dGhpcy5jb2xvcixudWxsIT1pP2k6dGhpcy5sZWZ0LG51bGwhPW8/bzp0aGlzLnJpZ2h0KX0sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS5pbm9yZGVyVHJhdmVyc2FsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxlZnQuaW5vcmRlclRyYXZlcnNhbChlKXx8ZSh0aGlzLmtleSx0aGlzLnZhbHVlKXx8dGhpcy5yaWdodC5pbm9yZGVyVHJhdmVyc2FsKGUpfSxlLnByb3RvdHlwZS5yZXZlcnNlVHJhdmVyc2FsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJpZ2h0LnJldmVyc2VUcmF2ZXJzYWwoZSl8fGUodGhpcy5rZXksdGhpcy52YWx1ZSl8fHRoaXMubGVmdC5yZXZlcnNlVHJhdmVyc2FsKGUpfSxlLnByb3RvdHlwZS5taW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZWZ0LmlzRW1wdHkoKT90aGlzOnRoaXMubGVmdC5taW4oKX0sZS5wcm90b3R5cGUubWluS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWluKCkua2V5fSxlLnByb3RvdHlwZS5tYXhLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yaWdodC5pc0VtcHR5KCk/dGhpcy5rZXk6dGhpcy5yaWdodC5tYXhLZXkoKX0sZS5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLGk9bihlLHIua2V5KTtyZXR1cm4ocj1pPDA/ci5jb3B5KG51bGwsbnVsbCxudWxsLHIubGVmdC5pbnNlcnQoZSx0LG4pLG51bGwpOjA9PT1pP3IuY29weShudWxsLHQsbnVsbCxudWxsLG51bGwpOnIuY29weShudWxsLG51bGwsbnVsbCxudWxsLHIucmlnaHQuaW5zZXJ0KGUsdCxuKSkpLmZpeFVwKCl9LGUucHJvdG90eXBlLnJlbW92ZU1pbj1mdW5jdGlvbigpe2lmKHRoaXMubGVmdC5pc0VtcHR5KCkpcmV0dXJuIGUuRU1QVFk7dmFyIHQ9dGhpcztyZXR1cm4gdC5sZWZ0LmlzUmVkKCl8fHQubGVmdC5sZWZ0LmlzUmVkKCl8fCh0PXQubW92ZVJlZExlZnQoKSksKHQ9dC5jb3B5KG51bGwsbnVsbCxudWxsLHQubGVmdC5yZW1vdmVNaW4oKSxudWxsKSkuZml4VXAoKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsbil7dmFyIHIsaT10aGlzO2lmKG4odCxpLmtleSk8MClpLmxlZnQuaXNFbXB0eSgpfHxpLmxlZnQuaXNSZWQoKXx8aS5sZWZ0LmxlZnQuaXNSZWQoKXx8KGk9aS5tb3ZlUmVkTGVmdCgpKSxpPWkuY29weShudWxsLG51bGwsbnVsbCxpLmxlZnQucmVtb3ZlKHQsbiksbnVsbCk7ZWxzZXtpZihpLmxlZnQuaXNSZWQoKSYmKGk9aS5yb3RhdGVSaWdodCgpKSxpLnJpZ2h0LmlzRW1wdHkoKXx8aS5yaWdodC5pc1JlZCgpfHxpLnJpZ2h0LmxlZnQuaXNSZWQoKXx8KGk9aS5tb3ZlUmVkUmlnaHQoKSksMD09PW4odCxpLmtleSkpe2lmKGkucmlnaHQuaXNFbXB0eSgpKXJldHVybiBlLkVNUFRZO3I9aS5yaWdodC5taW4oKSxpPWkuY29weShyLmtleSxyLnZhbHVlLG51bGwsbnVsbCxpLnJpZ2h0LnJlbW92ZU1pbigpKX1pPWkuY29weShudWxsLG51bGwsbnVsbCxudWxsLGkucmlnaHQucmVtb3ZlKHQsbikpfXJldHVybiBpLmZpeFVwKCl9LGUucHJvdG90eXBlLmlzUmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sb3J9LGUucHJvdG90eXBlLmZpeFVwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZS5yaWdodC5pc1JlZCgpJiYhZS5sZWZ0LmlzUmVkKCkmJihlPWUucm90YXRlTGVmdCgpKSxlLmxlZnQuaXNSZWQoKSYmZS5sZWZ0LmxlZnQuaXNSZWQoKSYmKGU9ZS5yb3RhdGVSaWdodCgpKSxlLmxlZnQuaXNSZWQoKSYmZS5yaWdodC5pc1JlZCgpJiYoZT1lLmNvbG9yRmxpcCgpKSxlfSxlLnByb3RvdHlwZS5tb3ZlUmVkTGVmdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY29sb3JGbGlwKCk7cmV0dXJuIGUucmlnaHQubGVmdC5pc1JlZCgpJiYoZT0oZT0oZT1lLmNvcHkobnVsbCxudWxsLG51bGwsbnVsbCxlLnJpZ2h0LnJvdGF0ZVJpZ2h0KCkpKS5yb3RhdGVMZWZ0KCkpLmNvbG9yRmxpcCgpKSxlfSxlLnByb3RvdHlwZS5tb3ZlUmVkUmlnaHQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvbG9yRmxpcCgpO3JldHVybiBlLmxlZnQubGVmdC5pc1JlZCgpJiYoZT0oZT1lLnJvdGF0ZVJpZ2h0KCkpLmNvbG9yRmxpcCgpKSxlfSxlLnByb3RvdHlwZS5yb3RhdGVMZWZ0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb3B5KG51bGwsbnVsbCxlLlJFRCxudWxsLHRoaXMucmlnaHQubGVmdCk7cmV0dXJuIHRoaXMucmlnaHQuY29weShudWxsLG51bGwsdGhpcy5jb2xvcix0LG51bGwpfSxlLnByb3RvdHlwZS5yb3RhdGVSaWdodD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29weShudWxsLG51bGwsZS5SRUQsdGhpcy5sZWZ0LnJpZ2h0LG51bGwpO3JldHVybiB0aGlzLmxlZnQuY29weShudWxsLG51bGwsdGhpcy5jb2xvcixudWxsLHQpfSxlLnByb3RvdHlwZS5jb2xvckZsaXA9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlZnQuY29weShudWxsLG51bGwsIXRoaXMubGVmdC5jb2xvcixudWxsLG51bGwpLHQ9dGhpcy5yaWdodC5jb3B5KG51bGwsbnVsbCwhdGhpcy5yaWdodC5jb2xvcixudWxsLG51bGwpO3JldHVybiB0aGlzLmNvcHkobnVsbCxudWxsLCF0aGlzLmNvbG9yLGUsdCl9LGUucHJvdG90eXBlLmNoZWNrTWF4RGVwdGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNoZWNrKCk7cmV0dXJuIE1hdGgucG93KDIsZSk8PXRoaXMuc2l6ZSsxfSxlLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe2lmKHRoaXMuaXNSZWQoKSYmdGhpcy5sZWZ0LmlzUmVkKCkpdGhyb3cgdigiUmVkIG5vZGUgaGFzIHJlZCBjaGlsZCgiK3RoaXMua2V5KyIsIit0aGlzLnZhbHVlKyIpIik7aWYodGhpcy5yaWdodC5pc1JlZCgpKXRocm93IHYoIlJpZ2h0IGNoaWxkIG9mICgiK3RoaXMua2V5KyIsIit0aGlzLnZhbHVlKyIpIGlzIHJlZCIpO3ZhciBlPXRoaXMubGVmdC5jaGVjaygpO2lmKGUhPT10aGlzLnJpZ2h0LmNoZWNrKCkpdGhyb3cgdigiQmxhY2sgZGVwdGhzIGRpZmZlciIpO3JldHVybiBlKyh0aGlzLmlzUmVkKCk/MDoxKX0sZS5FTVBUWT1udWxsLGUuUkVEPSEwLGUuQkxBQ0s9ITEsZX0oKSxrZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnNpemU9MH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJrZXkiLHtnZXQ6ZnVuY3Rpb24oKXt0aHJvdyB2KCJMTFJCRW1wdHlOb2RlIGhhcyBubyBrZXkuIil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ2YWx1ZSIse2dldDpmdW5jdGlvbigpe3Rocm93IHYoIkxMUkJFbXB0eU5vZGUgaGFzIG5vIHZhbHVlLiIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29sb3IiLHtnZXQ6ZnVuY3Rpb24oKXt0aHJvdyB2KCJMTFJCRW1wdHlOb2RlIGhhcyBubyBjb2xvci4iKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxlZnQiLHtnZXQ6ZnVuY3Rpb24oKXt0aHJvdyB2KCJMTFJCRW1wdHlOb2RlIGhhcyBubyBsZWZ0IGNoaWxkLiIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmlnaHQiLHtnZXQ6ZnVuY3Rpb24oKXt0aHJvdyB2KCJMTFJCRW1wdHlOb2RlIGhhcyBubyByaWdodCBjaGlsZC4iKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUsdCxuLHIsaSl7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG5ldyBBZShlLHQpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiEwfSxlLnByb3RvdHlwZS5pbm9yZGVyVHJhdmVyc2FsPWZ1bmN0aW9uKGUpe3JldHVybiExfSxlLnByb3RvdHlwZS5yZXZlcnNlVHJhdmVyc2FsPWZ1bmN0aW9uKGUpe3JldHVybiExfSxlLnByb3RvdHlwZS5taW5LZXk9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUubWF4S2V5PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmlzUmVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLmNoZWNrTWF4RGVwdGg9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZS5wcm90b3R5cGUuY2hlY2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sZX0oKTtBZS5FTVBUWT1uZXcga2U7dmFyIFJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmNvbXBhcmF0b3I9ZSx0aGlzLmRhdGE9bmV3IF9lKHRoaXMuY29tcGFyYXRvcil9cmV0dXJuIGUuZnJvbU1hcEtleXM9ZnVuY3Rpb24odCl7dmFyIG49bmV3IGUodC5jb21wYXJhdG9yKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXtuPW4uYWRkKGUpfSkpLG59LGUucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PXRoaXMuZGF0YS5nZXQoZSl9LGUucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5taW5LZXkoKX0sZS5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEubWF4S2V5KCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuc2l6ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGEuaW5kZXhPZihlKX0sZS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXt0aGlzLmRhdGEuaW5vcmRlclRyYXZlcnNhbCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZSh0KSwhMX0pKX0sZS5wcm90b3R5cGUuZm9yRWFjaEluUmFuZ2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy5kYXRhLmdldEl0ZXJhdG9yRnJvbShlWzBdKTtuLmhhc05leHQoKTspe3ZhciByPW4uZ2V0TmV4dCgpO2lmKHRoaXMuY29tcGFyYXRvcihyLmtleSxlWzFdKT49MClyZXR1cm47dChyLmtleSl9fSxlLnByb3RvdHlwZS5mb3JFYWNoV2hpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbjtmb3Iobj12b2lkIDAhPT10P3RoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20odCk6dGhpcy5kYXRhLmdldEl0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXtpZighZShuLmdldE5leHQoKS5rZXkpKXJldHVybn19LGUucHJvdG90eXBlLmZpcnN0QWZ0ZXJPckVxdWFsPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20oZSk7cmV0dXJuIHQuaGFzTmV4dCgpP3QuZ2V0TmV4dCgpLmtleTpudWxsfSxlLnByb3RvdHlwZS5nZXRJdGVyYXRvcj1mdW5jdGlvbigpe3JldHVybiBuZXcgTWUodGhpcy5kYXRhLmdldEl0ZXJhdG9yKCkpfSxlLnByb3RvdHlwZS5nZXRJdGVyYXRvckZyb209ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBNZSh0aGlzLmRhdGEuZ2V0SXRlcmF0b3JGcm9tKGUpKX0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvcHkodGhpcy5kYXRhLnJlbW92ZShlKS5pbnNlcnQoZSwhMCkpfSxlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaGFzKGUpP3RoaXMuY29weSh0aGlzLmRhdGEucmVtb3ZlKGUpKTp0aGlzfSxlLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5pc0VtcHR5KCl9LGUucHJvdG90eXBlLnVuaW9uV2l0aD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3Q9dC5hZGQoZSl9KSksdH0sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBlKSlyZXR1cm4hMTtpZih0aGlzLnNpemUhPT10LnNpemUpcmV0dXJuITE7Zm9yKHZhciBuPXRoaXMuZGF0YS5nZXRJdGVyYXRvcigpLHI9dC5kYXRhLmdldEl0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgaT1uLmdldE5leHQoKS5rZXksbz1yLmdldE5leHQoKS5rZXk7aWYoMCE9PXRoaXMuY29tcGFyYXRvcihpLG8pKXJldHVybiExfXJldHVybiEwfSxlLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5wdXNoKHQpfSkpLGV9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGUucHVzaCh0KX0pKSwiU29ydGVkU2V0KCIrZS50b1N0cmluZygpKyIpIn0sZS5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXt2YXIgbj1uZXcgZSh0aGlzLmNvbXBhcmF0b3IpO3JldHVybiBuLmRhdGE9dCxufSxlfSgpLE1lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLml0ZXI9ZX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0TmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXIuZ2V0TmV4dCgpLmtleX0sZS5wcm90b3R5cGUuaGFzTmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXIuaGFzTmV4dCgpfSxlfSgpLExlPW5ldyBfZShkZS5jb21wYXJhdG9yKTtmdW5jdGlvbiBPZSgpe3JldHVybiBMZX1mdW5jdGlvbiB4ZSgpe3JldHVybiBPZSgpfXZhciBQZT1uZXcgX2UoZGUuY29tcGFyYXRvcik7ZnVuY3Rpb24gRmUoKXtyZXR1cm4gUGV9dmFyIHFlPW5ldyBfZShkZS5jb21wYXJhdG9yKTtmdW5jdGlvbiBWZSgpe3JldHVybiBxZX12YXIgQmU9bmV3IFJlKGRlLmNvbXBhcmF0b3IpO2Z1bmN0aW9uIFVlKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO2Zvcih2YXIgbj1CZSxyPTAsaT1lO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO249bi5hZGQobyl9cmV0dXJuIG59dmFyIFFlPW5ldyBSZShYKTtmdW5jdGlvbiBLZSgpe3JldHVybiBRZX12YXIgemU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLHIpe3RoaXMuYmF0Y2hJZD1lLHRoaXMubG9jYWxXcml0ZVRpbWU9dCx0aGlzLmJhc2VNdXRhdGlvbnM9bix0aGlzLm11dGF0aW9ucz1yLHcoci5sZW5ndGg+MCwiQ2Fubm90IGNyZWF0ZSBhbiBlbXB0eSBtdXRhdGlvbiBiYXRjaCIpfXJldHVybiBlLnByb3RvdHlwZS5hcHBseVRvUmVtb3RlRG9jdW1lbnQ9ZnVuY3Rpb24oZSx0LG4pe3QmJncodC5rZXkuaXNFcXVhbChlKSwiYXBwbHlUb1JlbW90ZURvY3VtZW50OiBrZXkgIitlKyIgc2hvdWxkIG1hdGNoIG1heWJlRG9jIGtleVxuICAgICAgICAiK3Qua2V5KTt2YXIgcj1uLm11dGF0aW9uUmVzdWx0czt3KHIubGVuZ3RoPT09dGhpcy5tdXRhdGlvbnMubGVuZ3RoLCJNaXNtYXRjaCBiZXR3ZWVuIG11dGF0aW9ucyBsZW5ndGhcbiAgICAgICgiK3RoaXMubXV0YXRpb25zLmxlbmd0aCsiKSBhbmQgbXV0YXRpb24gcmVzdWx0cyBsZW5ndGhcbiAgICAgICgiK3IubGVuZ3RoKyIpLiIpO2Zvcih2YXIgaT0wO2k8dGhpcy5tdXRhdGlvbnMubGVuZ3RoO2krKyl7dmFyIG89dGhpcy5tdXRhdGlvbnNbaV07aWYoby5rZXkuaXNFcXVhbChlKSl7dmFyIGE9cltpXTt0PW8uYXBwbHlUb1JlbW90ZURvY3VtZW50KHQsYSl9fXJldHVybiB0fSxlLnByb3RvdHlwZS5hcHBseVRvTG9jYWxWaWV3PWZ1bmN0aW9uKGUsdCl7dCYmdyh0LmtleS5pc0VxdWFsKGUpLCJhcHBseVRvTG9jYWxEb2N1bWVudDoga2V5ICIrZSsiIHNob3VsZCBtYXRjaCBtYXliZURvYyBrZXlcbiAgICAgICAgIit0LmtleSk7Zm9yKHZhciBuPTAscj10aGlzLmJhc2VNdXRhdGlvbnM7bjxyLmxlbmd0aDtuKyspeyhzPXJbbl0pLmtleS5pc0VxdWFsKGUpJiYodD1zLmFwcGx5VG9Mb2NhbFZpZXcodCx0LHRoaXMubG9jYWxXcml0ZVRpbWUpKX1mb3IodmFyIGk9dCxvPTAsYT10aGlzLm11dGF0aW9ucztvPGEubGVuZ3RoO28rKyl7dmFyIHM7KHM9YVtvXSkua2V5LmlzRXF1YWwoZSkmJih0PXMuYXBwbHlUb0xvY2FsVmlldyh0LGksdGhpcy5sb2NhbFdyaXRlVGltZSkpfXJldHVybiB0fSxlLnByb3RvdHlwZS5hcHBseVRvTG9jYWxEb2N1bWVudFNldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZTtyZXR1cm4gdGhpcy5tdXRhdGlvbnMuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9dC5hcHBseVRvTG9jYWxWaWV3KHIua2V5LGUuZ2V0KHIua2V5KSk7aSYmKG49bi5pbnNlcnQoci5rZXksaSkpfSkpLG59LGUucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tdXRhdGlvbnMucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmFkZCh0LmtleSl9KSxVZSgpKX0sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5iYXRjaElkPT09ZS5iYXRjaElkJiZaKHRoaXMubXV0YXRpb25zLGUubXV0YXRpb25zKSYmWih0aGlzLmJhc2VNdXRhdGlvbnMsZS5iYXNlTXV0YXRpb25zKX0sZX0oKSxXZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scixpKXt0aGlzLmJhdGNoPWUsdGhpcy5jb21taXRWZXJzaW9uPXQsdGhpcy5tdXRhdGlvblJlc3VsdHM9bix0aGlzLnN0cmVhbVRva2VuPXIsdGhpcy5kb2NWZXJzaW9ucz1pfXJldHVybiBlLmZyb209ZnVuY3Rpb24odCxuLHIsaSl7dyh0Lm11dGF0aW9ucy5sZW5ndGg9PT1yLmxlbmd0aCwiTXV0YXRpb25zIHNlbnQgIit0Lm11dGF0aW9ucy5sZW5ndGgrIiBtdXN0IGVxdWFsIHJlc3VsdHMgcmVjZWl2ZWQgIityLmxlbmd0aCk7Zm9yKHZhciBvPVZlKCksYT10Lm11dGF0aW9ucyxzPTA7czxhLmxlbmd0aDtzKyspbz1vLmluc2VydChhW3NdLmtleSxyW3NdLnZlcnNpb24pO3JldHVybiBuZXcgZSh0LG4scixpLG8pfSxlfSgpLEdlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdD10aGlzO3RoaXMubmV4dENhbGxiYWNrPW51bGwsdGhpcy5jYXRjaENhbGxiYWNrPW51bGwsdGhpcy5yZXN1bHQ9dm9pZCAwLHRoaXMuZXJyb3I9dm9pZCAwLHRoaXMuaXNEb25lPSExLHRoaXMuY2FsbGJhY2tBdHRhY2hlZD0hMSxlKChmdW5jdGlvbihlKXt0LmlzRG9uZT0hMCx0LnJlc3VsdD1lLHQubmV4dENhbGxiYWNrJiZ0Lm5leHRDYWxsYmFjayhlKX0pLChmdW5jdGlvbihlKXt0LmlzRG9uZT0hMCx0LmVycm9yPWUsdC5jYXRjaENhbGxiYWNrJiZ0LmNhdGNoQ2FsbGJhY2soZSl9KSl9cmV0dXJuIGUucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5leHQodm9pZCAwLGUpfSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKHQsbil7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5jYWxsYmFja0F0dGFjaGVkJiZ2KCJDYWxsZWQgbmV4dCgpIG9yIGNhdGNoKCkgdHdpY2UgZm9yIFBlcnNpc3RlbmNlUHJvbWlzZSIpLHRoaXMuY2FsbGJhY2tBdHRhY2hlZD0hMCx0aGlzLmlzRG9uZT90aGlzLmVycm9yP3RoaXMud3JhcEZhaWx1cmUobix0aGlzLmVycm9yKTp0aGlzLndyYXBTdWNjZXNzKHQsdGhpcy5yZXN1bHQpOm5ldyBlKChmdW5jdGlvbihlLGkpe3IubmV4dENhbGxiYWNrPWZ1bmN0aW9uKG4pe3Iud3JhcFN1Y2Nlc3ModCxuKS5uZXh0KGUsaSl9LHIuY2F0Y2hDYWxsYmFjaz1mdW5jdGlvbih0KXtyLndyYXBGYWlsdXJlKG4sdCkubmV4dChlLGkpfX0pKX0sZS5wcm90b3R5cGUudG9Qcm9taXNlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7ZS5uZXh0KHQsbil9KSl9LGUucHJvdG90eXBlLndyYXBVc2VyRnVuY3Rpb249ZnVuY3Rpb24odCl7dHJ5e3ZhciBuPXQoKTtyZXR1cm4gbiBpbnN0YW5jZW9mIGU/bjplLnJlc29sdmUobil9Y2F0Y2gocil7cmV0dXJuIGUucmVqZWN0KHIpfX0sZS5wcm90b3R5cGUud3JhcFN1Y2Nlc3M9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdD90aGlzLndyYXBVc2VyRnVuY3Rpb24oKGZ1bmN0aW9uKCl7cmV0dXJuIHQobil9KSk6ZS5yZXNvbHZlKG4pfSxlLnByb3RvdHlwZS53cmFwRmFpbHVyZT1mdW5jdGlvbih0LG4pe3JldHVybiB0P3RoaXMud3JhcFVzZXJGdW5jdGlvbigoZnVuY3Rpb24oKXtyZXR1cm4gdChuKX0pKTplLnJlamVjdChuKX0sZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSgoZnVuY3Rpb24oZSxuKXtlKHQpfSkpfSxlLnJlamVjdD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUoKGZ1bmN0aW9uKGUsbil7bih0KX0pKX0sZS53YWl0Rm9yPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSgoZnVuY3Rpb24oZSxuKXt2YXIgcj0wLGk9MCxvPSExO3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7KytyLHQubmV4dCgoZnVuY3Rpb24oKXsrK2ksbyYmaT09PXImJmUoKX0pLChmdW5jdGlvbihlKXtyZXR1cm4gbihlKX0pKX0pKSxvPSEwLGk9PT1yJiZlKCl9KSl9LGUub3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBuPWUucmVzb2x2ZSghMSkscj1mdW5jdGlvbih0KXtuPW4ubmV4dCgoZnVuY3Rpb24obil7cmV0dXJuIG4/ZS5yZXNvbHZlKG4pOnQoKX0pKX0saT0wLG89dDtpPG8ubGVuZ3RoO2krKyl7cihvW2ldKX1yZXR1cm4gbn0sZS5mb3JFYWNoPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7ci5wdXNoKHQuY2FsbChuLGUsaSkpfSkpLHRoaXMud2FpdEZvcihyKX0sZX0oKSxqZT0iU2ltcGxlRGIiLEhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt0aGlzLmRiPWUsMTIuMj09PXQuZ2V0SU9TVmVyc2lvbih1LmdldFVBKCkpJiZ5KCJGaXJlc3RvcmUgcGVyc2lzdGVuY2Ugc3VmZmVycyBmcm9tIGEgYnVnIGluIGlPUyAxMi4yIFNhZmFyaSB0aGF0IG1heSBjYXVzZSB5b3VyIGFwcCB0byBzdG9wIHdvcmtpbmcuIFNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvNTY0OTYyOTYvMTEwOTE1IGZvciBkZXRhaWxzIGFuZCBhIHBvdGVudGlhbCB3b3JrYXJvdW5kLiIpfXJldHVybiB0Lm9wZW5PckNyZWF0ZT1mdW5jdGlvbihlLG4scil7cmV0dXJuIHcodC5pc0F2YWlsYWJsZSgpLCJJbmRleGVkREIgbm90IHN1cHBvcnRlZCBpbiBjdXJyZW50IGVudmlyb25tZW50LiIpLG0oamUsIk9wZW5pbmcgZGF0YWJhc2U6IixlKSxuZXcgR2UoKGZ1bmN0aW9uKGksbyl7dmFyIGE9d2luZG93LmluZGV4ZWREQi5vcGVuKGUsbik7YS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIG49ZS50YXJnZXQucmVzdWx0O2kobmV3IHQobikpfSxhLm9uYmxvY2tlZD1mdW5jdGlvbigpe28obmV3IEUoUy5GQUlMRURfUFJFQ09ORElUSU9OLCJDYW5ub3QgdXBncmFkZSBJbmRleGVkREIgc2NoZW1hIHdoaWxlIGFub3RoZXIgdGFiIGlzIG9wZW4uIENsb3NlIGFsbCB0YWJzIHRoYXQgYWNjZXNzIEZpcmVzdG9yZSBhbmQgcmVsb2FkIHRoaXMgcGFnZSB0byBwcm9jZWVkLiIpKX0sYS5vbmVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LmVycm9yOyJWZXJzaW9uRXJyb3IiPT09dC5uYW1lP28obmV3IEUoUy5GQUlMRURfUFJFQ09ORElUSU9OLCJBIG5ld2VyIHZlcnNpb24gb2YgdGhlIEZpcmVzdG9yZSBTREsgd2FzIHByZXZpb3VzbHkgdXNlZCBhbmQgc28gdGhlIHBlcnNpc3RlZCBkYXRhIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIHZlcnNpb24gb2YgdGhlIFNESyB5b3UgYXJlIG5vdyB1c2luZy4gVGhlIFNESyB3aWxsIG9wZXJhdGUgd2l0aCBwZXJzaXN0ZW5jZSBkaXNhYmxlZC4gSWYgeW91IG5lZWQgcGVyc2lzdGVuY2UsIHBsZWFzZSByZS11cGdyYWRlIHRvIGEgbmV3ZXIgdmVyc2lvbiBvZiB0aGUgU0RLIG9yIGVsc2UgY2xlYXIgdGhlIHBlcnNpc3RlZCBJbmRleGVkREIgZGF0YSBmb3IgeW91ciBhcHAgdG8gc3RhcnQgZnJlc2guIikpOm8odCl9LGEub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKHQpe20oamUsJ0RhdGFiYXNlICInK2UrJyIgcmVxdWlyZXMgdXBncmFkZSBmcm9tIHZlcnNpb246Jyx0Lm9sZFZlcnNpb24pO3ZhciBuPXQudGFyZ2V0LnJlc3VsdDtyLmNyZWF0ZU9yVXBncmFkZShuLGEudHJhbnNhY3Rpb24sdC5vbGRWZXJzaW9uLG9uKS5uZXh0KChmdW5jdGlvbigpe20oamUsIkRhdGFiYXNlIHVwZ3JhZGUgdG8gdmVyc2lvbiAiK29uKyIgY29tcGxldGUiKX0pKX19KSkudG9Qcm9taXNlKCl9LHQuZGVsZXRlPWZ1bmN0aW9uKGUpe3JldHVybiBtKGplLCJSZW1vdmluZyBkYXRhYmFzZToiLGUpLFplKHdpbmRvdy5pbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoZSkpLnRvUHJvbWlzZSgpfSx0LmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PT10eXBlb2Ygd2luZG93fHxudWxsPT13aW5kb3cuaW5kZXhlZERCKXJldHVybiExO2lmKHQuaXNNb2NrUGVyc2lzdGVuY2UoKSlyZXR1cm4hMDtpZih2b2lkIDA9PT13aW5kb3cubmF2aWdhdG9yKXJldHVybiExO3ZhciBlPXUuZ2V0VUEoKSxuPXQuZ2V0SU9TVmVyc2lvbihlKSxyPTA8biYmbjwxMCxpPXQuZ2V0QW5kcm9pZFZlcnNpb24oZSksbz0wPGkmJmk8NC41O3JldHVybiEoZS5pbmRleE9mKCJNU0lFICIpPjB8fGUuaW5kZXhPZigiVHJpZGVudC8iKT4wfHxlLmluZGV4T2YoIkVkZ2UvIik+MHx8cnx8byl9LHQuaXNNb2NrUGVyc2lzdGVuY2U9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4idW5kZWZpbmVkIiE9PXR5cGVvZiBlJiYiWUVTIj09PShudWxsPT09KHQ9ZS5lbnYpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LlVTRV9NT0NLX1BFUlNJU1RFTkNFKX0sdC5nZXRTdG9yZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnN0b3JlKHQpfSx0LmdldElPU1ZlcnNpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXRjaCgvaSg/OnBob25lfHBhZHxwb2QpIG9zIChbXGRfXSspL2kpLG49dD90WzFdLnNwbGl0KCJfIikuc2xpY2UoMCwyKS5qb2luKCIuIik6Ii0xIjtyZXR1cm4gTnVtYmVyKG4pfSx0LmdldEFuZHJvaWRWZXJzaW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWUubWF0Y2goL0FuZHJvaWQgKFtcZC5dKykvaSksbj10P3RbMV0uc3BsaXQoIi4iKS5zbGljZSgwLDIpLmpvaW4oIi4iKToiLTEiO3JldHVybiBOdW1iZXIobil9LHQucHJvdG90eXBlLnNldFZlcnNpb25DaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbihlKXt0aGlzLmRiLm9udmVyc2lvbmNoYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KX19LHQucHJvdG90eXBlLnJ1blRyYW5zYWN0aW9uPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLGksbyxzLHUsYztyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihoKXtzd2l0Y2goaC5sYWJlbCl7Y2FzZSAwOnI9ZS5zdGFydHNXaXRoKCJyZWFkb25seSIpLGk9ZS5lbmRzV2l0aCgiaWRlbXBvdGVudCIpLG89MCxzPWZ1bmN0aW9uKCl7dmFyIGUscyxjLGg7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDorK28sZT1KZS5vcGVuKHUuZGIscj8icmVhZG9ubHkiOiJyZWFkd3JpdGUiLHQpLGEubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGEudHJ5cy5wdXNoKFsxLDMsLDRdKSwocz1uKGUpLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gZS5hYm9ydCh0KSxHZS5yZWplY3QodCl9KSkudG9Qcm9taXNlKCkpLmNhdGNoKChmdW5jdGlvbigpe30pKSxbNCxlLmNvbXBsZXRpb25Qcm9taXNlXTtjYXNlIDI6cmV0dXJuIGEuc2VudCgpLFsyLHt2YWx1ZTpzfV07Y2FzZSAzOnJldHVybiBjPWEuc2VudCgpLGg9aSYmIkZpcmViYXNlRXJyb3IiIT09Yy5uYW1lJiZvPDMsbShqZSwiVHJhbnNhY3Rpb24gZmFpbGVkIHdpdGggZXJyb3I6ICVzLiBSZXRyeWluZzogJXMuIixjLm1lc3NhZ2UsaCksaD9bMyw0XTpbMix7dmFsdWU6UHJvbWlzZS5yZWplY3QoYyl9XTtjYXNlIDQ6cmV0dXJuWzJdfX0pKX0sdT10aGlzLGgubGFiZWw9MTtjYXNlIDE6cmV0dXJuWzUscygpXTtjYXNlIDI6cmV0dXJuIm9iamVjdCI9PT10eXBlb2YoYz1oLnNlbnQoKSk/WzIsYy52YWx1ZV06WzMsMV07Y2FzZSAzOnJldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5kYi5jbG9zZSgpfSx0fSgpLFllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmRiQ3Vyc29yPWUsdGhpcy5zaG91bGRTdG9wPSExLHRoaXMubmV4dEtleT1udWxsfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzRG9uZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNob3VsZFN0b3B9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJza2lwVG9LZXkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXh0S2V5fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY3Vyc29yIix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuZGJDdXJzb3I9ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5kb25lPWZ1bmN0aW9uKCl7dGhpcy5zaG91bGRTdG9wPSEwfSxlLnByb3RvdHlwZS5za2lwPWZ1bmN0aW9uKGUpe3RoaXMubmV4dEtleT1lfSxlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gWmUodGhpcy5kYkN1cnNvci5kZWxldGUoKSl9LGV9KCksSmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciB0PXRoaXM7dGhpcy50cmFuc2FjdGlvbj1lLHRoaXMuYWJvcnRlZD0hMSx0aGlzLmNvbXBsZXRpb25EZWZlcnJlZD1uZXcgcGUsdGhpcy50cmFuc2FjdGlvbi5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7dC5jb21wbGV0aW9uRGVmZXJyZWQucmVzb2x2ZSgpfSx0aGlzLnRyYW5zYWN0aW9uLm9uYWJvcnQ9ZnVuY3Rpb24oKXtlLmVycm9yP3QuY29tcGxldGlvbkRlZmVycmVkLnJlamVjdChlLmVycm9yKTp0LmNvbXBsZXRpb25EZWZlcnJlZC5yZXNvbHZlKCl9LHRoaXMudHJhbnNhY3Rpb24ub25lcnJvcj1mdW5jdGlvbihlKXt2YXIgbj1ldChlLnRhcmdldC5lcnJvcik7dC5jb21wbGV0aW9uRGVmZXJyZWQucmVqZWN0KG4pfX1yZXR1cm4gZS5vcGVuPWZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gbmV3IGUodC50cmFuc2FjdGlvbihyLG4pKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjb21wbGV0aW9uUHJvbWlzZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBsZXRpb25EZWZlcnJlZC5wcm9taXNlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKGUpe2UmJnRoaXMuY29tcGxldGlvbkRlZmVycmVkLnJlamVjdChlKSx0aGlzLmFib3J0ZWR8fChtKGplLCJBYm9ydGluZyB0cmFuc2FjdGlvbjoiLGU/ZS5tZXNzYWdlOiJDbGllbnQtaW5pdGlhdGVkIGFib3J0IiksdGhpcy5hYm9ydGVkPSEwLHRoaXMudHJhbnNhY3Rpb24uYWJvcnQoKSl9LGUucHJvdG90eXBlLnN0b3JlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoZSk7cmV0dXJuIHcoISF0LCJPYmplY3Qgc3RvcmUgbm90IHBhcnQgb2YgdHJhbnNhY3Rpb246ICIrZSksbmV3IFhlKHQpfSxlfSgpLFhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnN0b3JlPWV9cmV0dXJuIGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiB2b2lkIDAhPT10PyhtKGplLCJQVVQiLHRoaXMuc3RvcmUubmFtZSxlLHQpLG49dGhpcy5zdG9yZS5wdXQodCxlKSk6KG0oamUsIlBVVCIsdGhpcy5zdG9yZS5uYW1lLCI8YXV0by1rZXk+IixlKSxuPXRoaXMuc3RvcmUucHV0KGUpKSxaZShuKX0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiBtKGplLCJBREQiLHRoaXMuc3RvcmUubmFtZSxlLGUpLFplKHRoaXMuc3RvcmUuYWRkKGUpKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIFplKHRoaXMuc3RvcmUuZ2V0KGUpKS5uZXh0KChmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49bnVsbCksbShqZSwiR0VUIix0LnN0b3JlLm5hbWUsZSxuKSxufSkpfSxlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG0oamUsIkRFTEVURSIsdGhpcy5zdG9yZS5uYW1lLGUpLFplKHRoaXMuc3RvcmUuZGVsZXRlKGUpKX0sZS5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbShqZSwiQ09VTlQiLHRoaXMuc3RvcmUubmFtZSksWmUodGhpcy5zdG9yZS5jb3VudCgpKX0sZS5wcm90b3R5cGUubG9hZEFsbD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY3Vyc29yKHRoaXMub3B0aW9ucyhlLHQpKSxyPVtdO3JldHVybiB0aGlzLml0ZXJhdGVDdXJzb3IobiwoZnVuY3Rpb24oZSx0KXtyLnB1c2godCl9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZS5wcm90b3R5cGUuZGVsZXRlQWxsPWZ1bmN0aW9uKGUsdCl7bShqZSwiREVMRVRFIEFMTCIsdGhpcy5zdG9yZS5uYW1lKTt2YXIgbj10aGlzLm9wdGlvbnMoZSx0KTtuLmtleXNPbmx5PSExO3ZhciByPXRoaXMuY3Vyc29yKG4pO3JldHVybiB0aGlzLml0ZXJhdGVDdXJzb3IociwoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuLmRlbGV0ZSgpfSkpfSxlLnByb3RvdHlwZS5pdGVyYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIG47dD9uPWU6KG49e30sdD1lKTt2YXIgcj10aGlzLmN1cnNvcihuKTtyZXR1cm4gdGhpcy5pdGVyYXRlQ3Vyc29yKHIsdCl9LGUucHJvdG90eXBlLml0ZXJhdGVTZXJpYWw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jdXJzb3Ioe30pO3JldHVybiBuZXcgR2UoKGZ1bmN0aW9uKG4scil7dC5vbmVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PWV0KGUudGFyZ2V0LmVycm9yKTtyKHQpfSx0Lm9uc3VjY2Vzcz1mdW5jdGlvbih0KXt2YXIgcj10LnRhcmdldC5yZXN1bHQ7cj9lKHIucHJpbWFyeUtleSxyLnZhbHVlKS5uZXh0KChmdW5jdGlvbihlKXtlP3IuY29udGludWUoKTpuKCl9KSk6bigpfX0pKX0sZS5wcm90b3R5cGUuaXRlcmF0ZUN1cnNvcj1mdW5jdGlvbihlLHQpe3ZhciBuPVtdO3JldHVybiBuZXcgR2UoKGZ1bmN0aW9uKHIsaSl7ZS5vbmVycm9yPWZ1bmN0aW9uKGUpe2koZS50YXJnZXQuZXJyb3IpfSxlLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgaT1lLnRhcmdldC5yZXN1bHQ7aWYoaSl7dmFyIG89bmV3IFllKGkpLGE9dChpLnByaW1hcnlLZXksaS52YWx1ZSxvKTtpZihhIGluc3RhbmNlb2YgR2Upe3ZhciBzPWEuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiBvLmRvbmUoKSxHZS5yZWplY3QoZSl9KSk7bi5wdXNoKHMpfW8uaXNEb25lP3IoKTpudWxsPT09by5za2lwVG9LZXk/aS5jb250aW51ZSgpOmkuY29udGludWUoby5za2lwVG9LZXkpfWVsc2UgcigpfX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBHZS53YWl0Rm9yKG4pfSkpfSxlLnByb3RvdHlwZS5vcHRpb25zPWZ1bmN0aW9uKGUsdCl7dmFyIG49dm9pZCAwO3JldHVybiB2b2lkIDAhPT1lJiYoInN0cmluZyI9PT10eXBlb2YgZT9uPWU6KHcodm9pZCAwPT09dCwiM3JkIGFyZ3VtZW50IG11c3Qgbm90IGJlIGRlZmluZWQgaWYgMm5kIGlzIGEgcmFuZ2UuIiksdD1lKSkse2luZGV4Om4scmFuZ2U6dH19LGUucHJvdG90eXBlLmN1cnNvcj1mdW5jdGlvbihlKXt2YXIgdD0ibmV4dCI7aWYoZS5yZXZlcnNlJiYodD0icHJldiIpLGUuaW5kZXgpe3ZhciBuPXRoaXMuc3RvcmUuaW5kZXgoZS5pbmRleCk7cmV0dXJuIGUua2V5c09ubHk/bi5vcGVuS2V5Q3Vyc29yKGUucmFuZ2UsdCk6bi5vcGVuQ3Vyc29yKGUucmFuZ2UsdCl9cmV0dXJuIHRoaXMuc3RvcmUub3BlbkN1cnNvcihlLnJhbmdlLHQpfSxlfSgpO2Z1bmN0aW9uIFplKGUpe3JldHVybiBuZXcgR2UoKGZ1bmN0aW9uKHQsbil7ZS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIG49ZS50YXJnZXQucmVzdWx0O3Qobil9LGUub25lcnJvcj1mdW5jdGlvbihlKXt2YXIgdD1ldChlLnRhcmdldC5lcnJvcik7bih0KX19KSl9dmFyICRlPSExO2Z1bmN0aW9uIGV0KGUpe3ZhciB0PUhlLmdldElPU1ZlcnNpb24odS5nZXRVQSgpKTtpZih0Pj0xMi4yJiZ0PDEzKXt2YXIgbj0iQW4gaW50ZXJuYWwgZXJyb3Igd2FzIGVuY291bnRlcmVkIGluIHRoZSBJbmRleGVkIERhdGFiYXNlIHNlcnZlciI7aWYoZS5tZXNzYWdlLmluZGV4T2Yobik+PTApe3ZhciByPW5ldyBFKCJpbnRlcm5hbCIsIklPU19JTkRFWEVEREJfQlVHMTogSW5kZXhlZERiIGhhcyB0aHJvd24gJyIrbisiJy4gVGhpcyBpcyBsaWtlbHkgZHVlIHRvIGFuIHVuYXZvaWRhYmxlIGJ1ZyBpbiBpT1MuIFNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvNTY0OTYyOTYvMTEwOTE1IGZvciBkZXRhaWxzIGFuZCBhIHBvdGVudGlhbCB3b3JrYXJvdW5kLiIpO3JldHVybiAkZXx8KCRlPSEwLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dGhyb3cgcn0pLDApKSxyfX1yZXR1cm4gZX12YXIgdHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLHIpe3RoaXMudXNlcklkPWUsdGhpcy5zZXJpYWxpemVyPXQsdGhpcy5pbmRleE1hbmFnZXI9bix0aGlzLnJlZmVyZW5jZURlbGVnYXRlPXIsdGhpcy5kb2N1bWVudEtleXNCeUJhdGNoSWQ9e319cmV0dXJuIGUuZm9yVXNlcj1mdW5jdGlvbih0LG4scixpKXtyZXR1cm4gdygiIiE9PXQudWlkLCJVc2VySUQgbXVzdCBub3QgYmUgYW4gZW1wdHkgc3RyaW5nLiIpLG5ldyBlKHQuaXNBdXRoZW50aWNhdGVkKCk/dC51aWQ6IiIsbixyLGkpfSxlLnByb3RvdHlwZS5jaGVja0VtcHR5PWZ1bmN0aW9uKGUpe3ZhciB0PSEwLG49SURCS2V5UmFuZ2UuYm91bmQoW3RoaXMudXNlcklkLE51bWJlci5ORUdBVElWRV9JTkZJTklUWV0sW3RoaXMudXNlcklkLE51bWJlci5QT1NJVElWRV9JTkZJTklUWV0pO3JldHVybiBvdChlKS5pdGVyYXRlKHtpbmRleDpobi51c2VyTXV0YXRpb25zSW5kZXgscmFuZ2U6bn0sKGZ1bmN0aW9uKGUsbixyKXt0PSExLHIuZG9uZSgpfSkpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KSl9LGUucHJvdG90eXBlLmFja25vd2xlZGdlQmF0Y2g9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLmdldE11dGF0aW9uUXVldWVNZXRhZGF0YShlKS5uZXh0KChmdW5jdGlvbih0KXtyZXR1cm4gdC5sYXN0U3RyZWFtVG9rZW49aXQobiksc3QoZSkucHV0KHQpfSkpfSxlLnByb3RvdHlwZS5nZXRMYXN0U3RyZWFtVG9rZW49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0TXV0YXRpb25RdWV1ZU1ldGFkYXRhKGUpLm5leHQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxhc3RTdHJlYW1Ub2tlbn0pKX0sZS5wcm90b3R5cGUuc2V0TGFzdFN0cmVhbVRva2VuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2V0TXV0YXRpb25RdWV1ZU1ldGFkYXRhKGUpLm5leHQoKGZ1bmN0aW9uKG4pe3JldHVybiBuLmxhc3RTdHJlYW1Ub2tlbj1pdCh0KSxzdChlKS5wdXQobil9KSl9LGUucHJvdG90eXBlLmFkZE11dGF0aW9uQmF0Y2g9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dGhpcyxvPWF0KGUpLGE9b3QoZSk7cmV0dXJuIGEuYWRkKHt9KS5uZXh0KChmdW5jdGlvbihzKXt3KCJudW1iZXIiPT09dHlwZW9mIHMsIkF1dG8tZ2VuZXJhdGVkIGtleSBpcyBub3QgYSBudW1iZXIiKTtmb3IodmFyIHU9bmV3IHplKHMsdCxuLHIpLGM9aS5zZXJpYWxpemVyLnRvRGJNdXRhdGlvbkJhdGNoKGkudXNlcklkLHUpLGg9W10sbD1uZXcgUmUoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFgoZS5jYW5vbmljYWxTdHJpbmcoKSx0LmNhbm9uaWNhbFN0cmluZygpKX0pKSxmPTAsZD1yO2Y8ZC5sZW5ndGg7ZisrKXt2YXIgcD1kW2ZdLG09bG4ua2V5KGkudXNlcklkLHAua2V5LnBhdGgscyk7bD1sLmFkZChwLmtleS5wYXRoLnBvcExhc3QoKSksaC5wdXNoKGEucHV0KGMpKSxoLnB1c2goby5wdXQobSxsbi5QTEFDRUhPTERFUikpfXJldHVybiBsLmZvckVhY2goKGZ1bmN0aW9uKHQpe2gucHVzaChpLmluZGV4TWFuYWdlci5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleChlLHQpKX0pKSxlLmFkZE9uQ29tbWl0dGVkTGlzdGVuZXIoKGZ1bmN0aW9uKCl7aS5kb2N1bWVudEtleXNCeUJhdGNoSWRbc109dS5rZXlzKCl9KSksR2Uud2FpdEZvcihoKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiB1fSkpfSkpfSxlLnByb3RvdHlwZS5sb29rdXBNdXRhdGlvbkJhdGNoPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gb3QoZSkuZ2V0KHQpLm5leHQoKGZ1bmN0aW9uKGUpe3JldHVybiBlPyh3KGUudXNlcklkPT09bi51c2VySWQsIlVuZXhwZWN0ZWQgdXNlciAnIitlLnVzZXJJZCsiJyBmb3IgbXV0YXRpb24gYmF0Y2ggIit0KSxuLnNlcmlhbGl6ZXIuZnJvbURiTXV0YXRpb25CYXRjaChlKSk6bnVsbH0pKX0sZS5wcm90b3R5cGUubG9va3VwTXV0YXRpb25LZXlzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5kb2N1bWVudEtleXNCeUJhdGNoSWRbdF0/R2UucmVzb2x2ZSh0aGlzLmRvY3VtZW50S2V5c0J5QmF0Y2hJZFt0XSk6dGhpcy5sb29rdXBNdXRhdGlvbkJhdGNoKGUsdCkubmV4dCgoZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHI9ZS5rZXlzKCk7cmV0dXJuIG4uZG9jdW1lbnRLZXlzQnlCYXRjaElkW3RdPXIscn1yZXR1cm4gbnVsbH0pKX0sZS5wcm90b3R5cGUuZ2V0TmV4dE11dGF0aW9uQmF0Y2hBZnRlckJhdGNoSWQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9dCsxLGk9SURCS2V5UmFuZ2UubG93ZXJCb3VuZChbdGhpcy51c2VySWQscl0pLG89bnVsbDtyZXR1cm4gb3QoZSkuaXRlcmF0ZSh7aW5kZXg6aG4udXNlck11dGF0aW9uc0luZGV4LHJhbmdlOml9LChmdW5jdGlvbihlLHQsaSl7dC51c2VySWQ9PT1uLnVzZXJJZCYmKHcodC5iYXRjaElkPj1yLCJTaG91bGQgaGF2ZSBmb3VuZCBtdXRhdGlvbiBhZnRlciAiK3IpLG89bi5zZXJpYWxpemVyLmZyb21EYk11dGF0aW9uQmF0Y2godCkpLGkuZG9uZSgpfSkpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSl9LGUucHJvdG90eXBlLmdldEhpZ2hlc3RVbmFja25vd2xlZGdlZEJhdGNoSWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9SURCS2V5UmFuZ2UudXBwZXJCb3VuZChbdGhpcy51c2VySWQsTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXSksbj0tMTtyZXR1cm4gb3QoZSkuaXRlcmF0ZSh7aW5kZXg6aG4udXNlck11dGF0aW9uc0luZGV4LHJhbmdlOnQscmV2ZXJzZTohMH0sKGZ1bmN0aW9uKGUsdCxyKXtuPXQuYmF0Y2hJZCxyLmRvbmUoKX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBufSkpfSxlLnByb3RvdHlwZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPUlEQktleVJhbmdlLmJvdW5kKFt0aGlzLnVzZXJJZCwtMV0sW3RoaXMudXNlcklkLE51bWJlci5QT1NJVElWRV9JTkZJTklUWV0pO3JldHVybiBvdChlKS5sb2FkQWxsKGhuLnVzZXJNdXRhdGlvbnNJbmRleCxuKS5uZXh0KChmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlcmlhbGl6ZXIuZnJvbURiTXV0YXRpb25CYXRjaChlKX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXk9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9bG4ucHJlZml4Rm9yUGF0aCh0aGlzLnVzZXJJZCx0LnBhdGgpLGk9SURCS2V5UmFuZ2UubG93ZXJCb3VuZChyKSxvPVtdO3JldHVybiBhdChlKS5pdGVyYXRlKHtyYW5nZTppfSwoZnVuY3Rpb24ocixpLGEpe3ZhciBzPXJbMF0sdT1yWzFdLGM9clsyXSxoPUllKHUpO2lmKHM9PT1uLnVzZXJJZCYmdC5wYXRoLmlzRXF1YWwoaCkpcmV0dXJuIG90KGUpLmdldChjKS5uZXh0KChmdW5jdGlvbihlKXtpZighZSl0aHJvdyB2KCJEYW5nbGluZyBkb2N1bWVudC1tdXRhdGlvbiByZWZlcmVuY2UgZm91bmQ6ICIrcisiIHdoaWNoIHBvaW50cyB0byAiK2MpO3coZS51c2VySWQ9PT1uLnVzZXJJZCwiVW5leHBlY3RlZCB1c2VyICciK2UudXNlcklkKyInIGZvciBtdXRhdGlvbiBiYXRjaCAiK2MpLG8ucHVzaChuLnNlcmlhbGl6ZXIuZnJvbURiTXV0YXRpb25CYXRjaChlKSl9KSk7YS5kb25lKCl9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gb30pKX0sZS5wcm90b3R5cGUuZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXlzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPW5ldyBSZShYKSxpPVtdO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBvPWxuLnByZWZpeEZvclBhdGgobi51c2VySWQsdC5wYXRoKSxhPUlEQktleVJhbmdlLmxvd2VyQm91bmQobykscz1hdChlKS5pdGVyYXRlKHtyYW5nZTphfSwoZnVuY3Rpb24oZSxpLG8pe3ZhciBhPWVbMF0scz1lWzFdLHU9ZVsyXSxjPUllKHMpO2E9PT1uLnVzZXJJZCYmdC5wYXRoLmlzRXF1YWwoYyk/cj1yLmFkZCh1KTpvLmRvbmUoKX0pKTtpLnB1c2gocyl9KSksR2Uud2FpdEZvcihpKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBuLmxvb2t1cE11dGF0aW9uQmF0Y2hlcyhlLHIpfSkpfSxlLnByb3RvdHlwZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdRdWVyeT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dyghdC5pc0RvY3VtZW50UXVlcnkoKSwiRG9jdW1lbnQgcXVlcmllcyBzaG91bGRuJ3QgZ28gZG93biB0aGlzIHBhdGgiKSx3KCF0LmlzQ29sbGVjdGlvbkdyb3VwUXVlcnkoKSwiQ29sbGVjdGlvbkdyb3VwIHF1ZXJpZXMgc2hvdWxkIGJlIGhhbmRsZWQgaW4gTG9jYWxEb2N1bWVudHNWaWV3Iik7dmFyIHI9dC5wYXRoLGk9ci5sZW5ndGgrMSxvPWxuLnByZWZpeEZvclBhdGgodGhpcy51c2VySWQsciksYT1JREJLZXlSYW5nZS5sb3dlckJvdW5kKG8pLHM9bmV3IFJlKFgpO3JldHVybiBhdChlKS5pdGVyYXRlKHtyYW5nZTphfSwoZnVuY3Rpb24oZSx0LG8pe3ZhciBhPWVbMF0sdT1lWzFdLGM9ZVsyXSxoPUllKHUpO2E9PT1uLnVzZXJJZCYmci5pc1ByZWZpeE9mKGgpP2gubGVuZ3RoPT09aSYmKHM9cy5hZGQoYykpOm8uZG9uZSgpfSkpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIG4ubG9va3VwTXV0YXRpb25CYXRjaGVzKGUscyl9KSl9LGUucHJvdG90eXBlLmxvb2t1cE11dGF0aW9uQmF0Y2hlcz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj1bXSxpPVtdO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2kucHVzaChvdChlKS5nZXQodCkubmV4dCgoZnVuY3Rpb24oZSl7aWYobnVsbD09PWUpdGhyb3cgdigiRGFuZ2xpbmcgZG9jdW1lbnQtbXV0YXRpb24gcmVmZXJlbmNlIGZvdW5kLCB3aGljaCBwb2ludHMgdG8gIit0KTt3KGUudXNlcklkPT09bi51c2VySWQsIlVuZXhwZWN0ZWQgdXNlciAnIitlLnVzZXJJZCsiJyBmb3IgbXV0YXRpb24gYmF0Y2ggIit0KSxyLnB1c2gobi5zZXJpYWxpemVyLmZyb21EYk11dGF0aW9uQmF0Y2goZSkpfSkpKX0pKSxHZS53YWl0Rm9yKGkpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGUucHJvdG90eXBlLnJlbW92ZU11dGF0aW9uQmF0Y2g9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiBydChlLnNpbXBsZURiVHJhbnNhY3Rpb24sdGhpcy51c2VySWQsdCkubmV4dCgoZnVuY3Rpb24ocil7cmV0dXJuIGUuYWRkT25Db21taXR0ZWRMaXN0ZW5lcigoZnVuY3Rpb24oKXtuLnJlbW92ZUNhY2hlZE11dGF0aW9uS2V5cyh0LmJhdGNoSWQpfSkpLEdlLmZvckVhY2gociwoZnVuY3Rpb24odCl7cmV0dXJuIG4ucmVmZXJlbmNlRGVsZWdhdGUucmVtb3ZlTXV0YXRpb25SZWZlcmVuY2UoZSx0KX0pKX0pKX0sZS5wcm90b3R5cGUucmVtb3ZlQ2FjaGVkTXV0YXRpb25LZXlzPWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLmRvY3VtZW50S2V5c0J5QmF0Y2hJZFtlXX0sZS5wcm90b3R5cGUucGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5jaGVja0VtcHR5KGUpLm5leHQoKGZ1bmN0aW9uKG4pe2lmKCFuKXJldHVybiBHZS5yZXNvbHZlKCk7dmFyIHI9SURCS2V5UmFuZ2UubG93ZXJCb3VuZChsbi5wcmVmaXhGb3JVc2VyKHQudXNlcklkKSksaT1bXTtyZXR1cm4gYXQoZSkuaXRlcmF0ZSh7cmFuZ2U6cn0sKGZ1bmN0aW9uKGUsbixyKXtpZihlWzBdPT09dC51c2VySWQpe3ZhciBvPUllKGVbMV0pO2kucHVzaChvKX1lbHNlIHIuZG9uZSgpfSkpLm5leHQoKGZ1bmN0aW9uKCl7dygwPT09aS5sZW5ndGgsIkRvY3VtZW50IGxlYWsgLS0gZGV0ZWN0ZWQgZGFuZ2xpbmcgbXV0YXRpb24gcmVmZXJlbmNlcyB3aGVuIHF1ZXVlIGlzIGVtcHR5LiBEYW5nbGluZyBrZXlzOiAiK2kubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jYW5vbmljYWxTdHJpbmcoKX0pKSl9KSl9KSl9LGUucHJvdG90eXBlLmNvbnRhaW5zS2V5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG50KGUsdGhpcy51c2VySWQsdCl9LGUucHJvdG90eXBlLmdldE11dGF0aW9uUXVldWVNZXRhZGF0YT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBzdChlKS5nZXQodGhpcy51c2VySWQpLm5leHQoKGZ1bmN0aW9uKGUpe3JldHVybiBlfHxuZXcgY24odC51c2VySWQsLTEsIiIpfSkpfSxlfSgpO2Z1bmN0aW9uIG50KGUsdCxuKXt2YXIgcj1sbi5wcmVmaXhGb3JQYXRoKHQsbi5wYXRoKSxpPXJbMV0sbz1JREJLZXlSYW5nZS5sb3dlckJvdW5kKHIpLGE9ITE7cmV0dXJuIGF0KGUpLml0ZXJhdGUoe3JhbmdlOm8sa2V5c09ubHk6ITB9LChmdW5jdGlvbihlLG4scil7dmFyIG89ZVswXSxzPWVbMV07ZVsyXTtvPT09dCYmcz09PWkmJihhPSEwKSxyLmRvbmUoKX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBhfSkpfWZ1bmN0aW9uIHJ0KGUsdCxuKXt2YXIgcj1lLnN0b3JlKGhuLnN0b3JlKSxpPWUuc3RvcmUobG4uc3RvcmUpLG89W10sYT1JREJLZXlSYW5nZS5vbmx5KG4uYmF0Y2hJZCkscz0wLHU9ci5pdGVyYXRlKHtyYW5nZTphfSwoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBzKyssbi5kZWxldGUoKX0pKTtvLnB1c2godS5uZXh0KChmdW5jdGlvbigpe3coMT09PXMsIkRhbmdsaW5nIGRvY3VtZW50LW11dGF0aW9uIHJlZmVyZW5jZSBmb3VuZDogTWlzc2luZyBiYXRjaCAiK24uYmF0Y2hJZCl9KSkpO2Zvcih2YXIgYz1bXSxoPTAsbD1uLm11dGF0aW9ucztoPGwubGVuZ3RoO2grKyl7dmFyIGY9bFtoXSxkPWxuLmtleSh0LGYua2V5LnBhdGgsbi5iYXRjaElkKTtvLnB1c2goaS5kZWxldGUoZCkpLGMucHVzaChmLmtleSl9cmV0dXJuIEdlLndhaXRGb3IobykubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gY30pKX1mdW5jdGlvbiBpdChlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/KHcoSGUuaXNNb2NrUGVyc2lzdGVuY2UoKSwiUGVyc2lzdGluZyBub24tc3RyaW5nIHN0cmVhbSB0b2tlbnMgaXMgb25seSBzdXBwb3J0ZWQgd2l0aCBtb2NrIHBlcnNpc3RlbmNlLiIpLGUudG9TdHJpbmcoKSk6ZX1mdW5jdGlvbiBvdChlKXtyZXR1cm4gSG4uZ2V0U3RvcmUoZSxobi5zdG9yZSl9ZnVuY3Rpb24gYXQoZSl7cmV0dXJuIEhuLmdldFN0b3JlKGUsbG4uc3RvcmUpfWZ1bmN0aW9uIHN0KGUpe3JldHVybiBIbi5nZXRTdG9yZShlLGNuLnN0b3JlKX12YXIgdXQsY3Q9MTshZnVuY3Rpb24oZSl7ZVtlLlF1ZXJ5Q2FjaGU9MF09IlF1ZXJ5Q2FjaGUiLGVbZS5TeW5jRW5naW5lPTFdPSJTeW5jRW5naW5lIn0odXR8fCh1dD17fSkpO3ZhciBodD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmdlbmVyYXRvcklkPWUsdygoZSZjdCk9PT1lLCJHZW5lcmF0b3IgSUQgIitlKyIgY29udGFpbnMgbW9yZSB0aGFuICIrY3QrIiByZXNlcnZlZCBiaXRzIiksdGhpcy5zZWVrKHZvaWQgMCE9PXQ/dDp0aGlzLmdlbmVyYXRvcklkKX1yZXR1cm4gZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3ZhciBlPXRoaXMubmV4dElkO3JldHVybiB0aGlzLm5leHRJZCs9MTw8Y3QsZX0sZS5wcm90b3R5cGUuYWZ0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2VlayhlKygxPDxjdCkpLHRoaXMubmV4dCgpfSxlLnByb3RvdHlwZS5zZWVrPWZ1bmN0aW9uKGUpe3coKGUmY3QpPT09dGhpcy5nZW5lcmF0b3JJZCwiQ2Fubm90IHN1cHBseSB0YXJnZXQgSUQgZnJvbSBkaWZmZXJlbnQgZ2VuZXJhdG9yIElEIiksdGhpcy5uZXh0SWQ9ZX0sZS5mb3JUYXJnZXRDYWNoZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh1dC5RdWVyeUNhY2hlLDIpfSxlLmZvclN5bmNFbmdpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodXQuU3luY0VuZ2luZSl9LGV9KCksbHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZT1lLHRoaXMuc2VyaWFsaXplcj10LHRoaXMudGFyZ2V0SWRHZW5lcmF0b3I9aHQuZm9yVGFyZ2V0Q2FjaGUoKX1yZXR1cm4gZS5wcm90b3R5cGUuYWxsb2NhdGVUYXJnZXRJZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnJldHJpZXZlTWV0YWRhdGEoZSkubmV4dCgoZnVuY3Rpb24obil7cmV0dXJuIG4uaGlnaGVzdFRhcmdldElkPXQudGFyZ2V0SWRHZW5lcmF0b3IuYWZ0ZXIobi5oaWdoZXN0VGFyZ2V0SWQpLHQuc2F2ZU1ldGFkYXRhKGUsbikubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gbi5oaWdoZXN0VGFyZ2V0SWR9KSl9KSl9LGUucHJvdG90eXBlLmdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmV0cmlldmVNZXRhZGF0YShlKS5uZXh0KChmdW5jdGlvbihlKXtyZXR1cm4gRGUuZnJvbVRpbWVzdGFtcChuZXcgQ2UoZS5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uLnNlY29uZHMsZS5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uLm5hbm9zZWNvbmRzKSl9KSl9LGUucHJvdG90eXBlLmdldEhpZ2hlc3RTZXF1ZW5jZU51bWJlcj1mdW5jdGlvbihlKXtyZXR1cm4gcHQoZS5zaW1wbGVEYlRyYW5zYWN0aW9uKX0sZS5wcm90b3R5cGUuc2V0VGFyZ2V0c01ldGFkYXRhPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzO3JldHVybiB0aGlzLnJldHJpZXZlTWV0YWRhdGEoZSkubmV4dCgoZnVuY3Rpb24oaSl7cmV0dXJuIGkuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyPXQsbiYmKGkubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbj1uLnRvVGltZXN0YW1wKCkpLHQ+aS5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXImJihpLmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcj10KSxyLnNhdmVNZXRhZGF0YShlLGkpfSkpfSxlLnByb3RvdHlwZS5hZGRUYXJnZXREYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5zYXZlVGFyZ2V0RGF0YShlLHQpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIG4ucmV0cmlldmVNZXRhZGF0YShlKS5uZXh0KChmdW5jdGlvbihyKXtyZXR1cm4gci50YXJnZXRDb3VudCs9MSxuLnVwZGF0ZU1ldGFkYXRhRnJvbVRhcmdldERhdGEodCxyKSxuLnNhdmVNZXRhZGF0YShlLHIpfSkpfSkpfSxlLnByb3RvdHlwZS51cGRhdGVUYXJnZXREYXRhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2F2ZVRhcmdldERhdGEoZSx0KX0sZS5wcm90b3R5cGUucmVtb3ZlVGFyZ2V0RGF0YT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSx0LnRhcmdldElkKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBmdChlKS5kZWxldGUodC50YXJnZXRJZCl9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gbi5yZXRyaWV2ZU1ldGFkYXRhKGUpfSkpLm5leHQoKGZ1bmN0aW9uKHQpe3JldHVybiB3KHQudGFyZ2V0Q291bnQ+MCwiUmVtb3ZpbmcgZnJvbSBhbiBlbXB0eSB0YXJnZXQgY2FjaGUiKSx0LnRhcmdldENvdW50LT0xLG4uc2F2ZU1ldGFkYXRhKGUsdCl9KSl9LGUucHJvdG90eXBlLnJlbW92ZVRhcmdldHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMsaT0wLG89W107cmV0dXJuIGZ0KGUpLml0ZXJhdGUoKGZ1bmN0aW9uKGEscyl7dmFyIHU9ci5zZXJpYWxpemVyLmZyb21EYlRhcmdldChzKTt1LnNlcXVlbmNlTnVtYmVyPD10JiZudWxsPT09bi5nZXQodS50YXJnZXRJZCkmJihpKyssby5wdXNoKHIucmVtb3ZlVGFyZ2V0RGF0YShlLHUpKSl9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gR2Uud2FpdEZvcihvKX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBpfSkpfSxlLnByb3RvdHlwZS5mb3JFYWNoVGFyZ2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gZnQoZSkuaXRlcmF0ZSgoZnVuY3Rpb24oZSxyKXt2YXIgaT1uLnNlcmlhbGl6ZXIuZnJvbURiVGFyZ2V0KHIpO3QoaSl9KSl9LGUucHJvdG90eXBlLnJldHJpZXZlTWV0YWRhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGR0KGUuc2ltcGxlRGJUcmFuc2FjdGlvbil9LGUucHJvdG90eXBlLnNhdmVNZXRhZGF0YT1mdW5jdGlvbihlLHQpe3JldHVybihuPWUsSG4uZ2V0U3RvcmUobix2bi5zdG9yZSkpLnB1dCh2bi5rZXksdCk7dmFyIG59LGUucHJvdG90eXBlLnNhdmVUYXJnZXREYXRhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ0KGUpLnB1dCh0aGlzLnNlcmlhbGl6ZXIudG9EYlRhcmdldCh0KSl9LGUucHJvdG90eXBlLnVwZGF0ZU1ldGFkYXRhRnJvbVRhcmdldERhdGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj0hMTtyZXR1cm4gZS50YXJnZXRJZD50LmhpZ2hlc3RUYXJnZXRJZCYmKHQuaGlnaGVzdFRhcmdldElkPWUudGFyZ2V0SWQsbj0hMCksZS5zZXF1ZW5jZU51bWJlcj50LmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciYmKHQuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyPWUuc2VxdWVuY2VOdW1iZXIsbj0hMCksbn0sZS5wcm90b3R5cGUuZ2V0VGFyZ2V0Q291bnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmV0cmlldmVNZXRhZGF0YShlKS5uZXh0KChmdW5jdGlvbihlKXtyZXR1cm4gZS50YXJnZXRDb3VudH0pKX0sZS5wcm90b3R5cGUuZ2V0VGFyZ2V0RGF0YT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj10LmNhbm9uaWNhbElkKCksaT1JREJLZXlSYW5nZS5ib3VuZChbcixOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFldLFtyLE51bWJlci5QT1NJVElWRV9JTkZJTklUWV0pLG89bnVsbDtyZXR1cm4gZnQoZSkuaXRlcmF0ZSh7cmFuZ2U6aSxpbmRleDp5bi5xdWVyeVRhcmdldHNJbmRleE5hbWV9LChmdW5jdGlvbihlLHIsaSl7dmFyIGE9bi5zZXJpYWxpemVyLmZyb21EYlRhcmdldChyKTt0LmlzRXF1YWwoYS50YXJnZXQpJiYobz1hLGkuZG9uZSgpKX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBvfSkpfSxlLnByb3RvdHlwZS5hZGRNYXRjaGluZ0tleXM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMsaT1bXSxvPW10KGUpO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBhPVRlKHQucGF0aCk7aS5wdXNoKG8ucHV0KG5ldyBnbihuLGEpKSksaS5wdXNoKHIucmVmZXJlbmNlRGVsZWdhdGUuYWRkUmVmZXJlbmNlKGUsdCkpfSkpLEdlLndhaXRGb3IoaSl9LGUucHJvdG90eXBlLnJlbW92ZU1hdGNoaW5nS2V5cz1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcyxpPW10KGUpO3JldHVybiBHZS5mb3JFYWNoKHQsKGZ1bmN0aW9uKHQpe3ZhciBvPVRlKHQucGF0aCk7cmV0dXJuIEdlLndhaXRGb3IoW2kuZGVsZXRlKFtuLG9dKSxyLnJlZmVyZW5jZURlbGVnYXRlLnJlbW92ZVJlZmVyZW5jZShlLHQpXSl9KSl9LGUucHJvdG90eXBlLnJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkPWZ1bmN0aW9uKGUsdCl7dmFyIG49bXQoZSkscj1JREJLZXlSYW5nZS5ib3VuZChbdF0sW3QrMV0sITEsITApO3JldHVybiBuLmRlbGV0ZShyKX0sZS5wcm90b3R5cGUuZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1JREJLZXlSYW5nZS5ib3VuZChbdF0sW3QrMV0sITEsITApLHI9bXQoZSksaT1VZSgpO3JldHVybiByLml0ZXJhdGUoe3JhbmdlOm4sa2V5c09ubHk6ITB9LChmdW5jdGlvbihlLHQsbil7dmFyIHI9SWUoZVsxXSksbz1uZXcgZGUocik7aT1pLmFkZChvKX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBpfSkpfSxlLnByb3RvdHlwZS5jb250YWluc0tleT1mdW5jdGlvbihlLHQpe3ZhciBuPVRlKHQucGF0aCkscj1JREJLZXlSYW5nZS5ib3VuZChbbl0sWyQobildLCExLCEwKSxpPTA7cmV0dXJuIG10KGUpLml0ZXJhdGUoe2luZGV4OmduLmRvY3VtZW50VGFyZ2V0c0luZGV4LGtleXNPbmx5OiEwLHJhbmdlOnJ9LChmdW5jdGlvbihlLHQsbil7dmFyIHI9ZVswXTtlWzFdOzAhPT1yJiYoaSsrLG4uZG9uZSgpKX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBpPjB9KSl9LGUucHJvdG90eXBlLmdldFRhcmdldERhdGFGb3JUYXJnZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiBmdChlKS5nZXQodCkubmV4dCgoZnVuY3Rpb24oZSl7cmV0dXJuIGU/bi5zZXJpYWxpemVyLmZyb21EYlRhcmdldChlKTpudWxsfSkpfSxlfSgpO2Z1bmN0aW9uIGZ0KGUpe3JldHVybiBIbi5nZXRTdG9yZShlLHluLnN0b3JlKX1mdW5jdGlvbiBkdChlKXtyZXR1cm4gSGUuZ2V0U3RvcmUoZSx2bi5zdG9yZSkuZ2V0KHZuLmtleSkubmV4dCgoZnVuY3Rpb24oZSl7cmV0dXJuIHcobnVsbCE9PWUsIk1pc3NpbmcgbWV0YWRhdGEgcm93LiIpLGV9KSl9ZnVuY3Rpb24gcHQoZSl7cmV0dXJuIGR0KGUpLm5leHQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcn0pKX1mdW5jdGlvbiBtdChlKXtyZXR1cm4gSG4uZ2V0U3RvcmUoZSxnbi5zdG9yZSl9dmFyIHl0LGd0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmZpZWxkcz1lfXJldHVybiBlLmZyb21TZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSxlLmZyb21BcnJheT1mdW5jdGlvbih0KXt2YXIgbj1uZXcgUmUoZmUuY29tcGFyYXRvcik7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG49bi5hZGQoZSl9KSksbmV3IGUobil9LGUucHJvdG90eXBlLmNvdmVycz1mdW5jdGlvbihlKXt2YXIgdD0hMTtyZXR1cm4gdGhpcy5maWVsZHMuZm9yRWFjaCgoZnVuY3Rpb24obil7bi5pc1ByZWZpeE9mKGUpJiYodD0hMCl9KSksdH0sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5maWVsZHMuaXNFcXVhbChlLmZpZWxkcyl9LGV9KCksdnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5maWVsZD1lLHRoaXMudHJhbnNmb3JtPXR9cmV0dXJuIGUucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZmllbGQuaXNFcXVhbChlLmZpZWxkKSYmdGhpcy50cmFuc2Zvcm0uaXNFcXVhbChlLnRyYW5zZm9ybSl9LGV9KCksd3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLnZlcnNpb249ZSx0aGlzLnRyYW5zZm9ybVJlc3VsdHM9dH07IWZ1bmN0aW9uKGUpe2VbZS5TZXQ9MF09IlNldCIsZVtlLlBhdGNoPTFdPSJQYXRjaCIsZVtlLlRyYW5zZm9ybT0yXT0iVHJhbnNmb3JtIixlW2UuRGVsZXRlPTNdPSJEZWxldGUiLGVbZS5WZXJpZnk9NF09IlZlcmlmeSJ9KHl0fHwoeXQ9e30pKTt2YXIgYnQsVHQsU3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy51cGRhdGVUaW1lPWUsdGhpcy5leGlzdHM9dCx3KHZvaWQgMD09PWV8fHZvaWQgMD09PXQsJ1ByZWNvbmRpdGlvbiBjYW4gc3BlY2lmeSAiZXhpc3RzIiBvciAidXBkYXRlVGltZSIgYnV0IG5vdCBib3RoJyl9cmV0dXJuIGUuZXhpc3RzPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh2b2lkIDAsdCl9LGUudXBkYXRlVGltZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNOb25lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMudXBkYXRlVGltZSYmdm9pZCAwPT09dGhpcy5leGlzdHN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuaXNWYWxpZEZvcj1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dGhpcy51cGRhdGVUaW1lP2UgaW5zdGFuY2VvZiBHdCYmZS52ZXJzaW9uLmlzRXF1YWwodGhpcy51cGRhdGVUaW1lKTp2b2lkIDAhPT10aGlzLmV4aXN0cz90aGlzLmV4aXN0cz09PWUgaW5zdGFuY2VvZiBHdDoodyh0aGlzLmlzTm9uZSwiUHJlY29uZGl0aW9uIHNob3VsZCBiZSBlbXB0eSIpLCEwKX0sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gdD10aGlzLnVwZGF0ZVRpbWUsbj1lLnVwZGF0ZVRpbWUsKG51bGwhPT10JiZ2b2lkIDAhPT10PyEoIW58fCF0LmlzRXF1YWwobikpOnQ9PT1uKSYmdGhpcy5leGlzdHM9PT1lLmV4aXN0czt2YXIgdCxufSxlLk5PTkU9bmV3IGUsZX0oKSxFdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLnZlcmlmeUtleU1hdGNoZXM9ZnVuY3Rpb24oZSl7bnVsbCE9ZSYmdyhlLmtleS5pc0VxdWFsKHRoaXMua2V5KSwiQ2FuIG9ubHkgYXBwbHkgYSBtdXRhdGlvbiB0byBhIGRvY3VtZW50IHdpdGggdGhlIHNhbWUga2V5Iil9LGUuZ2V0UG9zdE11dGF0aW9uVmVyc2lvbj1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEd0P2UudmVyc2lvbjpEZS5NSU59LGV9KCksSXQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scil7dmFyIGk9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLmtleT10LGkudmFsdWU9bixpLnByZWNvbmRpdGlvbj1yLGkudHlwZT15dC5TZXQsaX1yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseVRvUmVtb3RlRG9jdW1lbnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLnZlcmlmeUtleU1hdGNoZXMoZSksdyhudWxsPT10LnRyYW5zZm9ybVJlc3VsdHMsIlRyYW5zZm9ybSByZXN1bHRzIHJlY2VpdmVkIGJ5IFNldE11dGF0aW9uLiIpO3ZhciBuPXQudmVyc2lvbjtyZXR1cm4gbmV3IEd0KHRoaXMua2V5LG4se2hhc0NvbW1pdHRlZE11dGF0aW9uczohMH0sdGhpcy52YWx1ZSl9LHQucHJvdG90eXBlLmFwcGx5VG9Mb2NhbFZpZXc9ZnVuY3Rpb24oZSx0LG4pe2lmKHRoaXMudmVyaWZ5S2V5TWF0Y2hlcyhlKSwhdGhpcy5wcmVjb25kaXRpb24uaXNWYWxpZEZvcihlKSlyZXR1cm4gZTt2YXIgcj1FdC5nZXRQb3N0TXV0YXRpb25WZXJzaW9uKGUpO3JldHVybiBuZXcgR3QodGhpcy5rZXkscix7aGFzTG9jYWxNdXRhdGlvbnM6ITB9LHRoaXMudmFsdWUpfSx0LnByb3RvdHlwZS5leHRyYWN0QmFzZVZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdCYmdGhpcy5rZXkuaXNFcXVhbChlLmtleSkmJnRoaXMudmFsdWUuaXNFcXVhbChlLnZhbHVlKSYmdGhpcy5wcmVjb25kaXRpb24uaXNFcXVhbChlLnByZWNvbmRpdGlvbil9LHR9KEV0KSxDdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixyLGkpe3ZhciBvPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5rZXk9dCxvLmRhdGE9bixvLmZpZWxkTWFzaz1yLG8ucHJlY29uZGl0aW9uPWksby50eXBlPXl0LlBhdGNoLG99cmV0dXJuIGEuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYXBwbHlUb1JlbW90ZURvY3VtZW50PWZ1bmN0aW9uKGUsdCl7aWYodGhpcy52ZXJpZnlLZXlNYXRjaGVzKGUpLHcobnVsbD09dC50cmFuc2Zvcm1SZXN1bHRzLCJUcmFuc2Zvcm0gcmVzdWx0cyByZWNlaXZlZCBieSBQYXRjaE11dGF0aW9uLiIpLCF0aGlzLnByZWNvbmRpdGlvbi5pc1ZhbGlkRm9yKGUpKXJldHVybiBuZXcgSHQodGhpcy5rZXksdC52ZXJzaW9uKTt2YXIgbj10aGlzLnBhdGNoRG9jdW1lbnQoZSk7cmV0dXJuIG5ldyBHdCh0aGlzLmtleSx0LnZlcnNpb24se2hhc0NvbW1pdHRlZE11dGF0aW9uczohMH0sbil9LHQucHJvdG90eXBlLmFwcGx5VG9Mb2NhbFZpZXc9ZnVuY3Rpb24oZSx0LG4pe2lmKHRoaXMudmVyaWZ5S2V5TWF0Y2hlcyhlKSwhdGhpcy5wcmVjb25kaXRpb24uaXNWYWxpZEZvcihlKSlyZXR1cm4gZTt2YXIgcj1FdC5nZXRQb3N0TXV0YXRpb25WZXJzaW9uKGUpLGk9dGhpcy5wYXRjaERvY3VtZW50KGUpO3JldHVybiBuZXcgR3QodGhpcy5rZXkscix7aGFzTG9jYWxNdXRhdGlvbnM6ITB9LGkpfSx0LnByb3RvdHlwZS5leHRyYWN0QmFzZVZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdCYmdGhpcy5rZXkuaXNFcXVhbChlLmtleSkmJnRoaXMuZmllbGRNYXNrLmlzRXF1YWwoZS5maWVsZE1hc2spJiZ0aGlzLnByZWNvbmRpdGlvbi5pc0VxdWFsKGUucHJlY29uZGl0aW9uKX0sdC5wcm90b3R5cGUucGF0Y2hEb2N1bWVudD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD1lIGluc3RhbmNlb2YgR3Q/ZS5kYXRhKCk6S3QuRU1QVFksdGhpcy5wYXRjaE9iamVjdCh0KX0sdC5wcm90b3R5cGUucGF0Y2hPYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5maWVsZE1hc2suZmllbGRzLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKCFuLmlzRW1wdHkoKSl7dmFyIHI9dC5kYXRhLmZpZWxkKG4pO2U9bnVsbCE9PXI/ZS5zZXQobixyKTplLmRlbGV0ZShuKX19KSksZX0sdH0oRXQpLER0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIua2V5PXQsci5maWVsZFRyYW5zZm9ybXM9bixyLnR5cGU9eXQuVHJhbnNmb3JtLHIucHJlY29uZGl0aW9uPVN0LmV4aXN0cyghMCkscn1yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseVRvUmVtb3RlRG9jdW1lbnQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnZlcmlmeUtleU1hdGNoZXMoZSksdyhudWxsIT10LnRyYW5zZm9ybVJlc3VsdHMsIlRyYW5zZm9ybSByZXN1bHRzIG1pc3NpbmcgZm9yIFRyYW5zZm9ybU11dGF0aW9uLiIpLCF0aGlzLnByZWNvbmRpdGlvbi5pc1ZhbGlkRm9yKGUpKXJldHVybiBuZXcgSHQodGhpcy5rZXksdC52ZXJzaW9uKTt2YXIgbj10aGlzLnJlcXVpcmVEb2N1bWVudChlKSxyPXRoaXMuc2VydmVyVHJhbnNmb3JtUmVzdWx0cyhlLHQudHJhbnNmb3JtUmVzdWx0cyksaT10LnZlcnNpb24sbz10aGlzLnRyYW5zZm9ybU9iamVjdChuLmRhdGEoKSxyKTtyZXR1cm4gbmV3IEd0KHRoaXMua2V5LGkse2hhc0NvbW1pdHRlZE11dGF0aW9uczohMH0sbyl9LHQucHJvdG90eXBlLmFwcGx5VG9Mb2NhbFZpZXc9ZnVuY3Rpb24oZSx0LG4pe2lmKHRoaXMudmVyaWZ5S2V5TWF0Y2hlcyhlKSwhdGhpcy5wcmVjb25kaXRpb24uaXNWYWxpZEZvcihlKSlyZXR1cm4gZTt2YXIgcj10aGlzLnJlcXVpcmVEb2N1bWVudChlKSxpPXRoaXMubG9jYWxUcmFuc2Zvcm1SZXN1bHRzKG4sZSx0KSxvPXRoaXMudHJhbnNmb3JtT2JqZWN0KHIuZGF0YSgpLGkpO3JldHVybiBuZXcgR3QodGhpcy5rZXksci52ZXJzaW9uLHtoYXNMb2NhbE11dGF0aW9uczohMH0sbyl9LHQucHJvdG90eXBlLmV4dHJhY3RCYXNlVmFsdWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW51bGwsbj0wLHI9dGhpcy5maWVsZFRyYW5zZm9ybXM7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl0sbz1lIGluc3RhbmNlb2YgR3Q/ZS5maWVsZChpLmZpZWxkKTp2b2lkIDAsYT1pLnRyYW5zZm9ybS5jb21wdXRlQmFzZVZhbHVlKG98fG51bGwpO251bGwhPWEmJih0PW51bGw9PXQ/S3QuRU1QVFkuc2V0KGkuZmllbGQsYSk6dC5zZXQoaS5maWVsZCxhKSl9cmV0dXJuIHR9LHQucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiZ0aGlzLmtleS5pc0VxdWFsKGUua2V5KSYmWih0aGlzLmZpZWxkVHJhbnNmb3JtcyxlLmZpZWxkVHJhbnNmb3JtcykmJnRoaXMucHJlY29uZGl0aW9uLmlzRXF1YWwoZS5wcmVjb25kaXRpb24pfSx0LnByb3RvdHlwZS5yZXF1aXJlRG9jdW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSBpbnN0YW5jZW9mIEd0LCJVbmtub3duIE1heWJlRG9jdW1lbnQgdHlwZSAiK2UpLHcoZS5rZXkuaXNFcXVhbCh0aGlzLmtleSksIkNhbiBvbmx5IHRyYW5zZm9ybSBhIGRvY3VtZW50IHdpdGggdGhlIHNhbWUga2V5IiksZX0sdC5wcm90b3R5cGUuc2VydmVyVHJhbnNmb3JtUmVzdWx0cz1mdW5jdGlvbihlLHQpe3ZhciBuPVtdO3codGhpcy5maWVsZFRyYW5zZm9ybXMubGVuZ3RoPT09dC5sZW5ndGgsInNlcnZlciB0cmFuc2Zvcm0gcmVzdWx0IGNvdW50ICgiK3QubGVuZ3RoKyIpIHNob3VsZCBtYXRjaCBmaWVsZCB0cmFuc2Zvcm0gY291bnQgKCIrdGhpcy5maWVsZFRyYW5zZm9ybXMubGVuZ3RoKyIpIik7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRoaXMuZmllbGRUcmFuc2Zvcm1zW3JdLG89aS50cmFuc2Zvcm0sYT1udWxsO2UgaW5zdGFuY2VvZiBHdCYmKGE9ZS5maWVsZChpLmZpZWxkKSksbi5wdXNoKG8uYXBwbHlUb1JlbW90ZURvY3VtZW50KGEsdFtyXSkpfXJldHVybiBufSx0LnByb3RvdHlwZS5sb2NhbFRyYW5zZm9ybVJlc3VsdHM9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1bXSxpPTAsbz10aGlzLmZpZWxkVHJhbnNmb3JtcztpPG8ubGVuZ3RoO2krKyl7dmFyIGE9b1tpXSxzPWEudHJhbnNmb3JtLHU9bnVsbDt0IGluc3RhbmNlb2YgR3QmJih1PXQuZmllbGQoYS5maWVsZCkpLG51bGw9PT11JiZuIGluc3RhbmNlb2YgR3QmJih1PW4uZmllbGQoYS5maWVsZCkpLHIucHVzaChzLmFwcGx5VG9Mb2NhbFZpZXcodSxlKSl9cmV0dXJuIHJ9LHQucHJvdG90eXBlLnRyYW5zZm9ybU9iamVjdD1mdW5jdGlvbihlLHQpe3codC5sZW5ndGg9PT10aGlzLmZpZWxkVHJhbnNmb3Jtcy5sZW5ndGgsIlRyYW5zZm9ybVJlc3VsdHMgbGVuZ3RoIG1pc21hdGNoLiIpO2Zvcih2YXIgbj0wO248dGhpcy5maWVsZFRyYW5zZm9ybXMubGVuZ3RoO24rKyl7dmFyIHI9dGhpcy5maWVsZFRyYW5zZm9ybXNbbl0uZmllbGQ7ZT1lLnNldChyLHRbbl0pfXJldHVybiBlfSx0fShFdCksX3Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5rZXk9dCxyLnByZWNvbmRpdGlvbj1uLHIudHlwZT15dC5EZWxldGUscn1yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseVRvUmVtb3RlRG9jdW1lbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy52ZXJpZnlLZXlNYXRjaGVzKGUpLHcobnVsbD09dC50cmFuc2Zvcm1SZXN1bHRzLCJUcmFuc2Zvcm0gcmVzdWx0cyByZWNlaXZlZCBieSBEZWxldGVNdXRhdGlvbi4iKSxuZXcganQodGhpcy5rZXksdC52ZXJzaW9uLHtoYXNDb21taXR0ZWRNdXRhdGlvbnM6ITB9KX0sdC5wcm90b3R5cGUuYXBwbHlUb0xvY2FsVmlldz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMudmVyaWZ5S2V5TWF0Y2hlcyhlKSx0aGlzLnByZWNvbmRpdGlvbi5pc1ZhbGlkRm9yKGUpPyhlJiZ3KGUua2V5LmlzRXF1YWwodGhpcy5rZXkpLCJDYW4gb25seSBhcHBseSBtdXRhdGlvbiB0byBkb2N1bWVudCB3aXRoIHNhbWUga2V5IiksbmV3IGp0KHRoaXMua2V5LERlLmZvckRlbGV0ZWREb2MoKSkpOmV9LHQucHJvdG90eXBlLmV4dHJhY3RCYXNlVmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiZ0aGlzLmtleS5pc0VxdWFsKGUua2V5KSYmdGhpcy5wcmVjb25kaXRpb24uaXNFcXVhbChlLnByZWNvbmRpdGlvbil9LHR9KEV0KSxOdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmtleT10LHIucHJlY29uZGl0aW9uPW4sci50eXBlPXl0LlZlcmlmeSxyfXJldHVybiBhLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFwcGx5VG9SZW1vdGVEb2N1bWVudD1mdW5jdGlvbihlLHQpe3YoIlZlcmlmeU11dGF0aW9uIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gVHJhbnNhY3Rpb25zLiIpfSx0LnByb3RvdHlwZS5hcHBseVRvTG9jYWxWaWV3PWZ1bmN0aW9uKGUsdCxuKXt2KCJWZXJpZnlNdXRhdGlvbiBzaG91bGQgb25seSBiZSB1c2VkIGluIFRyYW5zYWN0aW9ucy4iKX0sdC5wcm90b3R5cGUuZXh0cmFjdEJhc2VWYWx1ZT1mdW5jdGlvbihlKXt2KCJWZXJpZnlNdXRhdGlvbiBzaG91bGQgb25seSBiZSB1c2VkIGluIFRyYW5zYWN0aW9ucy4iKX0sdC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQmJnRoaXMua2V5LmlzRXF1YWwoZS5rZXkpJiZ0aGlzLnByZWNvbmRpdGlvbi5pc0VxdWFsKGUucHJlY29uZGl0aW9uKX0sdH0oRXQpOyFmdW5jdGlvbihlKXtlW2UuTnVsbFZhbHVlPTBdPSJOdWxsVmFsdWUiLGVbZS5Cb29sZWFuVmFsdWU9MV09IkJvb2xlYW5WYWx1ZSIsZVtlLk51bWJlclZhbHVlPTJdPSJOdW1iZXJWYWx1ZSIsZVtlLlRpbWVzdGFtcFZhbHVlPTNdPSJUaW1lc3RhbXBWYWx1ZSIsZVtlLlN0cmluZ1ZhbHVlPTRdPSJTdHJpbmdWYWx1ZSIsZVtlLkJsb2JWYWx1ZT01XT0iQmxvYlZhbHVlIixlW2UuUmVmVmFsdWU9Nl09IlJlZlZhbHVlIixlW2UuR2VvUG9pbnRWYWx1ZT03XT0iR2VvUG9pbnRWYWx1ZSIsZVtlLkFycmF5VmFsdWU9OF09IkFycmF5VmFsdWUiLGVbZS5PYmplY3RWYWx1ZT05XT0iT2JqZWN0VmFsdWUifShidHx8KGJ0PXt9KSksZnVuY3Rpb24oZSl7ZVtlLkRlZmF1bHQ9MF09IkRlZmF1bHQiLGVbZS5Fc3RpbWF0ZT0xXT0iRXN0aW1hdGUiLGVbZS5QcmV2aW91cz0yXT0iUHJldmlvdXMifShUdHx8KFR0PXt9KSk7dmFyIEF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuc2VydmVyVGltZXN0YW1wQmVoYXZpb3I9ZSx0aGlzLnRpbWVzdGFtcHNJblNuYXBzaG90cz10fXJldHVybiBlLmZyb21TbmFwc2hvdE9wdGlvbnM9ZnVuY3Rpb24odCxuKXtzd2l0Y2godC5zZXJ2ZXJUaW1lc3RhbXBzKXtjYXNlImVzdGltYXRlIjpyZXR1cm4gbmV3IGUoVHQuRXN0aW1hdGUsbik7Y2FzZSJwcmV2aW91cyI6cmV0dXJuIG5ldyBlKFR0LlByZXZpb3VzLG4pO2Nhc2Uibm9uZSI6Y2FzZSB2b2lkIDA6cmV0dXJuIG5ldyBlKFR0LkRlZmF1bHQsbik7ZGVmYXVsdDpyZXR1cm4gdigiZnJvbVNuYXBzaG90T3B0aW9ucygpIGNhbGxlZCB3aXRoIGludmFsaWQgb3B0aW9ucy4iKX19LGV9KCksa3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMudmFsdWUoKTtyZXR1cm4gbnVsbD09PWU/Im51bGwiOmUudG9TdHJpbmcoKX0sZS5wcm90b3R5cGUuZGVmYXVsdENvbXBhcmVUbz1mdW5jdGlvbihlKXtyZXR1cm4gdyh0aGlzLnR5cGVPcmRlciE9PWUudHlwZU9yZGVyLCJEZWZhdWx0IGNvbXBhcmVUbyBzaG91bGQgbm90IGJlIHVzZWQgZm9yIHZhbHVlcyBvZiBzYW1lIHR5cGUuIiksWCh0aGlzLnR5cGVPcmRlcixlLnR5cGVPcmRlcil9LGV9KCksUnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC50eXBlT3JkZXI9YnQuTnVsbFZhbHVlLHQuaW50ZXJuYWxWYWx1ZT1udWxsLHR9cmV0dXJuIGEuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0fSx0LnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0PzA6dGhpcy5kZWZhdWx0Q29tcGFyZVRvKGUpfSx0LnByb3RvdHlwZS5hcHByb3hpbWF0ZUJ5dGVTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIDR9LHQuSU5TVEFOQ0U9bmV3IHQsdH0oa3QpLE10PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmludGVybmFsVmFsdWU9dCxuLnR5cGVPcmRlcj1idC5Cb29sZWFuVmFsdWUsbn1yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFZhbHVlfSx0LnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdCYmdGhpcy5pbnRlcm5hbFZhbHVlPT09ZS5pbnRlcm5hbFZhbHVlfSx0LnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0P1godGhpcyxlKTp0aGlzLmRlZmF1bHRDb21wYXJlVG8oZSl9LHQucHJvdG90eXBlLmFwcHJveGltYXRlQnl0ZVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gNH0sdC5vZj1mdW5jdGlvbihlKXtyZXR1cm4gZT90LlRSVUU6dC5GQUxTRX0sdC5UUlVFPW5ldyB0KCEwKSx0LkZBTFNFPW5ldyB0KCExKSx0fShrdCksTHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uaW50ZXJuYWxWYWx1ZT10LG4udHlwZU9yZGVyPWJ0Lk51bWJlclZhbHVlLG59cmV0dXJuIGEuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaW50ZXJuYWxWYWx1ZX0sdC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdD8obj10aGlzLmludGVybmFsVmFsdWUscj1lLmludGVybmFsVmFsdWUsbjxyPy0xOm4+cj8xOm49PT1yPzA6aXNOYU4obik/aXNOYU4ocik/MDotMToxKTp0aGlzLmRlZmF1bHRDb21wYXJlVG8oZSk7dmFyIG4scn0sdC5wcm90b3R5cGUuYXBwcm94aW1hdGVCeXRlU2l6ZT1mdW5jdGlvbigpe3JldHVybiA4fSx0fShrdCk7ZnVuY3Rpb24gT3QoZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09PTEvdDplIT09ZSYmdCE9PXR9dmFyIHh0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBhLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiZPdCh0aGlzLmludGVybmFsVmFsdWUsZS5pbnRlcm5hbFZhbHVlKX0sdH0oTHQpLFB0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBhLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiZPdCh0aGlzLmludGVybmFsVmFsdWUsZS5pbnRlcm5hbFZhbHVlKX0sdC5OQU49bmV3IHQoTmFOKSx0LlBPU0lUSVZFX0lORklOSVRZPW5ldyB0KDEvMCksdC5ORUdBVElWRV9JTkZJTklUWT1uZXcgdCgtMS8wKSx0fShMdCksRnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uaW50ZXJuYWxWYWx1ZT10LG4udHlwZU9yZGVyPWJ0LlN0cmluZ1ZhbHVlLG59cmV0dXJuIGEuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaW50ZXJuYWxWYWx1ZX0sdC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQmJnRoaXMuaW50ZXJuYWxWYWx1ZT09PWUuaW50ZXJuYWxWYWx1ZX0sdC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdD9YKHRoaXMuaW50ZXJuYWxWYWx1ZSxlLmludGVybmFsVmFsdWUpOnRoaXMuZGVmYXVsdENvbXBhcmVUbyhlKX0sdC5wcm90b3R5cGUuYXBwcm94aW1hdGVCeXRlU2l6ZT1mdW5jdGlvbigpe3JldHVybiAyKnRoaXMuaW50ZXJuYWxWYWx1ZS5sZW5ndGh9LHR9KGt0KSxxdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5pbnRlcm5hbFZhbHVlPXQsbi50eXBlT3JkZXI9YnQuVGltZXN0YW1wVmFsdWUsbn1yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4hZXx8ZS50aW1lc3RhbXBzSW5TbmFwc2hvdHM/dGhpcy5pbnRlcm5hbFZhbHVlOnRoaXMuaW50ZXJuYWxWYWx1ZS50b0RhdGUoKX0sdC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQmJnRoaXMuaW50ZXJuYWxWYWx1ZS5pc0VxdWFsKGUuaW50ZXJuYWxWYWx1ZSl9LHQucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQ/dGhpcy5pbnRlcm5hbFZhbHVlLl9jb21wYXJlVG8oZS5pbnRlcm5hbFZhbHVlKTplIGluc3RhbmNlb2YgVnQ/LTE6dGhpcy5kZWZhdWx0Q29tcGFyZVRvKGUpfSx0LnByb3RvdHlwZS5hcHByb3hpbWF0ZUJ5dGVTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIDE2fSx0fShrdCksVnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5sb2NhbFdyaXRlVGltZT10LHIucHJldmlvdXNWYWx1ZT1uLHIudHlwZU9yZGVyPWJ0LlRpbWVzdGFtcFZhbHVlLHJ9cmV0dXJuIGEuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuc2VydmVyVGltZXN0YW1wQmVoYXZpb3I9PT1UdC5Fc3RpbWF0ZT9uZXcgcXQodGhpcy5sb2NhbFdyaXRlVGltZSkudmFsdWUoZSk6ZSYmZS5zZXJ2ZXJUaW1lc3RhbXBCZWhhdmlvcj09PVR0LlByZXZpb3VzJiZ0aGlzLnByZXZpb3VzVmFsdWU/dGhpcy5wcmV2aW91c1ZhbHVlLnZhbHVlKGUpOm51bGx9LHQucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiZ0aGlzLmxvY2FsV3JpdGVUaW1lLmlzRXF1YWwoZS5sb2NhbFdyaXRlVGltZSl9LHQucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQ/dGhpcy5sb2NhbFdyaXRlVGltZS5fY29tcGFyZVRvKGUubG9jYWxXcml0ZVRpbWUpOmUgaW5zdGFuY2VvZiBxdD8xOnRoaXMuZGVmYXVsdENvbXBhcmVUbyhlKX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iPFNlcnZlclRpbWVzdGFtcCBsb2NhbFRpbWU9Iit0aGlzLmxvY2FsV3JpdGVUaW1lLnRvU3RyaW5nKCkrIj4ifSx0LnByb3RvdHlwZS5hcHByb3hpbWF0ZUJ5dGVTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIDE2Kyh0aGlzLnByZXZpb3VzVmFsdWU/dGhpcy5wcmV2aW91c1ZhbHVlLmFwcHJveGltYXRlQnl0ZVNpemUoKTowKX0sdH0oa3QpLEJ0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmludGVybmFsVmFsdWU9dCxuLnR5cGVPcmRlcj1idC5CbG9iVmFsdWUsbn1yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFZhbHVlfSx0LnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdCYmdGhpcy5pbnRlcm5hbFZhbHVlLmlzRXF1YWwoZS5pbnRlcm5hbFZhbHVlKX0sdC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdD90aGlzLmludGVybmFsVmFsdWUuX2NvbXBhcmVUbyhlLmludGVybmFsVmFsdWUpOnRoaXMuZGVmYXVsdENvbXBhcmVUbyhlKX0sdC5wcm90b3R5cGUuYXBwcm94aW1hdGVCeXRlU2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVybmFsVmFsdWUuX2FwcHJveGltYXRlQnl0ZVNpemUoKX0sdH0oa3QpLFV0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuZGF0YWJhc2VJZD10LHIua2V5PW4sci50eXBlT3JkZXI9YnQuUmVmVmFsdWUscn1yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5rZXl9LHQucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiYodGhpcy5rZXkuaXNFcXVhbChlLmtleSkmJnRoaXMuZGF0YWJhc2VJZC5pc0VxdWFsKGUuZGF0YWJhc2VJZCkpfSx0LnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHQpe3ZhciBuPXRoaXMuZGF0YWJhc2VJZC5jb21wYXJlVG8oZS5kYXRhYmFzZUlkKTtyZXR1cm4gMCE9PW4/bjpkZS5jb21wYXJhdG9yKHRoaXMua2V5LGUua2V5KX1yZXR1cm4gdGhpcy5kZWZhdWx0Q29tcGFyZVRvKGUpfSx0LnByb3RvdHlwZS5hcHByb3hpbWF0ZUJ5dGVTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YWJhc2VJZC5wcm9qZWN0SWQubGVuZ3RoK3RoaXMuZGF0YWJhc2VJZC5kYXRhYmFzZS5sZW5ndGgrdGhpcy5rZXkudG9TdHJpbmcoKS5sZW5ndGh9LHR9KGt0KSxRdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5pbnRlcm5hbFZhbHVlPXQsbi50eXBlT3JkZXI9YnQuR2VvUG9pbnRWYWx1ZSxufXJldHVybiBhLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmludGVybmFsVmFsdWV9LHQucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiZ0aGlzLmludGVybmFsVmFsdWUuaXNFcXVhbChlLmludGVybmFsVmFsdWUpfSx0LnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0P3RoaXMuaW50ZXJuYWxWYWx1ZS5fY29tcGFyZVRvKGUuaW50ZXJuYWxWYWx1ZSk6dGhpcy5kZWZhdWx0Q29tcGFyZVRvKGUpfSx0LnByb3RvdHlwZS5hcHByb3hpbWF0ZUJ5dGVTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIDE2fSx0fShrdCksS3Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uaW50ZXJuYWxWYWx1ZT10LG4udHlwZU9yZGVyPWJ0Lk9iamVjdFZhbHVlLG59cmV0dXJuIGEuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHRoaXMuaW50ZXJuYWxWYWx1ZS5pbm9yZGVyVHJhdmVyc2FsKChmdW5jdGlvbihuLHIpe3Rbbl09ci52YWx1ZShlKX0pKSx0fSx0LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe3RoaXMuaW50ZXJuYWxWYWx1ZS5pbm9yZGVyVHJhdmVyc2FsKGUpfSx0LnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB0KXtmb3IodmFyIG49dGhpcy5pbnRlcm5hbFZhbHVlLmdldEl0ZXJhdG9yKCkscj1lLmludGVybmFsVmFsdWUuZ2V0SXRlcmF0b3IoKTtuLmhhc05leHQoKSYmci5oYXNOZXh0KCk7KXt2YXIgaT1uLmdldE5leHQoKSxvPXIuZ2V0TmV4dCgpO2lmKGkua2V5IT09by5rZXl8fCFpLnZhbHVlLmlzRXF1YWwoby52YWx1ZSkpcmV0dXJuITF9cmV0dXJuIW4uaGFzTmV4dCgpJiYhci5oYXNOZXh0KCl9cmV0dXJuITF9LHQucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdCl7Zm9yKHZhciBuPXRoaXMuaW50ZXJuYWxWYWx1ZS5nZXRJdGVyYXRvcigpLHI9ZS5pbnRlcm5hbFZhbHVlLmdldEl0ZXJhdG9yKCk7bi5oYXNOZXh0KCkmJnIuaGFzTmV4dCgpOyl7dmFyIGk9bi5nZXROZXh0KCksbz1yLmdldE5leHQoKSxhPVgoaS5rZXksby5rZXkpfHxpLnZhbHVlLmNvbXBhcmVUbyhvLnZhbHVlKTtpZihhKXJldHVybiBhfXJldHVybiBYKG4uaGFzTmV4dCgpLHIuaGFzTmV4dCgpKX1yZXR1cm4gdGhpcy5kZWZhdWx0Q29tcGFyZVRvKGUpfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSxuKXtpZih3KCFlLmlzRW1wdHkoKSwiQ2Fubm90IHNldCBmaWVsZCBmb3IgZW1wdHkgcGF0aCBvbiBPYmplY3RWYWx1ZSIpLDE9PT1lLmxlbmd0aClyZXR1cm4gdGhpcy5zZXRDaGlsZChlLmZpcnN0U2VnbWVudCgpLG4pO3ZhciByPXRoaXMuY2hpbGQoZS5maXJzdFNlZ21lbnQoKSk7ciBpbnN0YW5jZW9mIHR8fChyPXQuRU1QVFkpO3ZhciBpPXIuc2V0KGUucG9wRmlyc3QoKSxuKTtyZXR1cm4gdGhpcy5zZXRDaGlsZChlLmZpcnN0U2VnbWVudCgpLGkpfSx0LnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7aWYodyghZS5pc0VtcHR5KCksIkNhbm5vdCBkZWxldGUgZmllbGQgZm9yIGVtcHR5IHBhdGggb24gT2JqZWN0VmFsdWUiKSwxPT09ZS5sZW5ndGgpcmV0dXJuIG5ldyB0KHRoaXMuaW50ZXJuYWxWYWx1ZS5yZW1vdmUoZS5maXJzdFNlZ21lbnQoKSkpO3ZhciBuPXRoaXMuY2hpbGQoZS5maXJzdFNlZ21lbnQoKSk7aWYobiBpbnN0YW5jZW9mIHQpe3ZhciByPW4uZGVsZXRlKGUucG9wRmlyc3QoKSk7cmV0dXJuIG5ldyB0KHRoaXMuaW50ZXJuYWxWYWx1ZS5pbnNlcnQoZS5maXJzdFNlZ21lbnQoKSxyKSl9cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09dGhpcy5maWVsZChlKX0sdC5wcm90b3R5cGUuZmllbGQ9ZnVuY3Rpb24oZSl7dyghZS5pc0VtcHR5KCksIkNhbid0IGdldCBmaWVsZCBvZiBlbXB0eSBwYXRoIik7dmFyIG49dGhpcztyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtuPW4gaW5zdGFuY2VvZiB0P24uaW50ZXJuYWxWYWx1ZS5nZXQoZSk6bnVsbH0pKSxufSx0LnByb3RvdHlwZS5maWVsZE1hc2s9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgUmUoZmUuY29tcGFyYXRvcik7cmV0dXJuIHRoaXMuaW50ZXJuYWxWYWx1ZS5mb3JFYWNoKChmdW5jdGlvbihuLHIpe3ZhciBpPW5ldyBmZShbbl0pO2lmKHIgaW5zdGFuY2VvZiB0KXt2YXIgbz1yLmZpZWxkTWFzaygpLmZpZWxkcztvLmlzRW1wdHkoKT9lPWUuYWRkKGkpOm8uZm9yRWFjaCgoZnVuY3Rpb24odCl7ZT1lLmFkZChpLmNoaWxkKHQpKX0pKX1lbHNlIGU9ZS5hZGQoaSl9KSksZ3QuZnJvbVNldChlKX0sdC5wcm90b3R5cGUuYXBwcm94aW1hdGVCeXRlU2l6ZT1mdW5jdGlvbigpe3ZhciBlPTA7cmV0dXJuIHRoaXMuaW50ZXJuYWxWYWx1ZS5pbm9yZGVyVHJhdmVyc2FsKChmdW5jdGlvbih0LG4pe2UrPXQubGVuZ3RoK24uYXBwcm94aW1hdGVCeXRlU2l6ZSgpfSkpLGV9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZXJuYWxWYWx1ZS50b1N0cmluZygpfSx0LnByb3RvdHlwZS5jaGlsZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFZhbHVlLmdldChlKXx8dm9pZCAwfSx0LnByb3RvdHlwZS5zZXRDaGlsZD1mdW5jdGlvbihlLG4pe3JldHVybiBuZXcgdCh0aGlzLmludGVybmFsVmFsdWUuaW5zZXJ0KGUsbikpfSx0LkVNUFRZPW5ldyB0KG5ldyBfZShYKSksdH0oa3QpLHp0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmludGVybmFsVmFsdWU9dCxuLnR5cGVPcmRlcj1idC5BcnJheVZhbHVlLG59cmV0dXJuIGEuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaW50ZXJuYWxWYWx1ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlKGUpfSkpfSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXRoaXMuaW50ZXJuYWxWYWx1ZTt0PG4ubGVuZ3RoO3QrKyl7aWYoblt0XS5pc0VxdWFsKGUpKXJldHVybiEwfXJldHVybiExfSx0LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe3RoaXMuaW50ZXJuYWxWYWx1ZS5mb3JFYWNoKGUpfSx0LnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB0KXtpZih0aGlzLmludGVybmFsVmFsdWUubGVuZ3RoIT09ZS5pbnRlcm5hbFZhbHVlLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49MDtuPHRoaXMuaW50ZXJuYWxWYWx1ZS5sZW5ndGg7bisrKWlmKCF0aGlzLmludGVybmFsVmFsdWVbbl0uaXNFcXVhbChlLmludGVybmFsVmFsdWVbbl0pKXJldHVybiExO3JldHVybiEwfXJldHVybiExfSx0LnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHQpe2Zvcih2YXIgbj1NYXRoLm1pbih0aGlzLmludGVybmFsVmFsdWUubGVuZ3RoLGUuaW50ZXJuYWxWYWx1ZS5sZW5ndGgpLHI9MDtyPG47cisrKXt2YXIgaT10aGlzLmludGVybmFsVmFsdWVbcl0uY29tcGFyZVRvKGUuaW50ZXJuYWxWYWx1ZVtyXSk7aWYoaSlyZXR1cm4gaX1yZXR1cm4gWCh0aGlzLmludGVybmFsVmFsdWUubGVuZ3RoLGUuaW50ZXJuYWxWYWx1ZS5sZW5ndGgpfXJldHVybiB0aGlzLmRlZmF1bHRDb21wYXJlVG8oZSl9LHQucHJvdG90eXBlLmFwcHJveGltYXRlQnl0ZVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFZhbHVlLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSt0LmFwcHJveGltYXRlQnl0ZVNpemUoKX0pLDApfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbIit0aGlzLmludGVybmFsVmFsdWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50b1N0cmluZygpfSkpLmpvaW4oIiwiKSsiXSJ9LHR9KGt0KSxXdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmtleT1lLHRoaXMudmVyc2lvbj10fXJldHVybiBlLmNvbXBhcmVCeUtleT1mdW5jdGlvbihlLHQpe3JldHVybiBkZS5jb21wYXJhdG9yKGUua2V5LHQua2V5KX0sZX0oKSxHdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixyLGksbyxhKXt2YXIgcz1lLmNhbGwodGhpcyx0LG4pfHx0aGlzO3JldHVybiBzLm9iamVjdFZhbHVlPWkscy5wcm90bz1vLHMuY29udmVydGVyPWEsdyh2b2lkIDAhPT1zLm9iamVjdFZhbHVlfHx2b2lkIDAhPT1zLnByb3RvJiZ2b2lkIDAhPT1zLmNvbnZlcnRlciwiSWYgb2JqZWN0VmFsdWUgaXMgbm90IGRlZmluZWQsIHByb3RvIGFuZCBjb252ZXJ0ZXIgbmVlZCB0byBiZSBzZXQuIikscy5oYXNMb2NhbE11dGF0aW9ucz0hIXIuaGFzTG9jYWxNdXRhdGlvbnMscy5oYXNDb21taXR0ZWRNdXRhdGlvbnM9ISFyLmhhc0NvbW1pdHRlZE11dGF0aW9ucyxzfXJldHVybiBhLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmZpZWxkPWZ1bmN0aW9uKGUpe2lmKHRoaXMub2JqZWN0VmFsdWUpcmV0dXJuIHRoaXMub2JqZWN0VmFsdWUuZmllbGQoZSk7dGhpcy5maWVsZFZhbHVlQ2FjaGV8fCh0aGlzLmZpZWxkVmFsdWVDYWNoZT1uZXcgTWFwKTt2YXIgdD1lLmNhbm9uaWNhbFN0cmluZygpLG49dGhpcy5maWVsZFZhbHVlQ2FjaGUuZ2V0KHQpO2lmKHZvaWQgMD09PW4pe3ZhciByPXRoaXMuZ2V0UHJvdG9GaWVsZChlKTtuPXZvaWQgMD09PXI/bnVsbDp0aGlzLmNvbnZlcnRlcihyKSx0aGlzLmZpZWxkVmFsdWVDYWNoZS5zZXQodCxuKX1yZXR1cm4gbn0sdC5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIXRoaXMub2JqZWN0VmFsdWUpe3ZhciB0PUt0LkVNUFRZO04odGhpcy5wcm90by5maWVsZHN8fHt9LChmdW5jdGlvbihuLHIpe3Q9dC5zZXQobmV3IGZlKFtuXSksZS5jb252ZXJ0ZXIocikpfSkpLHRoaXMub2JqZWN0VmFsdWU9dCx0aGlzLmZpZWxkVmFsdWVDYWNoZT12b2lkIDB9cmV0dXJuIHRoaXMub2JqZWN0VmFsdWV9LHQucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YSgpLnZhbHVlKCl9LHQucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiZ0aGlzLmtleS5pc0VxdWFsKGUua2V5KSYmdGhpcy52ZXJzaW9uLmlzRXF1YWwoZS52ZXJzaW9uKSYmdGhpcy5oYXNMb2NhbE11dGF0aW9ucz09PWUuaGFzTG9jYWxNdXRhdGlvbnMmJnRoaXMuaGFzQ29tbWl0dGVkTXV0YXRpb25zPT09ZS5oYXNDb21taXR0ZWRNdXRhdGlvbnMmJnRoaXMuZGF0YSgpLmlzRXF1YWwoZS5kYXRhKCkpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJEb2N1bWVudCgiK3RoaXMua2V5KyIsICIrdGhpcy52ZXJzaW9uKyIsICIrdGhpcy5kYXRhKCkudG9TdHJpbmcoKSsiLCB7aGFzTG9jYWxNdXRhdGlvbnM6ICIrdGhpcy5oYXNMb2NhbE11dGF0aW9ucysifSksIHtoYXNDb21taXR0ZWRNdXRhdGlvbnM6ICIrdGhpcy5oYXNDb21taXR0ZWRNdXRhdGlvbnMrIn0pIn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJoYXNQZW5kaW5nV3JpdGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzTG9jYWxNdXRhdGlvbnN8fHRoaXMuaGFzQ29tbWl0dGVkTXV0YXRpb25zfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmdldFByb3RvRmllbGQ9ZnVuY3Rpb24oZSl7dyh2b2lkIDAhPT10aGlzLnByb3RvLCJDYW4gb25seSBjYWxsIGdldFByb3RvRmllbGQoKSB3aGVuIHByb3RvIGlzIGRlZmluZWQiKTtmb3IodmFyIHQ9dGhpcy5wcm90by5maWVsZHM/dGhpcy5wcm90by5maWVsZHNbZS5maXJzdFNlZ21lbnQoKV06dm9pZCAwLG49MTtuPGUubGVuZ3RoOysrbil7aWYoIXR8fCF0Lm1hcFZhbHVlfHwhdC5tYXBWYWx1ZS5maWVsZHMpcmV0dXJuO3Q9dC5tYXBWYWx1ZS5maWVsZHNbZS5nZXQobildfXJldHVybiB0fSx0LmNvbXBhcmVCeUZpZWxkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10LmZpZWxkKGUpLGk9bi5maWVsZChlKTtyZXR1cm4gbnVsbCE9PXImJm51bGwhPT1pP3IuY29tcGFyZVRvKGkpOnYoIlRyeWluZyB0byBjb21wYXJlIGRvY3VtZW50cyBvbiBmaWVsZHMgdGhhdCBkb24ndCBleGlzdCIpfSx0fShXdCksanQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scil7dmFyIGk9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpcztyZXR1cm4gaS5oYXNDb21taXR0ZWRNdXRhdGlvbnM9ISghcnx8IXIuaGFzQ29tbWl0dGVkTXV0YXRpb25zKSxpfXJldHVybiBhLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIk5vRG9jdW1lbnQoIit0aGlzLmtleSsiLCAiK3RoaXMudmVyc2lvbisiKSJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiaGFzUGVuZGluZ1dyaXRlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0NvbW1pdHRlZE11dGF0aW9uc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdCYmZS5oYXNDb21taXR0ZWRNdXRhdGlvbnM9PT10aGlzLmhhc0NvbW1pdHRlZE11dGF0aW9ucyYmZS52ZXJzaW9uLmlzRXF1YWwodGhpcy52ZXJzaW9uKSYmZS5rZXkuaXNFcXVhbCh0aGlzLmtleSl9LHR9KFd0KSxIdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJVbmtub3duRG9jdW1lbnQoIit0aGlzLmtleSsiLCAiK3RoaXMudmVyc2lvbisiKSJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiaGFzUGVuZGluZ1dyaXRlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiEwfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiZlLnZlcnNpb24uaXNFcXVhbCh0aGlzLnZlcnNpb24pJiZlLmtleS5pc0VxdWFsKHRoaXMua2V5KX0sdH0oV3QpLFl0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLm1hcEtleUZuPWUsdGhpcy5pbm5lcj17fX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWFwS2V5Rm4oZSksbj10aGlzLmlubmVyW3RdO2lmKHZvaWQgMCE9PW4pZm9yKHZhciByPTAsaT1uO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdLGE9b1swXSxzPW9bMV07aWYoYS5pc0VxdWFsKGUpKXJldHVybiBzfX0sZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT10aGlzLmdldChlKX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5tYXBLZXlGbihlKSxyPXRoaXMuaW5uZXJbbl07aWYodm9pZCAwIT09cil7Zm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspaWYocltpXVswXS5pc0VxdWFsKGUpKXJldHVybiB2b2lkKHJbaV09W2UsdF0pO3IucHVzaChbZSx0XSl9ZWxzZSB0aGlzLmlubmVyW25dPVtbZSx0XV19LGUucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm1hcEtleUZuKGUpLG49dGhpcy5pbm5lclt0XTtpZih2b2lkIDA9PT1uKXJldHVybiExO2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKWlmKG5bcl1bMF0uaXNFcXVhbChlKSlyZXR1cm4gMT09PW4ubGVuZ3RoP2RlbGV0ZSB0aGlzLmlubmVyW3RdOm4uc3BsaWNlKHIsMSksITA7cmV0dXJuITF9LGUucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZSl7Tih0aGlzLmlubmVyLChmdW5jdGlvbih0LG4pe2Zvcih2YXIgcj0wLGk9bjtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXSxhPW9bMF0scz1vWzFdO2UoYSxzKX19KSl9LGUucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gQSh0aGlzLmlubmVyKX0sZX0oKSxKdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmNoYW5nZXM9bmV3IFl0KChmdW5jdGlvbihlKXtyZXR1cm4gZS50b1N0cmluZygpfSkpLHRoaXMuY2hhbmdlc0FwcGxpZWQ9ITF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVhZFRpbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdyh2b2lkIDAhPT10aGlzLl9yZWFkVGltZSwiUmVhZCB0aW1lIGlzIG5vdCBzZXQuIEFsbCByZW1vdmVFbnRyeSgpIGNhbGxzIG11c3QgaW5jbHVkZSBhIHJlYWRUaW1lIGlmIGB0cmFja1JlbW92YWxzYCBpcyB1c2VkLiIpLHRoaXMuX3JlYWRUaW1lfSxzZXQ6ZnVuY3Rpb24oZSl7dyh2b2lkIDA9PT10aGlzLl9yZWFkVGltZXx8dGhpcy5fcmVhZFRpbWUuaXNFcXVhbChlKSwiQWxsIGNoYW5nZXMgaW4gYSBSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlciBtdXN0IGhhdmUgdGhlIHNhbWUgcmVhZCB0aW1lIiksdGhpcy5fcmVhZFRpbWU9ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5hZGRFbnRyeT1mdW5jdGlvbihlLHQpe3RoaXMuYXNzZXJ0Tm90QXBwbGllZCgpLHRoaXMucmVhZFRpbWU9dCx0aGlzLmNoYW5nZXMuc2V0KGUua2V5LGUpfSxlLnByb3RvdHlwZS5yZW1vdmVFbnRyeT1mdW5jdGlvbihlLHQpe3RoaXMuYXNzZXJ0Tm90QXBwbGllZCgpLHQmJih0aGlzLnJlYWRUaW1lPXQpLHRoaXMuY2hhbmdlcy5zZXQoZSxudWxsKX0sZS5wcm90b3R5cGUuZ2V0RW50cnk9ZnVuY3Rpb24oZSx0KXt0aGlzLmFzc2VydE5vdEFwcGxpZWQoKTt2YXIgbj10aGlzLmNoYW5nZXMuZ2V0KHQpO3JldHVybiB2b2lkIDAhPT1uP0dlLnJlc29sdmUobik6dGhpcy5nZXRGcm9tQ2FjaGUoZSx0KX0sZS5wcm90b3R5cGUuZ2V0RW50cmllcz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmdldEFsbEZyb21DYWNoZShlLHQpfSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hc3NlcnROb3RBcHBsaWVkKCksdGhpcy5jaGFuZ2VzQXBwbGllZD0hMCx0aGlzLmFwcGx5Q2hhbmdlcyhlKX0sZS5wcm90b3R5cGUuYXNzZXJ0Tm90QXBwbGllZD1mdW5jdGlvbigpe3coIXRoaXMuY2hhbmdlc0FwcGxpZWQsIkNoYW5nZXMgaGF2ZSBhbHJlYWR5IGJlZW4gYXBwbGllZC4iKX0sZX0oKSxYdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLnNlcmlhbGl6ZXI9ZSx0aGlzLmluZGV4TWFuYWdlcj10fXJldHVybiBlLnByb3RvdHlwZS5hZGRFbnRyeT1mdW5jdGlvbihlLHQsbil7cmV0dXJuICR0KGUpLnB1dChlbih0KSxuKX0sZS5wcm90b3R5cGUucmVtb3ZlRW50cnk9ZnVuY3Rpb24oZSx0KXt2YXIgbj0kdChlKSxyPWVuKHQpO3JldHVybiBuLmRlbGV0ZShyKX0sZS5wcm90b3R5cGUudXBkYXRlTWV0YWRhdGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aGlzLmdldE1ldGFkYXRhKGUpLm5leHQoKGZ1bmN0aW9uKHIpe3JldHVybiByLmJ5dGVTaXplKz10LG4uc2V0TWV0YWRhdGEoZSxyKX0pKX0sZS5wcm90b3R5cGUuZ2V0RW50cnk9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiAkdChlKS5nZXQoZW4odCkpLm5leHQoKGZ1bmN0aW9uKGUpe3JldHVybiBuLm1heWJlRGVjb2RlRG9jdW1lbnQoZSl9KSl9LGUucHJvdG90eXBlLmdldFNpemVkRW50cnk9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiAkdChlKS5nZXQoZW4odCkpLm5leHQoKGZ1bmN0aW9uKGUpe3ZhciB0PW4ubWF5YmVEZWNvZGVEb2N1bWVudChlKTtyZXR1cm4gdD97bWF5YmVEb2N1bWVudDp0LHNpemU6dG4oZSl9Om51bGx9KSl9LGUucHJvdG90eXBlLmdldEVudHJpZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9eGUoKTtyZXR1cm4gdGhpcy5mb3JFYWNoRGJFbnRyeShlLHQsKGZ1bmN0aW9uKGUsdCl7dmFyIGk9bi5tYXliZURlY29kZURvY3VtZW50KHQpO3I9ci5pbnNlcnQoZSxpKX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiByfSkpfSxlLnByb3RvdHlwZS5nZXRTaXplZEVudHJpZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9eGUoKSxpPW5ldyBfZShkZS5jb21wYXJhdG9yKTtyZXR1cm4gdGhpcy5mb3JFYWNoRGJFbnRyeShlLHQsKGZ1bmN0aW9uKGUsdCl7dmFyIG89bi5tYXliZURlY29kZURvY3VtZW50KHQpO28/KHI9ci5pbnNlcnQoZSxvKSxpPWkuaW5zZXJ0KGUsdG4odCkpKToocj1yLmluc2VydChlLG51bGwpLGk9aS5pbnNlcnQoZSwwKSl9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm57bWF5YmVEb2N1bWVudHM6cixzaXplTWFwOml9fSkpfSxlLnByb3RvdHlwZS5mb3JFYWNoRGJFbnRyeT1mdW5jdGlvbihlLHQsbil7aWYodC5pc0VtcHR5KCkpcmV0dXJuIEdlLnJlc29sdmUoKTt2YXIgcj1JREJLZXlSYW5nZS5ib3VuZCh0LmZpcnN0KCkucGF0aC50b0FycmF5KCksdC5sYXN0KCkucGF0aC50b0FycmF5KCkpLGk9dC5nZXRJdGVyYXRvcigpLG89aS5nZXROZXh0KCk7cmV0dXJuICR0KGUpLml0ZXJhdGUoe3JhbmdlOnJ9LChmdW5jdGlvbihlLHQscil7Zm9yKHZhciBhPWRlLmZyb21TZWdtZW50cyhlKTtvJiZkZS5jb21wYXJhdG9yKG8sYSk8MDspbihvLG51bGwpLG89aS5nZXROZXh0KCk7byYmby5pc0VxdWFsKGEpJiYobihvLHQpLG89aS5oYXNOZXh0KCk/aS5nZXROZXh0KCk6bnVsbCksbz9yLnNraXAoby5wYXRoLnRvQXJyYXkoKSk6ci5kb25lKCl9KSkubmV4dCgoZnVuY3Rpb24oKXtmb3IoO287KW4obyxudWxsKSxvPWkuaGFzTmV4dCgpP2kuZ2V0TmV4dCgpOm51bGx9KSl9LGUucHJvdG90eXBlLmdldERvY3VtZW50c01hdGNoaW5nUXVlcnk9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXM7dyghdC5pc0NvbGxlY3Rpb25Hcm91cFF1ZXJ5KCksIkNvbGxlY3Rpb25Hcm91cCBxdWVyaWVzIHNob3VsZCBiZSBoYW5kbGVkIGluIExvY2FsRG9jdW1lbnRzVmlldyIpO3ZhciBpPUZlKCksbz10LnBhdGgubGVuZ3RoKzEsYT17fTtpZihuLmlzRXF1YWwoRGUuTUlOKSl7dmFyIHM9dC5wYXRoLnRvQXJyYXkoKTthLnJhbmdlPUlEQktleVJhbmdlLmxvd2VyQm91bmQocyl9ZWxzZXt2YXIgdT10LnBhdGgudG9BcnJheSgpLGM9dGhpcy5zZXJpYWxpemVyLnRvRGJUaW1lc3RhbXBLZXkobik7YS5yYW5nZT1JREJLZXlSYW5nZS5sb3dlckJvdW5kKFt1LGNdLCEwKSxhLmluZGV4PXBuLmNvbGxlY3Rpb25SZWFkVGltZUluZGV4fXJldHVybiAkdChlKS5pdGVyYXRlKGEsKGZ1bmN0aW9uKGUsbixhKXtpZihlLmxlbmd0aD09PW8pe3ZhciBzPXIuc2VyaWFsaXplci5mcm9tRGJSZW1vdGVEb2N1bWVudChuKTt0LnBhdGguaXNQcmVmaXhPZihzLmtleS5wYXRoKT9zIGluc3RhbmNlb2YgR3QmJnQubWF0Y2hlcyhzKSYmKGk9aS5pbnNlcnQocy5rZXkscykpOmEuZG9uZSgpfX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBpfSkpfSxlLnByb3RvdHlwZS5nZXROZXdEb2N1bWVudENoYW5nZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9T2UoKSxpPXRoaXMuc2VyaWFsaXplci50b0RiVGltZXN0YW1wS2V5KHQpLG89JHQoZSksYT1JREJLZXlSYW5nZS5sb3dlckJvdW5kKGksITApO3JldHVybiBvLml0ZXJhdGUoe2luZGV4OnBuLnJlYWRUaW1lSW5kZXgscmFuZ2U6YX0sKGZ1bmN0aW9uKGUsdCl7dmFyIG89bi5zZXJpYWxpemVyLmZyb21EYlJlbW90ZURvY3VtZW50KHQpO3I9ci5pbnNlcnQoby5rZXksbyksaT10LnJlYWRUaW1lfSkpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJue2NoYW5nZWREb2NzOnIscmVhZFRpbWU6bi5zZXJpYWxpemVyLmZyb21EYlRpbWVzdGFtcEtleShpKX19KSl9LGUucHJvdG90eXBlLmdldExhc3RSZWFkVGltZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49JHQoZSkscj1EZS5NSU47cmV0dXJuIG4uaXRlcmF0ZSh7aW5kZXg6cG4ucmVhZFRpbWVJbmRleCxyZXZlcnNlOiEwfSwoZnVuY3Rpb24oZSxuLGkpe24ucmVhZFRpbWUmJihyPXQuc2VyaWFsaXplci5mcm9tRGJUaW1lc3RhbXBLZXkobi5yZWFkVGltZSkpLGkuZG9uZSgpfSkpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGUucHJvdG90eXBlLm5ld0NoYW5nZUJ1ZmZlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUuUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXIodGhpcywhIXQmJnQudHJhY2tSZW1vdmFscyl9LGUucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0TWV0YWRhdGEoZSkubmV4dCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYnl0ZVNpemV9KSl9LGUucHJvdG90eXBlLmdldE1ldGFkYXRhPWZ1bmN0aW9uKGUpe3JldHVybiBadChlKS5nZXQobW4ua2V5KS5uZXh0KChmdW5jdGlvbihlKXtyZXR1cm4gdyghIWUsIk1pc3NpbmcgZG9jdW1lbnQgY2FjaGUgbWV0YWRhdGEiKSxlfSkpfSxlLnByb3RvdHlwZS5zZXRNZXRhZGF0YT1mdW5jdGlvbihlLHQpe3JldHVybiBadChlKS5wdXQobW4ua2V5LHQpfSxlLnByb3RvdHlwZS5tYXliZURlY29kZURvY3VtZW50PWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXRoaXMuc2VyaWFsaXplci5mcm9tRGJSZW1vdGVEb2N1bWVudChlKTtyZXR1cm4gdCBpbnN0YW5jZW9mIGp0JiZ0LnZlcnNpb24uaXNFcXVhbChEZS5mb3JEZWxldGVkRG9jKCkpP251bGw6dH1yZXR1cm4gbnVsbH0sZS5SZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmRvY3VtZW50Q2FjaGU9dCxyLnRyYWNrUmVtb3ZhbHM9bixyLmRvY3VtZW50U2l6ZXM9bmV3IFl0KChmdW5jdGlvbihlKXtyZXR1cm4gZS50b1N0cmluZygpfSkpLHJ9cmV0dXJuIGEuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYXBwbHlDaGFuZ2VzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1bXSxyPTAsaT1uZXcgUmUoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFgoZS5jYW5vbmljYWxTdHJpbmcoKSx0LmNhbm9uaWNhbFN0cmluZygpKX0pKTtyZXR1cm4gdGhpcy5jaGFuZ2VzLmZvckVhY2goKGZ1bmN0aW9uKG8sYSl7dmFyIHM9dC5kb2N1bWVudFNpemVzLmdldChvKTtpZih3KHZvaWQgMCE9PXMsIkNhbm5vdCBtb2RpZnkgYSBkb2N1bWVudCB0aGF0IHdhc24ndCByZWFkIChmb3IgIitvKyIpIiksYSl7dyghdC5yZWFkVGltZS5pc0VxdWFsKERlLk1JTiksIkNhbm5vdCBhZGQgYSBkb2N1bWVudCB3aXRoIGEgcmVhZCB0aW1lIG9mIHplcm8iKTt2YXIgdT10LmRvY3VtZW50Q2FjaGUuc2VyaWFsaXplci50b0RiUmVtb3RlRG9jdW1lbnQoYSx0LnJlYWRUaW1lKTtpPWkuYWRkKG8ucGF0aC5wb3BMYXN0KCkpO3ZhciBjPXRuKHUpO3IrPWMtcyxuLnB1c2godC5kb2N1bWVudENhY2hlLmFkZEVudHJ5KGUsbyx1KSl9ZWxzZSBpZihyLT1zLHQudHJhY2tSZW1vdmFscyl7dmFyIGg9dC5kb2N1bWVudENhY2hlLnNlcmlhbGl6ZXIudG9EYlJlbW90ZURvY3VtZW50KG5ldyBqdChvLERlLmZvckRlbGV0ZWREb2MoKSksdC5yZWFkVGltZSk7bi5wdXNoKHQuZG9jdW1lbnRDYWNoZS5hZGRFbnRyeShlLG8saCkpfWVsc2Ugbi5wdXNoKHQuZG9jdW1lbnRDYWNoZS5yZW1vdmVFbnRyeShlLG8pKX0pKSxpLmZvckVhY2goKGZ1bmN0aW9uKHIpe24ucHVzaCh0LmRvY3VtZW50Q2FjaGUuaW5kZXhNYW5hZ2VyLmFkZFRvQ29sbGVjdGlvblBhcmVudEluZGV4KGUscikpfSkpLG4ucHVzaCh0aGlzLmRvY3VtZW50Q2FjaGUudXBkYXRlTWV0YWRhdGEoZSxyKSksR2Uud2FpdEZvcihuKX0sdC5wcm90b3R5cGUuZ2V0RnJvbUNhY2hlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5kb2N1bWVudENhY2hlLmdldFNpemVkRW50cnkoZSx0KS5uZXh0KChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWU/KG4uZG9jdW1lbnRTaXplcy5zZXQodCwwKSxudWxsKToobi5kb2N1bWVudFNpemVzLnNldCh0LGUuc2l6ZSksZS5tYXliZURvY3VtZW50KX0pKX0sdC5wcm90b3R5cGUuZ2V0QWxsRnJvbUNhY2hlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5kb2N1bWVudENhY2hlLmdldFNpemVkRW50cmllcyhlLHQpLm5leHQoKGZ1bmN0aW9uKGUpe3ZhciB0PWUubWF5YmVEb2N1bWVudHM7cmV0dXJuIGUuc2l6ZU1hcC5mb3JFYWNoKChmdW5jdGlvbihlLHQpe24uZG9jdW1lbnRTaXplcy5zZXQoZSx0KX0pKSx0fSkpfSx0fShKdCksZX0oKTtmdW5jdGlvbiBadChlKXtyZXR1cm4gSG4uZ2V0U3RvcmUoZSxtbi5zdG9yZSl9ZnVuY3Rpb24gJHQoZSl7cmV0dXJuIEhuLmdldFN0b3JlKGUscG4uc3RvcmUpfWZ1bmN0aW9uIGVuKGUpe3JldHVybiBlLnBhdGgudG9BcnJheSgpfWZ1bmN0aW9uIHRuKGUpe3ZhciB0O2lmKGUuZG9jdW1lbnQpdD1lLmRvY3VtZW50O2Vsc2UgaWYoZS51bmtub3duRG9jdW1lbnQpdD1lLnVua25vd25Eb2N1bWVudDtlbHNle2lmKCFlLm5vRG9jdW1lbnQpdGhyb3cgdigiVW5rbm93biByZW1vdGUgZG9jdW1lbnQgdHlwZSIpO3Q9ZS5ub0RvY3VtZW50fXJldHVybiBKU09OLnN0cmluZ2lmeSh0KS5sZW5ndGh9dmFyIG5uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuY29sbGVjdGlvblBhcmVudEluZGV4PW5ldyBybn1yZXR1cm4gZS5wcm90b3R5cGUuYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5jb2xsZWN0aW9uUGFyZW50SW5kZXguYWRkKHQpLEdlLnJlc29sdmUoKX0sZS5wcm90b3R5cGUuZ2V0Q29sbGVjdGlvblBhcmVudHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gR2UucmVzb2x2ZSh0aGlzLmNvbGxlY3Rpb25QYXJlbnRJbmRleC5nZXRFbnRyaWVzKHQpKX0sZX0oKSxybj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmluZGV4PXt9fXJldHVybiBlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dyhlLmxlbmd0aCUyPT09MSwiRXhwZWN0ZWQgYSBjb2xsZWN0aW9uIHBhdGguIik7dmFyIHQ9ZS5sYXN0U2VnbWVudCgpLG49ZS5wb3BMYXN0KCkscj10aGlzLmluZGV4W3RdfHxuZXcgUmUoaGUuY29tcGFyYXRvciksaT0hci5oYXMobik7cmV0dXJuIHRoaXMuaW5kZXhbdF09ci5hZGQobiksaX0sZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGFzdFNlZ21lbnQoKSxuPWUucG9wTGFzdCgpLHI9dGhpcy5pbmRleFt0XTtyZXR1cm4gciYmci5oYXMobil9LGUucHJvdG90eXBlLmdldEVudHJpZXM9ZnVuY3Rpb24oZSl7cmV0dXJuKHRoaXMuaW5kZXhbZV18fG5ldyBSZShoZS5jb21wYXJhdG9yKSkudG9BcnJheSgpfSxlfSgpLG9uPTksYW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuc2VyaWFsaXplcj1lfXJldHVybiBlLnByb3RvdHlwZS5jcmVhdGVPclVwZ3JhZGU9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dGhpczt3KG48ciYmbj49MCYmcjw9b24sIlVuZXhwZWN0ZWQgc2NoZW1hIHVwZ3JhZGUgZnJvbSB2IituKyIgdG8gdnt0b1ZlcnNpb259LiIpO3ZhciBvPW5ldyBKZSh0KTtuPDEmJnI+PTEmJihmdW5jdGlvbihlKXtlLmNyZWF0ZU9iamVjdFN0b3JlKHVuLnN0b3JlKX0oZSksZnVuY3Rpb24oZSl7ZS5jcmVhdGVPYmplY3RTdG9yZShjbi5zdG9yZSx7a2V5UGF0aDpjbi5rZXlQYXRofSksZS5jcmVhdGVPYmplY3RTdG9yZShobi5zdG9yZSx7a2V5UGF0aDpobi5rZXlQYXRoLGF1dG9JbmNyZW1lbnQ6ITB9KS5jcmVhdGVJbmRleChobi51c2VyTXV0YXRpb25zSW5kZXgsaG4udXNlck11dGF0aW9uc0tleVBhdGgse3VuaXF1ZTohMH0pLGUuY3JlYXRlT2JqZWN0U3RvcmUobG4uc3RvcmUpfShlKSxibihlKSxmdW5jdGlvbihlKXtlLmNyZWF0ZU9iamVjdFN0b3JlKHBuLnN0b3JlKX0oZSkpO3ZhciBhPUdlLnJlc29sdmUoKTtyZXR1cm4gbjwzJiZyPj0zJiYoMCE9PW4mJighZnVuY3Rpb24oZSl7ZS5kZWxldGVPYmplY3RTdG9yZShnbi5zdG9yZSksZS5kZWxldGVPYmplY3RTdG9yZSh5bi5zdG9yZSksZS5kZWxldGVPYmplY3RTdG9yZSh2bi5zdG9yZSl9KGUpLGJuKGUpKSxhPWEubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9yZSh2bi5zdG9yZSksbj1uZXcgdm4oMCwwLERlLk1JTi50b1RpbWVzdGFtcCgpLDApO3JldHVybiB0LnB1dCh2bi5rZXksbil9KG8pfSkpKSxuPDQmJnI+PTQmJigwIT09biYmKGE9YS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiB0LnN0b3JlKGhuLnN0b3JlKS5sb2FkQWxsKCkubmV4dCgoZnVuY3Rpb24obil7ZS5kZWxldGVPYmplY3RTdG9yZShobi5zdG9yZSksZS5jcmVhdGVPYmplY3RTdG9yZShobi5zdG9yZSx7a2V5UGF0aDpobi5rZXlQYXRoLGF1dG9JbmNyZW1lbnQ6ITB9KS5jcmVhdGVJbmRleChobi51c2VyTXV0YXRpb25zSW5kZXgsaG4udXNlck11dGF0aW9uc0tleVBhdGgse3VuaXF1ZTohMH0pO3ZhciByPXQuc3RvcmUoaG4uc3RvcmUpLGk9bi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLnB1dChlKX0pKTtyZXR1cm4gR2Uud2FpdEZvcihpKX0pKX0oZSxvKX0pKSksYT1hLm5leHQoKGZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGUpe2UuY3JlYXRlT2JqZWN0U3RvcmUoVG4uc3RvcmUse2tleVBhdGg6VG4ua2V5UGF0aH0pfShlKX0pKSksbjw1JiZyPj01JiYoYT1hLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIGkucmVtb3ZlQWNrbm93bGVkZ2VkTXV0YXRpb25zKG8pfSkpKSxuPDYmJnI+PTYmJihhPWEubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7ZS5jcmVhdGVPYmplY3RTdG9yZShtbi5zdG9yZSl9KGUpLGkuYWRkRG9jdW1lbnRHbG9iYWwobyl9KSkpLG48NyYmcj49NyYmKGE9YS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBpLmVuc3VyZVNlcXVlbmNlTnVtYmVycyhvKX0pKSksbjw4JiZyPj04JiYoYT1hLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIGkuY3JlYXRlQ29sbGVjdGlvblBhcmVudEluZGV4KGUsbyl9KSkpLG48OSYmcj49OSYmKGE9YS5uZXh0KChmdW5jdGlvbigpeyFmdW5jdGlvbihlKXtlLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoInJlbW90ZURvY3VtZW50Q2hhbmdlcyIpJiZlLmRlbGV0ZU9iamVjdFN0b3JlKCJyZW1vdGVEb2N1bWVudENoYW5nZXMiKX0oZSksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vYmplY3RTdG9yZShwbi5zdG9yZSk7dC5jcmVhdGVJbmRleChwbi5yZWFkVGltZUluZGV4LHBuLnJlYWRUaW1lSW5kZXhQYXRoLHt1bmlxdWU6ITF9KSx0LmNyZWF0ZUluZGV4KHBuLmNvbGxlY3Rpb25SZWFkVGltZUluZGV4LHBuLmNvbGxlY3Rpb25SZWFkVGltZUluZGV4UGF0aCx7dW5pcXVlOiExfSl9KHQpfSkpKSxhfSxlLnByb3RvdHlwZS5hZGREb2N1bWVudEdsb2JhbD1mdW5jdGlvbihlKXt2YXIgdD0wO3JldHVybiBlLnN0b3JlKHBuLnN0b3JlKS5pdGVyYXRlKChmdW5jdGlvbihlLG4pe3QrPXRuKG4pfSkpLm5leHQoKGZ1bmN0aW9uKCl7dmFyIG49bmV3IG1uKHQpO3JldHVybiBlLnN0b3JlKG1uLnN0b3JlKS5wdXQobW4ua2V5LG4pfSkpfSxlLnByb3RvdHlwZS5yZW1vdmVBY2tub3dsZWRnZWRNdXRhdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWUuc3RvcmUoY24uc3RvcmUpLHI9ZS5zdG9yZShobi5zdG9yZSk7cmV0dXJuIG4ubG9hZEFsbCgpLm5leHQoKGZ1bmN0aW9uKG4pe3JldHVybiBHZS5mb3JFYWNoKG4sKGZ1bmN0aW9uKG4pe3ZhciBpPUlEQktleVJhbmdlLmJvdW5kKFtuLnVzZXJJZCwtMV0sW24udXNlcklkLG4ubGFzdEFja25vd2xlZGdlZEJhdGNoSWRdKTtyZXR1cm4gci5sb2FkQWxsKGhuLnVzZXJNdXRhdGlvbnNJbmRleCxpKS5uZXh0KChmdW5jdGlvbihyKXtyZXR1cm4gR2UuZm9yRWFjaChyLChmdW5jdGlvbihyKXt3KHIudXNlcklkPT09bi51c2VySWQsIkNhbm5vdCBwcm9jZXNzIGJhdGNoICIrci5iYXRjaElkKyIgZnJvbSB1bmV4cGVjdGVkIHVzZXIiKTt2YXIgaT10LnNlcmlhbGl6ZXIuZnJvbURiTXV0YXRpb25CYXRjaChyKTtyZXR1cm4gcnQoZSxuLnVzZXJJZCxpKS5uZXh0KChmdW5jdGlvbigpe30pKX0pKX0pKX0pKX0pKX0sZS5wcm90b3R5cGUuZW5zdXJlU2VxdWVuY2VOdW1iZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RvcmUoZ24uc3RvcmUpLG49ZS5zdG9yZShwbi5zdG9yZSk7cmV0dXJuIHB0KGUpLm5leHQoKGZ1bmN0aW9uKGUpe3ZhciByPVtdO3JldHVybiBuLml0ZXJhdGUoKGZ1bmN0aW9uKG4saSl7dmFyIG89bmV3IGhlKG4pLGE9ZnVuY3Rpb24oZSl7cmV0dXJuWzAsVGUoZSldfShvKTtyLnB1c2godC5nZXQoYSkubmV4dCgoZnVuY3Rpb24obil7cmV0dXJuIG4/R2UucmVzb2x2ZSgpOmZ1bmN0aW9uKG4pe3JldHVybiB0LnB1dChuZXcgZ24oMCxUZShuKSxlKSl9KG8pfSkpKX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBHZS53YWl0Rm9yKHIpfSkpfSkpfSxlLnByb3RvdHlwZS5jcmVhdGVDb2xsZWN0aW9uUGFyZW50SW5kZXg9ZnVuY3Rpb24oZSx0KXtlLmNyZWF0ZU9iamVjdFN0b3JlKHduLnN0b3JlLHtrZXlQYXRoOnduLmtleVBhdGh9KTt2YXIgbj10LnN0b3JlKHduLnN0b3JlKSxyPW5ldyBybixpPWZ1bmN0aW9uKGUpe2lmKHIuYWRkKGUpKXt2YXIgdD1lLmxhc3RTZWdtZW50KCksaT1lLnBvcExhc3QoKTtyZXR1cm4gbi5wdXQoe2NvbGxlY3Rpb25JZDp0LHBhcmVudDpUZShpKX0pfX07cmV0dXJuIHQuc3RvcmUocG4uc3RvcmUpLml0ZXJhdGUoe2tleXNPbmx5OiEwfSwoZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgaGUoZSk7cmV0dXJuIGkobi5wb3BMYXN0KCkpfSkpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuc3RvcmUobG4uc3RvcmUpLml0ZXJhdGUoe2tleXNPbmx5OiEwfSwoZnVuY3Rpb24oZSx0KXtlWzBdO3ZhciBuPWVbMV0scj0oZVsyXSxJZShuKSk7cmV0dXJuIGkoci5wb3BMYXN0KCkpfSkpfSkpfSxlfSgpO3ZhciBzbj1mdW5jdGlvbihlLHQpe3RoaXMuc2Vjb25kcz1lLHRoaXMubmFub3NlY29uZHM9dH0sdW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt0aGlzLm93bmVySWQ9ZSx0aGlzLmFsbG93VGFiU3luY2hyb25pemF0aW9uPXQsdGhpcy5sZWFzZVRpbWVzdGFtcE1zPW59cmV0dXJuIGUuc3RvcmU9Im93bmVyIixlLmtleT0ib3duZXIiLGV9KCk7dmFyIGNuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dGhpcy51c2VySWQ9ZSx0aGlzLmxhc3RBY2tub3dsZWRnZWRCYXRjaElkPXQsdGhpcy5sYXN0U3RyZWFtVG9rZW49bn1yZXR1cm4gZS5zdG9yZT0ibXV0YXRpb25RdWV1ZXMiLGUua2V5UGF0aD0idXNlcklkIixlfSgpLGhuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyLGkpe3RoaXMudXNlcklkPWUsdGhpcy5iYXRjaElkPXQsdGhpcy5sb2NhbFdyaXRlVGltZU1zPW4sdGhpcy5iYXNlTXV0YXRpb25zPXIsdGhpcy5tdXRhdGlvbnM9aX1yZXR1cm4gZS5zdG9yZT0ibXV0YXRpb25zIixlLmtleVBhdGg9ImJhdGNoSWQiLGUudXNlck11dGF0aW9uc0luZGV4PSJ1c2VyTXV0YXRpb25zSW5kZXgiLGUudXNlck11dGF0aW9uc0tleVBhdGg9WyJ1c2VySWQiLCJiYXRjaElkIl0sZX0oKTt2YXIgbG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByZWZpeEZvclVzZXI9ZnVuY3Rpb24oZSl7cmV0dXJuW2VdfSxlLnByZWZpeEZvclBhdGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm5bZSxUZSh0KV19LGUua2V5PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bZSxUZSh0KSxuXX0sZS5zdG9yZT0iZG9jdW1lbnRNdXRhdGlvbnMiLGUuUExBQ0VIT0xERVI9bmV3IGUsZX0oKTt2YXIgZm49ZnVuY3Rpb24oZSx0KXt0aGlzLnBhdGg9ZSx0aGlzLnJlYWRUaW1lPXR9LGRuPWZ1bmN0aW9uKGUsdCl7dGhpcy5wYXRoPWUsdGhpcy52ZXJzaW9uPXR9LHBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyLGksbyl7dGhpcy51bmtub3duRG9jdW1lbnQ9ZSx0aGlzLm5vRG9jdW1lbnQ9dCx0aGlzLmRvY3VtZW50PW4sdGhpcy5oYXNDb21taXR0ZWRNdXRhdGlvbnM9cix0aGlzLnJlYWRUaW1lPWksdGhpcy5wYXJlbnRQYXRoPW99cmV0dXJuIGUuc3RvcmU9InJlbW90ZURvY3VtZW50cyIsZS5yZWFkVGltZUluZGV4PSJyZWFkVGltZUluZGV4IixlLnJlYWRUaW1lSW5kZXhQYXRoPSJyZWFkVGltZSIsZS5jb2xsZWN0aW9uUmVhZFRpbWVJbmRleD0iY29sbGVjdGlvblJlYWRUaW1lSW5kZXgiLGUuY29sbGVjdGlvblJlYWRUaW1lSW5kZXhQYXRoPVsicGFyZW50UGF0aCIsInJlYWRUaW1lIl0sZX0oKSxtbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5ieXRlU2l6ZT1lfXJldHVybiBlLnN0b3JlPSJyZW1vdGVEb2N1bWVudEdsb2JhbCIsZS5rZXk9InJlbW90ZURvY3VtZW50R2xvYmFsS2V5IixlfSgpO3ZhciB5bj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scixpLG8sYSl7dGhpcy50YXJnZXRJZD1lLHRoaXMuY2Fub25pY2FsSWQ9dCx0aGlzLnJlYWRUaW1lPW4sdGhpcy5yZXN1bWVUb2tlbj1yLHRoaXMubGFzdExpc3RlblNlcXVlbmNlTnVtYmVyPWksdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uPW8sdGhpcy5xdWVyeT1hfXJldHVybiBlLnN0b3JlPSJ0YXJnZXRzIixlLmtleVBhdGg9InRhcmdldElkIixlLnF1ZXJ5VGFyZ2V0c0luZGV4TmFtZT0icXVlcnlUYXJnZXRzSW5kZXgiLGUucXVlcnlUYXJnZXRzS2V5UGF0aD1bImNhbm9uaWNhbElkIiwidGFyZ2V0SWQiXSxlfSgpLGduPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dGhpcy50YXJnZXRJZD1lLHRoaXMucGF0aD10LHRoaXMuc2VxdWVuY2VOdW1iZXI9bix3KDA9PT1lPT09KHZvaWQgMCE9PW4pLCJBIHRhcmdldC1kb2N1bWVudCByb3cgbXVzdCBlaXRoZXIgaGF2ZSB0YXJnZXRJZCA9PSAwIGFuZCBhIGRlZmluZWQgc2VxdWVuY2UgbnVtYmVyLCBvciBhIG5vbi16ZXJvIHRhcmdldElkIGFuZCBubyBzZXF1ZW5jZSBudW1iZXIiKX1yZXR1cm4gZS5zdG9yZT0idGFyZ2V0RG9jdW1lbnRzIixlLmtleVBhdGg9WyJ0YXJnZXRJZCIsInBhdGgiXSxlLmRvY3VtZW50VGFyZ2V0c0luZGV4PSJkb2N1bWVudFRhcmdldHNJbmRleCIsZS5kb2N1bWVudFRhcmdldHNLZXlQYXRoPVsicGF0aCIsInRhcmdldElkIl0sZX0oKSx2bj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scil7dGhpcy5oaWdoZXN0VGFyZ2V0SWQ9ZSx0aGlzLmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcj10LHRoaXMubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbj1uLHRoaXMudGFyZ2V0Q291bnQ9cn1yZXR1cm4gZS5rZXk9InRhcmdldEdsb2JhbEtleSIsZS5zdG9yZT0idGFyZ2V0R2xvYmFsIixlfSgpLHduPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuY29sbGVjdGlvbklkPWUsdGhpcy5wYXJlbnQ9dH1yZXR1cm4gZS5zdG9yZT0iY29sbGVjdGlvblBhcmVudHMiLGUua2V5UGF0aD1bImNvbGxlY3Rpb25JZCIsInBhcmVudCJdLGV9KCk7ZnVuY3Rpb24gYm4oZSl7ZS5jcmVhdGVPYmplY3RTdG9yZShnbi5zdG9yZSx7a2V5UGF0aDpnbi5rZXlQYXRofSkuY3JlYXRlSW5kZXgoZ24uZG9jdW1lbnRUYXJnZXRzSW5kZXgsZ24uZG9jdW1lbnRUYXJnZXRzS2V5UGF0aCx7dW5pcXVlOiEwfSksZS5jcmVhdGVPYmplY3RTdG9yZSh5bi5zdG9yZSx7a2V5UGF0aDp5bi5rZXlQYXRofSkuY3JlYXRlSW5kZXgoeW4ucXVlcnlUYXJnZXRzSW5kZXhOYW1lLHluLnF1ZXJ5VGFyZ2V0c0tleVBhdGgse3VuaXF1ZTohMH0pLGUuY3JlYXRlT2JqZWN0U3RvcmUodm4uc3RvcmUpfXZhciBUbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scil7dGhpcy5jbGllbnRJZD1lLHRoaXMudXBkYXRlVGltZU1zPXQsdGhpcy5uZXR3b3JrRW5hYmxlZD1uLHRoaXMuaW5Gb3JlZ3JvdW5kPXJ9cmV0dXJuIGUuc3RvcmU9ImNsaWVudE1ldGFkYXRhIixlLmtleVBhdGg9ImNsaWVudElkIixlfSgpO3ZhciBTbixFbj1bY24uc3RvcmUsaG4uc3RvcmUsbG4uc3RvcmUscG4uc3RvcmUseW4uc3RvcmUsdW4uc3RvcmUsdm4uc3RvcmUsZ24uc3RvcmVdLEluPWEuX19zcHJlYWRBcnJheXMoRW4sW1RuLnN0b3JlXSksQ249YS5fX3NwcmVhZEFycmF5cyhJbixbbW4uc3RvcmVdKSxEbj1hLl9fc3ByZWFkQXJyYXlzKENuLFt3bi5zdG9yZV0pLF9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuY29sbGVjdGlvblBhcmVudHNDYWNoZT1uZXcgcm59cmV0dXJuIGUucHJvdG90eXBlLmFkZFRvQ29sbGVjdGlvblBhcmVudEluZGV4PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztpZih3KHQubGVuZ3RoJTI9PT0xLCJFeHBlY3RlZCBhIGNvbGxlY3Rpb24gcGF0aC4iKSwhdGhpcy5jb2xsZWN0aW9uUGFyZW50c0NhY2hlLmhhcyh0KSl7dmFyIHI9dC5sYXN0U2VnbWVudCgpLGk9dC5wb3BMYXN0KCk7ZS5hZGRPbkNvbW1pdHRlZExpc3RlbmVyKChmdW5jdGlvbigpe24uY29sbGVjdGlvblBhcmVudHNDYWNoZS5hZGQodCl9KSk7dmFyIG89e2NvbGxlY3Rpb25JZDpyLHBhcmVudDpUZShpKX07cmV0dXJuIE5uKGUpLnB1dChvKX1yZXR1cm4gR2UucmVzb2x2ZSgpfSxlLnByb3RvdHlwZS5nZXRDb2xsZWN0aW9uUGFyZW50cz1mdW5jdGlvbihlLHQpe3ZhciBuPVtdLHI9SURCS2V5UmFuZ2UuYm91bmQoW3QsIiJdLFskKHQpLCIiXSwhMSwhMCk7cmV0dXJuIE5uKGUpLmxvYWRBbGwocikubmV4dCgoZnVuY3Rpb24oZSl7Zm9yKHZhciByPTAsaT1lO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO2lmKG8uY29sbGVjdGlvbklkIT09dClicmVhaztuLnB1c2goSWUoby5wYXJlbnQpKX1yZXR1cm4gbn0pKX0sZX0oKTtmdW5jdGlvbiBObihlKXtyZXR1cm4gSG4uZ2V0U3RvcmUoZSx3bi5zdG9yZSl9IWZ1bmN0aW9uKGUpe2VbZS5MaXN0ZW49MF09Ikxpc3RlbiIsZVtlLkV4aXN0ZW5jZUZpbHRlck1pc21hdGNoPTFdPSJFeGlzdGVuY2VGaWx0ZXJNaXNtYXRjaCIsZVtlLkxpbWJvUmVzb2x1dGlvbj0yXT0iTGltYm9SZXNvbHV0aW9uIn0oU258fChTbj17fSkpO3ZhciBBbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scixpLG8sYSl7dm9pZCAwPT09aSYmKGk9RGUuTUlOKSx2b2lkIDA9PT1vJiYobz1EZS5NSU4pLHZvaWQgMD09PWEmJihhPVQoKSksdGhpcy50YXJnZXQ9ZSx0aGlzLnRhcmdldElkPXQsdGhpcy5wdXJwb3NlPW4sdGhpcy5zZXF1ZW5jZU51bWJlcj1yLHRoaXMuc25hcHNob3RWZXJzaW9uPWksdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uPW8sdGhpcy5yZXN1bWVUb2tlbj1hfXJldHVybiBlLnByb3RvdHlwZS53aXRoU2VxdWVuY2VOdW1iZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHRoaXMudGFyZ2V0LHRoaXMudGFyZ2V0SWQsdGhpcy5wdXJwb3NlLHQsdGhpcy5zbmFwc2hvdFZlcnNpb24sdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uLHRoaXMucmVzdW1lVG9rZW4pfSxlLnByb3RvdHlwZS53aXRoUmVzdW1lVG9rZW49ZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3IGUodGhpcy50YXJnZXQsdGhpcy50YXJnZXRJZCx0aGlzLnB1cnBvc2UsdGhpcy5zZXF1ZW5jZU51bWJlcixuLHRoaXMubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbix0KX0sZS5wcm90b3R5cGUud2l0aExhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb249ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHRoaXMudGFyZ2V0LHRoaXMudGFyZ2V0SWQsdGhpcy5wdXJwb3NlLHRoaXMuc2VxdWVuY2VOdW1iZXIsdGhpcy5zbmFwc2hvdFZlcnNpb24sdCx0aGlzLnJlc3VtZVRva2VuKX0sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50YXJnZXRJZD09PWUudGFyZ2V0SWQmJnRoaXMucHVycG9zZT09PWUucHVycG9zZSYmdGhpcy5zZXF1ZW5jZU51bWJlcj09PWUuc2VxdWVuY2VOdW1iZXImJnRoaXMuc25hcHNob3RWZXJzaW9uLmlzRXF1YWwoZS5zbmFwc2hvdFZlcnNpb24pJiZ0aGlzLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24uaXNFcXVhbChlLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24pJiZ0aGlzLnJlc3VtZVRva2VuPT09ZS5yZXN1bWVUb2tlbiYmdGhpcy50YXJnZXQuaXNFcXVhbChlLnRhcmdldCl9LGV9KCksa249ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMucmVtb3RlU2VyaWFsaXplcj1lfXJldHVybiBlLnByb3RvdHlwZS5mcm9tRGJSZW1vdGVEb2N1bWVudD1mdW5jdGlvbihlKXtpZihlLmRvY3VtZW50KXJldHVybiB0aGlzLnJlbW90ZVNlcmlhbGl6ZXIuZnJvbURvY3VtZW50KGUuZG9jdW1lbnQsISFlLmhhc0NvbW1pdHRlZE11dGF0aW9ucyk7aWYoZS5ub0RvY3VtZW50KXt2YXIgdD1kZS5mcm9tU2VnbWVudHMoZS5ub0RvY3VtZW50LnBhdGgpLG49dGhpcy5mcm9tRGJUaW1lc3RhbXAoZS5ub0RvY3VtZW50LnJlYWRUaW1lKTtyZXR1cm4gbmV3IGp0KHQsbix7aGFzQ29tbWl0dGVkTXV0YXRpb25zOiEhZS5oYXNDb21taXR0ZWRNdXRhdGlvbnN9KX1pZihlLnVua25vd25Eb2N1bWVudCl7dD1kZS5mcm9tU2VnbWVudHMoZS51bmtub3duRG9jdW1lbnQucGF0aCksbj10aGlzLmZyb21EYlRpbWVzdGFtcChlLnVua25vd25Eb2N1bWVudC52ZXJzaW9uKTtyZXR1cm4gbmV3IEh0KHQsbil9cmV0dXJuIHYoIlVuZXhwZWN0ZWQgRGJSZW1vdGVEb2N1bWVudCIpfSxlLnByb3RvdHlwZS50b0RiUmVtb3RlRG9jdW1lbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnRvRGJUaW1lc3RhbXBLZXkodCkscj1lLmtleS5wYXRoLnBvcExhc3QoKS50b0FycmF5KCk7aWYoZSBpbnN0YW5jZW9mIEd0KXt2YXIgaT1lLnByb3RvP2UucHJvdG86dGhpcy5yZW1vdGVTZXJpYWxpemVyLnRvRG9jdW1lbnQoZSksbz1lLmhhc0NvbW1pdHRlZE11dGF0aW9ucztyZXR1cm4gbmV3IHBuKG51bGwsbnVsbCxpLG8sbixyKX1pZihlIGluc3RhbmNlb2YganQpe3ZhciBhPWUua2V5LnBhdGgudG9BcnJheSgpLHM9dGhpcy50b0RiVGltZXN0YW1wKGUudmVyc2lvbik7bz1lLmhhc0NvbW1pdHRlZE11dGF0aW9ucztyZXR1cm4gbmV3IHBuKG51bGwsbmV3IGZuKGEscyksbnVsbCxvLG4scil9aWYoZSBpbnN0YW5jZW9mIEh0KXthPWUua2V5LnBhdGgudG9BcnJheSgpO3ZhciB1PXRoaXMudG9EYlRpbWVzdGFtcChlLnZlcnNpb24pO3JldHVybiBuZXcgcG4obmV3IGRuKGEsdSksbnVsbCxudWxsLCEwLG4scil9cmV0dXJuIHYoIlVuZXhwZWN0ZWQgTWF5YmVEb2N1bWVudCIpfSxlLnByb3RvdHlwZS50b0RiVGltZXN0YW1wS2V5PWZ1bmN0aW9uKGUpe3ZhciB0PWUudG9UaW1lc3RhbXAoKTtyZXR1cm5bdC5zZWNvbmRzLHQubmFub3NlY29uZHNdfSxlLnByb3RvdHlwZS5mcm9tRGJUaW1lc3RhbXBLZXk9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IENlKGVbMF0sZVsxXSk7cmV0dXJuIERlLmZyb21UaW1lc3RhbXAodCl9LGUucHJvdG90eXBlLnRvRGJUaW1lc3RhbXA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50b1RpbWVzdGFtcCgpO3JldHVybiBuZXcgc24odC5zZWNvbmRzLHQubmFub3NlY29uZHMpfSxlLnByb3RvdHlwZS5mcm9tRGJUaW1lc3RhbXA9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IENlKGUuc2Vjb25kcyxlLm5hbm9zZWNvbmRzKTtyZXR1cm4gRGUuZnJvbVRpbWVzdGFtcCh0KX0sZS5wcm90b3R5cGUudG9EYk11dGF0aW9uQmF0Y2g9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9dC5iYXNlTXV0YXRpb25zLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4ucmVtb3RlU2VyaWFsaXplci50b011dGF0aW9uKGUpfSkpLGk9dC5tdXRhdGlvbnMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbi5yZW1vdGVTZXJpYWxpemVyLnRvTXV0YXRpb24oZSl9KSk7cmV0dXJuIG5ldyBobihlLHQuYmF0Y2hJZCx0LmxvY2FsV3JpdGVUaW1lLnRvTWlsbGlzKCkscixpKX0sZS5wcm90b3R5cGUuZnJvbURiTXV0YXRpb25CYXRjaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49KGUuYmFzZU11dGF0aW9uc3x8W10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQucmVtb3RlU2VyaWFsaXplci5mcm9tTXV0YXRpb24oZSl9KSkscj1lLm11dGF0aW9ucy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnJlbW90ZVNlcmlhbGl6ZXIuZnJvbU11dGF0aW9uKGUpfSkpLGk9Q2UuZnJvbU1pbGxpcyhlLmxvY2FsV3JpdGVUaW1lTXMpO3JldHVybiBuZXcgemUoZS5iYXRjaElkLGksbixyKX0sZS5wcm90b3R5cGUudG9EYlJlc291cmNlUGF0aHM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5wdXNoKFRlKGUucGF0aCkpfSkpLHR9LGUucHJvdG90eXBlLmZyb21EYlJlc291cmNlUGF0aHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVVlKCksbj0wLHI9ZTtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXTt0PXQuYWRkKG5ldyBkZShJZShpKSkpfXJldHVybiB0fSxlLnByb3RvdHlwZS5mcm9tRGJUYXJnZXQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLmZyb21EYlRpbWVzdGFtcChlLnJlYWRUaW1lKSxyPXZvaWQgMCE9PWUubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbj90aGlzLmZyb21EYlRpbWVzdGFtcChlLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24pOkRlLk1JTixpPWUucmVzdW1lVG9rZW47cmV0dXJuIHQ9dm9pZCAwIT09ZS5xdWVyeS5kb2N1bWVudHM/dGhpcy5yZW1vdGVTZXJpYWxpemVyLmZyb21Eb2N1bWVudHNUYXJnZXQoZS5xdWVyeSk6dGhpcy5yZW1vdGVTZXJpYWxpemVyLmZyb21RdWVyeVRhcmdldChlLnF1ZXJ5KSxuZXcgQW4odCxlLnRhcmdldElkLFNuLkxpc3RlbixlLmxhc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcixuLHIsaSl9LGUucHJvdG90eXBlLnRvRGJUYXJnZXQ9ZnVuY3Rpb24oZSl7dyhTbi5MaXN0ZW49PT1lLnB1cnBvc2UsIk9ubHkgcXVlcmllcyB3aXRoIHB1cnBvc2UgIitTbi5MaXN0ZW4rIiBtYXkgYmUgc3RvcmVkLCBnb3QgIitlLnB1cnBvc2UpO3ZhciB0LG4scj10aGlzLnRvRGJUaW1lc3RhbXAoZS5zbmFwc2hvdFZlcnNpb24pLGk9dGhpcy50b0RiVGltZXN0YW1wKGUubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbik7cmV0dXJuIHQ9ZS50YXJnZXQuaXNEb2N1bWVudFF1ZXJ5KCk/dGhpcy5yZW1vdGVTZXJpYWxpemVyLnRvRG9jdW1lbnRzVGFyZ2V0KGUudGFyZ2V0KTp0aGlzLnJlbW90ZVNlcmlhbGl6ZXIudG9RdWVyeVRhcmdldChlLnRhcmdldCksZS5yZXN1bWVUb2tlbiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/KHcoSGUuaXNNb2NrUGVyc2lzdGVuY2UoKSwiUGVyc2lzdGluZyBub24tc3RyaW5nIHN0cmVhbSB0b2tlbnMgaXMgb25seSBzdXBwb3J0ZWQgd2l0aCBtb2NrIHBlcnNpc3RlbmNlIC4iKSxuPWUucmVzdW1lVG9rZW4udG9TdHJpbmcoKSk6bj1lLnJlc3VtZVRva2VuLG5ldyB5bihlLnRhcmdldElkLGUudGFyZ2V0LmNhbm9uaWNhbElkKCkscixuLGUuc2VxdWVuY2VOdW1iZXIsaSx0KX0sZX0oKTt2YXIgUm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGU9ZSx0aGlzLm11dGF0aW9uUXVldWU9dCx0aGlzLmluZGV4TWFuYWdlcj1ufXJldHVybiBlLnByb3RvdHlwZS5nZXREb2N1bWVudD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMubXV0YXRpb25RdWV1ZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleShlLHQpLm5leHQoKGZ1bmN0aW9uKHIpe3JldHVybiBuLmdldERvY3VtZW50SW50ZXJuYWwoZSx0LHIpfSkpfSxlLnByb3RvdHlwZS5nZXREb2N1bWVudEludGVybmFsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5yZW1vdGVEb2N1bWVudENhY2hlLmdldEVudHJ5KGUsdCkubmV4dCgoZnVuY3Rpb24oZSl7Zm9yKHZhciByPTAsaT1uO3I8aS5sZW5ndGg7cisrKXtlPWlbcl0uYXBwbHlUb0xvY2FsVmlldyh0LGUpfXJldHVybiBlfSkpfSxlLnByb3RvdHlwZS5hcHBseUxvY2FsTXV0YXRpb25zVG9Eb2N1bWVudHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXhlKCk7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9MCxvPW47aTxvLmxlbmd0aDtpKyspe3Q9b1tpXS5hcHBseVRvTG9jYWxWaWV3KGUsdCl9cj1yLmluc2VydChlLHQpfSkpLHJ9LGUucHJvdG90eXBlLmdldERvY3VtZW50cz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZS5nZXRFbnRyaWVzKGUsdCkubmV4dCgoZnVuY3Rpb24odCl7cmV0dXJuIG4uZ2V0TG9jYWxWaWV3T2ZEb2N1bWVudHMoZSx0KX0pKX0sZS5wcm90b3R5cGUuZ2V0TG9jYWxWaWV3T2ZEb2N1bWVudHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aGlzLm11dGF0aW9uUXVldWUuZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXlzKGUsdCkubmV4dCgoZnVuY3Rpb24ocil7dmFyIGk9bi5hcHBseUxvY2FsTXV0YXRpb25zVG9Eb2N1bWVudHMoZSx0LHIpLG89T2UoKTtyZXR1cm4gaS5mb3JFYWNoKChmdW5jdGlvbihlLHQpe3R8fCh0PW5ldyBqdChlLERlLmZvckRlbGV0ZWREb2MoKSkpLG89by5pbnNlcnQoZSx0KX0pKSxvfSkpfSxlLnByb3RvdHlwZS5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdC5pc0RvY3VtZW50UXVlcnkoKT90aGlzLmdldERvY3VtZW50c01hdGNoaW5nRG9jdW1lbnRRdWVyeShlLHQucGF0aCk6dC5pc0NvbGxlY3Rpb25Hcm91cFF1ZXJ5KCk/dGhpcy5nZXREb2N1bWVudHNNYXRjaGluZ0NvbGxlY3Rpb25Hcm91cFF1ZXJ5KGUsdCxuKTp0aGlzLmdldERvY3VtZW50c01hdGNoaW5nQ29sbGVjdGlvblF1ZXJ5KGUsdCxuKX0sZS5wcm90b3R5cGUuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdEb2N1bWVudFF1ZXJ5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnQoZSxuZXcgZGUodCkpLm5leHQoKGZ1bmN0aW9uKGUpe3ZhciB0PUZlKCk7cmV0dXJuIGUgaW5zdGFuY2VvZiBHdCYmKHQ9dC5pbnNlcnQoZS5rZXksZSkpLHR9KSl9LGUucHJvdG90eXBlLmdldERvY3VtZW50c01hdGNoaW5nQ29sbGVjdGlvbkdyb3VwUXVlcnk9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXM7dyh0LnBhdGguaXNFbXB0eSgpLCJDdXJyZW50bHkgd2Ugb25seSBzdXBwb3J0IGNvbGxlY3Rpb24gZ3JvdXAgcXVlcmllcyBhdCB0aGUgcm9vdC4iKTt2YXIgaT10LmNvbGxlY3Rpb25Hcm91cCxvPUZlKCk7cmV0dXJuIHRoaXMuaW5kZXhNYW5hZ2VyLmdldENvbGxlY3Rpb25QYXJlbnRzKGUsaSkubmV4dCgoZnVuY3Rpb24oYSl7cmV0dXJuIEdlLmZvckVhY2goYSwoZnVuY3Rpb24oYSl7dmFyIHM9dC5hc0NvbGxlY3Rpb25RdWVyeUF0UGF0aChhLmNoaWxkKGkpKTtyZXR1cm4gci5nZXREb2N1bWVudHNNYXRjaGluZ0NvbGxlY3Rpb25RdWVyeShlLHMsbikubmV4dCgoZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKChmdW5jdGlvbihlLHQpe289by5pbnNlcnQoZSx0KX0pKX0pKX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBvfSkpfSkpfSxlLnByb3RvdHlwZS5nZXREb2N1bWVudHNNYXRjaGluZ0NvbGxlY3Rpb25RdWVyeT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXRoaXM7cmV0dXJuIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZS5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KGUsdCxuKS5uZXh0KChmdW5jdGlvbihuKXtyZXR1cm4gcj1uLG8ubXV0YXRpb25RdWV1ZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdRdWVyeShlLHQpfSkpLm5leHQoKGZ1bmN0aW9uKHQpe3JldHVybiBpPXQsby5hZGRNaXNzaW5nQmFzZURvY3VtZW50cyhlLGkscikubmV4dCgoZnVuY3Rpb24oZSl7cj1lO2Zvcih2YXIgdD0wLG49aTt0PG4ubGVuZ3RoO3QrKylmb3IodmFyIG89blt0XSxhPTAscz1vLm11dGF0aW9uczthPHMubGVuZ3RoO2ErKyl7dmFyIHU9c1thXSxjPXUua2V5LGg9ci5nZXQoYyksbD11LmFwcGx5VG9Mb2NhbFZpZXcoaCxoLG8ubG9jYWxXcml0ZVRpbWUpO3I9bCBpbnN0YW5jZW9mIEd0P3IuaW5zZXJ0KGMsbCk6ci5yZW1vdmUoYyl9fSkpfSkpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXt0Lm1hdGNoZXMobil8fChyPXIucmVtb3ZlKGUpKX0pKSxyfSkpfSxlLnByb3RvdHlwZS5hZGRNaXNzaW5nQmFzZURvY3VtZW50cz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVVlKCksaT0wLG89dDtpPG8ubGVuZ3RoO2krKylmb3IodmFyIGE9MCxzPW9baV0ubXV0YXRpb25zO2E8cy5sZW5ndGg7YSsrKXt2YXIgdT1zW2FdO3UgaW5zdGFuY2VvZiBDdCYmbnVsbD09PW4uZ2V0KHUua2V5KSYmKHI9ci5hZGQodS5rZXkpKX12YXIgYz1uO3JldHVybiB0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGUuZ2V0RW50cmllcyhlLHIpLm5leHQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7bnVsbCE9PXQmJnQgaW5zdGFuY2VvZiBHdCYmKGM9Yy5pbnNlcnQoZSx0KSl9KSksY30pKX0sZX0oKSxNbj0iVGhlIGN1cnJlbnQgdGFiIGlzIG5vdCBpbiB0aGUgcmVxdWlyZWQgc3RhdGUgdG8gcGVyZm9ybSB0aGlzIG9wZXJhdGlvbi4gSXQgbWlnaHQgYmUgbmVjZXNzYXJ5IHRvIHJlZnJlc2ggdGhlIGJyb3dzZXIgdGFiLiIsTG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5vbkNvbW1pdHRlZExpc3RlbmVycz1bXX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkT25Db21taXR0ZWRMaXN0ZW5lcj1mdW5jdGlvbihlKXt0aGlzLm9uQ29tbWl0dGVkTGlzdGVuZXJzLnB1c2goZSl9LGUucHJvdG90eXBlLnJhaXNlT25Db21taXR0ZWRFdmVudD1mdW5jdGlvbigpe3RoaXMub25Db21taXR0ZWRMaXN0ZW5lcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pKX0sZX0oKSxPbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnJlZnNCeUtleT1uZXcgUmUoeG4uY29tcGFyZUJ5S2V5KSx0aGlzLnJlZnNCeVRhcmdldD1uZXcgUmUoeG4uY29tcGFyZUJ5VGFyZ2V0SWQpfXJldHVybiBlLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVmc0J5S2V5LmlzRW1wdHkoKX0sZS5wcm90b3R5cGUuYWRkUmVmZXJlbmNlPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHhuKGUsdCk7dGhpcy5yZWZzQnlLZXk9dGhpcy5yZWZzQnlLZXkuYWRkKG4pLHRoaXMucmVmc0J5VGFyZ2V0PXRoaXMucmVmc0J5VGFyZ2V0LmFkZChuKX0sZS5wcm90b3R5cGUuYWRkUmVmZXJlbmNlcz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbi5hZGRSZWZlcmVuY2UoZSx0KX0pKX0sZS5wcm90b3R5cGUucmVtb3ZlUmVmZXJlbmNlPWZ1bmN0aW9uKGUsdCl7dGhpcy5yZW1vdmVSZWYobmV3IHhuKGUsdCkpfSxlLnByb3RvdHlwZS5yZW1vdmVSZWZlcmVuY2VzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBuLnJlbW92ZVJlZmVyZW5jZShlLHQpfSkpfSxlLnByb3RvdHlwZS5yZW1vdmVSZWZlcmVuY2VzRm9ySWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWRlLkVNUFRZLHI9bmV3IHhuKG4sZSksaT1uZXcgeG4obixlKzEpLG89W107cmV0dXJuIHRoaXMucmVmc0J5VGFyZ2V0LmZvckVhY2hJblJhbmdlKFtyLGldLChmdW5jdGlvbihlKXt0LnJlbW92ZVJlZihlKSxvLnB1c2goZS5rZXkpfSkpLG99LGUucHJvdG90eXBlLnJlbW92ZUFsbFJlZmVyZW5jZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucmVmc0J5S2V5LmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlLnJlbW92ZVJlZih0KX0pKX0sZS5wcm90b3R5cGUucmVtb3ZlUmVmPWZ1bmN0aW9uKGUpe3RoaXMucmVmc0J5S2V5PXRoaXMucmVmc0J5S2V5LmRlbGV0ZShlKSx0aGlzLnJlZnNCeVRhcmdldD10aGlzLnJlZnNCeVRhcmdldC5kZWxldGUoZSl9LGUucHJvdG90eXBlLnJlZmVyZW5jZXNGb3JJZD1mdW5jdGlvbihlKXt2YXIgdD1kZS5FTVBUWSxuPW5ldyB4bih0LGUpLHI9bmV3IHhuKHQsZSsxKSxpPVVlKCk7cmV0dXJuIHRoaXMucmVmc0J5VGFyZ2V0LmZvckVhY2hJblJhbmdlKFtuLHJdLChmdW5jdGlvbihlKXtpPWkuYWRkKGUua2V5KX0pKSxpfSxlLnByb3RvdHlwZS5jb250YWluc0tleT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgeG4oZSwwKSxuPXRoaXMucmVmc0J5S2V5LmZpcnN0QWZ0ZXJPckVxdWFsKHQpO3JldHVybiBudWxsIT09biYmZS5pc0VxdWFsKG4ua2V5KX0sZX0oKSx4bj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmtleT1lLHRoaXMudGFyZ2V0T3JCYXRjaElkPXR9cmV0dXJuIGUuY29tcGFyZUJ5S2V5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGRlLmNvbXBhcmF0b3IoZS5rZXksdC5rZXkpfHxYKGUudGFyZ2V0T3JCYXRjaElkLHQudGFyZ2V0T3JCYXRjaElkKX0sZS5jb21wYXJlQnlUYXJnZXRJZD1mdW5jdGlvbihlLHQpe3JldHVybiBYKGUudGFyZ2V0T3JCYXRjaElkLHQudGFyZ2V0T3JCYXRjaElkKXx8ZGUuY29tcGFyYXRvcihlLmtleSx0LmtleSl9LGV9KCksUG49IkxvY2FsU3RvcmUiLEZuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dGhpcy5wZXJzaXN0ZW5jZT1lLHRoaXMucXVlcnlFbmdpbmU9dCx0aGlzLmxvY2FsVmlld1JlZmVyZW5jZXM9bmV3IE9uLHRoaXMudGFyZ2V0RGF0YUJ5VGFyZ2V0PW5ldyBfZShYKSx0aGlzLnRhcmdldElkQnlUYXJnZXQ9bmV3IFl0KChmdW5jdGlvbihlKXtyZXR1cm4gZS5jYW5vbmljYWxJZCgpfSkpLHRoaXMubGFzdERvY3VtZW50Q2hhbmdlUmVhZFRpbWU9RGUuTUlOLHcoZS5zdGFydGVkLCJMb2NhbFN0b3JlIHdhcyBwYXNzZWQgYW4gdW5zdGFydGVkIHBlcnNpc3RlbmNlIGltcGxlbWVudGF0aW9uIiksdGhpcy5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS5zZXRJbk1lbW9yeVBpbnModGhpcy5sb2NhbFZpZXdSZWZlcmVuY2VzKSx0aGlzLm11dGF0aW9uUXVldWU9ZS5nZXRNdXRhdGlvblF1ZXVlKG4pLHRoaXMucmVtb3RlRG9jdW1lbnRzPWUuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLHRoaXMudGFyZ2V0Q2FjaGU9ZS5nZXRUYXJnZXRDYWNoZSgpLHRoaXMubG9jYWxEb2N1bWVudHM9bmV3IFJuKHRoaXMucmVtb3RlRG9jdW1lbnRzLHRoaXMubXV0YXRpb25RdWV1ZSx0aGlzLnBlcnNpc3RlbmNlLmdldEluZGV4TWFuYWdlcigpKSx0aGlzLnF1ZXJ5RW5naW5lLnNldExvY2FsRG9jdW1lbnRzVmlldyh0aGlzLmxvY2FsRG9jdW1lbnRzKX1yZXR1cm4gZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zeW5jaHJvbml6ZUxhc3REb2N1bWVudENoYW5nZVJlYWRUaW1lKCl9LGUucHJvdG90eXBlLmhhbmRsZVVzZXJDaGFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxuLHIsaT10aGlzO3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQ9dGhpcy5tdXRhdGlvblF1ZXVlLG49dGhpcy5sb2NhbERvY3VtZW50cyxbNCx0aGlzLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCJIYW5kbGUgdXNlciBjaGFuZ2UiLCJyZWFkb25seS1pZGVtcG90ZW50IiwoZnVuY3Rpb24ocil7dmFyIG87cmV0dXJuIGkubXV0YXRpb25RdWV1ZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXMocikubmV4dCgoZnVuY3Rpb24oYSl7cmV0dXJuIG89YSx0PWkucGVyc2lzdGVuY2UuZ2V0TXV0YXRpb25RdWV1ZShlKSxuPW5ldyBSbihpLnJlbW90ZURvY3VtZW50cyx0LGkucGVyc2lzdGVuY2UuZ2V0SW5kZXhNYW5hZ2VyKCkpLHQuZ2V0QWxsTXV0YXRpb25CYXRjaGVzKHIpfSkpLm5leHQoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxpPVtdLGE9VWUoKSxzPTAsdT1vO3M8dS5sZW5ndGg7cysrKXt2YXIgYz11W3NdO3QucHVzaChjLmJhdGNoSWQpO2Zvcih2YXIgaD0wLGw9Yy5tdXRhdGlvbnM7aDxsLmxlbmd0aDtoKyspe3ZhciBmPWxbaF07YT1hLmFkZChmLmtleSl9fWZvcih2YXIgZD0wLHA9ZTtkPHAubGVuZ3RoO2QrKyl7Yz1wW2RdO2kucHVzaChjLmJhdGNoSWQpO2Zvcih2YXIgbT0wLHk9Yy5tdXRhdGlvbnM7bTx5Lmxlbmd0aDttKyspe2Y9eVttXTthPWEuYWRkKGYua2V5KX19cmV0dXJuIG4uZ2V0RG9jdW1lbnRzKHIsYSkubmV4dCgoZnVuY3Rpb24oZSl7cmV0dXJue2FmZmVjdGVkRG9jdW1lbnRzOmUscmVtb3ZlZEJhdGNoSWRzOnQsYWRkZWRCYXRjaElkczppfX0pKX0pKX0pKV07Y2FzZSAxOnJldHVybiByPW8uc2VudCgpLHRoaXMubXV0YXRpb25RdWV1ZT10LHRoaXMubG9jYWxEb2N1bWVudHM9bix0aGlzLnF1ZXJ5RW5naW5lLnNldExvY2FsRG9jdW1lbnRzVmlldyh0aGlzLmxvY2FsRG9jdW1lbnRzKSxbMixyXX19KSl9KSl9LGUucHJvdG90eXBlLmxvY2FsV3JpdGU9ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLHI9Q2Uubm93KCksaT1lLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5hZGQodC5rZXkpfSksVWUoKSk7cmV0dXJuIHRoaXMucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oIkxvY2FsbHkgd3JpdGUgbXV0YXRpb25zIiwicmVhZHdyaXRlLWlkZW1wb3RlbnQiLChmdW5jdGlvbihvKXtyZXR1cm4gbi5sb2NhbERvY3VtZW50cy5nZXREb2N1bWVudHMobyxpKS5uZXh0KChmdW5jdGlvbihpKXt0PWk7Zm9yKHZhciBhPVtdLHM9MCx1PWU7czx1Lmxlbmd0aDtzKyspe3ZhciBjPXVbc10saD1jLmV4dHJhY3RCYXNlVmFsdWUodC5nZXQoYy5rZXkpKTtudWxsIT1oJiZhLnB1c2gobmV3IEN0KGMua2V5LGgsaC5maWVsZE1hc2soKSxTdC5leGlzdHMoITApKSl9cmV0dXJuIG4ubXV0YXRpb25RdWV1ZS5hZGRNdXRhdGlvbkJhdGNoKG8scixhLGUpfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBuPWUuYXBwbHlUb0xvY2FsRG9jdW1lbnRTZXQodCk7cmV0dXJue2JhdGNoSWQ6ZS5iYXRjaElkLGNoYW5nZXM6bn19KSl9LGUucHJvdG90eXBlLmxvb2t1cE11dGF0aW9uRG9jdW1lbnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oIkxvb2t1cCBtdXRhdGlvbiBkb2N1bWVudHMiLCJyZWFkb25seS1pZGVtcG90ZW50IiwoZnVuY3Rpb24obil7cmV0dXJuIHQubXV0YXRpb25RdWV1ZS5sb29rdXBNdXRhdGlvbktleXMobixlKS5uZXh0KChmdW5jdGlvbihlKXtyZXR1cm4gZT90LmxvY2FsRG9jdW1lbnRzLmdldERvY3VtZW50cyhuLGUpOkdlLnJlc29sdmUobnVsbCl9KSl9KSl9LGUucHJvdG90eXBlLmFja25vd2xlZGdlQmF0Y2g9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbigiQWNrbm93bGVkZ2UgYmF0Y2giLCJyZWFkd3JpdGUtcHJpbWFyeS1pZGVtcG90ZW50IiwoZnVuY3Rpb24obil7dmFyIHI9ZS5iYXRjaC5rZXlzKCksaT10LnJlbW90ZURvY3VtZW50cy5uZXdDaGFuZ2VCdWZmZXIoe3RyYWNrUmVtb3ZhbHM6ITB9KTtyZXR1cm4gdC5tdXRhdGlvblF1ZXVlLmFja25vd2xlZGdlQmF0Y2gobixlLmJhdGNoLGUuc3RyZWFtVG9rZW4pLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHlXcml0ZVRvUmVtb3RlRG9jdW1lbnRzKG4sZSxpKX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBpLmFwcGx5KG4pfSkpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQubXV0YXRpb25RdWV1ZS5wZXJmb3JtQ29uc2lzdGVuY3lDaGVjayhuKX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiB0LmxvY2FsRG9jdW1lbnRzLmdldERvY3VtZW50cyhuLHIpfSkpfSkpfSxlLnByb3RvdHlwZS5yZWplY3RCYXRjaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCJSZWplY3QgYmF0Y2giLCJyZWFkd3JpdGUtcHJpbWFyeS1pZGVtcG90ZW50IiwoZnVuY3Rpb24obil7dmFyIHI7cmV0dXJuIHQubXV0YXRpb25RdWV1ZS5sb29rdXBNdXRhdGlvbkJhdGNoKG4sZSkubmV4dCgoZnVuY3Rpb24oZSl7cmV0dXJuIHcobnVsbCE9PWUsIkF0dGVtcHQgdG8gcmVqZWN0IG5vbmV4aXN0ZW50IGJhdGNoISIpLHI9ZS5rZXlzKCksdC5tdXRhdGlvblF1ZXVlLnJlbW92ZU11dGF0aW9uQmF0Y2gobixlKX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiB0Lm11dGF0aW9uUXVldWUucGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2sobil9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5sb2NhbERvY3VtZW50cy5nZXREb2N1bWVudHMobixyKX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0SGlnaGVzdFVuYWNrbm93bGVkZ2VkQmF0Y2hJZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oIkdldCBoaWdoZXN0IHVuYWNrbm93bGVkZ2VkIGJhdGNoIGlkIiwicmVhZG9ubHktaWRlbXBvdGVudCIsKGZ1bmN0aW9uKHQpe3JldHVybiBlLm11dGF0aW9uUXVldWUuZ2V0SGlnaGVzdFVuYWNrbm93bGVkZ2VkQmF0Y2hJZCh0KX0pKX0sZS5wcm90b3R5cGUuZ2V0TGFzdFN0cmVhbVRva2VuPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbigiR2V0IGxhc3Qgc3RyZWFtIHRva2VuIiwicmVhZG9ubHktaWRlbXBvdGVudCIsKGZ1bmN0aW9uKHQpe3JldHVybiBlLm11dGF0aW9uUXVldWUuZ2V0TGFzdFN0cmVhbVRva2VuKHQpfSkpfSxlLnByb3RvdHlwZS5zZXRMYXN0U3RyZWFtVG9rZW49ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbigiU2V0IGxhc3Qgc3RyZWFtIHRva2VuIiwicmVhZHdyaXRlLXByaW1hcnktaWRlbXBvdGVudCIsKGZ1bmN0aW9uKG4pe3JldHVybiB0Lm11dGF0aW9uUXVldWUuc2V0TGFzdFN0cmVhbVRva2VuKG4sZSl9KSl9LGUucHJvdG90eXBlLmdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCJHZXQgbGFzdCByZW1vdGUgc25hcHNob3QgdmVyc2lvbiIsInJlYWRvbmx5LWlkZW1wb3RlbnQiLChmdW5jdGlvbih0KXtyZXR1cm4gZS50YXJnZXRDYWNoZS5nZXRMYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uKHQpfSkpfSxlLnByb3RvdHlwZS5hcHBseVJlbW90ZUV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMscj10LnNuYXBzaG90VmVyc2lvbixpPXRoaXMudGFyZ2V0RGF0YUJ5VGFyZ2V0O3JldHVybiB0aGlzLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCJBcHBseSByZW1vdGUgZXZlbnQiLCJyZWFkd3JpdGUtcHJpbWFyeS1pZGVtcG90ZW50IiwoZnVuY3Rpb24obyl7dmFyIGE9bi5yZW1vdGVEb2N1bWVudHMubmV3Q2hhbmdlQnVmZmVyKHt0cmFja1JlbW92YWxzOiEwfSk7aT1uLnRhcmdldERhdGFCeVRhcmdldDt2YXIgcz1bXTtfKHQudGFyZ2V0Q2hhbmdlcywoZnVuY3Rpb24odCxhKXt2YXIgdT1pLmdldCh0KTtpZih1KXtzLnB1c2gobi50YXJnZXRDYWNoZS5yZW1vdmVNYXRjaGluZ0tleXMobyxhLnJlbW92ZWREb2N1bWVudHMsdCkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gbi50YXJnZXRDYWNoZS5hZGRNYXRjaGluZ0tleXMobyxhLmFkZGVkRG9jdW1lbnRzLHQpfSkpKTt2YXIgYz1hLnJlc3VtZVRva2VuO2lmKGMubGVuZ3RoPjApe3ZhciBoPXUud2l0aFJlc3VtZVRva2VuKGMscikud2l0aFNlcXVlbmNlTnVtYmVyKG8uY3VycmVudFNlcXVlbmNlTnVtYmVyKTtpPWkuaW5zZXJ0KHQsaCksZS5zaG91bGRQZXJzaXN0VGFyZ2V0RGF0YSh1LGgsYSkmJnMucHVzaChuLnRhcmdldENhY2hlLnVwZGF0ZVRhcmdldERhdGEobyxoKSl9fX0pKTt2YXIgdT1PZSgpLGM9VWUoKTtpZih0LmRvY3VtZW50VXBkYXRlcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpe2M9Yy5hZGQoZSl9KSkscy5wdXNoKGEuZ2V0RW50cmllcyhvLGMpLm5leHQoKGZ1bmN0aW9uKGUpe3QuZG9jdW1lbnRVcGRhdGVzLmZvckVhY2goKGZ1bmN0aW9uKGksYyl7dmFyIGg9ZS5nZXQoaSk7YyBpbnN0YW5jZW9mIGp0JiZjLnZlcnNpb24uaXNFcXVhbChEZS5NSU4pPyhhLnJlbW92ZUVudHJ5KGksciksdT11Lmluc2VydChpLGMpKTpudWxsPT1ofHxjLnZlcnNpb24uY29tcGFyZVRvKGgudmVyc2lvbik+MHx8MD09PWMudmVyc2lvbi5jb21wYXJlVG8oaC52ZXJzaW9uKSYmaC5oYXNQZW5kaW5nV3JpdGVzPyh3KCFEZS5NSU4uaXNFcXVhbChyKSwiQ2Fubm90IGFkZCBhIGRvY3VtZW50IHdoZW4gdGhlIHJlbW90ZSB2ZXJzaW9uIGlzIHplcm8iKSxhLmFkZEVudHJ5KGMsciksdT11Lmluc2VydChpLGMpKTptKFBuLCJJZ25vcmluZyBvdXRkYXRlZCB3YXRjaCB1cGRhdGUgZm9yICIsaSwiLiBDdXJyZW50IHZlcnNpb246IixoLnZlcnNpb24sIiBXYXRjaCB2ZXJzaW9uOiIsYy52ZXJzaW9uKSx0LnJlc29sdmVkTGltYm9Eb2N1bWVudHMuaGFzKGkpJiZzLnB1c2gobi5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS51cGRhdGVMaW1ib0RvY3VtZW50KG8saSkpfSkpfSkpKSwhci5pc0VxdWFsKERlLk1JTikpe3ZhciBoPW4udGFyZ2V0Q2FjaGUuZ2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbihvKS5uZXh0KChmdW5jdGlvbihlKXtyZXR1cm4gdyhyLmNvbXBhcmVUbyhlKT49MCwiV2F0Y2ggc3RyZWFtIHJldmVydGVkIHRvIHByZXZpb3VzIHNuYXBzaG90Pz8gIityKyIgPCAiK2UpLG4udGFyZ2V0Q2FjaGUuc2V0VGFyZ2V0c01ldGFkYXRhKG8sby5jdXJyZW50U2VxdWVuY2VOdW1iZXIscil9KSk7cy5wdXNoKGgpfXJldHVybiBHZS53YWl0Rm9yKHMpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkobyl9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gbi5sb2NhbERvY3VtZW50cy5nZXRMb2NhbFZpZXdPZkRvY3VtZW50cyhvLHUpfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBuLnRhcmdldERhdGFCeVRhcmdldD1pLGV9KSl9LGUuc2hvdWxkUGVyc2lzdFRhcmdldERhdGE9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB3KHQucmVzdW1lVG9rZW4ubGVuZ3RoPjAsIkF0dGVtcHRlZCB0byBwZXJzaXN0IHRhcmdldCBkYXRhIHdpdGggbm8gcmVzdW1lIHRva2VuIiksMD09PWUucmVzdW1lVG9rZW4ubGVuZ3RofHwodC5zbmFwc2hvdFZlcnNpb24udG9NaWNyb3NlY29uZHMoKS1lLnNuYXBzaG90VmVyc2lvbi50b01pY3Jvc2Vjb25kcygpPj10aGlzLlJFU1VNRV9UT0tFTl9NQVhfQUdFX01JQ1JPU3x8bi5hZGRlZERvY3VtZW50cy5zaXplK24ubW9kaWZpZWREb2N1bWVudHMuc2l6ZStuLnJlbW92ZWREb2N1bWVudHMuc2l6ZT4wKX0sZS5wcm90b3R5cGUubm90aWZ5TG9jYWxWaWV3Q2hhbmdlcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcyxuPTAscj1lO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dLG89aS50YXJnZXRJZDtpZih0aGlzLmxvY2FsVmlld1JlZmVyZW5jZXMuYWRkUmVmZXJlbmNlcyhpLmFkZGVkS2V5cyxvKSx0aGlzLmxvY2FsVmlld1JlZmVyZW5jZXMucmVtb3ZlUmVmZXJlbmNlcyhpLnJlbW92ZWRLZXlzLG8pLCFpLmZyb21DYWNoZSl7dmFyIGE9dGhpcy50YXJnZXREYXRhQnlUYXJnZXQuZ2V0KG8pO3cobnVsbCE9PWEsIkNhbid0IHNldCBsaW1iby1mcmVlIHNuYXBzaG90IHZlcnNpb24gZm9yIHVua25vd24gdGFyZ2V0OiAiK28pO3ZhciBzPWEuc25hcHNob3RWZXJzaW9uLHU9YS53aXRoTGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbihzKTt0aGlzLnRhcmdldERhdGFCeVRhcmdldD10aGlzLnRhcmdldERhdGFCeVRhcmdldC5pbnNlcnQobyx1KX19cmV0dXJuIHRoaXMucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oIm5vdGlmeUxvY2FsVmlld0NoYW5nZXMiLCJyZWFkd3JpdGUtaWRlbXBvdGVudCIsKGZ1bmN0aW9uKG4pe3JldHVybiBHZS5mb3JFYWNoKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBHZS5mb3JFYWNoKGUucmVtb3ZlZEtleXMsKGZ1bmN0aW9uKGUpe3JldHVybiB0LnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLnJlbW92ZVJlZmVyZW5jZShuLGUpfSkpfSkpfSkpfSxlLnByb3RvdHlwZS5uZXh0TXV0YXRpb25CYXRjaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCJHZXQgbmV4dCBtdXRhdGlvbiBiYXRjaCIsInJlYWRvbmx5LWlkZW1wb3RlbnQiLChmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9LTEpLHQubXV0YXRpb25RdWV1ZS5nZXROZXh0TXV0YXRpb25CYXRjaEFmdGVyQmF0Y2hJZChuLGUpfSkpfSxlLnByb3RvdHlwZS5yZWFkRG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbigicmVhZCBkb2N1bWVudCIsInJlYWRvbmx5LWlkZW1wb3RlbnQiLChmdW5jdGlvbihuKXtyZXR1cm4gdC5sb2NhbERvY3VtZW50cy5nZXREb2N1bWVudChuLGUpfSkpfSxlLnByb3RvdHlwZS5hbGxvY2F0ZVRhcmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCJBbGxvY2F0ZSB0YXJnZXQiLCJyZWFkd3JpdGUtaWRlbXBvdGVudCIsKGZ1bmN0aW9uKG4pe3ZhciByO3JldHVybiB0LnRhcmdldENhY2hlLmdldFRhcmdldERhdGEobixlKS5uZXh0KChmdW5jdGlvbihpKXtyZXR1cm4gaT8ocj1pLEdlLnJlc29sdmUocikpOnQudGFyZ2V0Q2FjaGUuYWxsb2NhdGVUYXJnZXRJZChuKS5uZXh0KChmdW5jdGlvbihpKXtyZXR1cm4gcj1uZXcgQW4oZSxpLFNuLkxpc3RlbixuLmN1cnJlbnRTZXF1ZW5jZU51bWJlciksdC50YXJnZXRDYWNoZS5hZGRUYXJnZXREYXRhKG4scikubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0pKX0pKX0pKS50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09PXQudGFyZ2V0RGF0YUJ5VGFyZ2V0LmdldChuLnRhcmdldElkKSYmKHQudGFyZ2V0RGF0YUJ5VGFyZ2V0PXQudGFyZ2V0RGF0YUJ5VGFyZ2V0Lmluc2VydChuLnRhcmdldElkLG4pLHQudGFyZ2V0SWRCeVRhcmdldC5zZXQoZSxuLnRhcmdldElkKSksbn0pKX0sZS5wcm90b3R5cGUuZ2V0VGFyZ2V0RGF0YT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMudGFyZ2V0SWRCeVRhcmdldC5nZXQodCk7cmV0dXJuIHZvaWQgMCE9PW4/R2UucmVzb2x2ZSh0aGlzLnRhcmdldERhdGFCeVRhcmdldC5nZXQobikpOnRoaXMudGFyZ2V0Q2FjaGUuZ2V0VGFyZ2V0RGF0YShlLHQpfSxlLnByb3RvdHlwZS5yZWxlYXNlVGFyZ2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPXRoaXMudGFyZ2V0RGF0YUJ5VGFyZ2V0LmdldChlKTt3KG51bGwhPT1yLCJUcmllZCB0byByZWxlYXNlIG5vbmV4aXN0ZW50IHRhcmdldDogIitlKTt2YXIgaT10PyJyZWFkd3JpdGUtaWRlbXBvdGVudCI6InJlYWR3cml0ZS1wcmltYXJ5LWlkZW1wb3RlbnQiO3JldHVybiB0aGlzLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCJSZWxlYXNlIHRhcmdldCIsaSwoZnVuY3Rpb24oaSl7dmFyIG89bi5sb2NhbFZpZXdSZWZlcmVuY2VzLnJlbW92ZVJlZmVyZW5jZXNGb3JJZChlKTtyZXR1cm4gdD9HZS5yZXNvbHZlKCk6R2UuZm9yRWFjaChvLChmdW5jdGlvbihlKXtyZXR1cm4gbi5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS5yZW1vdmVSZWZlcmVuY2UoaSxlKX0pKS5uZXh0KChmdW5jdGlvbigpe24ucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUucmVtb3ZlVGFyZ2V0KGkscil9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtuLnRhcmdldERhdGFCeVRhcmdldD1uLnRhcmdldERhdGFCeVRhcmdldC5yZW1vdmUoZSksbi50YXJnZXRJZEJ5VGFyZ2V0LmRlbGV0ZShyLnRhcmdldCl9KSl9LGUucHJvdG90eXBlLmV4ZWN1dGVRdWVyeT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj1EZS5NSU4saT1VZSgpO3JldHVybiB0aGlzLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCJFeGVjdXRlIHF1ZXJ5IiwicmVhZG9ubHktaWRlbXBvdGVudCIsKGZ1bmN0aW9uKG8pe3JldHVybiBuLmdldFRhcmdldERhdGEobyxlLnRvVGFyZ2V0KCkpLm5leHQoKGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIHI9ZS5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uLG4udGFyZ2V0Q2FjaGUuZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQobyxlLnRhcmdldElkKS5uZXh0KChmdW5jdGlvbihlKXtpPWV9KSl9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gbi5xdWVyeUVuZ2luZS5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KG8sZSx0P3I6RGUuTUlOLHQ/aTpVZSgpKX0pKS5uZXh0KChmdW5jdGlvbihlKXtyZXR1cm57ZG9jdW1lbnRzOmUscmVtb3RlS2V5czppfX0pKX0pKX0sZS5wcm90b3R5cGUucmVtb3RlRG9jdW1lbnRLZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oIlJlbW90ZSBkb2N1bWVudCBrZXlzIiwicmVhZG9ubHktaWRlbXBvdGVudCIsKGZ1bmN0aW9uKG4pe3JldHVybiB0LnRhcmdldENhY2hlLmdldE1hdGNoaW5nS2V5c0ZvclRhcmdldElkKG4sZSl9KSl9LGUucHJvdG90eXBlLmdldEFjdGl2ZUNsaWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5nZXRBY3RpdmVDbGllbnRzKCl9LGUucHJvdG90eXBlLnJlbW92ZUNhY2hlZE11dGF0aW9uQmF0Y2hNZXRhZGF0YT1mdW5jdGlvbihlKXt0aGlzLm11dGF0aW9uUXVldWUucmVtb3ZlQ2FjaGVkTXV0YXRpb25LZXlzKGUpfSxlLnByb3RvdHlwZS5zZXROZXR3b3JrRW5hYmxlZD1mdW5jdGlvbihlKXt0aGlzLnBlcnNpc3RlbmNlLnNldE5ldHdvcmtFbmFibGVkKGUpfSxlLnByb3RvdHlwZS5hcHBseVdyaXRlVG9SZW1vdGVEb2N1bWVudHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMsaT10LmJhdGNoLG89aS5rZXlzKCksYT1HZS5yZXNvbHZlKCk7cmV0dXJuIG8uZm9yRWFjaCgoZnVuY3Rpb24ocil7YT1hLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0RW50cnkoZSxyKX0pKS5uZXh0KChmdW5jdGlvbihlKXt2YXIgbz1lLGE9dC5kb2NWZXJzaW9ucy5nZXQocik7dyhudWxsIT09YSwiYWNrVmVyc2lvbnMgc2hvdWxkIGNvbnRhaW4gZXZlcnkgZG9jIGluIHRoZSB3cml0ZS4iKSwoIW98fG8udmVyc2lvbi5jb21wYXJlVG8oYSk8MCkmJigobz1pLmFwcGx5VG9SZW1vdGVEb2N1bWVudChyLG8sdCkpP24uYWRkRW50cnkobyx0LmNvbW1pdFZlcnNpb24pOncoIWUsIk11dGF0aW9uIGJhdGNoICIraSsiIGFwcGxpZWQgdG8gZG9jdW1lbnQgIitlKyIgcmVzdWx0ZWQgaW4gbnVsbCIpKX0pKX0pKSxhLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIHIubXV0YXRpb25RdWV1ZS5yZW1vdmVNdXRhdGlvbkJhdGNoKGUsaSl9KSl9LGUucHJvdG90eXBlLmNvbGxlY3RHYXJiYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oIkNvbGxlY3QgZ2FyYmFnZSIsInJlYWR3cml0ZS1wcmltYXJ5LWlkZW1wb3RlbnQiLChmdW5jdGlvbihuKXtyZXR1cm4gZS5jb2xsZWN0KG4sdC50YXJnZXREYXRhQnlUYXJnZXQpfSkpfSxlLnByb3RvdHlwZS5nZXRUYXJnZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXRoaXMudGFyZ2V0RGF0YUJ5VGFyZ2V0LmdldChlKTtyZXR1cm4gbj9Qcm9taXNlLnJlc29sdmUobi50YXJnZXQpOnRoaXMucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oIkdldCB0YXJnZXQgZGF0YSIsInJlYWRvbmx5LWlkZW1wb3RlbnQiLChmdW5jdGlvbihuKXtyZXR1cm4gdC50YXJnZXRDYWNoZS5nZXRUYXJnZXREYXRhRm9yVGFyZ2V0KG4sZSkubmV4dCgoZnVuY3Rpb24oZSl7cmV0dXJuIGU/ZS50YXJnZXQ6bnVsbH0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0TmV3RG9jdW1lbnRDaGFuZ2VzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbigiR2V0IG5ldyBkb2N1bWVudCBjaGFuZ2VzIiwicmVhZG9ubHktaWRlbXBvdGVudCIsKGZ1bmN0aW9uKHQpe3JldHVybiBlLnJlbW90ZURvY3VtZW50cy5nZXROZXdEb2N1bWVudENoYW5nZXModCxlLmxhc3REb2N1bWVudENoYW5nZVJlYWRUaW1lKX0pKS50aGVuKChmdW5jdGlvbih0KXt2YXIgbj10LmNoYW5nZWREb2NzLHI9dC5yZWFkVGltZTtyZXR1cm4gZS5sYXN0RG9jdW1lbnRDaGFuZ2VSZWFkVGltZT1yLG59KSl9LGUucHJvdG90eXBlLnN5bmNocm9uaXplTGFzdERvY3VtZW50Q2hhbmdlUmVhZFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcztyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPXRoaXMsWzQsdGhpcy5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbigiU3luY2hyb25pemUgbGFzdCBkb2N1bWVudCBjaGFuZ2UgcmVhZCB0aW1lIiwicmVhZG9ubHktaWRlbXBvdGVudCIsKGZ1bmN0aW9uKGUpe3JldHVybiB0LnJlbW90ZURvY3VtZW50cy5nZXRMYXN0UmVhZFRpbWUoZSl9KSldO2Nhc2UgMTpyZXR1cm4gZS5sYXN0RG9jdW1lbnRDaGFuZ2VSZWFkVGltZT1uLnNlbnQoKSxbMl19fSkpfSkpfSxlLlJFU1VNRV9UT0tFTl9NQVhfQUdFX01JQ1JPUz0zZTgsZX0oKTtmdW5jdGlvbiBxbihlKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe2lmKGUuY29kZSE9PVMuRkFJTEVEX1BSRUNPTkRJVElPTnx8ZS5tZXNzYWdlIT09TW4pdGhyb3cgZTtyZXR1cm4gbShQbiwiVW5leHBlY3RlZGx5IGxvc3QgcHJpbWFyeSBsZWFzZSIpLFsyXX0pKX0pKX1mdW5jdGlvbiBWbihlLHQpe3ZhciBuPWVbMF0scj1lWzFdLGk9dFswXSxvPXRbMV0sYT1YKG4saSk7cmV0dXJuIDA9PT1hP1gocixvKTphfXZhciBCbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5tYXhFbGVtZW50cz1lLHRoaXMuYnVmZmVyPW5ldyBSZShWbiksdGhpcy5wcmV2aW91c0luZGV4PTB9cmV0dXJuIGUucHJvdG90eXBlLm5leHRJbmRleD1mdW5jdGlvbigpe3JldHVybisrdGhpcy5wcmV2aW91c0luZGV4fSxlLnByb3RvdHlwZS5hZGRFbGVtZW50PWZ1bmN0aW9uKGUpe3ZhciB0PVtlLHRoaXMubmV4dEluZGV4KCldO2lmKHRoaXMuYnVmZmVyLnNpemU8dGhpcy5tYXhFbGVtZW50cyl0aGlzLmJ1ZmZlcj10aGlzLmJ1ZmZlci5hZGQodCk7ZWxzZXt2YXIgbj10aGlzLmJ1ZmZlci5sYXN0KCk7Vm4odCxuKTwwJiYodGhpcy5idWZmZXI9dGhpcy5idWZmZXIuZGVsZXRlKG4pLmFkZCh0KSl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1heFZhbHVlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVmZmVyLmxhc3QoKVswXX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlfSgpLFVuPXtkaWRSdW46ITEsc2VxdWVuY2VOdW1iZXJzQ29sbGVjdGVkOjAsdGFyZ2V0c1JlbW92ZWQ6MCxkb2N1bWVudHNSZW1vdmVkOjB9LFFuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dGhpcy5jYWNoZVNpemVDb2xsZWN0aW9uVGhyZXNob2xkPWUsdGhpcy5wZXJjZW50aWxlVG9Db2xsZWN0PXQsdGhpcy5tYXhpbXVtU2VxdWVuY2VOdW1iZXJzVG9Db2xsZWN0PW59cmV0dXJuIGUud2l0aENhY2hlU2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCxlLkRFRkFVTFRfQ09MTEVDVElPTl9QRVJDRU5USUxFLGUuREVGQVVMVF9NQVhfU0VRVUVOQ0VfTlVNQkVSU19UT19DT0xMRUNUKX0sZS5DT0xMRUNUSU9OX0RJU0FCTEVEPS0xLGUuTUlOSU1VTV9DQUNIRV9TSVpFX0JZVEVTPTEwNDg1NzYsZS5ERUZBVUxUX0NBQ0hFX1NJWkVfQllURVM9NDE5NDMwNDAsZS5ERUZBVUxUX0NPTExFQ1RJT05fUEVSQ0VOVElMRT0xMCxlLkRFRkFVTFRfTUFYX1NFUVVFTkNFX05VTUJFUlNfVE9fQ09MTEVDVD0xZTMsZS5ERUZBVUxUPW5ldyBlKGUuREVGQVVMVF9DQUNIRV9TSVpFX0JZVEVTLGUuREVGQVVMVF9DT0xMRUNUSU9OX1BFUkNFTlRJTEUsZS5ERUZBVUxUX01BWF9TRVFVRU5DRV9OVU1CRVJTX1RPX0NPTExFQ1QpLGUuRElTQUJMRUQ9bmV3IGUoZS5DT0xMRUNUSU9OX0RJU0FCTEVELDAsMCksZX0oKSxLbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4pe3RoaXMuZ2FyYmFnZUNvbGxlY3Rvcj1lLHRoaXMuYXN5bmNRdWV1ZT10LHRoaXMubG9jYWxTdG9yZT1uLHRoaXMuaGFzUnVuPSExLHRoaXMuZ2NUYXNrPW51bGx9cmV0dXJuIGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dyhudWxsPT09dGhpcy5nY1Rhc2ssIkNhbm5vdCBzdGFydCBhbiBhbHJlYWR5IHN0YXJ0ZWQgTHJ1U2NoZWR1bGVyIiksdGhpcy5nYXJiYWdlQ29sbGVjdG9yLnBhcmFtcy5jYWNoZVNpemVDb2xsZWN0aW9uVGhyZXNob2xkIT09UW4uQ09MTEVDVElPTl9ESVNBQkxFRCYmdGhpcy5zY2hlZHVsZUdDKCl9LGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLmdjVGFzayYmKHRoaXMuZ2NUYXNrLmNhbmNlbCgpLHRoaXMuZ2NUYXNrPW51bGwpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInN0YXJ0ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZ2NUYXNrfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNjaGVkdWxlR0M9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3cobnVsbD09PXRoaXMuZ2NUYXNrLCJDYW5ub3Qgc2NoZWR1bGUgR0Mgd2hpbGUgYSB0YXNrIGlzIHBlbmRpbmciKTt2YXIgdD10aGlzLmhhc1J1bj8zZTU6NmU0O20oIkxydUdhcmJhZ2VDb2xsZWN0b3IiLCJHYXJiYWdlIGNvbGxlY3Rpb24gc2NoZWR1bGVkIGluICIrdCsibXMiKSx0aGlzLmdjVGFzaz10aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFmdGVyRGVsYXkobmUuTHJ1R2FyYmFnZUNvbGxlY3Rpb24sdCwoZnVuY3Rpb24oKXtyZXR1cm4gZS5nY1Rhc2s9bnVsbCxlLmhhc1J1bj0hMCxlLmxvY2FsU3RvcmUuY29sbGVjdEdhcmJhZ2UoZS5nYXJiYWdlQ29sbGVjdG9yKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLnNjaGVkdWxlR0MoKX0pKS5jYXRjaChxbil9KSl9LGV9KCksem49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5kZWxlZ2F0ZT1lLHRoaXMucGFyYW1zPXR9cmV0dXJuIGUucHJvdG90eXBlLmNhbGN1bGF0ZVRhcmdldENvdW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZGVsZWdhdGUuZ2V0U2VxdWVuY2VOdW1iZXJDb3VudChlKS5uZXh0KChmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5mbG9vcih0LzEwMCplKX0pKX0sZS5wcm90b3R5cGUubnRoU2VxdWVuY2VOdW1iZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2lmKDA9PT10KXJldHVybiBHZS5yZXNvbHZlKHVlLklOVkFMSUQpO3ZhciByPW5ldyBCbih0KTtyZXR1cm4gdGhpcy5kZWxlZ2F0ZS5mb3JFYWNoVGFyZ2V0KGUsKGZ1bmN0aW9uKGUpe3JldHVybiByLmFkZEVsZW1lbnQoZS5zZXF1ZW5jZU51bWJlcil9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gbi5kZWxlZ2F0ZS5mb3JFYWNoT3JwaGFuZWREb2N1bWVudFNlcXVlbmNlTnVtYmVyKGUsKGZ1bmN0aW9uKGUpe3JldHVybiByLmFkZEVsZW1lbnQoZSl9KSl9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gci5tYXhWYWx1ZX0pKX0sZS5wcm90b3R5cGUucmVtb3ZlVGFyZ2V0cz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuZGVsZWdhdGUucmVtb3ZlVGFyZ2V0cyhlLHQsbil9LGUucHJvdG90eXBlLnJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZGVsZWdhdGUucmVtb3ZlT3JwaGFuZWREb2N1bWVudHMoZSx0KX0sZS5wcm90b3R5cGUuY29sbGVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMucGFyYW1zLmNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQ9PT1Rbi5DT0xMRUNUSU9OX0RJU0FCTEVEPyhtKCJMcnVHYXJiYWdlQ29sbGVjdG9yIiwiR2FyYmFnZSBjb2xsZWN0aW9uIHNraXBwZWQ7IGRpc2FibGVkIiksR2UucmVzb2x2ZShVbikpOnRoaXMuZ2V0Q2FjaGVTaXplKGUpLm5leHQoKGZ1bmN0aW9uKHIpe3JldHVybiByPG4ucGFyYW1zLmNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQ/KG0oIkxydUdhcmJhZ2VDb2xsZWN0b3IiLCJHYXJiYWdlIGNvbGxlY3Rpb24gc2tpcHBlZDsgQ2FjaGUgc2l6ZSAiK3IrIiBpcyBsb3dlciB0aGFuIHRocmVzaG9sZCAiK24ucGFyYW1zLmNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQpLFVuKTpuLnJ1bkdhcmJhZ2VDb2xsZWN0aW9uKGUsdCl9KSl9LGUucHJvdG90eXBlLmdldENhY2hlU2l6ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZS5nZXRDYWNoZVNpemUoZSl9LGUucHJvdG90eXBlLnJ1bkdhcmJhZ2VDb2xsZWN0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGEscyx1LGMsaD10aGlzLGw9RGF0ZS5ub3coKTtyZXR1cm4gdGhpcy5jYWxjdWxhdGVUYXJnZXRDb3VudChlLHRoaXMucGFyYW1zLnBlcmNlbnRpbGVUb0NvbGxlY3QpLm5leHQoKGZ1bmN0aW9uKHQpe3JldHVybiB0PmgucGFyYW1zLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3Q/KG0oIkxydUdhcmJhZ2VDb2xsZWN0b3IiLCJDYXBwaW5nIHNlcXVlbmNlIG51bWJlcnMgdG8gY29sbGVjdCBkb3duIHRvIHRoZSBtYXhpbXVtIG9mICIraC5wYXJhbXMubWF4aW11bVNlcXVlbmNlTnVtYmVyc1RvQ29sbGVjdCsiIGZyb20gIit0KSxyPWgucGFyYW1zLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3QpOnI9dCxhPURhdGUubm93KCksaC5udGhTZXF1ZW5jZU51bWJlcihlLHIpfSkpLm5leHQoKGZ1bmN0aW9uKHIpe3JldHVybiBuPXIscz1EYXRlLm5vdygpLGgucmVtb3ZlVGFyZ2V0cyhlLG4sdCl9KSkubmV4dCgoZnVuY3Rpb24odCl7cmV0dXJuIG89dCx1PURhdGUubm93KCksaC5yZW1vdmVPcnBoYW5lZERvY3VtZW50cyhlLG4pfSkpLm5leHQoKGZ1bmN0aW9uKGUpeyhjPURhdGUubm93KCksZCgpPD1pLkRFQlVHKSYmbSgiTHJ1R2FyYmFnZUNvbGxlY3RvciIsIkxSVSBHYXJiYWdlIENvbGxlY3Rpb25cblx0Q291bnRlZCB0YXJnZXRzIGluICIrKGEtbCkrIm1zXG5cdERldGVybWluZWQgbGVhc3QgcmVjZW50bHkgdXNlZCAiK3IrIiBpbiAiKyhzLWEpKyJtc1xuXHRSZW1vdmVkICIrbysiIHRhcmdldHMgaW4gIisodS1zKSsibXNcblx0UmVtb3ZlZCAiK2UrIiBkb2N1bWVudHMgaW4gIisoYy11KSsibXNcblRvdGFsIER1cmF0aW9uOiAiKyhjLWwpKyJtcyIpO3JldHVybiBHZS5yZXNvbHZlKHtkaWRSdW46ITAsc2VxdWVuY2VOdW1iZXJzQ29sbGVjdGVkOnIsdGFyZ2V0c1JlbW92ZWQ6byxkb2N1bWVudHNSZW1vdmVkOmV9KX0pKX0sZX0oKSxXbj0iSW5kZXhlZERiUGVyc2lzdGVuY2UiLEduPSJBbm90aGVyIHRhYiBoYXMgZXhjbHVzaXZlIGFjY2VzcyB0byB0aGUgcGVyc2lzdGVuY2UgbGF5ZXIuIFRvIGFsbG93IHNoYXJlZCBhY2Nlc3MsIG1ha2Ugc3VyZSB0byBpbnZva2UgYGVuYWJsZVBlcnNpc3RlbmNlKClgIHdpdGggYHN5bmNocm9uaXplVGFiczp0cnVlYCBpbiBhbGwgdGFicy4iLGpuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuc2ltcGxlRGJUcmFuc2FjdGlvbj10LHIuY3VycmVudFNlcXVlbmNlTnVtYmVyPW4scn1yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0fShMbiksSG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixyLGksbyxhLHMsdSl7aWYodGhpcy5hbGxvd1RhYlN5bmNocm9uaXphdGlvbj10LHRoaXMucGVyc2lzdGVuY2VLZXk9bix0aGlzLmNsaWVudElkPXIsdGhpcy5xdWV1ZT1hLHRoaXMuc2VxdWVuY2VOdW1iZXJTeW5jZXI9dSx0aGlzLl9zdGFydGVkPSExLHRoaXMuaXNQcmltYXJ5PSExLHRoaXMubmV0d29ya0VuYWJsZWQ9ITAsdGhpcy53aW5kb3dVbmxvYWRIYW5kbGVyPW51bGwsdGhpcy5pbkZvcmVncm91bmQ9ITEsdGhpcy5kb2N1bWVudFZpc2liaWxpdHlIYW5kbGVyPW51bGwsdGhpcy5jbGllbnRNZXRhZGF0YVJlZnJlc2hlcj1udWxsLHRoaXMubGFzdEdhcmJhZ2VDb2xsZWN0aW9uVGltZT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksdGhpcy5wcmltYXJ5U3RhdGVMaXN0ZW5lcj1mdW5jdGlvbihlKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9LHRoaXMucmVmZXJlbmNlRGVsZWdhdGU9bmV3IFhuKHRoaXMsbyksdGhpcy5kYk5hbWU9bitlLk1BSU5fREFUQUJBU0UsdGhpcy5zZXJpYWxpemVyPW5ldyBrbihzKSx0aGlzLmRvY3VtZW50PWkuZG9jdW1lbnQsdGhpcy50YXJnZXRDYWNoZT1uZXcgbHQodGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSx0aGlzLnNlcmlhbGl6ZXIpLHRoaXMuaW5kZXhNYW5hZ2VyPW5ldyBfbix0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGU9bmV3IFh0KHRoaXMuc2VyaWFsaXplcix0aGlzLmluZGV4TWFuYWdlciksIWkud2luZG93fHwhaS53aW5kb3cubG9jYWxTdG9yYWdlKXRocm93IG5ldyBFKFMuVU5JTVBMRU1FTlRFRCwiSW5kZXhlZERCIHBlcnNpc3RlbmNlIGlzIG9ubHkgYXZhaWxhYmxlIG9uIHBsYXRmb3JtcyB0aGF0IHN1cHBvcnQgTG9jYWxTdG9yYWdlLiIpO3RoaXMud2luZG93PWkud2luZG93LHRoaXMud2ViU3RvcmFnZT10aGlzLndpbmRvdy5sb2NhbFN0b3JhZ2V9cmV0dXJuIGUuZ2V0U3RvcmU9ZnVuY3Rpb24oZSx0KXtpZihlIGluc3RhbmNlb2Ygam4pcmV0dXJuIEhlLmdldFN0b3JlKGUuc2ltcGxlRGJUcmFuc2FjdGlvbix0KTt0aHJvdyB2KCJJbmRleGVkRGJQZXJzaXN0ZW5jZSBtdXN0IHVzZSBpbnN0YW5jZXMgb2YgSW5kZXhlZERiVHJhbnNhY3Rpb24iKX0sZS5jcmVhdGVJbmRleGVkRGJQZXJzaXN0ZW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuO3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6aWYoIWUuaXNBdmFpbGFibGUoKSl0aHJvdyBuZXcgRShTLlVOSU1QTEVNRU5URUQsIlRoaXMgcGxhdGZvcm0gaXMgZWl0aGVyIG1pc3NpbmcgSW5kZXhlZERCIG9yIGlzIGtub3duIHRvIGhhdmUgYW4gaW5jb21wbGV0ZSBpbXBsZW1lbnRhdGlvbi4gT2ZmbGluZSBwZXJzaXN0ZW5jZSBoYXMgYmVlbiBkaXNhYmxlZC4iKTtyZXR1cm5bNCwobj1uZXcgZSh0LmFsbG93VGFiU3luY2hyb25pemF0aW9uLHQucGVyc2lzdGVuY2VLZXksdC5jbGllbnRJZCx0LnBsYXRmb3JtLHQubHJ1UGFyYW1zLHQucXVldWUsdC5zZXJpYWxpemVyLHQuc2VxdWVuY2VOdW1iZXJTeW5jZXIpKS5zdGFydCgpXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLFsyLG5dfX0pKX0pKX0sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB3KCF0aGlzLnN0YXJ0ZWQsIkluZGV4ZWREYlBlcnNpc3RlbmNlIGRvdWJsZS1zdGFydGVkISIpLHcobnVsbCE9PXRoaXMud2luZG93LCJFeHBlY3RlZCAnd2luZG93JyB0byBiZSBkZWZpbmVkIiksSGUub3Blbk9yQ3JlYXRlKHRoaXMuZGJOYW1lLG9uLG5ldyBhbih0aGlzLnNlcmlhbGl6ZXIpKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gZS5zaW1wbGVEYj10LGUudXBkYXRlQ2xpZW50TWV0YWRhdGFBbmRUcnlCZWNvbWVQcmltYXJ5KCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5hdHRhY2hWaXNpYmlsaXR5SGFuZGxlcigpLGUuYXR0YWNoV2luZG93VW5sb2FkSG9vaygpLGUuc2NoZWR1bGVDbGllbnRNZXRhZGF0YUFuZFByaW1hcnlMZWFzZVJlZnJlc2hlcygpLGUuc2ltcGxlRGIucnVuVHJhbnNhY3Rpb24oInJlYWRvbmx5LWlkZW1wb3RlbnQiLFt2bi5zdG9yZV0sKGZ1bmN0aW9uKGUpe3JldHVybiBwdChlKX0pKX0pKS50aGVuKChmdW5jdGlvbih0KXtlLmxpc3RlblNlcXVlbmNlPW5ldyB1ZSh0LGUuc2VxdWVuY2VOdW1iZXJTeW5jZXIpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5fc3RhcnRlZD0hMH0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuc2ltcGxlRGImJmUuc2ltcGxlRGIuY2xvc2UoKSxQcm9taXNlLnJlamVjdCh0KX0pKX0sZS5wcm90b3R5cGUuc2V0UHJpbWFyeVN0YXRlTGlzdGVuZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5wcmltYXJ5U3RhdGVMaXN0ZW5lcj1mdW5jdGlvbihuKXtyZXR1cm4gYS5fX2F3YWl0ZXIodCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXJ0ZWQ/WzIsZShuKV06WzJdfSkpfSkpfSxlKHRoaXMuaXNQcmltYXJ5KX0sZS5wcm90b3R5cGUuc2V0RGF0YWJhc2VEZWxldGVkTGlzdGVuZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnNpbXBsZURiLnNldFZlcnNpb25DaGFuZ2VMaXN0ZW5lcigoZnVuY3Rpb24obil7cmV0dXJuIGEuX19hd2FpdGVyKHQsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBudWxsIT09bi5uZXdWZXJzaW9uP1szLDJdOls0LGUoKV07Y2FzZSAxOnQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzJdfX0pKX0pKX0pKX0sZS5wcm90b3R5cGUuc2V0TmV0d29ya0VuYWJsZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLm5ldHdvcmtFbmFibGVkIT09ZSYmKHRoaXMubmV0d29ya0VuYWJsZWQ9ZSx0aGlzLnF1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX19hd2FpdGVyKHQsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnN0YXJ0ZWQ/WzQsdGhpcy51cGRhdGVDbGllbnRNZXRhZGF0YUFuZFRyeUJlY29tZVByaW1hcnkoKV06WzMsMl07Y2FzZSAxOmUuc2VudCgpLGUubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzJdfX0pKX0pKX0pKSl9LGUucHJvdG90eXBlLnVwZGF0ZUNsaWVudE1ldGFkYXRhQW5kVHJ5QmVjb21lUHJpbWFyeT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuc2ltcGxlRGIucnVuVHJhbnNhY3Rpb24oInJlYWR3cml0ZS1pZGVtcG90ZW50IixEbiwoZnVuY3Rpb24odCl7cmV0dXJuIEpuKHQpLnB1dChuZXcgVG4oZS5jbGllbnRJZCxEYXRlLm5vdygpLGUubmV0d29ya0VuYWJsZWQsZS5pbkZvcmVncm91bmQpKS5uZXh0KChmdW5jdGlvbigpe2lmKGUuaXNQcmltYXJ5KXJldHVybiBlLnZlcmlmeVByaW1hcnlMZWFzZSh0KS5uZXh0KChmdW5jdGlvbih0KXt0fHwoZS5pc1ByaW1hcnk9ITEsZS5xdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChmdW5jdGlvbigpe3JldHVybiBlLnByaW1hcnlTdGF0ZUxpc3RlbmVyKCExKX0pKSl9KSl9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gZS5jYW5BY3RBc1ByaW1hcnkodCl9KSkubmV4dCgoZnVuY3Rpb24obil7cmV0dXJuIGUuaXNQcmltYXJ5JiYhbj9lLnJlbGVhc2VQcmltYXJ5TGVhc2VJZkhlbGQodCkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4hMX0pKTohIW4mJmUuYWNxdWlyZU9yRXh0ZW5kUHJpbWFyeUxlYXNlKHQpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuITB9KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2lmKCFlLmFsbG93VGFiU3luY2hyb25pemF0aW9uKXRocm93IHQ7cmV0dXJuIG0oV24sIlJlbGVhc2luZyBvd25lciBsZWFzZSBhZnRlciBlcnJvciBkdXJpbmcgbGVhc2UgcmVmcmVzaCIsdCksITF9KSkudGhlbigoZnVuY3Rpb24odCl7ZS5pc1ByaW1hcnkhPT10JiZlLnF1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUucHJpbWFyeVN0YXRlTGlzdGVuZXIodCl9KSksZS5pc1ByaW1hcnk9dH0pKX0sZS5wcm90b3R5cGUudmVyaWZ5UHJpbWFyeUxlYXNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIFluKGUpLmdldCh1bi5rZXkpLm5leHQoKGZ1bmN0aW9uKGUpe3JldHVybiBHZS5yZXNvbHZlKHQuaXNMb2NhbENsaWVudChlKSl9KSl9LGUucHJvdG90eXBlLnJlbW92ZUNsaWVudE1ldGFkYXRhPWZ1bmN0aW9uKGUpe3JldHVybiBKbihlKS5kZWxldGUodGhpcy5jbGllbnRJZCl9LGUucHJvdG90eXBlLm1heWJlR2FyYmFnZUNvbGxlY3RNdWx0aUNsaWVudFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuIXRoaXMuaXNQcmltYXJ5fHx0aGlzLmlzV2l0aGluQWdlKHRoaXMubGFzdEdhcmJhZ2VDb2xsZWN0aW9uVGltZSwxOGU1KT9bMywyXToodGhpcy5sYXN0R2FyYmFnZUNvbGxlY3Rpb25UaW1lPURhdGUubm93KCksWzQsdGhpcy5ydW5UcmFuc2FjdGlvbigibWF5YmVHYXJiYWdlQ29sbGVjdE11bHRpQ2xpZW50U3RhdGUiLCJyZWFkd3JpdGUtcHJpbWFyeS1pZGVtcG90ZW50IiwoZnVuY3Rpb24obil7dmFyIHI9ZS5nZXRTdG9yZShuLFRuLnN0b3JlKTtyZXR1cm4gci5sb2FkQWxsKCkubmV4dCgoZnVuY3Rpb24oZSl7dmFyIG49dC5maWx0ZXJBY3RpdmVDbGllbnRzKGUsMThlNSksaT1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1uLmluZGV4T2YoZSl9KSk7cmV0dXJuIEdlLmZvckVhY2goaSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZGVsZXRlKGUuY2xpZW50SWQpfSkpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuW119KSldKTtjYXNlIDE6bi5zZW50KCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC53aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odC56b21iaWVkQ2xpZW50TG9jYWxTdG9yYWdlS2V5KGUuY2xpZW50SWQpKX0pKSxuLmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KSl9KSl9LGUucHJvdG90eXBlLnNjaGVkdWxlQ2xpZW50TWV0YWRhdGFBbmRQcmltYXJ5TGVhc2VSZWZyZXNoZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuY2xpZW50TWV0YWRhdGFSZWZyZXNoZXI9dGhpcy5xdWV1ZS5lbnF1ZXVlQWZ0ZXJEZWxheShuZS5DbGllbnRNZXRhZGF0YVJlZnJlc2gsNGUzLChmdW5jdGlvbigpe3JldHVybiBlLnVwZGF0ZUNsaWVudE1ldGFkYXRhQW5kVHJ5QmVjb21lUHJpbWFyeSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUubWF5YmVHYXJiYWdlQ29sbGVjdE11bHRpQ2xpZW50U3RhdGUoKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLnNjaGVkdWxlQ2xpZW50TWV0YWRhdGFBbmRQcmltYXJ5TGVhc2VSZWZyZXNoZXMoKX0pKX0pKX0sZS5wcm90b3R5cGUuaXNMb2NhbENsaWVudD1mdW5jdGlvbihlKXtyZXR1cm4hIWUmJmUub3duZXJJZD09PXRoaXMuY2xpZW50SWR9LGUucHJvdG90eXBlLmNhbkFjdEFzUHJpbWFyeT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBZbihlKS5nZXQodW4ua2V5KS5uZXh0KChmdW5jdGlvbihuKXtpZihudWxsIT09biYmdC5pc1dpdGhpbkFnZShuLmxlYXNlVGltZXN0YW1wTXMsNWUzKSYmIXQuaXNDbGllbnRab21iaWVkKG4ub3duZXJJZCkpe2lmKHQuaXNMb2NhbENsaWVudChuKSYmdC5uZXR3b3JrRW5hYmxlZClyZXR1cm4hMDtpZighdC5pc0xvY2FsQ2xpZW50KG4pKXtpZighbi5hbGxvd1RhYlN5bmNocm9uaXphdGlvbil0aHJvdyBuZXcgRShTLkZBSUxFRF9QUkVDT05ESVRJT04sR24pO3JldHVybiExfX1yZXR1cm4hKCF0Lm5ldHdvcmtFbmFibGVkfHwhdC5pbkZvcmVncm91bmQpfHxKbihlKS5sb2FkQWxsKCkubmV4dCgoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PXQuZmlsdGVyQWN0aXZlQ2xpZW50cyhlLDVlMykuZmluZCgoZnVuY3Rpb24oZSl7aWYodC5jbGllbnRJZCE9PWUuY2xpZW50SWQpe3ZhciBuPSF0Lm5ldHdvcmtFbmFibGVkJiZlLm5ldHdvcmtFbmFibGVkLHI9IXQuaW5Gb3JlZ3JvdW5kJiZlLmluRm9yZWdyb3VuZCxpPXQubmV0d29ya0VuYWJsZWQ9PT1lLm5ldHdvcmtFbmFibGVkO2lmKG58fHImJmkpcmV0dXJuITB9cmV0dXJuITF9KSl9KSl9KSkubmV4dCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaXNQcmltYXJ5IT09ZSYmbShXbiwiQ2xpZW50ICIrKGU/ImlzIjoiaXMgbm90IikrIiBlbGlnaWJsZSBmb3IgYSBwcmltYXJ5IGxlYXNlLiIpLGV9KSl9LGUucHJvdG90eXBlLnNodXRkb3duPWZ1bmN0aW9uKCl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5tYXJrQ2xpZW50Wm9tYmllZCgpLHRoaXMuY2xpZW50TWV0YWRhdGFSZWZyZXNoZXImJih0aGlzLmNsaWVudE1ldGFkYXRhUmVmcmVzaGVyLmNhbmNlbCgpLHRoaXMuY2xpZW50TWV0YWRhdGFSZWZyZXNoZXI9bnVsbCksdGhpcy5kZXRhY2hWaXNpYmlsaXR5SGFuZGxlcigpLHRoaXMuZGV0YWNoV2luZG93VW5sb2FkSG9vaygpLFs0LHRoaXMuc2ltcGxlRGIucnVuVHJhbnNhY3Rpb24oInJlYWR3cml0ZS1pZGVtcG90ZW50IixbdW4uc3RvcmUsVG4uc3RvcmVdLChmdW5jdGlvbih0KXtyZXR1cm4gZS5yZWxlYXNlUHJpbWFyeUxlYXNlSWZIZWxkKHQpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUucmVtb3ZlQ2xpZW50TWV0YWRhdGEodCl9KSl9KSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksdGhpcy5zaW1wbGVEYi5jbG9zZSgpLHRoaXMucmVtb3ZlQ2xpZW50Wm9tYmllZEVudHJ5KCksWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuZmlsdGVyQWN0aXZlQ2xpZW50cz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbi5pc1dpdGhpbkFnZShlLnVwZGF0ZVRpbWVNcyx0KSYmIW4uaXNDbGllbnRab21iaWVkKGUuY2xpZW50SWQpfSkpfSxlLnByb3RvdHlwZS5nZXRBY3RpdmVDbGllbnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5zaW1wbGVEYi5ydW5UcmFuc2FjdGlvbigicmVhZG9ubHktaWRlbXBvdGVudCIsW1RuLnN0b3JlXSwoZnVuY3Rpb24odCl7cmV0dXJuIEpuKHQpLmxvYWRBbGwoKS5uZXh0KChmdW5jdGlvbih0KXtyZXR1cm4gZS5maWx0ZXJBY3RpdmVDbGllbnRzKHQsMThlNSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jbGllbnRJZH0pKX0pKX0pKX0sZS5jbGVhclBlcnNpc3RlbmNlPWZ1bmN0aW9uKHQpe3JldHVybiBhLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZS5pc0F2YWlsYWJsZSgpPyhuPXQrZS5NQUlOX0RBVEFCQVNFLFs0LEhlLmRlbGV0ZShuKV0pOlsyLFByb21pc2UucmVzb2x2ZSgpXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLFsyXX19KSl9KSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic3RhcnRlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFydGVkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldE11dGF0aW9uUXVldWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHcodGhpcy5zdGFydGVkLCJDYW5ub3QgaW5pdGlhbGl6ZSBNdXRhdGlvblF1ZXVlIGJlZm9yZSBwZXJzaXN0ZW5jZSBpcyBzdGFydGVkLiIpLHR0LmZvclVzZXIoZSx0aGlzLnNlcmlhbGl6ZXIsdGhpcy5pbmRleE1hbmFnZXIsdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSl9LGUucHJvdG90eXBlLmdldFRhcmdldENhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHcodGhpcy5zdGFydGVkLCJDYW5ub3QgaW5pdGlhbGl6ZSBUYXJnZXRDYWNoZSBiZWZvcmUgcGVyc2lzdGVuY2UgaXMgc3RhcnRlZC4iKSx0aGlzLnRhcmdldENhY2hlfSxlLnByb3RvdHlwZS5nZXRSZW1vdGVEb2N1bWVudENhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHcodGhpcy5zdGFydGVkLCJDYW5ub3QgaW5pdGlhbGl6ZSBSZW1vdGVEb2N1bWVudENhY2hlIGJlZm9yZSBwZXJzaXN0ZW5jZSBpcyBzdGFydGVkLiIpLHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZX0sZS5wcm90b3R5cGUuZ2V0SW5kZXhNYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHcodGhpcy5zdGFydGVkLCJDYW5ub3QgaW5pdGlhbGl6ZSBJbmRleE1hbmFnZXIgYmVmb3JlIHBlcnNpc3RlbmNlIGlzIHN0YXJ0ZWQuIiksdGhpcy5pbmRleE1hbmFnZXJ9LGUucHJvdG90eXBlLnJ1blRyYW5zYWN0aW9uPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzO20oV24sIlN0YXJ0aW5nIHRyYW5zYWN0aW9uOiIsZSk7dmFyIGksbz10LmVuZHNXaXRoKCJpZGVtcG90ZW50IiksYT10LnN0YXJ0c1dpdGgoInJlYWRvbmx5Iik/bz8icmVhZG9ubHktaWRlbXBvdGVudCI6InJlYWRvbmx5IjpvPyJyZWFkd3JpdGUtaWRlbXBvdGVudCI6InJlYWR3cml0ZSI7cmV0dXJuIHRoaXMuc2ltcGxlRGIucnVuVHJhbnNhY3Rpb24oYSxEbiwoZnVuY3Rpb24obyl7cmV0dXJuIGk9bmV3IGpuKG8sci5saXN0ZW5TZXF1ZW5jZS5uZXh0KCkpLCJyZWFkd3JpdGUtcHJpbWFyeSI9PT10fHwicmVhZHdyaXRlLXByaW1hcnktaWRlbXBvdGVudCI9PT10P3IudmVyaWZ5UHJpbWFyeUxlYXNlKG8pLm5leHQoKGZ1bmN0aW9uKGUpe3JldHVybiEhZXx8ci5jYW5BY3RBc1ByaW1hcnkobyl9KSkubmV4dCgoZnVuY3Rpb24odCl7aWYoIXQpdGhyb3cgeSgiRmFpbGVkIHRvIG9idGFpbiBwcmltYXJ5IGxlYXNlIGZvciBhY3Rpb24gJyIrZSsiJy4iKSxyLmlzUHJpbWFyeT0hMSxyLnF1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHIucHJpbWFyeVN0YXRlTGlzdGVuZXIoITEpfSkpLG5ldyBFKFMuRkFJTEVEX1BSRUNPTkRJVElPTixNbik7cmV0dXJuIG4oaSl9KSkubmV4dCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIuYWNxdWlyZU9yRXh0ZW5kUHJpbWFyeUxlYXNlKG8pLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KSl9KSk6ci52ZXJpZnlBbGxvd1RhYlN5bmNocm9uaXphdGlvbihvKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBuKGkpfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBpLnJhaXNlT25Db21taXR0ZWRFdmVudCgpLGV9KSl9LGUucHJvdG90eXBlLnZlcmlmeUFsbG93VGFiU3luY2hyb25pemF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIFluKGUpLmdldCh1bi5rZXkpLm5leHQoKGZ1bmN0aW9uKGUpe2lmKG51bGwhPT1lJiZ0LmlzV2l0aGluQWdlKGUubGVhc2VUaW1lc3RhbXBNcyw1ZTMpJiYhdC5pc0NsaWVudFpvbWJpZWQoZS5vd25lcklkKSYmIXQuaXNMb2NhbENsaWVudChlKSYmIWUuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24pdGhyb3cgbmV3IEUoUy5GQUlMRURfUFJFQ09ORElUSU9OLEduKX0pKX0sZS5wcm90b3R5cGUuYWNxdWlyZU9yRXh0ZW5kUHJpbWFyeUxlYXNlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB1bih0aGlzLmNsaWVudElkLHRoaXMuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24sRGF0ZS5ub3coKSk7cmV0dXJuIFluKGUpLnB1dCh1bi5rZXksdCl9LGUuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gSGUuaXNBdmFpbGFibGUoKX0sZS5idWlsZFN0b3JhZ2VQcmVmaXg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhYmFzZUlkLnByb2plY3RJZDtyZXR1cm4gZS5kYXRhYmFzZUlkLmlzRGVmYXVsdERhdGFiYXNlfHwodCs9Ii4iK2UuZGF0YWJhc2VJZC5kYXRhYmFzZSksImZpcmVzdG9yZS8iK2UucGVyc2lzdGVuY2VLZXkrIi8iK3QrIi8ifSxlLnByb3RvdHlwZS5yZWxlYXNlUHJpbWFyeUxlYXNlSWZIZWxkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1ZbihlKTtyZXR1cm4gbi5nZXQodW4ua2V5KS5uZXh0KChmdW5jdGlvbihlKXtyZXR1cm4gdC5pc0xvY2FsQ2xpZW50KGUpPyhtKFduLCJSZWxlYXNpbmcgcHJpbWFyeSBsZWFzZS4iKSxuLmRlbGV0ZSh1bi5rZXkpKTpHZS5yZXNvbHZlKCl9KSl9LGUucHJvdG90eXBlLmlzV2l0aGluQWdlPWZ1bmN0aW9uKGUsdCl7dmFyIG49RGF0ZS5ub3coKTtyZXR1cm4hKGU8bi10KSYmKCEoZT5uKXx8KHkoIkRldGVjdGVkIGFuIHVwZGF0ZSB0aW1lIHRoYXQgaXMgaW4gdGhlIGZ1dHVyZTogIitlKyIgPiAiK24pLCExKSl9LGUucHJvdG90eXBlLmF0dGFjaFZpc2liaWxpdHlIYW5kbGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztudWxsIT09dGhpcy5kb2N1bWVudCYmImZ1bmN0aW9uIj09PXR5cGVvZiB0aGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXImJih0aGlzLmRvY3VtZW50VmlzaWJpbGl0eUhhbmRsZXI9ZnVuY3Rpb24oKXtlLnF1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuaW5Gb3JlZ3JvdW5kPSJ2aXNpYmxlIj09PWUuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlLGUudXBkYXRlQ2xpZW50TWV0YWRhdGFBbmRUcnlCZWNvbWVQcmltYXJ5KCl9KSl9LHRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidmlzaWJpbGl0eWNoYW5nZSIsdGhpcy5kb2N1bWVudFZpc2liaWxpdHlIYW5kbGVyKSx0aGlzLmluRm9yZWdyb3VuZD0idmlzaWJsZSI9PT10aGlzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSl9LGUucHJvdG90eXBlLmRldGFjaFZpc2liaWxpdHlIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy5kb2N1bWVudFZpc2liaWxpdHlIYW5kbGVyJiYodyhudWxsIT09dGhpcy5kb2N1bWVudCYmImZ1bmN0aW9uIj09PXR5cGVvZiB0aGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIsIkV4cGVjdGVkICdkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyJyB0byBiZSBhIGZ1bmN0aW9uIiksdGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ2aXNpYmlsaXR5Y2hhbmdlIix0aGlzLmRvY3VtZW50VmlzaWJpbGl0eUhhbmRsZXIpLHRoaXMuZG9jdW1lbnRWaXNpYmlsaXR5SGFuZGxlcj1udWxsKX0sZS5wcm90b3R5cGUuYXR0YWNoV2luZG93VW5sb2FkSG9vaz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ImZ1bmN0aW9uIj09PXR5cGVvZiB0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyJiYodGhpcy53aW5kb3dVbmxvYWRIYW5kbGVyPWZ1bmN0aW9uKCl7ZS5tYXJrQ2xpZW50Wm9tYmllZCgpLGUucXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoZnVuY3Rpb24oKXtyZXR1cm4gZS5zaHV0ZG93bigpfSkpfSx0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLHRoaXMud2luZG93VW5sb2FkSGFuZGxlcikpfSxlLnByb3RvdHlwZS5kZXRhY2hXaW5kb3dVbmxvYWRIb29rPWZ1bmN0aW9uKCl7dGhpcy53aW5kb3dVbmxvYWRIYW5kbGVyJiYodygiZnVuY3Rpb24iPT09dHlwZW9mIHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIsIkV4cGVjdGVkICd3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcicgdG8gYmUgYSBmdW5jdGlvbiIpLHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInVubG9hZCIsdGhpcy53aW5kb3dVbmxvYWRIYW5kbGVyKSx0aGlzLndpbmRvd1VubG9hZEhhbmRsZXI9bnVsbCl9LGUucHJvdG90eXBlLmlzQ2xpZW50Wm9tYmllZD1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9bnVsbCE9PXRoaXMud2ViU3RvcmFnZS5nZXRJdGVtKHRoaXMuem9tYmllZENsaWVudExvY2FsU3RvcmFnZUtleShlKSk7cmV0dXJuIG0oV24sIkNsaWVudCAnIitlKyInICIrKHQ/ImlzIjoiaXMgbm90IikrIiB6b21iaWVkIGluIExvY2FsU3RvcmFnZSIpLHR9Y2F0Y2gobil7cmV0dXJuIHkoV24sIkZhaWxlZCB0byBnZXQgem9tYmllZCBjbGllbnQgaWQuIixuKSwhMX19LGUucHJvdG90eXBlLm1hcmtDbGllbnRab21iaWVkPWZ1bmN0aW9uKCl7dHJ5e3RoaXMud2ViU3RvcmFnZS5zZXRJdGVtKHRoaXMuem9tYmllZENsaWVudExvY2FsU3RvcmFnZUtleSh0aGlzLmNsaWVudElkKSxTdHJpbmcoRGF0ZS5ub3coKSkpfWNhdGNoKGUpe3koIkZhaWxlZCB0byBzZXQgem9tYmllIGNsaWVudCBpZC4iLGUpfX0sZS5wcm90b3R5cGUucmVtb3ZlQ2xpZW50Wm9tYmllZEVudHJ5PWZ1bmN0aW9uKCl7dHJ5e3RoaXMud2ViU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuem9tYmllZENsaWVudExvY2FsU3RvcmFnZUtleSh0aGlzLmNsaWVudElkKSl9Y2F0Y2goZSl7fX0sZS5wcm90b3R5cGUuem9tYmllZENsaWVudExvY2FsU3RvcmFnZUtleT1mdW5jdGlvbihlKXtyZXR1cm4iZmlyZXN0b3JlX3pvbWJpZV8iK3RoaXMucGVyc2lzdGVuY2VLZXkrIl8iK2V9LGUuTUFJTl9EQVRBQkFTRT0ibWFpbiIsZX0oKTtmdW5jdGlvbiBZbihlKXtyZXR1cm4gZS5zdG9yZSh1bi5zdG9yZSl9ZnVuY3Rpb24gSm4oZSl7cmV0dXJuIGUuc3RvcmUoVG4uc3RvcmUpfXZhciBYbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmRiPWUsdGhpcy5pbk1lbW9yeVBpbnM9bnVsbCx0aGlzLmdhcmJhZ2VDb2xsZWN0b3I9bmV3IHpuKHRoaXMsdCl9cmV0dXJuIGUucHJvdG90eXBlLmdldFNlcXVlbmNlTnVtYmVyQ291bnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vcnBoYW5lZERvY21lbnRDb3VudChlKTtyZXR1cm4gdGhpcy5kYi5nZXRUYXJnZXRDYWNoZSgpLmdldFRhcmdldENvdW50KGUpLm5leHQoKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm5leHQoKGZ1bmN0aW9uKHQpe3JldHVybiBlK3R9KSl9KSl9LGUucHJvdG90eXBlLm9ycGhhbmVkRG9jbWVudENvdW50PWZ1bmN0aW9uKGUpe3ZhciB0PTA7cmV0dXJuIHRoaXMuZm9yRWFjaE9ycGhhbmVkRG9jdW1lbnRTZXF1ZW5jZU51bWJlcihlLChmdW5jdGlvbihlKXt0Kyt9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gdH0pKX0sZS5wcm90b3R5cGUuZm9yRWFjaFRhcmdldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRiLmdldFRhcmdldENhY2hlKCkuZm9yRWFjaFRhcmdldChlLHQpfSxlLnByb3RvdHlwZS5mb3JFYWNoT3JwaGFuZWREb2N1bWVudFNlcXVlbmNlTnVtYmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZm9yRWFjaE9ycGhhbmVkRG9jdW1lbnQoZSwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdChuKX0pKX0sZS5wcm90b3R5cGUuc2V0SW5NZW1vcnlQaW5zPWZ1bmN0aW9uKGUpe3RoaXMuaW5NZW1vcnlQaW5zPWV9LGUucHJvdG90eXBlLmFkZFJlZmVyZW5jZT1mdW5jdGlvbihlLHQpe3JldHVybiBabihlLHQpfSxlLnByb3RvdHlwZS5yZW1vdmVSZWZlcmVuY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWm4oZSx0KX0sZS5wcm90b3R5cGUucmVtb3ZlVGFyZ2V0cz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuZGIuZ2V0VGFyZ2V0Q2FjaGUoKS5yZW1vdmVUYXJnZXRzKGUsdCxuKX0sZS5wcm90b3R5cGUucmVtb3ZlTXV0YXRpb25SZWZlcmVuY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWm4oZSx0KX0sZS5wcm90b3R5cGUuaXNQaW5uZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5pbk1lbW9yeVBpbnMuY29udGFpbnNLZXkodCk/R2UucmVzb2x2ZSghMCk6ZnVuY3Rpb24oZSx0KXt2YXIgbj0hMTtyZXR1cm4gc3QoZSkuaXRlcmF0ZVNlcmlhbCgoZnVuY3Rpb24ocil7cmV0dXJuIG50KGUscix0KS5uZXh0KChmdW5jdGlvbihlKXtyZXR1cm4gZSYmKG49ITApLEdlLnJlc29sdmUoIWUpfSkpfSkpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSl9KGUsdCl9LGUucHJvdG90eXBlLnJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPXRoaXMuZGIuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLm5ld0NoYW5nZUJ1ZmZlcigpLGk9W10sbz0wO3JldHVybiB0aGlzLmZvckVhY2hPcnBoYW5lZERvY3VtZW50KGUsKGZ1bmN0aW9uKGEscyl7aWYoczw9dCl7dmFyIHU9bi5pc1Bpbm5lZChlLGEpLm5leHQoKGZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiBvKyssci5nZXRFbnRyeShlLGEpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIHIucmVtb3ZlRW50cnkoYSksbXQoZSkuZGVsZXRlKFswLFRlKGEucGF0aCldKX0pKX0pKTtpLnB1c2godSl9fSkpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIEdlLndhaXRGb3IoaSl9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gci5hcHBseShlKX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBvfSkpfSxlLnByb3RvdHlwZS5yZW1vdmVUYXJnZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LndpdGhTZXF1ZW5jZU51bWJlcihlLmN1cnJlbnRTZXF1ZW5jZU51bWJlcik7cmV0dXJuIHRoaXMuZGIuZ2V0VGFyZ2V0Q2FjaGUoKS51cGRhdGVUYXJnZXREYXRhKGUsbil9LGUucHJvdG90eXBlLnVwZGF0ZUxpbWJvRG9jdW1lbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWm4oZSx0KX0sZS5wcm90b3R5cGUuZm9yRWFjaE9ycGhhbmVkRG9jdW1lbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPW10KGUpLGk9dWUuSU5WQUxJRDtyZXR1cm4gci5pdGVyYXRlKHtpbmRleDpnbi5kb2N1bWVudFRhcmdldHNJbmRleH0sKGZ1bmN0aW9uKGUscil7dmFyIG89ZVswXSxhPShlWzFdLHIucGF0aCkscz1yLnNlcXVlbmNlTnVtYmVyOzA9PT1vPyhpIT09dWUuSU5WQUxJRCYmdChuZXcgZGUoSWUobikpLGkpLGk9cyxuPWEpOmk9dWUuSU5WQUxJRH0pKS5uZXh0KChmdW5jdGlvbigpe2khPT11ZS5JTlZBTElEJiZ0KG5ldyBkZShJZShuKSksaSl9KSl9LGUucHJvdG90eXBlLmdldENhY2hlU2l6ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYi5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCkuZ2V0U2l6ZShlKX0sZX0oKTtmdW5jdGlvbiBabihlLHQpe3JldHVybiBtdChlKS5wdXQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGduKDAsVGUoZS5wYXRoKSx0KX0odCxlLmN1cnJlbnRTZXF1ZW5jZU51bWJlcikpfXZhciAkbj1OdW1iZXIsZXI9JG4uTUlOX1NBRkVfSU5URUdFUnx8LShNYXRoLnBvdygyLDUzKS0xKSx0cj0kbi5NQVhfU0FGRV9JTlRFR0VSfHxNYXRoLnBvdygyLDUzKS0xLG5yPSRuLmlzSW50ZWdlcnx8ZnVuY3Rpb24oZSl7cmV0dXJuIm51bWJlciI9PT10eXBlb2YgZSYmaXNGaW5pdGUoZSkmJk1hdGguZmxvb3IoZSk9PT1lfTtmdW5jdGlvbiBycihlKXtyZXR1cm4gbnVsbD09PWV8fHZvaWQgMD09PWV9ZnVuY3Rpb24gaXIoZSl7cmV0dXJuIG5yKGUpJiZlPD10ciYmZT49ZXJ9dmFyIG9yLGFyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyLGksbyxhKXt2b2lkIDA9PT10JiYodD1udWxsKSx2b2lkIDA9PT1uJiYobj1bXSksdm9pZCAwPT09ciYmKHI9W10pLHZvaWQgMD09PWkmJihpPW51bGwpLHZvaWQgMD09PW8mJihvPW51bGwpLHZvaWQgMD09PWEmJihhPW51bGwpLHRoaXMucGF0aD1lLHRoaXMuY29sbGVjdGlvbkdyb3VwPXQsdGhpcy5vcmRlckJ5PW4sdGhpcy5maWx0ZXJzPXIsdGhpcy5saW1pdD1pLHRoaXMuc3RhcnRBdD1vLHRoaXMuZW5kQXQ9YSx0aGlzLm1lbW9pemVkQ2Fub25pY2FsSWQ9bnVsbH1yZXR1cm4gZS5wcm90b3R5cGUuY2Fub25pY2FsSWQ9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5tZW1vaXplZENhbm9uaWNhbElkKXt2YXIgZT10aGlzLnBhdGguY2Fub25pY2FsU3RyaW5nKCk7bnVsbCE9PXRoaXMuY29sbGVjdGlvbkdyb3VwJiYoZSs9InxjZzoiK3RoaXMuY29sbGVjdGlvbkdyb3VwKSxlKz0ifGY6Ijtmb3IodmFyIHQ9MCxuPXRoaXMuZmlsdGVyczt0PG4ubGVuZ3RoO3QrKyl7ZSs9blt0XS5jYW5vbmljYWxJZCgpLGUrPSIsIn1lKz0ifG9iOiI7Zm9yKHZhciByPTAsaT10aGlzLm9yZGVyQnk7cjxpLmxlbmd0aDtyKyspe2UrPWlbcl0uY2Fub25pY2FsSWQoKSxlKz0iLCJ9cnIodGhpcy5saW1pdCl8fChlKz0ifGw6IixlKz10aGlzLmxpbWl0KSx0aGlzLnN0YXJ0QXQmJihlKz0ifGxiOiIsZSs9dGhpcy5zdGFydEF0LmNhbm9uaWNhbElkKCkpLHRoaXMuZW5kQXQmJihlKz0ifHViOiIsZSs9dGhpcy5lbmRBdC5jYW5vbmljYWxJZCgpKSx0aGlzLm1lbW9pemVkQ2Fub25pY2FsSWQ9ZX1yZXR1cm4gdGhpcy5tZW1vaXplZENhbm9uaWNhbElkfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMucGF0aC5jYW5vbmljYWxTdHJpbmcoKTtyZXR1cm4gbnVsbCE9PXRoaXMuY29sbGVjdGlvbkdyb3VwJiYoZSs9IiBjb2xsZWN0aW9uR3JvdXA9Iit0aGlzLmNvbGxlY3Rpb25Hcm91cCksdGhpcy5maWx0ZXJzLmxlbmd0aD4wJiYoZSs9IiwgZmlsdGVyczogWyIrdGhpcy5maWx0ZXJzLmpvaW4oIiwgIikrIl0iKSxycih0aGlzLmxpbWl0KXx8KGUrPSIsIGxpbWl0OiAiK3RoaXMubGltaXQpLHRoaXMub3JkZXJCeS5sZW5ndGg+MCYmKGUrPSIsIG9yZGVyQnk6IFsiK3RoaXMub3JkZXJCeS5qb2luKCIsICIpKyJdIiksdGhpcy5zdGFydEF0JiYoZSs9Iiwgc3RhcnRBdDogIit0aGlzLnN0YXJ0QXQuY2Fub25pY2FsSWQoKSksdGhpcy5lbmRBdCYmKGUrPSIsIGVuZEF0OiAiK3RoaXMuZW5kQXQuY2Fub25pY2FsSWQoKSksIlRhcmdldCgiK2UrIikifSxlLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKGUpe2lmKHRoaXMubGltaXQhPT1lLmxpbWl0KXJldHVybiExO2lmKHRoaXMub3JkZXJCeS5sZW5ndGghPT1lLm9yZGVyQnkubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgdD0wO3Q8dGhpcy5vcmRlckJ5Lmxlbmd0aDt0KyspaWYoIXRoaXMub3JkZXJCeVt0XS5pc0VxdWFsKGUub3JkZXJCeVt0XSkpcmV0dXJuITE7aWYodGhpcy5maWx0ZXJzLmxlbmd0aCE9PWUuZmlsdGVycy5sZW5ndGgpcmV0dXJuITE7Zm9yKHQ9MDt0PHRoaXMuZmlsdGVycy5sZW5ndGg7dCsrKWlmKCF0aGlzLmZpbHRlcnNbdF0uaXNFcXVhbChlLmZpbHRlcnNbdF0pKXJldHVybiExO3JldHVybiB0aGlzLmNvbGxlY3Rpb25Hcm91cD09PWUuY29sbGVjdGlvbkdyb3VwJiYoISF0aGlzLnBhdGguaXNFcXVhbChlLnBhdGgpJiYoIShudWxsIT09dGhpcy5zdGFydEF0PyF0aGlzLnN0YXJ0QXQuaXNFcXVhbChlLnN0YXJ0QXQpOm51bGwhPT1lLnN0YXJ0QXQpJiYobnVsbCE9PXRoaXMuZW5kQXQ/dGhpcy5lbmRBdC5pc0VxdWFsKGUuZW5kQXQpOm51bGw9PT1lLmVuZEF0KSkpfSxlLnByb3RvdHlwZS5pc0RvY3VtZW50UXVlcnk9ZnVuY3Rpb24oKXtyZXR1cm4gZGUuaXNEb2N1bWVudEtleSh0aGlzLnBhdGgpJiZudWxsPT09dGhpcy5jb2xsZWN0aW9uR3JvdXAmJjA9PT10aGlzLmZpbHRlcnMubGVuZ3RofSxlfSgpOyFmdW5jdGlvbihlKXtlLkZpcnN0PSJGIixlLkxhc3Q9IkwifShvcnx8KG9yPXt9KSk7dmFyIHNyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyLGksbyxhLHMpe3ZvaWQgMD09PXQmJih0PW51bGwpLHZvaWQgMD09PW4mJihuPVtdKSx2b2lkIDA9PT1yJiYocj1bXSksdm9pZCAwPT09aSYmKGk9bnVsbCksdm9pZCAwPT09byYmKG89b3IuRmlyc3QpLHZvaWQgMD09PWEmJihhPW51bGwpLHZvaWQgMD09PXMmJihzPW51bGwpLHRoaXMucGF0aD1lLHRoaXMuY29sbGVjdGlvbkdyb3VwPXQsdGhpcy5leHBsaWNpdE9yZGVyQnk9bix0aGlzLmZpbHRlcnM9cix0aGlzLmxpbWl0PWksdGhpcy5saW1pdFR5cGU9byx0aGlzLnN0YXJ0QXQ9YSx0aGlzLmVuZEF0PXMsdGhpcy5tZW1vaXplZE9yZGVyQnk9bnVsbCx0aGlzLm1lbW9pemVkVGFyZ2V0PW51bGwsdGhpcy5zdGFydEF0JiZ0aGlzLmFzc2VydFZhbGlkQm91bmQodGhpcy5zdGFydEF0KSx0aGlzLmVuZEF0JiZ0aGlzLmFzc2VydFZhbGlkQm91bmQodGhpcy5lbmRBdCl9cmV0dXJuIGUuYXRQYXRoPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvcmRlckJ5Iix7Z2V0OmZ1bmN0aW9uKCl7aWYobnVsbD09PXRoaXMubWVtb2l6ZWRPcmRlckJ5KXt2YXIgZT10aGlzLmdldEluZXF1YWxpdHlGaWx0ZXJGaWVsZCgpLHQ9dGhpcy5nZXRGaXJzdE9yZGVyQnlGaWVsZCgpO2lmKG51bGwhPT1lJiZudWxsPT09dCllLmlzS2V5RmllbGQoKT90aGlzLm1lbW9pemVkT3JkZXJCeT1bd3JdOnRoaXMubWVtb2l6ZWRPcmRlckJ5PVtuZXcgdnIoZSksd3JdO2Vsc2V7dyhudWxsPT09ZXx8bnVsbCE9PXQmJmUuaXNFcXVhbCh0KSwiRmlyc3Qgb3JkZXJCeSBzaG91bGQgbWF0Y2ggaW5lcXVhbGl0eSBmaWVsZC4iKSx0aGlzLm1lbW9pemVkT3JkZXJCeT1bXTtmb3IodmFyIG49ITEscj0wLGk9dGhpcy5leHBsaWNpdE9yZGVyQnk7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07dGhpcy5tZW1vaXplZE9yZGVyQnkucHVzaChvKSxvLmZpZWxkLmlzS2V5RmllbGQoKSYmKG49ITApfWlmKCFuKXt2YXIgYT10aGlzLmV4cGxpY2l0T3JkZXJCeS5sZW5ndGg+MD90aGlzLmV4cGxpY2l0T3JkZXJCeVt0aGlzLmV4cGxpY2l0T3JkZXJCeS5sZW5ndGgtMV0uZGlyOnlyLkFTQ0VORElORzt0aGlzLm1lbW9pemVkT3JkZXJCeS5wdXNoKGE9PT15ci5BU0NFTkRJTkc/d3I6YnIpfX19cmV0dXJuIHRoaXMubWVtb2l6ZWRPcmRlckJ5fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmFkZEZpbHRlcj1mdW5jdGlvbih0KXt3KG51bGw9PXRoaXMuZ2V0SW5lcXVhbGl0eUZpbHRlckZpZWxkKCl8fCEodCBpbnN0YW5jZW9mIGhyKXx8IXQuaXNJbmVxdWFsaXR5KCl8fHQuZmllbGQuaXNFcXVhbCh0aGlzLmdldEluZXF1YWxpdHlGaWx0ZXJGaWVsZCgpKSwiUXVlcnkgbXVzdCBvbmx5IGhhdmUgb25lIGluZXF1YWxpdHkgZmllbGQuIiksdyghdGhpcy5pc0RvY3VtZW50UXVlcnkoKSwiTm8gZmlsdGVyaW5nIGFsbG93ZWQgZm9yIGRvY3VtZW50IHF1ZXJ5Iik7dmFyIG49dGhpcy5maWx0ZXJzLmNvbmNhdChbdF0pO3JldHVybiBuZXcgZSh0aGlzLnBhdGgsdGhpcy5jb2xsZWN0aW9uR3JvdXAsdGhpcy5leHBsaWNpdE9yZGVyQnkuc2xpY2UoKSxuLHRoaXMubGltaXQsdGhpcy5saW1pdFR5cGUsdGhpcy5zdGFydEF0LHRoaXMuZW5kQXQpfSxlLnByb3RvdHlwZS5hZGRPcmRlckJ5PWZ1bmN0aW9uKHQpe3coIXRoaXMuc3RhcnRBdCYmIXRoaXMuZW5kQXQsIkJvdW5kcyBtdXN0IGJlIHNldCBhZnRlciBvcmRlckJ5Iik7dmFyIG49dGhpcy5leHBsaWNpdE9yZGVyQnkuY29uY2F0KFt0XSk7cmV0dXJuIG5ldyBlKHRoaXMucGF0aCx0aGlzLmNvbGxlY3Rpb25Hcm91cCxuLHRoaXMuZmlsdGVycy5zbGljZSgpLHRoaXMubGltaXQsdGhpcy5saW1pdFR5cGUsdGhpcy5zdGFydEF0LHRoaXMuZW5kQXQpfSxlLnByb3RvdHlwZS53aXRoTGltaXRUb0ZpcnN0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0aGlzLnBhdGgsdGhpcy5jb2xsZWN0aW9uR3JvdXAsdGhpcy5leHBsaWNpdE9yZGVyQnkuc2xpY2UoKSx0aGlzLmZpbHRlcnMuc2xpY2UoKSx0LG9yLkZpcnN0LHRoaXMuc3RhcnRBdCx0aGlzLmVuZEF0KX0sZS5wcm90b3R5cGUud2l0aExpbWl0VG9MYXN0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0aGlzLnBhdGgsdGhpcy5jb2xsZWN0aW9uR3JvdXAsdGhpcy5leHBsaWNpdE9yZGVyQnkuc2xpY2UoKSx0aGlzLmZpbHRlcnMuc2xpY2UoKSx0LG9yLkxhc3QsdGhpcy5zdGFydEF0LHRoaXMuZW5kQXQpfSxlLnByb3RvdHlwZS53aXRoU3RhcnRBdD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodGhpcy5wYXRoLHRoaXMuY29sbGVjdGlvbkdyb3VwLHRoaXMuZXhwbGljaXRPcmRlckJ5LnNsaWNlKCksdGhpcy5maWx0ZXJzLnNsaWNlKCksdGhpcy5saW1pdCx0aGlzLmxpbWl0VHlwZSx0LHRoaXMuZW5kQXQpfSxlLnByb3RvdHlwZS53aXRoRW5kQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHRoaXMucGF0aCx0aGlzLmNvbGxlY3Rpb25Hcm91cCx0aGlzLmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLHRoaXMuZmlsdGVycy5zbGljZSgpLHRoaXMubGltaXQsdGhpcy5saW1pdFR5cGUsdGhpcy5zdGFydEF0LHQpfSxlLnByb3RvdHlwZS5hc0NvbGxlY3Rpb25RdWVyeUF0UGF0aD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCxudWxsLHRoaXMuZXhwbGljaXRPcmRlckJ5LnNsaWNlKCksdGhpcy5maWx0ZXJzLnNsaWNlKCksdGhpcy5saW1pdCx0aGlzLmxpbWl0VHlwZSx0aGlzLnN0YXJ0QXQsdGhpcy5lbmRBdCl9LGUucHJvdG90eXBlLm1hdGNoZXNBbGxEb2N1bWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuZmlsdGVycy5sZW5ndGgmJm51bGw9PT10aGlzLmxpbWl0JiZudWxsPT10aGlzLnN0YXJ0QXQmJm51bGw9PXRoaXMuZW5kQXQmJigwPT09dGhpcy5leHBsaWNpdE9yZGVyQnkubGVuZ3RofHwxPT09dGhpcy5leHBsaWNpdE9yZGVyQnkubGVuZ3RoJiZ0aGlzLmV4cGxpY2l0T3JkZXJCeVswXS5maWVsZC5pc0tleUZpZWxkKCkpfSxlLnByb3RvdHlwZS5jYW5vbmljYWxJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvVGFyZ2V0KCkuY2Fub25pY2FsSWQoKSsifGx0OiIrdGhpcy5saW1pdFR5cGV9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIlF1ZXJ5KHRhcmdldD0iK3RoaXMudG9UYXJnZXQoKS50b1N0cmluZygpKyI7IGxpbWl0VHlwZT0iK3RoaXMubGltaXRUeXBlKyIpIn0sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b1RhcmdldCgpLmlzRXF1YWwoZS50b1RhcmdldCgpKSYmdGhpcy5saW1pdFR5cGU9PT1lLmxpbWl0VHlwZX0sZS5wcm90b3R5cGUuZG9jQ29tcGFyYXRvcj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0hMSxyPTAsaT10aGlzLm9yZGVyQnk7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl0sYT1vLmNvbXBhcmUoZSx0KTtpZigwIT09YSlyZXR1cm4gYTtuPW58fG8uZmllbGQuaXNLZXlGaWVsZCgpfXJldHVybiB3KG4sIm9yZGVyQnkgdXNlZCB0aGF0IGRvZXNuJ3QgY29tcGFyZSBvbiBrZXkgZmllbGQiKSwwfSxlLnByb3RvdHlwZS5tYXRjaGVzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1hdGNoZXNQYXRoQW5kQ29sbGVjdGlvbkdyb3VwKGUpJiZ0aGlzLm1hdGNoZXNPcmRlckJ5KGUpJiZ0aGlzLm1hdGNoZXNGaWx0ZXJzKGUpJiZ0aGlzLm1hdGNoZXNCb3VuZHMoZSl9LGUucHJvdG90eXBlLmhhc0xpbWl0VG9GaXJzdD1mdW5jdGlvbigpe3JldHVybiFycih0aGlzLmxpbWl0KSYmdGhpcy5saW1pdFR5cGU9PT1vci5GaXJzdH0sZS5wcm90b3R5cGUuaGFzTGltaXRUb0xhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4hcnIodGhpcy5saW1pdCkmJnRoaXMubGltaXRUeXBlPT09b3IuTGFzdH0sZS5wcm90b3R5cGUuZ2V0Rmlyc3RPcmRlckJ5RmllbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHBsaWNpdE9yZGVyQnkubGVuZ3RoPjA/dGhpcy5leHBsaWNpdE9yZGVyQnlbMF0uZmllbGQ6bnVsbH0sZS5wcm90b3R5cGUuZ2V0SW5lcXVhbGl0eUZpbHRlckZpZWxkPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD10aGlzLmZpbHRlcnM7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV07aWYobiBpbnN0YW5jZW9mIGhyJiZuLmlzSW5lcXVhbGl0eSgpKXJldHVybiBuLmZpZWxkfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5maW5kRmlsdGVyT3BlcmF0b3I9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj10aGlzLmZpbHRlcnM7dDxuLmxlbmd0aDt0Kyspe3ZhciByPW5bdF07aWYociBpbnN0YW5jZW9mIGhyJiZlLmluZGV4T2Yoci5vcCk+PTApcmV0dXJuIHIub3B9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmlzRG9jdW1lbnRRdWVyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvVGFyZ2V0KCkuaXNEb2N1bWVudFF1ZXJ5KCl9LGUucHJvdG90eXBlLmlzQ29sbGVjdGlvbkdyb3VwUXVlcnk9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuY29sbGVjdGlvbkdyb3VwfSxlLnByb3RvdHlwZS50b1RhcmdldD1mdW5jdGlvbigpe2lmKCF0aGlzLm1lbW9pemVkVGFyZ2V0KWlmKHRoaXMubGltaXRUeXBlPT09b3IuRmlyc3QpdGhpcy5tZW1vaXplZFRhcmdldD1uZXcgYXIodGhpcy5wYXRoLHRoaXMuY29sbGVjdGlvbkdyb3VwLHRoaXMub3JkZXJCeSx0aGlzLmZpbHRlcnMsdGhpcy5saW1pdCx0aGlzLnN0YXJ0QXQsdGhpcy5lbmRBdCk7ZWxzZXtmb3IodmFyIGU9W10sdD0wLG49dGhpcy5vcmRlckJ5O3Q8bi5sZW5ndGg7dCsrKXt2YXIgcj1uW3RdLGk9ci5kaXI9PT15ci5ERVNDRU5ESU5HP3lyLkFTQ0VORElORzp5ci5ERVNDRU5ESU5HO2UucHVzaChuZXcgdnIoci5maWVsZCxpKSl9dmFyIG89dGhpcy5lbmRBdD9uZXcgZ3IodGhpcy5lbmRBdC5wb3NpdGlvbiwhdGhpcy5lbmRBdC5iZWZvcmUpOm51bGwsYT10aGlzLnN0YXJ0QXQ/bmV3IGdyKHRoaXMuc3RhcnRBdC5wb3NpdGlvbiwhdGhpcy5zdGFydEF0LmJlZm9yZSk6bnVsbDt0aGlzLm1lbW9pemVkVGFyZ2V0PW5ldyBhcih0aGlzLnBhdGgsdGhpcy5jb2xsZWN0aW9uR3JvdXAsZSx0aGlzLmZpbHRlcnMsdGhpcy5saW1pdCxvLGEpfXJldHVybiB0aGlzLm1lbW9pemVkVGFyZ2V0fSxlLnByb3RvdHlwZS5tYXRjaGVzUGF0aEFuZENvbGxlY3Rpb25Hcm91cD1mdW5jdGlvbihlKXt2YXIgdD1lLmtleS5wYXRoO3JldHVybiBudWxsIT09dGhpcy5jb2xsZWN0aW9uR3JvdXA/ZS5rZXkuaGFzQ29sbGVjdGlvbklkKHRoaXMuY29sbGVjdGlvbkdyb3VwKSYmdGhpcy5wYXRoLmlzUHJlZml4T2YodCk6ZGUuaXNEb2N1bWVudEtleSh0aGlzLnBhdGgpP3RoaXMucGF0aC5pc0VxdWFsKHQpOnRoaXMucGF0aC5pc0ltbWVkaWF0ZVBhcmVudE9mKHQpfSxlLnByb3RvdHlwZS5tYXRjaGVzT3JkZXJCeT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXRoaXMuZXhwbGljaXRPcmRlckJ5O3Q8bi5sZW5ndGg7dCsrKXt2YXIgcj1uW3RdO2lmKCFyLmZpZWxkLmlzS2V5RmllbGQoKSYmbnVsbD09PWUuZmllbGQoci5maWVsZCkpcmV0dXJuITF9cmV0dXJuITB9LGUucHJvdG90eXBlLm1hdGNoZXNGaWx0ZXJzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49dGhpcy5maWx0ZXJzO3Q8bi5sZW5ndGg7dCsrKXtpZighblt0XS5tYXRjaGVzKGUpKXJldHVybiExfXJldHVybiEwfSxlLnByb3RvdHlwZS5tYXRjaGVzQm91bmRzPWZ1bmN0aW9uKGUpe3JldHVybiEodGhpcy5zdGFydEF0JiYhdGhpcy5zdGFydEF0LnNvcnRzQmVmb3JlRG9jdW1lbnQodGhpcy5vcmRlckJ5LGUpKSYmKCF0aGlzLmVuZEF0fHwhdGhpcy5lbmRBdC5zb3J0c0JlZm9yZURvY3VtZW50KHRoaXMub3JkZXJCeSxlKSl9LGUucHJvdG90eXBlLmFzc2VydFZhbGlkQm91bmQ9ZnVuY3Rpb24oZSl7dyhlLnBvc2l0aW9uLmxlbmd0aDw9dGhpcy5vcmRlckJ5Lmxlbmd0aCwiQm91bmQgaXMgbG9uZ2VyIHRoYW4gb3JkZXJCeSIpfSxlfSgpLHVyPWZ1bmN0aW9uKCl7fSxjcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5uYW1lPWV9cmV0dXJuIGUuZnJvbVN0cmluZz1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSI8IjpyZXR1cm4gZS5MRVNTX1RIQU47Y2FzZSI8PSI6cmV0dXJuIGUuTEVTU19USEFOX09SX0VRVUFMO2Nhc2UiPT0iOnJldHVybiBlLkVRVUFMO2Nhc2UiPj0iOnJldHVybiBlLkdSRUFURVJfVEhBTl9PUl9FUVVBTDtjYXNlIj4iOnJldHVybiBlLkdSRUFURVJfVEhBTjtjYXNlImFycmF5LWNvbnRhaW5zIjpyZXR1cm4gZS5BUlJBWV9DT05UQUlOUztjYXNlImluIjpyZXR1cm4gZS5JTjtjYXNlImFycmF5LWNvbnRhaW5zLWFueSI6cmV0dXJuIGUuQVJSQVlfQ09OVEFJTlNfQU5ZO2RlZmF1bHQ6cmV0dXJuIHYoIlVua25vd24gRmllbGRGaWx0ZXIgb3BlcmF0b3I6ICIrdCl9fSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWV9LGUucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmFtZT09PWUubmFtZX0sZS5MRVNTX1RIQU49bmV3IGUoIjwiKSxlLkxFU1NfVEhBTl9PUl9FUVVBTD1uZXcgZSgiPD0iKSxlLkVRVUFMPW5ldyBlKCI9PSIpLGUuR1JFQVRFUl9USEFOPW5ldyBlKCI+IiksZS5HUkVBVEVSX1RIQU5fT1JfRVFVQUw9bmV3IGUoIj49IiksZS5BUlJBWV9DT05UQUlOUz1uZXcgZSgiYXJyYXktY29udGFpbnMiKSxlLklOPW5ldyBlKCJpbiIpLGUuQVJSQVlfQ09OVEFJTlNfQU5ZPW5ldyBlKCJhcnJheS1jb250YWlucy1hbnkiKSxlfSgpLGhyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuLHIpe3ZhciBpPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5maWVsZD10LGkub3A9bixpLnZhbHVlPXIsaX1yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0LmNyZWF0ZT1mdW5jdGlvbihlLG4scil7aWYoZS5pc0tleUZpZWxkKCkpcmV0dXJuIG49PT1jci5JTj8odyhyIGluc3RhbmNlb2YgenQsIkNvbXBhcmluZyBvbiBrZXkgd2l0aCBJTiwgYnV0IGZpbHRlciB2YWx1ZSBub3QgYW4gQXJyYXlWYWx1ZSIpLHcoci5pbnRlcm5hbFZhbHVlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFV0fSkpLCJDb21wYXJpbmcgb24ga2V5IHdpdGggSU4sIGJ1dCBhbiBhcnJheSB2YWx1ZSB3YXMgbm90IGEgUmVmVmFsdWUiKSxuZXcgZnIoZSxyKSk6KHcociBpbnN0YW5jZW9mIFV0LCJDb21wYXJpbmcgb24ga2V5LCBidXQgZmlsdGVyIHZhbHVlIG5vdCBhIFJlZlZhbHVlIiksdyhuIT09Y3IuQVJSQVlfQ09OVEFJTlMmJm4hPT1jci5BUlJBWV9DT05UQUlOU19BTlksIiciK24udG9TdHJpbmcoKSsiJyBxdWVyaWVzIGRvbid0IG1ha2Ugc2Vuc2Ugb24gZG9jdW1lbnQga2V5cy4iKSxuZXcgbHIoZSxuLHIpKTtpZihyLmlzRXF1YWwoUnQuSU5TVEFOQ0UpKXtpZihuIT09Y3IuRVFVQUwpdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJJbnZhbGlkIHF1ZXJ5LiBOdWxsIHN1cHBvcnRzIG9ubHkgZXF1YWxpdHkgY29tcGFyaXNvbnMuIik7cmV0dXJuIG5ldyB0KGUsbixyKX1pZihyLmlzRXF1YWwoUHQuTkFOKSl7aWYobiE9PWNyLkVRVUFMKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiSW52YWxpZCBxdWVyeS4gTmFOIHN1cHBvcnRzIG9ubHkgZXF1YWxpdHkgY29tcGFyaXNvbnMuIik7cmV0dXJuIG5ldyB0KGUsbixyKX1yZXR1cm4gbj09PWNyLkFSUkFZX0NPTlRBSU5TP25ldyBkcihlLHIpOm49PT1jci5JTj8odyhyIGluc3RhbmNlb2YgenQsIklOIGZpbHRlciBoYXMgaW52YWxpZCB2YWx1ZTogIityLnRvU3RyaW5nKCkpLG5ldyBwcihlLHIpKTpuPT09Y3IuQVJSQVlfQ09OVEFJTlNfQU5ZPyh3KHIgaW5zdGFuY2VvZiB6dCwiQVJSQVlfQ09OVEFJTlNfQU5ZIGZpbHRlciBoYXMgaW52YWxpZCB2YWx1ZTogIityLnRvU3RyaW5nKCkpLG5ldyBtcihlLHIpKTpuZXcgdChlLG4scil9LHQucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maWVsZCh0aGlzLmZpZWxkKTtyZXR1cm4gbnVsbCE9PXQmJnRoaXMudmFsdWUudHlwZU9yZGVyPT09dC50eXBlT3JkZXImJnRoaXMubWF0Y2hlc0NvbXBhcmlzb24odC5jb21wYXJlVG8odGhpcy52YWx1ZSkpfSx0LnByb3RvdHlwZS5tYXRjaGVzQ29tcGFyaXNvbj1mdW5jdGlvbihlKXtzd2l0Y2godGhpcy5vcCl7Y2FzZSBjci5MRVNTX1RIQU46cmV0dXJuIGU8MDtjYXNlIGNyLkxFU1NfVEhBTl9PUl9FUVVBTDpyZXR1cm4gZTw9MDtjYXNlIGNyLkVRVUFMOnJldHVybiAwPT09ZTtjYXNlIGNyLkdSRUFURVJfVEhBTjpyZXR1cm4gZT4wO2Nhc2UgY3IuR1JFQVRFUl9USEFOX09SX0VRVUFMOnJldHVybiBlPj0wO2RlZmF1bHQ6cmV0dXJuIHYoIlVua25vd24gRmllbGRGaWx0ZXIgb3BlcmF0b3I6ICIrdGhpcy5vcCl9fSx0LnByb3RvdHlwZS5pc0luZXF1YWxpdHk9ZnVuY3Rpb24oKXtyZXR1cm5bY3IuTEVTU19USEFOLGNyLkxFU1NfVEhBTl9PUl9FUVVBTCxjci5HUkVBVEVSX1RIQU4sY3IuR1JFQVRFUl9USEFOX09SX0VRVUFMXS5pbmRleE9mKHRoaXMub3ApPj0wfSx0LnByb3RvdHlwZS5jYW5vbmljYWxJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpK3RoaXMub3AudG9TdHJpbmcoKSt0aGlzLnZhbHVlLnRvU3RyaW5nKCl9LHQucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiYodGhpcy5vcC5pc0VxdWFsKGUub3ApJiZ0aGlzLmZpZWxkLmlzRXF1YWwoZS5maWVsZCkmJnRoaXMudmFsdWUuaXNFcXVhbChlLnZhbHVlKSl9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmllbGQuY2Fub25pY2FsU3RyaW5nKCkrIiAiK3RoaXMub3ArIiAiK3RoaXMudmFsdWUudmFsdWUoKX0sdH0odXIpLGxyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBhLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy52YWx1ZSxuPWRlLmNvbXBhcmF0b3IoZS5rZXksdC5rZXkpO3JldHVybiB0aGlzLm1hdGNoZXNDb21wYXJpc29uKG4pfSx0fShociksZnI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciByPWUuY2FsbCh0aGlzLHQsY3IuSU4sbil8fHRoaXM7cmV0dXJuIHIudmFsdWU9bixyfXJldHVybiBhLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudmFsdWUuaW50ZXJuYWxWYWx1ZS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gZS5rZXkuaXNFcXVhbCh0LmtleSl9KSl9LHR9KGhyKSxkcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsY3IuQVJSQVlfQ09OVEFJTlMsbil8fHRoaXN9cmV0dXJuIGEuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUubWF0Y2hlcz1mdW5jdGlvbihlKXt2YXIgdD1lLmZpZWxkKHRoaXMuZmllbGQpO3JldHVybiB0IGluc3RhbmNlb2YgenQmJnQuY29udGFpbnModGhpcy52YWx1ZSl9LHR9KGhyKSxwcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMsdCxjci5JTixuKXx8dGhpcztyZXR1cm4gci52YWx1ZT1uLHJ9cmV0dXJuIGEuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUubWF0Y2hlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnZhbHVlLG49ZS5maWVsZCh0aGlzLmZpZWxkKTtyZXR1cm4gbnVsbCE9PW4mJnQuY29udGFpbnMobil9LHR9KGhyKSxtcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMsdCxjci5BUlJBWV9DT05UQUlOU19BTlksbil8fHRoaXM7cmV0dXJuIHIudmFsdWU9bixyfXJldHVybiBhLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWUuZmllbGQodGhpcy5maWVsZCk7cmV0dXJuIG4gaW5zdGFuY2VvZiB6dCYmbi5pbnRlcm5hbFZhbHVlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnZhbHVlLmNvbnRhaW5zKGUpfSkpfSx0fShocikseXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMubmFtZT1lfXJldHVybiBlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWV9LGUuQVNDRU5ESU5HPW5ldyBlKCJhc2MiKSxlLkRFU0NFTkRJTkc9bmV3IGUoImRlc2MiKSxlfSgpLGdyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMucG9zaXRpb249ZSx0aGlzLmJlZm9yZT10fXJldHVybiBlLnByb3RvdHlwZS5jYW5vbmljYWxJZD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmJlZm9yZT8iYjoiOiJhOiIsdD0wLG49dGhpcy5wb3NpdGlvbjt0PG4ubGVuZ3RoO3QrKyl7ZSs9blt0XS50b1N0cmluZygpfXJldHVybiBlfSxlLnByb3RvdHlwZS5zb3J0c0JlZm9yZURvY3VtZW50PWZ1bmN0aW9uKGUsdCl7dyh0aGlzLnBvc2l0aW9uLmxlbmd0aDw9ZS5sZW5ndGgsIkJvdW5kIGhhcyBtb3JlIGNvbXBvbmVudHMgdGhhbiBxdWVyeSdzIG9yZGVyQnkiKTtmb3IodmFyIG49MCxyPTA7cjx0aGlzLnBvc2l0aW9uLmxlbmd0aDtyKyspe3ZhciBpPWVbcl0sbz10aGlzLnBvc2l0aW9uW3JdO2lmKGkuZmllbGQuaXNLZXlGaWVsZCgpKXcobyBpbnN0YW5jZW9mIFV0LCJCb3VuZCBoYXMgYSBub24ta2V5IHZhbHVlIHdoZXJlIHRoZSBrZXkgcGF0aCBpcyBiZWluZyB1c2VkLiIpLG49ZGUuY29tcGFyYXRvcihvLmtleSx0LmtleSk7ZWxzZXt2YXIgYT10LmZpZWxkKGkuZmllbGQpO3cobnVsbCE9PWEsIkZpZWxkIHNob3VsZCBleGlzdCBzaW5jZSBkb2N1bWVudCBtYXRjaGVkIHRoZSBvcmRlckJ5IGFscmVhZHkuIiksbj1vLmNvbXBhcmVUbyhhKX1pZihpLmRpcj09PXlyLkRFU0NFTkRJTkcmJihuKj0tMSksMCE9PW4pYnJlYWt9cmV0dXJuIHRoaXMuYmVmb3JlP248PTA6bjwwfSxlLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lKXJldHVybiExO2lmKHRoaXMuYmVmb3JlIT09ZS5iZWZvcmV8fHRoaXMucG9zaXRpb24ubGVuZ3RoIT09ZS5wb3NpdGlvbi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciB0PTA7dDx0aGlzLnBvc2l0aW9uLmxlbmd0aDt0Kyspe3ZhciBuPXRoaXMucG9zaXRpb25bdF0scj1lLnBvc2l0aW9uW3RdO2lmKCFuLmlzRXF1YWwocikpcmV0dXJuITF9cmV0dXJuITB9LGV9KCksdnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5maWVsZD1lLHZvaWQgMD09PXQmJih0PXlyLkFTQ0VORElORyksdGhpcy5kaXI9dCx0aGlzLmlzS2V5T3JkZXJCeT1lLmlzS2V5RmllbGQoKX1yZXR1cm4gZS5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuaXNLZXlPcmRlckJ5P0d0LmNvbXBhcmVCeUtleShlLHQpOkd0LmNvbXBhcmVCeUZpZWxkKHRoaXMuZmllbGQsZSx0KTtzd2l0Y2godGhpcy5kaXIpe2Nhc2UgeXIuQVNDRU5ESU5HOnJldHVybiBuO2Nhc2UgeXIuREVTQ0VORElORzpyZXR1cm4tMSpuO2RlZmF1bHQ6cmV0dXJuIHYoIlVua25vd24gZGlyZWN0aW9uOiAiK3RoaXMuZGlyKX19LGUucHJvdG90eXBlLmNhbm9uaWNhbElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmllbGQuY2Fub25pY2FsU3RyaW5nKCkrdGhpcy5kaXIudG9TdHJpbmcoKX0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSsiICgiK3RoaXMuZGlyKyIpIn0sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kaXI9PT1lLmRpciYmdGhpcy5maWVsZC5pc0VxdWFsKGUuZmllbGQpfSxlfSgpLHdyPW5ldyB2cihmZS5rZXlGaWVsZCgpLHlyLkFTQ0VORElORyksYnI9bmV3IHZyKGZlLmtleUZpZWxkKCkseXIuREVTQ0VORElORyksVHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5zZXRMb2NhbERvY3VtZW50c1ZpZXc9ZnVuY3Rpb24oZSl7dGhpcy5sb2NhbERvY3VtZW50c1ZpZXc9ZX0sZS5wcm90b3R5cGUuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeT1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz10aGlzO3JldHVybiB3KHZvaWQgMCE9PXRoaXMubG9jYWxEb2N1bWVudHNWaWV3LCJzZXRMb2NhbERvY3VtZW50c1ZpZXcoKSBub3QgY2FsbGVkIiksdC5tYXRjaGVzQWxsRG9jdW1lbnRzKCk/dGhpcy5leGVjdXRlRnVsbENvbGxlY3Rpb25TY2FuKGUsdCk6bi5pc0VxdWFsKERlLk1JTik/dGhpcy5leGVjdXRlRnVsbENvbGxlY3Rpb25TY2FuKGUsdCk6dGhpcy5sb2NhbERvY3VtZW50c1ZpZXcuZ2V0RG9jdW1lbnRzKGUscikubmV4dCgoZnVuY3Rpb24oYSl7dmFyIHM9by5hcHBseVF1ZXJ5KHQsYSk7cmV0dXJuKHQuaGFzTGltaXRUb0ZpcnN0KCl8fHQuaGFzTGltaXRUb0xhc3QoKSkmJm8ubmVlZHNSZWZpbGwodC5saW1pdFR5cGUscyxyLG4pP28uZXhlY3V0ZUZ1bGxDb2xsZWN0aW9uU2NhbihlLHQpOihkKCk8PWkuREVCVUcmJm0oIkluZGV4RnJlZVF1ZXJ5RW5naW5lIiwiUmUtdXNpbmcgcHJldmlvdXMgcmVzdWx0IGZyb20gJXMgdG8gZXhlY3V0ZSBxdWVyeTogJXMiLG4udG9TdHJpbmcoKSx0LnRvU3RyaW5nKCkpLG8ubG9jYWxEb2N1bWVudHNWaWV3LmdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSx0LG4pLm5leHQoKGZ1bmN0aW9uKGUpe3JldHVybiBzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2U9ZS5pbnNlcnQodC5rZXksdCl9KSksZX0pKSl9KSl9LGUucHJvdG90eXBlLmFwcGx5UXVlcnk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgUmUoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZG9jQ29tcGFyYXRvcih0LG4pfSkpO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQscil7ciBpbnN0YW5jZW9mIEd0JiZlLm1hdGNoZXMocikmJihuPW4uYWRkKHIpKX0pKSxufSxlLnByb3RvdHlwZS5uZWVkc1JlZmlsbD1mdW5jdGlvbihlLHQsbixyKXtpZihuLnNpemUhPT10LnNpemUpcmV0dXJuITA7dmFyIGk9ZT09PW9yLkZpcnN0P3QubGFzdCgpOnQuZmlyc3QoKTtyZXR1cm4hIWkmJihpLmhhc1BlbmRpbmdXcml0ZXN8fGkudmVyc2lvbi5jb21wYXJlVG8ocik+MCl9LGUucHJvdG90eXBlLmV4ZWN1dGVGdWxsQ29sbGVjdGlvblNjYW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZCgpPD1pLkRFQlVHJiZtKCJJbmRleEZyZWVRdWVyeUVuZ2luZSIsIlVzaW5nIGZ1bGwgY29sbGVjdGlvbiBzY2FuIHRvIGV4ZWN1dGUgcXVlcnk6ICVzIix0LnRvU3RyaW5nKCkpLHRoaXMubG9jYWxEb2N1bWVudHNWaWV3LmdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSx0LERlLk1JTil9LGV9KCksU3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5pbmRleE1hbmFnZXI9ZSx0aGlzLnJlZmVyZW5jZURlbGVnYXRlPXQsdGhpcy5tdXRhdGlvblF1ZXVlPVtdLHRoaXMubmV4dEJhdGNoSWQ9MSx0aGlzLmxhc3RTdHJlYW1Ub2tlbj1UKCksdGhpcy5iYXRjaGVzQnlEb2N1bWVudEtleT1uZXcgUmUoeG4uY29tcGFyZUJ5S2V5KX1yZXR1cm4gZS5wcm90b3R5cGUuY2hlY2tFbXB0eT1mdW5jdGlvbihlKXtyZXR1cm4gR2UucmVzb2x2ZSgwPT09dGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aCl9LGUucHJvdG90eXBlLmFja25vd2xlZGdlQmF0Y2g9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQuYmF0Y2hJZCxpPXRoaXMuaW5kZXhPZkV4aXN0aW5nQmF0Y2hJZChyLCJhY2tub3dsZWRnZWQiKTt3KDA9PT1pLCJDYW4gb25seSBhY2tub3dsZWRnZSB0aGUgZmlyc3QgYmF0Y2ggaW4gdGhlIG11dGF0aW9uIHF1ZXVlIik7dmFyIG89dGhpcy5tdXRhdGlvblF1ZXVlW2ldO3JldHVybiB3KHI9PT1vLmJhdGNoSWQsIlF1ZXVlIG9yZGVyaW5nIGZhaWx1cmU6IGV4cGVjdGVkIGJhdGNoICIrcisiLCBnb3QgYmF0Y2ggIitvLmJhdGNoSWQpLHRoaXMubGFzdFN0cmVhbVRva2VuPW4sR2UucmVzb2x2ZSgpfSxlLnByb3RvdHlwZS5nZXRMYXN0U3RyZWFtVG9rZW49ZnVuY3Rpb24oZSl7cmV0dXJuIEdlLnJlc29sdmUodGhpcy5sYXN0U3RyZWFtVG9rZW4pfSxlLnByb3RvdHlwZS5zZXRMYXN0U3RyZWFtVG9rZW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5sYXN0U3RyZWFtVG9rZW49dCxHZS5yZXNvbHZlKCl9LGUucHJvdG90eXBlLmFkZE11dGF0aW9uQmF0Y2g9ZnVuY3Rpb24oZSx0LG4scil7dygwIT09ci5sZW5ndGgsIk11dGF0aW9uIGJhdGNoZXMgc2hvdWxkIG5vdCBiZSBlbXB0eSIpO3ZhciBpPXRoaXMubmV4dEJhdGNoSWQ7KHRoaXMubmV4dEJhdGNoSWQrKyx0aGlzLm11dGF0aW9uUXVldWUubGVuZ3RoPjApJiZ3KHRoaXMubXV0YXRpb25RdWV1ZVt0aGlzLm11dGF0aW9uUXVldWUubGVuZ3RoLTFdLmJhdGNoSWQ8aSwiTXV0YXRpb24gYmF0Y2hJRHMgbXVzdCBiZSBtb25vdG9uaWNhbGx5IGluY3JlYXNpbmcgb3JkZXIiKTt2YXIgbz1uZXcgemUoaSx0LG4scik7dGhpcy5tdXRhdGlvblF1ZXVlLnB1c2gobyk7Zm9yKHZhciBhPTAscz1yO2E8cy5sZW5ndGg7YSsrKXt2YXIgdT1zW2FdO3RoaXMuYmF0Y2hlc0J5RG9jdW1lbnRLZXk9dGhpcy5iYXRjaGVzQnlEb2N1bWVudEtleS5hZGQobmV3IHhuKHUua2V5LGkpKSx0aGlzLmluZGV4TWFuYWdlci5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleChlLHUua2V5LnBhdGgucG9wTGFzdCgpKX1yZXR1cm4gR2UucmVzb2x2ZShvKX0sZS5wcm90b3R5cGUubG9va3VwTXV0YXRpb25CYXRjaD1mdW5jdGlvbihlLHQpe3JldHVybiBHZS5yZXNvbHZlKHRoaXMuZmluZE11dGF0aW9uQmF0Y2godCkpfSxlLnByb3RvdHlwZS5sb29rdXBNdXRhdGlvbktleXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmZpbmRNdXRhdGlvbkJhdGNoKHQpO3JldHVybiB3KG51bGwhPW4sIkZhaWxlZCB0byBmaW5kIGxvY2FsIG11dGF0aW9uIGJhdGNoLiIpLEdlLnJlc29sdmUobi5rZXlzKCkpfSxlLnByb3RvdHlwZS5nZXROZXh0TXV0YXRpb25CYXRjaEFmdGVyQmF0Y2hJZD1mdW5jdGlvbihlLHQpe3ZhciBuPXQrMSxyPXRoaXMuaW5kZXhPZkJhdGNoSWQobiksaT1yPDA/MDpyO3JldHVybiBHZS5yZXNvbHZlKHRoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGg+aT90aGlzLm11dGF0aW9uUXVldWVbaV06bnVsbCl9LGUucHJvdG90eXBlLmdldEhpZ2hlc3RVbmFja25vd2xlZGdlZEJhdGNoSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gR2UucmVzb2x2ZSgwPT09dGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aD8tMTp0aGlzLm5leHRCYXRjaElkLTEpfSxlLnByb3RvdHlwZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIEdlLnJlc29sdmUodGhpcy5tdXRhdGlvblF1ZXVlLnNsaWNlKCkpfSxlLnByb3RvdHlwZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj1uZXcgeG4odCwwKSxpPW5ldyB4bih0LE51bWJlci5QT1NJVElWRV9JTkZJTklUWSksbz1bXTtyZXR1cm4gdGhpcy5iYXRjaGVzQnlEb2N1bWVudEtleS5mb3JFYWNoSW5SYW5nZShbcixpXSwoZnVuY3Rpb24oZSl7dyh0LmlzRXF1YWwoZS5rZXkpLCJTaG91bGQgb25seSBpdGVyYXRlIG92ZXIgYSBzaW5nbGUga2V5J3MgYmF0Y2hlcyIpO3ZhciByPW4uZmluZE11dGF0aW9uQmF0Y2goZS50YXJnZXRPckJhdGNoSWQpO3cobnVsbCE9PXIsIkJhdGNoZXMgaW4gdGhlIGluZGV4IG11c3QgZXhpc3QgaW4gdGhlIG1haW4gdGFibGUiKSxvLnB1c2gocil9KSksR2UucmVzb2x2ZShvKX0sZS5wcm90b3R5cGUuZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXlzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPW5ldyBSZShYKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1uZXcgeG4oZSwwKSxpPW5ldyB4bihlLE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7bi5iYXRjaGVzQnlEb2N1bWVudEtleS5mb3JFYWNoSW5SYW5nZShbdCxpXSwoZnVuY3Rpb24odCl7dyhlLmlzRXF1YWwodC5rZXkpLCJGb3IgZWFjaCBrZXksIHNob3VsZCBvbmx5IGl0ZXJhdGUgb3ZlciBhIHNpbmdsZSBrZXkncyBiYXRjaGVzIikscj1yLmFkZCh0LnRhcmdldE9yQmF0Y2hJZCl9KSl9KSksR2UucmVzb2x2ZSh0aGlzLmZpbmRNdXRhdGlvbkJhdGNoZXMocikpfSxlLnByb3RvdHlwZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdRdWVyeT1mdW5jdGlvbihlLHQpe3coIXQuaXNDb2xsZWN0aW9uR3JvdXBRdWVyeSgpLCJDb2xsZWN0aW9uR3JvdXAgcXVlcmllcyBzaG91bGQgYmUgaGFuZGxlZCBpbiBMb2NhbERvY3VtZW50c1ZpZXciKTt2YXIgbj10LnBhdGgscj1uLmxlbmd0aCsxLGk9bjtkZS5pc0RvY3VtZW50S2V5KGkpfHwoaT1pLmNoaWxkKCIiKSk7dmFyIG89bmV3IHhuKG5ldyBkZShpKSwwKSxhPW5ldyBSZShYKTtyZXR1cm4gdGhpcy5iYXRjaGVzQnlEb2N1bWVudEtleS5mb3JFYWNoV2hpbGUoKGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5LnBhdGg7cmV0dXJuISFuLmlzUHJlZml4T2YodCkmJih0Lmxlbmd0aD09PXImJihhPWEuYWRkKGUudGFyZ2V0T3JCYXRjaElkKSksITApfSksbyksR2UucmVzb2x2ZSh0aGlzLmZpbmRNdXRhdGlvbkJhdGNoZXMoYSkpfSxlLnByb3RvdHlwZS5maW5kTXV0YXRpb25CYXRjaGVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1bXTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj10LmZpbmRNdXRhdGlvbkJhdGNoKGUpO251bGwhPT1yJiZuLnB1c2gocil9KSksbn0sZS5wcm90b3R5cGUucmVtb3ZlTXV0YXRpb25CYXRjaD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dygwPT09dGhpcy5pbmRleE9mRXhpc3RpbmdCYXRjaElkKHQuYmF0Y2hJZCwicmVtb3ZlZCIpLCJDYW4gb25seSByZW1vdmUgdGhlIGZpcnN0IGVudHJ5IG9mIHRoZSBtdXRhdGlvbiBxdWV1ZSIpLHRoaXMubXV0YXRpb25RdWV1ZS5zaGlmdCgpO3ZhciByPXRoaXMuYmF0Y2hlc0J5RG9jdW1lbnRLZXk7cmV0dXJuIEdlLmZvckVhY2godC5tdXRhdGlvbnMsKGZ1bmN0aW9uKGkpe3ZhciBvPW5ldyB4bihpLmtleSx0LmJhdGNoSWQpO3JldHVybiByPXIuZGVsZXRlKG8pLG4ucmVmZXJlbmNlRGVsZWdhdGUucmVtb3ZlTXV0YXRpb25SZWZlcmVuY2UoZSxpLmtleSl9KSkubmV4dCgoZnVuY3Rpb24oKXtuLmJhdGNoZXNCeURvY3VtZW50S2V5PXJ9KSl9LGUucHJvdG90eXBlLnJlbW92ZUNhY2hlZE11dGF0aW9uS2V5cz1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLmNvbnRhaW5zS2V5PWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHhuKHQsMCkscj10aGlzLmJhdGNoZXNCeURvY3VtZW50S2V5LmZpcnN0QWZ0ZXJPckVxdWFsKG4pO3JldHVybiBHZS5yZXNvbHZlKHQuaXNFcXVhbChyJiZyLmtleSkpfSxlLnByb3RvdHlwZS5wZXJmb3JtQ29uc2lzdGVuY3lDaGVjaz1mdW5jdGlvbihlKXtyZXR1cm4gMD09PXRoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGgmJncodGhpcy5iYXRjaGVzQnlEb2N1bWVudEtleS5pc0VtcHR5KCksIkRvY3VtZW50IGxlYWsgLS0gZGV0ZWN0ZWQgZGFuZ2xpbmcgbXV0YXRpb24gcmVmZXJlbmNlcyB3aGVuIHF1ZXVlIGlzIGVtcHR5LiIpLEdlLnJlc29sdmUoKX0sZS5wcm90b3R5cGUuaW5kZXhPZkV4aXN0aW5nQmF0Y2hJZD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuaW5kZXhPZkJhdGNoSWQoZSk7cmV0dXJuIHcobj49MCYmbjx0aGlzLm11dGF0aW9uUXVldWUubGVuZ3RoLCJCYXRjaGVzIG11c3QgZXhpc3QgdG8gYmUgIit0KSxufSxlLnByb3RvdHlwZS5pbmRleE9mQmF0Y2hJZD1mdW5jdGlvbihlKXtyZXR1cm4gMD09PXRoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGg/MDplLXRoaXMubXV0YXRpb25RdWV1ZVswXS5iYXRjaElkfSxlLnByb3RvdHlwZS5maW5kTXV0YXRpb25CYXRjaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmluZGV4T2ZCYXRjaElkKGUpO2lmKHQ8MHx8dD49dGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgbj10aGlzLm11dGF0aW9uUXVldWVbdF07cmV0dXJuIHcobi5iYXRjaElkPT09ZSwiSWYgZm91bmQgYmF0Y2ggbXVzdCBtYXRjaCIpLG59LGV9KCk7dmFyIEVyLElyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuaW5kZXhNYW5hZ2VyPWUsdGhpcy5zaXplcj10LHRoaXMuZG9jcz1uZXcgX2UoZGUuY29tcGFyYXRvciksdGhpcy5zaXplPTB9cmV0dXJuIGUucHJvdG90eXBlLmFkZEVudHJ5PWZ1bmN0aW9uKGUsdCxuKXt3KCFuLmlzRXF1YWwoRGUuTUlOKSwiQ2Fubm90IGFkZCBhIGRvY3VtZW50IHdpdGggYSByZWFkIHRpbWUgb2YgemVybyIpO3ZhciByPXQua2V5LGk9dGhpcy5kb2NzLmdldChyKSxvPWk/aS5zaXplOjAsYT10aGlzLnNpemVyKHQpO3JldHVybiB0aGlzLmRvY3M9dGhpcy5kb2NzLmluc2VydChyLHttYXliZURvY3VtZW50OnQsc2l6ZTphLHJlYWRUaW1lOm59KSx0aGlzLnNpemUrPWEtbyx0aGlzLmluZGV4TWFuYWdlci5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleChlLHIucGF0aC5wb3BMYXN0KCkpfSxlLnByb3RvdHlwZS5yZW1vdmVFbnRyeT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmRvY3MuZ2V0KGUpO3QmJih0aGlzLmRvY3M9dGhpcy5kb2NzLnJlbW92ZShlKSx0aGlzLnNpemUtPXQuc2l6ZSl9LGUucHJvdG90eXBlLmdldEVudHJ5PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5kb2NzLmdldCh0KTtyZXR1cm4gR2UucmVzb2x2ZShuP24ubWF5YmVEb2N1bWVudDpudWxsKX0sZS5wcm90b3R5cGUuZ2V0RW50cmllcz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj14ZSgpO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PW4uZG9jcy5nZXQoZSk7cj1yLmluc2VydChlLHQ/dC5tYXliZURvY3VtZW50Om51bGwpfSkpLEdlLnJlc29sdmUocil9LGUucHJvdG90eXBlLmdldERvY3VtZW50c01hdGNoaW5nUXVlcnk9ZnVuY3Rpb24oZSx0LG4pe3coIXQuaXNDb2xsZWN0aW9uR3JvdXBRdWVyeSgpLCJDb2xsZWN0aW9uR3JvdXAgcXVlcmllcyBzaG91bGQgYmUgaGFuZGxlZCBpbiBMb2NhbERvY3VtZW50c1ZpZXciKTtmb3IodmFyIHI9RmUoKSxpPW5ldyBkZSh0LnBhdGguY2hpbGQoIiIpKSxvPXRoaXMuZG9jcy5nZXRJdGVyYXRvckZyb20oaSk7by5oYXNOZXh0KCk7KXt2YXIgYT1vLmdldE5leHQoKSxzPWEua2V5LHU9YS52YWx1ZSxjPXUubWF5YmVEb2N1bWVudCxoPXUucmVhZFRpbWU7aWYoIXQucGF0aC5pc1ByZWZpeE9mKHMucGF0aCkpYnJlYWs7aC5jb21wYXJlVG8obik8PTB8fGMgaW5zdGFuY2VvZiBHdCYmdC5tYXRjaGVzKGMpJiYocj1yLmluc2VydChjLmtleSxjKSl9cmV0dXJuIEdlLnJlc29sdmUocil9LGUucHJvdG90eXBlLmZvckVhY2hEb2N1bWVudEtleT1mdW5jdGlvbihlLHQpe3JldHVybiBHZS5mb3JFYWNoKHRoaXMuZG9jcywoZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9KSl9LGUucHJvdG90eXBlLmdldE5ld0RvY3VtZW50Q2hhbmdlcz1mdW5jdGlvbihlLHQpe3Rocm93IG5ldyBFcnJvcigiZ2V0TmV3RG9jdW1lbnRDaGFuZ2VzKCkgaXMgbm90IHN1cHBvcnRlZCB3aXRoIE1lbW9yeVBlcnNpc3RlbmNlIil9LGUucHJvdG90eXBlLmdldExhc3RSZWFkVGltZT1mdW5jdGlvbihlKXtyZXR1cm4gR2UucmVzb2x2ZShEZS5NSU4pfSxlLnByb3RvdHlwZS5uZXdDaGFuZ2VCdWZmZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlLlJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyKHRoaXMpfSxlLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKGUpe3JldHVybiBHZS5yZXNvbHZlKHRoaXMuc2l6ZSl9LGUuUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uZG9jdW1lbnRDYWNoZT10LG59cmV0dXJuIGEuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYXBwbHlDaGFuZ2VzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1bXTtyZXR1cm4gdGhpcy5jaGFuZ2VzLmZvckVhY2goKGZ1bmN0aW9uKHIsaSl7aT9uLnB1c2godC5kb2N1bWVudENhY2hlLmFkZEVudHJ5KGUsaSx0LnJlYWRUaW1lKSk6dC5kb2N1bWVudENhY2hlLnJlbW92ZUVudHJ5KHIpfSkpLEdlLndhaXRGb3Iobil9LHQucHJvdG90eXBlLmdldEZyb21DYWNoZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRvY3VtZW50Q2FjaGUuZ2V0RW50cnkoZSx0KX0sdC5wcm90b3R5cGUuZ2V0QWxsRnJvbUNhY2hlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZG9jdW1lbnRDYWNoZS5nZXRFbnRyaWVzKGUsdCl9LHR9KEp0KSxlfSgpLENyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnBlcnNpc3RlbmNlPWUsdGhpcy50YXJnZXRzPW5ldyBZdCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2Fub25pY2FsSWQoKX0pKSx0aGlzLmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb249RGUuTUlOLHRoaXMuaGlnaGVzdFRhcmdldElkPTAsdGhpcy5oaWdoZXN0U2VxdWVuY2VOdW1iZXI9MCx0aGlzLnJlZmVyZW5jZXM9bmV3IE9uLHRoaXMudGFyZ2V0Q291bnQ9MCx0aGlzLnRhcmdldElkR2VuZXJhdG9yPWh0LmZvclRhcmdldENhY2hlKCl9cmV0dXJuIGUucHJvdG90eXBlLmZvckVhY2hUYXJnZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy50YXJnZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQobil9KSksR2UucmVzb2x2ZSgpfSxlLnByb3RvdHlwZS5nZXRMYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uPWZ1bmN0aW9uKGUpe3JldHVybiBHZS5yZXNvbHZlKHRoaXMubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbil9LGUucHJvdG90eXBlLmdldEhpZ2hlc3RTZXF1ZW5jZU51bWJlcj1mdW5jdGlvbihlKXtyZXR1cm4gR2UucmVzb2x2ZSh0aGlzLmhpZ2hlc3RTZXF1ZW5jZU51bWJlcil9LGUucHJvdG90eXBlLmFsbG9jYXRlVGFyZ2V0SWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50YXJnZXRJZEdlbmVyYXRvci5hZnRlcih0aGlzLmhpZ2hlc3RUYXJnZXRJZCk7cmV0dXJuIHRoaXMuaGlnaGVzdFRhcmdldElkPXQsR2UucmVzb2x2ZSh0KX0sZS5wcm90b3R5cGUuc2V0VGFyZ2V0c01ldGFkYXRhPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbiYmKHRoaXMubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbj1uKSx0PnRoaXMuaGlnaGVzdFNlcXVlbmNlTnVtYmVyJiYodGhpcy5oaWdoZXN0U2VxdWVuY2VOdW1iZXI9dCksR2UucmVzb2x2ZSgpfSxlLnByb3RvdHlwZS5zYXZlVGFyZ2V0RGF0YT1mdW5jdGlvbihlKXt0aGlzLnRhcmdldHMuc2V0KGUudGFyZ2V0LGUpO3ZhciB0PWUudGFyZ2V0SWQ7dD50aGlzLmhpZ2hlc3RUYXJnZXRJZCYmKHRoaXMuaGlnaGVzdFRhcmdldElkPXQpLGUuc2VxdWVuY2VOdW1iZXI+dGhpcy5oaWdoZXN0U2VxdWVuY2VOdW1iZXImJih0aGlzLmhpZ2hlc3RTZXF1ZW5jZU51bWJlcj1lLnNlcXVlbmNlTnVtYmVyKX0sZS5wcm90b3R5cGUuYWRkVGFyZ2V0RGF0YT1mdW5jdGlvbihlLHQpe3JldHVybiB3KCF0aGlzLnRhcmdldHMuaGFzKHQudGFyZ2V0KSwiQWRkaW5nIGEgdGFyZ2V0IHRoYXQgYWxyZWFkeSBleGlzdHMiKSx0aGlzLnNhdmVUYXJnZXREYXRhKHQpLHRoaXMudGFyZ2V0Q291bnQrPTEsR2UucmVzb2x2ZSgpfSxlLnByb3RvdHlwZS51cGRhdGVUYXJnZXREYXRhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHcodGhpcy50YXJnZXRzLmhhcyh0LnRhcmdldCksIlVwZGF0aW5nIGEgbm9uLWV4aXN0ZW50IHRhcmdldCIpLHRoaXMuc2F2ZVRhcmdldERhdGEodCksR2UucmVzb2x2ZSgpfSxlLnByb3RvdHlwZS5yZW1vdmVUYXJnZXREYXRhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHcodGhpcy50YXJnZXRDb3VudD4wLCJSZW1vdmluZyBhIHRhcmdldCBmcm9tIGFuIGVtcHR5IGNhY2hlIiksdyh0aGlzLnRhcmdldHMuaGFzKHQudGFyZ2V0KSwiUmVtb3ZpbmcgYSBub24tZXhpc3RlbnQgdGFyZ2V0IGZyb20gdGhlIGNhY2hlIiksdGhpcy50YXJnZXRzLmRlbGV0ZSh0LnRhcmdldCksdGhpcy5yZWZlcmVuY2VzLnJlbW92ZVJlZmVyZW5jZXNGb3JJZCh0LnRhcmdldElkKSx0aGlzLnRhcmdldENvdW50LT0xLEdlLnJlc29sdmUoKX0sZS5wcm90b3R5cGUucmVtb3ZlVGFyZ2V0cz1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcyxpPTAsbz1bXTtyZXR1cm4gdGhpcy50YXJnZXRzLmZvckVhY2goKGZ1bmN0aW9uKGEscyl7cy5zZXF1ZW5jZU51bWJlcjw9dCYmbnVsbD09PW4uZ2V0KHMudGFyZ2V0SWQpJiYoci50YXJnZXRzLmRlbGV0ZShhKSxvLnB1c2goci5yZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZChlLHMudGFyZ2V0SWQpKSxpKyspfSkpLEdlLndhaXRGb3IobykubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKX0sZS5wcm90b3R5cGUuZ2V0VGFyZ2V0Q291bnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEdlLnJlc29sdmUodGhpcy50YXJnZXRDb3VudCl9LGUucHJvdG90eXBlLmdldFRhcmdldERhdGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnRhcmdldHMuZ2V0KHQpfHxudWxsO3JldHVybiBHZS5yZXNvbHZlKG4pfSxlLnByb3RvdHlwZS5nZXRUYXJnZXREYXRhRm9yVGFyZ2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHYoIk5vdCB5ZXQgaW1wbGVtZW50ZWQuIil9LGUucHJvdG90eXBlLmFkZE1hdGNoaW5nS2V5cz1mdW5jdGlvbihlLHQsbil7dGhpcy5yZWZlcmVuY2VzLmFkZFJlZmVyZW5jZXModCxuKTt2YXIgcj10aGlzLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLGk9W107cmV0dXJuIHImJnQuZm9yRWFjaCgoZnVuY3Rpb24odCl7aS5wdXNoKHIuYWRkUmVmZXJlbmNlKGUsdCkpfSkpLEdlLndhaXRGb3IoaSl9LGUucHJvdG90eXBlLnJlbW92ZU1hdGNoaW5nS2V5cz1mdW5jdGlvbihlLHQsbil7dGhpcy5yZWZlcmVuY2VzLnJlbW92ZVJlZmVyZW5jZXModCxuKTt2YXIgcj10aGlzLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLGk9W107cmV0dXJuIHImJnQuZm9yRWFjaCgoZnVuY3Rpb24odCl7aS5wdXNoKHIucmVtb3ZlUmVmZXJlbmNlKGUsdCkpfSkpLEdlLndhaXRGb3IoaSl9LGUucHJvdG90eXBlLnJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucmVmZXJlbmNlcy5yZW1vdmVSZWZlcmVuY2VzRm9ySWQodCksR2UucmVzb2x2ZSgpfSxlLnByb3RvdHlwZS5nZXRNYXRjaGluZ0tleXNGb3JUYXJnZXRJZD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMucmVmZXJlbmNlcy5yZWZlcmVuY2VzRm9ySWQodCk7cmV0dXJuIEdlLnJlc29sdmUobil9LGUucHJvdG90eXBlLmNvbnRhaW5zS2V5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEdlLnJlc29sdmUodGhpcy5yZWZlcmVuY2VzLmNvbnRhaW5zS2V5KHQpKX0sZX0oKSxEcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgbj10aGlzO3RoaXMuY2xpZW50SWQ9ZSx0aGlzLm11dGF0aW9uUXVldWVzPXt9LHRoaXMubGlzdGVuU2VxdWVuY2U9bmV3IHVlKDApLHRoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5fc3RhcnRlZD0hMCx0aGlzLnJlZmVyZW5jZURlbGVnYXRlPXQodGhpcyksdGhpcy50YXJnZXRDYWNoZT1uZXcgQ3IodGhpcyk7dGhpcy5pbmRleE1hbmFnZXI9bmV3IG5uLHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZT1uZXcgSXIodGhpcy5pbmRleE1hbmFnZXIsKGZ1bmN0aW9uKGUpe3JldHVybiBuLnJlZmVyZW5jZURlbGVnYXRlLmRvY3VtZW50U2l6ZShlKX0pKX1yZXR1cm4gZS5jcmVhdGVMcnVQZXJzaXN0ZW5jZT1mdW5jdGlvbih0LG4pe3JldHVybiBuZXcgZSh0LChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IEFyKGUsbil9KSl9LGUuY3JlYXRlRWFnZXJQZXJzaXN0ZW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCwoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBOcihlKX0pKX0sZS5wcm90b3R5cGUuc2h1dGRvd249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRlZD0hMSxQcm9taXNlLnJlc29sdmUoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzdGFydGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXJ0ZWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0QWN0aXZlQ2xpZW50cz1mdW5jdGlvbigpe3JldHVybiBhLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuWzIsW3RoaXMuY2xpZW50SWRdXX0pKX0pKX0sZS5wcm90b3R5cGUuc2V0UHJpbWFyeVN0YXRlTGlzdGVuZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUoITApfSxlLnByb3RvdHlwZS5zZXREYXRhYmFzZURlbGV0ZWRMaXN0ZW5lcj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuc2V0TmV0d29ya0VuYWJsZWQ9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5nZXRJbmRleE1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRleE1hbmFnZXJ9LGUucHJvdG90eXBlLmdldE11dGF0aW9uUXVldWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tdXRhdGlvblF1ZXVlc1tlLnRvS2V5KCldO3JldHVybiB0fHwodD1uZXcgU3IodGhpcy5pbmRleE1hbmFnZXIsdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSksdGhpcy5tdXRhdGlvblF1ZXVlc1tlLnRvS2V5KCldPXQpLHR9LGUucHJvdG90eXBlLmdldFRhcmdldENhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0Q2FjaGV9LGUucHJvdG90eXBlLmdldFJlbW90ZURvY3VtZW50Q2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW1vdGVEb2N1bWVudENhY2hlfSxlLnByb3RvdHlwZS5ydW5UcmFuc2FjdGlvbj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpczttKCJNZW1vcnlQZXJzaXN0ZW5jZSIsIlN0YXJ0aW5nIHRyYW5zYWN0aW9uOiIsZSk7dmFyIGk9bmV3IF9yKHRoaXMubGlzdGVuU2VxdWVuY2UubmV4dCgpKTtyZXR1cm4gdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZS5vblRyYW5zYWN0aW9uU3RhcnRlZCgpLG4oaSkubmV4dCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIucmVmZXJlbmNlRGVsZWdhdGUub25UcmFuc2FjdGlvbkNvbW1pdHRlZChpKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiBlfSkpfSkpLnRvUHJvbWlzZSgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBpLnJhaXNlT25Db21taXR0ZWRFdmVudCgpLGV9KSl9LGUucHJvdG90eXBlLm11dGF0aW9uUXVldWVzQ29udGFpbktleT1mdW5jdGlvbihlLHQpe3JldHVybiBHZS5vcihmdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gTihlLChmdW5jdGlvbihlLG4pe3JldHVybiB0LnB1c2gobil9KSksdH0odGhpcy5tdXRhdGlvblF1ZXVlcykubWFwKChmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbi5jb250YWluc0tleShlLHQpfX0pKSl9LGV9KCksX3I9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uY3VycmVudFNlcXVlbmNlTnVtYmVyPXQsbn1yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0fShMbiksTnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMucGVyc2lzdGVuY2U9ZSx0aGlzLmluTWVtb3J5UGlucz1udWxsLHRoaXMuX29ycGhhbmVkRG9jdW1lbnRzPW51bGx9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib3JwaGFuZWREb2N1bWVudHMiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9vcnBoYW5lZERvY3VtZW50cylyZXR1cm4gdGhpcy5fb3JwaGFuZWREb2N1bWVudHM7dGhyb3cgdigib3JwaGFuZWREb2N1bWVudHMgaXMgb25seSB2YWxpZCBkdXJpbmcgYSB0cmFuc2FjdGlvbi4iKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zZXRJbk1lbW9yeVBpbnM9ZnVuY3Rpb24oZSl7dGhpcy5pbk1lbW9yeVBpbnM9ZX0sZS5wcm90b3R5cGUuYWRkUmVmZXJlbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub3JwaGFuZWREb2N1bWVudHMuZGVsZXRlKHQpLEdlLnJlc29sdmUoKX0sZS5wcm90b3R5cGUucmVtb3ZlUmVmZXJlbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub3JwaGFuZWREb2N1bWVudHMuYWRkKHQpLEdlLnJlc29sdmUoKX0sZS5wcm90b3R5cGUucmVtb3ZlTXV0YXRpb25SZWZlcmVuY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vcnBoYW5lZERvY3VtZW50cy5hZGQodCksR2UucmVzb2x2ZSgpfSxlLnByb3RvdHlwZS5yZW1vdmVUYXJnZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9dGhpcy5wZXJzaXN0ZW5jZS5nZXRUYXJnZXRDYWNoZSgpO3JldHVybiByLmdldE1hdGNoaW5nS2V5c0ZvclRhcmdldElkKGUsdC50YXJnZXRJZCkubmV4dCgoZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbi5vcnBoYW5lZERvY3VtZW50cy5hZGQoZSl9KSl9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gci5yZW1vdmVUYXJnZXREYXRhKGUsdCl9KSl9LGUucHJvdG90eXBlLm9uVHJhbnNhY3Rpb25TdGFydGVkPWZ1bmN0aW9uKCl7dGhpcy5fb3JwaGFuZWREb2N1bWVudHM9bmV3IFNldH0sZS5wcm90b3R5cGUub25UcmFuc2FjdGlvbkNvbW1pdHRlZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dGhpcy5wZXJzaXN0ZW5jZS5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCkubmV3Q2hhbmdlQnVmZmVyKCk7cmV0dXJuIEdlLmZvckVhY2godGhpcy5vcnBoYW5lZERvY3VtZW50cywoZnVuY3Rpb24ocil7cmV0dXJuIHQuaXNSZWZlcmVuY2VkKGUscikubmV4dCgoZnVuY3Rpb24oZSl7ZXx8bi5yZW1vdmVFbnRyeShyKX0pKX0pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiB0Ll9vcnBoYW5lZERvY3VtZW50cz1udWxsLG4uYXBwbHkoZSl9KSl9LGUucHJvdG90eXBlLnVwZGF0ZUxpbWJvRG9jdW1lbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aGlzLmlzUmVmZXJlbmNlZChlLHQpLm5leHQoKGZ1bmN0aW9uKGUpe2U/bi5vcnBoYW5lZERvY3VtZW50cy5kZWxldGUodCk6bi5vcnBoYW5lZERvY3VtZW50cy5hZGQodCl9KSl9LGUucHJvdG90eXBlLmRvY3VtZW50U2l6ZT1mdW5jdGlvbihlKXtyZXR1cm4gMH0sZS5wcm90b3R5cGUuaXNSZWZlcmVuY2VkPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gR2Uub3IoW2Z1bmN0aW9uKCl7cmV0dXJuIG4ucGVyc2lzdGVuY2UuZ2V0VGFyZ2V0Q2FjaGUoKS5jb250YWluc0tleShlLHQpfSxmdW5jdGlvbigpe3JldHVybiBuLnBlcnNpc3RlbmNlLm11dGF0aW9uUXVldWVzQ29udGFpbktleShlLHQpfSxmdW5jdGlvbigpe3JldHVybiBHZS5yZXNvbHZlKG4uaW5NZW1vcnlQaW5zLmNvbnRhaW5zS2V5KHQpKX1dKX0sZX0oKSxBcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLnBlcnNpc3RlbmNlPWUsdGhpcy5pbk1lbW9yeVBpbnM9bnVsbCx0aGlzLm9ycGhhbmVkU2VxdWVuY2VOdW1iZXJzPW5ldyBZdCgoZnVuY3Rpb24oZSl7cmV0dXJuIFRlKGUucGF0aCl9KSksdGhpcy5nYXJiYWdlQ29sbGVjdG9yPW5ldyB6bih0aGlzLHQpfXJldHVybiBlLnByb3RvdHlwZS5vblRyYW5zYWN0aW9uU3RhcnRlZD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUub25UcmFuc2FjdGlvbkNvbW1pdHRlZD1mdW5jdGlvbihlKXtyZXR1cm4gR2UucmVzb2x2ZSgpfSxlLnByb3RvdHlwZS5mb3JFYWNoVGFyZ2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucGVyc2lzdGVuY2UuZ2V0VGFyZ2V0Q2FjaGUoKS5mb3JFYWNoVGFyZ2V0KGUsdCl9LGUucHJvdG90eXBlLmdldFNlcXVlbmNlTnVtYmVyQ291bnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vcnBoYW5lZERvY3VtZW50Q291bnQoZSk7cmV0dXJuIHRoaXMucGVyc2lzdGVuY2UuZ2V0VGFyZ2V0Q2FjaGUoKS5nZXRUYXJnZXRDb3VudChlKS5uZXh0KChmdW5jdGlvbihlKXtyZXR1cm4gdC5uZXh0KChmdW5jdGlvbih0KXtyZXR1cm4gZSt0fSkpfSkpfSxlLnByb3RvdHlwZS5vcnBoYW5lZERvY3VtZW50Q291bnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9MDtyZXR1cm4gdGhpcy5mb3JFYWNoT3JwaGFuZWREb2N1bWVudFNlcXVlbmNlTnVtYmVyKGUsKGZ1bmN0aW9uKGUpe3QrK30pKS5uZXh0KChmdW5jdGlvbigpe3JldHVybiB0fSkpfSxlLnByb3RvdHlwZS5mb3JFYWNoT3JwaGFuZWREb2N1bWVudFNlcXVlbmNlTnVtYmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gR2UuZm9yRWFjaCh0aGlzLm9ycGhhbmVkU2VxdWVuY2VOdW1iZXJzLChmdW5jdGlvbihyLGkpe3JldHVybiBuLmlzUGlubmVkKGUscixpKS5uZXh0KChmdW5jdGlvbihlKXtyZXR1cm4gZT9HZS5yZXNvbHZlKCk6dChpKX0pKX0pKX0sZS5wcm90b3R5cGUuc2V0SW5NZW1vcnlQaW5zPWZ1bmN0aW9uKGUpe3RoaXMuaW5NZW1vcnlQaW5zPWV9LGUucHJvdG90eXBlLnJlbW92ZVRhcmdldHM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLnBlcnNpc3RlbmNlLmdldFRhcmdldENhY2hlKCkucmVtb3ZlVGFyZ2V0cyhlLHQsbil9LGUucHJvdG90eXBlLnJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPTAsaT10aGlzLnBlcnNpc3RlbmNlLmdldFJlbW90ZURvY3VtZW50Q2FjaGUoKSxvPWkubmV3Q2hhbmdlQnVmZmVyKCk7cmV0dXJuIGkuZm9yRWFjaERvY3VtZW50S2V5KGUsKGZ1bmN0aW9uKGkpe3JldHVybiBuLmlzUGlubmVkKGUsaSx0KS5uZXh0KChmdW5jdGlvbihlKXtlfHwocisrLG8ucmVtb3ZlRW50cnkoaSkpfSkpfSkpLm5leHQoKGZ1bmN0aW9uKCl7cmV0dXJuIG8uYXBwbHkoZSl9KSkubmV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZS5wcm90b3R5cGUucmVtb3ZlTXV0YXRpb25SZWZlcmVuY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vcnBoYW5lZFNlcXVlbmNlTnVtYmVycy5zZXQodCxlLmN1cnJlbnRTZXF1ZW5jZU51bWJlciksR2UucmVzb2x2ZSgpfSxlLnByb3RvdHlwZS5yZW1vdmVUYXJnZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LndpdGhTZXF1ZW5jZU51bWJlcihlLmN1cnJlbnRTZXF1ZW5jZU51bWJlcik7cmV0dXJuIHRoaXMucGVyc2lzdGVuY2UuZ2V0VGFyZ2V0Q2FjaGUoKS51cGRhdGVUYXJnZXREYXRhKGUsbil9LGUucHJvdG90eXBlLmFkZFJlZmVyZW5jZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9ycGhhbmVkU2VxdWVuY2VOdW1iZXJzLnNldCh0LGUuY3VycmVudFNlcXVlbmNlTnVtYmVyKSxHZS5yZXNvbHZlKCl9LGUucHJvdG90eXBlLnJlbW92ZVJlZmVyZW5jZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9ycGhhbmVkU2VxdWVuY2VOdW1iZXJzLnNldCh0LGUuY3VycmVudFNlcXVlbmNlTnVtYmVyKSxHZS5yZXNvbHZlKCl9LGUucHJvdG90eXBlLnVwZGF0ZUxpbWJvRG9jdW1lbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vcnBoYW5lZFNlcXVlbmNlTnVtYmVycy5zZXQodCxlLmN1cnJlbnRTZXF1ZW5jZU51bWJlciksR2UucmVzb2x2ZSgpfSxlLnByb3RvdHlwZS5kb2N1bWVudFNpemU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXkudG9TdHJpbmcoKS5sZW5ndGg7cmV0dXJuIGUgaW5zdGFuY2VvZiBHdCYmKHQrPWUuZGF0YSgpLmFwcHJveGltYXRlQnl0ZVNpemUoKSksdH0sZS5wcm90b3R5cGUuaXNQaW5uZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXM7cmV0dXJuIEdlLm9yKFtmdW5jdGlvbigpe3JldHVybiByLnBlcnNpc3RlbmNlLm11dGF0aW9uUXVldWVzQ29udGFpbktleShlLHQpfSxmdW5jdGlvbigpe3JldHVybiBHZS5yZXNvbHZlKHIuaW5NZW1vcnlQaW5zLmNvbnRhaW5zS2V5KHQpKX0sZnVuY3Rpb24oKXtyZXR1cm4gci5wZXJzaXN0ZW5jZS5nZXRUYXJnZXRDYWNoZSgpLmNvbnRhaW5zS2V5KGUsdCl9LGZ1bmN0aW9uKCl7dmFyIGU9ci5vcnBoYW5lZFNlcXVlbmNlTnVtYmVycy5nZXQodCk7cmV0dXJuIEdlLnJlc29sdmUodm9pZCAwIT09ZSYmZT5uKX1dKX0sZS5wcm90b3R5cGUuZ2V0Q2FjaGVTaXplPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBlcnNpc3RlbmNlLmdldFJlbW90ZURvY3VtZW50Q2FjaGUoKS5nZXRTaXplKGUpfSxlfSgpLGtyPTFlMyxScj0xLjUsTXI9NmU0LExyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyLGkpe3ZvaWQgMD09PW4mJihuPWtyKSx2b2lkIDA9PT1yJiYocj1Sciksdm9pZCAwPT09aSYmKGk9TXIpLHRoaXMucXVldWU9ZSx0aGlzLnRpbWVySWQ9dCx0aGlzLmluaXRpYWxEZWxheU1zPW4sdGhpcy5iYWNrb2ZmRmFjdG9yPXIsdGhpcy5tYXhEZWxheU1zPWksdGhpcy5jdXJyZW50QmFzZU1zPTAsdGhpcy50aW1lclByb21pc2U9bnVsbCx0aGlzLmxhc3RBdHRlbXB0VGltZT1EYXRlLm5vdygpLHRoaXMucmVzZXQoKX1yZXR1cm4gZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmN1cnJlbnRCYXNlTXM9MH0sZS5wcm90b3R5cGUucmVzZXRUb01heD1mdW5jdGlvbigpe3RoaXMuY3VycmVudEJhc2VNcz10aGlzLm1heERlbGF5TXN9LGUucHJvdG90eXBlLmJhY2tvZmZBbmRSdW49ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmNhbmNlbCgpO3ZhciBuPU1hdGguZmxvb3IodGhpcy5jdXJyZW50QmFzZU1zK3RoaXMuaml0dGVyRGVsYXlNcygpKSxyPU1hdGgubWF4KDAsRGF0ZS5ub3coKS10aGlzLmxhc3RBdHRlbXB0VGltZSksaT1NYXRoLm1heCgwLG4tcik7dGhpcy5jdXJyZW50QmFzZU1zPjAmJm0oIkV4cG9uZW50aWFsQmFja29mZiIsIkJhY2tpbmcgb2ZmIGZvciAiK2krIiBtcyAoYmFzZSBkZWxheTogIit0aGlzLmN1cnJlbnRCYXNlTXMrIiBtcywgZGVsYXkgd2l0aCBqaXR0ZXI6ICIrbisiIG1zLCBsYXN0IGF0dGVtcHQ6ICIrcisiIG1zIGFnbykiKSx0aGlzLnRpbWVyUHJvbWlzZT10aGlzLnF1ZXVlLmVucXVldWVBZnRlckRlbGF5KHRoaXMudGltZXJJZCxpLChmdW5jdGlvbigpe3JldHVybiB0Lmxhc3RBdHRlbXB0VGltZT1EYXRlLm5vdygpLGUoKX0pKSx0aGlzLmN1cnJlbnRCYXNlTXMqPXRoaXMuYmFja29mZkZhY3Rvcix0aGlzLmN1cnJlbnRCYXNlTXM8dGhpcy5pbml0aWFsRGVsYXlNcyYmKHRoaXMuY3VycmVudEJhc2VNcz10aGlzLmluaXRpYWxEZWxheU1zKSx0aGlzLmN1cnJlbnRCYXNlTXM+dGhpcy5tYXhEZWxheU1zJiYodGhpcy5jdXJyZW50QmFzZU1zPXRoaXMubWF4RGVsYXlNcyl9LGUucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe251bGwhPT10aGlzLnRpbWVyUHJvbWlzZSYmKHRoaXMudGltZXJQcm9taXNlLmNhbmNlbCgpLHRoaXMudGltZXJQcm9taXNlPW51bGwpfSxlLnByb3RvdHlwZS5qaXR0ZXJEZWxheU1zPWZ1bmN0aW9uKCl7cmV0dXJuKE1hdGgucmFuZG9tKCktLjUpKnRoaXMuY3VycmVudEJhc2VNc30sZX0oKTshZnVuY3Rpb24oZSl7ZVtlLkluaXRpYWw9MF09IkluaXRpYWwiLGVbZS5TdGFydGluZz0xXT0iU3RhcnRpbmciLGVbZS5PcGVuPTJdPSJPcGVuIixlW2UuRXJyb3I9M109IkVycm9yIixlW2UuQmFja29mZj00XT0iQmFja29mZiJ9KEVyfHwoRXI9e30pKTt2YXIgT3IseHIsUHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLHIsaSxvKXt0aGlzLnF1ZXVlPWUsdGhpcy5pZGxlVGltZXJJZD1uLHRoaXMuY29ubmVjdGlvbj1yLHRoaXMuY3JlZGVudGlhbHNQcm92aWRlcj1pLHRoaXMubGlzdGVuZXI9byx0aGlzLnN0YXRlPUVyLkluaXRpYWwsdGhpcy5jbG9zZUNvdW50PTAsdGhpcy5pZGxlVGltZXI9bnVsbCx0aGlzLnN0cmVhbT1udWxsLHRoaXMuYmFja29mZj1uZXcgTHIoZSx0KX1yZXR1cm4gZS5wcm90b3R5cGUuaXNTdGFydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGU9PT1Fci5TdGFydGluZ3x8dGhpcy5zdGF0ZT09PUVyLk9wZW58fHRoaXMuc3RhdGU9PT1Fci5CYWNrb2ZmfSxlLnByb3RvdHlwZS5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZT09PUVyLk9wZW59LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZSE9PUVyLkVycm9yPyh3KHRoaXMuc3RhdGU9PT1Fci5Jbml0aWFsLCJBbHJlYWR5IHN0YXJ0ZWQiKSx0aGlzLmF1dGgoKSk6dGhpcy5wZXJmb3JtQmFja29mZigpfSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmlzU3RhcnRlZCgpP1s0LHRoaXMuY2xvc2UoRXIuSW5pdGlhbCldOlszLDJdO2Nhc2UgMTplLnNlbnQoKSxlLmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KSl9KSl9LGUucHJvdG90eXBlLmluaGliaXRCYWNrb2ZmPWZ1bmN0aW9uKCl7dyghdGhpcy5pc1N0YXJ0ZWQoKSwiQ2FuIG9ubHkgaW5oaWJpdCBiYWNrb2ZmIGluIGEgc3RvcHBlZCBzdGF0ZSIpLHRoaXMuc3RhdGU9RXIuSW5pdGlhbCx0aGlzLmJhY2tvZmYucmVzZXQoKX0sZS5wcm90b3R5cGUubWFya0lkbGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaXNPcGVuKCkmJm51bGw9PT10aGlzLmlkbGVUaW1lciYmKHRoaXMuaWRsZVRpbWVyPXRoaXMucXVldWUuZW5xdWV1ZUFmdGVyRGVsYXkodGhpcy5pZGxlVGltZXJJZCw2ZTQsKGZ1bmN0aW9uKCl7cmV0dXJuIGUuaGFuZGxlSWRsZUNsb3NlVGltZXIoKX0pKSl9LGUucHJvdG90eXBlLnNlbmRSZXF1ZXN0PWZ1bmN0aW9uKGUpe3RoaXMuY2FuY2VsSWRsZUNoZWNrKCksdGhpcy5zdHJlYW0uc2VuZChlKX0sZS5wcm90b3R5cGUuaGFuZGxlSWRsZUNsb3NlVGltZXI9ZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzT3BlbigpP1syLHRoaXMuY2xvc2UoRXIuSW5pdGlhbCldOlsyXX0pKX0pKX0sZS5wcm90b3R5cGUuY2FuY2VsSWRsZUNoZWNrPWZ1bmN0aW9uKCl7dGhpcy5pZGxlVGltZXImJih0aGlzLmlkbGVUaW1lci5jYW5jZWwoKSx0aGlzLmlkbGVUaW1lcj1udWxsKX0sZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHcodGhpcy5pc1N0YXJ0ZWQoKSwiT25seSBzdGFydGVkIHN0cmVhbXMgc2hvdWxkIGJlIGNsb3NlZC4iKSx3KGU9PT1Fci5FcnJvcnx8cnIodCksIkNhbid0IHByb3ZpZGUgYW4gZXJyb3Igd2hlbiBub3QgaW4gYW4gZXJyb3Igc3RhdGUuIiksdGhpcy5jYW5jZWxJZGxlQ2hlY2soKSx0aGlzLmJhY2tvZmYuY2FuY2VsKCksdGhpcy5jbG9zZUNvdW50KyssZSE9PUVyLkVycm9yP3RoaXMuYmFja29mZi5yZXNldCgpOnQmJnQuY29kZT09PVMuUkVTT1VSQ0VfRVhIQVVTVEVEPyh5KHQudG9TdHJpbmcoKSkseSgiVXNpbmcgbWF4aW11bSBiYWNrb2ZmIGRlbGF5IHRvIHByZXZlbnQgb3ZlcmxvYWRpbmcgdGhlIGJhY2tlbmQuIiksdGhpcy5iYWNrb2ZmLnJlc2V0VG9NYXgoKSk6dCYmdC5jb2RlPT09Uy5VTkFVVEhFTlRJQ0FURUQmJnRoaXMuY3JlZGVudGlhbHNQcm92aWRlci5pbnZhbGlkYXRlVG9rZW4oKSxudWxsIT09dGhpcy5zdHJlYW0mJih0aGlzLnRlYXJEb3duKCksdGhpcy5zdHJlYW0uY2xvc2UoKSx0aGlzLnN0cmVhbT1udWxsKSx0aGlzLnN0YXRlPWUsWzQsdGhpcy5saXN0ZW5lci5vbkNsb3NlKHQpXTtjYXNlIDE6cmV0dXJuIG4uc2VudCgpLFsyXX19KSl9KSl9LGUucHJvdG90eXBlLnRlYXJEb3duPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5hdXRoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3KHRoaXMuc3RhdGU9PT1Fci5Jbml0aWFsLCJNdXN0IGJlIGluIGluaXRpYWwgc3RhdGUgdG8gYXV0aCIpLHRoaXMuc3RhdGU9RXIuU3RhcnRpbmc7dmFyIHQ9dGhpcy5nZXRDbG9zZUd1YXJkZWREaXNwYXRjaGVyKHRoaXMuY2xvc2VDb3VudCksbj10aGlzLmNsb3NlQ291bnQ7dGhpcy5jcmVkZW50aWFsc1Byb3ZpZGVyLmdldFRva2VuKCkudGhlbigoZnVuY3Rpb24odCl7ZS5jbG9zZUNvdW50PT09biYmZS5zdGFydFN0cmVhbSh0KX0pLChmdW5jdGlvbihuKXt0KChmdW5jdGlvbigpe3ZhciB0PW5ldyBFKFMuVU5LTk9XTiwiRmV0Y2hpbmcgYXV0aCB0b2tlbiBmYWlsZWQ6ICIrbi5tZXNzYWdlKTtyZXR1cm4gZS5oYW5kbGVTdHJlYW1DbG9zZSh0KX0pKX0pKX0sZS5wcm90b3R5cGUuc3RhcnRTdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt3KHRoaXMuc3RhdGU9PT1Fci5TdGFydGluZywiVHJ5aW5nIHRvIHN0YXJ0IHN0cmVhbSBpbiBhIG5vbi1zdGFydGluZyBzdGF0ZSIpO3ZhciBuPXRoaXMuZ2V0Q2xvc2VHdWFyZGVkRGlzcGF0Y2hlcih0aGlzLmNsb3NlQ291bnQpO3RoaXMuc3RyZWFtPXRoaXMuc3RhcnRScGMoZSksdGhpcy5zdHJlYW0ub25PcGVuKChmdW5jdGlvbigpe24oKGZ1bmN0aW9uKCl7cmV0dXJuIHcodC5zdGF0ZT09PUVyLlN0YXJ0aW5nLCJFeHBlY3RlZCBzdHJlYW0gdG8gYmUgaW4gc3RhdGUgU3RhcnRpbmcsIGJ1dCB3YXMgIit0LnN0YXRlKSx0LnN0YXRlPUVyLk9wZW4sdC5saXN0ZW5lci5vbk9wZW4oKX0pKX0pKSx0aGlzLnN0cmVhbS5vbkNsb3NlKChmdW5jdGlvbihlKXtuKChmdW5jdGlvbigpe3JldHVybiB0LmhhbmRsZVN0cmVhbUNsb3NlKGUpfSkpfSkpLHRoaXMuc3RyZWFtLm9uTWVzc2FnZSgoZnVuY3Rpb24oZSl7bigoZnVuY3Rpb24oKXtyZXR1cm4gdC5vbk1lc3NhZ2UoZSl9KSl9KSl9LGUucHJvdG90eXBlLnBlcmZvcm1CYWNrb2ZmPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3KHRoaXMuc3RhdGU9PT1Fci5FcnJvciwiU2hvdWxkIG9ubHkgcGVyZm9ybSBiYWNrb2ZmIHdoZW4gaW4gRXJyb3Igc3RhdGUiKSx0aGlzLnN0YXRlPUVyLkJhY2tvZmYsdGhpcy5iYWNrb2ZmLmJhY2tvZmZBbmRSdW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX19hd2FpdGVyKGUsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm4gdyh0aGlzLnN0YXRlPT09RXIuQmFja29mZiwiQmFja29mZiBlbGFwc2VkIGJ1dCBzdGF0ZSBpcyBub3c6ICIrdGhpcy5zdGF0ZSksdGhpcy5zdGF0ZT1Fci5Jbml0aWFsLHRoaXMuc3RhcnQoKSx3KHRoaXMuaXNTdGFydGVkKCksIlBlcnNpc3RlbnRTdHJlYW0gc2hvdWxkIGhhdmUgc3RhcnRlZCIpLFsyXX0pKX0pKX0pKX0sZS5wcm90b3R5cGUuaGFuZGxlU3RyZWFtQ2xvc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHcodGhpcy5pc1N0YXJ0ZWQoKSwiQ2FuJ3QgaGFuZGxlIHNlcnZlciBjbG9zZSBvbiBub24tc3RhcnRlZCBzdHJlYW0iKSxtKCJQZXJzaXN0ZW50U3RyZWFtIiwiY2xvc2Ugd2l0aCBlcnJvcjogIitlKSx0aGlzLnN0cmVhbT1udWxsLHRoaXMuY2xvc2UoRXIuRXJyb3IsZSl9LGUucHJvdG90eXBlLmdldENsb3NlR3VhcmRlZERpc3BhdGNoZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7dC5xdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChmdW5jdGlvbigpe3JldHVybiB0LmNsb3NlQ291bnQ9PT1lP24oKToobSgiUGVyc2lzdGVudFN0cmVhbSIsInN0cmVhbSBjYWxsYmFjayBza2lwcGVkIGJ5IGdldENsb3NlR3VhcmRlZERpc3BhdGNoZXIuIiksUHJvbWlzZS5yZXNvbHZlKCkpfSkpfX0sZX0oKSxGcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixyLGksbyl7dmFyIGE9ZS5jYWxsKHRoaXMsdCxuZS5MaXN0ZW5TdHJlYW1Db25uZWN0aW9uQmFja29mZixuZS5MaXN0ZW5TdHJlYW1JZGxlLG4scixvKXx8dGhpcztyZXR1cm4gYS5zZXJpYWxpemVyPWksYX1yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5zdGFydFJwYz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uLm9wZW5TdHJlYW0oIkxpc3RlbiIsZSl9LHQucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt0aGlzLmJhY2tvZmYucmVzZXQoKTt2YXIgdD10aGlzLnNlcmlhbGl6ZXIuZnJvbVdhdGNoQ2hhbmdlKGUpLG49dGhpcy5zZXJpYWxpemVyLnZlcnNpb25Gcm9tTGlzdGVuUmVzcG9uc2UoZSk7cmV0dXJuIHRoaXMubGlzdGVuZXIub25XYXRjaENoYW5nZSh0LG4pfSx0LnByb3RvdHlwZS53YXRjaD1mdW5jdGlvbihlKXt2YXIgdD17fTt0LmRhdGFiYXNlPXRoaXMuc2VyaWFsaXplci5lbmNvZGVkRGF0YWJhc2VJZCx0LmFkZFRhcmdldD10aGlzLnNlcmlhbGl6ZXIudG9UYXJnZXQoZSk7dmFyIG49dGhpcy5zZXJpYWxpemVyLnRvTGlzdGVuUmVxdWVzdExhYmVscyhlKTtuJiYodC5sYWJlbHM9biksdGhpcy5zZW5kUmVxdWVzdCh0KX0sdC5wcm90b3R5cGUudW53YXRjaD1mdW5jdGlvbihlKXt2YXIgdD17fTt0LmRhdGFiYXNlPXRoaXMuc2VyaWFsaXplci5lbmNvZGVkRGF0YWJhc2VJZCx0LnJlbW92ZVRhcmdldD1lLHRoaXMuc2VuZFJlcXVlc3QodCl9LHR9KFByKSxxcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixyLGksbyl7dmFyIGE9ZS5jYWxsKHRoaXMsdCxuZS5Xcml0ZVN0cmVhbUNvbm5lY3Rpb25CYWNrb2ZmLG5lLldyaXRlU3RyZWFtSWRsZSxuLHIsbyl8fHRoaXM7cmV0dXJuIGEuc2VyaWFsaXplcj1pLGEuaGFuZHNoYWtlQ29tcGxldGVfPSExLGEubGFzdFN0cmVhbVRva2VuPVQoKSxhfXJldHVybiBhLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiaGFuZHNoYWtlQ29tcGxldGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYW5kc2hha2VDb21wbGV0ZV99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmhhbmRzaGFrZUNvbXBsZXRlXz0hMSxlLnByb3RvdHlwZS5zdGFydC5jYWxsKHRoaXMpfSx0LnByb3RvdHlwZS50ZWFyRG93bj1mdW5jdGlvbigpe3RoaXMuaGFuZHNoYWtlQ29tcGxldGVfJiZ0aGlzLndyaXRlTXV0YXRpb25zKFtdKX0sdC5wcm90b3R5cGUuc3RhcnRScGM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbi5vcGVuU3RyZWFtKCJXcml0ZSIsZSl9LHQucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXtpZih3KCEhZS5zdHJlYW1Ub2tlbiwiR290IGEgd3JpdGUgcmVzcG9uc2Ugd2l0aG91dCBhIHN0cmVhbSB0b2tlbiIpLHRoaXMubGFzdFN0cmVhbVRva2VuPWUuc3RyZWFtVG9rZW4sdGhpcy5oYW5kc2hha2VDb21wbGV0ZV8pe3RoaXMuYmFja29mZi5yZXNldCgpO3ZhciB0PXRoaXMuc2VyaWFsaXplci5mcm9tV3JpdGVSZXN1bHRzKGUud3JpdGVSZXN1bHRzLGUuY29tbWl0VGltZSksbj10aGlzLnNlcmlhbGl6ZXIuZnJvbVZlcnNpb24oZS5jb21taXRUaW1lKTtyZXR1cm4gdGhpcy5saXN0ZW5lci5vbk11dGF0aW9uUmVzdWx0KG4sdCl9cmV0dXJuIHcoIWUud3JpdGVSZXN1bHRzfHwwPT09ZS53cml0ZVJlc3VsdHMubGVuZ3RoLCJHb3QgbXV0YXRpb24gcmVzdWx0cyBmb3IgaGFuZHNoYWtlIiksdGhpcy5oYW5kc2hha2VDb21wbGV0ZV89ITAsdGhpcy5saXN0ZW5lci5vbkhhbmRzaGFrZUNvbXBsZXRlKCl9LHQucHJvdG90eXBlLndyaXRlSGFuZHNoYWtlPWZ1bmN0aW9uKCl7dyh0aGlzLmlzT3BlbigpLCJXcml0aW5nIGhhbmRzaGFrZSByZXF1aXJlcyBhbiBvcGVuZWQgc3RyZWFtIiksdyghdGhpcy5oYW5kc2hha2VDb21wbGV0ZV8sIkhhbmRzaGFrZSBhbHJlYWR5IGNvbXBsZXRlZCIpO3ZhciBlPXt9O2UuZGF0YWJhc2U9dGhpcy5zZXJpYWxpemVyLmVuY29kZWREYXRhYmFzZUlkLHRoaXMuc2VuZFJlcXVlc3QoZSl9LHQucHJvdG90eXBlLndyaXRlTXV0YXRpb25zPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dyh0aGlzLmlzT3BlbigpLCJXcml0aW5nIG11dGF0aW9ucyByZXF1aXJlcyBhbiBvcGVuZWQgc3RyZWFtIiksdyh0aGlzLmhhbmRzaGFrZUNvbXBsZXRlXywiSGFuZHNoYWtlIG11c3QgYmUgY29tcGxldGUgYmVmb3JlIHdyaXRpbmcgbXV0YXRpb25zIiksdyh0aGlzLmxhc3RTdHJlYW1Ub2tlbi5sZW5ndGg+MCwiVHJ5aW5nIHRvIHdyaXRlIG11dGF0aW9uIHdpdGhvdXQgYSB0b2tlbiIpO3ZhciBuPXtzdHJlYW1Ub2tlbjp0aGlzLmxhc3RTdHJlYW1Ub2tlbix3cml0ZXM6ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlcmlhbGl6ZXIudG9NdXRhdGlvbihlKX0pKX07dGhpcy5zZW5kUmVxdWVzdChuKX0sdH0oUHIpLFZyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyKXt0aGlzLnF1ZXVlPWUsdGhpcy5jb25uZWN0aW9uPXQsdGhpcy5jcmVkZW50aWFscz1uLHRoaXMuc2VyaWFsaXplcj1yfXJldHVybiBlLnByb3RvdHlwZS5uZXdQZXJzaXN0ZW50V3JpdGVTdHJlYW09ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBxcih0aGlzLnF1ZXVlLHRoaXMuY29ubmVjdGlvbix0aGlzLmNyZWRlbnRpYWxzLHRoaXMuc2VyaWFsaXplcixlKX0sZS5wcm90b3R5cGUubmV3UGVyc2lzdGVudFdhdGNoU3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRnIodGhpcy5xdWV1ZSx0aGlzLmNvbm5lY3Rpb24sdGhpcy5jcmVkZW50aWFscyx0aGlzLnNlcmlhbGl6ZXIsZSl9LGUucHJvdG90eXBlLmNvbW1pdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49e2RhdGFiYXNlOnRoaXMuc2VyaWFsaXplci5lbmNvZGVkRGF0YWJhc2VJZCx3cml0ZXM6ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlcmlhbGl6ZXIudG9NdXRhdGlvbihlKX0pKX07cmV0dXJuIHRoaXMuaW52b2tlUlBDKCJDb21taXQiLG4pLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlcmlhbGl6ZXIuZnJvbVdyaXRlUmVzdWx0cyhlLndyaXRlUmVzdWx0cyxlLmNvbW1pdFRpbWUpfSkpfSxlLnByb3RvdHlwZS5sb29rdXA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXtkYXRhYmFzZTp0aGlzLnNlcmlhbGl6ZXIuZW5jb2RlZERhdGFiYXNlSWQsZG9jdW1lbnRzOmUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5zZXJpYWxpemVyLnRvTmFtZShlKX0pKX07cmV0dXJuIHRoaXMuaW52b2tlU3RyZWFtaW5nUlBDKCJCYXRjaEdldERvY3VtZW50cyIsbikudGhlbigoZnVuY3Rpb24obil7dmFyIHI9T2UoKTtuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXQuc2VyaWFsaXplci5mcm9tTWF5YmVEb2N1bWVudChlKTtyPXIuaW5zZXJ0KG4ua2V5LG4pfSkpO3ZhciBpPVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXIuZ2V0KGUpO3coISF0LCJNaXNzaW5nIGVudGl0eSBpbiB3cml0ZSByZXNwb25zZSBmb3IgIitlKSxpLnB1c2godCl9KSksaX0pKX0sZS5wcm90b3R5cGUuaW52b2tlUlBDPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5jcmVkZW50aWFscy5nZXRUb2tlbigpLnRoZW4oKGZ1bmN0aW9uKHIpe3JldHVybiBuLmNvbm5lY3Rpb24uaW52b2tlUlBDKGUsdCxyKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dGhyb3cgZS5jb2RlPT09Uy5VTkFVVEhFTlRJQ0FURUQmJm4uY3JlZGVudGlhbHMuaW52YWxpZGF0ZVRva2VuKCksZX0pKX0sZS5wcm90b3R5cGUuaW52b2tlU3RyZWFtaW5nUlBDPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5jcmVkZW50aWFscy5nZXRUb2tlbigpLnRoZW4oKGZ1bmN0aW9uKHIpe3JldHVybiBuLmNvbm5lY3Rpb24uaW52b2tlU3RyZWFtaW5nUlBDKGUsdCxyKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dGhyb3cgZS5jb2RlPT09Uy5VTkFVVEhFTlRJQ0FURUQmJm4uY3JlZGVudGlhbHMuaW52YWxpZGF0ZVRva2VuKCksZX0pKX0sZX0oKSxCcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5kYXRhc3RvcmU9ZSx0aGlzLnJlYWRWZXJzaW9ucz1WZSgpLHRoaXMubXV0YXRpb25zPVtdLHRoaXMuY29tbWl0dGVkPSExLHRoaXMubGFzdFdyaXRlRXJyb3I9bnVsbCx0aGlzLndyaXR0ZW5Eb2NzPW5ldyBTZXR9cmV0dXJuIGUucHJvdG90eXBlLmxvb2t1cD1mdW5jdGlvbihlKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG49dGhpcztyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmlmKHRoaXMuZW5zdXJlQ29tbWl0Tm90Q2FsbGVkKCksdGhpcy5tdXRhdGlvbnMubGVuZ3RoPjApdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJGaXJlc3RvcmUgdHJhbnNhY3Rpb25zIHJlcXVpcmUgYWxsIHJlYWRzIHRvIGJlIGV4ZWN1dGVkIGJlZm9yZSBhbGwgd3JpdGVzLiIpO3JldHVybls0LHRoaXMuZGF0YXN0b3JlLmxvb2t1cChlKV07Y2FzZSAxOnJldHVybih0PXIuc2VudCgpKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlIGluc3RhbmNlb2YganR8fGUgaW5zdGFuY2VvZiBHdD9uLnJlY29yZFZlcnNpb24oZSk6digiRG9jdW1lbnQgaW4gYSB0cmFuc2FjdGlvbiB3YXMgYSAiK2UuY29uc3RydWN0b3IubmFtZSl9KSksWzIsdF19fSkpfSkpfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlKHQudG9NdXRhdGlvbnMoZSx0aGlzLnByZWNvbmRpdGlvbihlKSkpLHRoaXMud3JpdHRlbkRvY3MuYWRkKGUpfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSx0KXt0cnl7dGhpcy53cml0ZSh0LnRvTXV0YXRpb25zKGUsdGhpcy5wcmVjb25kaXRpb25Gb3JVcGRhdGUoZSkpKX1jYXRjaChuKXt0aGlzLmxhc3RXcml0ZUVycm9yPW59dGhpcy53cml0dGVuRG9jcy5hZGQoZSl9LGUucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXt0aGlzLndyaXRlKFtuZXcgX3QoZSx0aGlzLnByZWNvbmRpdGlvbihlKSldKSx0aGlzLndyaXR0ZW5Eb2NzLmFkZChlKX0sZS5wcm90b3R5cGUuY29tbWl0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXM7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDppZih0aGlzLmVuc3VyZUNvbW1pdE5vdENhbGxlZCgpLHRoaXMubGFzdFdyaXRlRXJyb3IpdGhyb3cgdGhpcy5sYXN0V3JpdGVFcnJvcjtyZXR1cm4gZT10aGlzLnJlYWRWZXJzaW9ucyx0aGlzLm11dGF0aW9ucy5mb3JFYWNoKChmdW5jdGlvbih0KXtlPWUucmVtb3ZlKHQua2V5KX0pKSxlLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7dC5tdXRhdGlvbnMucHVzaChuZXcgTnQoZSx0LnByZWNvbmRpdGlvbihlKSkpfSkpLFs0LHRoaXMuZGF0YXN0b3JlLmNvbW1pdCh0aGlzLm11dGF0aW9ucyldO2Nhc2UgMTpyZXR1cm4gbi5zZW50KCksdGhpcy5jb21taXR0ZWQ9ITAsWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUucmVjb3JkVmVyc2lvbj1mdW5jdGlvbihlKXt2YXIgdDtpZihlIGluc3RhbmNlb2YgR3QpdD1lLnZlcnNpb247ZWxzZXtpZighKGUgaW5zdGFuY2VvZiBqdCkpdGhyb3cgdigiRG9jdW1lbnQgaW4gYSB0cmFuc2FjdGlvbiB3YXMgYSAiK2UuY29uc3RydWN0b3IubmFtZSk7dD1EZS5mb3JEZWxldGVkRG9jKCl9dmFyIG49dGhpcy5yZWFkVmVyc2lvbnMuZ2V0KGUua2V5KTtpZihudWxsIT09bil7aWYoIXQuaXNFcXVhbChuKSl0aHJvdyBuZXcgRShTLkFCT1JURUQsIkRvY3VtZW50IHZlcnNpb24gY2hhbmdlZCBiZXR3ZWVuIHR3byByZWFkcy4iKX1lbHNlIHRoaXMucmVhZFZlcnNpb25zPXRoaXMucmVhZFZlcnNpb25zLmluc2VydChlLmtleSx0KX0sZS5wcm90b3R5cGUucHJlY29uZGl0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucmVhZFZlcnNpb25zLmdldChlKTtyZXR1cm4hdGhpcy53cml0dGVuRG9jcy5oYXMoZSkmJnQ/U3QudXBkYXRlVGltZSh0KTpTdC5OT05FfSxlLnByb3RvdHlwZS5wcmVjb25kaXRpb25Gb3JVcGRhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5yZWFkVmVyc2lvbnMuZ2V0KGUpO2lmKCF0aGlzLndyaXR0ZW5Eb2NzLmhhcyhlKSYmdCl7aWYodC5pc0VxdWFsKERlLmZvckRlbGV0ZWREb2MoKSkpdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJDYW4ndCB1cGRhdGUgYSBkb2N1bWVudCB0aGF0IGRvZXNuJ3QgZXhpc3QuIik7cmV0dXJuIFN0LnVwZGF0ZVRpbWUodCl9cmV0dXJuIFN0LmV4aXN0cyghMCl9LGUucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe3RoaXMuZW5zdXJlQ29tbWl0Tm90Q2FsbGVkKCksdGhpcy5tdXRhdGlvbnM9dGhpcy5tdXRhdGlvbnMuY29uY2F0KGUpfSxlLnByb3RvdHlwZS5lbnN1cmVDb21taXROb3RDYWxsZWQ9ZnVuY3Rpb24oKXt3KCF0aGlzLmNvbW1pdHRlZCwiQSB0cmFuc2FjdGlvbiBvYmplY3QgY2Fubm90IGJlIHVzZWQgYWZ0ZXIgaXRzIHVwZGF0ZSBjYWxsYmFjayBoYXMgYmVlbiBpbnZva2VkLiIpfSxlfSgpOyFmdW5jdGlvbihlKXtlW2UuVW5rbm93bj0wXT0iVW5rbm93biIsZVtlLk9ubGluZT0xXT0iT25saW5lIixlW2UuT2ZmbGluZT0yXT0iT2ZmbGluZSJ9KE9yfHwoT3I9e30pKSxmdW5jdGlvbihlKXtlW2UuUmVtb3RlU3RvcmU9MF09IlJlbW90ZVN0b3JlIixlW2UuU2hhcmVkQ2xpZW50U3RhdGU9MV09IlNoYXJlZENsaWVudFN0YXRlIn0oeHJ8fCh4cj17fSkpO3ZhciBVcixRcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmFzeW5jUXVldWU9ZSx0aGlzLm9ubGluZVN0YXRlSGFuZGxlcj10LHRoaXMuc3RhdGU9T3IuVW5rbm93bix0aGlzLndhdGNoU3RyZWFtRmFpbHVyZXM9MCx0aGlzLm9ubGluZVN0YXRlVGltZXI9bnVsbCx0aGlzLnNob3VsZFdhcm5DbGllbnRJc09mZmxpbmU9ITB9cmV0dXJuIGUucHJvdG90eXBlLmhhbmRsZVdhdGNoU3RyZWFtU3RhcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzOzA9PT10aGlzLndhdGNoU3RyZWFtRmFpbHVyZXMmJih0aGlzLnNldEFuZEJyb2FkY2FzdChPci5Vbmtub3duKSx3KG51bGw9PT10aGlzLm9ubGluZVN0YXRlVGltZXIsIm9ubGluZVN0YXRlVGltZXIgc2hvdWxkbid0IGJlIHN0YXJ0ZWQgeWV0IiksdGhpcy5vbmxpbmVTdGF0ZVRpbWVyPXRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQWZ0ZXJEZWxheShuZS5PbmxpbmVTdGF0ZVRpbWVvdXQsMWU0LChmdW5jdGlvbigpe3JldHVybiBlLm9ubGluZVN0YXRlVGltZXI9bnVsbCx3KGUuc3RhdGU9PT1Pci5Vbmtub3duLCJUaW1lciBzaG91bGQgYmUgY2FuY2VsZWQgaWYgd2UgdHJhbnNpdGlvbmVkIHRvIGEgZGlmZmVyZW50IHN0YXRlLiIpLGUubG9nQ2xpZW50T2ZmbGluZVdhcm5pbmdJZk5lY2Vzc2FyeSgiQmFja2VuZCBkaWRuJ3QgcmVzcG9uZCB3aXRoaW4gMTAgc2Vjb25kcy4iKSxlLnNldEFuZEJyb2FkY2FzdChPci5PZmZsaW5lKSxQcm9taXNlLnJlc29sdmUoKX0pKSl9LGUucHJvdG90eXBlLmhhbmRsZVdhdGNoU3RyZWFtRmFpbHVyZT1mdW5jdGlvbihlKXt0aGlzLnN0YXRlPT09T3IuT25saW5lPyh0aGlzLnNldEFuZEJyb2FkY2FzdChPci5Vbmtub3duKSx3KDA9PT10aGlzLndhdGNoU3RyZWFtRmFpbHVyZXMsIndhdGNoU3RyZWFtRmFpbHVyZXMgbXVzdCBiZSAwIiksdyhudWxsPT09dGhpcy5vbmxpbmVTdGF0ZVRpbWVyLCJvbmxpbmVTdGF0ZVRpbWVyIG11c3QgYmUgbnVsbCIpKToodGhpcy53YXRjaFN0cmVhbUZhaWx1cmVzKyssdGhpcy53YXRjaFN0cmVhbUZhaWx1cmVzPj0xJiYodGhpcy5jbGVhck9ubGluZVN0YXRlVGltZXIoKSx0aGlzLmxvZ0NsaWVudE9mZmxpbmVXYXJuaW5nSWZOZWNlc3NhcnkoIkNvbm5lY3Rpb24gZmFpbGVkIDEgdGltZXMuIE1vc3QgcmVjZW50IGVycm9yOiAiK2UudG9TdHJpbmcoKSksdGhpcy5zZXRBbmRCcm9hZGNhc3QoT3IuT2ZmbGluZSkpKX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUpe3RoaXMuY2xlYXJPbmxpbmVTdGF0ZVRpbWVyKCksdGhpcy53YXRjaFN0cmVhbUZhaWx1cmVzPTAsZT09PU9yLk9ubGluZSYmKHRoaXMuc2hvdWxkV2FybkNsaWVudElzT2ZmbGluZT0hMSksdGhpcy5zZXRBbmRCcm9hZGNhc3QoZSl9LGUucHJvdG90eXBlLnNldEFuZEJyb2FkY2FzdD1mdW5jdGlvbihlKXtlIT09dGhpcy5zdGF0ZSYmKHRoaXMuc3RhdGU9ZSx0aGlzLm9ubGluZVN0YXRlSGFuZGxlcihlKSl9LGUucHJvdG90eXBlLmxvZ0NsaWVudE9mZmxpbmVXYXJuaW5nSWZOZWNlc3Nhcnk9ZnVuY3Rpb24oZSl7dmFyIHQ9IkNvdWxkIG5vdCByZWFjaCBDbG91ZCBGaXJlc3RvcmUgYmFja2VuZC4gIitlKyJcblRoaXMgdHlwaWNhbGx5IGluZGljYXRlcyB0aGF0IHlvdXIgZGV2aWNlIGRvZXMgbm90IGhhdmUgYSBoZWFsdGh5IEludGVybmV0IGNvbm5lY3Rpb24gYXQgdGhlIG1vbWVudC4gVGhlIGNsaWVudCB3aWxsIG9wZXJhdGUgaW4gb2ZmbGluZSBtb2RlIHVudGlsIGl0IGlzIGFibGUgdG8gc3VjY2Vzc2Z1bGx5IGNvbm5lY3QgdG8gdGhlIGJhY2tlbmQuIjt0aGlzLnNob3VsZFdhcm5DbGllbnRJc09mZmxpbmU/KHkodCksdGhpcy5zaG91bGRXYXJuQ2xpZW50SXNPZmZsaW5lPSExKTptKCJPbmxpbmVTdGF0ZVRyYWNrZXIiLHQpfSxlLnByb3RvdHlwZS5jbGVhck9ubGluZVN0YXRlVGltZXI9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5vbmxpbmVTdGF0ZVRpbWVyJiYodGhpcy5vbmxpbmVTdGF0ZVRpbWVyLmNhbmNlbCgpLHRoaXMub25saW5lU3RhdGVUaW1lcj1udWxsKX0sZX0oKTtmdW5jdGlvbiBLcihlKXtzd2l0Y2goZSl7Y2FzZSBTLk9LOnJldHVybiB2KCJUcmVhdGVkIHN0YXR1cyBPSyBhcyBlcnJvciIpO2Nhc2UgUy5DQU5DRUxMRUQ6Y2FzZSBTLlVOS05PV046Y2FzZSBTLkRFQURMSU5FX0VYQ0VFREVEOmNhc2UgUy5SRVNPVVJDRV9FWEhBVVNURUQ6Y2FzZSBTLklOVEVSTkFMOmNhc2UgUy5VTkFWQUlMQUJMRTpjYXNlIFMuVU5BVVRIRU5USUNBVEVEOnJldHVybiExO2Nhc2UgUy5JTlZBTElEX0FSR1VNRU5UOmNhc2UgUy5OT1RfRk9VTkQ6Y2FzZSBTLkFMUkVBRFlfRVhJU1RTOmNhc2UgUy5QRVJNSVNTSU9OX0RFTklFRDpjYXNlIFMuRkFJTEVEX1BSRUNPTkRJVElPTjpjYXNlIFMuQUJPUlRFRDpjYXNlIFMuT1VUX09GX1JBTkdFOmNhc2UgUy5VTklNUExFTUVOVEVEOmNhc2UgUy5EQVRBX0xPU1M6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4gdigiVW5rbm93biBzdGF0dXMgY29kZTogIitlKX19ZnVuY3Rpb24genIoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4geSgiR1JQQyBlcnJvciBoYXMgbm8gLmNvZGUiKSxTLlVOS05PV047c3dpdGNoKGUpe2Nhc2UgVXIuT0s6cmV0dXJuIFMuT0s7Y2FzZSBVci5DQU5DRUxMRUQ6cmV0dXJuIFMuQ0FOQ0VMTEVEO2Nhc2UgVXIuVU5LTk9XTjpyZXR1cm4gUy5VTktOT1dOO2Nhc2UgVXIuREVBRExJTkVfRVhDRUVERUQ6cmV0dXJuIFMuREVBRExJTkVfRVhDRUVERUQ7Y2FzZSBVci5SRVNPVVJDRV9FWEhBVVNURUQ6cmV0dXJuIFMuUkVTT1VSQ0VfRVhIQVVTVEVEO2Nhc2UgVXIuSU5URVJOQUw6cmV0dXJuIFMuSU5URVJOQUw7Y2FzZSBVci5VTkFWQUlMQUJMRTpyZXR1cm4gUy5VTkFWQUlMQUJMRTtjYXNlIFVyLlVOQVVUSEVOVElDQVRFRDpyZXR1cm4gUy5VTkFVVEhFTlRJQ0FURUQ7Y2FzZSBVci5JTlZBTElEX0FSR1VNRU5UOnJldHVybiBTLklOVkFMSURfQVJHVU1FTlQ7Y2FzZSBVci5OT1RfRk9VTkQ6cmV0dXJuIFMuTk9UX0ZPVU5EO2Nhc2UgVXIuQUxSRUFEWV9FWElTVFM6cmV0dXJuIFMuQUxSRUFEWV9FWElTVFM7Y2FzZSBVci5QRVJNSVNTSU9OX0RFTklFRDpyZXR1cm4gUy5QRVJNSVNTSU9OX0RFTklFRDtjYXNlIFVyLkZBSUxFRF9QUkVDT05ESVRJT046cmV0dXJuIFMuRkFJTEVEX1BSRUNPTkRJVElPTjtjYXNlIFVyLkFCT1JURUQ6cmV0dXJuIFMuQUJPUlRFRDtjYXNlIFVyLk9VVF9PRl9SQU5HRTpyZXR1cm4gUy5PVVRfT0ZfUkFOR0U7Y2FzZSBVci5VTklNUExFTUVOVEVEOnJldHVybiBTLlVOSU1QTEVNRU5URUQ7Y2FzZSBVci5EQVRBX0xPU1M6cmV0dXJuIFMuREFUQV9MT1NTO2RlZmF1bHQ6cmV0dXJuIHYoIlVua25vd24gc3RhdHVzIGNvZGU6ICIrZSl9fWZ1bmN0aW9uIFdyKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIFVyLk9LO3N3aXRjaChlKXtjYXNlIFMuT0s6cmV0dXJuIFVyLk9LO2Nhc2UgUy5DQU5DRUxMRUQ6cmV0dXJuIFVyLkNBTkNFTExFRDtjYXNlIFMuVU5LTk9XTjpyZXR1cm4gVXIuVU5LTk9XTjtjYXNlIFMuREVBRExJTkVfRVhDRUVERUQ6cmV0dXJuIFVyLkRFQURMSU5FX0VYQ0VFREVEO2Nhc2UgUy5SRVNPVVJDRV9FWEhBVVNURUQ6cmV0dXJuIFVyLlJFU09VUkNFX0VYSEFVU1RFRDtjYXNlIFMuSU5URVJOQUw6cmV0dXJuIFVyLklOVEVSTkFMO2Nhc2UgUy5VTkFWQUlMQUJMRTpyZXR1cm4gVXIuVU5BVkFJTEFCTEU7Y2FzZSBTLlVOQVVUSEVOVElDQVRFRDpyZXR1cm4gVXIuVU5BVVRIRU5USUNBVEVEO2Nhc2UgUy5JTlZBTElEX0FSR1VNRU5UOnJldHVybiBVci5JTlZBTElEX0FSR1VNRU5UO2Nhc2UgUy5OT1RfRk9VTkQ6cmV0dXJuIFVyLk5PVF9GT1VORDtjYXNlIFMuQUxSRUFEWV9FWElTVFM6cmV0dXJuIFVyLkFMUkVBRFlfRVhJU1RTO2Nhc2UgUy5QRVJNSVNTSU9OX0RFTklFRDpyZXR1cm4gVXIuUEVSTUlTU0lPTl9ERU5JRUQ7Y2FzZSBTLkZBSUxFRF9QUkVDT05ESVRJT046cmV0dXJuIFVyLkZBSUxFRF9QUkVDT05ESVRJT047Y2FzZSBTLkFCT1JURUQ6cmV0dXJuIFVyLkFCT1JURUQ7Y2FzZSBTLk9VVF9PRl9SQU5HRTpyZXR1cm4gVXIuT1VUX09GX1JBTkdFO2Nhc2UgUy5VTklNUExFTUVOVEVEOnJldHVybiBVci5VTklNUExFTUVOVEVEO2Nhc2UgUy5EQVRBX0xPU1M6cmV0dXJuIFVyLkRBVEFfTE9TUztkZWZhdWx0OnJldHVybiB2KCJVbmtub3duIHN0YXR1cyBjb2RlOiAiK2UpfX0hZnVuY3Rpb24oZSl7ZVtlLk9LPTBdPSJPSyIsZVtlLkNBTkNFTExFRD0xXT0iQ0FOQ0VMTEVEIixlW2UuVU5LTk9XTj0yXT0iVU5LTk9XTiIsZVtlLklOVkFMSURfQVJHVU1FTlQ9M109IklOVkFMSURfQVJHVU1FTlQiLGVbZS5ERUFETElORV9FWENFRURFRD00XT0iREVBRExJTkVfRVhDRUVERUQiLGVbZS5OT1RfRk9VTkQ9NV09Ik5PVF9GT1VORCIsZVtlLkFMUkVBRFlfRVhJU1RTPTZdPSJBTFJFQURZX0VYSVNUUyIsZVtlLlBFUk1JU1NJT05fREVOSUVEPTddPSJQRVJNSVNTSU9OX0RFTklFRCIsZVtlLlVOQVVUSEVOVElDQVRFRD0xNl09IlVOQVVUSEVOVElDQVRFRCIsZVtlLlJFU09VUkNFX0VYSEFVU1RFRD04XT0iUkVTT1VSQ0VfRVhIQVVTVEVEIixlW2UuRkFJTEVEX1BSRUNPTkRJVElPTj05XT0iRkFJTEVEX1BSRUNPTkRJVElPTiIsZVtlLkFCT1JURUQ9MTBdPSJBQk9SVEVEIixlW2UuT1VUX09GX1JBTkdFPTExXT0iT1VUX09GX1JBTkdFIixlW2UuVU5JTVBMRU1FTlRFRD0xMl09IlVOSU1QTEVNRU5URUQiLGVbZS5JTlRFUk5BTD0xM109IklOVEVSTkFMIixlW2UuVU5BVkFJTEFCTEU9MTRdPSJVTkFWQUlMQUJMRSIsZVtlLkRBVEFfTE9TUz0xNV09IkRBVEFfTE9TUyJ9KFVyfHwoVXI9e30pKTt2YXIgR3IsanIsSHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuY29tcGFyYXRvcj1lP2Z1bmN0aW9uKHQsbil7cmV0dXJuIGUodCxuKXx8ZGUuY29tcGFyYXRvcih0LmtleSxuLmtleSl9OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGRlLmNvbXBhcmF0b3IoZS5rZXksdC5rZXkpfSx0aGlzLmtleWVkTWFwPUZlKCksdGhpcy5zb3J0ZWRTZXQ9bmV3IF9lKHRoaXMuY29tcGFyYXRvcil9cmV0dXJuIGUuZW1wdHlTZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQuY29tcGFyYXRvcil9LGUucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9dGhpcy5rZXllZE1hcC5nZXQoZSl9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5rZXllZE1hcC5nZXQoZSl9LGUucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc29ydGVkU2V0Lm1pbktleSgpfSxlLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc29ydGVkU2V0Lm1heEtleSgpfSxlLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc29ydGVkU2V0LmlzRW1wdHkoKX0sZS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmtleWVkTWFwLmdldChlKTtyZXR1cm4gdD90aGlzLnNvcnRlZFNldC5pbmRleE9mKHQpOi0xfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3J0ZWRTZXQuc2l6ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe3RoaXMuc29ydGVkU2V0Lmlub3JkZXJUcmF2ZXJzYWwoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUodCksITF9KSl9LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmRlbGV0ZShlLmtleSk7cmV0dXJuIHQuY29weSh0LmtleWVkTWFwLmluc2VydChlLmtleSxlKSx0LnNvcnRlZFNldC5pbnNlcnQoZSxudWxsKSl9LGUucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldChlKTtyZXR1cm4gdD90aGlzLmNvcHkodGhpcy5rZXllZE1hcC5yZW1vdmUoZSksdGhpcy5zb3J0ZWRTZXQucmVtb3ZlKHQpKTp0aGlzfSxlLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXJldHVybiExO2lmKHRoaXMuc2l6ZSE9PXQuc2l6ZSlyZXR1cm4hMTtmb3IodmFyIG49dGhpcy5zb3J0ZWRTZXQuZ2V0SXRlcmF0b3IoKSxyPXQuc29ydGVkU2V0LmdldEl0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgaT1uLmdldE5leHQoKS5rZXksbz1yLmdldE5leHQoKS5rZXk7aWYoIWkuaXNFcXVhbChvKSlyZXR1cm4hMX1yZXR1cm4hMH0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbih0KXtlLnB1c2godC50b1N0cmluZygpKX0pKSwwPT09ZS5sZW5ndGg/IkRvY3VtZW50U2V0ICgpIjoiRG9jdW1lbnRTZXQgKFxuICAiK2Uuam9pbigiICBcbiIpKyJcbikifSxlLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQsbil7dmFyIHI9bmV3IGU7cmV0dXJuIHIuY29tcGFyYXRvcj10aGlzLmNvbXBhcmF0b3Isci5rZXllZE1hcD10LHIuc29ydGVkU2V0PW4scn0sZX0oKTshZnVuY3Rpb24oZSl7ZVtlLkFkZGVkPTBdPSJBZGRlZCIsZVtlLlJlbW92ZWQ9MV09IlJlbW92ZWQiLGVbZS5Nb2RpZmllZD0yXT0iTW9kaWZpZWQiLGVbZS5NZXRhZGF0YT0zXT0iTWV0YWRhdGEifShHcnx8KEdyPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkxvY2FsPTBdPSJMb2NhbCIsZVtlLlN5bmNlZD0xXT0iU3luY2VkIn0oanJ8fChqcj17fSkpO3ZhciBZcixKcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmNoYW5nZU1hcD1uZXcgX2UoZGUuY29tcGFyYXRvcil9cmV0dXJuIGUucHJvdG90eXBlLnRyYWNrPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9jLmtleSxuPXRoaXMuY2hhbmdlTWFwLmdldCh0KTtuP2UudHlwZSE9PUdyLkFkZGVkJiZuLnR5cGU9PT1Hci5NZXRhZGF0YT90aGlzLmNoYW5nZU1hcD10aGlzLmNoYW5nZU1hcC5pbnNlcnQodCxlKTplLnR5cGU9PT1Hci5NZXRhZGF0YSYmbi50eXBlIT09R3IuUmVtb3ZlZD90aGlzLmNoYW5nZU1hcD10aGlzLmNoYW5nZU1hcC5pbnNlcnQodCx7dHlwZTpuLnR5cGUsZG9jOmUuZG9jfSk6ZS50eXBlPT09R3IuTW9kaWZpZWQmJm4udHlwZT09PUdyLk1vZGlmaWVkP3RoaXMuY2hhbmdlTWFwPXRoaXMuY2hhbmdlTWFwLmluc2VydCh0LHt0eXBlOkdyLk1vZGlmaWVkLGRvYzplLmRvY30pOmUudHlwZT09PUdyLk1vZGlmaWVkJiZuLnR5cGU9PT1Hci5BZGRlZD90aGlzLmNoYW5nZU1hcD10aGlzLmNoYW5nZU1hcC5pbnNlcnQodCx7dHlwZTpHci5BZGRlZCxkb2M6ZS5kb2N9KTplLnR5cGU9PT1Hci5SZW1vdmVkJiZuLnR5cGU9PT1Hci5BZGRlZD90aGlzLmNoYW5nZU1hcD10aGlzLmNoYW5nZU1hcC5yZW1vdmUodCk6ZS50eXBlPT09R3IuUmVtb3ZlZCYmbi50eXBlPT09R3IuTW9kaWZpZWQ/dGhpcy5jaGFuZ2VNYXA9dGhpcy5jaGFuZ2VNYXAuaW5zZXJ0KHQse3R5cGU6R3IuUmVtb3ZlZCxkb2M6bi5kb2N9KTplLnR5cGU9PT1Hci5BZGRlZCYmbi50eXBlPT09R3IuUmVtb3ZlZD90aGlzLmNoYW5nZU1hcD10aGlzLmNoYW5nZU1hcC5pbnNlcnQodCx7dHlwZTpHci5Nb2RpZmllZCxkb2M6ZS5kb2N9KTp2KCJ1bnN1cHBvcnRlZCBjb21iaW5hdGlvbiBvZiBjaGFuZ2VzOiAiK0pTT04uc3RyaW5naWZ5KGUpKyIgYWZ0ZXIgIitKU09OLnN0cmluZ2lmeShuKSk6dGhpcy5jaGFuZ2VNYXA9dGhpcy5jaGFuZ2VNYXAuaW5zZXJ0KHQsZSl9LGUucHJvdG90eXBlLmdldENoYW5nZXM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5jaGFuZ2VNYXAuaW5vcmRlclRyYXZlcnNhbCgoZnVuY3Rpb24odCxuKXtlLnB1c2gobil9KSksZX0sZX0oKSxYcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scixpLG8sYSxzKXt0aGlzLnF1ZXJ5PWUsdGhpcy5kb2NzPXQsdGhpcy5vbGREb2NzPW4sdGhpcy5kb2NDaGFuZ2VzPXIsdGhpcy5tdXRhdGVkS2V5cz1pLHRoaXMuZnJvbUNhY2hlPW8sdGhpcy5zeW5jU3RhdGVDaGFuZ2VkPWEsdGhpcy5leGNsdWRlc01ldGFkYXRhQ2hhbmdlcz1zfXJldHVybiBlLmZyb21Jbml0aWFsRG9jdW1lbnRzPWZ1bmN0aW9uKHQsbixyLGkpe3ZhciBvPVtdO3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKGUpe28ucHVzaCh7dHlwZTpHci5BZGRlZCxkb2M6ZX0pfSkpLG5ldyBlKHQsbixIci5lbXB0eVNldChuKSxvLHIsaSwhMCwhMSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaGFzUGVuZGluZ1dyaXRlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiF0aGlzLm11dGF0ZWRLZXlzLmlzRW1wdHkoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZnJvbUNhY2hlIT09ZS5mcm9tQ2FjaGV8fHRoaXMuc3luY1N0YXRlQ2hhbmdlZCE9PWUuc3luY1N0YXRlQ2hhbmdlZHx8IXRoaXMubXV0YXRlZEtleXMuaXNFcXVhbChlLm11dGF0ZWRLZXlzKXx8IXRoaXMucXVlcnkuaXNFcXVhbChlLnF1ZXJ5KXx8IXRoaXMuZG9jcy5pc0VxdWFsKGUuZG9jcyl8fCF0aGlzLm9sZERvY3MuaXNFcXVhbChlLm9sZERvY3MpKXJldHVybiExO3ZhciB0PXRoaXMuZG9jQ2hhbmdlcyxuPWUuZG9jQ2hhbmdlcztpZih0Lmxlbmd0aCE9PW4ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWlmKHRbcl0udHlwZSE9PW5bcl0udHlwZXx8IXRbcl0uZG9jLmlzRXF1YWwobltyXS5kb2MpKXJldHVybiExO3JldHVybiEwfSxlfSgpLFpyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyLGkpe3RoaXMuc25hcHNob3RWZXJzaW9uPWUsdGhpcy50YXJnZXRDaGFuZ2VzPXQsdGhpcy50YXJnZXRNaXNtYXRjaGVzPW4sdGhpcy5kb2N1bWVudFVwZGF0ZXM9cix0aGlzLnJlc29sdmVkTGltYm9Eb2N1bWVudHM9aX1yZXR1cm4gZS5jcmVhdGVTeW50aGVzaXplZFJlbW90ZUV2ZW50Rm9yQ3VycmVudENoYW5nZT1mdW5jdGlvbih0LG4pe3ZhciByLGk9KChyPXt9KVt0XT0kci5jcmVhdGVTeW50aGVzaXplZFRhcmdldENoYW5nZUZvckN1cnJlbnRDaGFuZ2UodCxuKSxyKTtyZXR1cm4gbmV3IGUoRGUuTUlOLGksS2UoKSxPZSgpLFVlKCkpfSxlfSgpLCRyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyLGkpe3RoaXMucmVzdW1lVG9rZW49ZSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmFkZGVkRG9jdW1lbnRzPW4sdGhpcy5tb2RpZmllZERvY3VtZW50cz1yLHRoaXMucmVtb3ZlZERvY3VtZW50cz1pfXJldHVybiBlLmNyZWF0ZVN5bnRoZXNpemVkVGFyZ2V0Q2hhbmdlRm9yQ3VycmVudENoYW5nZT1mdW5jdGlvbih0LG4pe3JldHVybiBuZXcgZShUKCksbixVZSgpLFVlKCksVWUoKSl9LGV9KCksZWk9ZnVuY3Rpb24oZSx0LG4scil7dGhpcy51cGRhdGVkVGFyZ2V0SWRzPWUsdGhpcy5yZW1vdmVkVGFyZ2V0SWRzPXQsdGhpcy5rZXk9bix0aGlzLm5ld0RvYz1yfSx0aT1mdW5jdGlvbihlLHQpe3RoaXMudGFyZ2V0SWQ9ZSx0aGlzLmV4aXN0ZW5jZUZpbHRlcj10fTshZnVuY3Rpb24oZSl7ZVtlLk5vQ2hhbmdlPTBdPSJOb0NoYW5nZSIsZVtlLkFkZGVkPTFdPSJBZGRlZCIsZVtlLlJlbW92ZWQ9Ml09IlJlbW92ZWQiLGVbZS5DdXJyZW50PTNdPSJDdXJyZW50IixlW2UuUmVzZXQ9NF09IlJlc2V0In0oWXJ8fChZcj17fSkpO3ZhciBuaT1mdW5jdGlvbihlLHQsbixyKXt2b2lkIDA9PT1uJiYobj1UKCkpLHZvaWQgMD09PXImJihyPW51bGwpLHRoaXMuc3RhdGU9ZSx0aGlzLnRhcmdldElkcz10LHRoaXMucmVzdW1lVG9rZW49bix0aGlzLmNhdXNlPXJ9LHJpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMucGVuZGluZ1Jlc3BvbnNlcz0wLHRoaXMuZG9jdW1lbnRDaGFuZ2VzPWFpKCksdGhpcy5fcmVzdW1lVG9rZW49VCgpLHRoaXMuX2N1cnJlbnQ9ITEsdGhpcy5faGFzUGVuZGluZ0NoYW5nZXM9ITB9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY3VycmVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVzdW1lVG9rZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVzdW1lVG9rZW59LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc1BlbmRpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMucGVuZGluZ1Jlc3BvbnNlc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImhhc1BlbmRpbmdDaGFuZ2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1BlbmRpbmdDaGFuZ2VzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnVwZGF0ZVJlc3VtZVRva2VuPWZ1bmN0aW9uKGUpe2UubGVuZ3RoPjAmJih0aGlzLl9oYXNQZW5kaW5nQ2hhbmdlcz0hMCx0aGlzLl9yZXN1bWVUb2tlbj1lKX0sZS5wcm90b3R5cGUudG9UYXJnZXRDaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgZT1VZSgpLHQ9VWUoKSxuPVVlKCk7cmV0dXJuIHRoaXMuZG9jdW1lbnRDaGFuZ2VzLmZvckVhY2goKGZ1bmN0aW9uKHIsaSl7c3dpdGNoKGkpe2Nhc2UgR3IuQWRkZWQ6ZT1lLmFkZChyKTticmVhaztjYXNlIEdyLk1vZGlmaWVkOnQ9dC5hZGQocik7YnJlYWs7Y2FzZSBHci5SZW1vdmVkOm49bi5hZGQocik7YnJlYWs7ZGVmYXVsdDp2KCJFbmNvdW50ZXJlZCBpbnZhbGlkIGNoYW5nZSB0eXBlOiAiK2kpfX0pKSxuZXcgJHIodGhpcy5fcmVzdW1lVG9rZW4sdGhpcy5fY3VycmVudCxlLHQsbil9LGUucHJvdG90eXBlLmNsZWFyUGVuZGluZ0NoYW5nZXM9ZnVuY3Rpb24oKXt0aGlzLl9oYXNQZW5kaW5nQ2hhbmdlcz0hMSx0aGlzLmRvY3VtZW50Q2hhbmdlcz1haSgpfSxlLnByb3RvdHlwZS5hZGREb2N1bWVudENoYW5nZT1mdW5jdGlvbihlLHQpe3RoaXMuX2hhc1BlbmRpbmdDaGFuZ2VzPSEwLHRoaXMuZG9jdW1lbnRDaGFuZ2VzPXRoaXMuZG9jdW1lbnRDaGFuZ2VzLmluc2VydChlLHQpfSxlLnByb3RvdHlwZS5yZW1vdmVEb2N1bWVudENoYW5nZT1mdW5jdGlvbihlKXt0aGlzLl9oYXNQZW5kaW5nQ2hhbmdlcz0hMCx0aGlzLmRvY3VtZW50Q2hhbmdlcz10aGlzLmRvY3VtZW50Q2hhbmdlcy5yZW1vdmUoZSl9LGUucHJvdG90eXBlLnJlY29yZFBlbmRpbmdUYXJnZXRSZXF1ZXN0PWZ1bmN0aW9uKCl7dGhpcy5wZW5kaW5nUmVzcG9uc2VzKz0xfSxlLnByb3RvdHlwZS5yZWNvcmRUYXJnZXRSZXNwb25zZT1mdW5jdGlvbigpe3RoaXMucGVuZGluZ1Jlc3BvbnNlcy09MX0sZS5wcm90b3R5cGUubWFya0N1cnJlbnQ9ZnVuY3Rpb24oKXt0aGlzLl9oYXNQZW5kaW5nQ2hhbmdlcz0hMCx0aGlzLl9jdXJyZW50PSEwfSxlfSgpLGlpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLm1ldGFkYXRhUHJvdmlkZXI9ZSx0aGlzLnRhcmdldFN0YXRlcz17fSx0aGlzLnBlbmRpbmdEb2N1bWVudFVwZGF0ZXM9T2UoKSx0aGlzLnBlbmRpbmdEb2N1bWVudFRhcmdldE1hcHBpbmc9b2koKSx0aGlzLnBlbmRpbmdUYXJnZXRSZXNldHM9bmV3IFJlKFgpfXJldHVybiBlLnByb3RvdHlwZS5oYW5kbGVEb2N1bWVudENoYW5nZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPWUudXBkYXRlZFRhcmdldElkczt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9blt0XTtlLm5ld0RvYyBpbnN0YW5jZW9mIEd0P3RoaXMuYWRkRG9jdW1lbnRUb1RhcmdldChyLGUubmV3RG9jKTplLm5ld0RvYyBpbnN0YW5jZW9mIGp0JiZ0aGlzLnJlbW92ZURvY3VtZW50RnJvbVRhcmdldChyLGUua2V5LGUubmV3RG9jKX1mb3IodmFyIGk9MCxvPWUucmVtb3ZlZFRhcmdldElkcztpPG8ubGVuZ3RoO2krKyl7cj1vW2ldO3RoaXMucmVtb3ZlRG9jdW1lbnRGcm9tVGFyZ2V0KHIsZS5rZXksZS5uZXdEb2MpfX0sZS5wcm90b3R5cGUuaGFuZGxlVGFyZ2V0Q2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5mb3JFYWNoVGFyZ2V0KGUsKGZ1bmN0aW9uKG4pe3ZhciByPXQuZW5zdXJlVGFyZ2V0U3RhdGUobik7c3dpdGNoKGUuc3RhdGUpe2Nhc2UgWXIuTm9DaGFuZ2U6dC5pc0FjdGl2ZVRhcmdldChuKSYmci51cGRhdGVSZXN1bWVUb2tlbihlLnJlc3VtZVRva2VuKTticmVhaztjYXNlIFlyLkFkZGVkOnIucmVjb3JkVGFyZ2V0UmVzcG9uc2UoKSxyLmlzUGVuZGluZ3x8ci5jbGVhclBlbmRpbmdDaGFuZ2VzKCksci51cGRhdGVSZXN1bWVUb2tlbihlLnJlc3VtZVRva2VuKTticmVhaztjYXNlIFlyLlJlbW92ZWQ6ci5yZWNvcmRUYXJnZXRSZXNwb25zZSgpLHIuaXNQZW5kaW5nfHx0LnJlbW92ZVRhcmdldChuKSx3KCFlLmNhdXNlLCJXYXRjaENoYW5nZUFnZ3JlZ2F0b3IgZG9lcyBub3QgaGFuZGxlIGVycm9yZWQgdGFyZ2V0cyIpO2JyZWFrO2Nhc2UgWXIuQ3VycmVudDp0LmlzQWN0aXZlVGFyZ2V0KG4pJiYoci5tYXJrQ3VycmVudCgpLHIudXBkYXRlUmVzdW1lVG9rZW4oZS5yZXN1bWVUb2tlbikpO2JyZWFrO2Nhc2UgWXIuUmVzZXQ6dC5pc0FjdGl2ZVRhcmdldChuKSYmKHQucmVzZXRUYXJnZXQobiksci51cGRhdGVSZXN1bWVUb2tlbihlLnJlc3VtZVRva2VuKSk7YnJlYWs7ZGVmYXVsdDp2KCJVbmtub3duIHRhcmdldCB3YXRjaCBjaGFuZ2Ugc3RhdGU6ICIrZS5zdGF0ZSl9fSkpfSxlLnByb3RvdHlwZS5mb3JFYWNoVGFyZ2V0PWZ1bmN0aW9uKGUsdCl7ZS50YXJnZXRJZHMubGVuZ3RoPjA/ZS50YXJnZXRJZHMuZm9yRWFjaCh0KTpfKHRoaXMudGFyZ2V0U3RhdGVzLHQpfSxlLnByb3RvdHlwZS5oYW5kbGVFeGlzdGVuY2VGaWx0ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXRJZCxuPWUuZXhpc3RlbmNlRmlsdGVyLmNvdW50LHI9dGhpcy50YXJnZXREYXRhRm9yQWN0aXZlVGFyZ2V0KHQpO2lmKHIpe3ZhciBpPXIudGFyZ2V0O2lmKGkuaXNEb2N1bWVudFF1ZXJ5KCkpaWYoMD09PW4pe3ZhciBvPW5ldyBkZShpLnBhdGgpO3RoaXMucmVtb3ZlRG9jdW1lbnRGcm9tVGFyZ2V0KHQsbyxuZXcganQobyxEZS5mb3JEZWxldGVkRG9jKCkpKX1lbHNlIHcoMT09PW4sIlNpbmdsZSBkb2N1bWVudCBleGlzdGVuY2UgZmlsdGVyIHdpdGggY291bnQ6ICIrbik7ZWxzZSB0aGlzLmdldEN1cnJlbnREb2N1bWVudENvdW50Rm9yVGFyZ2V0KHQpIT09biYmKHRoaXMucmVzZXRUYXJnZXQodCksdGhpcy5wZW5kaW5nVGFyZ2V0UmVzZXRzPXRoaXMucGVuZGluZ1RhcmdldFJlc2V0cy5hZGQodCkpfX0sZS5wcm90b3R5cGUuY3JlYXRlUmVtb3RlRXZlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXt9O18odGhpcy50YXJnZXRTdGF0ZXMsKGZ1bmN0aW9uKHIsaSl7dmFyIG89dC50YXJnZXREYXRhRm9yQWN0aXZlVGFyZ2V0KHIpO2lmKG8pe2lmKGkuY3VycmVudCYmby50YXJnZXQuaXNEb2N1bWVudFF1ZXJ5KCkpe3ZhciBhPW5ldyBkZShvLnRhcmdldC5wYXRoKTtudWxsIT09dC5wZW5kaW5nRG9jdW1lbnRVcGRhdGVzLmdldChhKXx8dC50YXJnZXRDb250YWluc0RvY3VtZW50KHIsYSl8fHQucmVtb3ZlRG9jdW1lbnRGcm9tVGFyZ2V0KHIsYSxuZXcganQoYSxlKSl9aS5oYXNQZW5kaW5nQ2hhbmdlcyYmKG5bcl09aS50b1RhcmdldENoYW5nZSgpLGkuY2xlYXJQZW5kaW5nQ2hhbmdlcygpKX19KSk7dmFyIHI9VWUoKTt0aGlzLnBlbmRpbmdEb2N1bWVudFRhcmdldE1hcHBpbmcuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXt2YXIgaT0hMDtuLmZvckVhY2hXaGlsZSgoZnVuY3Rpb24oZSl7dmFyIG49dC50YXJnZXREYXRhRm9yQWN0aXZlVGFyZ2V0KGUpO3JldHVybiFufHxuLnB1cnBvc2U9PT1Tbi5MaW1ib1Jlc29sdXRpb258fChpPSExLCExKX0pKSxpJiYocj1yLmFkZChlKSl9KSk7dmFyIGk9bmV3IFpyKGUsbix0aGlzLnBlbmRpbmdUYXJnZXRSZXNldHMsdGhpcy5wZW5kaW5nRG9jdW1lbnRVcGRhdGVzLHIpO3JldHVybiB0aGlzLnBlbmRpbmdEb2N1bWVudFVwZGF0ZXM9T2UoKSx0aGlzLnBlbmRpbmdEb2N1bWVudFRhcmdldE1hcHBpbmc9b2koKSx0aGlzLnBlbmRpbmdUYXJnZXRSZXNldHM9bmV3IFJlKFgpLGl9LGUucHJvdG90eXBlLmFkZERvY3VtZW50VG9UYXJnZXQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmlzQWN0aXZlVGFyZ2V0KGUpKXt2YXIgbj10aGlzLnRhcmdldENvbnRhaW5zRG9jdW1lbnQoZSx0LmtleSk/R3IuTW9kaWZpZWQ6R3IuQWRkZWQ7dGhpcy5lbnN1cmVUYXJnZXRTdGF0ZShlKS5hZGREb2N1bWVudENoYW5nZSh0LmtleSxuKSx0aGlzLnBlbmRpbmdEb2N1bWVudFVwZGF0ZXM9dGhpcy5wZW5kaW5nRG9jdW1lbnRVcGRhdGVzLmluc2VydCh0LmtleSx0KSx0aGlzLnBlbmRpbmdEb2N1bWVudFRhcmdldE1hcHBpbmc9dGhpcy5wZW5kaW5nRG9jdW1lbnRUYXJnZXRNYXBwaW5nLmluc2VydCh0LmtleSx0aGlzLmVuc3VyZURvY3VtZW50VGFyZ2V0TWFwcGluZyh0LmtleSkuYWRkKGUpKX19LGUucHJvdG90eXBlLnJlbW92ZURvY3VtZW50RnJvbVRhcmdldD1mdW5jdGlvbihlLHQsbil7aWYodGhpcy5pc0FjdGl2ZVRhcmdldChlKSl7dmFyIHI9dGhpcy5lbnN1cmVUYXJnZXRTdGF0ZShlKTt0aGlzLnRhcmdldENvbnRhaW5zRG9jdW1lbnQoZSx0KT9yLmFkZERvY3VtZW50Q2hhbmdlKHQsR3IuUmVtb3ZlZCk6ci5yZW1vdmVEb2N1bWVudENoYW5nZSh0KSx0aGlzLnBlbmRpbmdEb2N1bWVudFRhcmdldE1hcHBpbmc9dGhpcy5wZW5kaW5nRG9jdW1lbnRUYXJnZXRNYXBwaW5nLmluc2VydCh0LHRoaXMuZW5zdXJlRG9jdW1lbnRUYXJnZXRNYXBwaW5nKHQpLmRlbGV0ZShlKSksbiYmKHRoaXMucGVuZGluZ0RvY3VtZW50VXBkYXRlcz10aGlzLnBlbmRpbmdEb2N1bWVudFVwZGF0ZXMuaW5zZXJ0KHQsbikpfX0sZS5wcm90b3R5cGUucmVtb3ZlVGFyZ2V0PWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLnRhcmdldFN0YXRlc1tlXX0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudERvY3VtZW50Q291bnRGb3JUYXJnZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lbnN1cmVUYXJnZXRTdGF0ZShlKS50b1RhcmdldENoYW5nZSgpO3JldHVybiB0aGlzLm1ldGFkYXRhUHJvdmlkZXIuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldChlKS5zaXplK3QuYWRkZWREb2N1bWVudHMuc2l6ZS10LnJlbW92ZWREb2N1bWVudHMuc2l6ZX0sZS5wcm90b3R5cGUucmVjb3JkUGVuZGluZ1RhcmdldFJlcXVlc3Q9ZnVuY3Rpb24oZSl7dGhpcy5lbnN1cmVUYXJnZXRTdGF0ZShlKS5yZWNvcmRQZW5kaW5nVGFyZ2V0UmVxdWVzdCgpfSxlLnByb3RvdHlwZS5lbnN1cmVUYXJnZXRTdGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50YXJnZXRTdGF0ZXNbZV18fCh0aGlzLnRhcmdldFN0YXRlc1tlXT1uZXcgcmkpLHRoaXMudGFyZ2V0U3RhdGVzW2VdfSxlLnByb3RvdHlwZS5lbnN1cmVEb2N1bWVudFRhcmdldE1hcHBpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wZW5kaW5nRG9jdW1lbnRUYXJnZXRNYXBwaW5nLmdldChlKTtyZXR1cm4gdHx8KHQ9bmV3IFJlKFgpLHRoaXMucGVuZGluZ0RvY3VtZW50VGFyZ2V0TWFwcGluZz10aGlzLnBlbmRpbmdEb2N1bWVudFRhcmdldE1hcHBpbmcuaW5zZXJ0KGUsdCkpLHR9LGUucHJvdG90eXBlLmlzQWN0aXZlVGFyZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PW51bGwhPT10aGlzLnRhcmdldERhdGFGb3JBY3RpdmVUYXJnZXQoZSk7cmV0dXJuIHR8fG0oIldhdGNoQ2hhbmdlQWdncmVnYXRvciIsIkRldGVjdGVkIGluYWN0aXZlIHRhcmdldCIsZSksdH0sZS5wcm90b3R5cGUudGFyZ2V0RGF0YUZvckFjdGl2ZVRhcmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnRhcmdldFN0YXRlc1tlXTtyZXR1cm4gdCYmdC5pc1BlbmRpbmc/bnVsbDp0aGlzLm1ldGFkYXRhUHJvdmlkZXIuZ2V0VGFyZ2V0RGF0YUZvclRhcmdldChlKX0sZS5wcm90b3R5cGUucmVzZXRUYXJnZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt3KCF0aGlzLnRhcmdldFN0YXRlc1tlXS5pc1BlbmRpbmcsIlNob3VsZCBvbmx5IHJlc2V0IGFjdGl2ZSB0YXJnZXRzIiksdGhpcy50YXJnZXRTdGF0ZXNbZV09bmV3IHJpLHRoaXMubWV0YWRhdGFQcm92aWRlci5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3QucmVtb3ZlRG9jdW1lbnRGcm9tVGFyZ2V0KGUsbixudWxsKX0pKX0sZS5wcm90b3R5cGUudGFyZ2V0Q29udGFpbnNEb2N1bWVudD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1ldGFkYXRhUHJvdmlkZXIuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldChlKS5oYXModCl9LGV9KCk7ZnVuY3Rpb24gb2koKXtyZXR1cm4gbmV3IF9lKGRlLmNvbXBhcmF0b3IpfWZ1bmN0aW9uIGFpKCl7cmV0dXJuIG5ldyBfZShkZS5jb21wYXJhdG9yKX12YXIgc2k9IlJlbW90ZVN0b3JlIix1aT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scixpKXt2YXIgbz10aGlzO3RoaXMubG9jYWxTdG9yZT1lLHRoaXMuZGF0YXN0b3JlPXQsdGhpcy53cml0ZVBpcGVsaW5lPVtdLHRoaXMubGlzdGVuVGFyZ2V0cz17fSx0aGlzLndhdGNoQ2hhbmdlQWdncmVnYXRvcj1udWxsLHRoaXMubmV0d29ya0VuYWJsZWQ9ITEsdGhpcy5pc1ByaW1hcnk9ITEsdGhpcy5jb25uZWN0aXZpdHlNb25pdG9yPWksdGhpcy5jb25uZWN0aXZpdHlNb25pdG9yLmFkZENhbGxiYWNrKChmdW5jdGlvbihlKXtuLmVucXVldWVBbmRGb3JnZXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX19hd2FpdGVyKG8sdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmNhblVzZU5ldHdvcmsoKT8obShzaSwiUmVzdGFydGluZyBzdHJlYW1zIGZvciBuZXR3b3JrIHJlYWNoYWJpbGl0eSBjaGFuZ2UuIiksWzQsdGhpcy5yZXN0YXJ0TmV0d29yaygpXSk6WzMsMl07Y2FzZSAxOmUuc2VudCgpLGUubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzJdfX0pKX0pKX0pKX0pKSx0aGlzLm9ubGluZVN0YXRlVHJhY2tlcj1uZXcgUXIobixyKSx0aGlzLndhdGNoU3RyZWFtPXRoaXMuZGF0YXN0b3JlLm5ld1BlcnNpc3RlbnRXYXRjaFN0cmVhbSh7b25PcGVuOnRoaXMub25XYXRjaFN0cmVhbU9wZW4uYmluZCh0aGlzKSxvbkNsb3NlOnRoaXMub25XYXRjaFN0cmVhbUNsb3NlLmJpbmQodGhpcyksb25XYXRjaENoYW5nZTp0aGlzLm9uV2F0Y2hTdHJlYW1DaGFuZ2UuYmluZCh0aGlzKX0pLHRoaXMud3JpdGVTdHJlYW09dGhpcy5kYXRhc3RvcmUubmV3UGVyc2lzdGVudFdyaXRlU3RyZWFtKHtvbk9wZW46dGhpcy5vbldyaXRlU3RyZWFtT3Blbi5iaW5kKHRoaXMpLG9uQ2xvc2U6dGhpcy5vbldyaXRlU3RyZWFtQ2xvc2UuYmluZCh0aGlzKSxvbkhhbmRzaGFrZUNvbXBsZXRlOnRoaXMub25Xcml0ZUhhbmRzaGFrZUNvbXBsZXRlLmJpbmQodGhpcyksb25NdXRhdGlvblJlc3VsdDp0aGlzLm9uTXV0YXRpb25SZXN1bHQuYmluZCh0aGlzKX0pfXJldHVybiBlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZU5ldHdvcmsoKX0sZS5wcm90b3R5cGUuZW5hYmxlTmV0d29yaz1mdW5jdGlvbigpe3JldHVybiBhLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5uZXR3b3JrRW5hYmxlZD0hMCx0aGlzLmNhblVzZU5ldHdvcmsoKT8oZT10aGlzLndyaXRlU3RyZWFtLFs0LHRoaXMubG9jYWxTdG9yZS5nZXRMYXN0U3RyZWFtVG9rZW4oKV0pOlszLDNdO2Nhc2UgMTpyZXR1cm4gZS5sYXN0U3RyZWFtVG9rZW49dC5zZW50KCksdGhpcy5zaG91bGRTdGFydFdhdGNoU3RyZWFtKCk/dGhpcy5zdGFydFdhdGNoU3RyZWFtKCk6dGhpcy5vbmxpbmVTdGF0ZVRyYWNrZXIuc2V0KE9yLlVua25vd24pLFs0LHRoaXMuZmlsbFdyaXRlUGlwZWxpbmUoKV07Y2FzZSAyOnQuc2VudCgpLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuZGlzYWJsZU5ldHdvcms9ZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMubmV0d29ya0VuYWJsZWQ9ITEsWzQsdGhpcy5kaXNhYmxlTmV0d29ya0ludGVybmFsKCldO2Nhc2UgMTpyZXR1cm4gZS5zZW50KCksdGhpcy5vbmxpbmVTdGF0ZVRyYWNrZXIuc2V0KE9yLk9mZmxpbmUpLFsyXX19KSl9KSl9LGUucHJvdG90eXBlLmRpc2FibGVOZXR3b3JrSW50ZXJuYWw9ZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy53cml0ZVN0cmVhbS5zdG9wKCldO2Nhc2UgMTpyZXR1cm4gZS5zZW50KCksWzQsdGhpcy53YXRjaFN0cmVhbS5zdG9wKCldO2Nhc2UgMjpyZXR1cm4gZS5zZW50KCksdGhpcy53cml0ZVBpcGVsaW5lLmxlbmd0aD4wJiYobShzaSwiU3RvcHBpbmcgd3JpdGUgc3RyZWFtIHdpdGggIit0aGlzLndyaXRlUGlwZWxpbmUubGVuZ3RoKyIgcGVuZGluZyB3cml0ZXMiKSx0aGlzLndyaXRlUGlwZWxpbmU9W10pLHRoaXMuY2xlYW5VcFdhdGNoU3RyZWFtU3RhdGUoKSxbMl19fSkpfSkpfSxlLnByb3RvdHlwZS5zaHV0ZG93bj1mdW5jdGlvbigpe3JldHVybiBhLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbShzaSwiUmVtb3RlU3RvcmUgc2h1dHRpbmcgZG93bi4iKSx0aGlzLm5ldHdvcmtFbmFibGVkPSExLFs0LHRoaXMuZGlzYWJsZU5ldHdvcmtJbnRlcm5hbCgpXTtjYXNlIDE6cmV0dXJuIGUuc2VudCgpLHRoaXMuY29ubmVjdGl2aXR5TW9uaXRvci5zaHV0ZG93bigpLHRoaXMub25saW5lU3RhdGVUcmFja2VyLnNldChPci5Vbmtub3duKSxbMl19fSkpfSkpfSxlLnByb3RvdHlwZS5saXN0ZW49ZnVuY3Rpb24oZSl7Qyh0aGlzLmxpc3RlblRhcmdldHMsZS50YXJnZXRJZCl8fCh0aGlzLmxpc3RlblRhcmdldHNbZS50YXJnZXRJZF09ZSx0aGlzLnNob3VsZFN0YXJ0V2F0Y2hTdHJlYW0oKT90aGlzLnN0YXJ0V2F0Y2hTdHJlYW0oKTp0aGlzLndhdGNoU3RyZWFtLmlzT3BlbigpJiZ0aGlzLnNlbmRXYXRjaFJlcXVlc3QoZSkpfSxlLnByb3RvdHlwZS51bmxpc3Rlbj1mdW5jdGlvbihlKXt3KEModGhpcy5saXN0ZW5UYXJnZXRzLGUpLCJ1bmxpc3RlbiBjYWxsZWQgb24gdGFyZ2V0IG5vIGN1cnJlbnRseSB3YXRjaGVkOiAiK2UpLGRlbGV0ZSB0aGlzLmxpc3RlblRhcmdldHNbZV0sdGhpcy53YXRjaFN0cmVhbS5pc09wZW4oKSYmdGhpcy5zZW5kVW53YXRjaFJlcXVlc3QoZSksQSh0aGlzLmxpc3RlblRhcmdldHMpJiYodGhpcy53YXRjaFN0cmVhbS5pc09wZW4oKT90aGlzLndhdGNoU3RyZWFtLm1hcmtJZGxlKCk6dGhpcy5jYW5Vc2VOZXR3b3JrKCkmJnRoaXMub25saW5lU3RhdGVUcmFja2VyLnNldChPci5Vbmtub3duKSl9LGUucHJvdG90eXBlLmdldFRhcmdldERhdGFGb3JUYXJnZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubGlzdGVuVGFyZ2V0c1tlXXx8bnVsbH0sZS5wcm90b3R5cGUuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zeW5jRW5naW5lLmdldFJlbW90ZUtleXNGb3JUYXJnZXQoZSl9LGUucHJvdG90eXBlLnNlbmRXYXRjaFJlcXVlc3Q9ZnVuY3Rpb24oZSl7dGhpcy53YXRjaENoYW5nZUFnZ3JlZ2F0b3IucmVjb3JkUGVuZGluZ1RhcmdldFJlcXVlc3QoZS50YXJnZXRJZCksdGhpcy53YXRjaFN0cmVhbS53YXRjaChlKX0sZS5wcm90b3R5cGUuc2VuZFVud2F0Y2hSZXF1ZXN0PWZ1bmN0aW9uKGUpe3RoaXMud2F0Y2hDaGFuZ2VBZ2dyZWdhdG9yLnJlY29yZFBlbmRpbmdUYXJnZXRSZXF1ZXN0KGUpLHRoaXMud2F0Y2hTdHJlYW0udW53YXRjaChlKX0sZS5wcm90b3R5cGUuc3RhcnRXYXRjaFN0cmVhbT1mdW5jdGlvbigpe3codGhpcy5zaG91bGRTdGFydFdhdGNoU3RyZWFtKCksInN0YXJ0V2F0Y2hTdHJlYW0oKSBjYWxsZWQgd2hlbiBzaG91bGRTdGFydFdhdGNoU3RyZWFtKCkgaXMgZmFsc2UuIiksdGhpcy53YXRjaENoYW5nZUFnZ3JlZ2F0b3I9bmV3IGlpKHRoaXMpLHRoaXMud2F0Y2hTdHJlYW0uc3RhcnQoKSx0aGlzLm9ubGluZVN0YXRlVHJhY2tlci5oYW5kbGVXYXRjaFN0cmVhbVN0YXJ0KCl9LGUucHJvdG90eXBlLnNob3VsZFN0YXJ0V2F0Y2hTdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5Vc2VOZXR3b3JrKCkmJiF0aGlzLndhdGNoU3RyZWFtLmlzU3RhcnRlZCgpJiYhQSh0aGlzLmxpc3RlblRhcmdldHMpfSxlLnByb3RvdHlwZS5jYW5Vc2VOZXR3b3JrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNQcmltYXJ5JiZ0aGlzLm5ldHdvcmtFbmFibGVkfSxlLnByb3RvdHlwZS5jbGVhblVwV2F0Y2hTdHJlYW1TdGF0ZT1mdW5jdGlvbigpe3RoaXMud2F0Y2hDaGFuZ2VBZ2dyZWdhdG9yPW51bGx9LGUucHJvdG90eXBlLm9uV2F0Y2hTdHJlYW1PcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3JldHVybiBfKHRoaXMubGlzdGVuVGFyZ2V0cywoZnVuY3Rpb24odCxuKXtlLnNlbmRXYXRjaFJlcXVlc3Qobil9KSksWzJdfSkpfSkpfSxlLnByb3RvdHlwZS5vbldhdGNoU3RyZWFtQ2xvc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09ZSYmdyghdGhpcy5zaG91bGRTdGFydFdhdGNoU3RyZWFtKCksIldhdGNoIHN0cmVhbSB3YXMgc3RvcHBlZCBncmFjZWZ1bGx5IHdoaWxlIHN0aWxsIG5lZWRlZC4iKSx0aGlzLmNsZWFuVXBXYXRjaFN0cmVhbVN0YXRlKCksdGhpcy5zaG91bGRTdGFydFdhdGNoU3RyZWFtKCk/KHRoaXMub25saW5lU3RhdGVUcmFja2VyLmhhbmRsZVdhdGNoU3RyZWFtRmFpbHVyZShlKSx0aGlzLnN0YXJ0V2F0Y2hTdHJlYW0oKSk6dGhpcy5vbmxpbmVTdGF0ZVRyYWNrZXIuc2V0KE9yLlVua25vd24pLFsyXX0pKX0pKX0sZS5wcm90b3R5cGUub25XYXRjaFN0cmVhbUNoYW5nZT1mdW5jdGlvbihlLHQpe3JldHVybiBhLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5vbmxpbmVTdGF0ZVRyYWNrZXIuc2V0KE9yLk9ubGluZSksZSBpbnN0YW5jZW9mIG5pJiZlLnN0YXRlPT09WXIuUmVtb3ZlZCYmZS5jYXVzZT9bMix0aGlzLmhhbmRsZVRhcmdldEVycm9yKGUpXTooZSBpbnN0YW5jZW9mIGVpP3RoaXMud2F0Y2hDaGFuZ2VBZ2dyZWdhdG9yLmhhbmRsZURvY3VtZW50Q2hhbmdlKGUpOmUgaW5zdGFuY2VvZiB0aT90aGlzLndhdGNoQ2hhbmdlQWdncmVnYXRvci5oYW5kbGVFeGlzdGVuY2VGaWx0ZXIoZSk6KHcoZSBpbnN0YW5jZW9mIG5pLCJFeHBlY3RlZCB3YXRjaENoYW5nZSB0byBiZSBhbiBpbnN0YW5jZSBvZiBXYXRjaFRhcmdldENoYW5nZSIpLHRoaXMud2F0Y2hDaGFuZ2VBZ2dyZWdhdG9yLmhhbmRsZVRhcmdldENoYW5nZShlKSksdC5pc0VxdWFsKERlLk1JTik/WzMsM106WzQsdGhpcy5sb2NhbFN0b3JlLmdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24oKV0pO2Nhc2UgMTpyZXR1cm4gbj1yLnNlbnQoKSx0LmNvbXBhcmVUbyhuKT49MD9bNCx0aGlzLnJhaXNlV2F0Y2hTbmFwc2hvdCh0KV06WzMsM107Y2FzZSAyOnIuc2VudCgpLHIubGFiZWw9MztjYXNlIDM6cmV0dXJuWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUucmFpc2VXYXRjaFNuYXBzaG90PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dyghZS5pc0VxdWFsKERlLk1JTiksIkNhbid0IHJhaXNlIGV2ZW50IGZvciB1bmtub3duIFNuYXBzaG90VmVyc2lvbiIpO3ZhciBuPXRoaXMud2F0Y2hDaGFuZ2VBZ2dyZWdhdG9yLmNyZWF0ZVJlbW90ZUV2ZW50KGUpO3JldHVybiBfKG4udGFyZ2V0Q2hhbmdlcywoZnVuY3Rpb24obixyKXtpZihyLnJlc3VtZVRva2VuLmxlbmd0aD4wKXt2YXIgaT10Lmxpc3RlblRhcmdldHNbbl07aSYmKHQubGlzdGVuVGFyZ2V0c1tuXT1pLndpdGhSZXN1bWVUb2tlbihyLnJlc3VtZVRva2VuLGUpKX19KSksbi50YXJnZXRNaXNtYXRjaGVzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXQubGlzdGVuVGFyZ2V0c1tlXTtpZihuKXt0Lmxpc3RlblRhcmdldHNbZV09bi53aXRoUmVzdW1lVG9rZW4oVCgpLG4uc25hcHNob3RWZXJzaW9uKSx0LnNlbmRVbndhdGNoUmVxdWVzdChlKTt2YXIgcj1uZXcgQW4obi50YXJnZXQsZSxTbi5FeGlzdGVuY2VGaWx0ZXJNaXNtYXRjaCxuLnNlcXVlbmNlTnVtYmVyKTt0LnNlbmRXYXRjaFJlcXVlc3Qocil9fSkpLHRoaXMuc3luY0VuZ2luZS5hcHBseVJlbW90ZUV2ZW50KG4pfSxlLnByb3RvdHlwZS5oYW5kbGVUYXJnZXRFcnJvcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3coISFlLmNhdXNlLCJIYW5kbGluZyB0YXJnZXQgZXJyb3Igd2l0aG91dCBhIGNhdXNlIik7dmFyIG49ZS5jYXVzZSxyPVByb21pc2UucmVzb2x2ZSgpO3JldHVybiBlLnRhcmdldElkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtyPXIudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2F3YWl0ZXIodCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3JldHVybiBDKHRoaXMubGlzdGVuVGFyZ2V0cyxlKT8oZGVsZXRlIHRoaXMubGlzdGVuVGFyZ2V0c1tlXSx0aGlzLndhdGNoQ2hhbmdlQWdncmVnYXRvci5yZW1vdmVUYXJnZXQoZSksWzIsdGhpcy5zeW5jRW5naW5lLnJlamVjdExpc3RlbihlLG4pXSk6WzJdfSkpfSkpfSkpfSkpLHJ9LGUucHJvdG90eXBlLmZpbGxXcml0ZVBpcGVsaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuY2FuQWRkVG9Xcml0ZVBpcGVsaW5lKCk/KGU9dGhpcy53cml0ZVBpcGVsaW5lLmxlbmd0aD4wP3RoaXMud3JpdGVQaXBlbGluZVt0aGlzLndyaXRlUGlwZWxpbmUubGVuZ3RoLTFdLmJhdGNoSWQ6LTEsWzQsdGhpcy5sb2NhbFN0b3JlLm5leHRNdXRhdGlvbkJhdGNoKGUpXSk6WzMsNF07Y2FzZSAxOnJldHVybiBudWxsIT09KHQ9bi5zZW50KCkpP1szLDJdOigwPT09dGhpcy53cml0ZVBpcGVsaW5lLmxlbmd0aCYmdGhpcy53cml0ZVN0cmVhbS5tYXJrSWRsZSgpLFszLDRdKTtjYXNlIDI6cmV0dXJuIHRoaXMuYWRkVG9Xcml0ZVBpcGVsaW5lKHQpLFs0LHRoaXMuZmlsbFdyaXRlUGlwZWxpbmUoKV07Y2FzZSAzOm4uc2VudCgpLG4ubGFiZWw9NDtjYXNlIDQ6cmV0dXJuIHRoaXMuc2hvdWxkU3RhcnRXcml0ZVN0cmVhbSgpJiZ0aGlzLnN0YXJ0V3JpdGVTdHJlYW0oKSxbMl19fSkpfSkpfSxlLnByb3RvdHlwZS5jYW5BZGRUb1dyaXRlUGlwZWxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5Vc2VOZXR3b3JrKCkmJnRoaXMud3JpdGVQaXBlbGluZS5sZW5ndGg8MTB9LGUucHJvdG90eXBlLm91dHN0YW5kaW5nV3JpdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud3JpdGVQaXBlbGluZS5sZW5ndGh9LGUucHJvdG90eXBlLmFkZFRvV3JpdGVQaXBlbGluZT1mdW5jdGlvbihlKXt3KHRoaXMuY2FuQWRkVG9Xcml0ZVBpcGVsaW5lKCksImFkZFRvV3JpdGVQaXBlbGluZSBjYWxsZWQgd2hlbiBwaXBlbGluZSBpcyBmdWxsIiksdGhpcy53cml0ZVBpcGVsaW5lLnB1c2goZSksdGhpcy53cml0ZVN0cmVhbS5pc09wZW4oKSYmdGhpcy53cml0ZVN0cmVhbS5oYW5kc2hha2VDb21wbGV0ZSYmdGhpcy53cml0ZVN0cmVhbS53cml0ZU11dGF0aW9ucyhlLm11dGF0aW9ucyl9LGUucHJvdG90eXBlLnNob3VsZFN0YXJ0V3JpdGVTdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5Vc2VOZXR3b3JrKCkmJiF0aGlzLndyaXRlU3RyZWFtLmlzU3RhcnRlZCgpJiZ0aGlzLndyaXRlUGlwZWxpbmUubGVuZ3RoPjB9LGUucHJvdG90eXBlLnN0YXJ0V3JpdGVTdHJlYW09ZnVuY3Rpb24oKXt3KHRoaXMuc2hvdWxkU3RhcnRXcml0ZVN0cmVhbSgpLCJzdGFydFdyaXRlU3RyZWFtKCkgY2FsbGVkIHdoZW4gc2hvdWxkU3RhcnRXcml0ZVN0cmVhbSgpIGlzIGZhbHNlLiIpLHRoaXMud3JpdGVTdHJlYW0uc3RhcnQoKX0sZS5wcm90b3R5cGUub25Xcml0ZVN0cmVhbU9wZW49ZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLndyaXRlU3RyZWFtLndyaXRlSGFuZHNoYWtlKCksWzJdfSkpfSkpfSxlLnByb3RvdHlwZS5vbldyaXRlSGFuZHNoYWtlQ29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmxvY2FsU3RvcmUuc2V0TGFzdFN0cmVhbVRva2VuKHRoaXMud3JpdGVTdHJlYW0ubGFzdFN0cmVhbVRva2VuKS50aGVuKChmdW5jdGlvbigpe2Zvcih2YXIgdD0wLG49ZS53cml0ZVBpcGVsaW5lO3Q8bi5sZW5ndGg7dCsrKXt2YXIgcj1uW3RdO2Uud3JpdGVTdHJlYW0ud3JpdGVNdXRhdGlvbnMoci5tdXRhdGlvbnMpfX0pKS5jYXRjaChxbil9LGUucHJvdG90eXBlLm9uTXV0YXRpb25SZXN1bHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3codGhpcy53cml0ZVBpcGVsaW5lLmxlbmd0aD4wLCJHb3QgcmVzdWx0IGZvciBlbXB0eSB3cml0ZSBwaXBlbGluZSIpO3ZhciByPXRoaXMud3JpdGVQaXBlbGluZS5zaGlmdCgpLGk9V2UuZnJvbShyLGUsdCx0aGlzLndyaXRlU3RyZWFtLmxhc3RTdHJlYW1Ub2tlbik7cmV0dXJuIHRoaXMuc3luY0VuZ2luZS5hcHBseVN1Y2Nlc3NmdWxXcml0ZShpKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLmZpbGxXcml0ZVBpcGVsaW5lKCl9KSl9LGUucHJvdG90eXBlLm9uV3JpdGVTdHJlYW1DbG9zZT1mdW5jdGlvbihlKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PWUmJncoIXRoaXMuc2hvdWxkU3RhcnRXcml0ZVN0cmVhbSgpLCJXcml0ZSBzdHJlYW0gd2FzIHN0b3BwZWQgZ3JhY2VmdWxseSB3aGlsZSBzdGlsbCBuZWVkZWQuIiksZSYmdGhpcy53cml0ZVBpcGVsaW5lLmxlbmd0aD4wPyh2b2lkIDAsWzIsKHRoaXMud3JpdGVTdHJlYW0uaGFuZHNoYWtlQ29tcGxldGU/dGhpcy5oYW5kbGVXcml0ZUVycm9yKGUpOnRoaXMuaGFuZGxlSGFuZHNoYWtlRXJyb3IoZSkpLnRoZW4oKGZ1bmN0aW9uKCl7dC5zaG91bGRTdGFydFdyaXRlU3RyZWFtKCkmJnQuc3RhcnRXcml0ZVN0cmVhbSgpfSkpXSk6WzJdfSkpfSkpfSxlLnByb3RvdHlwZS5oYW5kbGVIYW5kc2hha2VFcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3JldHVybiBLcihlLmNvZGUpPyhtKHNpLCJSZW1vdGVTdG9yZSBlcnJvciBiZWZvcmUgY29tcGxldGVkIGhhbmRzaGFrZTsgcmVzZXR0aW5nIHN0cmVhbSB0b2tlbjogIix0aGlzLndyaXRlU3RyZWFtLmxhc3RTdHJlYW1Ub2tlbiksdGhpcy53cml0ZVN0cmVhbS5sYXN0U3RyZWFtVG9rZW49VCgpLFsyLHRoaXMubG9jYWxTdG9yZS5zZXRMYXN0U3RyZWFtVG9rZW4oVCgpKS5jYXRjaChxbildKTpbMl19KSl9KSl9LGUucHJvdG90eXBlLmhhbmRsZVdyaXRlRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXM7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocil7cmV0dXJuIEtyKGk9ZS5jb2RlKSYmaSE9PVMuQUJPUlRFRD8odD10aGlzLndyaXRlUGlwZWxpbmUuc2hpZnQoKSx0aGlzLndyaXRlU3RyZWFtLmluaGliaXRCYWNrb2ZmKCksWzIsdGhpcy5zeW5jRW5naW5lLnJlamVjdEZhaWxlZFdyaXRlKHQuYmF0Y2hJZCxlKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLmZpbGxXcml0ZVBpcGVsaW5lKCl9KSldKTpbMl07dmFyIGl9KSl9KSl9LGUucHJvdG90eXBlLmNyZWF0ZVRyYW5zYWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBCcih0aGlzLmRhdGFzdG9yZSl9LGUucHJvdG90eXBlLnJlc3RhcnROZXR3b3JrPWZ1bmN0aW9uKCl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLm5ldHdvcmtFbmFibGVkPSExLFs0LHRoaXMuZGlzYWJsZU5ldHdvcmtJbnRlcm5hbCgpXTtjYXNlIDE6cmV0dXJuIGUuc2VudCgpLHRoaXMub25saW5lU3RhdGVUcmFja2VyLnNldChPci5Vbmtub3duKSxbNCx0aGlzLmVuYWJsZU5ldHdvcmsoKV07Y2FzZSAyOnJldHVybiBlLnNlbnQoKSxbMl19fSkpfSkpfSxlLnByb3RvdHlwZS5oYW5kbGVDcmVkZW50aWFsQ2hhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmNhblVzZU5ldHdvcmsoKT8obShzaSwiUmVtb3RlU3RvcmUgcmVzdGFydGluZyBzdHJlYW1zIGZvciBuZXcgY3JlZGVudGlhbCIpLFs0LHRoaXMucmVzdGFydE5ldHdvcmsoKV0pOlszLDJdO2Nhc2UgMTplLnNlbnQoKSxlLmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KSl9KSl9LGUucHJvdG90eXBlLmFwcGx5UHJpbWFyeVN0YXRlPWZ1bmN0aW9uKGUpe3JldHVybiBhLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5pc1ByaW1hcnk9ZSxlJiZ0aGlzLm5ldHdvcmtFbmFibGVkP1s0LHRoaXMuZW5hYmxlTmV0d29yaygpXTpbMywyXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFszLDRdO2Nhc2UgMjpyZXR1cm4gZT9bMyw0XTpbNCx0aGlzLmRpc2FibGVOZXR3b3JrSW50ZXJuYWwoKV07Y2FzZSAzOnQuc2VudCgpLHRoaXMub25saW5lU3RhdGVUcmFja2VyLnNldChPci5Vbmtub3duKSx0LmxhYmVsPTQ7Y2FzZSA0OnJldHVyblsyXX19KSl9KSl9LGV9KCksY2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7aWYoUigiR2VvUG9pbnQiLGFyZ3VtZW50cywyKSxPKCJHZW9Qb2ludCIsIm51bWJlciIsMSxlKSxPKCJHZW9Qb2ludCIsIm51bWJlciIsMix0KSwhaXNGaW5pdGUoZSl8fGU8LTkwfHxlPjkwKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiTGF0aXR1ZGUgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIC05MCBhbmQgOTAsIGJ1dCB3YXM6ICIrZSk7aWYoIWlzRmluaXRlKHQpfHx0PC0xODB8fHQ+MTgwKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiTG9uZ2l0dWRlIG11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAtMTgwIGFuZCAxODAsIGJ1dCB3YXM6ICIrdCk7dGhpcy5fbGF0PWUsdGhpcy5fbG9uZz10fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxhdGl0dWRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhdH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxvbmdpdHVkZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb25nfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2xhdD09PWUuX2xhdCYmdGhpcy5fbG9uZz09PWUuX2xvbmd9LGUucHJvdG90eXBlLl9jb21wYXJlVG89ZnVuY3Rpb24oZSl7cmV0dXJuIFgodGhpcy5fbGF0LGUuX2xhdCl8fFgodGhpcy5fbG9uZyxlLl9sb25nKX0sZX0oKSxoaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmFwcGx5VG9Mb2NhbFZpZXc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFZ0KHQsZSl9LGUucHJvdG90eXBlLmFwcGx5VG9SZW1vdGVEb2N1bWVudD1mdW5jdGlvbihlLHQpe3JldHVybiB0fSxlLnByb3RvdHlwZS5jb21wdXRlQmFzZVZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZX0sZS5pbnN0YW5jZT1uZXcgZSxlfSgpLGxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmVsZW1lbnRzPWV9cmV0dXJuIGUucHJvdG90eXBlLmFwcGx5VG9Mb2NhbFZpZXc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hcHBseShlKX0sZS5wcm90b3R5cGUuYXBwbHlUb1JlbW90ZURvY3VtZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYXBwbHkoZSl9LGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1waShlKSxuPWZ1bmN0aW9uKGUpe3QuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNFcXVhbChlKX0pKXx8dC5wdXNoKGUpfSxyPTAsaT10aGlzLmVsZW1lbnRzO3I8aS5sZW5ndGg7cisrKXtuKGlbcl0pfXJldHVybiBuZXcgenQodCl9LGUucHJvdG90eXBlLmNvbXB1dGVCYXNlVmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlJiZaKHQuZWxlbWVudHMsdGhpcy5lbGVtZW50cyl9LGV9KCksZmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuZWxlbWVudHM9ZX1yZXR1cm4gZS5wcm90b3R5cGUuYXBwbHlUb0xvY2FsVmlldz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFwcGx5KGUpfSxlLnByb3RvdHlwZS5hcHBseVRvUmVtb3RlRG9jdW1lbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hcHBseShlKX0sZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXBpKGUpLG49ZnVuY3Rpb24oZSl7dD10LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIXQuaXNFcXVhbChlKX0pKX0scj0wLGk9dGhpcy5lbGVtZW50cztyPGkubGVuZ3RoO3IrKyl7bihpW3JdKX1yZXR1cm4gbmV3IHp0KHQpfSxlLnByb3RvdHlwZS5jb21wdXRlQmFzZVZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZSYmWih0LmVsZW1lbnRzLHRoaXMuZWxlbWVudHMpfSxlfSgpLGRpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLm9wZXJhbmQ9ZX1yZXR1cm4gZS5wcm90b3R5cGUuYXBwbHlUb0xvY2FsVmlldz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY29tcHV0ZUJhc2VWYWx1ZShlKTtpZihuIGluc3RhbmNlb2YgeHQmJnRoaXMub3BlcmFuZCBpbnN0YW5jZW9mIHh0KXt2YXIgcj1uLmludGVybmFsVmFsdWUrdGhpcy5vcGVyYW5kLmludGVybmFsVmFsdWU7cmV0dXJuIG5ldyB4dChyKX1yPW4uaW50ZXJuYWxWYWx1ZSt0aGlzLm9wZXJhbmQuaW50ZXJuYWxWYWx1ZTtyZXR1cm4gbmV3IFB0KHIpfSxlLnByb3RvdHlwZS5hcHBseVRvUmVtb3RlRG9jdW1lbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdyhudWxsIT09dCwiRGlkbid0IHJlY2VpdmUgdHJhbnNmb3JtUmVzdWx0IGZvciBOVU1FUklDX0FERCB0cmFuc2Zvcm0iKSx0fSxlLnByb3RvdHlwZS5jb21wdXRlQmFzZVZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgTHQ/ZTpuZXcgeHQoMCl9LGUucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlJiZ0aGlzLm9wZXJhbmQuaXNFcXVhbCh0Lm9wZXJhbmQpfSxlfSgpO2Z1bmN0aW9uIHBpKGUpe3JldHVybiBlIGluc3RhbmNlb2YgenQ/ZS5pbnRlcm5hbFZhbHVlLnNsaWNlKCk6W119dmFyIG1pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmNvdW50PWV9cmV0dXJuIGUucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuY291bnQ9PT10aGlzLmNvdW50fSxlfSgpLHlpPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbeXIuQVNDRU5ESU5HLm5hbWVdPSJBU0NFTkRJTkciLGVbeXIuREVTQ0VORElORy5uYW1lXT0iREVTQ0VORElORyIsZX0oKSxnaT1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlW2NyLkxFU1NfVEhBTi5uYW1lXT0iTEVTU19USEFOIixlW2NyLkxFU1NfVEhBTl9PUl9FUVVBTC5uYW1lXT0iTEVTU19USEFOX09SX0VRVUFMIixlW2NyLkdSRUFURVJfVEhBTi5uYW1lXT0iR1JFQVRFUl9USEFOIixlW2NyLkdSRUFURVJfVEhBTl9PUl9FUVVBTC5uYW1lXT0iR1JFQVRFUl9USEFOX09SX0VRVUFMIixlW2NyLkVRVUFMLm5hbWVdPSJFUVVBTCIsZVtjci5BUlJBWV9DT05UQUlOUy5uYW1lXT0iQVJSQVlfQ09OVEFJTlMiLGVbY3IuSU4ubmFtZV09IklOIixlW2NyLkFSUkFZX0NPTlRBSU5TX0FOWS5uYW1lXT0iQVJSQVlfQ09OVEFJTlNfQU5ZIixlfSgpLHZpPW5ldyBSZWdFeHAoL15cZHs0fS1cZFxkLVxkXGRUXGRcZDpcZFxkOlxkXGQoPzpcLihcZCspKT9aJC8pO2Z1bmN0aW9uIHdpKGUsdCl7dyghcnIoZSksdCsiIGlzIG1pc3NpbmciKX1mdW5jdGlvbiBiaShlKXtyZXR1cm4ibnVtYmVyIj09PXR5cGVvZiBlP2U6InN0cmluZyI9PT10eXBlb2YgZT9OdW1iZXIoZSk6digiY2FuJ3QgcGFyc2UgIitlKX12YXIgVGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5kYXRhYmFzZUlkPWUsdGhpcy5vcHRpb25zPXR9cmV0dXJuIGUucHJvdG90eXBlLmVtcHR5Qnl0ZVN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudXNlUHJvdG8zSnNvbj8iIjpuZXcgVWludDhBcnJheSgwKX0sZS5wcm90b3R5cGUudW5zYWZlQ2FzdFByb3RvQnl0ZVN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gZX0sZS5wcm90b3R5cGUuZnJvbVJwY1N0YXR1cz1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lLmNvZGU/Uy5VTktOT1dOOnpyKGUuY29kZSk7cmV0dXJuIG5ldyBFKHQsZS5tZXNzYWdlfHwiIil9LGUucHJvdG90eXBlLnRvSW50MzJWYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vcHRpb25zLnVzZVByb3RvM0pzb258fHJyKGUpP2U6e3ZhbHVlOmV9fSxlLnByb3RvdHlwZS5mcm9tSW50MzJWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gcnIodD0ib2JqZWN0Ij09PXR5cGVvZiBlP2UudmFsdWU6ZSk/bnVsbDp0fSxlLnByb3RvdHlwZS50b1RpbWVzdGFtcD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vcHRpb25zLnVzZVByb3RvM0pzb24/bmV3IERhdGUoMWUzKmUuc2Vjb25kcykudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9cLlxkKi8sIiIpLnJlcGxhY2UoIloiLCIiKSsiLiIrKCIwMDAwMDAwMDAiK2UubmFub3NlY29uZHMpLnNsaWNlKC05KSsiWiI6e3NlY29uZHM6IiIrZS5zZWNvbmRzLG5hbm9zOmUubmFub3NlY29uZHN9fSxlLnByb3RvdHlwZS5mcm9tVGltZXN0YW1wPWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciPT09dHlwZW9mIGUpcmV0dXJuIHRoaXMuZnJvbUlzbzg2MDFTdHJpbmcoZSk7dyghIWUsIkNhbm5vdCBkZXNlcmlhbGl6ZSBudWxsIG9yIHVuZGVmaW5lZCB0aW1lc3RhbXAuIik7dmFyIHQ9YmkoZS5zZWNvbmRzfHwiMCIpLG49ZS5uYW5vc3x8MDtyZXR1cm4gbmV3IENlKHQsbil9LGUucHJvdG90eXBlLmZyb21Jc284NjAxU3RyaW5nPWZ1bmN0aW9uKGUpe3ZhciB0PTAsbj12aS5leGVjKGUpO2lmKHcoISFuLCJpbnZhbGlkIHRpbWVzdGFtcDogIitlKSxuWzFdKXt2YXIgcj1uWzFdO3I9KHIrIjAwMDAwMDAwMCIpLnN1YnN0cigwLDkpLHQ9TnVtYmVyKHIpfXZhciBpPW5ldyBEYXRlKGUpLG89TWF0aC5mbG9vcihpLmdldFRpbWUoKS8xZTMpO3JldHVybiBuZXcgQ2Uobyx0KX0sZS5wcm90b3R5cGUudG9CeXRlcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vcHRpb25zLnVzZVByb3RvM0pzb24/ZS50b0Jhc2U2NCgpOnRoaXMudW5zYWZlQ2FzdFByb3RvQnl0ZVN0cmluZyhlLnRvVWludDhBcnJheSgpKX0sZS5wcm90b3R5cGUuZnJvbUJsb2I9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PT10eXBlb2YgZT8odyh0aGlzLm9wdGlvbnMudXNlUHJvdG8zSnNvbiwiRXhwZWN0ZWQgYnl0ZXMgdG8gYmUgcGFzc2VkIGluIGFzIFVpbnQ4QXJyYXksIGJ1dCBnb3QgYSBzdHJpbmcgaW5zdGVhZC4iKSxyZS5mcm9tQmFzZTY0U3RyaW5nKGUpKToodyghdGhpcy5vcHRpb25zLnVzZVByb3RvM0pzb24sIkV4cGVjdGVkIGJ5dGVzIHRvIGJlIHBhc3NlZCBpbiBhcyBVaW50OEFycmF5LCBidXQgZ290IGEgc3RyaW5nIGluc3RlYWQuIikscmUuZnJvbVVpbnQ4QXJyYXkoZSkpfSxlLnByb3RvdHlwZS50b1ZlcnNpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudG9UaW1lc3RhbXAoZS50b1RpbWVzdGFtcCgpKX0sZS5wcm90b3R5cGUuZnJvbVZlcnNpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHcoISFlLCJUcnlpbmcgdG8gZGVzZXJpYWxpemUgdmVyc2lvbiB0aGF0IGlzbid0IHNldCIpLERlLmZyb21UaW1lc3RhbXAodGhpcy5mcm9tVGltZXN0YW1wKGUpKX0sZS5wcm90b3R5cGUudG9SZXNvdXJjZU5hbWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5mdWxseVF1YWxpZmllZFByZWZpeFBhdGgoZSkuY2hpbGQoImRvY3VtZW50cyIpLmNoaWxkKHQpLmNhbm9uaWNhbFN0cmluZygpfSxlLnByb3RvdHlwZS5mcm9tUmVzb3VyY2VOYW1lPWZ1bmN0aW9uKGUpe3ZhciB0PWhlLmZyb21TdHJpbmcoZSk7cmV0dXJuIHcodGhpcy5pc1ZhbGlkUmVzb3VyY2VOYW1lKHQpLCJUcmllZCB0byBkZXNlcmlhbGl6ZSBpbnZhbGlkIGtleSAiK3QudG9TdHJpbmcoKSksdH0sZS5wcm90b3R5cGUudG9OYW1lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRvUmVzb3VyY2VOYW1lKHRoaXMuZGF0YWJhc2VJZCxlLnBhdGgpfSxlLnByb3RvdHlwZS5mcm9tTmFtZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmZyb21SZXNvdXJjZU5hbWUoZSk7cmV0dXJuIHcodC5nZXQoMSk9PT10aGlzLmRhdGFiYXNlSWQucHJvamVjdElkLCJUcmllZCB0byBkZXNlcmlhbGl6ZSBrZXkgZnJvbSBkaWZmZXJlbnQgcHJvamVjdDogIit0LmdldCgxKSsiIHZzICIrdGhpcy5kYXRhYmFzZUlkLnByb2plY3RJZCksdyghdC5nZXQoMykmJiF0aGlzLmRhdGFiYXNlSWQuZGF0YWJhc2V8fHQuZ2V0KDMpPT09dGhpcy5kYXRhYmFzZUlkLmRhdGFiYXNlLCJUcmllZCB0byBkZXNlcmlhbGl6ZSBrZXkgZnJvbSBkaWZmZXJlbnQgZGF0YWJhc2U6ICIrdC5nZXQoMykrIiB2cyAiK3RoaXMuZGF0YWJhc2VJZC5kYXRhYmFzZSksbmV3IGRlKHRoaXMuZXh0cmFjdExvY2FsUGF0aEZyb21SZXNvdXJjZU5hbWUodCkpfSxlLnByb3RvdHlwZS50b1F1ZXJ5UGF0aD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b1Jlc291cmNlTmFtZSh0aGlzLmRhdGFiYXNlSWQsZSl9LGUucHJvdG90eXBlLmZyb21RdWVyeVBhdGg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5mcm9tUmVzb3VyY2VOYW1lKGUpO3JldHVybiA0PT09dC5sZW5ndGg/aGUuRU1QVFlfUEFUSDp0aGlzLmV4dHJhY3RMb2NhbFBhdGhGcm9tUmVzb3VyY2VOYW1lKHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImVuY29kZWREYXRhYmFzZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBoZShbInByb2plY3RzIix0aGlzLmRhdGFiYXNlSWQucHJvamVjdElkLCJkYXRhYmFzZXMiLHRoaXMuZGF0YWJhc2VJZC5kYXRhYmFzZV0pLmNhbm9uaWNhbFN0cmluZygpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmZ1bGx5UXVhbGlmaWVkUHJlZml4UGF0aD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGhlKFsicHJvamVjdHMiLGUucHJvamVjdElkLCJkYXRhYmFzZXMiLGUuZGF0YWJhc2VdKX0sZS5wcm90b3R5cGUuZXh0cmFjdExvY2FsUGF0aEZyb21SZXNvdXJjZU5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZS5sZW5ndGg+NCYmImRvY3VtZW50cyI9PT1lLmdldCg0KSwidHJpZWQgdG8gZGVzZXJpYWxpemUgaW52YWxpZCBrZXkgIitlLnRvU3RyaW5nKCkpLGUucG9wRmlyc3QoNSl9LGUucHJvdG90eXBlLmlzVmFsaWRSZXNvdXJjZU5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGVuZ3RoPj00JiYicHJvamVjdHMiPT09ZS5nZXQoMCkmJiJkYXRhYmFzZXMiPT09ZS5nZXQoMil9LGUucHJvdG90eXBlLnRvVmFsdWU9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIFJ0KXJldHVybntudWxsVmFsdWU6Ik5VTExfVkFMVUUifTtpZihlIGluc3RhbmNlb2YgTXQpcmV0dXJue2Jvb2xlYW5WYWx1ZTplLnZhbHVlKCl9O2lmKGUgaW5zdGFuY2VvZiB4dClyZXR1cm57aW50ZWdlclZhbHVlOiIiK2UudmFsdWUoKX07aWYoZSBpbnN0YW5jZW9mIFB0KXt2YXIgdD1lLnZhbHVlKCk7aWYodGhpcy5vcHRpb25zLnVzZVByb3RvM0pzb24pe2lmKGlzTmFOKHQpKXJldHVybntkb3VibGVWYWx1ZToiTmFOIn07aWYodD09PTEvMClyZXR1cm57ZG91YmxlVmFsdWU6IkluZmluaXR5In07aWYodD09PS0xLzApcmV0dXJue2RvdWJsZVZhbHVlOiItSW5maW5pdHkifX1yZXR1cm57ZG91YmxlVmFsdWU6ZS52YWx1ZSgpfX1yZXR1cm4gZSBpbnN0YW5jZW9mIEZ0P3tzdHJpbmdWYWx1ZTplLnZhbHVlKCl9OmUgaW5zdGFuY2VvZiBLdD97bWFwVmFsdWU6dGhpcy50b01hcFZhbHVlKGUpfTplIGluc3RhbmNlb2YgenQ/e2FycmF5VmFsdWU6dGhpcy50b0FycmF5VmFsdWUoZSl9OmUgaW5zdGFuY2VvZiBxdD97dGltZXN0YW1wVmFsdWU6dGhpcy50b1RpbWVzdGFtcChlLmludGVybmFsVmFsdWUpfTplIGluc3RhbmNlb2YgUXQ/e2dlb1BvaW50VmFsdWU6e2xhdGl0dWRlOmUudmFsdWUoKS5sYXRpdHVkZSxsb25naXR1ZGU6ZS52YWx1ZSgpLmxvbmdpdHVkZX19OmUgaW5zdGFuY2VvZiBCdD97Ynl0ZXNWYWx1ZTp0aGlzLnRvQnl0ZXMoZS52YWx1ZSgpKX06ZSBpbnN0YW5jZW9mIFV0P3tyZWZlcmVuY2VWYWx1ZTp0aGlzLnRvUmVzb3VyY2VOYW1lKGUuZGF0YWJhc2VJZCxlLmtleS5wYXRoKX06digiVW5rbm93biBGaWVsZFZhbHVlICIrSlNPTi5zdHJpbmdpZnkoZSkpfSxlLnByb3RvdHlwZS5mcm9tVmFsdWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZigibnVsbFZhbHVlImluIGUpcmV0dXJuIFJ0LklOU1RBTkNFO2lmKCJib29sZWFuVmFsdWUiaW4gZSlyZXR1cm4gTXQub2YoZS5ib29sZWFuVmFsdWUpO2lmKCJpbnRlZ2VyVmFsdWUiaW4gZSlyZXR1cm4gbmV3IHh0KGJpKGUuaW50ZWdlclZhbHVlKSk7aWYoImRvdWJsZVZhbHVlImluIGUpe2lmKHRoaXMub3B0aW9ucy51c2VQcm90bzNKc29uKXtpZigiTmFOIj09PWUuZG91YmxlVmFsdWUpcmV0dXJuIFB0Lk5BTjtpZigiSW5maW5pdHkiPT09ZS5kb3VibGVWYWx1ZSlyZXR1cm4gUHQuUE9TSVRJVkVfSU5GSU5JVFk7aWYoIi1JbmZpbml0eSI9PT1lLmRvdWJsZVZhbHVlKXJldHVybiBQdC5ORUdBVElWRV9JTkZJTklUWX1yZXR1cm4gbmV3IFB0KGUuZG91YmxlVmFsdWUpfWlmKCJzdHJpbmdWYWx1ZSJpbiBlKXJldHVybiBuZXcgRnQoZS5zdHJpbmdWYWx1ZSk7aWYoIm1hcFZhbHVlImluIGUpcmV0dXJuIHRoaXMuZnJvbUZpZWxkcyhlLm1hcFZhbHVlLmZpZWxkc3x8e30pO2lmKCJhcnJheVZhbHVlImluIGUpe3dpKGUuYXJyYXlWYWx1ZSwiYXJyYXlWYWx1ZSIpO3ZhciBuPWUuYXJyYXlWYWx1ZS52YWx1ZXN8fFtdO3JldHVybiBuZXcgenQobi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZyb21WYWx1ZShlKX0pKSl9aWYoInRpbWVzdGFtcFZhbHVlImluIGUpcmV0dXJuIHdpKGUudGltZXN0YW1wVmFsdWUsInRpbWVzdGFtcFZhbHVlIiksbmV3IHF0KHRoaXMuZnJvbVRpbWVzdGFtcChlLnRpbWVzdGFtcFZhbHVlKSk7aWYoImdlb1BvaW50VmFsdWUiaW4gZSl7d2koZS5nZW9Qb2ludFZhbHVlLCJnZW9Qb2ludFZhbHVlIik7dmFyIHI9ZS5nZW9Qb2ludFZhbHVlLmxhdGl0dWRlfHwwLGk9ZS5nZW9Qb2ludFZhbHVlLmxvbmdpdHVkZXx8MDtyZXR1cm4gbmV3IFF0KG5ldyBjaShyLGkpKX1pZigiYnl0ZXNWYWx1ZSJpbiBlKXt3aShlLmJ5dGVzVmFsdWUsImJ5dGVzVmFsdWUiKTt2YXIgbz10aGlzLmZyb21CbG9iKGUuYnl0ZXNWYWx1ZSk7cmV0dXJuIG5ldyBCdChvKX1pZigicmVmZXJlbmNlVmFsdWUiaW4gZSl7d2koZS5yZWZlcmVuY2VWYWx1ZSwicmVmZXJlbmNlVmFsdWUiKTt2YXIgYT10aGlzLmZyb21SZXNvdXJjZU5hbWUoZS5yZWZlcmVuY2VWYWx1ZSkscz1uZXcgc2UoYS5nZXQoMSksYS5nZXQoMykpLHU9bmV3IGRlKHRoaXMuZXh0cmFjdExvY2FsUGF0aEZyb21SZXNvdXJjZU5hbWUoYSkpO3JldHVybiBuZXcgVXQocyx1KX1yZXR1cm4gdigiVW5rbm93biBWYWx1ZSBwcm90byAiK0pTT04uc3RyaW5naWZ5KGUpKX0sZS5wcm90b3R5cGUudG9NdXRhdGlvbkRvY3VtZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJue25hbWU6dGhpcy50b05hbWUoZSksZmllbGRzOnRoaXMudG9GaWVsZHModCl9fSxlLnByb3RvdHlwZS50b0RvY3VtZW50PWZ1bmN0aW9uKGUpe3JldHVybiB3KCFlLmhhc0xvY2FsTXV0YXRpb25zLCJDYW4ndCBzZXJpYWxpemUgZG9jdW1lbnRzIHdpdGggbXV0YXRpb25zLiIpLHtuYW1lOnRoaXMudG9OYW1lKGUua2V5KSxmaWVsZHM6dGhpcy50b0ZpZWxkcyhlLmRhdGEoKSksdXBkYXRlVGltZTp0aGlzLnRvVGltZXN0YW1wKGUudmVyc2lvbi50b1RpbWVzdGFtcCgpKX19LGUucHJvdG90eXBlLmZyb21Eb2N1bWVudD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj10aGlzLmZyb21OYW1lKGUubmFtZSksaT10aGlzLmZyb21WZXJzaW9uKGUudXBkYXRlVGltZSk7cmV0dXJuIG5ldyBHdChyLGkse2hhc0NvbW1pdHRlZE11dGF0aW9uczohIXR9LHZvaWQgMCxlLChmdW5jdGlvbihlKXtyZXR1cm4gbi5mcm9tVmFsdWUoZSl9KSl9LGUucHJvdG90eXBlLnRvRmllbGRzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj17fTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlLHIpe25bZV09dC50b1ZhbHVlKHIpfSkpLG59LGUucHJvdG90eXBlLmZyb21GaWVsZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWUscj1LdC5FTVBUWTtyZXR1cm4gTihuLChmdW5jdGlvbihlLG4pe3I9ci5zZXQobmV3IGZlKFtlXSksdC5mcm9tVmFsdWUobikpfSkpLHJ9LGUucHJvdG90eXBlLnRvTWFwVmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJue2ZpZWxkczp0aGlzLnRvRmllbGRzKGUpfX0sZS5wcm90b3R5cGUudG9BcnJheVZhbHVlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1bXTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLnB1c2godC50b1ZhbHVlKGUpKX0pKSx7dmFsdWVzOm59fSxlLnByb3RvdHlwZS5mcm9tRm91bmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt3KCEhZS5mb3VuZCwiVHJpZWQgdG8gZGVzZXJpYWxpemUgYSBmb3VuZCBkb2N1bWVudCBmcm9tIGEgbWlzc2luZyBkb2N1bWVudC4iKSx3aShlLmZvdW5kLm5hbWUsImRvYy5mb3VuZC5uYW1lIiksd2koZS5mb3VuZC51cGRhdGVUaW1lLCJkb2MuZm91bmQudXBkYXRlVGltZSIpO3ZhciBuPXRoaXMuZnJvbU5hbWUoZS5mb3VuZC5uYW1lKSxyPXRoaXMuZnJvbVZlcnNpb24oZS5mb3VuZC51cGRhdGVUaW1lKTtyZXR1cm4gbmV3IEd0KG4scix7fSx2b2lkIDAsZS5mb3VuZCwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZnJvbVZhbHVlKGUpfSkpfSxlLnByb3RvdHlwZS5mcm9tTWlzc2luZz1mdW5jdGlvbihlKXt3KCEhZS5taXNzaW5nLCJUcmllZCB0byBkZXNlcmlhbGl6ZSBhIG1pc3NpbmcgZG9jdW1lbnQgZnJvbSBhIGZvdW5kIGRvY3VtZW50LiIpLHcoISFlLnJlYWRUaW1lLCJUcmllZCB0byBkZXNlcmlhbGl6ZSBhIG1pc3NpbmcgZG9jdW1lbnQgd2l0aG91dCBhIHJlYWQgdGltZS4iKTt2YXIgdD10aGlzLmZyb21OYW1lKGUubWlzc2luZyksbj10aGlzLmZyb21WZXJzaW9uKGUucmVhZFRpbWUpO3JldHVybiBuZXcganQodCxuKX0sZS5wcm90b3R5cGUuZnJvbU1heWJlRG9jdW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuImZvdW5kImluIGU/dGhpcy5mcm9tRm91bmQoZSk6Im1pc3NpbmciaW4gZT90aGlzLmZyb21NaXNzaW5nKGUpOnYoImludmFsaWQgYmF0Y2ggZ2V0IHJlc3BvbnNlOiAiK0pTT04uc3RyaW5naWZ5KGUpKX0sZS5wcm90b3R5cGUudG9XYXRjaFRhcmdldENoYW5nZVN0YXRlPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIFlyLkFkZGVkOnJldHVybiJBREQiO2Nhc2UgWXIuQ3VycmVudDpyZXR1cm4iQ1VSUkVOVCI7Y2FzZSBZci5Ob0NoYW5nZTpyZXR1cm4iTk9fQ0hBTkdFIjtjYXNlIFlyLlJlbW92ZWQ6cmV0dXJuIlJFTU9WRSI7Y2FzZSBZci5SZXNldDpyZXR1cm4iUkVTRVQiO2RlZmF1bHQ6cmV0dXJuIHYoIlVua25vd24gV2F0Y2hUYXJnZXRDaGFuZ2VTdGF0ZTogIitlKX19LGUucHJvdG90eXBlLnRvVGVzdFdhdGNoQ2hhbmdlPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB0aSlyZXR1cm57ZmlsdGVyOntjb3VudDplLmV4aXN0ZW5jZUZpbHRlci5jb3VudCx0YXJnZXRJZDplLnRhcmdldElkfX07aWYoZSBpbnN0YW5jZW9mIGVpKXtpZihlLm5ld0RvYyBpbnN0YW5jZW9mIEd0KXt2YXIgdD1lLm5ld0RvYztyZXR1cm57ZG9jdW1lbnRDaGFuZ2U6e2RvY3VtZW50OntuYW1lOnRoaXMudG9OYW1lKHQua2V5KSxmaWVsZHM6dGhpcy50b0ZpZWxkcyh0LmRhdGEoKSksdXBkYXRlVGltZTp0aGlzLnRvVmVyc2lvbih0LnZlcnNpb24pfSx0YXJnZXRJZHM6ZS51cGRhdGVkVGFyZ2V0SWRzLHJlbW92ZWRUYXJnZXRJZHM6ZS5yZW1vdmVkVGFyZ2V0SWRzfX19aWYoZS5uZXdEb2MgaW5zdGFuY2VvZiBqdCl7dD1lLm5ld0RvYztyZXR1cm57ZG9jdW1lbnREZWxldGU6e2RvY3VtZW50OnRoaXMudG9OYW1lKHQua2V5KSxyZWFkVGltZTp0aGlzLnRvVmVyc2lvbih0LnZlcnNpb24pLHJlbW92ZWRUYXJnZXRJZHM6ZS5yZW1vdmVkVGFyZ2V0SWRzfX19aWYobnVsbD09PWUubmV3RG9jKXJldHVybntkb2N1bWVudFJlbW92ZTp7ZG9jdW1lbnQ6dGhpcy50b05hbWUoZS5rZXkpLHJlbW92ZWRUYXJnZXRJZHM6ZS5yZW1vdmVkVGFyZ2V0SWRzfX19aWYoZSBpbnN0YW5jZW9mIG5pKXt2YXIgbj12b2lkIDA7cmV0dXJuIGUuY2F1c2UmJihuPXtjb2RlOldyKGUuY2F1c2UuY29kZSksbWVzc2FnZTplLmNhdXNlLm1lc3NhZ2V9KSx7dGFyZ2V0Q2hhbmdlOnt0YXJnZXRDaGFuZ2VUeXBlOnRoaXMudG9XYXRjaFRhcmdldENoYW5nZVN0YXRlKGUuc3RhdGUpLHRhcmdldElkczplLnRhcmdldElkcyxyZXN1bWVUb2tlbjp0aGlzLnVuc2FmZUNhc3RQcm90b0J5dGVTdHJpbmcoZS5yZXN1bWVUb2tlbiksY2F1c2U6bn19fXJldHVybiB2KCJVbnJlY29nbml6ZWQgd2F0Y2ggY2hhbmdlOiAiK0pTT04uc3RyaW5naWZ5KGUpKX0sZS5wcm90b3R5cGUuZnJvbVdhdGNoQ2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcztpZigidGFyZ2V0Q2hhbmdlImluIGUpe3dpKGUudGFyZ2V0Q2hhbmdlLCJ0YXJnZXRDaGFuZ2UiKTt2YXIgcj10aGlzLmZyb21XYXRjaFRhcmdldENoYW5nZVN0YXRlKGUudGFyZ2V0Q2hhbmdlLnRhcmdldENoYW5nZVR5cGV8fCJOT19DSEFOR0UiKSxpPWUudGFyZ2V0Q2hhbmdlLnRhcmdldElkc3x8W10sbz1lLnRhcmdldENoYW5nZS5yZXN1bWVUb2tlbnx8dGhpcy5lbXB0eUJ5dGVTdHJpbmcoKSxhPWUudGFyZ2V0Q2hhbmdlLmNhdXNlLHM9YSYmdGhpcy5mcm9tUnBjU3RhdHVzKGEpO3Q9bmV3IG5pKHIsaSxvLHN8fG51bGwpfWVsc2UgaWYoImRvY3VtZW50Q2hhbmdlImluIGUpe3dpKGUuZG9jdW1lbnRDaGFuZ2UsImRvY3VtZW50Q2hhbmdlIik7dmFyIHU9ZS5kb2N1bWVudENoYW5nZTt3aSh1LmRvY3VtZW50LCJkb2N1bWVudENoYW5nZS5uYW1lIiksd2kodS5kb2N1bWVudC5uYW1lLCJkb2N1bWVudENoYW5nZS5kb2N1bWVudC5uYW1lIiksd2kodS5kb2N1bWVudC51cGRhdGVUaW1lLCJkb2N1bWVudENoYW5nZS5kb2N1bWVudC51cGRhdGVUaW1lIik7dmFyIGM9dGhpcy5mcm9tTmFtZSh1LmRvY3VtZW50Lm5hbWUpLGg9dGhpcy5mcm9tVmVyc2lvbih1LmRvY3VtZW50LnVwZGF0ZVRpbWUpLGw9bmV3IEd0KGMsaCx7fSx2b2lkIDAsdS5kb2N1bWVudCwoZnVuY3Rpb24oZSl7cmV0dXJuIG4uZnJvbVZhbHVlKGUpfSkpLGY9dS50YXJnZXRJZHN8fFtdLGQ9dS5yZW1vdmVkVGFyZ2V0SWRzfHxbXTt0PW5ldyBlaShmLGQsbC5rZXksbCl9ZWxzZSBpZigiZG9jdW1lbnREZWxldGUiaW4gZSl7d2koZS5kb2N1bWVudERlbGV0ZSwiZG9jdW1lbnREZWxldGUiKTt2YXIgcD1lLmRvY3VtZW50RGVsZXRlO3dpKHAuZG9jdW1lbnQsImRvY3VtZW50RGVsZXRlLmRvY3VtZW50Iik7Yz10aGlzLmZyb21OYW1lKHAuZG9jdW1lbnQpLGg9cC5yZWFkVGltZT90aGlzLmZyb21WZXJzaW9uKHAucmVhZFRpbWUpOkRlLmZvckRlbGV0ZWREb2MoKSxsPW5ldyBqdChjLGgpLGQ9cC5yZW1vdmVkVGFyZ2V0SWRzfHxbXTt0PW5ldyBlaShbXSxkLGwua2V5LGwpfWVsc2UgaWYoImRvY3VtZW50UmVtb3ZlImluIGUpe3dpKGUuZG9jdW1lbnRSZW1vdmUsImRvY3VtZW50UmVtb3ZlIik7dmFyIG09ZS5kb2N1bWVudFJlbW92ZTt3aShtLmRvY3VtZW50LCJkb2N1bWVudFJlbW92ZSIpO2M9dGhpcy5mcm9tTmFtZShtLmRvY3VtZW50KSxkPW0ucmVtb3ZlZFRhcmdldElkc3x8W107dD1uZXcgZWkoW10sZCxjLG51bGwpfWVsc2V7aWYoISgiZmlsdGVyImluIGUpKXJldHVybiB2KCJVbmtub3duIGNoYW5nZSB0eXBlICIrSlNPTi5zdHJpbmdpZnkoZSkpO3dpKGUuZmlsdGVyLCJmaWx0ZXIiKTt2YXIgeT1lLmZpbHRlcjt3aSh5LnRhcmdldElkLCJmaWx0ZXIudGFyZ2V0SWQiKTt2YXIgZz15LmNvdW50fHwwLHc9bmV3IG1pKGcpLGI9eS50YXJnZXRJZDt0PW5ldyB0aShiLHcpfXJldHVybiB0fSxlLnByb3RvdHlwZS5mcm9tV2F0Y2hUYXJnZXRDaGFuZ2VTdGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4iTk9fQ0hBTkdFIj09PWU/WXIuTm9DaGFuZ2U6IkFERCI9PT1lP1lyLkFkZGVkOiJSRU1PVkUiPT09ZT9Zci5SZW1vdmVkOiJDVVJSRU5UIj09PWU/WXIuQ3VycmVudDoiUkVTRVQiPT09ZT9Zci5SZXNldDp2KCJHb3QgdW5leHBlY3RlZCBUYXJnZXRDaGFuZ2Uuc3RhdGU6ICIrZSl9LGUucHJvdG90eXBlLnZlcnNpb25Gcm9tTGlzdGVuUmVzcG9uc2U9ZnVuY3Rpb24oZSl7aWYoISgidGFyZ2V0Q2hhbmdlImluIGUpKXJldHVybiBEZS5NSU47dmFyIHQ9ZS50YXJnZXRDaGFuZ2U7cmV0dXJuIHQudGFyZ2V0SWRzJiZ0LnRhcmdldElkcy5sZW5ndGg/RGUuTUlOOnQucmVhZFRpbWU/dGhpcy5mcm9tVmVyc2lvbih0LnJlYWRUaW1lKTpEZS5NSU59LGUucHJvdG90eXBlLnRvTXV0YXRpb249ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzO2lmKGUgaW5zdGFuY2VvZiBJdCl0PXt1cGRhdGU6dGhpcy50b011dGF0aW9uRG9jdW1lbnQoZS5rZXksZS52YWx1ZSl9O2Vsc2UgaWYoZSBpbnN0YW5jZW9mIF90KXQ9e2RlbGV0ZTp0aGlzLnRvTmFtZShlLmtleSl9O2Vsc2UgaWYoZSBpbnN0YW5jZW9mIEN0KXQ9e3VwZGF0ZTp0aGlzLnRvTXV0YXRpb25Eb2N1bWVudChlLmtleSxlLmRhdGEpLHVwZGF0ZU1hc2s6dGhpcy50b0RvY3VtZW50TWFzayhlLmZpZWxkTWFzayl9O2Vsc2UgaWYoZSBpbnN0YW5jZW9mIER0KXQ9e3RyYW5zZm9ybTp7ZG9jdW1lbnQ6dGhpcy50b05hbWUoZS5rZXkpLGZpZWxkVHJhbnNmb3JtczplLmZpZWxkVHJhbnNmb3Jtcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuLnRvRmllbGRUcmFuc2Zvcm0oZSl9KSl9fTtlbHNle2lmKCEoZSBpbnN0YW5jZW9mIE50KSlyZXR1cm4gdigiVW5rbm93biBtdXRhdGlvbiB0eXBlICIrZS50eXBlKTt0PXt2ZXJpZnk6dGhpcy50b05hbWUoZS5rZXkpfX1yZXR1cm4gZS5wcmVjb25kaXRpb24uaXNOb25lfHwodC5jdXJyZW50RG9jdW1lbnQ9dGhpcy50b1ByZWNvbmRpdGlvbihlLnByZWNvbmRpdGlvbikpLHR9LGUucHJvdG90eXBlLmZyb21NdXRhdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZS5jdXJyZW50RG9jdW1lbnQ/dGhpcy5mcm9tUHJlY29uZGl0aW9uKGUuY3VycmVudERvY3VtZW50KTpTdC5OT05FO2lmKGUudXBkYXRlKXt3aShlLnVwZGF0ZS5uYW1lLCJuYW1lIik7dmFyIHI9dGhpcy5mcm9tTmFtZShlLnVwZGF0ZS5uYW1lKSxpPXRoaXMuZnJvbUZpZWxkcyhlLnVwZGF0ZS5maWVsZHN8fHt9KTtpZihlLnVwZGF0ZU1hc2spe3ZhciBvPXRoaXMuZnJvbURvY3VtZW50TWFzayhlLnVwZGF0ZU1hc2spO3JldHVybiBuZXcgQ3QocixpLG8sbil9cmV0dXJuIG5ldyBJdChyLGksbil9aWYoZS5kZWxldGUpe3I9dGhpcy5mcm9tTmFtZShlLmRlbGV0ZSk7cmV0dXJuIG5ldyBfdChyLG4pfWlmKGUudHJhbnNmb3JtKXtyPXRoaXMuZnJvbU5hbWUoZS50cmFuc2Zvcm0uZG9jdW1lbnQpO3ZhciBhPWUudHJhbnNmb3JtLmZpZWxkVHJhbnNmb3Jtcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZyb21GaWVsZFRyYW5zZm9ybShlKX0pKTtyZXR1cm4gdyghMD09PW4uZXhpc3RzLCdUcmFuc2Zvcm1zIG9ubHkgc3VwcG9ydCBwcmVjb25kaXRpb24gImV4aXN0cyA9PSB0cnVlIicpLG5ldyBEdChyLGEpfWlmKGUudmVyaWZ5KXtyPXRoaXMuZnJvbU5hbWUoZS52ZXJpZnkpO3JldHVybiBuZXcgTnQocixuKX1yZXR1cm4gdigidW5rbm93biBtdXRhdGlvbiBwcm90bzogIitKU09OLnN0cmluZ2lmeShlKSl9LGUucHJvdG90eXBlLnRvUHJlY29uZGl0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB3KCFlLmlzTm9uZSwiQ2FuJ3Qgc2VyaWFsaXplIGFuIGVtcHR5IHByZWNvbmRpdGlvbiIpLHZvaWQgMCE9PWUudXBkYXRlVGltZT97dXBkYXRlVGltZTp0aGlzLnRvVmVyc2lvbihlLnVwZGF0ZVRpbWUpfTp2b2lkIDAhPT1lLmV4aXN0cz97ZXhpc3RzOmUuZXhpc3RzfTp2KCJVbmtub3duIHByZWNvbmRpdGlvbiIpfSxlLnByb3RvdHlwZS5mcm9tUHJlY29uZGl0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lLnVwZGF0ZVRpbWU/U3QudXBkYXRlVGltZSh0aGlzLmZyb21WZXJzaW9uKGUudXBkYXRlVGltZSkpOnZvaWQgMCE9PWUuZXhpc3RzP1N0LmV4aXN0cyhlLmV4aXN0cyk6U3QuTk9ORX0sZS5wcm90b3R5cGUuZnJvbVdyaXRlUmVzdWx0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPWUudXBkYXRlVGltZT90aGlzLmZyb21WZXJzaW9uKGUudXBkYXRlVGltZSk6dGhpcy5mcm9tVmVyc2lvbih0KTtyLmlzRXF1YWwoRGUuTUlOKSYmKHI9dGhpcy5mcm9tVmVyc2lvbih0KSk7dmFyIGk9bnVsbDtyZXR1cm4gZS50cmFuc2Zvcm1SZXN1bHRzJiZlLnRyYW5zZm9ybVJlc3VsdHMubGVuZ3RoPjAmJihpPWUudHJhbnNmb3JtUmVzdWx0cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmZyb21WYWx1ZShlKX0pKSksbmV3IHd0KHIsaSl9LGUucHJvdG90eXBlLmZyb21Xcml0ZVJlc3VsdHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiBlJiZlLmxlbmd0aD4wPyh3KHZvaWQgMCE9PXQsIlJlY2VpdmVkIGEgd3JpdGUgcmVzdWx0IHdpdGhvdXQgYSBjb21taXQgdGltZSIpLGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbi5mcm9tV3JpdGVSZXN1bHQoZSx0KX0pKSk6W119LGUucHJvdG90eXBlLnRvRmllbGRUcmFuc2Zvcm09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWUudHJhbnNmb3JtO2lmKG4gaW5zdGFuY2VvZiBoaSlyZXR1cm57ZmllbGRQYXRoOmUuZmllbGQuY2Fub25pY2FsU3RyaW5nKCksc2V0VG9TZXJ2ZXJWYWx1ZToiUkVRVUVTVF9USU1FIn07aWYobiBpbnN0YW5jZW9mIGxpKXJldHVybntmaWVsZFBhdGg6ZS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSxhcHBlbmRNaXNzaW5nRWxlbWVudHM6e3ZhbHVlczpuLmVsZW1lbnRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQudG9WYWx1ZShlKX0pKX19O2lmKG4gaW5zdGFuY2VvZiBmaSlyZXR1cm57ZmllbGRQYXRoOmUuZmllbGQuY2Fub25pY2FsU3RyaW5nKCkscmVtb3ZlQWxsRnJvbUFycmF5Ont2YWx1ZXM6bi5lbGVtZW50cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnRvVmFsdWUoZSl9KSl9fTtpZihuIGluc3RhbmNlb2YgZGkpcmV0dXJue2ZpZWxkUGF0aDplLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpLGluY3JlbWVudDp0aGlzLnRvVmFsdWUobi5vcGVyYW5kKX07dGhyb3cgdigiVW5rbm93biB0cmFuc2Zvcm06ICIrZS50cmFuc2Zvcm0pfSxlLnByb3RvdHlwZS5mcm9tRmllbGRUcmFuc2Zvcm09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPW51bGw7aWYoInNldFRvU2VydmVyVmFsdWUiaW4gZSl3KCJSRVFVRVNUX1RJTUUiPT09ZS5zZXRUb1NlcnZlclZhbHVlLCJVbmtub3duIHNlcnZlciB2YWx1ZSB0cmFuc2Zvcm0gcHJvdG86ICIrSlNPTi5zdHJpbmdpZnkoZSkpLG49aGkuaW5zdGFuY2U7ZWxzZSBpZigiYXBwZW5kTWlzc2luZ0VsZW1lbnRzImluIGUpe3ZhciByPWUuYXBwZW5kTWlzc2luZ0VsZW1lbnRzLnZhbHVlc3x8W107bj1uZXcgbGkoci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZyb21WYWx1ZShlKX0pKSl9ZWxzZSBpZigicmVtb3ZlQWxsRnJvbUFycmF5ImluIGUpe3I9ZS5yZW1vdmVBbGxGcm9tQXJyYXkudmFsdWVzfHxbXTtuPW5ldyBmaShyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZnJvbVZhbHVlKGUpfSkpKX1lbHNlIGlmKCJpbmNyZW1lbnQiaW4gZSl7dmFyIGk9dGhpcy5mcm9tVmFsdWUoZS5pbmNyZW1lbnQpO3coaSBpbnN0YW5jZW9mIEx0LCJOVU1FUklDX0FERCB0cmFuc2Zvcm0gcmVxdWlyZXMgYSBOdW1iZXJWYWx1ZSIpLG49bmV3IGRpKGkpfWVsc2UgdigiVW5rbm93biB0cmFuc2Zvcm0gcHJvdG86ICIrSlNPTi5zdHJpbmdpZnkoZSkpO3ZhciBvPWZlLmZyb21TZXJ2ZXJGb3JtYXQoZS5maWVsZFBhdGgpO3JldHVybiBuZXcgdnQobyxuKX0sZS5wcm90b3R5cGUudG9Eb2N1bWVudHNUYXJnZXQ9ZnVuY3Rpb24oZSl7cmV0dXJue2RvY3VtZW50czpbdGhpcy50b1F1ZXJ5UGF0aChlLnBhdGgpXX19LGUucHJvdG90eXBlLmZyb21Eb2N1bWVudHNUYXJnZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb2N1bWVudHMubGVuZ3RoO3coMT09PXQsIkRvY3VtZW50c1RhcmdldCBjb250YWluZWQgb3RoZXIgdGhhbiAxIGRvY3VtZW50OiAiK3QpO3ZhciBuPWUuZG9jdW1lbnRzWzBdO3JldHVybiBzci5hdFBhdGgodGhpcy5mcm9tUXVlcnlQYXRoKG4pKS50b1RhcmdldCgpfSxlLnByb3RvdHlwZS50b1F1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXtzdHJ1Y3R1cmVkUXVlcnk6e319LG49ZS5wYXRoO251bGwhPT1lLmNvbGxlY3Rpb25Hcm91cD8odyhuLmxlbmd0aCUyPT09MCwiQ29sbGVjdGlvbiBHcm91cCBxdWVyaWVzIHNob3VsZCBiZSB3aXRoaW4gYSBkb2N1bWVudCBwYXRoIG9yIHJvb3QuIiksdC5wYXJlbnQ9dGhpcy50b1F1ZXJ5UGF0aChuKSx0LnN0cnVjdHVyZWRRdWVyeS5mcm9tPVt7Y29sbGVjdGlvbklkOmUuY29sbGVjdGlvbkdyb3VwLGFsbERlc2NlbmRhbnRzOiEwfV0pOih3KG4ubGVuZ3RoJTIhPT0wLCJEb2N1bWVudCBxdWVyaWVzIHdpdGggZmlsdGVycyBhcmUgbm90IHN1cHBvcnRlZC4iKSx0LnBhcmVudD10aGlzLnRvUXVlcnlQYXRoKG4ucG9wTGFzdCgpKSx0LnN0cnVjdHVyZWRRdWVyeS5mcm9tPVt7Y29sbGVjdGlvbklkOm4ubGFzdFNlZ21lbnQoKX1dKTt2YXIgcj10aGlzLnRvRmlsdGVyKGUuZmlsdGVycyk7ciYmKHQuc3RydWN0dXJlZFF1ZXJ5LndoZXJlPXIpO3ZhciBpPXRoaXMudG9PcmRlcihlLm9yZGVyQnkpO2kmJih0LnN0cnVjdHVyZWRRdWVyeS5vcmRlckJ5PWkpO3ZhciBvPXRoaXMudG9JbnQzMlZhbHVlKGUubGltaXQpO3JldHVybiBudWxsIT09byYmKHQuc3RydWN0dXJlZFF1ZXJ5LmxpbWl0PW8pLGUuc3RhcnRBdCYmKHQuc3RydWN0dXJlZFF1ZXJ5LnN0YXJ0QXQ9dGhpcy50b0N1cnNvcihlLnN0YXJ0QXQpKSxlLmVuZEF0JiYodC5zdHJ1Y3R1cmVkUXVlcnkuZW5kQXQ9dGhpcy50b0N1cnNvcihlLmVuZEF0KSksdH0sZS5wcm90b3R5cGUuZnJvbVF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZnJvbVF1ZXJ5UGF0aChlLnBhcmVudCksbj1lLnN0cnVjdHVyZWRRdWVyeSxyPW4uZnJvbT9uLmZyb20ubGVuZ3RoOjAsaT1udWxsO2lmKHI+MCl7dygxPT09ciwiU3RydWN0dXJlZFF1ZXJ5LmZyb20gd2l0aCBtb3JlIHRoYW4gb25lIGNvbGxlY3Rpb24gaXMgbm90IHN1cHBvcnRlZC4iKTt2YXIgbz1uLmZyb21bMF07by5hbGxEZXNjZW5kYW50cz9pPW8uY29sbGVjdGlvbklkOnQ9dC5jaGlsZChvLmNvbGxlY3Rpb25JZCl9dmFyIGE9W107bi53aGVyZSYmKGE9dGhpcy5mcm9tRmlsdGVyKG4ud2hlcmUpKTt2YXIgcz1bXTtuLm9yZGVyQnkmJihzPXRoaXMuZnJvbU9yZGVyKG4ub3JkZXJCeSkpO3ZhciB1PW51bGw7bi5saW1pdCYmKHU9dGhpcy5mcm9tSW50MzJWYWx1ZShuLmxpbWl0KSk7dmFyIGM9bnVsbDtuLnN0YXJ0QXQmJihjPXRoaXMuZnJvbUN1cnNvcihuLnN0YXJ0QXQpKTt2YXIgaD1udWxsO3JldHVybiBuLmVuZEF0JiYoaD10aGlzLmZyb21DdXJzb3Iobi5lbmRBdCkpLG5ldyBzcih0LGkscyxhLHUsb3IuRmlyc3QsYyxoKS50b1RhcmdldCgpfSxlLnByb3RvdHlwZS50b0xpc3RlblJlcXVlc3RMYWJlbHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50b0xhYmVsKGUucHVycG9zZSk7cmV0dXJuIG51bGw9PXQ/bnVsbDp7Imdvb2ctbGlzdGVuLXRhZ3MiOnR9fSxlLnByb3RvdHlwZS50b0xhYmVsPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIFNuLkxpc3RlbjpyZXR1cm4gbnVsbDtjYXNlIFNuLkV4aXN0ZW5jZUZpbHRlck1pc21hdGNoOnJldHVybiJleGlzdGVuY2UtZmlsdGVyLW1pc21hdGNoIjtjYXNlIFNuLkxpbWJvUmVzb2x1dGlvbjpyZXR1cm4ibGltYm8tZG9jdW1lbnQiO2RlZmF1bHQ6cmV0dXJuIHYoIlVucmVjb2duaXplZCBxdWVyeSBwdXJwb3NlOiAiK2UpfX0sZS5wcm90b3R5cGUudG9UYXJnZXQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnRhcmdldDtyZXR1cm4odD1uLmlzRG9jdW1lbnRRdWVyeSgpP3tkb2N1bWVudHM6dGhpcy50b0RvY3VtZW50c1RhcmdldChuKX06e3F1ZXJ5OnRoaXMudG9RdWVyeVRhcmdldChuKX0pLnRhcmdldElkPWUudGFyZ2V0SWQsZS5yZXN1bWVUb2tlbi5sZW5ndGg+MCYmKHQucmVzdW1lVG9rZW49dGhpcy51bnNhZmVDYXN0UHJvdG9CeXRlU3RyaW5nKGUucmVzdW1lVG9rZW4pKSx0fSxlLnByb3RvdHlwZS50b0ZpbHRlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKDAhPT1lLmxlbmd0aCl7dmFyIG49ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgaHI/dC50b1VuYXJ5T3JGaWVsZEZpbHRlcihlKTp2KCJVbnJlY29nbml6ZWQgZmlsdGVyOiAiK0pTT04uc3RyaW5naWZ5KGUpKX0pKTtyZXR1cm4gMT09PW4ubGVuZ3RoP25bMF06e2NvbXBvc2l0ZUZpbHRlcjp7b3A6IkFORCIsZmlsdGVyczpufX19fSxlLnByb3RvdHlwZS5mcm9tRmlsdGVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGU/dm9pZCAwIT09ZS51bmFyeUZpbHRlcj9bdGhpcy5mcm9tVW5hcnlGaWx0ZXIoZSldOnZvaWQgMCE9PWUuZmllbGRGaWx0ZXI/W3RoaXMuZnJvbUZpZWxkRmlsdGVyKGUpXTp2b2lkIDAhPT1lLmNvbXBvc2l0ZUZpbHRlcj9lLmNvbXBvc2l0ZUZpbHRlci5maWx0ZXJzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZnJvbUZpbHRlcihlKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfSkpOnYoIlVua25vd24gZmlsdGVyOiAiK0pTT04uc3RyaW5naWZ5KGUpKTpbXX0sZS5wcm90b3R5cGUudG9PcmRlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKDAhPT1lLmxlbmd0aClyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnRvUHJvcGVydHlPcmRlcihlKX0pKX0sZS5wcm90b3R5cGUuZnJvbU9yZGVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5mcm9tUHJvcGVydHlPcmRlcihlKX0pKX0sZS5wcm90b3R5cGUudG9DdXJzb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm57YmVmb3JlOmUuYmVmb3JlLHZhbHVlczplLnBvc2l0aW9uLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQudG9WYWx1ZShlKX0pKX19LGUucHJvdG90eXBlLmZyb21DdXJzb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPSEhZS5iZWZvcmUscj1lLnZhbHVlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZyb21WYWx1ZShlKX0pKTtyZXR1cm4gbmV3IGdyKHIsbil9LGUucHJvdG90eXBlLnRvRGlyZWN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB5aVtlLm5hbWVdfSxlLnByb3RvdHlwZS5mcm9tRGlyZWN0aW9uPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIkFTQ0VORElORyI6cmV0dXJuIHlyLkFTQ0VORElORztjYXNlIkRFU0NFTkRJTkciOnJldHVybiB5ci5ERVNDRU5ESU5HO2RlZmF1bHQ6cmV0dXJufX0sZS5wcm90b3R5cGUudG9PcGVyYXRvck5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGdpW2UubmFtZV19LGUucHJvdG90eXBlLmZyb21PcGVyYXRvck5hbWU9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UiRVFVQUwiOnJldHVybiBjci5FUVVBTDtjYXNlIkdSRUFURVJfVEhBTiI6cmV0dXJuIGNyLkdSRUFURVJfVEhBTjtjYXNlIkdSRUFURVJfVEhBTl9PUl9FUVVBTCI6cmV0dXJuIGNyLkdSRUFURVJfVEhBTl9PUl9FUVVBTDtjYXNlIkxFU1NfVEhBTiI6cmV0dXJuIGNyLkxFU1NfVEhBTjtjYXNlIkxFU1NfVEhBTl9PUl9FUVVBTCI6cmV0dXJuIGNyLkxFU1NfVEhBTl9PUl9FUVVBTDtjYXNlIkFSUkFZX0NPTlRBSU5TIjpyZXR1cm4gY3IuQVJSQVlfQ09OVEFJTlM7Y2FzZSJJTiI6cmV0dXJuIGNyLklOO2Nhc2UiQVJSQVlfQ09OVEFJTlNfQU5ZIjpyZXR1cm4gY3IuQVJSQVlfQ09OVEFJTlNfQU5ZO2Nhc2UiT1BFUkFUT1JfVU5TUEVDSUZJRUQiOnJldHVybiB2KCJVbnNwZWNpZmllZCBvcGVyYXRvciIpO2RlZmF1bHQ6cmV0dXJuIHYoIlVua25vd24gb3BlcmF0b3IiKX19LGUucHJvdG90eXBlLnRvRmllbGRQYXRoUmVmZXJlbmNlPWZ1bmN0aW9uKGUpe3JldHVybntmaWVsZFBhdGg6ZS5jYW5vbmljYWxTdHJpbmcoKX19LGUucHJvdG90eXBlLmZyb21GaWVsZFBhdGhSZWZlcmVuY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGZlLmZyb21TZXJ2ZXJGb3JtYXQoZS5maWVsZFBhdGgpfSxlLnByb3RvdHlwZS50b1Byb3BlcnR5T3JkZXI9ZnVuY3Rpb24oZSl7cmV0dXJue2ZpZWxkOnRoaXMudG9GaWVsZFBhdGhSZWZlcmVuY2UoZS5maWVsZCksZGlyZWN0aW9uOnRoaXMudG9EaXJlY3Rpb24oZS5kaXIpfX0sZS5wcm90b3R5cGUuZnJvbVByb3BlcnR5T3JkZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB2cih0aGlzLmZyb21GaWVsZFBhdGhSZWZlcmVuY2UoZS5maWVsZCksdGhpcy5mcm9tRGlyZWN0aW9uKGUuZGlyZWN0aW9uKSl9LGUucHJvdG90eXBlLmZyb21GaWVsZEZpbHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gaHIuY3JlYXRlKHRoaXMuZnJvbUZpZWxkUGF0aFJlZmVyZW5jZShlLmZpZWxkRmlsdGVyLmZpZWxkKSx0aGlzLmZyb21PcGVyYXRvck5hbWUoZS5maWVsZEZpbHRlci5vcCksdGhpcy5mcm9tVmFsdWUoZS5maWVsZEZpbHRlci52YWx1ZSkpfSxlLnByb3RvdHlwZS50b1VuYXJ5T3JGaWVsZEZpbHRlcj1mdW5jdGlvbihlKXtpZihlLm9wPT09Y3IuRVFVQUwpe2lmKGUudmFsdWUuaXNFcXVhbChQdC5OQU4pKXJldHVybnt1bmFyeUZpbHRlcjp7ZmllbGQ6dGhpcy50b0ZpZWxkUGF0aFJlZmVyZW5jZShlLmZpZWxkKSxvcDoiSVNfTkFOIn19O2lmKGUudmFsdWUuaXNFcXVhbChSdC5JTlNUQU5DRSkpcmV0dXJue3VuYXJ5RmlsdGVyOntmaWVsZDp0aGlzLnRvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGQpLG9wOiJJU19OVUxMIn19fXJldHVybntmaWVsZEZpbHRlcjp7ZmllbGQ6dGhpcy50b0ZpZWxkUGF0aFJlZmVyZW5jZShlLmZpZWxkKSxvcDp0aGlzLnRvT3BlcmF0b3JOYW1lKGUub3ApLHZhbHVlOnRoaXMudG9WYWx1ZShlLnZhbHVlKX19fSxlLnByb3RvdHlwZS5mcm9tVW5hcnlGaWx0ZXI9ZnVuY3Rpb24oZSl7c3dpdGNoKGUudW5hcnlGaWx0ZXIub3Ape2Nhc2UiSVNfTkFOIjp2YXIgdD10aGlzLmZyb21GaWVsZFBhdGhSZWZlcmVuY2UoZS51bmFyeUZpbHRlci5maWVsZCk7cmV0dXJuIGhyLmNyZWF0ZSh0LGNyLkVRVUFMLFB0Lk5BTik7Y2FzZSJJU19OVUxMIjp2YXIgbj10aGlzLmZyb21GaWVsZFBhdGhSZWZlcmVuY2UoZS51bmFyeUZpbHRlci5maWVsZCk7cmV0dXJuIGhyLmNyZWF0ZShuLGNyLkVRVUFMLFJ0LklOU1RBTkNFKTtjYXNlIk9QRVJBVE9SX1VOU1BFQ0lGSUVEIjpyZXR1cm4gdigiVW5zcGVjaWZpZWQgZmlsdGVyIik7ZGVmYXVsdDpyZXR1cm4gdigiVW5rbm93biBmaWx0ZXIiKX19LGUucHJvdG90eXBlLnRvRG9jdW1lbnRNYXNrPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpZWxkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdC5wdXNoKGUuY2Fub25pY2FsU3RyaW5nKCkpfSkpLHtmaWVsZFBhdGhzOnR9fSxlLnByb3RvdHlwZS5mcm9tRG9jdW1lbnRNYXNrPWZ1bmN0aW9uKGUpe3ZhciB0PShlLmZpZWxkUGF0aHN8fFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmZS5mcm9tU2VydmVyRm9ybWF0KGUpfSkpO3JldHVybiBndC5mcm9tQXJyYXkodCl9LGV9KCksU2k9ZnVuY3Rpb24oKXt0aGlzLnZpZXdTbmFwPW51bGwsdGhpcy50YXJnZXRJZD0wLHRoaXMubGlzdGVuZXJzPVtdfSxFaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5zeW5jRW5naW5lPWUsdGhpcy5xdWVyaWVzPW5ldyBZdCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2Fub25pY2FsSWQoKX0pKSx0aGlzLm9ubGluZVN0YXRlPU9yLlVua25vd24sdGhpcy5zbmFwc2hvdHNJblN5bmNMaXN0ZW5lcnM9bmV3IFNldCx0aGlzLnN5bmNFbmdpbmUuc3Vic2NyaWJlKHRoaXMpfXJldHVybiBlLnByb3RvdHlwZS5saXN0ZW49ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5xdWVyeSxuPSExLHI9dGhpcy5xdWVyaWVzLmdldCh0KTsocnx8KG49ITAscj1uZXcgU2ksdGhpcy5xdWVyaWVzLnNldCh0LHIpKSxyLmxpc3RlbmVycy5wdXNoKGUpLHcoIWUuYXBwbHlPbmxpbmVTdGF0ZUNoYW5nZSh0aGlzLm9ubGluZVN0YXRlKSwiYXBwbHlPbmxpbmVTdGF0ZUNoYW5nZSgpIHNob3VsZG4ndCByYWlzZSBhbiBldmVudCBmb3IgYnJhbmQtbmV3IGxpc3RlbmVycy4iKSxyLnZpZXdTbmFwKSYmKGUub25WaWV3U25hcHNob3Qoci52aWV3U25hcCkmJnRoaXMucmFpc2VTbmFwc2hvdHNJblN5bmNFdmVudCgpKTtyZXR1cm4gbj90aGlzLnN5bmNFbmdpbmUubGlzdGVuKHQpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiByLnRhcmdldElkPWUsZX0pKTpQcm9taXNlLnJlc29sdmUoci50YXJnZXRJZCl9LGUucHJvdG90eXBlLnVubGlzdGVuPWZ1bmN0aW9uKGUpe3JldHVybiBhLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbixyLGk7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obyl7cmV0dXJuIHQ9ZS5xdWVyeSxuPSExLChyPXRoaXMucXVlcmllcy5nZXQodCkpJiYoaT1yLmxpc3RlbmVycy5pbmRleE9mKGUpKT49MCYmKHIubGlzdGVuZXJzLnNwbGljZShpLDEpLG49MD09PXIubGlzdGVuZXJzLmxlbmd0aCksbj8odGhpcy5xdWVyaWVzLmRlbGV0ZSh0KSxbMix0aGlzLnN5bmNFbmdpbmUudW5saXN0ZW4odCldKTpbMl19KSl9KSl9LGUucHJvdG90eXBlLm9uV2F0Y2hDaGFuZ2U9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSExLG49MCxyPWU7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl0sbz1pLnF1ZXJ5LGE9dGhpcy5xdWVyaWVzLmdldChvKTtpZihhKXtmb3IodmFyIHM9MCx1PWEubGlzdGVuZXJzO3M8dS5sZW5ndGg7cysrKXt1W3NdLm9uVmlld1NuYXBzaG90KGkpJiYodD0hMCl9YS52aWV3U25hcD1pfX10JiZ0aGlzLnJhaXNlU25hcHNob3RzSW5TeW5jRXZlbnQoKX0sZS5wcm90b3R5cGUub25XYXRjaEVycm9yPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5xdWVyaWVzLmdldChlKTtpZihuKWZvcih2YXIgcj0wLGk9bi5saXN0ZW5lcnM7cjxpLmxlbmd0aDtyKyspe2lbcl0ub25FcnJvcih0KX10aGlzLnF1ZXJpZXMuZGVsZXRlKGUpfSxlLnByb3RvdHlwZS5vbk9ubGluZVN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUpe3RoaXMub25saW5lU3RhdGU9ZTt2YXIgdD0hMTt0aGlzLnF1ZXJpZXMuZm9yRWFjaCgoZnVuY3Rpb24obixyKXtmb3IodmFyIGk9MCxvPXIubGlzdGVuZXJzO2k8by5sZW5ndGg7aSsrKXtvW2ldLmFwcGx5T25saW5lU3RhdGVDaGFuZ2UoZSkmJih0PSEwKX19KSksdCYmdGhpcy5yYWlzZVNuYXBzaG90c0luU3luY0V2ZW50KCl9LGUucHJvdG90eXBlLmFkZFNuYXBzaG90c0luU3luY0xpc3RlbmVyPWZ1bmN0aW9uKGUpe3RoaXMuc25hcHNob3RzSW5TeW5jTGlzdGVuZXJzLmFkZChlKSxlLm5leHQoKX0sZS5wcm90b3R5cGUucmVtb3ZlU25hcHNob3RzSW5TeW5jTGlzdGVuZXI9ZnVuY3Rpb24oZSl7dGhpcy5zbmFwc2hvdHNJblN5bmNMaXN0ZW5lcnMuZGVsZXRlKGUpfSxlLnByb3RvdHlwZS5yYWlzZVNuYXBzaG90c0luU3luY0V2ZW50PWZ1bmN0aW9uKCl7dGhpcy5zbmFwc2hvdHNJblN5bmNMaXN0ZW5lcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5uZXh0KCl9KSl9LGV9KCksSWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt0aGlzLnF1ZXJ5PWUsdGhpcy5xdWVyeU9ic2VydmVyPXQsdGhpcy5yYWlzZWRJbml0aWFsRXZlbnQ9ITEsdGhpcy5zbmFwPW51bGwsdGhpcy5vbmxpbmVTdGF0ZT1Pci5Vbmtub3duLHRoaXMub3B0aW9ucz1ufHx7fX1yZXR1cm4gZS5wcm90b3R5cGUub25WaWV3U25hcHNob3Q9ZnVuY3Rpb24oZSl7aWYodyhlLmRvY0NoYW5nZXMubGVuZ3RoPjB8fGUuc3luY1N0YXRlQ2hhbmdlZCwiV2UgZ290IGEgbmV3IHNuYXBzaG90IHdpdGggbm8gY2hhbmdlcz8iKSwhdGhpcy5vcHRpb25zLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXMpe2Zvcih2YXIgdD1bXSxuPTAscj1lLmRvY0NoYW5nZXM7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl07aS50eXBlIT09R3IuTWV0YWRhdGEmJnQucHVzaChpKX1lPW5ldyBYcihlLnF1ZXJ5LGUuZG9jcyxlLm9sZERvY3MsdCxlLm11dGF0ZWRLZXlzLGUuZnJvbUNhY2hlLGUuc3luY1N0YXRlQ2hhbmdlZCwhMCl9dmFyIG89ITE7cmV0dXJuIHRoaXMucmFpc2VkSW5pdGlhbEV2ZW50P3RoaXMuc2hvdWxkUmFpc2VFdmVudChlKSYmKHRoaXMucXVlcnlPYnNlcnZlci5uZXh0KGUpLG89ITApOnRoaXMuc2hvdWxkUmFpc2VJbml0aWFsRXZlbnQoZSx0aGlzLm9ubGluZVN0YXRlKSYmKHRoaXMucmFpc2VJbml0aWFsRXZlbnQoZSksbz0hMCksdGhpcy5zbmFwPWUsb30sZS5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihlKXt0aGlzLnF1ZXJ5T2JzZXJ2ZXIuZXJyb3IoZSl9LGUucHJvdG90eXBlLmFwcGx5T25saW5lU3RhdGVDaGFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5vbmxpbmVTdGF0ZT1lO3ZhciB0PSExO3JldHVybiB0aGlzLnNuYXAmJiF0aGlzLnJhaXNlZEluaXRpYWxFdmVudCYmdGhpcy5zaG91bGRSYWlzZUluaXRpYWxFdmVudCh0aGlzLnNuYXAsZSkmJih0aGlzLnJhaXNlSW5pdGlhbEV2ZW50KHRoaXMuc25hcCksdD0hMCksdH0sZS5wcm90b3R5cGUuc2hvdWxkUmFpc2VJbml0aWFsRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZih3KCF0aGlzLnJhaXNlZEluaXRpYWxFdmVudCwiRGV0ZXJtaW5pbmcgd2hldGhlciB0byByYWlzZSBmaXJzdCBldmVudCBidXQgYWxyZWFkeSBoYWQgZmlyc3QgZXZlbnQiKSwhZS5mcm9tQ2FjaGUpcmV0dXJuITA7dmFyIG49dCE9PU9yLk9mZmxpbmU7cmV0dXJuIHRoaXMub3B0aW9ucy53YWl0Rm9yU3luY1doZW5PbmxpbmUmJm4/KHcoZS5mcm9tQ2FjaGUsIldhaXRpbmcgZm9yIHN5bmMsIGJ1dCBzbmFwc2hvdCBpcyBub3QgZnJvbSBjYWNoZSIpLCExKTohZS5kb2NzLmlzRW1wdHkoKXx8dD09PU9yLk9mZmxpbmV9LGUucHJvdG90eXBlLnNob3VsZFJhaXNlRXZlbnQ9ZnVuY3Rpb24oZSl7aWYoZS5kb2NDaGFuZ2VzLmxlbmd0aD4wKXJldHVybiEwO3ZhciB0PXRoaXMuc25hcCYmdGhpcy5zbmFwLmhhc1BlbmRpbmdXcml0ZXMhPT1lLmhhc1BlbmRpbmdXcml0ZXM7cmV0dXJuISghZS5zeW5jU3RhdGVDaGFuZ2VkJiYhdCkmJiEwPT09dGhpcy5vcHRpb25zLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXN9LGUucHJvdG90eXBlLnJhaXNlSW5pdGlhbEV2ZW50PWZ1bmN0aW9uKGUpe3coIXRoaXMucmFpc2VkSW5pdGlhbEV2ZW50LCJUcnlpbmcgdG8gcmFpc2UgaW5pdGlhbCBldmVudHMgZm9yIHNlY29uZCB0aW1lIiksZT1Yci5mcm9tSW5pdGlhbERvY3VtZW50cyhlLnF1ZXJ5LGUuZG9jcyxlLm11dGF0ZWRLZXlzLGUuZnJvbUNhY2hlKSx0aGlzLnJhaXNlZEluaXRpYWxFdmVudD0hMCx0aGlzLnF1ZXJ5T2JzZXJ2ZXIubmV4dChlKX0sZX0oKSxDaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scil7dGhpcy50YXJnZXRJZD1lLHRoaXMuZnJvbUNhY2hlPXQsdGhpcy5hZGRlZEtleXM9bix0aGlzLnJlbW92ZWRLZXlzPXJ9cmV0dXJuIGUuZnJvbVNuYXBzaG90PWZ1bmN0aW9uKHQsbil7Zm9yKHZhciByPVVlKCksaT1VZSgpLG89MCxhPW4uZG9jQ2hhbmdlcztvPGEubGVuZ3RoO28rKyl7dmFyIHM9YVtvXTtzd2l0Y2gocy50eXBlKXtjYXNlIEdyLkFkZGVkOnI9ci5hZGQocy5kb2Mua2V5KTticmVhaztjYXNlIEdyLlJlbW92ZWQ6aT1pLmFkZChzLmRvYy5rZXkpfX1yZXR1cm4gbmV3IGUodCxuLmZyb21DYWNoZSxyLGkpfSxlfSgpLERpPWZ1bmN0aW9uKGUpe3RoaXMua2V5PWV9LF9pPWZ1bmN0aW9uKGUpe3RoaXMua2V5PWV9LE5pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMucXVlcnk9ZSx0aGlzLl9zeW5jZWREb2N1bWVudHM9dCx0aGlzLnN5bmNTdGF0ZT1udWxsLHRoaXMuY3VycmVudD0hMSx0aGlzLmxpbWJvRG9jdW1lbnRzPVVlKCksdGhpcy5tdXRhdGVkS2V5cz1VZSgpLHRoaXMuZG9jdW1lbnRTZXQ9bmV3IEhyKGUuZG9jQ29tcGFyYXRvci5iaW5kKGUpKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzeW5jZWREb2N1bWVudHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY2VkRG9jdW1lbnRzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNvbXB1dGVEb2NDaGFuZ2VzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPXQ/dC5jaGFuZ2VTZXQ6bmV3IEpyLGk9dD90LmRvY3VtZW50U2V0OnRoaXMuZG9jdW1lbnRTZXQsbz10P3QubXV0YXRlZEtleXM6dGhpcy5tdXRhdGVkS2V5cyxhPWkscz0hMSx1PXRoaXMucXVlcnkuaGFzTGltaXRUb0ZpcnN0KCkmJmkuc2l6ZT09PXRoaXMucXVlcnkubGltaXQ/aS5sYXN0KCk6bnVsbCxjPXRoaXMucXVlcnkuaGFzTGltaXRUb0xhc3QoKSYmaS5zaXplPT09dGhpcy5xdWVyeS5saW1pdD9pLmZpcnN0KCk6bnVsbDtpZihlLmlub3JkZXJUcmF2ZXJzYWwoKGZ1bmN0aW9uKGUsdCl7dmFyIGg9aS5nZXQoZSksbD10IGluc3RhbmNlb2YgR3Q/dDpudWxsO2wmJih3KGUuaXNFcXVhbChsLmtleSksIk1pc21hdGNoaW5nIGtleXMgZm91bmQgaW4gZG9jdW1lbnQgY2hhbmdlczogIitlKyIgIT0gIitsLmtleSksbD1uLnF1ZXJ5Lm1hdGNoZXMobCk/bDpudWxsKTt2YXIgZj0hIWgmJm4ubXV0YXRlZEtleXMuaGFzKGgua2V5KSxkPSEhbCYmKGwuaGFzTG9jYWxNdXRhdGlvbnN8fG4ubXV0YXRlZEtleXMuaGFzKGwua2V5KSYmbC5oYXNDb21taXR0ZWRNdXRhdGlvbnMpLHA9ITE7aCYmbD9oLmRhdGEoKS5pc0VxdWFsKGwuZGF0YSgpKT9mIT09ZCYmKHIudHJhY2soe3R5cGU6R3IuTWV0YWRhdGEsZG9jOmx9KSxwPSEwKTpuLnNob3VsZFdhaXRGb3JTeW5jZWREb2N1bWVudChoLGwpfHwoci50cmFjayh7dHlwZTpHci5Nb2RpZmllZCxkb2M6bH0pLHA9ITAsKHUmJm4ucXVlcnkuZG9jQ29tcGFyYXRvcihsLHUpPjB8fGMmJm4ucXVlcnkuZG9jQ29tcGFyYXRvcihsLGMpPDApJiYocz0hMCkpOiFoJiZsPyhyLnRyYWNrKHt0eXBlOkdyLkFkZGVkLGRvYzpsfSkscD0hMCk6aCYmIWwmJihyLnRyYWNrKHt0eXBlOkdyLlJlbW92ZWQsZG9jOmh9KSxwPSEwLCh1fHxjKSYmKHM9ITApKTtwJiYobD8oYT1hLmFkZChsKSxvPWQ/by5hZGQoZSk6by5kZWxldGUoZSkpOihhPWEuZGVsZXRlKGUpLG89by5kZWxldGUoZSkpKX0pKSx0aGlzLnF1ZXJ5Lmhhc0xpbWl0VG9GaXJzdCgpfHx0aGlzLnF1ZXJ5Lmhhc0xpbWl0VG9MYXN0KCkpZm9yKDthLnNpemU+dGhpcy5xdWVyeS5saW1pdDspe3ZhciBoPXRoaXMucXVlcnkuaGFzTGltaXRUb0ZpcnN0KCk/YS5sYXN0KCk6YS5maXJzdCgpO2E9YS5kZWxldGUoaC5rZXkpLG89by5kZWxldGUoaC5rZXkpLHIudHJhY2soe3R5cGU6R3IuUmVtb3ZlZCxkb2M6aH0pfXJldHVybiB3KCFzfHwhdCwiVmlldyB3YXMgcmVmaWxsZWQgdXNpbmcgZG9jcyB0aGF0IHRoZW1zZWx2ZXMgbmVlZGVkIHJlZmlsbGluZy4iKSx7ZG9jdW1lbnRTZXQ6YSxjaGFuZ2VTZXQ6cixuZWVkc1JlZmlsbDpzLG11dGF0ZWRLZXlzOm99fSxlLnByb3RvdHlwZS5zaG91bGRXYWl0Rm9yU3luY2VkRG9jdW1lbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5oYXNMb2NhbE11dGF0aW9ucyYmdC5oYXNDb21taXR0ZWRNdXRhdGlvbnMmJiF0Lmhhc0xvY2FsTXV0YXRpb25zfSxlLnByb3RvdHlwZS5hcHBseUNoYW5nZXM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXM7dyghZS5uZWVkc1JlZmlsbCwiQ2Fubm90IGFwcGx5IGNoYW5nZXMgdGhhdCBuZWVkIGEgcmVmaWxsIik7dmFyIGk9dGhpcy5kb2N1bWVudFNldDt0aGlzLmRvY3VtZW50U2V0PWUuZG9jdW1lbnRTZXQsdGhpcy5tdXRhdGVkS2V5cz1lLm11dGF0ZWRLZXlzO3ZhciBvPWUuY2hhbmdlU2V0LmdldENoYW5nZXMoKTtvLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgR3IuQWRkZWQ6cmV0dXJuIDE7Y2FzZSBHci5Nb2RpZmllZDpjYXNlIEdyLk1ldGFkYXRhOnJldHVybiAyO2Nhc2UgR3IuUmVtb3ZlZDpyZXR1cm4gMDtkZWZhdWx0OnJldHVybiB2KCJVbmtub3duIENoYW5nZVR5cGU6ICIrZSl9fTtyZXR1cm4gbihlKS1uKHQpfShlLnR5cGUsdC50eXBlKXx8ci5xdWVyeS5kb2NDb21wYXJhdG9yKGUuZG9jLHQuZG9jKX0pKSx0aGlzLmFwcGx5VGFyZ2V0Q2hhbmdlKG4pO3ZhciBhPXQ/dGhpcy51cGRhdGVMaW1ib0RvY3VtZW50cygpOltdLHM9MD09PXRoaXMubGltYm9Eb2N1bWVudHMuc2l6ZSYmdGhpcy5jdXJyZW50P2pyLlN5bmNlZDpqci5Mb2NhbCx1PXMhPT10aGlzLnN5bmNTdGF0ZTtyZXR1cm4gdGhpcy5zeW5jU3RhdGU9cywwIT09by5sZW5ndGh8fHU/e3NuYXBzaG90Om5ldyBYcih0aGlzLnF1ZXJ5LGUuZG9jdW1lbnRTZXQsaSxvLGUubXV0YXRlZEtleXMscz09PWpyLkxvY2FsLHUsITEpLGxpbWJvQ2hhbmdlczphfTp7bGltYm9DaGFuZ2VzOmF9fSxlLnByb3RvdHlwZS5hcHBseU9ubGluZVN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmN1cnJlbnQmJmU9PT1Pci5PZmZsaW5lPyh0aGlzLmN1cnJlbnQ9ITEsdGhpcy5hcHBseUNoYW5nZXMoe2RvY3VtZW50U2V0OnRoaXMuZG9jdW1lbnRTZXQsY2hhbmdlU2V0Om5ldyBKcixtdXRhdGVkS2V5czp0aGlzLm11dGF0ZWRLZXlzLG5lZWRzUmVmaWxsOiExfSwhMSkpOntsaW1ib0NoYW5nZXM6W119fSxlLnByb3RvdHlwZS5zaG91bGRCZUluTGltYm89ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuX3N5bmNlZERvY3VtZW50cy5oYXMoZSkmJighIXRoaXMuZG9jdW1lbnRTZXQuaGFzKGUpJiYhdGhpcy5kb2N1bWVudFNldC5nZXQoZSkuaGFzTG9jYWxNdXRhdGlvbnMpfSxlLnByb3RvdHlwZS5hcHBseVRhcmdldENoYW5nZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2UmJihlLmFkZGVkRG9jdW1lbnRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9zeW5jZWREb2N1bWVudHM9dC5fc3luY2VkRG9jdW1lbnRzLmFkZChlKX0pKSxlLm1vZGlmaWVkRG9jdW1lbnRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB3KHQuX3N5bmNlZERvY3VtZW50cy5oYXMoZSksIk1vZGlmaWVkIGRvY3VtZW50ICIrZSsiIG5vdCBmb3VuZCBpbiB2aWV3LiIpfSkpLGUucmVtb3ZlZERvY3VtZW50cy5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdC5fc3luY2VkRG9jdW1lbnRzPXQuX3N5bmNlZERvY3VtZW50cy5kZWxldGUoZSl9KSksdGhpcy5jdXJyZW50PWUuY3VycmVudCl9LGUucHJvdG90eXBlLnVwZGF0ZUxpbWJvRG9jdW1lbnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5jdXJyZW50KXJldHVybltdO3ZhciB0PXRoaXMubGltYm9Eb2N1bWVudHM7dGhpcy5saW1ib0RvY3VtZW50cz1VZSgpLHRoaXMuZG9jdW1lbnRTZXQuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5zaG91bGRCZUluTGltYm8odC5rZXkpJiYoZS5saW1ib0RvY3VtZW50cz1lLmxpbWJvRG9jdW1lbnRzLmFkZCh0LmtleSkpfSkpO3ZhciBuPVtdO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2UubGltYm9Eb2N1bWVudHMuaGFzKHQpfHxuLnB1c2gobmV3IF9pKHQpKX0pKSx0aGlzLmxpbWJvRG9jdW1lbnRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuaGFzKGUpfHxuLnB1c2gobmV3IERpKGUpKX0pKSxufSxlLnByb3RvdHlwZS5zeW5jaHJvbml6ZVdpdGhQZXJzaXN0ZWRTdGF0ZT1mdW5jdGlvbihlKXt0aGlzLl9zeW5jZWREb2N1bWVudHM9ZS5yZW1vdGVLZXlzLHRoaXMubGltYm9Eb2N1bWVudHM9VWUoKTt2YXIgdD10aGlzLmNvbXB1dGVEb2NDaGFuZ2VzKGUuZG9jdW1lbnRzKTtyZXR1cm4gdGhpcy5hcHBseUNoYW5nZXModCwhMCl9LGUucHJvdG90eXBlLmNvbXB1dGVJbml0aWFsU25hcHNob3Q9ZnVuY3Rpb24oKXtyZXR1cm4gWHIuZnJvbUluaXRpYWxEb2N1bWVudHModGhpcy5xdWVyeSx0aGlzLmRvY3VtZW50U2V0LHRoaXMubXV0YXRlZEtleXMsdGhpcy5zeW5jU3RhdGU9PT1qci5Mb2NhbCl9LGV9KCk7dmFyIEFpPTUsa2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLHIpe3RoaXMuYXN5bmNRdWV1ZT1lLHRoaXMucmVtb3RlU3RvcmU9dCx0aGlzLnVwZGF0ZUZ1bmN0aW9uPW4sdGhpcy5kZWZlcnJlZD1yLHRoaXMucmV0cmllcz1BaSx0aGlzLmJhY2tvZmY9bmV3IExyKHRoaXMuYXN5bmNRdWV1ZSxuZS5SZXRyeVRyYW5zYWN0aW9uKX1yZXR1cm4gZS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5ydW5XaXRoQmFja09mZigpfSxlLnByb3RvdHlwZS5ydW5XaXRoQmFja09mZj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5iYWNrb2ZmLmJhY2tvZmZBbmRSdW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX19hd2FpdGVyKGUsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LG49dGhpcztyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihyKXtyZXR1cm4gZT10aGlzLnJlbW90ZVN0b3JlLmNyZWF0ZVRyYW5zYWN0aW9uKCksKHQ9dGhpcy50cnlSdW5VcGRhdGVGdW5jdGlvbihlKSkmJnQudGhlbigoZnVuY3Rpb24odCl7bi5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuY29tbWl0KCkudGhlbigoZnVuY3Rpb24oKXtuLmRlZmVycmVkLnJlc29sdmUodCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe24uaGFuZGxlVHJhbnNhY3Rpb25FcnJvcihlKX0pKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7bi5oYW5kbGVUcmFuc2FjdGlvbkVycm9yKGUpfSkpLFsyXX0pKX0pKX0pKX0sZS5wcm90b3R5cGUudHJ5UnVuVXBkYXRlRnVuY3Rpb249ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PXRoaXMudXBkYXRlRnVuY3Rpb24oZSk7cmV0dXJuIXJyKHQpJiZ0LmNhdGNoJiZ0LnRoZW4/dDoodGhpcy5kZWZlcnJlZC5yZWplY3QoRXJyb3IoIlRyYW5zYWN0aW9uIGNhbGxiYWNrIG11c3QgcmV0dXJuIGEgUHJvbWlzZSIpKSxudWxsKX1jYXRjaCh5KXtyZXR1cm4gdGhpcy5kZWZlcnJlZC5yZWplY3QoeSksbnVsbH19LGUucHJvdG90eXBlLmhhbmRsZVRyYW5zYWN0aW9uRXJyb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnJldHJpZXM+MCYmdGhpcy5pc1JldHJ5YWJsZVRyYW5zYWN0aW9uRXJyb3IoZSk/KHRoaXMucmV0cmllcy09MSx0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5ydW5XaXRoQmFja09mZigpLFByb21pc2UucmVzb2x2ZSgpfSkpKTp0aGlzLmRlZmVycmVkLnJlamVjdChlKX0sZS5wcm90b3R5cGUuaXNSZXRyeWFibGVUcmFuc2FjdGlvbkVycm9yPWZ1bmN0aW9uKGUpe2lmKCJGaXJlYmFzZUVycm9yIj09PWUubmFtZSl7dmFyIHQ9ZS5jb2RlO3JldHVybiJhYm9ydGVkIj09PXR8fCJmYWlsZWQtcHJlY29uZGl0aW9uIj09PXR8fCFLcih0KX1yZXR1cm4hMX0sZX0oKSxSaT1mdW5jdGlvbihlLHQsbil7dGhpcy5xdWVyeT1lLHRoaXMudGFyZ2V0SWQ9dCx0aGlzLnZpZXc9bn0sTWk9ZnVuY3Rpb24oZSl7dGhpcy5rZXk9ZSx0aGlzLnJlY2VpdmVkRG9jdW1lbnQ9ITF9LExpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyKXt0aGlzLmxvY2FsU3RvcmU9ZSx0aGlzLnJlbW90ZVN0b3JlPXQsdGhpcy5zaGFyZWRDbGllbnRTdGF0ZT1uLHRoaXMuY3VycmVudFVzZXI9cix0aGlzLnN5bmNFbmdpbmVMaXN0ZW5lcj1udWxsLHRoaXMucXVlcnlWaWV3c0J5UXVlcnk9bmV3IFl0KChmdW5jdGlvbihlKXtyZXR1cm4gZS5jYW5vbmljYWxJZCgpfSkpLHRoaXMucXVlcmllc0J5VGFyZ2V0PXt9LHRoaXMubGltYm9UYXJnZXRzQnlLZXk9bmV3IF9lKGRlLmNvbXBhcmF0b3IpLHRoaXMubGltYm9SZXNvbHV0aW9uc0J5VGFyZ2V0PXt9LHRoaXMubGltYm9Eb2N1bWVudFJlZnM9bmV3IE9uLHRoaXMubXV0YXRpb25Vc2VyQ2FsbGJhY2tzPXt9LHRoaXMucGVuZGluZ1dyaXRlc0NhbGxiYWNrcz1uZXcgTWFwLHRoaXMubGltYm9UYXJnZXRJZEdlbmVyYXRvcj1odC5mb3JTeW5jRW5naW5lKCksdGhpcy5pc1ByaW1hcnk9dm9pZCAwLHRoaXMub25saW5lU3RhdGU9T3IuVW5rbm93bn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc1ByaW1hcnlDbGllbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXRoaXMuaXNQcmltYXJ5fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihlKXt3KG51bGwhPT1lLCJTeW5jRW5naW5lIGxpc3RlbmVyIGNhbm5vdCBiZSBudWxsIiksdyhudWxsPT09dGhpcy5zeW5jRW5naW5lTGlzdGVuZXIsIlN5bmNFbmdpbmUgYWxyZWFkeSBoYXMgYSBzdWJzY3JpYmVyLiIpLHRoaXMuc3luY0VuZ2luZUxpc3RlbmVyPWV9LGUucHJvdG90eXBlLmxpc3Rlbj1mdW5jdGlvbihlKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG4scixpLG87cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5hc3NlcnRTdWJzY3JpYmVkKCJsaXN0ZW4oKSIpLChyPXRoaXMucXVlcnlWaWV3c0J5UXVlcnkuZ2V0KGUpKT8odD1yLnRhcmdldElkLHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUuYWRkTG9jYWxRdWVyeVRhcmdldCh0KSxuPXIudmlldy5jb21wdXRlSW5pdGlhbFNuYXBzaG90KCksWzMsNF0pOlszLDFdO2Nhc2UgMTpyZXR1cm5bNCx0aGlzLmxvY2FsU3RvcmUuYWxsb2NhdGVUYXJnZXQoZS50b1RhcmdldCgpKV07Y2FzZSAyOnJldHVybiBpPWEuc2VudCgpLG89dGhpcy5zaGFyZWRDbGllbnRTdGF0ZS5hZGRMb2NhbFF1ZXJ5VGFyZ2V0KGkudGFyZ2V0SWQpLHQ9aS50YXJnZXRJZCxbNCx0aGlzLmluaXRpYWxpemVWaWV3QW5kQ29tcHV0ZVNuYXBzaG90KGUsdCwiY3VycmVudCI9PT1vKV07Y2FzZSAzOm49YS5zZW50KCksdGhpcy5pc1ByaW1hcnkmJnRoaXMucmVtb3RlU3RvcmUubGlzdGVuKGkpLGEubGFiZWw9NDtjYXNlIDQ6cmV0dXJuIHRoaXMuc3luY0VuZ2luZUxpc3RlbmVyLm9uV2F0Y2hDaGFuZ2UoW25dKSxbMix0XX19KSl9KSl9LGUucHJvdG90eXBlLmluaXRpYWxpemVWaWV3QW5kQ29tcHV0ZVNuYXBzaG90PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLGksbyxzLHUsYztyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMubG9jYWxTdG9yZS5leGVjdXRlUXVlcnkoZSwhMCldO2Nhc2UgMTpyZXR1cm4gcj1hLnNlbnQoKSxpPW5ldyBOaShlLHIucmVtb3RlS2V5cyksbz1pLmNvbXB1dGVEb2NDaGFuZ2VzKHIuZG9jdW1lbnRzKSxzPSRyLmNyZWF0ZVN5bnRoZXNpemVkVGFyZ2V0Q2hhbmdlRm9yQ3VycmVudENoYW5nZSh0LG4mJnRoaXMub25saW5lU3RhdGUhPT1Pci5PZmZsaW5lKSx3KDA9PT0odT1pLmFwcGx5Q2hhbmdlcyhvLCEwPT09dGhpcy5pc1ByaW1hcnkscykpLmxpbWJvQ2hhbmdlcy5sZW5ndGgsIlZpZXcgcmV0dXJuZWQgbGltYm8gZG9jcyBiZWZvcmUgdGFyZ2V0IGFjayBmcm9tIHRoZSBzZXJ2ZXIuIiksdyghIXUuc25hcHNob3QsImFwcGx5Q2hhbmdlcyBmb3IgbmV3IHZpZXcgc2hvdWxkIGFsd2F5cyByZXR1cm4gYSBzbmFwc2hvdCIpLGM9bmV3IFJpKGUsdCxpKSx0aGlzLnF1ZXJ5Vmlld3NCeVF1ZXJ5LnNldChlLGMpLHRoaXMucXVlcmllc0J5VGFyZ2V0W3RdfHwodGhpcy5xdWVyaWVzQnlUYXJnZXRbdF09W10pLHRoaXMucXVlcmllc0J5VGFyZ2V0W3RdLnB1c2goZSksWzIsdS5zbmFwc2hvdF19fSkpfSkpfSxlLnByb3RvdHlwZS5zeW5jaHJvbml6ZVZpZXdBbmRDb21wdXRlU25hcHNob3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxuO3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5sb2NhbFN0b3JlLmV4ZWN1dGVRdWVyeShlLnF1ZXJ5LCEwKV07Y2FzZSAxOnJldHVybiB0PXIuc2VudCgpLG49ZS52aWV3LnN5bmNocm9uaXplV2l0aFBlcnNpc3RlZFN0YXRlKHQpLHRoaXMuaXNQcmltYXJ5JiZ0aGlzLnVwZGF0ZVRyYWNrZWRMaW1ib3MoZS50YXJnZXRJZCxuLmxpbWJvQ2hhbmdlcyksWzIsbl19fSkpfSkpfSxlLnByb3RvdHlwZS51bmxpc3Rlbj1mdW5jdGlvbihlKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG4scj10aGlzO3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuYXNzZXJ0U3Vic2NyaWJlZCgidW5saXN0ZW4oKSIpLHcoISEodD10aGlzLnF1ZXJ5Vmlld3NCeVF1ZXJ5LmdldChlKSksIlRyeWluZyB0byB1bmxpc3RlbiBvbiBxdWVyeSBub3QgZm91bmQ6IitlKSwobj10aGlzLnF1ZXJpZXNCeVRhcmdldFt0LnRhcmdldElkXSkubGVuZ3RoPjE/KHRoaXMucXVlcmllc0J5VGFyZ2V0W3QudGFyZ2V0SWRdPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hdC5pc0VxdWFsKGUpfSkpLHRoaXMucXVlcnlWaWV3c0J5UXVlcnkuZGVsZXRlKGUpLFsyXSk6dGhpcy5pc1ByaW1hcnk/KHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUucmVtb3ZlTG9jYWxRdWVyeVRhcmdldCh0LnRhcmdldElkKSx0aGlzLnNoYXJlZENsaWVudFN0YXRlLmlzQWN0aXZlUXVlcnlUYXJnZXQodC50YXJnZXRJZCk/WzMsMl06WzQsdGhpcy5sb2NhbFN0b3JlLnJlbGVhc2VUYXJnZXQodC50YXJnZXRJZCwhMSkudGhlbigoZnVuY3Rpb24oKXtyLnNoYXJlZENsaWVudFN0YXRlLmNsZWFyUXVlcnlTdGF0ZSh0LnRhcmdldElkKSxyLnJlbW90ZVN0b3JlLnVubGlzdGVuKHQudGFyZ2V0SWQpLHIucmVtb3ZlQW5kQ2xlYW51cFRhcmdldCh0LnRhcmdldElkKX0pKS5jYXRjaChxbildKTpbMywzXTtjYXNlIDE6aS5zZW50KCksaS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMyw1XTtjYXNlIDM6cmV0dXJuIHRoaXMucmVtb3ZlQW5kQ2xlYW51cFRhcmdldCh0LnRhcmdldElkKSxbNCx0aGlzLmxvY2FsU3RvcmUucmVsZWFzZVRhcmdldCh0LnRhcmdldElkLCEwKV07Y2FzZSA0Omkuc2VudCgpLGkubGFiZWw9NTtjYXNlIDU6cmV0dXJuWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuO3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuYXNzZXJ0U3Vic2NyaWJlZCgid3JpdGUoKSIpLFs0LHRoaXMubG9jYWxTdG9yZS5sb2NhbFdyaXRlKGUpXTtjYXNlIDE6cmV0dXJuIG49ci5zZW50KCksdGhpcy5zaGFyZWRDbGllbnRTdGF0ZS5hZGRQZW5kaW5nTXV0YXRpb24obi5iYXRjaElkKSx0aGlzLmFkZE11dGF0aW9uQ2FsbGJhY2sobi5iYXRjaElkLHQpLFs0LHRoaXMuZW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShuLmNoYW5nZXMpXTtjYXNlIDI6cmV0dXJuIHIuc2VudCgpLFs0LHRoaXMucmVtb3RlU3RvcmUuZmlsbFdyaXRlUGlwZWxpbmUoKV07Y2FzZSAzOnJldHVybiByLnNlbnQoKSxbMl19fSkpfSkpfSxlLnByb3RvdHlwZS5ydW5UcmFuc2FjdGlvbj1mdW5jdGlvbihlLHQsbil7bmV3IGtpKGUsdGhpcy5yZW1vdGVTdG9yZSx0LG4pLnJ1bigpfSxlLnByb3RvdHlwZS5hcHBseVJlbW90ZUV2ZW50PWZ1bmN0aW9uKGUpe3JldHVybiBhLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbj10aGlzO3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6dGhpcy5hc3NlcnRTdWJzY3JpYmVkKCJhcHBseVJlbW90ZUV2ZW50KCkiKSxyLmxhYmVsPTE7Y2FzZSAxOnJldHVybiByLnRyeXMucHVzaChbMSw0LCw2XSksWzQsdGhpcy5sb2NhbFN0b3JlLmFwcGx5UmVtb3RlRXZlbnQoZSldO2Nhc2UgMjpyZXR1cm4gdD1yLnNlbnQoKSxOKGUudGFyZ2V0Q2hhbmdlcywoZnVuY3Rpb24oZSx0KXt2YXIgcj1uLmxpbWJvUmVzb2x1dGlvbnNCeVRhcmdldFtOdW1iZXIoZSldO3ImJih3KHQuYWRkZWREb2N1bWVudHMuc2l6ZSt0Lm1vZGlmaWVkRG9jdW1lbnRzLnNpemUrdC5yZW1vdmVkRG9jdW1lbnRzLnNpemU8PTEsIkxpbWJvIHJlc29sdXRpb24gZm9yIHNpbmdsZSBkb2N1bWVudCBjb250YWlucyBtdWx0aXBsZSBjaGFuZ2VzLiIpLHQuYWRkZWREb2N1bWVudHMuc2l6ZT4wP3IucmVjZWl2ZWREb2N1bWVudD0hMDp0Lm1vZGlmaWVkRG9jdW1lbnRzLnNpemU+MD93KHIucmVjZWl2ZWREb2N1bWVudCwiUmVjZWl2ZWQgY2hhbmdlIGZvciBsaW1ibyB0YXJnZXQgZG9jdW1lbnQgd2l0aG91dCBhZGQuIik6dC5yZW1vdmVkRG9jdW1lbnRzLnNpemU+MCYmKHcoci5yZWNlaXZlZERvY3VtZW50LCJSZWNlaXZlZCByZW1vdmUgZm9yIGxpbWJvIHRhcmdldCBkb2N1bWVudCB3aXRob3V0IGFkZC4iKSxyLnJlY2VpdmVkRG9jdW1lbnQ9ITEpKX0pKSxbNCx0aGlzLmVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUodCxlKV07Y2FzZSAzOnJldHVybiByLnNlbnQoKSxbMyw2XTtjYXNlIDQ6cmV0dXJuWzQscW4oci5zZW50KCkpXTtjYXNlIDU6cmV0dXJuIHIuc2VudCgpLFszLDZdO2Nhc2UgNjpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5hcHBseU9ubGluZVN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5pc1ByaW1hcnkmJnQ9PT14ci5SZW1vdGVTdG9yZXx8IXRoaXMuaXNQcmltYXJ5JiZ0PT09eHIuU2hhcmVkQ2xpZW50U3RhdGUpe3RoaXMuYXNzZXJ0U3Vic2NyaWJlZCgiYXBwbHlPbmxpbmVTdGF0ZUNoYW5nZSgpIik7dmFyIG49W107dGhpcy5xdWVyeVZpZXdzQnlRdWVyeS5mb3JFYWNoKChmdW5jdGlvbih0LHIpe3ZhciBpPXIudmlldy5hcHBseU9ubGluZVN0YXRlQ2hhbmdlKGUpO3coMD09PWkubGltYm9DaGFuZ2VzLmxlbmd0aCwiT25saW5lU3RhdGUgc2hvdWxkIG5vdCBhZmZlY3QgbGltYm8gZG9jdW1lbnRzLiIpLGkuc25hcHNob3QmJm4ucHVzaChpLnNuYXBzaG90KX0pKSx0aGlzLnN5bmNFbmdpbmVMaXN0ZW5lci5vbk9ubGluZVN0YXRlQ2hhbmdlKGUpLHRoaXMuc3luY0VuZ2luZUxpc3RlbmVyLm9uV2F0Y2hDaGFuZ2UobiksdGhpcy5vbmxpbmVTdGF0ZT1lLHRoaXMuaXNQcmltYXJ5JiZ0aGlzLnNoYXJlZENsaWVudFN0YXRlLnNldE9ubGluZVN0YXRlKGUpfX0sZS5wcm90b3R5cGUucmVqZWN0TGlzdGVuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbyxzLHU9dGhpcztyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmFzc2VydFN1YnNjcmliZWQoInJlamVjdExpc3RlbnMoKSIpLHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUudXBkYXRlUXVlcnlTdGF0ZShlLCJyZWplY3RlZCIsdCksbj10aGlzLmxpbWJvUmVzb2x1dGlvbnNCeVRhcmdldFtlXSwocj1uJiZuLmtleSk/KHRoaXMubGltYm9UYXJnZXRzQnlLZXk9dGhpcy5saW1ib1RhcmdldHNCeUtleS5yZW1vdmUociksZGVsZXRlIHRoaXMubGltYm9SZXNvbHV0aW9uc0J5VGFyZ2V0W2VdLGk9KGk9bmV3IF9lKGRlLmNvbXBhcmF0b3IpKS5pbnNlcnQocixuZXcganQocixEZS5mb3JEZWxldGVkRG9jKCkpKSxvPVVlKCkuYWRkKHIpLHM9bmV3IFpyKERlLk1JTix7fSxuZXcgUmUoWCksaSxvKSxbMix0aGlzLmFwcGx5UmVtb3RlRXZlbnQocyldKTpbMywxXTtjYXNlIDE6cmV0dXJuWzQsdGhpcy5sb2NhbFN0b3JlLnJlbGVhc2VUYXJnZXQoZSwhMSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdS5yZW1vdmVBbmRDbGVhbnVwVGFyZ2V0KGUsdCl9KSkuY2F0Y2gocW4pXTtjYXNlIDI6YS5zZW50KCksYS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5hcHBseUJhdGNoU3RhdGU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBhLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHI7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5hc3NlcnRTdWJzY3JpYmVkKCJhcHBseUJhdGNoU3RhdGUoKSIpLFs0LHRoaXMubG9jYWxTdG9yZS5sb29rdXBNdXRhdGlvbkRvY3VtZW50cyhlKV07Y2FzZSAxOnJldHVybiBudWxsPT09KHI9aS5zZW50KCkpPyhtKCJTeW5jRW5naW5lIiwiQ2Fubm90IGFwcGx5IG11dGF0aW9uIGJhdGNoIHdpdGggaWQ6ICIrZSksWzJdKToicGVuZGluZyIhPT10P1szLDNdOls0LHRoaXMucmVtb3RlU3RvcmUuZmlsbFdyaXRlUGlwZWxpbmUoKV07Y2FzZSAyOnJldHVybiBpLnNlbnQoKSxbMyw0XTtjYXNlIDM6ImFja25vd2xlZGdlZCI9PT10fHwicmVqZWN0ZWQiPT09dD8odGhpcy5wcm9jZXNzVXNlckNhbGxiYWNrKGUsbnx8bnVsbCksdGhpcy5sb2NhbFN0b3JlLnJlbW92ZUNhY2hlZE11dGF0aW9uQmF0Y2hNZXRhZGF0YShlKSk6digiVW5rbm93biBiYXRjaFN0YXRlOiAiK3QpLGkubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzQsdGhpcy5lbWl0TmV3U25hcHNBbmROb3RpZnlMb2NhbFN0b3JlKHIpXTtjYXNlIDU6cmV0dXJuIGkuc2VudCgpLFsyXX19KSl9KSl9LGUucHJvdG90eXBlLmFwcGx5U3VjY2Vzc2Z1bFdyaXRlPWZ1bmN0aW9uKGUpe3JldHVybiBhLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbjtyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnRoaXMuYXNzZXJ0U3Vic2NyaWJlZCgiYXBwbHlTdWNjZXNzZnVsV3JpdGUoKSIpLHQ9ZS5iYXRjaC5iYXRjaElkLHRoaXMucHJvY2Vzc1VzZXJDYWxsYmFjayh0LG51bGwpLHRoaXMudHJpZ2dlclBlbmRpbmdXcml0ZXNDYWxsYmFja3ModCksci5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gci50cnlzLnB1c2goWzEsNCwsNl0pLFs0LHRoaXMubG9jYWxTdG9yZS5hY2tub3dsZWRnZUJhdGNoKGUpXTtjYXNlIDI6cmV0dXJuIG49ci5zZW50KCksdGhpcy5zaGFyZWRDbGllbnRTdGF0ZS51cGRhdGVNdXRhdGlvblN0YXRlKHQsImFja25vd2xlZGdlZCIpLFs0LHRoaXMuZW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShuKV07Y2FzZSAzOnJldHVybiByLnNlbnQoKSxbMyw2XTtjYXNlIDQ6cmV0dXJuWzQscW4oci5zZW50KCkpXTtjYXNlIDU6cmV0dXJuIHIuc2VudCgpLFszLDZdO2Nhc2UgNjpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5yZWplY3RGYWlsZWRXcml0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBhLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDp0aGlzLmFzc2VydFN1YnNjcmliZWQoInJlamVjdEZhaWxlZFdyaXRlKCkiKSx0aGlzLnByb2Nlc3NVc2VyQ2FsbGJhY2soZSx0KSx0aGlzLnRyaWdnZXJQZW5kaW5nV3JpdGVzQ2FsbGJhY2tzKGUpLHIubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHIudHJ5cy5wdXNoKFsxLDQsLDZdKSxbNCx0aGlzLmxvY2FsU3RvcmUucmVqZWN0QmF0Y2goZSldO2Nhc2UgMjpyZXR1cm4gbj1yLnNlbnQoKSx0aGlzLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZU11dGF0aW9uU3RhdGUoZSwicmVqZWN0ZWQiLHQpLFs0LHRoaXMuZW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShuKV07Y2FzZSAzOnJldHVybiByLnNlbnQoKSxbMyw2XTtjYXNlIDQ6cmV0dXJuWzQscW4oci5zZW50KCkpXTtjYXNlIDU6cmV0dXJuIHIuc2VudCgpLFszLDZdO2Nhc2UgNjpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5yZWdpc3RlclBlbmRpbmdXcml0ZXNDYWxsYmFjaz1mdW5jdGlvbihlKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG47cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5yZW1vdGVTdG9yZS5jYW5Vc2VOZXR3b3JrKCl8fG0oIlN5bmNFbmdpbmUiLCJUaGUgbmV0d29yayBpcyBkaXNhYmxlZC4gVGhlIHRhc2sgcmV0dXJuZWQgYnkgJ2F3YWl0UGVuZGluZ1dyaXRlcygpJyB3aWxsIG5vdCBjb21wbGV0ZSB1bnRpbCB0aGUgbmV0d29yayBpcyBlbmFibGVkLiIpLFs0LHRoaXMubG9jYWxTdG9yZS5nZXRIaWdoZXN0VW5hY2tub3dsZWRnZWRCYXRjaElkKCldO2Nhc2UgMTpyZXR1cm4tMT09PSh0PXIuc2VudCgpKT8oZS5yZXNvbHZlKCksWzJdKTooKG49dGhpcy5wZW5kaW5nV3JpdGVzQ2FsbGJhY2tzLmdldCh0KXx8W10pLnB1c2goZSksdGhpcy5wZW5kaW5nV3JpdGVzQ2FsbGJhY2tzLnNldCh0LG4pLFsyXSl9fSkpfSkpfSxlLnByb3RvdHlwZS50cmlnZ2VyUGVuZGluZ1dyaXRlc0NhbGxiYWNrcz1mdW5jdGlvbihlKXsodGhpcy5wZW5kaW5nV3JpdGVzQ2FsbGJhY2tzLmdldChlKXx8W10pLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucmVzb2x2ZSgpfSkpLHRoaXMucGVuZGluZ1dyaXRlc0NhbGxiYWNrcy5kZWxldGUoZSl9LGUucHJvdG90eXBlLnJlamVjdE91dHN0YW5kaW5nUGVuZGluZ1dyaXRlc0NhbGxiYWNrcz1mdW5jdGlvbihlKXt0aGlzLnBlbmRpbmdXcml0ZXNDYWxsYmFja3MuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnJlamVjdChuZXcgRShTLkNBTkNFTExFRCxlKSl9KSl9KSksdGhpcy5wZW5kaW5nV3JpdGVzQ2FsbGJhY2tzLmNsZWFyKCl9LGUucHJvdG90eXBlLmFkZE11dGF0aW9uQ2FsbGJhY2s9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLm11dGF0aW9uVXNlckNhbGxiYWNrc1t0aGlzLmN1cnJlbnRVc2VyLnRvS2V5KCldO258fChuPW5ldyBfZShYKSksbj1uLmluc2VydChlLHQpLHRoaXMubXV0YXRpb25Vc2VyQ2FsbGJhY2tzW3RoaXMuY3VycmVudFVzZXIudG9LZXkoKV09bn0sZS5wcm90b3R5cGUucHJvY2Vzc1VzZXJDYWxsYmFjaz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMubXV0YXRpb25Vc2VyQ2FsbGJhY2tzW3RoaXMuY3VycmVudFVzZXIudG9LZXkoKV07aWYobil7dmFyIHI9bi5nZXQoZSk7ciYmKHcoZT09PW4ubWluS2V5KCksIk11dGF0aW9uIGNhbGxiYWNrcyBwcm9jZXNzZWQgb3V0LW9mLW9yZGVyPyIpLHQ/ci5yZWplY3QodCk6ci5yZXNvbHZlKCksbj1uLnJlbW92ZShlKSksdGhpcy5tdXRhdGlvblVzZXJDYWxsYmFja3NbdGhpcy5jdXJyZW50VXNlci50b0tleSgpXT1ufX0sZS5wcm90b3R5cGUucmVtb3ZlQW5kQ2xlYW51cFRhcmdldD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dm9pZCAwPT09dCYmKHQ9bnVsbCksdGhpcy5zaGFyZWRDbGllbnRTdGF0ZS5yZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0KGUpLHcodGhpcy5xdWVyaWVzQnlUYXJnZXRbZV0mJjAhPT10aGlzLnF1ZXJpZXNCeVRhcmdldFtlXS5sZW5ndGgsIlRoZXJlIGFyZSBubyBxdWVyaWVzIG1hcHBlZCB0byB0YXJnZXQgaWQgIitlKTtmb3IodmFyIHI9MCxpPXRoaXMucXVlcmllc0J5VGFyZ2V0W2VdO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO3RoaXMucXVlcnlWaWV3c0J5UXVlcnkuZGVsZXRlKG8pLHQmJnRoaXMuc3luY0VuZ2luZUxpc3RlbmVyLm9uV2F0Y2hFcnJvcihvLHQpfWlmKGRlbGV0ZSB0aGlzLnF1ZXJpZXNCeVRhcmdldFtlXSx0aGlzLmlzUHJpbWFyeSl7dmFyIGE9dGhpcy5saW1ib0RvY3VtZW50UmVmcy5yZWZlcmVuY2VzRm9ySWQoZSk7dGhpcy5saW1ib0RvY3VtZW50UmVmcy5yZW1vdmVSZWZlcmVuY2VzRm9ySWQoZSksYS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmxpbWJvRG9jdW1lbnRSZWZzLmNvbnRhaW5zS2V5KGUpfHxuLnJlbW92ZUxpbWJvVGFyZ2V0KGUpfSkpfX0sZS5wcm90b3R5cGUucmVtb3ZlTGltYm9UYXJnZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5saW1ib1RhcmdldHNCeUtleS5nZXQoZSk7bnVsbCE9PXQmJih0aGlzLnJlbW90ZVN0b3JlLnVubGlzdGVuKHQpLHRoaXMubGltYm9UYXJnZXRzQnlLZXk9dGhpcy5saW1ib1RhcmdldHNCeUtleS5yZW1vdmUoZSksZGVsZXRlIHRoaXMubGltYm9SZXNvbHV0aW9uc0J5VGFyZ2V0W3RdKX0sZS5wcm90b3R5cGUudXBkYXRlVHJhY2tlZExpbWJvcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9dDtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXTtpZihpIGluc3RhbmNlb2YgRGkpdGhpcy5saW1ib0RvY3VtZW50UmVmcy5hZGRSZWZlcmVuY2UoaS5rZXksZSksdGhpcy50cmFja0xpbWJvQ2hhbmdlKGkpO2Vsc2UgaWYoaSBpbnN0YW5jZW9mIF9pKXttKCJTeW5jRW5naW5lIiwiRG9jdW1lbnQgbm8gbG9uZ2VyIGluIGxpbWJvOiAiK2kua2V5KSx0aGlzLmxpbWJvRG9jdW1lbnRSZWZzLnJlbW92ZVJlZmVyZW5jZShpLmtleSxlKSx0aGlzLmxpbWJvRG9jdW1lbnRSZWZzLmNvbnRhaW5zS2V5KGkua2V5KXx8dGhpcy5yZW1vdmVMaW1ib1RhcmdldChpLmtleSl9ZWxzZSB2KCJVbmtub3duIGxpbWJvIGNoYW5nZTogIitKU09OLnN0cmluZ2lmeShpKSl9fSxlLnByb3RvdHlwZS50cmFja0xpbWJvQ2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5O2lmKCF0aGlzLmxpbWJvVGFyZ2V0c0J5S2V5LmdldCh0KSl7bSgiU3luY0VuZ2luZSIsIk5ldyBkb2N1bWVudCBpbiBsaW1ibzogIit0KTt2YXIgbj10aGlzLmxpbWJvVGFyZ2V0SWRHZW5lcmF0b3IubmV4dCgpLHI9c3IuYXRQYXRoKHQucGF0aCk7dGhpcy5saW1ib1Jlc29sdXRpb25zQnlUYXJnZXRbbl09bmV3IE1pKHQpLHRoaXMucmVtb3RlU3RvcmUubGlzdGVuKG5ldyBBbihyLnRvVGFyZ2V0KCksbixTbi5MaW1ib1Jlc29sdXRpb24sdWUuSU5WQUxJRCkpLHRoaXMubGltYm9UYXJnZXRzQnlLZXk9dGhpcy5saW1ib1RhcmdldHNCeUtleS5pbnNlcnQodCxuKX19LGUucHJvdG90eXBlLmN1cnJlbnRMaW1ib0RvY3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW1ib1RhcmdldHNCeUtleX0sZS5wcm90b3R5cGUuZW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZT1mdW5jdGlvbihlLHQpe3JldHVybiBhLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLG89dGhpcztyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPVtdLHI9W10saT1bXSx0aGlzLnF1ZXJ5Vmlld3NCeVF1ZXJ5LmZvckVhY2goKGZ1bmN0aW9uKGEscyl7aS5wdXNoKFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIHQ9cy52aWV3LmNvbXB1dGVEb2NDaGFuZ2VzKGUpO3JldHVybiB0Lm5lZWRzUmVmaWxsP28ubG9jYWxTdG9yZS5leGVjdXRlUXVlcnkocy5xdWVyeSwhMSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIG49ZS5kb2N1bWVudHM7cmV0dXJuIHMudmlldy5jb21wdXRlRG9jQ2hhbmdlcyhuLHQpfSkpOnR9KSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIGk9dCYmdC50YXJnZXRDaGFuZ2VzW3MudGFyZ2V0SWRdLGE9cy52aWV3LmFwcGx5Q2hhbmdlcyhlLCEwPT09by5pc1ByaW1hcnksaSk7aWYoby51cGRhdGVUcmFja2VkTGltYm9zKHMudGFyZ2V0SWQsYS5saW1ib0NoYW5nZXMpLGEuc25hcHNob3Qpe28uaXNQcmltYXJ5JiZvLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZVF1ZXJ5U3RhdGUocy50YXJnZXRJZCxhLnNuYXBzaG90LmZyb21DYWNoZT8ibm90LWN1cnJlbnQiOiJjdXJyZW50Iiksbi5wdXNoKGEuc25hcHNob3QpO3ZhciB1PUNpLmZyb21TbmFwc2hvdChzLnRhcmdldElkLGEuc25hcHNob3QpO3IucHVzaCh1KX19KSkpfSkpLFs0LFByb21pc2UuYWxsKGkpXTtjYXNlIDE6cmV0dXJuIGEuc2VudCgpLHRoaXMuc3luY0VuZ2luZUxpc3RlbmVyLm9uV2F0Y2hDaGFuZ2UobiksWzQsdGhpcy5sb2NhbFN0b3JlLm5vdGlmeUxvY2FsVmlld0NoYW5nZXMocildO2Nhc2UgMjpyZXR1cm4gYS5zZW50KCksWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuYXNzZXJ0U3Vic2NyaWJlZD1mdW5jdGlvbihlKXt3KG51bGwhPT10aGlzLnN5bmNFbmdpbmVMaXN0ZW5lciwiVHJ5aW5nIHRvIGNhbGwgIitlKyIgYmVmb3JlIGNhbGxpbmcgc3Vic2NyaWJlKCkuIil9LGUucHJvdG90eXBlLmhhbmRsZUNyZWRlbnRpYWxDaGFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxuO3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQ9IXRoaXMuY3VycmVudFVzZXIuaXNFcXVhbChlKSx0aGlzLmN1cnJlbnRVc2VyPWUsdD8odGhpcy5yZWplY3RPdXRzdGFuZGluZ1BlbmRpbmdXcml0ZXNDYWxsYmFja3MoIid3YWl0Rm9yUGVuZGluZ1dyaXRlcycgcHJvbWlzZSBpcyByZWplY3RlZCBkdWUgdG8gYSB1c2VyIGNoYW5nZS4iKSxbNCx0aGlzLmxvY2FsU3RvcmUuaGFuZGxlVXNlckNoYW5nZShlKV0pOlszLDNdO2Nhc2UgMTpyZXR1cm4gbj1yLnNlbnQoKSx0aGlzLnNoYXJlZENsaWVudFN0YXRlLmhhbmRsZVVzZXJDaGFuZ2UoZSxuLnJlbW92ZWRCYXRjaElkcyxuLmFkZGVkQmF0Y2hJZHMpLFs0LHRoaXMuZW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShuLmFmZmVjdGVkRG9jdW1lbnRzKV07Y2FzZSAyOnIuc2VudCgpLHIubGFiZWw9MztjYXNlIDM6cmV0dXJuWzQsdGhpcy5yZW1vdGVTdG9yZS5oYW5kbGVDcmVkZW50aWFsQ2hhbmdlKCldO2Nhc2UgNDpyZXR1cm4gci5zZW50KCksWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuYXBwbHlQcmltYXJ5U3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxuLHIsaSxvLHMsdSxjPXRoaXM7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDpyZXR1cm4hMCE9PWV8fCEwPT09dGhpcy5pc1ByaW1hcnk/WzMsM106KHRoaXMuaXNQcmltYXJ5PSEwLFs0LHRoaXMucmVtb3RlU3RvcmUuYXBwbHlQcmltYXJ5U3RhdGUoITApXSk7Y2FzZSAxOnJldHVybiBhLnNlbnQoKSx0PXRoaXMuc2hhcmVkQ2xpZW50U3RhdGUuZ2V0QWxsQWN0aXZlUXVlcnlUYXJnZXRzKCksWzQsdGhpcy5zeW5jaHJvbml6ZVF1ZXJ5Vmlld3NBbmRSYWlzZVNuYXBzaG90cyh0LnRvQXJyYXkoKSldO2Nhc2UgMjpmb3Iobj1hLnNlbnQoKSxyPTAsaT1uO3I8aS5sZW5ndGg7cisrKW89aVtyXSx0aGlzLnJlbW90ZVN0b3JlLmxpc3RlbihvKTtyZXR1cm5bMyw3XTtjYXNlIDM6cmV0dXJuITEhPT1lfHwhMT09PXRoaXMuaXNQcmltYXJ5P1szLDddOih0aGlzLmlzUHJpbWFyeT0hMSxzPVtdLHU9UHJvbWlzZS5yZXNvbHZlKCksXyh0aGlzLnF1ZXJpZXNCeVRhcmdldCwoZnVuY3Rpb24oZSx0KXtjLnNoYXJlZENsaWVudFN0YXRlLmlzTG9jYWxRdWVyeVRhcmdldChlKT9zLnB1c2goZSk6dT11LnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGMucmVtb3ZlQW5kQ2xlYW51cFRhcmdldChlKSxjLmxvY2FsU3RvcmUucmVsZWFzZVRhcmdldChlLCEwKX0pKSxjLnJlbW90ZVN0b3JlLnVubGlzdGVuKGUpfSkpLFs0LHVdKTtjYXNlIDQ6cmV0dXJuIGEuc2VudCgpLFs0LHRoaXMuc3luY2hyb25pemVRdWVyeVZpZXdzQW5kUmFpc2VTbmFwc2hvdHMocyldO2Nhc2UgNTpyZXR1cm4gYS5zZW50KCksdGhpcy5yZXNldExpbWJvRG9jdW1lbnRzKCksWzQsdGhpcy5yZW1vdGVTdG9yZS5hcHBseVByaW1hcnlTdGF0ZSghMSldO2Nhc2UgNjphLnNlbnQoKSxhLmxhYmVsPTc7Y2FzZSA3OnJldHVyblsyXX19KSl9KSl9LGUucHJvdG90eXBlLnJlc2V0TGltYm9Eb2N1bWVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO18odGhpcy5saW1ib1Jlc29sdXRpb25zQnlUYXJnZXQsKGZ1bmN0aW9uKHQpe2UucmVtb3RlU3RvcmUudW5saXN0ZW4odCl9KSksdGhpcy5saW1ib0RvY3VtZW50UmVmcy5yZW1vdmVBbGxSZWZlcmVuY2VzKCksdGhpcy5saW1ib1Jlc29sdXRpb25zQnlUYXJnZXQ9W10sdGhpcy5saW1ib1RhcmdldHNCeUtleT1uZXcgX2UoZGUuY29tcGFyYXRvcil9LGUucHJvdG90eXBlLnN5bmNocm9uaXplUXVlcnlWaWV3c0FuZFJhaXNlU25hcHNob3RzPWZ1bmN0aW9uKGUpe3JldHVybiBhLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbixyLGksbyxzLHUsYyxoLGwsZixkLHA7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDp0PVtdLG49W10scj0wLGk9ZSxhLmxhYmVsPTE7Y2FzZSAxOnJldHVybiByPGkubGVuZ3RoPyhvPWlbcl0scz12b2lkIDAsKHU9dGhpcy5xdWVyaWVzQnlUYXJnZXRbb10pJiYwIT09dS5sZW5ndGg/WzQsdGhpcy5sb2NhbFN0b3JlLnJlbGVhc2VUYXJnZXQobywhMCldOlszLDhdKTpbMywxNF07Y2FzZSAyOnJldHVybiBhLnNlbnQoKSxbNCx0aGlzLmxvY2FsU3RvcmUuYWxsb2NhdGVUYXJnZXQodVswXS50b1RhcmdldCgpKV07Y2FzZSAzOnM9YS5zZW50KCksYz0wLGg9dSxhLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiBjPGgubGVuZ3RoPyhsPWhbY10sdyghIShmPXRoaXMucXVlcnlWaWV3c0J5UXVlcnkuZ2V0KGwpKSwiTm8gcXVlcnkgdmlldyBmb3VuZCBmb3IgIitsKSxbNCx0aGlzLnN5bmNocm9uaXplVmlld0FuZENvbXB1dGVTbmFwc2hvdChmKV0pOlszLDddO2Nhc2UgNTooZD1hLnNlbnQoKSkuc25hcHNob3QmJm4ucHVzaChkLnNuYXBzaG90KSxhLmxhYmVsPTY7Y2FzZSA2OnJldHVybiBjKyssWzMsNF07Y2FzZSA3OnJldHVyblszLDEyXTtjYXNlIDg6cmV0dXJuIHcoITA9PT10aGlzLmlzUHJpbWFyeSwiQSBzZWNvbmRhcnkgdGFiIHNob3VsZCBuZXZlciBoYXZlIGFuIGFjdGl2ZSB0YXJnZXQgd2l0aG91dCBhbiBhY3RpdmUgcXVlcnkuIiksWzQsdGhpcy5sb2NhbFN0b3JlLmdldFRhcmdldChvKV07Y2FzZSA5OnJldHVybiB3KCEhKHA9YS5zZW50KCkpLCJUYXJnZXQgZm9yIGlkICIrbysiIG5vdCBmb3VuZCIpLFs0LHRoaXMubG9jYWxTdG9yZS5hbGxvY2F0ZVRhcmdldChwKV07Y2FzZSAxMDpyZXR1cm4gcz1hLnNlbnQoKSxbNCx0aGlzLmluaXRpYWxpemVWaWV3QW5kQ29tcHV0ZVNuYXBzaG90KHRoaXMuc3ludGhlc2l6ZVRhcmdldFRvUXVlcnkocCksbywhMSldO2Nhc2UgMTE6YS5zZW50KCksYS5sYWJlbD0xMjtjYXNlIDEyOnQucHVzaChzKSxhLmxhYmVsPTEzO2Nhc2UgMTM6cmV0dXJuIHIrKyxbMywxXTtjYXNlIDE0OnJldHVybiB0aGlzLnN5bmNFbmdpbmVMaXN0ZW5lci5vbldhdGNoQ2hhbmdlKG4pLFsyLHRdfX0pKX0pKX0sZS5wcm90b3R5cGUuc3ludGhlc2l6ZVRhcmdldFRvUXVlcnk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBzcihlLnBhdGgsZS5jb2xsZWN0aW9uR3JvdXAsZS5vcmRlckJ5LGUuZmlsdGVycyxlLmxpbWl0LG9yLkZpcnN0LGUuc3RhcnRBdCxlLmVuZEF0KX0sZS5wcm90b3R5cGUuZ2V0QWN0aXZlQ2xpZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2FsU3RvcmUuZ2V0QWN0aXZlQ2xpZW50cygpfSxlLnByb3RvdHlwZS5hcHBseVRhcmdldFN0YXRlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLGk7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDppZih0aGlzLmlzUHJpbWFyeSlyZXR1cm4gbSgiU3luY0VuZ2luZSIsIklnbm9yaW5nIHVuZXhwZWN0ZWQgcXVlcnkgc3RhdGUgbm90aWZpY2F0aW9uLiIpLFsyXTtpZighdGhpcy5xdWVyaWVzQnlUYXJnZXRbZV0pcmV0dXJuWzMsN107c3dpdGNoKHQpe2Nhc2UiY3VycmVudCI6Y2FzZSJub3QtY3VycmVudCI6cmV0dXJuWzMsMV07Y2FzZSJyZWplY3RlZCI6cmV0dXJuWzMsNF19cmV0dXJuWzMsNl07Y2FzZSAxOnJldHVybls0LHRoaXMubG9jYWxTdG9yZS5nZXROZXdEb2N1bWVudENoYW5nZXMoKV07Y2FzZSAyOnJldHVybiByPW8uc2VudCgpLGk9WnIuY3JlYXRlU3ludGhlc2l6ZWRSZW1vdGVFdmVudEZvckN1cnJlbnRDaGFuZ2UoZSwiY3VycmVudCI9PT10KSxbNCx0aGlzLmVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUocixpKV07Y2FzZSAzOnJldHVybiBvLnNlbnQoKSxbMyw3XTtjYXNlIDQ6cmV0dXJuWzQsdGhpcy5sb2NhbFN0b3JlLnJlbGVhc2VUYXJnZXQoZSwhMCldO2Nhc2UgNTpyZXR1cm4gby5zZW50KCksdGhpcy5yZW1vdmVBbmRDbGVhbnVwVGFyZ2V0KGUsbiksWzMsN107Y2FzZSA2OnYoIlVuZXhwZWN0ZWQgdGFyZ2V0IHN0YXRlOiAiK3QpLG8ubGFiZWw9NztjYXNlIDc6cmV0dXJuWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuYXBwbHlBY3RpdmVUYXJnZXRzQ2hhbmdlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbyxzLHUsYyxoLGwsZj10aGlzO3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGQpe3N3aXRjaChkLmxhYmVsKXtjYXNlIDA6aWYoIXRoaXMuaXNQcmltYXJ5KXJldHVyblsyXTtuPTAscj1lLGQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIG48ci5sZW5ndGg/KGw9cltuXSx3KCF0aGlzLnF1ZXJpZXNCeVRhcmdldFtsXSwiVHJ5aW5nIHRvIGFkZCBhbiBhbHJlYWR5IGFjdGl2ZSB0YXJnZXQiKSxbNCx0aGlzLmxvY2FsU3RvcmUuZ2V0VGFyZ2V0KGwpXSk6WzMsNl07Y2FzZSAyOnJldHVybiB3KCEhKGk9ZC5zZW50KCkpLCJRdWVyeSBkYXRhIGZvciBhY3RpdmUgdGFyZ2V0ICIrbCsiIG5vdCBmb3VuZCIpLFs0LHRoaXMubG9jYWxTdG9yZS5hbGxvY2F0ZVRhcmdldChpKV07Y2FzZSAzOnJldHVybiBvPWQuc2VudCgpLFs0LHRoaXMuaW5pdGlhbGl6ZVZpZXdBbmRDb21wdXRlU25hcHNob3QodGhpcy5zeW50aGVzaXplVGFyZ2V0VG9RdWVyeShpKSxvLnRhcmdldElkLCExKV07Y2FzZSA0OmQuc2VudCgpLHRoaXMucmVtb3RlU3RvcmUubGlzdGVuKG8pLGQubGFiZWw9NTtjYXNlIDU6cmV0dXJuIG4rKyxbMywxXTtjYXNlIDY6cz1mdW5jdGlvbihlKXtyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB1LnF1ZXJpZXNCeVRhcmdldFtlXT9bNCx1LmxvY2FsU3RvcmUucmVsZWFzZVRhcmdldChlLCExKS50aGVuKChmdW5jdGlvbigpe2YucmVtb3RlU3RvcmUudW5saXN0ZW4oZSksZi5yZW1vdmVBbmRDbGVhbnVwVGFyZ2V0KGUpfSkpLmNhdGNoKHFuKV06WzIsImNvbnRpbnVlIl07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMl19fSkpfSx1PXRoaXMsYz0wLGg9dCxkLmxhYmVsPTc7Y2FzZSA3OnJldHVybiBjPGgubGVuZ3RoPyhsPWhbY10sWzUscyhsKV0pOlszLDEwXTtjYXNlIDg6ZC5zZW50KCksZC5sYWJlbD05O2Nhc2UgOTpyZXR1cm4gYysrLFszLDddO2Nhc2UgMTA6cmV0dXJuWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuZW5hYmxlTmV0d29yaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2FsU3RvcmUuc2V0TmV0d29ya0VuYWJsZWQoITApLHRoaXMucmVtb3RlU3RvcmUuZW5hYmxlTmV0d29yaygpfSxlLnByb3RvdHlwZS5kaXNhYmxlTmV0d29yaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2FsU3RvcmUuc2V0TmV0d29ya0VuYWJsZWQoITEpLHRoaXMucmVtb3RlU3RvcmUuZGlzYWJsZU5ldHdvcmsoKX0sZS5wcm90b3R5cGUuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmxpbWJvUmVzb2x1dGlvbnNCeVRhcmdldFtlXTtpZih0JiZ0LnJlY2VpdmVkRG9jdW1lbnQpcmV0dXJuIFVlKCkuYWRkKHQua2V5KTt2YXIgbj1VZSgpLHI9dGhpcy5xdWVyaWVzQnlUYXJnZXRbZV07aWYoIXIpcmV0dXJuIG47Zm9yKHZhciBpPTAsbz1yO2k8by5sZW5ndGg7aSsrKXt2YXIgYT1vW2ldLHM9dGhpcy5xdWVyeVZpZXdzQnlRdWVyeS5nZXQoYSk7dyghIXMsIk5vIHF1ZXJ5IHZpZXcgZm91bmQgZm9yICIrYSksbj1uLnVuaW9uV2l0aChzLnZpZXcuc3luY2VkRG9jdW1lbnRzKX1yZXR1cm4gbn0sZX0oKSxPaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy51aWQ9ZX1yZXR1cm4gZS5wcm90b3R5cGUuaXNBdXRoZW50aWNhdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMudWlkfSxlLnByb3RvdHlwZS50b0tleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQXV0aGVudGljYXRlZCgpPyJ1aWQ6Iit0aGlzLnVpZDoiYW5vbnltb3VzLXVzZXIifSxlLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZD09PXRoaXMudWlkfSxlLlVOQVVUSEVOVElDQVRFRD1uZXcgZShudWxsKSxlLkdPT0dMRV9DUkVERU5USUFMUz1uZXcgZSgiZ29vZ2xlLWNyZWRlbnRpYWxzLXVpZCIpLGUuRklSU1RfUEFSVFk9bmV3IGUoImZpcnN0LXBhcnR5LXVpZCIpLGV9KCkseGk9ImZpcmVzdG9yZV9jbGllbnRzIjtmdW5jdGlvbiBQaShlLHQpe3JldHVybiB3KC0xPT09dC5pbmRleE9mKCJfIiksIkNsaWVudCBrZXkgY2Fubm90IGNvbnRhaW4gJ18nLCBidXQgd2FzICciK3QrIiciKSx4aSsiXyIrZSsiXyIrdH12YXIgRmk9ImZpcmVzdG9yZV9tdXRhdGlvbnMiO2Z1bmN0aW9uIHFpKGUsdCxuKXt2YXIgcj1GaSsiXyIrZSsiXyIrbjtyZXR1cm4gdC5pc0F1dGhlbnRpY2F0ZWQoKSYmKHIrPSJfIit0LnVpZCkscn12YXIgVmk9ImZpcmVzdG9yZV90YXJnZXRzIjtmdW5jdGlvbiBCaShlLHQpe3JldHVybiBWaSsiXyIrZSsiXyIrdH12YXIgVWk9ImZpcmVzdG9yZV9vbmxpbmVfc3RhdGUiO3ZhciBRaT0iZmlyZXN0b3JlX3NlcXVlbmNlX251bWJlciI7dmFyIEtpPSJTaGFyZWRDbGllbnRTdGF0ZSIsemk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLHIpe3RoaXMudXNlcj1lLHRoaXMuYmF0Y2hJZD10LHRoaXMuc3RhdGU9bix0aGlzLmVycm9yPXIsdyh2b2lkIDAhPT1yPT09KCJyZWplY3RlZCI9PT1uKSwiTXV0YXRpb25NZXRhZGF0YSBtdXN0IGNvbnRhaW4gYW4gZXJyb3IgaWZmIHN0YXRlIGlzICdyZWplY3RlZCciKX1yZXR1cm4gZS5mcm9tV2ViU3RvcmFnZUVudHJ5PWZ1bmN0aW9uKHQsbixyKXt2YXIgaT1KU09OLnBhcnNlKHIpLG89Im9iamVjdCI9PT10eXBlb2YgaSYmLTEhPT1bInBlbmRpbmciLCJhY2tub3dsZWRnZWQiLCJyZWplY3RlZCJdLmluZGV4T2YoaS5zdGF0ZSkmJih2b2lkIDA9PT1pLmVycm9yfHwib2JqZWN0Ij09PXR5cGVvZiBpLmVycm9yKSxhPXZvaWQgMDtyZXR1cm4gbyYmaS5lcnJvciYmKG89InN0cmluZyI9PT10eXBlb2YgaS5lcnJvci5tZXNzYWdlJiYic3RyaW5nIj09PXR5cGVvZiBpLmVycm9yLmNvZGUpJiYoYT1uZXcgRShpLmVycm9yLmNvZGUsaS5lcnJvci5tZXNzYWdlKSksbz9uZXcgZSh0LG4saS5zdGF0ZSxhKTooeShLaSwiRmFpbGVkIHRvIHBhcnNlIG11dGF0aW9uIHN0YXRlIGZvciBJRCAnIituKyInOiAiK3IpLG51bGwpfSxlLnByb3RvdHlwZS50b1dlYlN0b3JhZ2VKU09OPWZ1bmN0aW9uKCl7dmFyIGU9e3N0YXRlOnRoaXMuc3RhdGUsdXBkYXRlVGltZU1zOkRhdGUubm93KCl9O3JldHVybiB0aGlzLmVycm9yJiYoZS5lcnJvcj17Y29kZTp0aGlzLmVycm9yLmNvZGUsbWVzc2FnZTp0aGlzLmVycm9yLm1lc3NhZ2V9KSxKU09OLnN0cmluZ2lmeShlKX0sZX0oKSxXaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4pe3RoaXMudGFyZ2V0SWQ9ZSx0aGlzLnN0YXRlPXQsdGhpcy5lcnJvcj1uLHcodm9pZCAwIT09bj09PSgicmVqZWN0ZWQiPT09dCksIlF1ZXJ5VGFyZ2V0TWV0YWRhdGEgbXVzdCBjb250YWluIGFuIGVycm9yIGlmZiBzdGF0ZSBpcyAncmVqZWN0ZWQnIil9cmV0dXJuIGUuZnJvbVdlYlN0b3JhZ2VFbnRyeT1mdW5jdGlvbih0LG4pe3ZhciByPUpTT04ucGFyc2UobiksaT0ib2JqZWN0Ij09PXR5cGVvZiByJiYtMSE9PVsibm90LWN1cnJlbnQiLCJjdXJyZW50IiwicmVqZWN0ZWQiXS5pbmRleE9mKHIuc3RhdGUpJiYodm9pZCAwPT09ci5lcnJvcnx8Im9iamVjdCI9PT10eXBlb2Ygci5lcnJvciksbz12b2lkIDA7cmV0dXJuIGkmJnIuZXJyb3ImJihpPSJzdHJpbmciPT09dHlwZW9mIHIuZXJyb3IubWVzc2FnZSYmInN0cmluZyI9PT10eXBlb2Ygci5lcnJvci5jb2RlKSYmKG89bmV3IEUoci5lcnJvci5jb2RlLHIuZXJyb3IubWVzc2FnZSkpLGk/bmV3IGUodCxyLnN0YXRlLG8pOih5KEtpLCJGYWlsZWQgdG8gcGFyc2UgdGFyZ2V0IHN0YXRlIGZvciBJRCAnIit0KyInOiAiK24pLG51bGwpfSxlLnByb3RvdHlwZS50b1dlYlN0b3JhZ2VKU09OPWZ1bmN0aW9uKCl7dmFyIGU9e3N0YXRlOnRoaXMuc3RhdGUsdXBkYXRlVGltZU1zOkRhdGUubm93KCl9O3JldHVybiB0aGlzLmVycm9yJiYoZS5lcnJvcj17Y29kZTp0aGlzLmVycm9yLmNvZGUsbWVzc2FnZTp0aGlzLmVycm9yLm1lc3NhZ2V9KSxKU09OLnN0cmluZ2lmeShlKX0sZX0oKSxHaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmNsaWVudElkPWUsdGhpcy5hY3RpdmVUYXJnZXRJZHM9dH1yZXR1cm4gZS5mcm9tV2ViU3RvcmFnZUVudHJ5PWZ1bmN0aW9uKHQsbil7Zm9yKHZhciByPUpTT04ucGFyc2UobiksaT0ib2JqZWN0Ij09PXR5cGVvZiByJiZyLmFjdGl2ZVRhcmdldElkcyBpbnN0YW5jZW9mIEFycmF5LG89S2UoKSxhPTA7aSYmYTxyLmFjdGl2ZVRhcmdldElkcy5sZW5ndGg7KythKWk9aXIoci5hY3RpdmVUYXJnZXRJZHNbYV0pLG89by5hZGQoci5hY3RpdmVUYXJnZXRJZHNbYV0pO3JldHVybiBpP25ldyBlKHQsbyk6KHkoS2ksIkZhaWxlZCB0byBwYXJzZSBjbGllbnQgZGF0YSBmb3IgaW5zdGFuY2UgJyIrdCsiJzogIituKSxudWxsKX0sZX0oKSxqaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmNsaWVudElkPWUsdGhpcy5vbmxpbmVTdGF0ZT10fXJldHVybiBlLmZyb21XZWJTdG9yYWdlRW50cnk9ZnVuY3Rpb24odCl7dmFyIG49SlNPTi5wYXJzZSh0KTtyZXR1cm4ib2JqZWN0Ij09PXR5cGVvZiBuJiZuLm9ubGluZVN0YXRlIGluIE9yJiYic3RyaW5nIj09PXR5cGVvZiBuLmNsaWVudElkP25ldyBlKG4uY2xpZW50SWQsT3Jbbi5vbmxpbmVTdGF0ZV0pOih5KEtpLCJGYWlsZWQgdG8gcGFyc2Ugb25saW5lIHN0YXRlOiAiK3QpLG51bGwpfSxlfSgpLEhpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYWN0aXZlVGFyZ2V0SWRzPUtlKCl9cmV0dXJuIGUucHJvdG90eXBlLmFkZFF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKGUpe3RoaXMuYWN0aXZlVGFyZ2V0SWRzPXRoaXMuYWN0aXZlVGFyZ2V0SWRzLmFkZChlKX0sZS5wcm90b3R5cGUucmVtb3ZlUXVlcnlUYXJnZXQ9ZnVuY3Rpb24oZSl7dGhpcy5hY3RpdmVUYXJnZXRJZHM9dGhpcy5hY3RpdmVUYXJnZXRJZHMuZGVsZXRlKGUpfSxlLnByb3RvdHlwZS50b1dlYlN0b3JhZ2VKU09OPWZ1bmN0aW9uKCl7dmFyIGU9e2FjdGl2ZVRhcmdldElkczp0aGlzLmFjdGl2ZVRhcmdldElkcy50b0FycmF5KCksdXBkYXRlVGltZU1zOkRhdGUubm93KCl9O3JldHVybiBKU09OLnN0cmluZ2lmeShlKX0sZX0oKSxZaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLHIsaSxvKXtpZih0aGlzLnF1ZXVlPXQsdGhpcy5wbGF0Zm9ybT1uLHRoaXMucGVyc2lzdGVuY2VLZXk9cix0aGlzLmxvY2FsQ2xpZW50SWQ9aSx0aGlzLnN5bmNFbmdpbmU9bnVsbCx0aGlzLm9ubGluZVN0YXRlSGFuZGxlcj1udWxsLHRoaXMuc2VxdWVuY2VOdW1iZXJIYW5kbGVyPW51bGwsdGhpcy5hY3RpdmVDbGllbnRzPXt9LHRoaXMuc3RvcmFnZUxpc3RlbmVyPXRoaXMuaGFuZGxlV2ViU3RvcmFnZUV2ZW50LmJpbmQodGhpcyksdGhpcy5zdGFydGVkPSExLHRoaXMuZWFybHlFdmVudHM9W10sIWUuaXNBdmFpbGFibGUodGhpcy5wbGF0Zm9ybSkpdGhyb3cgbmV3IEUoUy5VTklNUExFTUVOVEVELCJMb2NhbFN0b3JhZ2UgaXMgbm90IGF2YWlsYWJsZSBvbiB0aGlzIHBsYXRmb3JtLiIpO3ZhciBhPXIucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csIlxcJCYiKTt0aGlzLnN0b3JhZ2U9dGhpcy5wbGF0Zm9ybS53aW5kb3cubG9jYWxTdG9yYWdlLHRoaXMuY3VycmVudFVzZXI9byx0aGlzLmxvY2FsQ2xpZW50U3RvcmFnZUtleT1QaSh0aGlzLnBlcnNpc3RlbmNlS2V5LHRoaXMubG9jYWxDbGllbnRJZCksdGhpcy5zZXF1ZW5jZU51bWJlcktleT1mdW5jdGlvbihlKXtyZXR1cm4gUWkrIl8iK2V9KHRoaXMucGVyc2lzdGVuY2VLZXkpLHRoaXMuYWN0aXZlQ2xpZW50c1t0aGlzLmxvY2FsQ2xpZW50SWRdPW5ldyBIaSx0aGlzLmNsaWVudFN0YXRlS2V5UmU9bmV3IFJlZ0V4cCgiXiIreGkrIl8iK2ErIl8oW15fXSopJCIpLHRoaXMubXV0YXRpb25CYXRjaEtleVJlPW5ldyBSZWdFeHAoIl4iK0ZpKyJfIithKyJfKFxcZCspKD86XyguKikpPyQiKSx0aGlzLnF1ZXJ5VGFyZ2V0S2V5UmU9bmV3IFJlZ0V4cCgiXiIrVmkrIl8iK2ErIl8oXFxkKykkIiksdGhpcy5vbmxpbmVTdGF0ZUtleT1mdW5jdGlvbihlKXtyZXR1cm4gVWkrIl8iK2V9KHRoaXMucGVyc2lzdGVuY2VLZXkpLHRoaXMucGxhdGZvcm0ud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInN0b3JhZ2UiLHRoaXMuc3RvcmFnZUxpc3RlbmVyKX1yZXR1cm4gZS5pc0F2YWlsYWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hKCFlLndpbmRvd3x8bnVsbD09ZS53aW5kb3cubG9jYWxTdG9yYWdlKX0sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHQsbixyLGksbyxzLHUsYyxoLGwsZj10aGlzO3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHcoIXRoaXMuc3RhcnRlZCwiV2ViU3RvcmFnZVNoYXJlZENsaWVudFN0YXRlIGFscmVhZHkgc3RhcnRlZCIpLHcobnVsbCE9PXRoaXMuc3luY0VuZ2luZSwic3luY0VuZ2luZSBwcm9wZXJ0eSBtdXN0IGJlIHNldCBiZWZvcmUgY2FsbGluZyBzdGFydCgpIiksdyhudWxsIT09dGhpcy5vbmxpbmVTdGF0ZUhhbmRsZXIsIm9ubGluZVN0YXRlSGFuZGxlciBwcm9wZXJ0eSBtdXN0IGJlIHNldCBiZWZvcmUgY2FsbGluZyBzdGFydCgpIiksWzQsdGhpcy5zeW5jRW5naW5lLmdldEFjdGl2ZUNsaWVudHMoKV07Y2FzZSAxOmZvcihlPWEuc2VudCgpLHQ9MCxuPWU7dDxuLmxlbmd0aDt0KyspKHI9blt0XSkhPT10aGlzLmxvY2FsQ2xpZW50SWQmJihpPXRoaXMuZ2V0SXRlbShQaSh0aGlzLnBlcnNpc3RlbmNlS2V5LHIpKSkmJihvPUdpLmZyb21XZWJTdG9yYWdlRW50cnkocixpKSkmJih0aGlzLmFjdGl2ZUNsaWVudHNbby5jbGllbnRJZF09byk7Zm9yKHRoaXMucGVyc2lzdENsaWVudFN0YXRlKCksKHM9dGhpcy5zdG9yYWdlLmdldEl0ZW0odGhpcy5vbmxpbmVTdGF0ZUtleSkpJiYodT10aGlzLmZyb21XZWJTdG9yYWdlT25saW5lU3RhdGUocykpJiZ0aGlzLmhhbmRsZU9ubGluZVN0YXRlRXZlbnQodSksYz0wLGg9dGhpcy5lYXJseUV2ZW50cztjPGgubGVuZ3RoO2MrKylsPWhbY10sdGhpcy5oYW5kbGVXZWJTdG9yYWdlRXZlbnQobCk7cmV0dXJuIHRoaXMuZWFybHlFdmVudHM9W10sdGhpcy5wbGF0Zm9ybS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIiwoZnVuY3Rpb24oKXtyZXR1cm4gZi5zaHV0ZG93bigpfSkpLHRoaXMuc3RhcnRlZD0hMCxbMl19fSkpfSkpfSxlLnByb3RvdHlwZS53cml0ZVNlcXVlbmNlTnVtYmVyPWZ1bmN0aW9uKGUpe3RoaXMuc2V0SXRlbSh0aGlzLnNlcXVlbmNlTnVtYmVyS2V5LEpTT04uc3RyaW5naWZ5KGUpKX0sZS5wcm90b3R5cGUuZ2V0QWxsQWN0aXZlUXVlcnlUYXJnZXRzPWZ1bmN0aW9uKCl7dmFyIGU9S2UoKTtyZXR1cm4gTih0aGlzLmFjdGl2ZUNsaWVudHMsKGZ1bmN0aW9uKHQsbil7ZT1lLnVuaW9uV2l0aChuLmFjdGl2ZVRhcmdldElkcyl9KSksZX0sZS5wcm90b3R5cGUuaXNBY3RpdmVRdWVyeVRhcmdldD1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gdGhpcy5hY3RpdmVDbGllbnRzKWlmKHRoaXMuYWN0aXZlQ2xpZW50cy5oYXNPd25Qcm9wZXJ0eSh0KSYmdGhpcy5hY3RpdmVDbGllbnRzW3RdLmFjdGl2ZVRhcmdldElkcy5oYXMoZSkpcmV0dXJuITA7cmV0dXJuITF9LGUucHJvdG90eXBlLmFkZFBlbmRpbmdNdXRhdGlvbj1mdW5jdGlvbihlKXt0aGlzLnBlcnNpc3RNdXRhdGlvblN0YXRlKGUsInBlbmRpbmciKX0sZS5wcm90b3R5cGUudXBkYXRlTXV0YXRpb25TdGF0ZT1mdW5jdGlvbihlLHQsbil7dGhpcy5wZXJzaXN0TXV0YXRpb25TdGF0ZShlLHQsbiksdGhpcy5yZW1vdmVNdXRhdGlvblN0YXRlKGUpfSxlLnByb3RvdHlwZS5hZGRMb2NhbFF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PSJub3QtY3VycmVudCI7aWYodGhpcy5pc0FjdGl2ZVF1ZXJ5VGFyZ2V0KGUpKXt2YXIgbj10aGlzLnN0b3JhZ2UuZ2V0SXRlbShCaSh0aGlzLnBlcnNpc3RlbmNlS2V5LGUpKTtpZihuKXt2YXIgcj1XaS5mcm9tV2ViU3RvcmFnZUVudHJ5KGUsbik7ciYmKHQ9ci5zdGF0ZSl9fXJldHVybiB0aGlzLmxvY2FsQ2xpZW50U3RhdGUuYWRkUXVlcnlUYXJnZXQoZSksdGhpcy5wZXJzaXN0Q2xpZW50U3RhdGUoKSx0fSxlLnByb3RvdHlwZS5yZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKGUpe3RoaXMubG9jYWxDbGllbnRTdGF0ZS5yZW1vdmVRdWVyeVRhcmdldChlKSx0aGlzLnBlcnNpc3RDbGllbnRTdGF0ZSgpfSxlLnByb3RvdHlwZS5pc0xvY2FsUXVlcnlUYXJnZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubG9jYWxDbGllbnRTdGF0ZS5hY3RpdmVUYXJnZXRJZHMuaGFzKGUpfSxlLnByb3RvdHlwZS5jbGVhclF1ZXJ5U3RhdGU9ZnVuY3Rpb24oZSl7dGhpcy5yZW1vdmVJdGVtKEJpKHRoaXMucGVyc2lzdGVuY2VLZXksZSkpfSxlLnByb3RvdHlwZS51cGRhdGVRdWVyeVN0YXRlPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnBlcnNpc3RRdWVyeVRhcmdldFN0YXRlKGUsdCxuKX0sZS5wcm90b3R5cGUuaGFuZGxlVXNlckNoYW5nZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpczt0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3IucmVtb3ZlTXV0YXRpb25TdGF0ZShlKX0pKSx0aGlzLmN1cnJlbnRVc2VyPWUsbi5mb3JFYWNoKChmdW5jdGlvbihlKXtyLmFkZFBlbmRpbmdNdXRhdGlvbihlKX0pKX0sZS5wcm90b3R5cGUuc2V0T25saW5lU3RhdGU9ZnVuY3Rpb24oZSl7dGhpcy5wZXJzaXN0T25saW5lU3RhdGUoZSl9LGUucHJvdG90eXBlLnNodXRkb3duPWZ1bmN0aW9uKCl7dGhpcy5zdGFydGVkJiYodGhpcy5wbGF0Zm9ybS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigic3RvcmFnZSIsdGhpcy5zdG9yYWdlTGlzdGVuZXIpLHRoaXMucmVtb3ZlSXRlbSh0aGlzLmxvY2FsQ2xpZW50U3RvcmFnZUtleSksdGhpcy5zdGFydGVkPSExKX0sZS5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0b3JhZ2UuZ2V0SXRlbShlKTtyZXR1cm4gbShLaSwiUkVBRCIsZSx0KSx0fSxlLnByb3RvdHlwZS5zZXRJdGVtPWZ1bmN0aW9uKGUsdCl7bShLaSwiU0VUIixlLHQpLHRoaXMuc3RvcmFnZS5zZXRJdGVtKGUsdCl9LGUucHJvdG90eXBlLnJlbW92ZUl0ZW09ZnVuY3Rpb24oZSl7bShLaSwiUkVNT1ZFIixlKSx0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbShlKX0sZS5wcm90b3R5cGUuaGFuZGxlV2ViU3RvcmFnZUV2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoZS5zdG9yYWdlQXJlYT09PXRoaXMuc3RvcmFnZSl7aWYobShLaSwiRVZFTlQiLGUua2V5LGUubmV3VmFsdWUpLGUua2V5PT09dGhpcy5sb2NhbENsaWVudFN0b3JhZ2VLZXkpcmV0dXJuIHZvaWQgeSgiUmVjZWl2ZWQgV2ViU3RvcmFnZSBub3RpZmljYXRpb24gZm9yIGxvY2FsIGNoYW5nZS4gQW5vdGhlciBjbGllbnQgbWlnaHQgaGF2ZSBnYXJiYWdlLWNvbGxlY3RlZCBvdXIgc3RhdGUiKTt0aGlzLnF1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX19hd2FpdGVyKHQsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxuLHIsaSxvLHM7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oYSl7aWYoIXRoaXMuc3RhcnRlZClyZXR1cm4gdGhpcy5lYXJseUV2ZW50cy5wdXNoKGUpLFsyXTtpZihudWxsPT09ZS5rZXkpcmV0dXJuWzJdO2lmKHRoaXMuY2xpZW50U3RhdGVLZXlSZS50ZXN0KGUua2V5KSl7aWYobnVsbD09ZS5uZXdWYWx1ZSlyZXR1cm4gbj10aGlzLmZyb21XZWJTdG9yYWdlQ2xpZW50U3RhdGVLZXkoZS5rZXkpLFsyLHRoaXMuaGFuZGxlQ2xpZW50U3RhdGVFdmVudChuLG51bGwpXTtpZih0PXRoaXMuZnJvbVdlYlN0b3JhZ2VDbGllbnRTdGF0ZShlLmtleSxlLm5ld1ZhbHVlKSlyZXR1cm5bMix0aGlzLmhhbmRsZUNsaWVudFN0YXRlRXZlbnQodC5jbGllbnRJZCx0KV19ZWxzZSBpZih0aGlzLm11dGF0aW9uQmF0Y2hLZXlSZS50ZXN0KGUua2V5KSl7aWYobnVsbCE9PWUubmV3VmFsdWUmJihyPXRoaXMuZnJvbVdlYlN0b3JhZ2VNdXRhdGlvbk1ldGFkYXRhKGUua2V5LGUubmV3VmFsdWUpKSlyZXR1cm5bMix0aGlzLmhhbmRsZU11dGF0aW9uQmF0Y2hFdmVudChyKV19ZWxzZSBpZih0aGlzLnF1ZXJ5VGFyZ2V0S2V5UmUudGVzdChlLmtleSkpe2lmKG51bGwhPT1lLm5ld1ZhbHVlJiYoaT10aGlzLmZyb21XZWJTdG9yYWdlUXVlcnlUYXJnZXRNZXRhZGF0YShlLmtleSxlLm5ld1ZhbHVlKSkpcmV0dXJuWzIsdGhpcy5oYW5kbGVRdWVyeVRhcmdldEV2ZW50KGkpXX1lbHNlIGlmKGUua2V5PT09dGhpcy5vbmxpbmVTdGF0ZUtleSl7aWYobnVsbCE9PWUubmV3VmFsdWUmJihvPXRoaXMuZnJvbVdlYlN0b3JhZ2VPbmxpbmVTdGF0ZShlLm5ld1ZhbHVlKSkpcmV0dXJuWzIsdGhpcy5oYW5kbGVPbmxpbmVTdGF0ZUV2ZW50KG8pXX1lbHNlIGUua2V5PT09dGhpcy5zZXF1ZW5jZU51bWJlcktleSYmKHcoISF0aGlzLnNlcXVlbmNlTnVtYmVySGFuZGxlciwiTWlzc2luZyBzZXF1ZW5jZU51bWJlckhhbmRsZXIiKSwocz1mdW5jdGlvbihlKXt2YXIgdD11ZS5JTlZBTElEO2lmKG51bGwhPWUpdHJ5e3ZhciBuPUpTT04ucGFyc2UoZSk7dygibnVtYmVyIj09PXR5cGVvZiBuLCJGb3VuZCBub24tbnVtZXJpYyBzZXF1ZW5jZSBudW1iZXIiKSx0PW59Y2F0Y2gocil7eShLaSwiRmFpbGVkIHRvIHJlYWQgc2VxdWVuY2UgbnVtYmVyIGZyb20gV2ViU3RvcmFnZSIscil9cmV0dXJuIHR9KGUubmV3VmFsdWUpKSE9PXVlLklOVkFMSUQmJnRoaXMuc2VxdWVuY2VOdW1iZXJIYW5kbGVyKHMpKTtyZXR1cm5bMl19KSl9KSl9KSl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxvY2FsQ2xpZW50U3RhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmVDbGllbnRzW3RoaXMubG9jYWxDbGllbnRJZF19LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucGVyc2lzdENsaWVudFN0YXRlPWZ1bmN0aW9uKCl7dGhpcy5zZXRJdGVtKHRoaXMubG9jYWxDbGllbnRTdG9yYWdlS2V5LHRoaXMubG9jYWxDbGllbnRTdGF0ZS50b1dlYlN0b3JhZ2VKU09OKCkpfSxlLnByb3RvdHlwZS5wZXJzaXN0TXV0YXRpb25TdGF0ZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9bmV3IHppKHRoaXMuY3VycmVudFVzZXIsZSx0LG4pLGk9cWkodGhpcy5wZXJzaXN0ZW5jZUtleSx0aGlzLmN1cnJlbnRVc2VyLGUpO3RoaXMuc2V0SXRlbShpLHIudG9XZWJTdG9yYWdlSlNPTigpKX0sZS5wcm90b3R5cGUucmVtb3ZlTXV0YXRpb25TdGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1xaSh0aGlzLnBlcnNpc3RlbmNlS2V5LHRoaXMuY3VycmVudFVzZXIsZSk7dGhpcy5yZW1vdmVJdGVtKHQpfSxlLnByb3RvdHlwZS5wZXJzaXN0T25saW5lU3RhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9e2NsaWVudElkOnRoaXMubG9jYWxDbGllbnRJZCxvbmxpbmVTdGF0ZTpPcltlXX07dGhpcy5zdG9yYWdlLnNldEl0ZW0odGhpcy5vbmxpbmVTdGF0ZUtleSxKU09OLnN0cmluZ2lmeSh0KSl9LGUucHJvdG90eXBlLnBlcnNpc3RRdWVyeVRhcmdldFN0YXRlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1CaSh0aGlzLnBlcnNpc3RlbmNlS2V5LGUpLGk9bmV3IFdpKGUsdCxuKTt0aGlzLnNldEl0ZW0ocixpLnRvV2ViU3RvcmFnZUpTT04oKSl9LGUucHJvdG90eXBlLmZyb21XZWJTdG9yYWdlQ2xpZW50U3RhdGVLZXk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jbGllbnRTdGF0ZUtleVJlLmV4ZWMoZSk7cmV0dXJuIHQ/dFsxXTpudWxsfSxlLnByb3RvdHlwZS5mcm9tV2ViU3RvcmFnZUNsaWVudFN0YXRlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5mcm9tV2ViU3RvcmFnZUNsaWVudFN0YXRlS2V5KGUpO3JldHVybiB3KG51bGwhPT1uLCJDYW5ub3QgcGFyc2UgY2xpZW50IHN0YXRlIGtleSAnIitlKyInIiksR2kuZnJvbVdlYlN0b3JhZ2VFbnRyeShuLHQpfSxlLnByb3RvdHlwZS5mcm9tV2ViU3RvcmFnZU11dGF0aW9uTWV0YWRhdGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLm11dGF0aW9uQmF0Y2hLZXlSZS5leGVjKGUpO3cobnVsbCE9PW4sIkNhbm5vdCBwYXJzZSBtdXRhdGlvbiBiYXRjaCBrZXkgJyIrZSsiJyIpO3ZhciByPU51bWJlcihuWzFdKSxpPXZvaWQgMCE9PW5bMl0/blsyXTpudWxsO3JldHVybiB6aS5mcm9tV2ViU3RvcmFnZUVudHJ5KG5ldyBPaShpKSxyLHQpfSxlLnByb3RvdHlwZS5mcm9tV2ViU3RvcmFnZVF1ZXJ5VGFyZ2V0TWV0YWRhdGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnF1ZXJ5VGFyZ2V0S2V5UmUuZXhlYyhlKTt3KG51bGwhPT1uLCJDYW5ub3QgcGFyc2UgcXVlcnkgdGFyZ2V0IGtleSAnIitlKyInIik7dmFyIHI9TnVtYmVyKG5bMV0pO3JldHVybiBXaS5mcm9tV2ViU3RvcmFnZUVudHJ5KHIsdCl9LGUucHJvdG90eXBlLmZyb21XZWJTdG9yYWdlT25saW5lU3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGppLmZyb21XZWJTdG9yYWdlRW50cnkoZSl9LGUucHJvdG90eXBlLmhhbmRsZU11dGF0aW9uQmF0Y2hFdmVudD1mdW5jdGlvbihlKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3JldHVybiBlLnVzZXIudWlkIT09dGhpcy5jdXJyZW50VXNlci51aWQ/KG0oS2ksIklnbm9yaW5nIG11dGF0aW9uIGZvciBub24tYWN0aXZlIHVzZXIgIitlLnVzZXIudWlkKSxbMl0pOlsyLHRoaXMuc3luY0VuZ2luZS5hcHBseUJhdGNoU3RhdGUoZS5iYXRjaElkLGUuc3RhdGUsZS5lcnJvcildfSkpfSkpfSxlLnByb3RvdHlwZS5oYW5kbGVRdWVyeVRhcmdldEV2ZW50PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN5bmNFbmdpbmUuYXBwbHlUYXJnZXRTdGF0ZShlLnRhcmdldElkLGUuc3RhdGUsZS5lcnJvcil9LGUucHJvdG90eXBlLmhhbmRsZUNsaWVudFN0YXRlRXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9dGhpcy5nZXRBbGxBY3RpdmVRdWVyeVRhcmdldHMoKTt0P3RoaXMuYWN0aXZlQ2xpZW50c1tlXT10OmRlbGV0ZSB0aGlzLmFjdGl2ZUNsaWVudHNbZV07dmFyIGk9dGhpcy5nZXRBbGxBY3RpdmVRdWVyeVRhcmdldHMoKSxvPVtdLHM9W107cmV0dXJuIGkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGEuX19hd2FpdGVyKG4sdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtyZXR1cm4gci5oYXMoZSl8fG8ucHVzaChlKSxbMl19KSl9KSl9KSksci5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gYS5fX2F3YWl0ZXIobix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3JldHVybiBpLmhhcyhlKXx8cy5wdXNoKGUpLFsyXX0pKX0pKX0pKSx0aGlzLnN5bmNFbmdpbmUuYXBwbHlBY3RpdmVUYXJnZXRzQ2hhbmdlKG8scyl9LGUucHJvdG90eXBlLmhhbmRsZU9ubGluZVN0YXRlRXZlbnQ9ZnVuY3Rpb24oZSl7dGhpcy5hY3RpdmVDbGllbnRzW2UuY2xpZW50SWRdJiZ0aGlzLm9ubGluZVN0YXRlSGFuZGxlcihlLm9ubGluZVN0YXRlKX0sZX0oKTt2YXIgSmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2NhbFN0YXRlPW5ldyBIaSx0aGlzLnF1ZXJ5U3RhdGU9e30sdGhpcy5zeW5jRW5naW5lPW51bGwsdGhpcy5vbmxpbmVTdGF0ZUhhbmRsZXI9bnVsbCx0aGlzLnNlcXVlbmNlTnVtYmVySGFuZGxlcj1udWxsfXJldHVybiBlLnByb3RvdHlwZS5hZGRQZW5kaW5nTXV0YXRpb249ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS51cGRhdGVNdXRhdGlvblN0YXRlPWZ1bmN0aW9uKGUsdCxuKXt9LGUucHJvdG90eXBlLmFkZExvY2FsUXVlcnlUYXJnZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubG9jYWxTdGF0ZS5hZGRRdWVyeVRhcmdldChlKSx0aGlzLnF1ZXJ5U3RhdGVbZV18fCJub3QtY3VycmVudCJ9LGUucHJvdG90eXBlLnVwZGF0ZVF1ZXJ5U3RhdGU9ZnVuY3Rpb24oZSx0LG4pe3RoaXMucXVlcnlTdGF0ZVtlXT10fSxlLnByb3RvdHlwZS5yZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKGUpe3RoaXMubG9jYWxTdGF0ZS5yZW1vdmVRdWVyeVRhcmdldChlKX0sZS5wcm90b3R5cGUuaXNMb2NhbFF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxvY2FsU3RhdGUuYWN0aXZlVGFyZ2V0SWRzLmhhcyhlKX0sZS5wcm90b3R5cGUuY2xlYXJRdWVyeVN0YXRlPWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLnF1ZXJ5U3RhdGVbZV19LGUucHJvdG90eXBlLmdldEFsbEFjdGl2ZVF1ZXJ5VGFyZ2V0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2FsU3RhdGUuYWN0aXZlVGFyZ2V0SWRzfSxlLnByb3RvdHlwZS5pc0FjdGl2ZVF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxvY2FsU3RhdGUuYWN0aXZlVGFyZ2V0SWRzLmhhcyhlKX0sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhbFN0YXRlPW5ldyBIaSxQcm9taXNlLnJlc29sdmUoKX0sZS5wcm90b3R5cGUuaGFuZGxlVXNlckNoYW5nZT1mdW5jdGlvbihlLHQsbil7fSxlLnByb3RvdHlwZS5zZXRPbmxpbmVTdGF0ZT1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLnNodXRkb3duPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS53cml0ZVNlcXVlbmNlTnVtYmVyPWZ1bmN0aW9uKGUpe30sZX0oKSxYaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmNhY2hlU2l6ZUJ5dGVzPWUsdGhpcy5zeW5jaHJvbml6ZVRhYnM9dH1yZXR1cm4gZS5wcm90b3R5cGUubHJ1UGFyYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIFFuLndpdGhDYWNoZVNpemUodGhpcy5jYWNoZVNpemVCeXRlcyl9LGV9KCksWmk9ZnVuY3Rpb24oKXt9LCRpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyKXt0aGlzLnBsYXRmb3JtPWUsdGhpcy5kYXRhYmFzZUluZm89dCx0aGlzLmNyZWRlbnRpYWxzPW4sdGhpcy5hc3luY1F1ZXVlPXIsdGhpcy5jbGllbnRJZD1KLm5ld0lkKCl9cmV0dXJuIGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy52ZXJpZnlOb3RUZXJtaW5hdGVkKCk7dmFyIG49bmV3IHBlLHI9bmV3IHBlLGk9ITE7cmV0dXJuIHRoaXMuY3JlZGVudGlhbHMuc2V0Q2hhbmdlTGlzdGVuZXIoKGZ1bmN0aW9uKG8pe2k/dC5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuaGFuZGxlQ3JlZGVudGlhbENoYW5nZShvKX0pKTooaT0hMCx0LmluaXRpYWxpemVQZXJzaXN0ZW5jZShlLHIsbykudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5pdGlhbGl6ZVJlc3QobyxlKX0pKS50aGVuKG4ucmVzb2x2ZSxuLnJlamVjdCkpfSkpLHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChmdW5jdGlvbigpe3JldHVybiBuLnByb21pc2V9KSksci5wcm9taXNlfSxlLnByb3RvdHlwZS5lbmFibGVOZXR3b3JrPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy52ZXJpZnlOb3RUZXJtaW5hdGVkKCksdGhpcy5hc3luY1F1ZXVlLmVucXVldWUoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuc3luY0VuZ2luZS5lbmFibGVOZXR3b3JrKCl9KSl9LGUucHJvdG90eXBlLmluaXRpYWxpemVQZXJzaXN0ZW5jZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcztyZXR1cm4gZSBpbnN0YW5jZW9mIFhpP3RoaXMuc3RhcnRJbmRleGVkRGJQZXJzaXN0ZW5jZShuLGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiB0LnJlc29sdmUoKSxlfSkpLmNhdGNoKChmdW5jdGlvbihlKXtpZih0LnJlamVjdChlKSwhci5jYW5GYWxsYmFjayhlKSl0aHJvdyBlO3JldHVybiBjb25zb2xlLndhcm4oIkVycm9yIGVuYWJsaW5nIG9mZmxpbmUgcGVyc2lzdGVuY2UuIEZhbGxpbmcgYmFjayB0byBwZXJzaXN0ZW5jZSBkaXNhYmxlZDogIitlKSxyLnN0YXJ0TWVtb3J5UGVyc2lzdGVuY2UoKX0pKToodC5yZXNvbHZlKCksdGhpcy5zdGFydE1lbW9yeVBlcnNpc3RlbmNlKCkpfSxlLnByb3RvdHlwZS5jYW5GYWxsYmFjaz1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEU/ZS5jb2RlPT09Uy5GQUlMRURfUFJFQ09ORElUSU9OfHxlLmNvZGU9PT1TLlVOSU1QTEVNRU5URUQ6ISgidW5kZWZpbmVkIiE9PXR5cGVvZiBET01FeGNlcHRpb24mJmUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24pfHwoMjI9PT1lLmNvZGV8fDIwPT09ZS5jb2RlfHwxMT09PWUuY29kZSl9LGUucHJvdG90eXBlLnZlcmlmeU5vdFRlcm1pbmF0ZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLmFzeW5jUXVldWUuaXNTaHV0dGluZ0Rvd24pdGhyb3cgbmV3IEUoUy5GQUlMRURfUFJFQ09ORElUSU9OLCJUaGUgY2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gdGVybWluYXRlZC4iKX0sZS5wcm90b3R5cGUuc3RhcnRJbmRleGVkRGJQZXJzaXN0ZW5jZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj1Ibi5idWlsZFN0b3JhZ2VQcmVmaXgodGhpcy5kYXRhYmFzZUluZm8pLGk9bmV3IFRpKHRoaXMuZGF0YWJhc2VJbmZvLmRhdGFiYXNlSWQse3VzZVByb3RvM0pzb246ITB9KTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2F3YWl0ZXIobix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLG87cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDppZih0LnN5bmNocm9uaXplVGFicyYmIVlpLmlzQXZhaWxhYmxlKHRoaXMucGxhdGZvcm0pKXRocm93IG5ldyBFKFMuVU5JTVBMRU1FTlRFRCwiSW5kZXhlZERCIHBlcnNpc3RlbmNlIGlzIG9ubHkgYXZhaWxhYmxlIG9uIHBsYXRmb3JtcyB0aGF0IHN1cHBvcnQgTG9jYWxTdG9yYWdlLiIpO3JldHVybiBuPXQubHJ1UGFyYW1zKCksdGhpcy5zaGFyZWRDbGllbnRTdGF0ZT10LnN5bmNocm9uaXplVGFicz9uZXcgWWkodGhpcy5hc3luY1F1ZXVlLHRoaXMucGxhdGZvcm0scix0aGlzLmNsaWVudElkLGUpOm5ldyBKaSxbNCxIbi5jcmVhdGVJbmRleGVkRGJQZXJzaXN0ZW5jZSh7YWxsb3dUYWJTeW5jaHJvbml6YXRpb246dC5zeW5jaHJvbml6ZVRhYnMscGVyc2lzdGVuY2VLZXk6cixjbGllbnRJZDp0aGlzLmNsaWVudElkLHBsYXRmb3JtOnRoaXMucGxhdGZvcm0scXVldWU6dGhpcy5hc3luY1F1ZXVlLHNlcmlhbGl6ZXI6aSxscnVQYXJhbXM6bixzZXF1ZW5jZU51bWJlclN5bmNlcjp0aGlzLnNoYXJlZENsaWVudFN0YXRlfSldO2Nhc2UgMTpyZXR1cm4gbz1hLnNlbnQoKSx0aGlzLnBlcnNpc3RlbmNlPW8sWzIsby5yZWZlcmVuY2VEZWxlZ2F0ZS5nYXJiYWdlQ29sbGVjdG9yXX19KSl9KSl9KSl9LGUucHJvdG90eXBlLnN0YXJ0TWVtb3J5UGVyc2lzdGVuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZT1Eci5jcmVhdGVFYWdlclBlcnNpc3RlbmNlKHRoaXMuY2xpZW50SWQpLHRoaXMuc2hhcmVkQ2xpZW50U3RhdGU9bmV3IEppLFByb21pc2UucmVzb2x2ZShudWxsKX0sZS5wcm90b3R5cGUuaW5pdGlhbGl6ZVJlc3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiBtKCJGaXJlc3RvcmVDbGllbnQiLCJJbml0aWFsaXppbmcuIHVzZXI9IixlLnVpZCksdGhpcy5wbGF0Zm9ybS5sb2FkQ29ubmVjdGlvbih0aGlzLmRhdGFiYXNlSW5mbykudGhlbigoZnVuY3Rpb24ocil7cmV0dXJuIGEuX19hd2FpdGVyKG4sdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixpLG8scyx1LGMsaD10aGlzO3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGwpe3N3aXRjaChsLmxhYmVsKXtjYXNlIDA6cmV0dXJuIG49bmV3IFRyLHRoaXMubG9jYWxTdG9yZT1uZXcgRm4odGhpcy5wZXJzaXN0ZW5jZSxuLGUpLFs0LHRoaXMubG9jYWxTdG9yZS5zdGFydCgpXTtjYXNlIDE6cmV0dXJuIGwuc2VudCgpLHQmJih0aGlzLmxydVNjaGVkdWxlcj1uZXcgS24odCx0aGlzLmFzeW5jUXVldWUsdGhpcy5sb2NhbFN0b3JlKSksaT10aGlzLnBsYXRmb3JtLm5ld0Nvbm5lY3Rpdml0eU1vbml0b3IoKSxvPXRoaXMucGxhdGZvcm0ubmV3U2VyaWFsaXplcih0aGlzLmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkKSxzPW5ldyBWcih0aGlzLmFzeW5jUXVldWUscix0aGlzLmNyZWRlbnRpYWxzLG8pLHU9ZnVuY3Rpb24oZSl7cmV0dXJuIGguc3luY0VuZ2luZS5hcHBseU9ubGluZVN0YXRlQ2hhbmdlKGUseHIuUmVtb3RlU3RvcmUpfSxjPWZ1bmN0aW9uKGUpe3JldHVybiBoLnN5bmNFbmdpbmUuYXBwbHlPbmxpbmVTdGF0ZUNoYW5nZShlLHhyLlNoYXJlZENsaWVudFN0YXRlKX0sdGhpcy5yZW1vdGVTdG9yZT1uZXcgdWkodGhpcy5sb2NhbFN0b3JlLHMsdGhpcy5hc3luY1F1ZXVlLHUsaSksdGhpcy5zeW5jRW5naW5lPW5ldyBMaSh0aGlzLmxvY2FsU3RvcmUsdGhpcy5yZW1vdGVTdG9yZSx0aGlzLnNoYXJlZENsaWVudFN0YXRlLGUpLHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUub25saW5lU3RhdGVIYW5kbGVyPWMsdGhpcy5yZW1vdGVTdG9yZS5zeW5jRW5naW5lPXRoaXMuc3luY0VuZ2luZSx0aGlzLnNoYXJlZENsaWVudFN0YXRlLnN5bmNFbmdpbmU9dGhpcy5zeW5jRW5naW5lLHRoaXMuZXZlbnRNZ3I9bmV3IEVpKHRoaXMuc3luY0VuZ2luZSksWzQsdGhpcy5zaGFyZWRDbGllbnRTdGF0ZS5zdGFydCgpXTtjYXNlIDI6cmV0dXJuIGwuc2VudCgpLFs0LHRoaXMucmVtb3RlU3RvcmUuc3RhcnQoKV07Y2FzZSAzOnJldHVybiBsLnNlbnQoKSxbNCx0aGlzLnBlcnNpc3RlbmNlLnNldFByaW1hcnlTdGF0ZUxpc3RlbmVyKChmdW5jdGlvbihlKXtyZXR1cm4gYS5fX2F3YWl0ZXIoaCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zeW5jRW5naW5lLmFwcGx5UHJpbWFyeVN0YXRlKGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLHRoaXMubHJ1U2NoZWR1bGVyJiYoZSYmIXRoaXMubHJ1U2NoZWR1bGVyLnN0YXJ0ZWQ/dGhpcy5scnVTY2hlZHVsZXIuc3RhcnQoKTplfHx0aGlzLmxydVNjaGVkdWxlci5zdG9wKCkpLFsyXX19KSl9KSl9KSldO2Nhc2UgNDpyZXR1cm4gbC5zZW50KCksWzQsdGhpcy5wZXJzaXN0ZW5jZS5zZXREYXRhYmFzZURlbGV0ZWRMaXN0ZW5lcigoZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2F3YWl0ZXIoaCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy50ZXJtaW5hdGUoKV07Y2FzZSAxOnJldHVybiBlLnNlbnQoKSxbMl19fSkpfSkpfSkpXTtjYXNlIDU6cmV0dXJuIGwuc2VudCgpLFsyXX19KSl9KSl9KSl9LGUucHJvdG90eXBlLmhhbmRsZUNyZWRlbnRpYWxDaGFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXN5bmNRdWV1ZS52ZXJpZnlPcGVyYXRpb25JblByb2dyZXNzKCksbSgiRmlyZXN0b3JlQ2xpZW50IiwiQ3JlZGVudGlhbCBDaGFuZ2VkLiBDdXJyZW50IHVzZXI6ICIrZS51aWQpLHRoaXMuc3luY0VuZ2luZS5oYW5kbGVDcmVkZW50aWFsQ2hhbmdlKGUpfSxlLnByb3RvdHlwZS5kaXNhYmxlTmV0d29yaz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMudmVyaWZ5Tm90VGVybWluYXRlZCgpLHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlKChmdW5jdGlvbigpe3JldHVybiBlLnN5bmNFbmdpbmUuZGlzYWJsZU5ldHdvcmsoKX0pKX0sZS5wcm90b3R5cGUudGVybWluYXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5hc3luY1F1ZXVlLmVucXVldWVBbmRJbml0aWF0ZVNodXRkb3duKChmdW5jdGlvbigpe3JldHVybiBhLl9fYXdhaXRlcihlLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5scnVTY2hlZHVsZXImJnRoaXMubHJ1U2NoZWR1bGVyLnN0b3AoKSxbNCx0aGlzLnJlbW90ZVN0b3JlLnNodXRkb3duKCldO2Nhc2UgMTpyZXR1cm4gZS5zZW50KCksWzQsdGhpcy5zaGFyZWRDbGllbnRTdGF0ZS5zaHV0ZG93bigpXTtjYXNlIDI6cmV0dXJuIGUuc2VudCgpLFs0LHRoaXMucGVyc2lzdGVuY2Uuc2h1dGRvd24oKV07Y2FzZSAzOnJldHVybiBlLnNlbnQoKSx0aGlzLmNyZWRlbnRpYWxzLnJlbW92ZUNoYW5nZUxpc3RlbmVyKCksWzJdfX0pKX0pKX0pKX0sZS5wcm90b3R5cGUud2FpdEZvclBlbmRpbmdXcml0ZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMudmVyaWZ5Tm90VGVybWluYXRlZCgpO3ZhciB0PW5ldyBwZTtyZXR1cm4gdGhpcy5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuc3luY0VuZ2luZS5yZWdpc3RlclBlbmRpbmdXcml0ZXNDYWxsYmFjayh0KX0pKSx0LnByb21pc2V9LGUucHJvdG90eXBlLmxpc3Rlbj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpczt0aGlzLnZlcmlmeU5vdFRlcm1pbmF0ZWQoKTt2YXIgaT1uZXcgSWkoZSx0LG4pO3JldHVybiB0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoZnVuY3Rpb24oKXtyZXR1cm4gci5ldmVudE1nci5saXN0ZW4oaSl9KSksaX0sZS5wcm90b3R5cGUudW5saXN0ZW49ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmNsaWVudFRlcm1pbmF0ZWR8fHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChmdW5jdGlvbigpe3JldHVybiB0LmV2ZW50TWdyLnVubGlzdGVuKGUpfSkpfSxlLnByb3RvdHlwZS5nZXREb2N1bWVudEZyb21Mb2NhbENhY2hlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMudmVyaWZ5Tm90VGVybWluYXRlZCgpLHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlKChmdW5jdGlvbigpe3JldHVybiB0LmxvY2FsU3RvcmUucmVhZERvY3VtZW50KGUpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBHdClyZXR1cm4gZTtpZihlIGluc3RhbmNlb2YganQpcmV0dXJuIG51bGw7dGhyb3cgbmV3IEUoUy5VTkFWQUlMQUJMRSwiRmFpbGVkIHRvIGdldCBkb2N1bWVudCBmcm9tIGNhY2hlLiAoSG93ZXZlciwgdGhpcyBkb2N1bWVudCBtYXkgZXhpc3Qgb24gdGhlIHNlcnZlci4gUnVuIGFnYWluIHdpdGhvdXQgc2V0dGluZyAnc291cmNlJyBpbiB0aGUgR2V0T3B0aW9ucyB0byBhdHRlbXB0IHRvIHJldHJpZXZlIHRoZSBkb2N1bWVudCBmcm9tIHRoZSBzZXJ2ZXIuKSIpfSkpfSxlLnByb3RvdHlwZS5nZXREb2N1bWVudHNGcm9tTG9jYWxDYWNoZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnZlcmlmeU5vdFRlcm1pbmF0ZWQoKSx0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZSgoZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2F3YWl0ZXIodCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG4scjtyZXR1cm4gYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMubG9jYWxTdG9yZS5leGVjdXRlUXVlcnkoZSwhMCldO2Nhc2UgMTpyZXR1cm4gdD1pLnNlbnQoKSxuPW5ldyBOaShlLHQucmVtb3RlS2V5cykscj1uLmNvbXB1dGVEb2NDaGFuZ2VzKHQuZG9jdW1lbnRzKSxbMixuLmFwcGx5Q2hhbmdlcyhyLCExKS5zbmFwc2hvdF19fSkpfSkpfSkpfSxlLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMudmVyaWZ5Tm90VGVybWluYXRlZCgpO3ZhciBuPW5ldyBwZTtyZXR1cm4gdGhpcy5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuc3luY0VuZ2luZS53cml0ZShlLG4pfSkpLG4ucHJvbWlzZX0sZS5wcm90b3R5cGUuZGF0YWJhc2VJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkfSxlLnByb3RvdHlwZS5hZGRTbmFwc2hvdHNJblN5bmNMaXN0ZW5lcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMudmVyaWZ5Tm90VGVybWluYXRlZCgpLHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChmdW5jdGlvbigpe3JldHVybiB0LmV2ZW50TWdyLmFkZFNuYXBzaG90c0luU3luY0xpc3RlbmVyKGUpLFByb21pc2UucmVzb2x2ZSgpfSkpfSxlLnByb3RvdHlwZS5yZW1vdmVTbmFwc2hvdHNJblN5bmNMaXN0ZW5lcj1mdW5jdGlvbihlKXt0aGlzLmNsaWVudFRlcm1pbmF0ZWR8fHRoaXMuZXZlbnRNZ3IucmVtb3ZlU25hcHNob3RzSW5TeW5jTGlzdGVuZXIoZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2xpZW50VGVybWluYXRlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFzeW5jUXVldWUuaXNTaHV0dGluZ0Rvd259LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUudHJhbnNhY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnZlcmlmeU5vdFRlcm1pbmF0ZWQoKTt2YXIgbj1uZXcgcGU7cmV0dXJuIHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChmdW5jdGlvbigpe3JldHVybiB0LnN5bmNFbmdpbmUucnVuVHJhbnNhY3Rpb24odC5hc3luY1F1ZXVlLGUsbiksUHJvbWlzZS5yZXNvbHZlKCl9KSksbi5wcm9taXNlfSxlfSgpLGVvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLm9ic2VydmVyPWUsdGhpcy5tdXRlZD0hMX1yZXR1cm4gZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihlKXt0aGlzLnNjaGVkdWxlRXZlbnQodGhpcy5vYnNlcnZlci5uZXh0LGUpfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXt0aGlzLnNjaGVkdWxlRXZlbnQodGhpcy5vYnNlcnZlci5lcnJvcixlKX0sZS5wcm90b3R5cGUubXV0ZT1mdW5jdGlvbigpe3RoaXMubXV0ZWQ9ITB9LGUucHJvdG90eXBlLnNjaGVkdWxlRXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3RoaXMubXV0ZWR8fHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5tdXRlZHx8ZSh0KX0pLDApfSxlfSgpLHRvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTshZnVuY3Rpb24oZSx0LG4scil7aWYoISh0IGluc3RhbmNlb2YgQXJyYXkpfHx0Lmxlbmd0aDxyKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiRnVuY3Rpb24gIitlKyIoKSByZXF1aXJlcyBpdHMgIituKyIgYXJndW1lbnQgdG8gYmUgYW4gYXJyYXkgd2l0aCBhdCBsZWFzdCAiK1kociwiZWxlbWVudCIpKyIuIil9KCJGaWVsZFBhdGgiLGUsImZpZWxkTmFtZXMiLDEpO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7KytuKWlmKE8oIkZpZWxkUGF0aCIsInN0cmluZyIsbixlW25dKSwwPT09ZVtuXS5sZW5ndGgpdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJJbnZhbGlkIGZpZWxkIG5hbWUgYXQgYXJndW1lbnQgJChpICsgMSkuIEZpZWxkIG5hbWVzIG11c3Qgbm90IGJlIGVtcHR5LiIpO3RoaXMuX2ludGVybmFsUGF0aD1uZXcgZmUoZSl9cmV0dXJuIGUuZG9jdW1lbnRJZD1mdW5jdGlvbigpe3JldHVybiBlLl9ET0NVTUVOVF9JRH0sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBHKCJpc0VxdWFsIiwiRmllbGRQYXRoIiwxLHQpO3JldHVybiB0aGlzLl9pbnRlcm5hbFBhdGguaXNFcXVhbCh0Ll9pbnRlcm5hbFBhdGgpfSxlLl9ET0NVTUVOVF9JRD1uZXcgZShmZS5rZXlGaWVsZCgpLmNhbm9uaWNhbFN0cmluZygpKSxlfSgpLG5vPW5ldyBSZWdFeHAoIlt+XFwqL1xcW1xcXV0iKTt2YXIgcm89ZnVuY3Rpb24oZSx0KXt0aGlzLnVzZXI9dCx0aGlzLnR5cGU9Ik9BdXRoIix0aGlzLmF1dGhIZWFkZXJzPXt9LHRoaXMuYXV0aEhlYWRlcnMuQXV0aG9yaXphdGlvbj0iQmVhcmVyICIrZX0saW89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5jaGFuZ2VMaXN0ZW5lcj1udWxsfXJldHVybiBlLnByb3RvdHlwZS5nZXRUb2tlbj1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCl9LGUucHJvdG90eXBlLmludmFsaWRhdGVUb2tlbj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuc2V0Q2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24oZSl7dyghdGhpcy5jaGFuZ2VMaXN0ZW5lciwiQ2FuIG9ubHkgY2FsbCBzZXRDaGFuZ2VMaXN0ZW5lcigpIG9uY2UuIiksdGhpcy5jaGFuZ2VMaXN0ZW5lcj1lLGUoT2kuVU5BVVRIRU5USUNBVEVEKX0sZS5wcm90b3R5cGUucmVtb3ZlQ2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24oKXt3KG51bGwhPT10aGlzLmNoYW5nZUxpc3RlbmVyLCJyZW1vdmVDaGFuZ2VMaXN0ZW5lcigpIHdoZW4gbm8gbGlzdGVuZXIgcmVnaXN0ZXJlZCIpLHRoaXMuY2hhbmdlTGlzdGVuZXI9bnVsbH0sZX0oKSxvbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHQ9dGhpczt0aGlzLnRva2VuTGlzdGVuZXI9bnVsbCx0aGlzLmN1cnJlbnRVc2VyPU9pLlVOQVVUSEVOVElDQVRFRCx0aGlzLnJlY2VpdmVkSW5pdGlhbFVzZXI9ITEsdGhpcy50b2tlbkNvdW50ZXI9MCx0aGlzLmNoYW5nZUxpc3RlbmVyPW51bGwsdGhpcy5mb3JjZVJlZnJlc2g9ITEsdGhpcy50b2tlbkxpc3RlbmVyPWZ1bmN0aW9uKCl7dC50b2tlbkNvdW50ZXIrKyx0LmN1cnJlbnRVc2VyPXQuZ2V0VXNlcigpLHQucmVjZWl2ZWRJbml0aWFsVXNlcj0hMCx0LmNoYW5nZUxpc3RlbmVyJiZ0LmNoYW5nZUxpc3RlbmVyKHQuY3VycmVudFVzZXIpfSx0aGlzLnRva2VuQ291bnRlcj0wLHRoaXMuYXV0aD1lLmdldEltbWVkaWF0ZSh7b3B0aW9uYWw6ITB9KSx0aGlzLmF1dGg/dGhpcy5hdXRoLmFkZEF1dGhUb2tlbkxpc3RlbmVyKHRoaXMudG9rZW5MaXN0ZW5lcik6KHRoaXMudG9rZW5MaXN0ZW5lcihudWxsKSxlLmdldCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3QuYXV0aD1lLHQudG9rZW5MaXN0ZW5lciYmdC5hdXRoLmFkZEF1dGhUb2tlbkxpc3RlbmVyKHQudG9rZW5MaXN0ZW5lcil9KSwoZnVuY3Rpb24oKXt9KSkpfXJldHVybiBlLnByb3RvdHlwZS5nZXRUb2tlbj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dyhudWxsIT10aGlzLnRva2VuTGlzdGVuZXIsImdldFRva2VuIGNhbm5vdCBiZSBjYWxsZWQgYWZ0ZXIgbGlzdGVuZXIgcmVtb3ZlZC4iKTt2YXIgdD10aGlzLnRva2VuQ291bnRlcixuPXRoaXMuZm9yY2VSZWZyZXNoO3JldHVybiB0aGlzLmZvcmNlUmVmcmVzaD0hMSx0aGlzLmF1dGg/dGhpcy5hdXRoLmdldFRva2VuKG4pLnRoZW4oKGZ1bmN0aW9uKG4pe2lmKGUudG9rZW5Db3VudGVyIT09dCl0aHJvdyBuZXcgRShTLkFCT1JURUQsImdldFRva2VuIGFib3J0ZWQgZHVlIHRvIHRva2VuIGNoYW5nZS4iKTtyZXR1cm4gbj8odygic3RyaW5nIj09PXR5cGVvZiBuLmFjY2Vzc1Rva2VuLCJJbnZhbGlkIHRva2VuRGF0YSByZXR1cm5lZCBmcm9tIGdldFRva2VuKCk6IituKSxuZXcgcm8obi5hY2Nlc3NUb2tlbixlLmN1cnJlbnRVc2VyKSk6bnVsbH0pKTpQcm9taXNlLnJlc29sdmUobnVsbCl9LGUucHJvdG90eXBlLmludmFsaWRhdGVUb2tlbj1mdW5jdGlvbigpe3RoaXMuZm9yY2VSZWZyZXNoPSEwfSxlLnByb3RvdHlwZS5zZXRDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbihlKXt3KCF0aGlzLmNoYW5nZUxpc3RlbmVyLCJDYW4gb25seSBjYWxsIHNldENoYW5nZUxpc3RlbmVyKCkgb25jZS4iKSx0aGlzLmNoYW5nZUxpc3RlbmVyPWUsdGhpcy5yZWNlaXZlZEluaXRpYWxVc2VyJiZlKHRoaXMuY3VycmVudFVzZXIpfSxlLnByb3RvdHlwZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbigpe3cobnVsbCE9dGhpcy50b2tlbkxpc3RlbmVyLCJyZW1vdmVDaGFuZ2VMaXN0ZW5lcigpIGNhbGxlZCB0d2ljZSIpLHcobnVsbCE9PXRoaXMuY2hhbmdlTGlzdGVuZXIsInJlbW92ZUNoYW5nZUxpc3RlbmVyKCkgY2FsbGVkIHdoZW4gbm8gbGlzdGVuZXIgcmVnaXN0ZXJlZCIpLHRoaXMuYXV0aCYmdGhpcy5hdXRoLnJlbW92ZUF1dGhUb2tlbkxpc3RlbmVyKHRoaXMudG9rZW5MaXN0ZW5lciksdGhpcy50b2tlbkxpc3RlbmVyPW51bGwsdGhpcy5jaGFuZ2VMaXN0ZW5lcj1udWxsfSxlLnByb3RvdHlwZS5nZXRVc2VyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hdXRoJiZ0aGlzLmF1dGguZ2V0VWlkKCk7cmV0dXJuIHcobnVsbD09PWV8fCJzdHJpbmciPT09dHlwZW9mIGUsIlJlY2VpdmVkIGludmFsaWQgVUlEOiAiK2UpLG5ldyBPaShlKX0sZX0oKSxhbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmdhcGk9ZSx0aGlzLnNlc3Npb25JbmRleD10LHRoaXMudHlwZT0iRmlyc3RQYXJ0eSIsdGhpcy51c2VyPU9pLkZJUlNUX1BBUlRZfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImF1dGhIZWFkZXJzIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9eyJYLUdvb2ctQXV0aFVzZXIiOnRoaXMuc2Vzc2lvbkluZGV4fSx0PXRoaXMuZ2FwaS5hdXRoLmdldEF1dGhIZWFkZXJWYWx1ZUZvckZpcnN0UGFydHkoW10pO3JldHVybiB0JiYoZS5BdXRob3JpemF0aW9uPXQpLGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZX0oKSxzbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmdhcGk9ZSx0aGlzLnNlc3Npb25JbmRleD10fXJldHVybiBlLnByb3RvdHlwZS5nZXRUb2tlbj1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUobmV3IGFvKHRoaXMuZ2FwaSx0aGlzLnNlc3Npb25JbmRleCkpfSxlLnByb3RvdHlwZS5zZXRDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbihlKXtlKE9pLkZJUlNUX1BBUlRZKX0sZS5wcm90b3R5cGUucmVtb3ZlQ2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmludmFsaWRhdGVUb2tlbj1mdW5jdGlvbigpe30sZX0oKTtmdW5jdGlvbiB1byhlKXtpZighZSlyZXR1cm4gbmV3IGlvO3N3aXRjaChlLnR5cGUpe2Nhc2UiZ2FwaSI6dmFyIHQ9ZS5jbGllbnQ7cmV0dXJuIHcoISgib2JqZWN0IiE9PXR5cGVvZiB0fHxudWxsPT09dHx8IXQuYXV0aHx8IXQuYXV0aC5nZXRBdXRoSGVhZGVyVmFsdWVGb3JGaXJzdFBhcnR5KSwidW5leHBlY3RlZCBnYXBpIGludGVyZmFjZSIpLG5ldyBzbyh0LGUuc2Vzc2lvbkluZGV4fHwiMCIpO2Nhc2UicHJvdmlkZXIiOnJldHVybiBlLmNsaWVudDtkZWZhdWx0OnRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwibWFrZUNyZWRlbnRpYWxzUHJvdmlkZXIgZmFpbGVkIGR1ZSB0byBpbnZhbGlkIGNyZWRlbnRpYWwgdHlwZSIpfX1mdW5jdGlvbiBjbyhlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0IiE9PXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm4hMTtmb3IodmFyIG49ZSxyPTAsaT10O3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO2lmKG8gaW4gbiYmImZ1bmN0aW9uIj09PXR5cGVvZiBuW29dKXJldHVybiEwfXJldHVybiExfShlLFsibmV4dCIsImVycm9yIiwiY29tcGxldGUiXSl9dmFyIGhvLGxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9tZXRob2ROYW1lPWV9cmV0dXJuIGUuZGVsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGsoIkZpZWxkVmFsdWUuZGVsZXRlIixhcmd1bWVudHMpLGZvLmluc3RhbmNlfSxlLnNlcnZlclRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiBrKCJGaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCIsYXJndW1lbnRzKSxwby5pbnN0YW5jZX0sZS5hcnJheVVuaW9uPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiBNKCJGaWVsZFZhbHVlLmFycmF5VW5pb24iLGFyZ3VtZW50cywxKSxuZXcgbW8oZSl9LGUuYXJyYXlSZW1vdmU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIE0oIkZpZWxkVmFsdWUuYXJyYXlSZW1vdmUiLGFyZ3VtZW50cywxKSxuZXcgeW8oZSl9LGUuaW5jcmVtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBPKCJGaWVsZFZhbHVlLmluY3JlbWVudCIsIm51bWJlciIsMSxlKSxSKCJGaWVsZFZhbHVlLmluY3JlbWVudCIsYXJndW1lbnRzLDEpLG5ldyBnbyhlKX0sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcz09PWV9LGV9KCksZm89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcywiRmllbGRWYWx1ZS5kZWxldGUiKXx8dGhpc31yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0Lmluc3RhbmNlPW5ldyB0LHR9KGxvKSxwbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzLCJGaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCIpfHx0aGlzfXJldHVybiBhLl9fZXh0ZW5kcyh0LGUpLHQuaW5zdGFuY2U9bmV3IHQsdH0obG8pLG1vPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsIkZpZWxkVmFsdWUuYXJyYXlVbmlvbiIpfHx0aGlzO3JldHVybiBuLl9lbGVtZW50cz10LG59cmV0dXJuIGEuX19leHRlbmRzKHQsZSksdH0obG8pLHlvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsIkZpZWxkVmFsdWUuYXJyYXlSZW1vdmUiKXx8dGhpcztyZXR1cm4gbi5fZWxlbWVudHM9dCxufXJldHVybiBhLl9fZXh0ZW5kcyh0LGUpLHR9KGxvKSxnbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLCJGaWVsZFZhbHVlLmluY3JlbWVudCIpfHx0aGlzO3JldHVybiBuLl9vcGVyYW5kPXQsbn1yZXR1cm4gYS5fX2V4dGVuZHModCxlKSx0fShsbyksdm89SShsbywiVXNlIEZpZWxkVmFsdWUuPGZpZWxkPigpIGluc3RlYWQuIiksd289L15fXy4qX18kLyxibz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4pe3RoaXMuZGF0YT1lLHRoaXMuZmllbGRNYXNrPXQsdGhpcy5maWVsZFRyYW5zZm9ybXM9bn1yZXR1cm4gZS5wcm90b3R5cGUudG9NdXRhdGlvbnM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtyZXR1cm4gbnVsbCE9PXRoaXMuZmllbGRNYXNrP24ucHVzaChuZXcgQ3QoZSx0aGlzLmRhdGEsdGhpcy5maWVsZE1hc2ssdCkpOm4ucHVzaChuZXcgSXQoZSx0aGlzLmRhdGEsdCkpLHRoaXMuZmllbGRUcmFuc2Zvcm1zLmxlbmd0aD4wJiZuLnB1c2gobmV3IER0KGUsdGhpcy5maWVsZFRyYW5zZm9ybXMpKSxufSxlfSgpLFRvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dGhpcy5kYXRhPWUsdGhpcy5maWVsZE1hc2s9dCx0aGlzLmZpZWxkVHJhbnNmb3Jtcz1ufXJldHVybiBlLnByb3RvdHlwZS50b011dGF0aW9ucz1mdW5jdGlvbihlLHQpe3ZhciBuPVtuZXcgQ3QoZSx0aGlzLmRhdGEsdGhpcy5maWVsZE1hc2ssdCldO3JldHVybiB0aGlzLmZpZWxkVHJhbnNmb3Jtcy5sZW5ndGg+MCYmbi5wdXNoKG5ldyBEdChlLHRoaXMuZmllbGRUcmFuc2Zvcm1zKSksbn0sZX0oKTtmdW5jdGlvbiBTbyhlKXtzd2l0Y2goZSl7Y2FzZSBoby5TZXQ6Y2FzZSBoby5NZXJnZVNldDpjYXNlIGhvLlVwZGF0ZTpyZXR1cm4hMDtjYXNlIGhvLkFyZ3VtZW50OmNhc2UgaG8uQXJyYXlBcmd1bWVudDpyZXR1cm4hMTtkZWZhdWx0OnRocm93IHYoIlVuZXhwZWN0ZWQgY2FzZSBmb3IgVXNlckRhdGFTb3VyY2U6ICIrZSl9fSFmdW5jdGlvbihlKXtlW2UuU2V0PTBdPSJTZXQiLGVbZS5VcGRhdGU9MV09IlVwZGF0ZSIsZVtlLk1lcmdlU2V0PTJdPSJNZXJnZVNldCIsZVtlLkFyZ3VtZW50PTNdPSJBcmd1bWVudCIsZVtlLkFycmF5QXJndW1lbnQ9NF09IkFycmF5QXJndW1lbnQifShob3x8KGhvPXt9KSk7dmFyIEVvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyLGksbyl7dGhpcy5kYXRhU291cmNlPWUsdGhpcy5tZXRob2ROYW1lPXQsdGhpcy5wYXRoPW4sdGhpcy5hcnJheUVsZW1lbnQ9cix2b2lkIDA9PT1pJiZ0aGlzLnZhbGlkYXRlUGF0aCgpLHRoaXMuYXJyYXlFbGVtZW50PXZvaWQgMCE9PXImJnIsdGhpcy5maWVsZFRyYW5zZm9ybXM9aXx8W10sdGhpcy5maWVsZE1hc2s9b3x8W119cmV0dXJuIGUucHJvdG90eXBlLmNoaWxkQ29udGV4dEZvckZpZWxkPWZ1bmN0aW9uKHQpe3ZhciBuPW51bGw9PXRoaXMucGF0aD9udWxsOnRoaXMucGF0aC5jaGlsZCh0KSxyPW5ldyBlKHRoaXMuZGF0YVNvdXJjZSx0aGlzLm1ldGhvZE5hbWUsbiwhMSx0aGlzLmZpZWxkVHJhbnNmb3Jtcyx0aGlzLmZpZWxkTWFzayk7cmV0dXJuIHIudmFsaWRhdGVQYXRoU2VnbWVudCh0KSxyfSxlLnByb3RvdHlwZS5jaGlsZENvbnRleHRGb3JGaWVsZFBhdGg9ZnVuY3Rpb24odCl7dmFyIG49bnVsbD09dGhpcy5wYXRoP251bGw6dGhpcy5wYXRoLmNoaWxkKHQpLHI9bmV3IGUodGhpcy5kYXRhU291cmNlLHRoaXMubWV0aG9kTmFtZSxuLCExLHRoaXMuZmllbGRUcmFuc2Zvcm1zLHRoaXMuZmllbGRNYXNrKTtyZXR1cm4gci52YWxpZGF0ZVBhdGgoKSxyfSxlLnByb3RvdHlwZS5jaGlsZENvbnRleHRGb3JBcnJheT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodGhpcy5kYXRhU291cmNlLHRoaXMubWV0aG9kTmFtZSxudWxsLCEwLHRoaXMuZmllbGRUcmFuc2Zvcm1zLHRoaXMuZmllbGRNYXNrKX0sZS5wcm90b3R5cGUuY3JlYXRlRXJyb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbD09PXRoaXMucGF0aHx8dGhpcy5wYXRoLmlzRW1wdHkoKT8iIjoiIChmb3VuZCBpbiBmaWVsZCAiK3RoaXMucGF0aC50b1N0cmluZygpKyIpIjtyZXR1cm4gbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJGdW5jdGlvbiAiK3RoaXMubWV0aG9kTmFtZSsiKCkgY2FsbGVkIHdpdGggaW52YWxpZCBkYXRhLiAiK2UrdCl9LGUucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT10aGlzLmZpZWxkTWFzay5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gZS5pc1ByZWZpeE9mKHQpfSkpfHx2b2lkIDAhPT10aGlzLmZpZWxkVHJhbnNmb3Jtcy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gZS5pc1ByZWZpeE9mKHQuZmllbGQpfSkpfSxlLnByb3RvdHlwZS52YWxpZGF0ZVBhdGg9ZnVuY3Rpb24oKXtpZihudWxsIT09dGhpcy5wYXRoKWZvcih2YXIgZT0wO2U8dGhpcy5wYXRoLmxlbmd0aDtlKyspdGhpcy52YWxpZGF0ZVBhdGhTZWdtZW50KHRoaXMucGF0aC5nZXQoZSkpfSxlLnByb3RvdHlwZS52YWxpZGF0ZVBhdGhTZWdtZW50PWZ1bmN0aW9uKGUpe2lmKDA9PT1lLmxlbmd0aCl0aHJvdyB0aGlzLmNyZWF0ZUVycm9yKCJEb2N1bWVudCBmaWVsZHMgbXVzdCBub3QgYmUgZW1wdHkiKTtpZihTbyh0aGlzLmRhdGFTb3VyY2UpJiZ3by50ZXN0KGUpKXRocm93IHRoaXMuY3JlYXRlRXJyb3IoJ0RvY3VtZW50IGZpZWxkcyBjYW5ub3QgYmVnaW4gYW5kIGVuZCB3aXRoICJfXyInKX0sZX0oKSxJbz1mdW5jdGlvbihlLHQpe3RoaXMuZGF0YWJhc2VJZD1lLHRoaXMua2V5PXR9LENvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnByZUNvbnZlcnRlcj1lfXJldHVybiBlLnByb3RvdHlwZS5wYXJzZVNldERhdGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgRW8oaG8uU2V0LGUsZmUuRU1QVFlfUEFUSCk7X28oIkRhdGEgbXVzdCBiZSBhbiBvYmplY3QsIGJ1dCBpdCB3YXM6IixuLHQpO3ZhciByPXRoaXMucGFyc2VEYXRhKHQsbik7cmV0dXJuIG5ldyBibyhyLG51bGwsbi5maWVsZFRyYW5zZm9ybXMpfSxlLnByb3RvdHlwZS5wYXJzZU1lcmdlRGF0YT1mdW5jdGlvbihlLHQsbil7dmFyIHI9bmV3IEVvKGhvLk1lcmdlU2V0LGUsZmUuRU1QVFlfUEFUSCk7X28oIkRhdGEgbXVzdCBiZSBhbiBvYmplY3QsIGJ1dCBpdCB3YXM6IixyLHQpO3ZhciBpLG8sYT10aGlzLnBhcnNlRGF0YSh0LHIpO2lmKG4pe2Zvcih2YXIgcz1uZXcgUmUoZmUuY29tcGFyYXRvciksdT0wLGM9bjt1PGMubGVuZ3RoO3UrKyl7dmFyIGg9Y1t1XSxsPXZvaWQgMDtpZihoIGluc3RhbmNlb2YgdG8pbD1oLl9pbnRlcm5hbFBhdGg7ZWxzZXtpZigic3RyaW5nIiE9PXR5cGVvZiBoKXRocm93IHYoIkV4cGVjdGVkIHN0cmluZ09yRmllbGRQYXRoIHRvIGJlIGEgc3RyaW5nIG9yIGEgRmllbGRQYXRoIik7bD1BbyhlLGgpfWlmKCFyLmNvbnRhaW5zKGwpKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiRmllbGQgJyIrbCsiJyBpcyBzcGVjaWZpZWQgaW4geW91ciBmaWVsZCBtYXNrIGJ1dCBtaXNzaW5nIGZyb20geW91ciBpbnB1dCBkYXRhLiIpO3M9cy5hZGQobCl9aT1ndC5mcm9tU2V0KHMpLG89ci5maWVsZFRyYW5zZm9ybXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5jb3ZlcnMoZS5maWVsZCl9KSl9ZWxzZSBpPWd0LmZyb21BcnJheShyLmZpZWxkTWFzayksbz1yLmZpZWxkVHJhbnNmb3JtcztyZXR1cm4gbmV3IGJvKGEsaSxvKX0sZS5wcm90b3R5cGUucGFyc2VVcGRhdGVEYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPW5ldyBFbyhoby5VcGRhdGUsZSxmZS5FTVBUWV9QQVRIKTtfbygiRGF0YSBtdXN0IGJlIGFuIG9iamVjdCwgYnV0IGl0IHdhczoiLHIsdCk7dmFyIGk9bmV3IFJlKGZlLmNvbXBhcmF0b3IpLG89S3QuRU1QVFk7Tih0LChmdW5jdGlvbih0LGEpe3ZhciBzPUFvKGUsdCksdT1yLmNoaWxkQ29udGV4dEZvckZpZWxkUGF0aChzKTtpZigoYT1uLnJ1blByZUNvbnZlcnRlcihhLHUpKWluc3RhbmNlb2YgZm8paT1pLmFkZChzKTtlbHNle3ZhciBjPW4ucGFyc2VEYXRhKGEsdSk7bnVsbCE9YyYmKGk9aS5hZGQocyksbz1vLnNldChzLGMpKX19KSk7dmFyIGE9Z3QuZnJvbVNldChpKTtyZXR1cm4gbmV3IFRvKG8sYSxyLmZpZWxkVHJhbnNmb3Jtcyl9LGUucHJvdG90eXBlLnBhcnNlVXBkYXRlVmFyYXJncz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1uZXcgRW8oaG8uVXBkYXRlLGUsZmUuRU1QVFlfUEFUSCksbz1bTm8oZSx0KV0sYT1bbl07aWYoci5sZW5ndGglMiE9PTApdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJGdW5jdGlvbiAiK2UrIigpIG5lZWRzIHRvIGJlIGNhbGxlZCB3aXRoIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cyB0aGF0IGFsdGVybmF0ZSBiZXR3ZWVuIGZpZWxkIG5hbWVzIGFuZCB2YWx1ZXMuIik7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKz0yKW8ucHVzaChObyhlLHJbc10pKSxhLnB1c2gocltzKzFdKTt2YXIgdT1uZXcgUmUoZmUuY29tcGFyYXRvciksYz1LdC5FTVBUWTtmb3Iocz0wO3M8by5sZW5ndGg7KytzKXt2YXIgaD1vW3NdLGw9aS5jaGlsZENvbnRleHRGb3JGaWVsZFBhdGgoaCksZj10aGlzLnJ1blByZUNvbnZlcnRlcihhW3NdLGwpO2lmKGYgaW5zdGFuY2VvZiBmbyl1PXUuYWRkKGgpO2Vsc2V7dmFyIGQ9dGhpcy5wYXJzZURhdGEoZixsKTtudWxsIT1kJiYodT11LmFkZChoKSxjPWMuc2V0KGgsZCkpfX12YXIgcD1ndC5mcm9tU2V0KHUpO3JldHVybiBuZXcgVG8oYyxwLGkuZmllbGRUcmFuc2Zvcm1zKX0sZS5wcm90b3R5cGUucGFyc2VRdWVyeVZhbHVlPWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT1uJiYobj0hMSk7dmFyIHI9bmV3IEVvKG4/aG8uQXJyYXlBcmd1bWVudDpoby5Bcmd1bWVudCxlLGZlLkVNUFRZX1BBVEgpLGk9dGhpcy5wYXJzZURhdGEodCxyKTtyZXR1cm4gdyhudWxsIT1pLCJQYXJzZWQgZGF0YSBzaG91bGQgbm90IGJlIG51bGwuIiksdygwPT09ci5maWVsZFRyYW5zZm9ybXMubGVuZ3RoLCJGaWVsZCB0cmFuc2Zvcm1zIHNob3VsZCBoYXZlIGJlZW4gZGlzYWxsb3dlZC4iKSxpfSxlLnByb3RvdHlwZS5ydW5QcmVDb252ZXJ0ZXI9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIHRoaXMucHJlQ29udmVydGVyKGUpfWNhdGNoKHIpe3ZhciBuPWtvKHIpO3Rocm93IHQuY3JlYXRlRXJyb3Iobil9fSxlLnByb3RvdHlwZS5wYXJzZURhdGE9ZnVuY3Rpb24oZSx0KXtpZihEbyhlPXRoaXMucnVuUHJlQ29udmVydGVyKGUsdCkpKXJldHVybiBfbygiVW5zdXBwb3J0ZWQgZmllbGQgdmFsdWU6Iix0LGUpLHRoaXMucGFyc2VPYmplY3QoZSx0KTtpZihlIGluc3RhbmNlb2YgbG8pcmV0dXJuIHRoaXMucGFyc2VTZW50aW5lbEZpZWxkVmFsdWUoZSx0KSxudWxsO2lmKHQucGF0aCYmdC5maWVsZE1hc2sucHVzaCh0LnBhdGgpLGUgaW5zdGFuY2VvZiBBcnJheSl7aWYodC5hcnJheUVsZW1lbnQmJnQuZGF0YVNvdXJjZSE9PWhvLkFycmF5QXJndW1lbnQpdGhyb3cgdC5jcmVhdGVFcnJvcigiTmVzdGVkIGFycmF5cyBhcmUgbm90IHN1cHBvcnRlZCIpO3JldHVybiB0aGlzLnBhcnNlQXJyYXkoZSx0KX1yZXR1cm4gdGhpcy5wYXJzZVNjYWxhclZhbHVlKGUsdCl9LGUucHJvdG90eXBlLnBhcnNlT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPW5ldyBfZShYKTtyZXR1cm4gQShlKT90LnBhdGgmJnQucGF0aC5sZW5ndGg+MCYmdC5maWVsZE1hc2sucHVzaCh0LnBhdGgpOk4oZSwoZnVuY3Rpb24oZSxpKXt2YXIgbz1uLnBhcnNlRGF0YShpLHQuY2hpbGRDb250ZXh0Rm9yRmllbGQoZSkpO251bGwhPW8mJihyPXIuaW5zZXJ0KGUsbykpfSkpLG5ldyBLdChyKX0sZS5wcm90b3R5cGUucGFyc2VBcnJheT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPTAsaT0wLG89ZTtpPG8ubGVuZ3RoO2krKyl7dmFyIGE9b1tpXSxzPXRoaXMucGFyc2VEYXRhKGEsdC5jaGlsZENvbnRleHRGb3JBcnJheShyKSk7bnVsbD09cyYmKHM9UnQuSU5TVEFOQ0UpLG4ucHVzaChzKSxyKyt9cmV0dXJuIG5ldyB6dChuKX0sZS5wcm90b3R5cGUucGFyc2VTZW50aW5lbEZpZWxkVmFsdWU9ZnVuY3Rpb24oZSx0KXtpZighU28odC5kYXRhU291cmNlKSl0aHJvdyB0LmNyZWF0ZUVycm9yKGUuX21ldGhvZE5hbWUrIigpIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCB1cGRhdGUoKSBhbmQgc2V0KCkiKTtpZihudWxsPT09dC5wYXRoKXRocm93IHQuY3JlYXRlRXJyb3IoZS5fbWV0aG9kTmFtZSsiKCkgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgaW5zaWRlIGFycmF5cyIpO2lmKGUgaW5zdGFuY2VvZiBmbyl7aWYodC5kYXRhU291cmNlIT09aG8uTWVyZ2VTZXQpdGhyb3cgdC5kYXRhU291cmNlPT09aG8uVXBkYXRlPyh3KHQucGF0aC5sZW5ndGg+MCwiRmllbGRWYWx1ZS5kZWxldGUoKSBhdCB0aGUgdG9wIGxldmVsIHNob3VsZCBoYXZlIGFscmVhZHkgYmVlbiBoYW5kbGVkLiIpLHQuY3JlYXRlRXJyb3IoIkZpZWxkVmFsdWUuZGVsZXRlKCkgY2FuIG9ubHkgYXBwZWFyIGF0IHRoZSB0b3AgbGV2ZWwgb2YgeW91ciB1cGRhdGUgZGF0YSIpKTp0LmNyZWF0ZUVycm9yKCJGaWVsZFZhbHVlLmRlbGV0ZSgpIGNhbm5vdCBiZSB1c2VkIHdpdGggc2V0KCkgdW5sZXNzIHlvdSBwYXNzIHttZXJnZTp0cnVlfSIpO3QuZmllbGRNYXNrLnB1c2godC5wYXRoKX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBwbyl0LmZpZWxkVHJhbnNmb3Jtcy5wdXNoKG5ldyB2dCh0LnBhdGgsaGkuaW5zdGFuY2UpKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBtbyl7dmFyIG49dGhpcy5wYXJzZUFycmF5VHJhbnNmb3JtRWxlbWVudHMoZS5fbWV0aG9kTmFtZSxlLl9lbGVtZW50cykscj1uZXcgbGkobik7dC5maWVsZFRyYW5zZm9ybXMucHVzaChuZXcgdnQodC5wYXRoLHIpKX1lbHNlIGlmKGUgaW5zdGFuY2VvZiB5byl7bj10aGlzLnBhcnNlQXJyYXlUcmFuc2Zvcm1FbGVtZW50cyhlLl9tZXRob2ROYW1lLGUuX2VsZW1lbnRzKTt2YXIgaT1uZXcgZmkobik7dC5maWVsZFRyYW5zZm9ybXMucHVzaChuZXcgdnQodC5wYXRoLGkpKX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBnbyl7dmFyIG89dGhpcy5wYXJzZVF1ZXJ5VmFsdWUoIkZpZWxkVmFsdWUuaW5jcmVtZW50IixlLl9vcGVyYW5kKSxhPW5ldyBkaShvKTt0LmZpZWxkVHJhbnNmb3Jtcy5wdXNoKG5ldyB2dCh0LnBhdGgsYSkpfWVsc2UgdigiVW5rbm93biBGaWVsZFZhbHVlIHR5cGU6ICIrZSl9LGUucHJvdG90eXBlLnBhcnNlU2NhbGFyVmFsdWU9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT09ZSlyZXR1cm4gUnQuSU5TVEFOQ0U7aWYoIm51bWJlciI9PT10eXBlb2YgZSlyZXR1cm4gaXIoZSk/bmV3IHh0KGUpOm5ldyBQdChlKTtpZigiYm9vbGVhbiI9PT10eXBlb2YgZSlyZXR1cm4gTXQub2YoZSk7aWYoInN0cmluZyI9PT10eXBlb2YgZSlyZXR1cm4gbmV3IEZ0KGUpO2lmKGUgaW5zdGFuY2VvZiBEYXRlKXJldHVybiBuZXcgcXQoQ2UuZnJvbURhdGUoZSkpO2lmKGUgaW5zdGFuY2VvZiBDZSlyZXR1cm4gbmV3IHF0KG5ldyBDZShlLnNlY29uZHMsMWUzKk1hdGguZmxvb3IoZS5uYW5vc2Vjb25kcy8xZTMpKSk7aWYoZSBpbnN0YW5jZW9mIGNpKXJldHVybiBuZXcgUXQoZSk7aWYoZSBpbnN0YW5jZW9mIHJlKXJldHVybiBuZXcgQnQoZSk7aWYoZSBpbnN0YW5jZW9mIElvKXJldHVybiBuZXcgVXQoZS5kYXRhYmFzZUlkLGUua2V5KTt0aHJvdyB0LmNyZWF0ZUVycm9yKCJVbnN1cHBvcnRlZCBmaWVsZCB2YWx1ZTogIitLKGUpKX0sZS5wcm90b3R5cGUucGFyc2VBcnJheVRyYW5zZm9ybUVsZW1lbnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQscil7dmFyIGk9bmV3IEVvKGhvLkFyZ3VtZW50LGUsZmUuRU1QVFlfUEFUSCk7cmV0dXJuIG4ucGFyc2VEYXRhKHQsaS5jaGlsZENvbnRleHRGb3JBcnJheShyKSl9KSl9LGV9KCk7ZnVuY3Rpb24gRG8oZSl7cmV0dXJuIm9iamVjdCI9PT10eXBlb2YgZSYmbnVsbCE9PWUmJiEoZSBpbnN0YW5jZW9mIEFycmF5KSYmIShlIGluc3RhbmNlb2YgRGF0ZSkmJiEoZSBpbnN0YW5jZW9mIENlKSYmIShlIGluc3RhbmNlb2YgY2kpJiYhKGUgaW5zdGFuY2VvZiByZSkmJiEoZSBpbnN0YW5jZW9mIElvKSYmIShlIGluc3RhbmNlb2YgbG8pfWZ1bmN0aW9uIF9vKGUsdCxuKXtpZighRG8obil8fCFRKG4pKXt2YXIgcj1LKG4pO3Rocm93ImFuIG9iamVjdCI9PT1yP3QuY3JlYXRlRXJyb3IoZSsiIGEgY3VzdG9tIG9iamVjdCIpOnQuY3JlYXRlRXJyb3IoZSsiICIrcil9fWZ1bmN0aW9uIE5vKGUsdCl7aWYodCBpbnN0YW5jZW9mIHRvKXJldHVybiB0Ll9pbnRlcm5hbFBhdGg7aWYoInN0cmluZyI9PT10eXBlb2YgdClyZXR1cm4gQW8oZSx0KTt0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIkZ1bmN0aW9uICIrZSsiKCkgY2FsbGVkIHdpdGggaW52YWxpZCBkYXRhLiBGaWVsZCBwYXRoIGFyZ3VtZW50cyBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nIG9yIEZpZWxkUGF0aC4iKX1mdW5jdGlvbiBBbyhlLHQpe3RyeXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoZS5zZWFyY2gobm8pPj0wKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiSW52YWxpZCBmaWVsZCBwYXRoICgiK2UrIikuIFBhdGhzIG11c3Qgbm90IGNvbnRhaW4gJ34nLCAnKicsICcvJywgJ1snLCBvciAnXSciKTt0cnl7cmV0dXJuIG5ldyh0by5iaW5kLmFwcGx5KHRvLGEuX19zcHJlYWRBcnJheXMoW3ZvaWQgMF0sZS5zcGxpdCgiLiIpKSkpfWNhdGNoKHQpe3Rocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiSW52YWxpZCBmaWVsZCBwYXRoICgiK2UrIikuIFBhdGhzIG11c3Qgbm90IGJlIGVtcHR5LCBiZWdpbiB3aXRoICcuJywgZW5kIHdpdGggJy4nLCBvciBjb250YWluICcuLiciKX19KHQpLl9pbnRlcm5hbFBhdGh9Y2F0Y2gocil7dmFyIG49a28ocik7dGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJGdW5jdGlvbiAiK2UrIigpIGNhbGxlZCB3aXRoIGludmFsaWQgZGF0YS4gIituKX19ZnVuY3Rpb24ga28oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBFcnJvcj9lLm1lc3NhZ2U6ZS50b1N0cmluZygpfXZhciBSbz0iZmlyZXN0b3JlLmdvb2dsZWFwaXMuY29tIixNbz0hMCxMbz0hMCxPbz0hMSx4bz1Rbi5DT0xMRUNUSU9OX0RJU0FCTEVELFBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZih2b2lkIDA9PT1lLmhvc3Qpe2lmKHZvaWQgMCE9PWUuc3NsKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiQ2FuJ3QgcHJvdmlkZSBzc2wgb3B0aW9uIGlmIGhvc3Qgb3B0aW9uIGlzIG5vdCBzZXQiKTt0aGlzLmhvc3Q9Um8sdGhpcy5zc2w9TW99ZWxzZSBQKCJzZXR0aW5ncyIsIm5vbi1lbXB0eSBzdHJpbmciLCJob3N0IixlLmhvc3QpLHRoaXMuaG9zdD1lLmhvc3QsRigic2V0dGluZ3MiLCJib29sZWFuIiwic3NsIixlLnNzbCksdGhpcy5zc2w9RChlLnNzbCxNbyk7aWYoVygic2V0dGluZ3MiLGUsWyJob3N0Iiwic3NsIiwiY3JlZGVudGlhbHMiLCJ0aW1lc3RhbXBzSW5TbmFwc2hvdHMiLCJjYWNoZVNpemVCeXRlcyIsImV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmciXSksRigic2V0dGluZ3MiLCJvYmplY3QiLCJjcmVkZW50aWFscyIsZS5jcmVkZW50aWFscyksdGhpcy5jcmVkZW50aWFscz1lLmNyZWRlbnRpYWxzLEYoInNldHRpbmdzIiwiYm9vbGVhbiIsInRpbWVzdGFtcHNJblNuYXBzaG90cyIsZS50aW1lc3RhbXBzSW5TbmFwc2hvdHMpLCEwPT09ZS50aW1lc3RhbXBzSW5TbmFwc2hvdHM/eSgiXG4gIFRoZSB0aW1lc3RhbXBzSW5TbmFwc2hvdHMgc2V0dGluZyBub3cgZGVmYXVsdHMgdG8gdHJ1ZSBhbmQgeW91IG5vXG4gIGxvbmdlciBuZWVkIHRvIGV4cGxpY2l0bHkgc2V0IGl0LiBJbiBhIGZ1dHVyZSByZWxlYXNlLCB0aGUgc2V0dGluZ1xuICB3aWxsIGJlIHJlbW92ZWQgZW50aXJlbHkgYW5kIHNvIGl0IGlzIHJlY29tbWVuZGVkIHRoYXQgeW91IHJlbW92ZSBpdFxuICBmcm9tIHlvdXIgZmlyZXN0b3JlLnNldHRpbmdzKCkgY2FsbCBub3cuIik6ITE9PT1lLnRpbWVzdGFtcHNJblNuYXBzaG90cyYmeSgiXG4gIFRoZSB0aW1lc3RhbXBzSW5TbmFwc2hvdHMgc2V0dGluZyB3aWxsIHNvb24gYmUgcmVtb3ZlZC4gWU9VIE1VU1QgVVBEQVRFXG4gIFlPVVIgQ09ERS5cblxuICBUbyBoaWRlIHRoaXMgd2FybmluZywgc3RvcCB1c2luZyB0aGUgdGltZXN0YW1wc0luU25hcHNob3RzIHNldHRpbmcgaW4geW91clxuICBmaXJlc3RvcmUuc2V0dGluZ3MoeyAuLi4gfSkgY2FsbC5cblxuICBPbmNlIHlvdSByZW1vdmUgdGhlIHNldHRpbmcsIFRpbWVzdGFtcHMgc3RvcmVkIGluIENsb3VkIEZpcmVzdG9yZSB3aWxsIGJlXG4gIHJlYWQgYmFjayBhcyBGaXJlYmFzZSBUaW1lc3RhbXAgb2JqZWN0cyBpbnN0ZWFkIG9mIGFzIHN5c3RlbSBEYXRlIG9iamVjdHMuXG4gIFNvIHlvdSB3aWxsIGFsc28gbmVlZCB0byB1cGRhdGUgY29kZSBleHBlY3RpbmcgYSBEYXRlIHRvIGluc3RlYWQgZXhwZWN0IGFcbiAgVGltZXN0YW1wLiBGb3IgZXhhbXBsZTpcblxuICAvLyBPbGQ6XG4gIGNvbnN0IGRhdGUgPSBzbmFwc2hvdC5nZXQoJ2NyZWF0ZWRfYXQnKTtcbiAgLy8gTmV3OlxuICBjb25zdCB0aW1lc3RhbXAgPSBzbmFwc2hvdC5nZXQoJ2NyZWF0ZWRfYXQnKTsgY29uc3QgZGF0ZSA9XG4gIHRpbWVzdGFtcC50b0RhdGUoKTtcblxuICBQbGVhc2UgYXVkaXQgYWxsIGV4aXN0aW5nIHVzYWdlcyBvZiBEYXRlIHdoZW4geW91IGVuYWJsZSB0aGUgbmV3XG4gIGJlaGF2aW9yLiIpLHRoaXMudGltZXN0YW1wc0luU25hcHNob3RzPUQoZS50aW1lc3RhbXBzSW5TbmFwc2hvdHMsTG8pLEYoInNldHRpbmdzIiwibnVtYmVyIiwiY2FjaGVTaXplQnl0ZXMiLGUuY2FjaGVTaXplQnl0ZXMpLHZvaWQgMD09PWUuY2FjaGVTaXplQnl0ZXMpdGhpcy5jYWNoZVNpemVCeXRlcz1Rbi5ERUZBVUxUX0NBQ0hFX1NJWkVfQllURVM7ZWxzZXtpZihlLmNhY2hlU2l6ZUJ5dGVzIT09eG8mJmUuY2FjaGVTaXplQnl0ZXM8UW4uTUlOSU1VTV9DQUNIRV9TSVpFX0JZVEVTKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiY2FjaGVTaXplQnl0ZXMgbXVzdCBiZSBhdCBsZWFzdCAiK1FuLk1JTklNVU1fQ0FDSEVfU0laRV9CWVRFUyk7dGhpcy5jYWNoZVNpemVCeXRlcz1lLmNhY2hlU2l6ZUJ5dGVzfUYoInNldHRpbmdzIiwiYm9vbGVhbiIsImV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmciLGUuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyksdGhpcy5mb3JjZUxvbmdQb2xsaW5nPXZvaWQgMD09PWUuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZz9PbzplLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmd9cmV0dXJuIGUucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaG9zdD09PWUuaG9zdCYmdGhpcy5zc2w9PT1lLnNzbCYmdGhpcy50aW1lc3RhbXBzSW5TbmFwc2hvdHM9PT1lLnRpbWVzdGFtcHNJblNuYXBzaG90cyYmdGhpcy5jcmVkZW50aWFscz09PWUuY3JlZGVudGlhbHMmJnRoaXMuY2FjaGVTaXplQnl0ZXM9PT1lLmNhY2hlU2l6ZUJ5dGVzJiZ0aGlzLmZvcmNlTG9uZ1BvbGxpbmc9PT1lLmZvcmNlTG9uZ1BvbGxpbmd9LGV9KCksRm89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbil7dmFyIHI9dGhpcztpZih0aGlzLl9maXJlYmFzZUFwcD1udWxsLHRoaXMuX3F1ZXVlPW5ldyB5ZSx0aGlzLklOVEVSTkFMPXtkZWxldGU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2F3YWl0ZXIocix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuZW5zdXJlQ2xpZW50Q29uZmlndXJlZCgpLFs0LHRoaXMuX2ZpcmVzdG9yZUNsaWVudC50ZXJtaW5hdGUoKV07Y2FzZSAxOnJldHVybiBlLnNlbnQoKSxbMl19fSkpfSkpfX0sIm9iamVjdCI9PT10eXBlb2YgdC5vcHRpb25zKXt2YXIgaT10O3RoaXMuX2ZpcmViYXNlQXBwPWksdGhpcy5fZGF0YWJhc2VJZD1lLmRhdGFiYXNlSWRGcm9tQXBwKGkpLHRoaXMuX3BlcnNpc3RlbmNlS2V5PWkubmFtZSx0aGlzLl9jcmVkZW50aWFscz1uZXcgb28obil9ZWxzZXt2YXIgbz10O2lmKCFvLnByb2plY3RJZCl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIk11c3QgcHJvdmlkZSBwcm9qZWN0SWQiKTt0aGlzLl9kYXRhYmFzZUlkPW5ldyBzZShvLnByb2plY3RJZCxvLmRhdGFiYXNlKSx0aGlzLl9wZXJzaXN0ZW5jZUtleT0iW0RFRkFVTFRdIix0aGlzLl9jcmVkZW50aWFscz1uZXcgaW99dGhpcy5fc2V0dGluZ3M9bmV3IFBvKHt9KSx0aGlzLl9kYXRhQ29udmVydGVyPXRoaXMuY3JlYXRlRGF0YUNvbnZlcnRlcih0aGlzLl9kYXRhYmFzZUlkKX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0dGluZ3M9ZnVuY3Rpb24oZSl7aWYoUigiRmlyZXN0b3JlLnNldHRpbmdzIixhcmd1bWVudHMsMSksTygiRmlyZXN0b3JlLnNldHRpbmdzIiwib2JqZWN0IiwxLGUpLEMoZSwicGVyc2lzdGVuY2UiKSl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsJyJwZXJzaXN0ZW5jZSIgaXMgbm93IHNwZWNpZmllZCB3aXRoIGEgc2VwYXJhdGUgY2FsbCB0byBmaXJlc3RvcmUuZW5hYmxlUGVyc2lzdGVuY2UoKS4nKTt2YXIgdD1uZXcgUG8oZSk7aWYodGhpcy5fZmlyZXN0b3JlQ2xpZW50JiYhdGhpcy5fc2V0dGluZ3MuaXNFcXVhbCh0KSl0aHJvdyBuZXcgRShTLkZBSUxFRF9QUkVDT05ESVRJT04sIkZpcmVzdG9yZSBoYXMgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQgYW5kIGl0cyBzZXR0aW5ncyBjYW4gbm8gbG9uZ2VyIGJlIGNoYW5nZWQuIFlvdSBjYW4gb25seSBjYWxsIHNldHRpbmdzKCkgYmVmb3JlIGNhbGxpbmcgYW55IG90aGVyIG1ldGhvZHMgb24gYSBGaXJlc3RvcmUgb2JqZWN0LiIpO3RoaXMuX3NldHRpbmdzPXQsdm9pZCAwIT09dC5jcmVkZW50aWFscyYmKHRoaXMuX2NyZWRlbnRpYWxzPXVvKHQuY3JlZGVudGlhbHMpKX0sZS5wcm90b3R5cGUuZW5hYmxlTmV0d29yaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuc3VyZUNsaWVudENvbmZpZ3VyZWQoKSx0aGlzLl9maXJlc3RvcmVDbGllbnQuZW5hYmxlTmV0d29yaygpfSxlLnByb3RvdHlwZS5kaXNhYmxlTmV0d29yaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuc3VyZUNsaWVudENvbmZpZ3VyZWQoKSx0aGlzLl9maXJlc3RvcmVDbGllbnQuZGlzYWJsZU5ldHdvcmsoKX0sZS5wcm90b3R5cGUuZW5hYmxlUGVyc2lzdGVuY2U9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZmlyZXN0b3JlQ2xpZW50KXRocm93IG5ldyBFKFMuRkFJTEVEX1BSRUNPTkRJVElPTiwiRmlyZXN0b3JlIGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZCBhbmQgcGVyc2lzdGVuY2UgY2FuIG5vIGxvbmdlciBiZSBlbmFibGVkLiBZb3UgY2FuIG9ubHkgY2FsbCBlbmFibGVQZXJzaXN0ZW5jZSgpIGJlZm9yZSBjYWxsaW5nIGFueSBvdGhlciBtZXRob2RzIG9uIGEgRmlyZXN0b3JlIG9iamVjdC4iKTt2YXIgdD0hMTtyZXR1cm4gZSYmKHZvaWQgMCE9PWUuZXhwZXJpbWVudGFsVGFiU3luY2hyb25pemF0aW9uJiZ5KCJUaGUgJ2V4cGVyaW1lbnRhbFRhYlN5bmNocm9uaXphdGlvbicgc2V0dGluZyBoYXMgYmVlbiByZW5hbWVkIHRvICdzeW5jaHJvbml6ZVRhYnMnLiBJbiBhIGZ1dHVyZSByZWxlYXNlLCB0aGUgc2V0dGluZyB3aWxsIGJlIHJlbW92ZWQgYW5kIGl0IGlzIHJlY29tbWVuZGVkIHRoYXQgeW91IHVwZGF0ZSB5b3VyIGZpcmVzdG9yZS5lbmFibGVQZXJzaXN0ZW5jZSgpIGNhbGwgdG8gdXNlICdzeW5jaHJvbml6ZVRhYnMnLiIpLHQ9RCh2b2lkIDAhPT1lLnN5bmNocm9uaXplVGFicz9lLnN5bmNocm9uaXplVGFiczplLmV4cGVyaW1lbnRhbFRhYlN5bmNocm9uaXphdGlvbiwhMSkpLHRoaXMuY29uZmlndXJlQ2xpZW50KG5ldyBYaSh0aGlzLl9zZXR0aW5ncy5jYWNoZVNpemVCeXRlcyx0KSl9LGUucHJvdG90eXBlLmNsZWFyUGVyc2lzdGVuY2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9SG4uYnVpbGRTdG9yYWdlUHJlZml4KHRoaXMubWFrZURhdGFiYXNlSW5mbygpKSxuPW5ldyBwZTtyZXR1cm4gdGhpcy5fcXVldWUuZW5xdWV1ZUFuZEZvcmdldEV2ZW5BZnRlclNodXRkb3duKChmdW5jdGlvbigpe3JldHVybiBhLl9fYXdhaXRlcihlLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDppZihyLnRyeXMucHVzaChbMCwyLCwzXSksdm9pZCAwIT09dGhpcy5fZmlyZXN0b3JlQ2xpZW50JiYhdGhpcy5fZmlyZXN0b3JlQ2xpZW50LmNsaWVudFRlcm1pbmF0ZWQpdGhyb3cgbmV3IEUoUy5GQUlMRURfUFJFQ09ORElUSU9OLCJQZXJzaXN0ZW5jZSBjYW5ub3QgYmUgY2xlYXJlZCBhZnRlciB0aGlzIEZpcmVzdG9yZSBpbnN0YW5jZSBpcyBpbml0aWFsaXplZC4iKTtyZXR1cm5bNCxIbi5jbGVhclBlcnNpc3RlbmNlKHQpXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLG4ucmVzb2x2ZSgpLFszLDNdO2Nhc2UgMjpyZXR1cm4gZT1yLnNlbnQoKSxuLnJlamVjdChlKSxbMywzXTtjYXNlIDM6cmV0dXJuWzJdfX0pKX0pKX0pKSxuLnByb21pc2V9LGUucHJvdG90eXBlLnRlcm1pbmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFwcC5fcmVtb3ZlU2VydmljZUluc3RhbmNlKCJmaXJlc3RvcmUiKSx0aGlzLklOVEVSTkFMLmRlbGV0ZSgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9pc1Rlcm1pbmF0ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnN1cmVDbGllbnRDb25maWd1cmVkKCksdGhpcy5fZmlyZXN0b3JlQ2xpZW50LmNsaWVudFRlcm1pbmF0ZWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUud2FpdEZvclBlbmRpbmdXcml0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnN1cmVDbGllbnRDb25maWd1cmVkKCksdGhpcy5fZmlyZXN0b3JlQ2xpZW50LndhaXRGb3JQZW5kaW5nV3JpdGVzKCl9LGUucHJvdG90eXBlLm9uU25hcHNob3RzSW5TeW5jPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZW5zdXJlQ2xpZW50Q29uZmlndXJlZCgpLGNvKGUpKXJldHVybiB0aGlzLm9uU25hcHNob3RzSW5TeW5jSW50ZXJuYWwoZSk7TygiRmlyZXN0b3JlLm9uU25hcHNob3RzSW5TeW5jIiwiZnVuY3Rpb24iLDEsZSk7dmFyIHQ9e25leHQ6ZX07cmV0dXJuIHRoaXMub25TbmFwc2hvdHNJblN5bmNJbnRlcm5hbCh0KX0sZS5wcm90b3R5cGUub25TbmFwc2hvdHNJblN5bmNJbnRlcm5hbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49bmV3IGVvKHtuZXh0OmZ1bmN0aW9uKCl7ZS5uZXh0JiZlLm5leHQoKX0sZXJyb3I6ZnVuY3Rpb24oZSl7dGhyb3cgdigiVW5jYXVnaHQgRXJyb3IgaW4gb25TbmFwc2hvdHNJblN5bmMiKX19KTtyZXR1cm4gdGhpcy5fZmlyZXN0b3JlQ2xpZW50LmFkZFNuYXBzaG90c0luU3luY0xpc3RlbmVyKG4pLGZ1bmN0aW9uKCl7bi5tdXRlKCksdC5fZmlyZXN0b3JlQ2xpZW50LnJlbW92ZVNuYXBzaG90c0luU3luY0xpc3RlbmVyKG4pfX0sZS5wcm90b3R5cGUuZW5zdXJlQ2xpZW50Q29uZmlndXJlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maXJlc3RvcmVDbGllbnR8fHRoaXMuY29uZmlndXJlQ2xpZW50KG5ldyBaaSksdGhpcy5fZmlyZXN0b3JlQ2xpZW50fSxlLnByb3RvdHlwZS5tYWtlRGF0YWJhc2VJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvZSh0aGlzLl9kYXRhYmFzZUlkLHRoaXMuX3BlcnNpc3RlbmNlS2V5LHRoaXMuX3NldHRpbmdzLmhvc3QsdGhpcy5fc2V0dGluZ3Muc3NsLHRoaXMuX3NldHRpbmdzLmZvcmNlTG9uZ1BvbGxpbmcpfSxlLnByb3RvdHlwZS5jb25maWd1cmVDbGllbnQ9ZnVuY3Rpb24oZSl7dyghIXRoaXMuX3NldHRpbmdzLmhvc3QsIkZpcmVzdG9yZVNldHRpbmdzLmhvc3QgaXMgbm90IHNldCIpLHcoIXRoaXMuX2ZpcmVzdG9yZUNsaWVudCwiY29uZmlndXJlQ2xpZW50KCkgY2FsbGVkIG11bHRpcGxlIHRpbWVzIik7dmFyIHQ9dGhpcy5tYWtlRGF0YWJhc2VJbmZvKCk7cmV0dXJuIHRoaXMuX2ZpcmVzdG9yZUNsaWVudD1uZXcgJGkoYi5nZXRQbGF0Zm9ybSgpLHQsdGhpcy5fY3JlZGVudGlhbHMsdGhpcy5fcXVldWUpLHRoaXMuX2ZpcmVzdG9yZUNsaWVudC5zdGFydChlKX0sZS5wcm90b3R5cGUuY3JlYXRlRGF0YUNvbnZlcnRlcj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IENvKChmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgQm8pe3ZhciBuPWUscj10LmZpcmVzdG9yZS5fZGF0YWJhc2VJZDtpZighci5pc0VxdWFsKG4pKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiRG9jdW1lbnQgcmVmZXJlbmNlIGlzIGZvciBkYXRhYmFzZSAiK3IucHJvamVjdElkKyIvIityLmRhdGFiYXNlKyIgYnV0IHNob3VsZCBiZSBmb3IgZGF0YWJhc2UgIituLnByb2plY3RJZCsiLyIrbi5kYXRhYmFzZSk7cmV0dXJuIG5ldyBJbyhlLHQuX2tleSl9cmV0dXJuIHR9KSl9LGUuZGF0YWJhc2VJZEZyb21BcHA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vcHRpb25zO2lmKCFDKHQsInByb2plY3RJZCIpKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwnInByb2plY3RJZCIgbm90IHByb3ZpZGVkIGluIGZpcmViYXNlLmluaXRpYWxpemVBcHAuJyk7dmFyIG49dC5wcm9qZWN0SWQ7aWYoIW58fCJzdHJpbmciIT09dHlwZW9mIG4pdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJwcm9qZWN0SWQgbXVzdCBiZSBhIHN0cmluZyBpbiBGaXJlYmFzZUFwcC5vcHRpb25zIik7cmV0dXJuIG5ldyBzZShuKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJhcHAiLHtnZXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fZmlyZWJhc2VBcHApdGhyb3cgbmV3IEUoUy5GQUlMRURfUFJFQ09ORElUSU9OLCJGaXJlc3RvcmUgd2FzIG5vdCBpbml0aWFsaXplZCB1c2luZyB0aGUgRmlyZWJhc2UgU0RLLiAnYXBwJyBpcyBub3QgYXZhaWxhYmxlIik7cmV0dXJuIHRoaXMuX2ZpcmViYXNlQXBwfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNvbGxlY3Rpb249ZnVuY3Rpb24oZSl7cmV0dXJuIFIoIkZpcmVzdG9yZS5jb2xsZWN0aW9uIixhcmd1bWVudHMsMSksTygiRmlyZXN0b3JlLmNvbGxlY3Rpb24iLCJub24tZW1wdHkgc3RyaW5nIiwxLGUpLHRoaXMuZW5zdXJlQ2xpZW50Q29uZmlndXJlZCgpLG5ldyBHbyhoZS5mcm9tU3RyaW5nKGUpLHRoaXMpfSxlLnByb3RvdHlwZS5kb2M9ZnVuY3Rpb24oZSl7cmV0dXJuIFIoIkZpcmVzdG9yZS5kb2MiLGFyZ3VtZW50cywxKSxPKCJGaXJlc3RvcmUuZG9jIiwibm9uLWVtcHR5IHN0cmluZyIsMSxlKSx0aGlzLmVuc3VyZUNsaWVudENvbmZpZ3VyZWQoKSxCby5mb3JQYXRoKGhlLmZyb21TdHJpbmcoZSksdGhpcyl9LGUucHJvdG90eXBlLmNvbGxlY3Rpb25Hcm91cD1mdW5jdGlvbihlKXtpZihSKCJGaXJlc3RvcmUuY29sbGVjdGlvbkdyb3VwIixhcmd1bWVudHMsMSksTygiRmlyZXN0b3JlLmNvbGxlY3Rpb25Hcm91cCIsIm5vbi1lbXB0eSBzdHJpbmciLDEsZSksZS5pbmRleE9mKCIvIik+PTApdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJJbnZhbGlkIGNvbGxlY3Rpb24gSUQgJyIrZSsiJyBwYXNzZWQgdG8gZnVuY3Rpb24gRmlyZXN0b3JlLmNvbGxlY3Rpb25Hcm91cCgpLiBDb2xsZWN0aW9uIElEcyBtdXN0IG5vdCBjb250YWluICcvJy4iKTtyZXR1cm4gdGhpcy5lbnN1cmVDbGllbnRDb25maWd1cmVkKCksbmV3IHpvKG5ldyBzcihoZS5FTVBUWV9QQVRILGUpLHRoaXMpfSxlLnByb3RvdHlwZS5ydW5UcmFuc2FjdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBSKCJGaXJlc3RvcmUucnVuVHJhbnNhY3Rpb24iLGFyZ3VtZW50cywxKSxPKCJGaXJlc3RvcmUucnVuVHJhbnNhY3Rpb24iLCJmdW5jdGlvbiIsMSxlKSx0aGlzLmVuc3VyZUNsaWVudENvbmZpZ3VyZWQoKS50cmFuc2FjdGlvbigoZnVuY3Rpb24obil7cmV0dXJuIGUobmV3IHFvKHQsbikpfSkpfSxlLnByb3RvdHlwZS5iYXRjaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuc3VyZUNsaWVudENvbmZpZ3VyZWQoKSxuZXcgVm8odGhpcyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJsb2dMZXZlbCIse2dldDpmdW5jdGlvbigpe3N3aXRjaChkKCkpe2Nhc2UgaS5ERUJVRzpyZXR1cm4iZGVidWciO2Nhc2UgaS5FUlJPUjpyZXR1cm4iZXJyb3IiO2Nhc2UgaS5TSUxFTlQ6cmV0dXJuInNpbGVudCI7ZGVmYXVsdDpyZXR1cm4gdigiVW5rbm93biBsb2cgbGV2ZWw6ICIrZCgpKX19LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5zZXRMb2dMZXZlbD1mdW5jdGlvbihlKXtzd2l0Y2goUigiRmlyZXN0b3JlLnNldExvZ0xldmVsIixhcmd1bWVudHMsMSksTygiRmlyZXN0b3JlLnNldExvZ0xldmVsIiwibm9uLWVtcHR5IHN0cmluZyIsMSxlKSxlKXtjYXNlImRlYnVnIjpwKGkuREVCVUcpO2JyZWFrO2Nhc2UiZXJyb3IiOnAoaS5FUlJPUik7YnJlYWs7Y2FzZSJzaWxlbnQiOnAoaS5TSUxFTlQpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJJbnZhbGlkIGxvZyBsZXZlbDogIitlKX19LGUucHJvdG90eXBlLl9hcmVUaW1lc3RhbXBzSW5TbmFwc2hvdHNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldHRpbmdzLnRpbWVzdGFtcHNJblNuYXBzaG90c30sZX0oKSxxbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLl9maXJlc3RvcmU9ZSx0aGlzLl90cmFuc2FjdGlvbj10fXJldHVybiBlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztSKCJUcmFuc2FjdGlvbi5nZXQiLGFyZ3VtZW50cywxKTt2YXIgbj1KbygiVHJhbnNhY3Rpb24uZ2V0IixlLHRoaXMuX2ZpcmVzdG9yZSk7cmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLmxvb2t1cChbbi5fa2V5XSkudGhlbigoZnVuY3Rpb24oZSl7aWYoIWV8fDEhPT1lLmxlbmd0aClyZXR1cm4gdigiTWlzbWF0Y2ggaW4gZG9jcyByZXR1cm5lZCBmcm9tIGRvY3VtZW50IGxvb2t1cC4iKTt2YXIgcj1lWzBdO2lmKHIgaW5zdGFuY2VvZiBqdClyZXR1cm4gbmV3IFFvKHQuX2ZpcmVzdG9yZSxuLl9rZXksbnVsbCwhMSwhMSxuLl9jb252ZXJ0ZXIpO2lmKHIgaW5zdGFuY2VvZiBHdClyZXR1cm4gbmV3IFFvKHQuX2ZpcmVzdG9yZSxuLl9rZXksciwhMSwhMSxuLl9jb252ZXJ0ZXIpO3Rocm93IHYoIkJhdGNoR2V0RG9jdW1lbnRzUmVxdWVzdCByZXR1cm5lZCB1bmV4cGVjdGVkIGRvY3VtZW50IHR5cGU6ICIrci5jb25zdHJ1Y3Rvci5uYW1lKX0pKX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxuKXtMKCJUcmFuc2FjdGlvbi5zZXQiLGFyZ3VtZW50cywyLDMpO3ZhciByPUpvKCJUcmFuc2FjdGlvbi5zZXQiLGUsdGhpcy5fZmlyZXN0b3JlKTtuPWpvKCJUcmFuc2FjdGlvbi5zZXQiLG4pO3ZhciBpPVpvKHIuX2NvbnZlcnRlcix0LCJUcmFuc2FjdGlvbi5zZXQiKSxvPWlbMF0sYT1pWzFdLHM9bi5tZXJnZXx8bi5tZXJnZUZpZWxkcz90aGlzLl9maXJlc3RvcmUuX2RhdGFDb252ZXJ0ZXIucGFyc2VNZXJnZURhdGEoYSxvLG4ubWVyZ2VGaWVsZHMpOnRoaXMuX2ZpcmVzdG9yZS5fZGF0YUNvbnZlcnRlci5wYXJzZVNldERhdGEoYSxvKTtyZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb24uc2V0KHIuX2tleSxzKSx0aGlzfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixpLG89W10sYT0zO2E8YXJndW1lbnRzLmxlbmd0aDthKyspb1thLTNdPWFyZ3VtZW50c1thXTtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgdG8/KE0oIlRyYW5zYWN0aW9uLnVwZGF0ZSIsYXJndW1lbnRzLDMpLHI9Sm8oIlRyYW5zYWN0aW9uLnVwZGF0ZSIsZSx0aGlzLl9maXJlc3RvcmUpLGk9dGhpcy5fZmlyZXN0b3JlLl9kYXRhQ29udmVydGVyLnBhcnNlVXBkYXRlVmFyYXJncygiVHJhbnNhY3Rpb24udXBkYXRlIix0LG4sbykpOihSKCJUcmFuc2FjdGlvbi51cGRhdGUiLGFyZ3VtZW50cywyKSxyPUpvKCJUcmFuc2FjdGlvbi51cGRhdGUiLGUsdGhpcy5fZmlyZXN0b3JlKSxpPXRoaXMuX2ZpcmVzdG9yZS5fZGF0YUNvbnZlcnRlci5wYXJzZVVwZGF0ZURhdGEoIlRyYW5zYWN0aW9uLnVwZGF0ZSIsdCkpLHRoaXMuX3RyYW5zYWN0aW9uLnVwZGF0ZShyLl9rZXksaSksdGhpc30sZS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe1IoIlRyYW5zYWN0aW9uLmRlbGV0ZSIsYXJndW1lbnRzLDEpO3ZhciB0PUpvKCJUcmFuc2FjdGlvbi5kZWxldGUiLGUsdGhpcy5fZmlyZXN0b3JlKTtyZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb24uZGVsZXRlKHQuX2tleSksdGhpc30sZX0oKSxWbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fZmlyZXN0b3JlPWUsdGhpcy5fbXV0YXRpb25zPVtdLHRoaXMuX2NvbW1pdHRlZD0hMX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxuKXtMKCJXcml0ZUJhdGNoLnNldCIsYXJndW1lbnRzLDIsMyksdGhpcy52ZXJpZnlOb3RDb21taXR0ZWQoKTt2YXIgcj1KbygiV3JpdGVCYXRjaC5zZXQiLGUsdGhpcy5fZmlyZXN0b3JlKTtuPWpvKCJXcml0ZUJhdGNoLnNldCIsbik7dmFyIGk9Wm8oci5fY29udmVydGVyLHQsIldyaXRlQmF0Y2guc2V0Iiksbz1pWzBdLGE9aVsxXSxzPW4ubWVyZ2V8fG4ubWVyZ2VGaWVsZHM/dGhpcy5fZmlyZXN0b3JlLl9kYXRhQ29udmVydGVyLnBhcnNlTWVyZ2VEYXRhKGEsbyxuLm1lcmdlRmllbGRzKTp0aGlzLl9maXJlc3RvcmUuX2RhdGFDb252ZXJ0ZXIucGFyc2VTZXREYXRhKGEsbyk7cmV0dXJuIHRoaXMuX211dGF0aW9ucz10aGlzLl9tdXRhdGlvbnMuY29uY2F0KHMudG9NdXRhdGlvbnMoci5fa2V5LFN0Lk5PTkUpKSx0aGlzfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixpLG89W10sYT0zO2E8YXJndW1lbnRzLmxlbmd0aDthKyspb1thLTNdPWFyZ3VtZW50c1thXTtyZXR1cm4gdGhpcy52ZXJpZnlOb3RDb21taXR0ZWQoKSwic3RyaW5nIj09PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgdG8/KE0oIldyaXRlQmF0Y2gudXBkYXRlIixhcmd1bWVudHMsMykscj1KbygiV3JpdGVCYXRjaC51cGRhdGUiLGUsdGhpcy5fZmlyZXN0b3JlKSxpPXRoaXMuX2ZpcmVzdG9yZS5fZGF0YUNvbnZlcnRlci5wYXJzZVVwZGF0ZVZhcmFyZ3MoIldyaXRlQmF0Y2gudXBkYXRlIix0LG4sbykpOihSKCJXcml0ZUJhdGNoLnVwZGF0ZSIsYXJndW1lbnRzLDIpLHI9Sm8oIldyaXRlQmF0Y2gudXBkYXRlIixlLHRoaXMuX2ZpcmVzdG9yZSksaT10aGlzLl9maXJlc3RvcmUuX2RhdGFDb252ZXJ0ZXIucGFyc2VVcGRhdGVEYXRhKCJXcml0ZUJhdGNoLnVwZGF0ZSIsdCkpLHRoaXMuX211dGF0aW9ucz10aGlzLl9tdXRhdGlvbnMuY29uY2F0KGkudG9NdXRhdGlvbnMoci5fa2V5LFN0LmV4aXN0cyghMCkpKSx0aGlzfSxlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7UigiV3JpdGVCYXRjaC5kZWxldGUiLGFyZ3VtZW50cywxKSx0aGlzLnZlcmlmeU5vdENvbW1pdHRlZCgpO3ZhciB0PUpvKCJXcml0ZUJhdGNoLmRlbGV0ZSIsZSx0aGlzLl9maXJlc3RvcmUpO3JldHVybiB0aGlzLl9tdXRhdGlvbnM9dGhpcy5fbXV0YXRpb25zLmNvbmNhdChuZXcgX3QodC5fa2V5LFN0Lk5PTkUpKSx0aGlzfSxlLnByb3RvdHlwZS5jb21taXQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnZlcmlmeU5vdENvbW1pdHRlZCgpLHRoaXMuX2NvbW1pdHRlZD0hMCx0aGlzLl9tdXRhdGlvbnMubGVuZ3RoPjA/WzIsdGhpcy5fZmlyZXN0b3JlLmVuc3VyZUNsaWVudENvbmZpZ3VyZWQoKS53cml0ZSh0aGlzLl9tdXRhdGlvbnMpXTpbMl19KSl9KSl9LGUucHJvdG90eXBlLnZlcmlmeU5vdENvbW1pdHRlZD1mdW5jdGlvbigpe2lmKHRoaXMuX2NvbW1pdHRlZCl0aHJvdyBuZXcgRShTLkZBSUxFRF9QUkVDT05ESVRJT04sIkEgd3JpdGUgYmF0Y2ggY2FuIG5vIGxvbmdlciBiZSB1c2VkIGFmdGVyIGNvbW1pdCgpIGhhcyBiZWVuIGNhbGxlZC4iKX0sZX0oKSxCbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4pe3RoaXMuX2tleT1lLHRoaXMuZmlyZXN0b3JlPXQsdGhpcy5fY29udmVydGVyPW4sdGhpcy5fZmlyZXN0b3JlQ2xpZW50PXRoaXMuZmlyZXN0b3JlLmVuc3VyZUNsaWVudENvbmZpZ3VyZWQoKX1yZXR1cm4gZS5mb3JQYXRoPWZ1bmN0aW9uKHQsbixyKXtpZih0Lmxlbmd0aCUyIT09MCl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIkludmFsaWQgZG9jdW1lbnQgcmVmZXJlbmNlLiBEb2N1bWVudCByZWZlcmVuY2VzIG11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBvZiBzZWdtZW50cywgYnV0ICIrdC5jYW5vbmljYWxTdHJpbmcoKSsiIGhhcyAiK3QubGVuZ3RoKTtyZXR1cm4gbmV3IGUobmV3IGRlKHQpLG4scil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5LnBhdGgubGFzdFNlZ21lbnQoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBhcmVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgR28odGhpcy5fa2V5LnBhdGgucG9wTGFzdCgpLHRoaXMuZmlyZXN0b3JlLHRoaXMuX2NvbnZlcnRlcil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwYXRoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleS5wYXRoLmNhbm9uaWNhbFN0cmluZygpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNvbGxlY3Rpb249ZnVuY3Rpb24oZSl7aWYoUigiRG9jdW1lbnRSZWZlcmVuY2UuY29sbGVjdGlvbiIsYXJndW1lbnRzLDEpLE8oIkRvY3VtZW50UmVmZXJlbmNlLmNvbGxlY3Rpb24iLCJub24tZW1wdHkgc3RyaW5nIiwxLGUpLCFlKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiTXVzdCBwcm92aWRlIGEgbm9uLWVtcHR5IGNvbGxlY3Rpb24gbmFtZSB0byBjb2xsZWN0aW9uKCkiKTt2YXIgdD1oZS5mcm9tU3RyaW5nKGUpO3JldHVybiBuZXcgR28odGhpcy5fa2V5LnBhdGguY2hpbGQodCksdGhpcy5maXJlc3RvcmUpfSxlLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IEcoImlzRXF1YWwiLCJEb2N1bWVudFJlZmVyZW5jZSIsMSx0KTtyZXR1cm4gdGhpcy5maXJlc3RvcmU9PT10LmZpcmVzdG9yZSYmdGhpcy5fa2V5LmlzRXF1YWwodC5fa2V5KSYmdGhpcy5fY29udmVydGVyPT09dC5fY29udmVydGVyfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtMKCJEb2N1bWVudFJlZmVyZW5jZS5zZXQiLGFyZ3VtZW50cywxLDIpLHQ9am8oIkRvY3VtZW50UmVmZXJlbmNlLnNldCIsdCk7dmFyIG49Wm8odGhpcy5fY29udmVydGVyLGUsIkRvY3VtZW50UmVmZXJlbmNlLnNldCIpLHI9blswXSxpPW5bMV0sbz10Lm1lcmdlfHx0Lm1lcmdlRmllbGRzP3RoaXMuZmlyZXN0b3JlLl9kYXRhQ29udmVydGVyLnBhcnNlTWVyZ2VEYXRhKGkscix0Lm1lcmdlRmllbGRzKTp0aGlzLmZpcmVzdG9yZS5fZGF0YUNvbnZlcnRlci5wYXJzZVNldERhdGEoaSxyKTtyZXR1cm4gdGhpcy5fZmlyZXN0b3JlQ2xpZW50LndyaXRlKG8udG9NdXRhdGlvbnModGhpcy5fa2V5LFN0Lk5PTkUpKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9W10saT0yO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspcltpLTJdPWFyZ3VtZW50c1tpXTtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgdG8/KE0oIkRvY3VtZW50UmVmZXJlbmNlLnVwZGF0ZSIsYXJndW1lbnRzLDIpLG49dGhpcy5maXJlc3RvcmUuX2RhdGFDb252ZXJ0ZXIucGFyc2VVcGRhdGVWYXJhcmdzKCJEb2N1bWVudFJlZmVyZW5jZS51cGRhdGUiLGUsdCxyKSk6KFIoIkRvY3VtZW50UmVmZXJlbmNlLnVwZGF0ZSIsYXJndW1lbnRzLDEpLG49dGhpcy5maXJlc3RvcmUuX2RhdGFDb252ZXJ0ZXIucGFyc2VVcGRhdGVEYXRhKCJEb2N1bWVudFJlZmVyZW5jZS51cGRhdGUiLGUpKSx0aGlzLl9maXJlc3RvcmVDbGllbnQud3JpdGUobi50b011dGF0aW9ucyh0aGlzLl9rZXksU3QuZXhpc3RzKCEwKSkpfSxlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gUigiRG9jdW1lbnRSZWZlcmVuY2UuZGVsZXRlIixhcmd1bWVudHMsMCksdGhpcy5fZmlyZXN0b3JlQ2xpZW50LndyaXRlKFtuZXcgX3QodGhpcy5fa2V5LFN0Lk5PTkUpXSl9LGUucHJvdG90eXBlLm9uU25hcHNob3Q9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07TCgiRG9jdW1lbnRSZWZlcmVuY2Uub25TbmFwc2hvdCIsYXJndW1lbnRzLDEsNCk7dmFyIG4scj17aW5jbHVkZU1ldGFkYXRhQ2hhbmdlczohMX0saT0wOyJvYmplY3QiIT09dHlwZW9mIGVbaV18fGNvKGVbaV0pfHwoVygiRG9jdW1lbnRSZWZlcmVuY2Uub25TbmFwc2hvdCIscj1lW2ldLFsiaW5jbHVkZU1ldGFkYXRhQ2hhbmdlcyJdKSxGKCJEb2N1bWVudFJlZmVyZW5jZS5vblNuYXBzaG90IiwiYm9vbGVhbiIsImluY2x1ZGVNZXRhZGF0YUNoYW5nZXMiLHIuaW5jbHVkZU1ldGFkYXRhQ2hhbmdlcyksaSsrKTt2YXIgbz17aW5jbHVkZU1ldGFkYXRhQ2hhbmdlczpyLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXN9O3JldHVybiBjbyhlW2ldKT9uPWVbaV06KE8oIkRvY3VtZW50UmVmZXJlbmNlLm9uU25hcHNob3QiLCJmdW5jdGlvbiIsaSxlW2ldKSx4KCJEb2N1bWVudFJlZmVyZW5jZS5vblNuYXBzaG90IiwiZnVuY3Rpb24iLGkrMSxlW2krMV0pLHgoIkRvY3VtZW50UmVmZXJlbmNlLm9uU25hcHNob3QiLCJmdW5jdGlvbiIsaSsyLGVbaSsyXSksbj17bmV4dDplW2ldLGVycm9yOmVbaSsxXSxjb21wbGV0ZTplW2krMl19KSx0aGlzLm9uU25hcHNob3RJbnRlcm5hbChvLG4pfSxlLnByb3RvdHlwZS5vblNuYXBzaG90SW50ZXJuYWw9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9ZnVuY3Rpb24oZSl7Y29uc29sZS5lcnJvcigiVW5jYXVnaHQgRXJyb3IgaW4gb25TbmFwc2hvdDoiLGUpfTt0LmVycm9yJiYocj10LmVycm9yLmJpbmQodCkpO3ZhciBpPW5ldyBlbyh7bmV4dDpmdW5jdGlvbihlKXtpZih0Lm5leHQpe3coZS5kb2NzLnNpemU8PTEsIlRvbyBtYW55IGRvY3VtZW50cyByZXR1cm5lZCBvbiBhIGRvY3VtZW50IHF1ZXJ5Iik7dmFyIHI9ZS5kb2NzLmdldChuLl9rZXkpO3QubmV4dChuZXcgUW8obi5maXJlc3RvcmUsbi5fa2V5LHIsZS5mcm9tQ2FjaGUsZS5oYXNQZW5kaW5nV3JpdGVzLG4uX2NvbnZlcnRlcikpfX0sZXJyb3I6cn0pLG89dGhpcy5fZmlyZXN0b3JlQ2xpZW50Lmxpc3Rlbihzci5hdFBhdGgodGhpcy5fa2V5LnBhdGgpLGksZSk7cmV0dXJuIGZ1bmN0aW9uKCl7aS5tdXRlKCksbi5fZmlyZXN0b3JlQ2xpZW50LnVubGlzdGVuKG8pfX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIEwoIkRvY3VtZW50UmVmZXJlbmNlLmdldCIsYXJndW1lbnRzLDAsMSksWW8oIkRvY3VtZW50UmVmZXJlbmNlLmdldCIsZSksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZSYmImNhY2hlIj09PWUuc291cmNlP3QuZmlyZXN0b3JlLmVuc3VyZUNsaWVudENvbmZpZ3VyZWQoKS5nZXREb2N1bWVudEZyb21Mb2NhbENhY2hlKHQuX2tleSkudGhlbigoZnVuY3Rpb24oZSl7bihuZXcgUW8odC5maXJlc3RvcmUsdC5fa2V5LGUsITAsZSBpbnN0YW5jZW9mIEd0JiZlLmhhc0xvY2FsTXV0YXRpb25zLHQuX2NvbnZlcnRlcikpfSkscik6dC5nZXRWaWFTbmFwc2hvdExpc3RlbmVyKG4scixlKX0pKX0sZS5wcm90b3R5cGUuZ2V0VmlhU25hcHNob3RMaXN0ZW5lcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5vblNuYXBzaG90SW50ZXJuYWwoe2luY2x1ZGVNZXRhZGF0YUNoYW5nZXM6ITAsd2FpdEZvclN5bmNXaGVuT25saW5lOiEwfSx7bmV4dDpmdW5jdGlvbihpKXtyKCksIWkuZXhpc3RzJiZpLm1ldGFkYXRhLmZyb21DYWNoZT90KG5ldyBFKFMuVU5BVkFJTEFCTEUsIkZhaWxlZCB0byBnZXQgZG9jdW1lbnQgYmVjYXVzZSB0aGUgY2xpZW50IGlzIG9mZmxpbmUuIikpOmkuZXhpc3RzJiZpLm1ldGFkYXRhLmZyb21DYWNoZSYmbiYmInNlcnZlciI9PT1uLnNvdXJjZT90KG5ldyBFKFMuVU5BVkFJTEFCTEUsJ0ZhaWxlZCB0byBnZXQgZG9jdW1lbnQgZnJvbSBzZXJ2ZXIuIChIb3dldmVyLCB0aGlzIGRvY3VtZW50IGRvZXMgZXhpc3QgaW4gdGhlIGxvY2FsIGNhY2hlLiBSdW4gYWdhaW4gd2l0aG91dCBzZXR0aW5nIHNvdXJjZSB0byAic2VydmVyIiB0byByZXRyaWV2ZSB0aGUgY2FjaGVkIGRvY3VtZW50LiknKSk6ZShpKX0sZXJyb3I6dH0pfSxlLnByb3RvdHlwZS53aXRoQ29udmVydGVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0aGlzLl9rZXksdGhpcy5maXJlc3RvcmUsdCl9LGV9KCksVW89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5oYXNQZW5kaW5nV3JpdGVzPWUsdGhpcy5mcm9tQ2FjaGU9dH1yZXR1cm4gZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oYXNQZW5kaW5nV3JpdGVzPT09ZS5oYXNQZW5kaW5nV3JpdGVzJiZ0aGlzLmZyb21DYWNoZT09PWUuZnJvbUNhY2hlfSxlfSgpLFFvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyLGksbyl7dGhpcy5fZmlyZXN0b3JlPWUsdGhpcy5fa2V5PXQsdGhpcy5fZG9jdW1lbnQ9bix0aGlzLl9mcm9tQ2FjaGU9cix0aGlzLl9oYXNQZW5kaW5nV3JpdGVzPWksdGhpcy5fY29udmVydGVyPW99cmV0dXJuIGUucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24oZSl7aWYoTCgiRG9jdW1lbnRTbmFwc2hvdC5kYXRhIixhcmd1bWVudHMsMCwxKSxlPUhvKCJEb2N1bWVudFNuYXBzaG90LmRhdGEiLGUpLHRoaXMuX2RvY3VtZW50KXtpZih0aGlzLl9jb252ZXJ0ZXIpe3ZhciB0PW5ldyBLbyh0aGlzLl9maXJlc3RvcmUsdGhpcy5fa2V5LHRoaXMuX2RvY3VtZW50LHRoaXMuX2Zyb21DYWNoZSx0aGlzLl9oYXNQZW5kaW5nV3JpdGVzKTtyZXR1cm4gdGhpcy5fY29udmVydGVyLmZyb21GaXJlc3RvcmUodCxlKX1yZXR1cm4gdGhpcy50b0pTT2JqZWN0KHRoaXMuX2RvY3VtZW50LmRhdGEoKSxBdC5mcm9tU25hcHNob3RPcHRpb25zKGUsdGhpcy5fZmlyZXN0b3JlLl9hcmVUaW1lc3RhbXBzSW5TbmFwc2hvdHNFbmFibGVkKCkpKX19LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe2lmKEwoIkRvY3VtZW50U25hcHNob3QuZ2V0Iixhcmd1bWVudHMsMSwyKSx0PUhvKCJEb2N1bWVudFNuYXBzaG90LmdldCIsdCksdGhpcy5fZG9jdW1lbnQpe3ZhciBuPXRoaXMuX2RvY3VtZW50LmRhdGEoKS5maWVsZChObygiRG9jdW1lbnRTbmFwc2hvdC5nZXQiLGUpKTtpZihudWxsIT09bilyZXR1cm4gdGhpcy50b0pTVmFsdWUobixBdC5mcm9tU25hcHNob3RPcHRpb25zKHQsdGhpcy5fZmlyZXN0b3JlLl9hcmVUaW1lc3RhbXBzSW5TbmFwc2hvdHNFbmFibGVkKCkpKX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5LnBhdGgubGFzdFNlZ21lbnQoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlZiIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgQm8odGhpcy5fa2V5LHRoaXMuX2ZpcmVzdG9yZSx0aGlzLl9jb252ZXJ0ZXIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZXhpc3RzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLl9kb2N1bWVudH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1ldGFkYXRhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBVbyh0aGlzLl9oYXNQZW5kaW5nV3JpdGVzLHRoaXMuX2Zyb21DYWNoZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBHKCJpc0VxdWFsIiwiRG9jdW1lbnRTbmFwc2hvdCIsMSx0KTtyZXR1cm4gdGhpcy5fZmlyZXN0b3JlPT09dC5fZmlyZXN0b3JlJiZ0aGlzLl9mcm9tQ2FjaGU9PT10Ll9mcm9tQ2FjaGUmJnRoaXMuX2tleS5pc0VxdWFsKHQuX2tleSkmJihudWxsPT09dGhpcy5fZG9jdW1lbnQ/bnVsbD09PXQuX2RvY3VtZW50OnRoaXMuX2RvY3VtZW50LmlzRXF1YWwodC5fZG9jdW1lbnQpKSYmdGhpcy5fY29udmVydGVyPT09dC5fY29udmVydGVyfSxlLnByb3RvdHlwZS50b0pTT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPXt9O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7cltlXT1uLnRvSlNWYWx1ZShpLHQpfSkpLHJ9LGUucHJvdG90eXBlLnRvSlNWYWx1ZT1mdW5jdGlvbihlLHQpe2lmKGUgaW5zdGFuY2VvZiBLdClyZXR1cm4gdGhpcy50b0pTT2JqZWN0KGUsdCk7aWYoZSBpbnN0YW5jZW9mIHp0KXJldHVybiB0aGlzLnRvSlNBcnJheShlLHQpO2lmKGUgaW5zdGFuY2VvZiBVdCl7dmFyIG49ZS52YWx1ZSh0KSxyPXRoaXMuX2ZpcmVzdG9yZS5lbnN1cmVDbGllbnRDb25maWd1cmVkKCkuZGF0YWJhc2VJZCgpO3JldHVybiBlLmRhdGFiYXNlSWQuaXNFcXVhbChyKXx8eSgiRG9jdW1lbnQgIit0aGlzLl9rZXkucGF0aCsiIGNvbnRhaW5zIGEgZG9jdW1lbnQgcmVmZXJlbmNlIHdpdGhpbiBhIGRpZmZlcmVudCBkYXRhYmFzZSAoIitlLmRhdGFiYXNlSWQucHJvamVjdElkKyIvIitlLmRhdGFiYXNlSWQuZGF0YWJhc2UrIikgd2hpY2ggaXMgbm90IHN1cHBvcnRlZC4gSXQgd2lsbCBiZSB0cmVhdGVkIGFzIGEgcmVmZXJlbmNlIGluIHRoZSBjdXJyZW50IGRhdGFiYXNlICgiK3IucHJvamVjdElkKyIvIityLmRhdGFiYXNlKyIpIGluc3RlYWQuIiksbmV3IEJvKG4sdGhpcy5fZmlyZXN0b3JlLHRoaXMuX2NvbnZlcnRlcil9cmV0dXJuIGUudmFsdWUodCl9LGUucHJvdG90eXBlLnRvSlNBcnJheT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIGUuaW50ZXJuYWxWYWx1ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuLnRvSlNWYWx1ZShlLHQpfSkpfSxlfSgpLEtvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBhLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24odCl7dmFyIG49ZS5wcm90b3R5cGUuZGF0YS5jYWxsKHRoaXMsdCk7cmV0dXJuIHcodm9pZCAwIT09biwiRG9jdW1lbnQgaW4gYSBRdWVyeURvY3VtZW50U25hcHNob3Qgc2hvdWxkIGV4aXN0Iiksbn0sdH0oUW8pLHpvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dGhpcy5fcXVlcnk9ZSx0aGlzLmZpcmVzdG9yZT10LHRoaXMuX2NvbnZlcnRlcj1ufXJldHVybiBlLnByb3RvdHlwZS53aGVyZT1mdW5jdGlvbih0LG4scil7UigiUXVlcnkud2hlcmUiLGFyZ3VtZW50cywzKSx6KCJRdWVyeS53aGVyZSIsMyxyKTt2YXIgaSxvPVsiPCIsIjw9IiwiPT0iLCI+PSIsIj4iLCJhcnJheS1jb250YWlucyIsImluIiwiYXJyYXktY29udGFpbnMtYW55Il07QigiUXVlcnkud2hlcmUiLG8sMixuKTt2YXIgYT1ObygiUXVlcnkud2hlcmUiLHQpLHM9Y3IuZnJvbVN0cmluZyhuKTtpZihhLmlzS2V5RmllbGQoKSl7aWYocz09PWNyLkFSUkFZX0NPTlRBSU5TfHxzPT09Y3IuQVJSQVlfQ09OVEFJTlNfQU5ZKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiSW52YWxpZCBRdWVyeS4gWW91IGNhbid0IHBlcmZvcm0gJyIrcy50b1N0cmluZygpKyInIHF1ZXJpZXMgb24gRmllbGRQYXRoLmRvY3VtZW50SWQoKS4iKTtpZihzPT09Y3IuSU4pe3RoaXMudmFsaWRhdGVEaXNqdW5jdGl2ZUZpbHRlckVsZW1lbnRzKHIscyk7Zm9yKHZhciB1PVtdLGM9MCxoPXI7YzxoLmxlbmd0aDtjKyspe3ZhciBsPWhbY107dS5wdXNoKHRoaXMucGFyc2VEb2N1bWVudElkVmFsdWUobCkpfWk9bmV3IHp0KHUpfWVsc2UgaT10aGlzLnBhcnNlRG9jdW1lbnRJZFZhbHVlKHIpfWVsc2UgcyE9PWNyLklOJiZzIT09Y3IuQVJSQVlfQ09OVEFJTlNfQU5ZfHx0aGlzLnZhbGlkYXRlRGlzanVuY3RpdmVGaWx0ZXJFbGVtZW50cyhyLHMpLGk9dGhpcy5maXJlc3RvcmUuX2RhdGFDb252ZXJ0ZXIucGFyc2VRdWVyeVZhbHVlKCJRdWVyeS53aGVyZSIscixzPT09Y3IuSU4pO3ZhciBmPWhyLmNyZWF0ZShhLHMsaSk7cmV0dXJuIHRoaXMudmFsaWRhdGVOZXdGaWx0ZXIoZiksbmV3IGUodGhpcy5fcXVlcnkuYWRkRmlsdGVyKGYpLHRoaXMuZmlyZXN0b3JlLHRoaXMuX2NvbnZlcnRlcil9LGUucHJvdG90eXBlLm9yZGVyQnk9ZnVuY3Rpb24odCxuKXt2YXIgcjtpZihMKCJRdWVyeS5vcmRlckJ5Iixhcmd1bWVudHMsMSwyKSx4KCJRdWVyeS5vcmRlckJ5Iiwibm9uLWVtcHR5IHN0cmluZyIsMixuKSx2b2lkIDA9PT1ufHwiYXNjIj09PW4pcj15ci5BU0NFTkRJTkc7ZWxzZXtpZigiZGVzYyIhPT1uKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiRnVuY3Rpb24gUXVlcnkub3JkZXJCeSgpIGhhcyB1bmtub3duIGRpcmVjdGlvbiAnIituKyInLCBleHBlY3RlZCAnYXNjJyBvciAnZGVzYycuIik7cj15ci5ERVNDRU5ESU5HfWlmKG51bGwhPT10aGlzLl9xdWVyeS5zdGFydEF0KXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiSW52YWxpZCBxdWVyeS4gWW91IG11c3Qgbm90IGNhbGwgUXVlcnkuc3RhcnRBdCgpIG9yIFF1ZXJ5LnN0YXJ0QWZ0ZXIoKSBiZWZvcmUgY2FsbGluZyBRdWVyeS5vcmRlckJ5KCkuIik7aWYobnVsbCE9PXRoaXMuX3F1ZXJ5LmVuZEF0KXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiSW52YWxpZCBxdWVyeS4gWW91IG11c3Qgbm90IGNhbGwgUXVlcnkuZW5kQXQoKSBvciBRdWVyeS5lbmRCZWZvcmUoKSBiZWZvcmUgY2FsbGluZyBRdWVyeS5vcmRlckJ5KCkuIik7dmFyIGk9Tm8oIlF1ZXJ5Lm9yZGVyQnkiLHQpLG89bmV3IHZyKGkscik7cmV0dXJuIHRoaXMudmFsaWRhdGVOZXdPcmRlckJ5KG8pLG5ldyBlKHRoaXMuX3F1ZXJ5LmFkZE9yZGVyQnkobyksdGhpcy5maXJlc3RvcmUsdGhpcy5fY29udmVydGVyKX0sZS5wcm90b3R5cGUubGltaXQ9ZnVuY3Rpb24odCl7cmV0dXJuIFIoIlF1ZXJ5LmxpbWl0Iixhcmd1bWVudHMsMSksTygiUXVlcnkubGltaXQiLCJudW1iZXIiLDEsdCksaigiUXVlcnkubGltaXQiLDEsdCksbmV3IGUodGhpcy5fcXVlcnkud2l0aExpbWl0VG9GaXJzdCh0KSx0aGlzLmZpcmVzdG9yZSx0aGlzLl9jb252ZXJ0ZXIpfSxlLnByb3RvdHlwZS5saW1pdFRvTGFzdD1mdW5jdGlvbih0KXtyZXR1cm4gUigiUXVlcnkubGltaXRUb0xhc3QiLGFyZ3VtZW50cywxKSxPKCJRdWVyeS5saW1pdFRvTGFzdCIsIm51bWJlciIsMSx0KSxqKCJRdWVyeS5saW1pdFRvTGFzdCIsMSx0KSxuZXcgZSh0aGlzLl9xdWVyeS53aXRoTGltaXRUb0xhc3QodCksdGhpcy5maXJlc3RvcmUsdGhpcy5fY29udmVydGVyKX0sZS5wcm90b3R5cGUuc3RhcnRBdD1mdW5jdGlvbih0KXtmb3IodmFyIG49W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTtNKCJRdWVyeS5zdGFydEF0Iixhcmd1bWVudHMsMSk7dmFyIGk9dGhpcy5ib3VuZEZyb21Eb2NPckZpZWxkcygiUXVlcnkuc3RhcnRBdCIsdCxuLCEwKTtyZXR1cm4gbmV3IGUodGhpcy5fcXVlcnkud2l0aFN0YXJ0QXQoaSksdGhpcy5maXJlc3RvcmUsdGhpcy5fY29udmVydGVyKX0sZS5wcm90b3R5cGUuc3RhcnRBZnRlcj1mdW5jdGlvbih0KXtmb3IodmFyIG49W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTtNKCJRdWVyeS5zdGFydEFmdGVyIixhcmd1bWVudHMsMSk7dmFyIGk9dGhpcy5ib3VuZEZyb21Eb2NPckZpZWxkcygiUXVlcnkuc3RhcnRBZnRlciIsdCxuLCExKTtyZXR1cm4gbmV3IGUodGhpcy5fcXVlcnkud2l0aFN0YXJ0QXQoaSksdGhpcy5maXJlc3RvcmUsdGhpcy5fY29udmVydGVyKX0sZS5wcm90b3R5cGUuZW5kQmVmb3JlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO00oIlF1ZXJ5LmVuZEJlZm9yZSIsYXJndW1lbnRzLDEpO3ZhciBpPXRoaXMuYm91bmRGcm9tRG9jT3JGaWVsZHMoIlF1ZXJ5LmVuZEJlZm9yZSIsdCxuLCEwKTtyZXR1cm4gbmV3IGUodGhpcy5fcXVlcnkud2l0aEVuZEF0KGkpLHRoaXMuZmlyZXN0b3JlLHRoaXMuX2NvbnZlcnRlcil9LGUucHJvdG90eXBlLmVuZEF0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO00oIlF1ZXJ5LmVuZEF0Iixhcmd1bWVudHMsMSk7dmFyIGk9dGhpcy5ib3VuZEZyb21Eb2NPckZpZWxkcygiUXVlcnkuZW5kQXQiLHQsbiwhMSk7cmV0dXJuIG5ldyBlKHRoaXMuX3F1ZXJ5LndpdGhFbmRBdChpKSx0aGlzLmZpcmVzdG9yZSx0aGlzLl9jb252ZXJ0ZXIpfSxlLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IEcoImlzRXF1YWwiLCJRdWVyeSIsMSx0KTtyZXR1cm4gdGhpcy5maXJlc3RvcmU9PT10LmZpcmVzdG9yZSYmdGhpcy5fcXVlcnkuaXNFcXVhbCh0Ll9xdWVyeSl9LGUucHJvdG90eXBlLndpdGhDb252ZXJ0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHRoaXMuX3F1ZXJ5LHRoaXMuZmlyZXN0b3JlLHQpfSxlLnByb3RvdHlwZS5ib3VuZEZyb21Eb2NPckZpZWxkcz1mdW5jdGlvbihlLHQsbixyKXtpZih6KGUsMSx0KSx0IGluc3RhbmNlb2YgUW8pe2lmKG4ubGVuZ3RoPjApdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJUb28gbWFueSBhcmd1bWVudHMgcHJvdmlkZWQgdG8gIitlKyIoKS4iKTt2YXIgaT10O2lmKCFpLmV4aXN0cyl0aHJvdyBuZXcgRShTLk5PVF9GT1VORCwiQ2FuJ3QgdXNlIGEgRG9jdW1lbnRTbmFwc2hvdCB0aGF0IGRvZXNuJ3QgZXhpc3QgZm9yICIrZSsiKCkuIik7cmV0dXJuIHRoaXMuYm91bmRGcm9tRG9jdW1lbnQoZSxpLl9kb2N1bWVudCxyKX12YXIgbz1bdF0uY29uY2F0KG4pO3JldHVybiB0aGlzLmJvdW5kRnJvbUZpZWxkcyhlLG8scil9LGUucHJvdG90eXBlLmJvdW5kRnJvbURvY3VtZW50PWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89dGhpcy5fcXVlcnkub3JkZXJCeTtpPG8ubGVuZ3RoO2krKyl7dmFyIGE9b1tpXTtpZihhLmZpZWxkLmlzS2V5RmllbGQoKSlyLnB1c2gobmV3IFV0KHRoaXMuZmlyZXN0b3JlLl9kYXRhYmFzZUlkLHQua2V5KSk7ZWxzZXt2YXIgcz10LmZpZWxkKGEuZmllbGQpO2lmKHMgaW5zdGFuY2VvZiBWdCl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsJ0ludmFsaWQgcXVlcnkuIFlvdSBhcmUgdHJ5aW5nIHRvIHN0YXJ0IG9yIGVuZCBhIHF1ZXJ5IHVzaW5nIGEgZG9jdW1lbnQgZm9yIHdoaWNoIHRoZSBmaWVsZCAiJythLmZpZWxkKyciIGlzIGFuIHVuY29tbWl0dGVkIHNlcnZlciB0aW1lc3RhbXAuIChTaW5jZSB0aGUgdmFsdWUgb2YgdGhpcyBmaWVsZCBpcyB1bmtub3duLCB5b3UgY2Fubm90IHN0YXJ0L2VuZCBhIHF1ZXJ5IHdpdGggaXQuKScpO2lmKG51bGw9PT1zKXt2YXIgdT1hLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpO3Rocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiSW52YWxpZCBxdWVyeS4gWW91IGFyZSB0cnlpbmcgdG8gc3RhcnQgb3IgZW5kIGEgcXVlcnkgdXNpbmcgYSBkb2N1bWVudCBmb3Igd2hpY2ggdGhlIGZpZWxkICciK3UrIicgKHVzZWQgYXMgdGhlIG9yZGVyQnkpIGRvZXMgbm90IGV4aXN0LiIpfXIucHVzaChzKX19cmV0dXJuIG5ldyBncihyLG4pfSxlLnByb3RvdHlwZS5ib3VuZEZyb21GaWVsZHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuX3F1ZXJ5LmV4cGxpY2l0T3JkZXJCeTtpZih0Lmxlbmd0aD5yLmxlbmd0aCl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIlRvbyBtYW55IGFyZ3VtZW50cyBwcm92aWRlZCB0byAiK2UrIigpLiBUaGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgbnVtYmVyIG9mIFF1ZXJ5Lm9yZGVyQnkoKSBjbGF1c2VzIik7Zm9yKHZhciBpPVtdLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGE9dFtvXTtpZihyW29dLmZpZWxkLmlzS2V5RmllbGQoKSl7aWYoInN0cmluZyIhPT10eXBlb2YgYSl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIkludmFsaWQgcXVlcnkuIEV4cGVjdGVkIGEgc3RyaW5nIGZvciBkb2N1bWVudCBJRCBpbiAiK2UrIigpLCBidXQgZ290IGEgIit0eXBlb2YgYSk7aWYoIXRoaXMuX3F1ZXJ5LmlzQ29sbGVjdGlvbkdyb3VwUXVlcnkoKSYmLTEhPT1hLmluZGV4T2YoIi8iKSl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIkludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgYSBjb2xsZWN0aW9uIGFuZCBvcmRlcmluZyBieSBGaWVsZFBhdGguZG9jdW1lbnRJZCgpLCB0aGUgdmFsdWUgcGFzc2VkIHRvICIrZSsiKCkgbXVzdCBiZSBhIHBsYWluIGRvY3VtZW50IElELCBidXQgJyIrYSsiJyBjb250YWlucyBhIHNsYXNoLiIpO3ZhciBzPXRoaXMuX3F1ZXJ5LnBhdGguY2hpbGQoaGUuZnJvbVN0cmluZyhhKSk7aWYoIWRlLmlzRG9jdW1lbnRLZXkocykpdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIGEgY29sbGVjdGlvbiBncm91cCBhbmQgb3JkZXJpbmcgYnkgRmllbGRQYXRoLmRvY3VtZW50SWQoKSwgdGhlIHZhbHVlIHBhc3NlZCB0byAiK2UrIigpIG11c3QgcmVzdWx0IGluIGEgdmFsaWQgZG9jdW1lbnQgcGF0aCwgYnV0ICciK3MrIicgaXMgbm90IGJlY2F1c2UgaXQgY29udGFpbnMgYW4gb2RkIG51bWJlciBvZiBzZWdtZW50cy4iKTt2YXIgdT1uZXcgZGUocyk7aS5wdXNoKG5ldyBVdCh0aGlzLmZpcmVzdG9yZS5fZGF0YWJhc2VJZCx1KSl9ZWxzZXt2YXIgYz10aGlzLmZpcmVzdG9yZS5fZGF0YUNvbnZlcnRlci5wYXJzZVF1ZXJ5VmFsdWUoZSxhKTtpLnB1c2goYyl9fXJldHVybiBuZXcgZ3IoaSxuKX0sZS5wcm90b3R5cGUub25TbmFwc2hvdD1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtMKCJRdWVyeS5vblNuYXBzaG90Iixhcmd1bWVudHMsMSw0KTt2YXIgbixyPXt9LGk9MDtyZXR1cm4ib2JqZWN0IiE9PXR5cGVvZiBlW2ldfHxjbyhlW2ldKXx8KFcoIlF1ZXJ5Lm9uU25hcHNob3QiLHI9ZVtpXSxbImluY2x1ZGVNZXRhZGF0YUNoYW5nZXMiXSksRigiUXVlcnkub25TbmFwc2hvdCIsImJvb2xlYW4iLCJpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzIixyLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXMpLGkrKyksY28oZVtpXSk/bj1lW2ldOihPKCJRdWVyeS5vblNuYXBzaG90IiwiZnVuY3Rpb24iLGksZVtpXSkseCgiUXVlcnkub25TbmFwc2hvdCIsImZ1bmN0aW9uIixpKzEsZVtpKzFdKSx4KCJRdWVyeS5vblNuYXBzaG90IiwiZnVuY3Rpb24iLGkrMixlW2krMl0pLG49e25leHQ6ZVtpXSxlcnJvcjplW2krMV0sY29tcGxldGU6ZVtpKzJdfSksdGhpcy52YWxpZGF0ZUhhc0V4cGxpY2l0T3JkZXJCeUZvckxpbWl0VG9MYXN0KHRoaXMuX3F1ZXJ5KSx0aGlzLm9uU25hcHNob3RJbnRlcm5hbChyLG4pfSxlLnByb3RvdHlwZS5vblNuYXBzaG90SW50ZXJuYWw9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9ZnVuY3Rpb24oZSl7Y29uc29sZS5lcnJvcigiVW5jYXVnaHQgRXJyb3IgaW4gb25TbmFwc2hvdDoiLGUpfTt0LmVycm9yJiYocj10LmVycm9yLmJpbmQodCkpO3ZhciBpPW5ldyBlbyh7bmV4dDpmdW5jdGlvbihlKXt0Lm5leHQmJnQubmV4dChuZXcgV28obi5maXJlc3RvcmUsbi5fcXVlcnksZSxuLl9jb252ZXJ0ZXIpKX0sZXJyb3I6cn0pLG89dGhpcy5maXJlc3RvcmUuZW5zdXJlQ2xpZW50Q29uZmlndXJlZCgpLGE9by5saXN0ZW4odGhpcy5fcXVlcnksaSxlKTtyZXR1cm4gZnVuY3Rpb24oKXtpLm11dGUoKSxvLnVubGlzdGVuKGEpfX0sZS5wcm90b3R5cGUudmFsaWRhdGVIYXNFeHBsaWNpdE9yZGVyQnlGb3JMaW1pdFRvTGFzdD1mdW5jdGlvbihlKXtpZihlLmhhc0xpbWl0VG9MYXN0KCkmJjA9PT1lLmV4cGxpY2l0T3JkZXJCeS5sZW5ndGgpdGhyb3cgbmV3IEUoUy5VTklNUExFTUVOVEVELCJsaW1pdFRvTGFzdCgpIHF1ZXJpZXMgcmVxdWlyZSBzcGVjaWZ5aW5nIGF0IGxlYXN0IG9uZSBvcmRlckJ5KCkgY2xhdXNlIil9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBMKCJRdWVyeS5nZXQiLGFyZ3VtZW50cywwLDEpLFlvKCJRdWVyeS5nZXQiLGUpLHRoaXMudmFsaWRhdGVIYXNFeHBsaWNpdE9yZGVyQnlGb3JMaW1pdFRvTGFzdCh0aGlzLl9xdWVyeSksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZSYmImNhY2hlIj09PWUuc291cmNlP3QuZmlyZXN0b3JlLmVuc3VyZUNsaWVudENvbmZpZ3VyZWQoKS5nZXREb2N1bWVudHNGcm9tTG9jYWxDYWNoZSh0Ll9xdWVyeSkudGhlbigoZnVuY3Rpb24oZSl7bihuZXcgV28odC5maXJlc3RvcmUsdC5fcXVlcnksZSx0Ll9jb252ZXJ0ZXIpKX0pLHIpOnQuZ2V0VmlhU25hcHNob3RMaXN0ZW5lcihuLHIsZSl9KSl9LGUucHJvdG90eXBlLmdldFZpYVNuYXBzaG90TGlzdGVuZXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMub25TbmFwc2hvdEludGVybmFsKHtpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOiEwLHdhaXRGb3JTeW5jV2hlbk9ubGluZTohMH0se25leHQ6ZnVuY3Rpb24oaSl7cigpLGkubWV0YWRhdGEuZnJvbUNhY2hlJiZuJiYic2VydmVyIj09PW4uc291cmNlP3QobmV3IEUoUy5VTkFWQUlMQUJMRSwnRmFpbGVkIHRvIGdldCBkb2N1bWVudHMgZnJvbSBzZXJ2ZXIuIChIb3dldmVyLCB0aGVzZSBkb2N1bWVudHMgbWF5IGV4aXN0IGluIHRoZSBsb2NhbCBjYWNoZS4gUnVuIGFnYWluIHdpdGhvdXQgc2V0dGluZyBzb3VyY2UgdG8gInNlcnZlciIgdG8gcmV0cmlldmUgdGhlIGNhY2hlZCBkb2N1bWVudHMuKScpKTplKGkpfSxlcnJvcjp0fSl9LGUucHJvdG90eXBlLnBhcnNlRG9jdW1lbnRJZFZhbHVlPWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciPT09dHlwZW9mIGUpe2lmKCIiPT09ZSl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIkludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgd2l0aCBGaWVsZFBhdGguZG9jdW1lbnRJZCgpLCB5b3UgbXVzdCBwcm92aWRlIGEgdmFsaWQgZG9jdW1lbnQgSUQsIGJ1dCBpdCB3YXMgYW4gZW1wdHkgc3RyaW5nLiIpO2lmKCF0aGlzLl9xdWVyeS5pc0NvbGxlY3Rpb25Hcm91cFF1ZXJ5KCkmJi0xIT09ZS5pbmRleE9mKCIvIikpdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIGEgY29sbGVjdGlvbiBieSBGaWVsZFBhdGguZG9jdW1lbnRJZCgpLCB5b3UgbXVzdCBwcm92aWRlIGEgcGxhaW4gZG9jdW1lbnQgSUQsIGJ1dCAnIitlKyInIGNvbnRhaW5zIGEgJy8nIGNoYXJhY3Rlci4iKTt2YXIgdD10aGlzLl9xdWVyeS5wYXRoLmNoaWxkKGhlLmZyb21TdHJpbmcoZSkpO2lmKCFkZS5pc0RvY3VtZW50S2V5KHQpKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyBhIGNvbGxlY3Rpb24gZ3JvdXAgYnkgRmllbGRQYXRoLmRvY3VtZW50SWQoKSwgdGhlIHZhbHVlIHByb3ZpZGVkIG11c3QgcmVzdWx0IGluIGEgdmFsaWQgZG9jdW1lbnQgcGF0aCwgYnV0ICciK3QrIicgaXMgbm90IGJlY2F1c2UgaXQgaGFzIGFuIG9kZCBudW1iZXIgb2Ygc2VnbWVudHMgKCIrdC5sZW5ndGgrIikuIik7cmV0dXJuIG5ldyBVdCh0aGlzLmZpcmVzdG9yZS5fZGF0YWJhc2VJZCxuZXcgZGUodCkpfWlmKGUgaW5zdGFuY2VvZiBCbyl7dmFyIG49ZTtyZXR1cm4gbmV3IFV0KHRoaXMuZmlyZXN0b3JlLl9kYXRhYmFzZUlkLG4uX2tleSl9dGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIHdpdGggRmllbGRQYXRoLmRvY3VtZW50SWQoKSwgeW91IG11c3QgcHJvdmlkZSBhIHZhbGlkIHN0cmluZyBvciBhIERvY3VtZW50UmVmZXJlbmNlLCBidXQgaXQgd2FzOiAiK0soZSkrIi4iKX0sZS5wcm90b3R5cGUudmFsaWRhdGVEaXNqdW5jdGl2ZUZpbHRlckVsZW1lbnRzPWZ1bmN0aW9uKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZSl8fDA9PT1lLmxlbmd0aCl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIkludmFsaWQgUXVlcnkuIEEgbm9uLWVtcHR5IGFycmF5IGlzIHJlcXVpcmVkIGZvciAnIit0LnRvU3RyaW5nKCkrIicgZmlsdGVycy4iKTtpZihlLmxlbmd0aD4xMCl0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIkludmFsaWQgUXVlcnkuICciK3QudG9TdHJpbmcoKSsiJyBmaWx0ZXJzIHN1cHBvcnQgYSBtYXhpbXVtIG9mIDEwIGVsZW1lbnRzIGluIHRoZSB2YWx1ZSBhcnJheS4iKTtpZihlLmluZGV4T2YobnVsbCk+PTApdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJJbnZhbGlkIFF1ZXJ5LiAnIit0LnRvU3RyaW5nKCkrIicgZmlsdGVycyBjYW5ub3QgY29udGFpbiAnbnVsbCcgaW4gdGhlIHZhbHVlIGFycmF5LiIpO2lmKGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyLmlzTmFOKGUpfSkpLmxlbmd0aD4wKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiSW52YWxpZCBRdWVyeS4gJyIrdC50b1N0cmluZygpKyInIGZpbHRlcnMgY2Fubm90IGNvbnRhaW4gJ05hTicgaW4gdGhlIHZhbHVlIGFycmF5LiIpfSxlLnByb3RvdHlwZS52YWxpZGF0ZU5ld0ZpbHRlcj1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaHIpe3ZhciB0PVtjci5BUlJBWV9DT05UQUlOUyxjci5BUlJBWV9DT05UQUlOU19BTlldLG49W2NyLklOLGNyLkFSUkFZX0NPTlRBSU5TX0FOWV0scj10LmluZGV4T2YoZS5vcCk+PTAsaT1uLmluZGV4T2YoZS5vcCk+PTA7aWYoZS5pc0luZXF1YWxpdHkoKSl7dmFyIG89dGhpcy5fcXVlcnkuZ2V0SW5lcXVhbGl0eUZpbHRlckZpZWxkKCk7aWYobnVsbCE9PW8mJiFvLmlzRXF1YWwoZS5maWVsZCkpdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJJbnZhbGlkIHF1ZXJ5LiBBbGwgd2hlcmUgZmlsdGVycyB3aXRoIGFuIGluZXF1YWxpdHkgKDwsIDw9LCA+LCBvciA+PSkgbXVzdCBiZSBvbiB0aGUgc2FtZSBmaWVsZC4gQnV0IHlvdSBoYXZlIGluZXF1YWxpdHkgZmlsdGVycyBvbiAnIitvLnRvU3RyaW5nKCkrIicgYW5kICciK2UuZmllbGQudG9TdHJpbmcoKSsiJyIpO3ZhciBhPXRoaXMuX3F1ZXJ5LmdldEZpcnN0T3JkZXJCeUZpZWxkKCk7bnVsbCE9PWEmJnRoaXMudmFsaWRhdGVPcmRlckJ5QW5kSW5lcXVhbGl0eU1hdGNoKGUuZmllbGQsYSl9ZWxzZSBpZihpfHxyKXt2YXIgcz1udWxsO2lmKGkmJihzPXRoaXMuX3F1ZXJ5LmZpbmRGaWx0ZXJPcGVyYXRvcihuKSksbnVsbD09PXMmJnImJihzPXRoaXMuX3F1ZXJ5LmZpbmRGaWx0ZXJPcGVyYXRvcih0KSksbnVsbCE9cyl0aHJvdyBzPT09ZS5vcD9uZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIkludmFsaWQgcXVlcnkuIFlvdSBjYW5ub3QgdXNlIG1vcmUgdGhhbiBvbmUgJyIrZS5vcC50b1N0cmluZygpKyInIGZpbHRlci4iKTpuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIkludmFsaWQgcXVlcnkuIFlvdSBjYW5ub3QgdXNlICciK2Uub3AudG9TdHJpbmcoKSsiJyBmaWx0ZXJzIHdpdGggJyIrcy50b1N0cmluZygpKyInIGZpbHRlcnMuIil9fX0sZS5wcm90b3R5cGUudmFsaWRhdGVOZXdPcmRlckJ5PWZ1bmN0aW9uKGUpe2lmKG51bGw9PT10aGlzLl9xdWVyeS5nZXRGaXJzdE9yZGVyQnlGaWVsZCgpKXt2YXIgdD10aGlzLl9xdWVyeS5nZXRJbmVxdWFsaXR5RmlsdGVyRmllbGQoKTtudWxsIT09dCYmdGhpcy52YWxpZGF0ZU9yZGVyQnlBbmRJbmVxdWFsaXR5TWF0Y2godCxlLmZpZWxkKX19LGUucHJvdG90eXBlLnZhbGlkYXRlT3JkZXJCeUFuZEluZXF1YWxpdHlNYXRjaD1mdW5jdGlvbihlLHQpe2lmKCF0LmlzRXF1YWwoZSkpdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJJbnZhbGlkIHF1ZXJ5LiBZb3UgaGF2ZSBhIHdoZXJlIGZpbHRlciB3aXRoIGFuIGluZXF1YWxpdHkgKDwsIDw9LCA+LCBvciA+PSkgb24gZmllbGQgJyIrZS50b1N0cmluZygpKyInIGFuZCBzbyB5b3UgbXVzdCBhbHNvIHVzZSAnIitlLnRvU3RyaW5nKCkrIicgYXMgeW91ciBmaXJzdCBRdWVyeS5vcmRlckJ5KCksIGJ1dCB5b3VyIGZpcnN0IFF1ZXJ5Lm9yZGVyQnkoKSBpcyBvbiBmaWVsZCAnIit0LnRvU3RyaW5nKCkrIicgaW5zdGVhZC4iKX0sZX0oKSxXbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scil7dGhpcy5fZmlyZXN0b3JlPWUsdGhpcy5fb3JpZ2luYWxRdWVyeT10LHRoaXMuX3NuYXBzaG90PW4sdGhpcy5fY29udmVydGVyPXIsdGhpcy5fY2FjaGVkQ2hhbmdlcz1udWxsLHRoaXMuX2NhY2hlZENoYW5nZXNJbmNsdWRlTWV0YWRhdGFDaGFuZ2VzPW51bGwsdGhpcy5tZXRhZGF0YT1uZXcgVW8obi5oYXNQZW5kaW5nV3JpdGVzLG4uZnJvbUNhY2hlKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkb2NzIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGUucHVzaCh0KX0pKSxlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZW1wdHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc25hcHNob3QuZG9jcy5pc0VtcHR5KCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NuYXBzaG90LmRvY3Muc2l6ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztMKCJRdWVyeVNuYXBzaG90LmZvckVhY2giLGFyZ3VtZW50cywxLDIpLE8oIlF1ZXJ5U25hcHNob3QuZm9yRWFjaCIsImZ1bmN0aW9uIiwxLGUpLHRoaXMuX3NuYXBzaG90LmRvY3MuZm9yRWFjaCgoZnVuY3Rpb24ocil7ZS5jYWxsKHQsbi5jb252ZXJ0VG9Eb2N1bWVudEltcGwocikpfSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInF1ZXJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB6byh0aGlzLl9vcmlnaW5hbFF1ZXJ5LHRoaXMuX2ZpcmVzdG9yZSx0aGlzLl9jb252ZXJ0ZXIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmRvY0NoYW5nZXM9ZnVuY3Rpb24oZSl7ZSYmKFcoIlF1ZXJ5U25hcHNob3QuZG9jQ2hhbmdlcyIsZSxbImluY2x1ZGVNZXRhZGF0YUNoYW5nZXMiXSksRigiUXVlcnlTbmFwc2hvdC5kb2NDaGFuZ2VzIiwiYm9vbGVhbiIsImluY2x1ZGVNZXRhZGF0YUNoYW5nZXMiLGUuaW5jbHVkZU1ldGFkYXRhQ2hhbmdlcykpO3ZhciB0PSEoIWV8fCFlLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXMpO2lmKHQmJnRoaXMuX3NuYXBzaG90LmV4Y2x1ZGVzTWV0YWRhdGFDaGFuZ2VzKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiVG8gaW5jbHVkZSBtZXRhZGF0YSBjaGFuZ2VzIHdpdGggeW91ciBkb2N1bWVudCBjaGFuZ2VzLCB5b3UgbXVzdCBhbHNvIHBhc3MgeyBpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOnRydWUgfSB0byBvblNuYXBzaG90KCkuIik7cmV0dXJuIHRoaXMuX2NhY2hlZENoYW5nZXMmJnRoaXMuX2NhY2hlZENoYW5nZXNJbmNsdWRlTWV0YWRhdGFDaGFuZ2VzPT09dHx8KHRoaXMuX2NhY2hlZENoYW5nZXM9ZnVuY3Rpb24oZSx0LG4scil7aWYobi5vbGREb2NzLmlzRW1wdHkoKSl7dmFyIGksbz0wO3JldHVybiBuLmRvY0NoYW5nZXMubWFwKChmdW5jdGlvbih0KXt2YXIgYT1uZXcgS28oZSx0LmRvYy5rZXksdC5kb2Msbi5mcm9tQ2FjaGUsbi5tdXRhdGVkS2V5cy5oYXModC5kb2Mua2V5KSxyKTtyZXR1cm4gdyh0LnR5cGU9PT1Hci5BZGRlZCwiSW52YWxpZCBldmVudCB0eXBlIGZvciBmaXJzdCBzbmFwc2hvdCIpLHcoIWl8fG4ucXVlcnkuZG9jQ29tcGFyYXRvcihpLHQuZG9jKTwwLCJHb3QgYWRkZWQgZXZlbnRzIGluIHdyb25nIG9yZGVyIiksaT10LmRvYyx7dHlwZToiYWRkZWQiLGRvYzphLG9sZEluZGV4Oi0xLG5ld0luZGV4Om8rK319KSl9dmFyIGE9bi5vbGREb2NzO3JldHVybiBuLmRvY0NoYW5nZXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdHx8ZS50eXBlIT09R3IuTWV0YWRhdGF9KSkubWFwKChmdW5jdGlvbih0KXt2YXIgaT1uZXcgS28oZSx0LmRvYy5rZXksdC5kb2Msbi5mcm9tQ2FjaGUsbi5tdXRhdGVkS2V5cy5oYXModC5kb2Mua2V5KSxyKSxvPS0xLHM9LTE7cmV0dXJuIHQudHlwZSE9PUdyLkFkZGVkJiYodygobz1hLmluZGV4T2YodC5kb2Mua2V5KSk+PTAsIkluZGV4IGZvciBkb2N1bWVudCBub3QgZm91bmQiKSxhPWEuZGVsZXRlKHQuZG9jLmtleSkpLHQudHlwZSE9PUdyLlJlbW92ZWQmJihzPShhPWEuYWRkKHQuZG9jKSkuaW5kZXhPZih0LmRvYy5rZXkpKSx7dHlwZTpYbyh0LnR5cGUpLGRvYzppLG9sZEluZGV4Om8sbmV3SW5kZXg6c319KSl9KHRoaXMuX2ZpcmVzdG9yZSx0LHRoaXMuX3NuYXBzaG90LHRoaXMuX2NvbnZlcnRlciksdGhpcy5fY2FjaGVkQ2hhbmdlc0luY2x1ZGVNZXRhZGF0YUNoYW5nZXM9dCksdGhpcy5fY2FjaGVkQ2hhbmdlc30sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBHKCJpc0VxdWFsIiwiUXVlcnlTbmFwc2hvdCIsMSx0KTtyZXR1cm4gdGhpcy5fZmlyZXN0b3JlPT09dC5fZmlyZXN0b3JlJiZ0aGlzLl9vcmlnaW5hbFF1ZXJ5LmlzRXF1YWwodC5fb3JpZ2luYWxRdWVyeSkmJnRoaXMuX3NuYXBzaG90LmlzRXF1YWwodC5fc25hcHNob3QpJiZ0aGlzLl9jb252ZXJ0ZXI9PT10Ll9jb252ZXJ0ZXJ9LGUucHJvdG90eXBlLmNvbnZlcnRUb0RvY3VtZW50SW1wbD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEtvKHRoaXMuX2ZpcmVzdG9yZSxlLmtleSxlLHRoaXMubWV0YWRhdGEuZnJvbUNhY2hlLHRoaXMuX3NuYXBzaG90Lm11dGF0ZWRLZXlzLmhhcyhlLmtleSksdGhpcy5fY29udmVydGVyKX0sZX0oKTthLl9fc3ByZWFkQXJyYXlzKFsibGVuZ3RoIiwiZm9yRWFjaCIsIm1hcCJdLCJ1bmRlZmluZWQiIT09dHlwZW9mIFN5bWJvbD9bU3ltYm9sLml0ZXJhdG9yXTpbXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShXby5wcm90b3R5cGUuZG9jQ2hhbmdlcyxlLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsJ1F1ZXJ5U25hcHNob3QuZG9jQ2hhbmdlcyBoYXMgYmVlbiBjaGFuZ2VkIGZyb20gYSBwcm9wZXJ0eSBpbnRvIGEgbWV0aG9kLCBzbyB1c2FnZXMgbGlrZSAicXVlcnlTbmFwc2hvdC5kb2NDaGFuZ2VzIiBzaG91bGQgYmVjb21lICJxdWVyeVNuYXBzaG90LmRvY0NoYW5nZXMoKSInKX0oKX19KX1jYXRjaCh0KXt9fSkpO3ZhciBHbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixyKXt2YXIgaT1lLmNhbGwodGhpcyxzci5hdFBhdGgodCksbixyKXx8dGhpcztpZihpLl9wYXRoPXQsdC5sZW5ndGglMiE9PTEpdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJJbnZhbGlkIGNvbGxlY3Rpb24gcmVmZXJlbmNlLiBDb2xsZWN0aW9uIHJlZmVyZW5jZXMgbXVzdCBoYXZlIGFuIG9kZCBudW1iZXIgb2Ygc2VnbWVudHMsIGJ1dCAiK3QuY2Fub25pY2FsU3RyaW5nKCkrIiBoYXMgIit0Lmxlbmd0aCk7cmV0dXJuIGl9cmV0dXJuIGEuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJpZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9xdWVyeS5wYXRoLmxhc3RTZWdtZW50KCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJwYXJlbnQiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9xdWVyeS5wYXRoLnBvcExhc3QoKTtyZXR1cm4gZS5pc0VtcHR5KCk/bnVsbDpuZXcgQm8obmV3IGRlKGUpLHRoaXMuZmlyZXN0b3JlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInBhdGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcXVlcnkucGF0aC5jYW5vbmljYWxTdHJpbmcoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5kb2M9ZnVuY3Rpb24oZSl7aWYoTCgiQ29sbGVjdGlvblJlZmVyZW5jZS5kb2MiLGFyZ3VtZW50cywwLDEpLDA9PT1hcmd1bWVudHMubGVuZ3RoJiYoZT1KLm5ld0lkKCkpLE8oIkNvbGxlY3Rpb25SZWZlcmVuY2UuZG9jIiwibm9uLWVtcHR5IHN0cmluZyIsMSxlKSwiIj09PWUpdGhyb3cgbmV3IEUoUy5JTlZBTElEX0FSR1VNRU5ULCJEb2N1bWVudCBwYXRoIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nIik7dmFyIHQ9aGUuZnJvbVN0cmluZyhlKTtyZXR1cm4gQm8uZm9yUGF0aCh0aGlzLl9xdWVyeS5wYXRoLmNoaWxkKHQpLHRoaXMuZmlyZXN0b3JlLHRoaXMuX2NvbnZlcnRlcil9LHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtSKCJDb2xsZWN0aW9uUmVmZXJlbmNlLmFkZCIsYXJndW1lbnRzLDEpO3ZhciB0PXRoaXMuX2NvbnZlcnRlcj90aGlzLl9jb252ZXJ0ZXIudG9GaXJlc3RvcmUoZSk6ZTtPKCJDb2xsZWN0aW9uUmVmZXJlbmNlLmFkZCIsIm9iamVjdCIsMSx0KTt2YXIgbj10aGlzLmRvYygpO3JldHVybiBuLnNldChlKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBufSkpfSx0LnByb3RvdHlwZS53aXRoQ29udmVydGVyPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdCh0aGlzLl9wYXRoLHRoaXMuZmlyZXN0b3JlLGUpfSx0fSh6byk7ZnVuY3Rpb24gam8oZSx0KXtpZih2b2lkIDA9PT10KXJldHVybnttZXJnZTohMX07aWYoVyhlLHQsWyJtZXJnZSIsIm1lcmdlRmllbGRzIl0pLEYoZSwiYm9vbGVhbiIsIm1lcmdlIix0Lm1lcmdlKSxxKGUsIm1lcmdlRmllbGRzIiwiYSBzdHJpbmcgb3IgYSBGaWVsZFBhdGgiLHQubWVyZ2VGaWVsZHMsKGZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiB0b30pKSx2b2lkIDAhPT10Lm1lcmdlRmllbGRzJiZ2b2lkIDAhPT10Lm1lcmdlKXRocm93IG5ldyBFKFMuSU5WQUxJRF9BUkdVTUVOVCwiSW52YWxpZCBvcHRpb25zIHBhc3NlZCB0byBmdW5jdGlvbiAiK2UrJygpOiBZb3UgY2Fubm90IHNwZWNpZnkgYm90aCAibWVyZ2UiIGFuZCAibWVyZ2VGaWVsZHMiLicpO3JldHVybiB0fWZ1bmN0aW9uIEhvKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/e306KFcoZSx0LFsic2VydmVyVGltZXN0YW1wcyJdKSxWKGUsMCwic2VydmVyVGltZXN0YW1wcyIsdC5zZXJ2ZXJUaW1lc3RhbXBzLFsiZXN0aW1hdGUiLCJwcmV2aW91cyIsIm5vbmUiXSksdCl9ZnVuY3Rpb24gWW8oZSx0KXt4KGUsIm9iamVjdCIsMSx0KSx0JiYoVyhlLHQsWyJzb3VyY2UiXSksVihlLDAsInNvdXJjZSIsdC5zb3VyY2UsWyJkZWZhdWx0Iiwic2VydmVyIiwiY2FjaGUiXSkpfWZ1bmN0aW9uIEpvKGUsdCxuKXtpZih0IGluc3RhbmNlb2YgQm8pe2lmKHQuZmlyZXN0b3JlIT09bil0aHJvdyBuZXcgRShTLklOVkFMSURfQVJHVU1FTlQsIlByb3ZpZGVkIGRvY3VtZW50IHJlZmVyZW5jZSBpcyBmcm9tIGEgZGlmZmVyZW50IEZpcmVzdG9yZSBpbnN0YW5jZS4iKTtyZXR1cm4gdH10aHJvdyBHKGUsIkRvY3VtZW50UmVmZXJlbmNlIiwxLHQpfWZ1bmN0aW9uIFhvKGUpe3N3aXRjaChlKXtjYXNlIEdyLkFkZGVkOnJldHVybiJhZGRlZCI7Y2FzZSBHci5Nb2RpZmllZDpjYXNlIEdyLk1ldGFkYXRhOnJldHVybiJtb2RpZmllZCI7Y2FzZSBHci5SZW1vdmVkOnJldHVybiJyZW1vdmVkIjtkZWZhdWx0OnJldHVybiB2KCJVbmtub3duIGNoYW5nZSB0eXBlOiAiK2UpfX1mdW5jdGlvbiBabyhlLHQsbil7dmFyIHI7cmV0dXJuIGU/KHI9ZS50b0ZpcmVzdG9yZSh0KSxuPSJ0b0ZpcmVzdG9yZSgpIGluICIrbik6cj10LFtyLG5dfXZhciAkbz1JKEZvLCJVc2UgZmlyZWJhc2UuZmlyZXN0b3JlKCkgaW5zdGVhZC4iKSxlYT1JKHFvLCJVc2UgZmlyZWJhc2UuZmlyZXN0b3JlKCkucnVuVHJhbnNhY3Rpb24oKSBpbnN0ZWFkLiIpLHRhPUkoVm8sIlVzZSBmaXJlYmFzZS5maXJlc3RvcmUoKS5iYXRjaCgpIGluc3RlYWQuIiksbmE9SShCbywiVXNlIGZpcmViYXNlLmZpcmVzdG9yZSgpLmRvYygpIGluc3RlYWQuIikscmE9SShRbyksaWE9SShLbyksb2E9SSh6byksYWE9SShXbyksc2E9SShHbywiVXNlIGZpcmViYXNlLmZpcmVzdG9yZSgpLmNvbGxlY3Rpb24oKSBpbnN0ZWFkLiIpLHVhPXtGaXJlc3RvcmU6JG8sR2VvUG9pbnQ6Y2ksVGltZXN0YW1wOkNlLEJsb2I6aWUsVHJhbnNhY3Rpb246ZWEsV3JpdGVCYXRjaDp0YSxEb2N1bWVudFJlZmVyZW5jZTpuYSxEb2N1bWVudFNuYXBzaG90OnJhLFF1ZXJ5Om9hLFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdDppYSxRdWVyeVNuYXBzaG90OmFhLENvbGxlY3Rpb25SZWZlcmVuY2U6c2EsRmllbGRQYXRoOnRvLEZpZWxkVmFsdWU6dm8sc2V0TG9nTGV2ZWw6Rm8uc2V0TG9nTGV2ZWwsQ0FDSEVfU0laRV9VTkxJTUlURUQ6eG99O2Z1bmN0aW9uIGNhKGUpe2UuSU5URVJOQUwucmVnaXN0ZXJDb21wb25lbnQobmV3IGMuQ29tcG9uZW50KCJmaXJlc3RvcmUiLChmdW5jdGlvbihlKXt2YXIgdD1lLmdldFByb3ZpZGVyKCJhcHAiKS5nZXRJbW1lZGlhdGUoKTtyZXR1cm4gbmV3IEZvKHQsZS5nZXRQcm92aWRlcigiYXV0aC1pbnRlcm5hbCIpKX0pLCJQVUJMSUMiKS5zZXRTZXJ2aWNlUHJvcHMoZnVuY3Rpb24oZSl7dyhlJiYib2JqZWN0Ij09PXR5cGVvZiBlLCJzaGFsbG93Q29weSgpIGV4cGVjdHMgb2JqZWN0IHBhcmFtZXRlci4iKTt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHR9KHVhKSkpfXZhciBoYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmFkZENhbGxiYWNrPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUuc2h1dGRvd249ZnVuY3Rpb24oKXt9LGV9KCksbGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIGU9dGhpczt0aGlzLm5ldHdvcmtBdmFpbGFibGVMaXN0ZW5lcj1mdW5jdGlvbigpe3JldHVybiBlLm9uTmV0d29ya0F2YWlsYWJsZSgpfSx0aGlzLm5ldHdvcmtVbmF2YWlsYWJsZUxpc3RlbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIGUub25OZXR3b3JrVW5hdmFpbGFibGUoKX0sdGhpcy5jYWxsYmFja3M9W10sdGhpcy5jb25maWd1cmVOZXR3b3JrTW9uaXRvcmluZygpfXJldHVybiBlLnByb3RvdHlwZS5hZGRDYWxsYmFjaz1mdW5jdGlvbihlKXt0aGlzLmNhbGxiYWNrcy5wdXNoKGUpfSxlLnByb3RvdHlwZS5zaHV0ZG93bj1mdW5jdGlvbigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJvbmxpbmUiLHRoaXMubmV0d29ya0F2YWlsYWJsZUxpc3RlbmVyKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigib2ZmbGluZSIsdGhpcy5uZXR3b3JrVW5hdmFpbGFibGVMaXN0ZW5lcil9LGUucHJvdG90eXBlLmNvbmZpZ3VyZU5ldHdvcmtNb25pdG9yaW5nPWZ1bmN0aW9uKCl7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm9ubGluZSIsdGhpcy5uZXR3b3JrQXZhaWxhYmxlTGlzdGVuZXIpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJvZmZsaW5lIix0aGlzLm5ldHdvcmtVbmF2YWlsYWJsZUxpc3RlbmVyKX0sZS5wcm90b3R5cGUub25OZXR3b3JrQXZhaWxhYmxlPWZ1bmN0aW9uKCl7bSgiQ29ubmVjdGl2aXR5TW9uaXRvciIsIk5ldHdvcmsgY29ubmVjdGl2aXR5IGNoYW5nZWQ6IEFWQUlMQUJMRSIpO2Zvcih2YXIgZT0wLHQ9dGhpcy5jYWxsYmFja3M7ZTx0Lmxlbmd0aDtlKyspeygwLHRbZV0pKDApfX0sZS5wcm90b3R5cGUub25OZXR3b3JrVW5hdmFpbGFibGU9ZnVuY3Rpb24oKXttKCJDb25uZWN0aXZpdHlNb25pdG9yIiwiTmV0d29yayBjb25uZWN0aXZpdHkgY2hhbmdlZDogVU5BVkFJTEFCTEUiKTtmb3IodmFyIGU9MCx0PXRoaXMuY2FsbGJhY2tzO2U8dC5sZW5ndGg7ZSsrKXsoMCx0W2VdKSgxKX19LGUuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cmJnZvaWQgMCE9PXdpbmRvdy5hZGRFdmVudExpc3RlbmVyJiZ2b2lkIDAhPT13aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcn0sZX0oKSxmYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5zZW5kRm49ZS5zZW5kRm4sdGhpcy5jbG9zZUZuPWUuY2xvc2VGbn1yZXR1cm4gZS5wcm90b3R5cGUub25PcGVuPWZ1bmN0aW9uKGUpe3coIXRoaXMud3JhcHBlZE9uT3BlbiwiQ2FsbGVkIG9uT3BlbiBvbiBzdHJlYW0gdHdpY2UhIiksdGhpcy53cmFwcGVkT25PcGVuPWV9LGUucHJvdG90eXBlLm9uQ2xvc2U9ZnVuY3Rpb24oZSl7dyghdGhpcy53cmFwcGVkT25DbG9zZSwiQ2FsbGVkIG9uQ2xvc2Ugb24gc3RyZWFtIHR3aWNlISIpLHRoaXMud3JhcHBlZE9uQ2xvc2U9ZX0sZS5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKGUpe3coIXRoaXMud3JhcHBlZE9uTWVzc2FnZSwiQ2FsbGVkIG9uTWVzc2FnZSBvbiBzdHJlYW0gdHdpY2UhIiksdGhpcy53cmFwcGVkT25NZXNzYWdlPWV9LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5jbG9zZUZuKCl9LGUucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7dGhpcy5zZW5kRm4oZSl9LGUucHJvdG90eXBlLmNhbGxPbk9wZW49ZnVuY3Rpb24oKXt3KHZvaWQgMCE9PXRoaXMud3JhcHBlZE9uT3BlbiwiQ2Fubm90IGNhbGwgb25PcGVuIGJlY2F1c2Ugbm8gY2FsbGJhY2sgd2FzIHNldCIpLHRoaXMud3JhcHBlZE9uT3BlbigpfSxlLnByb3RvdHlwZS5jYWxsT25DbG9zZT1mdW5jdGlvbihlKXt3KHZvaWQgMCE9PXRoaXMud3JhcHBlZE9uQ2xvc2UsIkNhbm5vdCBjYWxsIG9uQ2xvc2UgYmVjYXVzZSBubyBjYWxsYmFjayB3YXMgc2V0IiksdGhpcy53cmFwcGVkT25DbG9zZShlKX0sZS5wcm90b3R5cGUuY2FsbE9uTWVzc2FnZT1mdW5jdGlvbihlKXt3KHZvaWQgMCE9PXRoaXMud3JhcHBlZE9uTWVzc2FnZSwiQ2Fubm90IGNhbGwgb25NZXNzYWdlIGJlY2F1c2Ugbm8gY2FsbGJhY2sgd2FzIHNldCIpLHRoaXMud3JhcHBlZE9uTWVzc2FnZShlKX0sZX0oKSxkYT0iQ29ubmVjdGlvbiIscGE9e0JhdGNoR2V0RG9jdW1lbnRzOiJiYXRjaEdldCIsQ29tbWl0OiJjb21taXQifSxtYT0iZ2wtanMvIGZpcmUvIitsLHlhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmRhdGFiYXNlSWQ9ZS5kYXRhYmFzZUlkO3ZhciB0PWUuc3NsPyJodHRwcyI6Imh0dHAiO3RoaXMuYmFzZVVybD10KyI6Ly8iK2UuaG9zdCx0aGlzLmZvcmNlTG9uZ1BvbGxpbmc9ZS5mb3JjZUxvbmdQb2xsaW5nfXJldHVybiBlLnByb3RvdHlwZS5tb2RpZnlIZWFkZXJzRm9yUmVxdWVzdD1mdW5jdGlvbihlLHQpe2lmKHQpZm9yKHZhciBuIGluIHQuYXV0aEhlYWRlcnMpdC5hdXRoSGVhZGVycy5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dC5hdXRoSGVhZGVyc1tuXSk7ZVsiWC1Hb29nLUFwaS1DbGllbnQiXT1tYX0sZS5wcm90b3R5cGUuaW52b2tlUlBDPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLGk9dGhpcy5tYWtlVXJsKGUpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obyxzKXt2YXIgdT1uZXcgaC5YaHJJbzt1Lmxpc3Rlbk9uY2UoaC5FdmVudFR5cGUuQ09NUExFVEUsKGZ1bmN0aW9uKCl7dHJ5e3N3aXRjaCh1LmdldExhc3RFcnJvckNvZGUoKSl7Y2FzZSBoLkVycm9yQ29kZS5OT19FUlJPUjp2YXIgdD11LmdldFJlc3BvbnNlSnNvbigpO20oZGEsIlhIUiByZWNlaXZlZDoiLEpTT04uc3RyaW5naWZ5KHQpKSxvKHQpO2JyZWFrO2Nhc2UgaC5FcnJvckNvZGUuVElNRU9VVDptKGRhLCdSUEMgIicrZSsnIiB0aW1lZCBvdXQnKSxzKG5ldyBFKFMuREVBRExJTkVfRVhDRUVERUQsIlJlcXVlc3QgdGltZSBvdXQiKSk7YnJlYWs7Y2FzZSBoLkVycm9yQ29kZS5IVFRQX0VSUk9SOnZhciBuPXUuZ2V0U3RhdHVzKCk7aWYobShkYSwnUlBDICInK2UrJyIgZmFpbGVkIHdpdGggc3RhdHVzOicsbiwicmVzcG9uc2UgdGV4dDoiLHUuZ2V0UmVzcG9uc2VUZXh0KCkpLG4+MCl7dmFyIHI9dS5nZXRSZXNwb25zZUpzb24oKS5lcnJvcjtpZihyJiZyLnN0YXR1cyYmci5tZXNzYWdlKXt2YXIgaT1mdW5jdGlvbihlKXt2YXIgdD1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgiXyIsIi0iKTtyZXR1cm4gT2JqZWN0LnZhbHVlcyhTKS5pbmRleE9mKHQpPj0wP3Q6Uy5VTktOT1dOfShyLnN0YXR1cyk7cyhuZXcgRShpLHIubWVzc2FnZSkpfWVsc2UgcyhuZXcgRShTLlVOS05PV04sIlNlcnZlciByZXNwb25kZWQgd2l0aCBzdGF0dXMgIit1LmdldFN0YXR1cygpKSl9ZWxzZSBtKGRhLCdSUEMgIicrZSsnIiBmYWlsZWQnKSxzKG5ldyBFKFMuVU5BVkFJTEFCTEUsIkNvbm5lY3Rpb24gZmFpbGVkLiIpKTticmVhaztkZWZhdWx0OnYoJ1JQQyAiJytlKyciIGZhaWxlZCB3aXRoIHVuYW50aWNpcGF0ZWQgd2ViY2hhbm5lbCBlcnJvciAnK3UuZ2V0TGFzdEVycm9yQ29kZSgpKyI6ICIrdS5nZXRMYXN0RXJyb3IoKSsiLCBnaXZpbmcgdXAuIil9fWZpbmFsbHl7bShkYSwnUlBDICInK2UrJyIgY29tcGxldGVkLicpfX0pKTt2YXIgYz1hLl9fYXNzaWduKHt9LHQpO2RlbGV0ZSBjLmRhdGFiYXNlO3ZhciBsPUpTT04uc3RyaW5naWZ5KGMpO20oZGEsIlhIUiBzZW5kaW5nOiAiLGkrIiAiK2wpO3ZhciBmPXsiQ29udGVudC1UeXBlIjoidGV4dC9wbGFpbiJ9O3IubW9kaWZ5SGVhZGVyc0ZvclJlcXVlc3QoZixuKSx1LnNlbmQoaSwiUE9TVCIsbCxmLDE1KX0pKX0sZS5wcm90b3R5cGUuaW52b2tlU3RyZWFtaW5nUlBDPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5pbnZva2VSUEMoZSx0LG4pfSxlLnByb3RvdHlwZS5vcGVuU3RyZWFtPWZ1bmN0aW9uKGUsdCl7dmFyIG49W3RoaXMuYmFzZVVybCwiLyIsImdvb2dsZS5maXJlc3RvcmUudjEuRmlyZXN0b3JlIiwiLyIsZSwiL2NoYW5uZWwiXSxyPWguY3JlYXRlV2ViQ2hhbm5lbFRyYW5zcG9ydCgpLGk9e2JhY2tncm91bmRDaGFubmVsVGVzdDohMCxodHRwU2Vzc2lvbklkUGFyYW06ImdzZXNzaW9uaWQiLGluaXRNZXNzYWdlSGVhZGVyczp7fSxtZXNzYWdlVXJsUGFyYW1zOntkYXRhYmFzZToicHJvamVjdHMvIit0aGlzLmRhdGFiYXNlSWQucHJvamVjdElkKyIvZGF0YWJhc2VzLyIrdGhpcy5kYXRhYmFzZUlkLmRhdGFiYXNlfSxzZW5kUmF3SnNvbjohMCxzdXBwb3J0c0Nyb3NzRG9tYWluWGhyOiEwLGludGVybmFsQ2hhbm5lbFBhcmFtczp7Zm9yd2FyZENoYW5uZWxSZXF1ZXN0VGltZW91dE1zOjZlNX0sZm9yY2VMb25nUG9sbGluZzp0aGlzLmZvcmNlTG9uZ1BvbGxpbmd9O3RoaXMubW9kaWZ5SGVhZGVyc0ZvclJlcXVlc3QoaS5pbml0TWVzc2FnZUhlYWRlcnMsdCksdS5pc1JlYWN0TmF0aXZlKCl8fHUuaXNFbGVjdHJvbigpfHx1LmlzSUUoKXx8dS5pc1VXUCgpfHx1LmlzQnJvd3NlckV4dGVuc2lvbigpfHwoaS5odHRwSGVhZGVyc092ZXJ3cml0ZVBhcmFtPSIkaHR0cEhlYWRlcnMiKTt2YXIgbz1uLmpvaW4oIiIpO20oZGEsIkNyZWF0aW5nIFdlYkNoYW5uZWw6ICIrbysiICIraSk7dmFyIGE9ci5jcmVhdGVXZWJDaGFubmVsKG8saSkscz0hMSxjPSExLGw9bmV3IGZhKHtzZW5kRm46ZnVuY3Rpb24oZSl7Yz9tKGRhLCJOb3Qgc2VuZGluZyBiZWNhdXNlIFdlYkNoYW5uZWwgaXMgY2xvc2VkOiIsZSk6KHN8fChtKGRhLCJPcGVuaW5nIFdlYkNoYW5uZWwgdHJhbnNwb3J0LiIpLGEub3BlbigpLHM9ITApLG0oZGEsIldlYkNoYW5uZWwgc2VuZGluZzoiLGUpLGEuc2VuZChlKSl9LGNsb3NlRm46ZnVuY3Rpb24oKXtyZXR1cm4gYS5jbG9zZSgpfX0pLGY9ZnVuY3Rpb24oZSx0KXthLmxpc3RlbihlLChmdW5jdGlvbihlKXt0cnl7dChlKX1jYXRjaChuKXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3Rocm93IG59KSwwKX19KSl9O3JldHVybiBmKGguV2ViQ2hhbm5lbC5FdmVudFR5cGUuT1BFTiwoZnVuY3Rpb24oKXtjfHxtKGRhLCJXZWJDaGFubmVsIHRyYW5zcG9ydCBvcGVuZWQuIil9KSksZihoLldlYkNoYW5uZWwuRXZlbnRUeXBlLkNMT1NFLChmdW5jdGlvbigpe2N8fChjPSEwLG0oZGEsIldlYkNoYW5uZWwgdHJhbnNwb3J0IGNsb3NlZCIpLGwuY2FsbE9uQ2xvc2UoKSl9KSksZihoLldlYkNoYW5uZWwuRXZlbnRUeXBlLkVSUk9SLChmdW5jdGlvbihlKXtjfHwoYz0hMCxtKGRhLCJXZWJDaGFubmVsIHRyYW5zcG9ydCBlcnJvcmVkOiIsZSksbC5jYWxsT25DbG9zZShuZXcgRShTLlVOQVZBSUxBQkxFLCJUaGUgb3BlcmF0aW9uIGNvdWxkIG5vdCBiZSBjb21wbGV0ZWQiKSkpfSkpLGYoaC5XZWJDaGFubmVsLkV2ZW50VHlwZS5NRVNTQUdFLChmdW5jdGlvbihlKXt2YXIgdDtpZighYyl7dmFyIG49ZS5kYXRhWzBdO3coISFuLCJHb3QgYSB3ZWJjaGFubmVsIG1lc3NhZ2Ugd2l0aG91dCBkYXRhLiIpO3ZhciByPW4saT1yLmVycm9yfHwobnVsbD09PSh0PXJbMF0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVycm9yKTtpZihpKXttKGRhLCJXZWJDaGFubmVsIHJlY2VpdmVkIGVycm9yOiIsaSk7dmFyIG89aS5zdGF0dXMscz1mdW5jdGlvbihlKXt2YXIgdD1VcltlXTtpZih2b2lkIDAhPT10KXJldHVybiB6cih0KX0obyksdT1pLm1lc3NhZ2U7dm9pZCAwPT09cyYmKHM9Uy5JTlRFUk5BTCx1PSJVbmtub3duIGVycm9yIHN0YXR1czogIitvKyIgd2l0aCBtZXNzYWdlICIraS5tZXNzYWdlKSxjPSEwLGwuY2FsbE9uQ2xvc2UobmV3IEUocyx1KSksYS5jbG9zZSgpfWVsc2UgbShkYSwiV2ViQ2hhbm5lbCByZWNlaXZlZDoiLG4pLGwuY2FsbE9uTWVzc2FnZShuKX19KSksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtsLmNhbGxPbk9wZW4oKX0pLDApLGx9LGUucHJvdG90eXBlLm1ha2VVcmw9ZnVuY3Rpb24oZSl7dmFyIHQ9cGFbZV07cmV0dXJuIHcodm9pZCAwIT09dCwiVW5rbm93biBSRVNUIG1hcHBpbmcgZm9yOiAiK2UpLHRoaXMuYmFzZVVybCsiL3YxL3Byb2plY3RzLyIrdGhpcy5kYXRhYmFzZUlkLnByb2plY3RJZCsiL2RhdGFiYXNlcy8iK3RoaXMuZGF0YWJhc2VJZC5kYXRhYmFzZSsiL2RvY3VtZW50czoiK3R9LGV9KCksZ2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5lbXB0eUJ5dGVTdHJpbmc9IiIsdGhpcy5iYXNlNjRBdmFpbGFibGU9InVuZGVmaW5lZCIhPT10eXBlb2YgYXRvYn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkb2N1bWVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQiIT09dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50Om51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ3aW5kb3ciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3c/d2luZG93Om51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubG9hZENvbm5lY3Rpb249ZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgeWEoZSkpfSxlLnByb3RvdHlwZS5uZXdDb25uZWN0aXZpdHlNb25pdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIGxhLmlzQXZhaWxhYmxlKCk/bmV3IGxhOm5ldyBoYX0sZS5wcm90b3R5cGUubmV3U2VyaWFsaXplcj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFRpKGUse3VzZVByb3RvM0pzb246ITB9KX0sZS5wcm90b3R5cGUuZm9ybWF0SlNPTj1mdW5jdGlvbihlKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSl9LGUucHJvdG90eXBlLmF0b2I9ZnVuY3Rpb24oZSl7cmV0dXJuIGF0b2IoZSl9LGUucHJvdG90eXBlLmJ0b2E9ZnVuY3Rpb24oZSl7cmV0dXJuIGJ0b2EoZSl9LGV9KCk7Yi5zZXRQbGF0Zm9ybShuZXcgZ2EpO3ZhciB2YT0iQGZpcmViYXNlL2ZpcmVzdG9yZSIsd2E9IjEuMTAuMiI7ZnVuY3Rpb24gYmEoZSl7Y2EoZSksZS5yZWdpc3RlclZlcnNpb24odmEsd2EpfWJhKG8pLHQucmVnaXN0ZXJGaXJlc3RvcmU9YmF9KS5jYWxsKHRoaXMsbigiOG94QiIpKX19XSk7" async=""></script><script src="data:application/javascript;charset=UTF-8;base64,KHdpbmRvdy53ZWJwYWNrSnNvbnA9d2luZG93LndlYnBhY2tKc29ucHx8W10pLnB1c2goW1s3XSx7dDZvRjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiOyhmdW5jdGlvbih0KXt2YXIgZT1uKCJ3ajNDIiksaT1uLm4oZSk7KGZ1bmN0aW9uKCl7dmFyIGUsbj0iZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnRpZXM/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKHQsZSxuKXt0IT1BcnJheS5wcm90b3R5cGUmJnQhPU9iamVjdC5wcm90b3R5cGUmJih0W2VdPW4udmFsdWUpfTt2YXIgcj1mdW5jdGlvbihlKXtlPVsib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93LCJvYmplY3QiPT10eXBlb2Ygc2VsZiYmc2VsZiwib2JqZWN0Ij09dHlwZW9mIHQmJnQsZV07Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciBpPWVbbl07aWYoaSYmaS5NYXRoPT1NYXRoKXJldHVybiBpfXJldHVybiBnbG9iYWxUaGlzfSh0aGlzKTtmdW5jdGlvbiBvKHQpe3ZhciBlPTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGU8dC5sZW5ndGg/e2RvbmU6ITEsdmFsdWU6dFtlKytdfTp7ZG9uZTohMH19fWZ1bmN0aW9uIGEodCl7dmFyIGU9InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciYmdFtTeW1ib2wuaXRlcmF0b3JdO3JldHVybiBlP2UuY2FsbCh0KTp7bmV4dDpvKHQpfX0hZnVuY3Rpb24odCxlKXtpZihlKXt2YXIgaT1yO3Q9dC5zcGxpdCgiLiIpO2Zvcih2YXIgbz0wO288dC5sZW5ndGgtMTtvKyspe3ZhciBhPXRbb107YSBpbiBpfHwoaVthXT17fSksaT1pW2FdfShlPWUobz1pW3Q9dFt0Lmxlbmd0aC0xXV0pKSE9byYmbnVsbCE9ZSYmbihpLHQse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSl9fSgiUHJvbWlzZSIsKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dGhpcy5iPTAsdGhpcy5jPXZvaWQgMCx0aGlzLmE9W107dmFyIGU9dGhpcy5mKCk7dHJ5e3QoZS5yZXNvbHZlLGUucmVqZWN0KX1jYXRjaChuKXtlLnJlamVjdChuKX19ZnVuY3Rpb24gbigpe3RoaXMuYT1udWxsfWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlP3Q6bmV3IGUoKGZ1bmN0aW9uKGUpe2UodCl9KSl9aWYodClyZXR1cm4gdDtuLnByb3RvdHlwZS5iPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXRoaXMuYSl7dGhpcy5hPVtdO3ZhciBlPXRoaXM7dGhpcy5jKChmdW5jdGlvbigpe2UuZygpfSkpfXRoaXMuYS5wdXNoKHQpfTt2YXIgbz1yLnNldFRpbWVvdXQ7bi5wcm90b3R5cGUuYz1mdW5jdGlvbih0KXtvKHQsMCl9LG4ucHJvdG90eXBlLmc9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuYSYmdGhpcy5hLmxlbmd0aDspe3ZhciB0PXRoaXMuYTt0aGlzLmE9W107Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDsrK2Upe3ZhciBuPXRbZV07dFtlXT1udWxsO3RyeXtuKCl9Y2F0Y2goaSl7dGhpcy5mKGkpfX19dGhpcy5hPW51bGx9LG4ucHJvdG90eXBlLmY9ZnVuY3Rpb24odCl7dGhpcy5jKChmdW5jdGlvbigpe3Rocm93IHR9KSl9LGUucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybiBmdW5jdGlvbihpKXtufHwobj0hMCx0LmNhbGwoZSxpKSl9fXZhciBlPXRoaXMsbj0hMTtyZXR1cm57cmVzb2x2ZTp0KHRoaXMubSkscmVqZWN0OnQodGhpcy5nKX19LGUucHJvdG90eXBlLm09ZnVuY3Rpb24odCl7aWYodD09PXRoaXMpdGhpcy5nKG5ldyBUeXBlRXJyb3IoIkEgUHJvbWlzZSBjYW5ub3QgcmVzb2x2ZSB0byBpdHNlbGYiKSk7ZWxzZSBpZih0IGluc3RhbmNlb2YgZSl0aGlzLm8odCk7ZWxzZXt0OnN3aXRjaCh0eXBlb2YgdCl7Y2FzZSJvYmplY3QiOnZhciBuPW51bGwhPXQ7YnJlYWsgdDtjYXNlImZ1bmN0aW9uIjpuPSEwO2JyZWFrIHQ7ZGVmYXVsdDpuPSExfW4/dGhpcy51KHQpOnRoaXMuaCh0KX19LGUucHJvdG90eXBlLnU9ZnVuY3Rpb24odCl7dmFyIGU9dm9pZCAwO3RyeXtlPXQudGhlbn1jYXRjaChuKXtyZXR1cm4gdm9pZCB0aGlzLmcobil9ImZ1bmN0aW9uIj09dHlwZW9mIGU/dGhpcy52KGUsdCk6dGhpcy5oKHQpfSxlLnByb3RvdHlwZS5nPWZ1bmN0aW9uKHQpe3RoaXMuaSgyLHQpfSxlLnByb3RvdHlwZS5oPWZ1bmN0aW9uKHQpe3RoaXMuaSgxLHQpfSxlLnByb3RvdHlwZS5pPWZ1bmN0aW9uKHQsZSl7aWYoMCE9dGhpcy5iKXRocm93IEVycm9yKCJDYW5ub3Qgc2V0dGxlKCIrdCsiLCAiK2UrIik6IFByb21pc2UgYWxyZWFkeSBzZXR0bGVkIGluIHN0YXRlIit0aGlzLmIpO3RoaXMuYj10LHRoaXMuYz1lLHRoaXMubCgpfSxlLnByb3RvdHlwZS5sPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5hKXtmb3IodmFyIHQ9MDt0PHRoaXMuYS5sZW5ndGg7Kyt0KXMuYih0aGlzLmFbdF0pO3RoaXMuYT1udWxsfX07dmFyIHM9bmV3IG47cmV0dXJuIGUucHJvdG90eXBlLm89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5mKCk7dC5MYShlLnJlc29sdmUsZS5yZWplY3QpfSxlLnByb3RvdHlwZS52PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5mKCk7dHJ5e3QuY2FsbChlLG4ucmVzb2x2ZSxuLnJlamVjdCl9Y2F0Y2goaSl7bi5yZWplY3QoaSl9fSxlLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gaSh0LGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0P2Z1bmN0aW9uKGUpe3RyeXtyKHQoZSkpfWNhdGNoKG4pe28obil9fTplfXZhciByLG8sYT1uZXcgZSgoZnVuY3Rpb24odCxlKXtyPXQsbz1lfSkpO3JldHVybiB0aGlzLkxhKGkodCxyKSxpKG4sbykpLGF9LGUucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfSxlLnByb3RvdHlwZS5MYT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXtzd2l0Y2goaS5iKXtjYXNlIDE6dChpLmMpO2JyZWFrO2Nhc2UgMjplKGkuYyk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiVW5leHBlY3RlZCBzdGF0ZTogIitpLmIpfX12YXIgaT10aGlzO251bGw9PXRoaXMuYT9zLmIobik6dGhpcy5hLnB1c2gobil9LGUucmVzb2x2ZT1pLGUucmVqZWN0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSgoZnVuY3Rpb24oZSxuKXtuKHQpfSkpfSxlLnJhY2U9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKChmdW5jdGlvbihlLG4pe2Zvcih2YXIgcj1hKHQpLG89ci5uZXh0KCk7IW8uZG9uZTtvPXIubmV4dCgpKWkoby52YWx1ZSkuTGEoZSxuKX0pKX0sZS5hbGw9ZnVuY3Rpb24odCl7dmFyIG49YSh0KSxyPW4ubmV4dCgpO3JldHVybiByLmRvbmU/aShbXSk6bmV3IGUoKGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZnVuY3Rpb24obil7YVtlXT1uLDA9PS0tcyYmdChhKX19dmFyIGE9W10scz0wO2Rve2EucHVzaCh2b2lkIDApLHMrKyxpKHIudmFsdWUpLkxhKG8oYS5sZW5ndGgtMSksZSkscj1uLm5leHQoKX13aGlsZSghci5kb25lKX0pKX0sZX0pKTt2YXIgcz1zfHx7fSx1PXRoaXN8fHNlbGY7ZnVuY3Rpb24gYyh0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHR9ZnVuY3Rpb24gaCh0KXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiB0fXZhciBmPS9eW1x3Ky9fLV0rWz1dezAsMn0kLyxsPW51bGw7ZnVuY3Rpb24gZCgpe31mdW5jdGlvbiBwKHQpe3ZhciBlPXR5cGVvZiB0O2lmKCJvYmplY3QiPT1lKXtpZighdClyZXR1cm4ibnVsbCI7aWYodCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiJhcnJheSI7aWYodCBpbnN0YW5jZW9mIE9iamVjdClyZXR1cm4gZTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk7aWYoIltvYmplY3QgV2luZG93XSI9PW4pcmV0dXJuIm9iamVjdCI7aWYoIltvYmplY3QgQXJyYXldIj09bnx8Im51bWJlciI9PXR5cGVvZiB0Lmxlbmd0aCYmInVuZGVmaW5lZCIhPXR5cGVvZiB0LnNwbGljZSYmInVuZGVmaW5lZCIhPXR5cGVvZiB0LnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhdC5wcm9wZXJ0eUlzRW51bWVyYWJsZSgic3BsaWNlIikpcmV0dXJuImFycmF5IjtpZigiW29iamVjdCBGdW5jdGlvbl0iPT1ufHwidW5kZWZpbmVkIiE9dHlwZW9mIHQuY2FsbCYmInVuZGVmaW5lZCIhPXR5cGVvZiB0LnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhdC5wcm9wZXJ0eUlzRW51bWVyYWJsZSgiY2FsbCIpKXJldHVybiJmdW5jdGlvbiJ9ZWxzZSBpZigiZnVuY3Rpb24iPT1lJiYidW5kZWZpbmVkIj09dHlwZW9mIHQuY2FsbClyZXR1cm4ib2JqZWN0IjtyZXR1cm4gZX1mdW5jdGlvbiB2KHQpe3JldHVybiBudWxsPT09dH1mdW5jdGlvbiBtKHQpe3JldHVybiJhcnJheSI9PXAodCl9ZnVuY3Rpb24gZyh0KXt2YXIgZT1wKHQpO3JldHVybiJhcnJheSI9PWV8fCJvYmplY3QiPT1lJiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RofWZ1bmN0aW9uIGIodCl7cmV0dXJuImZ1bmN0aW9uIj09cCh0KX1mdW5jdGlvbiB5KHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybiJvYmplY3QiPT1lJiZudWxsIT10fHwiZnVuY3Rpb24iPT1lfXZhciB3PSJjbG9zdXJlX3VpZF8iKygxZTkqTWF0aC5yYW5kb20oKT4+PjApLEk9MDtmdW5jdGlvbiBUKHQsZSxuKXtyZXR1cm4gdC5jYWxsLmFwcGx5KHQuYmluZCxhcmd1bWVudHMpfWZ1bmN0aW9uIEUodCxlLG4pe2lmKCF0KXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkobixpKSx0LmFwcGx5KGUsbil9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19ZnVuY3Rpb24gayh0LGUsbil7cmV0dXJuKGs9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJi0xIT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoIm5hdGl2ZSBjb2RlIik/VDpFKS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gQSh0LGUpe3ZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1uLnNsaWNlKCk7cmV0dXJuIGUucHVzaC5hcHBseShlLGFyZ3VtZW50cyksdC5hcHBseSh0aGlzLGUpfX12YXIgUz1EYXRlLm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4rbmV3IERhdGV9O2Z1bmN0aW9uIE4odCxlKXtmdW5jdGlvbiBuKCl7fW4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucWI9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dH1mdW5jdGlvbiBPKHQpe2lmKCF0KXJldHVybiExO3RyeXtyZXR1cm4hIXQuJGdvb2dfVGhlbmFibGV9Y2F0Y2goZSl7cmV0dXJuITF9fWZ1bmN0aW9uIF8odCl7aWYoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxfKTtlbHNle3ZhciBlPUVycm9yKCkuc3RhY2s7ZSYmKHRoaXMuc3RhY2s9ZSl9dCYmKHRoaXMubWVzc2FnZT1TdHJpbmcodCkpfWZ1bmN0aW9uIFAodCxlKXtmb3IodmFyIG49IiIsaT0odD10LnNwbGl0KCIlcyIpKS5sZW5ndGgtMSxyPTA7cjxpO3IrKyluKz10W3JdKyhyPGUubGVuZ3RoP2Vbcl06IiVzIik7Xy5jYWxsKHRoaXMsbit0W2ldKX1mdW5jdGlvbiBSKHQsZSl7dGhyb3cgbmV3IFAoIkZhaWx1cmUiKyh0PyI6ICIrdDoiIiksQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKX1mdW5jdGlvbiBDKHQsZSl7dGhpcy5jPXQsdGhpcy5mPWUsdGhpcy5iPTAsdGhpcy5hPW51bGx9ZnVuY3Rpb24gRCh0LGUpe3QuZihlKSwxMDA+dC5iJiYodC5iKyssZS5uZXh0PXQuYSx0LmE9ZSl9ZnVuY3Rpb24gTCgpe3RoaXMuYj10aGlzLmE9bnVsbH1OKF8sRXJyb3IpLF8ucHJvdG90eXBlLm5hbWU9IkN1c3RvbUVycm9yIixOKFAsXyksUC5wcm90b3R5cGUubmFtZT0iQXNzZXJ0aW9uRXJyb3IiLEMucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe2lmKDA8dGhpcy5iKXt0aGlzLmItLTt2YXIgdD10aGlzLmE7dGhpcy5hPXQubmV4dCx0Lm5leHQ9bnVsbH1lbHNlIHQ9dGhpcy5jKCk7cmV0dXJuIHR9O3ZhciB4PW5ldyBDKChmdW5jdGlvbigpe3JldHVybiBuZXcgan0pLChmdW5jdGlvbih0KXt0LnJlc2V0KCl9KSk7ZnVuY3Rpb24gTSgpe3ZhciB0PUJ0LGU9bnVsbDtyZXR1cm4gdC5hJiYoZT10LmEsdC5hPXQuYS5uZXh0LHQuYXx8KHQuYj1udWxsKSxlLm5leHQ9bnVsbCksZX1mdW5jdGlvbiBqKCl7dGhpcy5uZXh0PXRoaXMuYj10aGlzLmE9bnVsbH1mdW5jdGlvbiBVKHQsZSl7dDp7dHJ5e3ZhciBuPXQmJnQub3duZXJEb2N1bWVudCxpPW4mJihuLmRlZmF1bHRWaWV3fHxuLnBhcmVudFdpbmRvdyk7aWYoKGk9aXx8dSkuRWxlbWVudCYmaS5Mb2NhdGlvbil7dmFyIHI9aTticmVhayB0fX1jYXRjaChhKXt9cj1udWxsfWlmKHImJiJ1bmRlZmluZWQiIT10eXBlb2YgcltlXSYmKCF0fHwhKHQgaW5zdGFuY2VvZiByW2VdKSYmKHQgaW5zdGFuY2VvZiByLkxvY2F0aW9ufHx0IGluc3RhbmNlb2Ygci5FbGVtZW50KSkpe2lmKHkodCkpdHJ5e3ZhciBvPXQuY29uc3RydWN0b3IuZGlzcGxheU5hbWV8fHQuY29uc3RydWN0b3IubmFtZXx8T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfWNhdGNoKGEpe289IjxvYmplY3QgY291bGQgbm90IGJlIHN0cmluZ2lmaWVkPiJ9ZWxzZSBvPXZvaWQgMD09PXQ/InVuZGVmaW5lZCI6bnVsbD09PXQ/Im51bGwiOnR5cGVvZiB0O1IoIkFyZ3VtZW50IGlzIG5vdCBhICVzIChvciBhIG5vbi1FbGVtZW50LCBub24tTG9jYXRpb24gbW9jayk7IGdvdDogJXMiLGUsbyl9fUwucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUpe3ZhciBuPXguZ2V0KCk7bi5zZXQodCxlKSx0aGlzLmI/dGhpcy5iLm5leHQ9bjp0aGlzLmE9bix0aGlzLmI9bn0sai5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5hPXQsdGhpcy5iPWUsdGhpcy5uZXh0PW51bGx9LGoucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuYj10aGlzLmE9bnVsbH07dmFyIFY9QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/ZnVuY3Rpb24odCxlKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0LGUsdm9pZCAwKX06ZnVuY3Rpb24odCxlKXtpZihjKHQpKXJldHVybiBjKGUpJiYxPT1lLmxlbmd0aD90LmluZGV4T2YoZSwwKTotMTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZihuIGluIHQmJnRbbl09PT1lKXJldHVybiBuO3JldHVybi0xfSxGPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKHQsZSxuKXtBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHQsZSxuKX06ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10Lmxlbmd0aCxyPWModCk/dC5zcGxpdCgiIik6dCxvPTA7bzxpO28rKylvIGluIHImJmUuY2FsbChuLHJbb10sbyx0KX07dmFyIEs9QXJyYXkucHJvdG90eXBlLm1hcD9mdW5jdGlvbih0LGUpe3JldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwodCxlLHZvaWQgMCl9OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLGk9QXJyYXkobikscj1jKHQpP3Quc3BsaXQoIiIpOnQsbz0wO288bjtvKyspbyBpbiByJiYoaVtvXT1lLmNhbGwodm9pZCAwLHJbb10sbyx0KSk7cmV0dXJuIGl9LHE9QXJyYXkucHJvdG90eXBlLnNvbWU/ZnVuY3Rpb24odCxlKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbCh0LGUsdm9pZCAwKX06ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5sZW5ndGgsaT1jKHQpP3Quc3BsaXQoIiIpOnQscj0wO3I8bjtyKyspaWYociBpbiBpJiZlLmNhbGwodm9pZCAwLGlbcl0scix0KSlyZXR1cm4hMDtyZXR1cm4hMX07ZnVuY3Rpb24gSCh0LGUpe3JldHVybiAwPD1WKHQsZSl9ZnVuY3Rpb24gQih0LGUpe3ZhciBuO3JldHVybihuPTA8PShlPVYodCxlKSkpJiZBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwodCxlLDEpLG59ZnVuY3Rpb24gRyh0LGUpeyFmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1jKHQpP3Quc3BsaXQoIiIpOnQsaT10Lmxlbmd0aC0xOzA8PWk7LS1pKWkgaW4gbiYmZS5jYWxsKHZvaWQgMCxuW2ldLGksdCl9KHQsKGZ1bmN0aW9uKG4saSl7ZS5jYWxsKHZvaWQgMCxuLGksdCkmJjE9PUFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbCh0LGksMSkubGVuZ3RoJiYwfSkpfWZ1bmN0aW9uIFcodCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sYXJndW1lbnRzKX1mdW5jdGlvbiBYKHQpe3ZhciBlPXQubGVuZ3RoO2lmKDA8ZSl7Zm9yKHZhciBuPUFycmF5KGUpLGk9MDtpPGU7aSsrKW5baV09dFtpXTtyZXR1cm4gbn1yZXR1cm5bXX1mdW5jdGlvbiBKKHQsZSl7Zm9yKHZhciBuIGluIHQpZS5jYWxsKHZvaWQgMCx0W25dLG4sdCl9ZnVuY3Rpb24gWSh0KXtmb3IodmFyIGUgaW4gdClyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB6KHQpe3ZhciBlLG49e307Zm9yKGUgaW4gdCluW2VdPXRbZV07cmV0dXJuIG59dmFyICQ9ImNvbnN0cnVjdG9yIGhhc093blByb3BlcnR5IGlzUHJvdG90eXBlT2YgcHJvcGVydHlJc0VudW1lcmFibGUgdG9Mb2NhbGVTdHJpbmcgdG9TdHJpbmcgdmFsdWVPZiIuc3BsaXQoIiAiKTtmdW5jdGlvbiBaKHQsZSl7Zm9yKHZhciBuLGkscj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe2ZvcihuIGluIGk9YXJndW1lbnRzW3JdKXRbbl09aVtuXTtmb3IodmFyIG89MDtvPCQubGVuZ3RoO28rKyluPSRbb10sT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksbikmJih0W25dPWlbbl0pfX1mdW5jdGlvbiBRKHQsZSl7dGhpcy5hPXQ9PT1udCYmZXx8IiIsdGhpcy5iPWV0fWZ1bmN0aW9uIHR0KHQpe3JldHVybiB0IGluc3RhbmNlb2YgUSYmdC5jb25zdHJ1Y3Rvcj09PVEmJnQuYj09PWV0P3QuYTooUigiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgQ29uc3QsIGdvdCAnIit0KyInIiksInR5cGVfZXJyb3I6Q29uc3QiKX1RLnByb3RvdHlwZS5xYT0hMCxRLnByb3RvdHlwZS5wYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9LFEucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIkNvbnN0eyIrdGhpcy5hKyJ9In07dmFyIGV0PXt9LG50PXt9LGl0PW5ldyBRKG50LCIiKTtmdW5jdGlvbiBydCgpe3RoaXMuYT0iIix0aGlzLmI9Y3R9ZnVuY3Rpb24gb3QodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBydCYmdC5jb25zdHJ1Y3Rvcj09PXJ0JiZ0LmI9PT1jdD90LmE6KFIoImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIFRydXN0ZWRSZXNvdXJjZVVybCwgZ290ICciK3QrIicgb2YgdHlwZSAiK3AodCkpLCJ0eXBlX2Vycm9yOlRydXN0ZWRSZXNvdXJjZVVybCIpfWZ1bmN0aW9uIGF0KHQsZSl7dmFyIG49dHQodCk7aWYoIXV0LnRlc3QobikpdGhyb3cgRXJyb3IoIkludmFsaWQgVHJ1c3RlZFJlc291cmNlVXJsIGZvcm1hdDogIituKTtyZXR1cm4gaHQodD1uLnJlcGxhY2Uoc3QsKGZ1bmN0aW9uKHQsaSl7aWYoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpKXRocm93IEVycm9yKCdGb3VuZCBtYXJrZXIsICInK2krJyIsIGluIGZvcm1hdCBzdHJpbmcsICInK24rJyIsIGJ1dCBubyB2YWxpZCBsYWJlbCBtYXBwaW5nIGZvdW5kIGluIGFyZ3M6ICcrSlNPTi5zdHJpbmdpZnkoZSkpO3JldHVybih0PWVbaV0paW5zdGFuY2VvZiBRP3R0KHQpOmVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcodCkpfSkpKX1ydC5wcm90b3R5cGUucWE9ITAscnQucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS50b1N0cmluZygpfSxydC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iVHJ1c3RlZFJlc291cmNlVXJseyIrdGhpcy5hKyJ9In07dmFyIHN0PS8leyhcdyspfS9nLHV0PS9eKChodHRwczopP1wvXC9bMC05YS16LjpbXF0tXStcL3xcL1teL1xcXXxbXjovXFwlXStcL3xbXjovXFwlXSpbPyNdfGFib3V0OmJsYW5rIykvaSxjdD17fTtmdW5jdGlvbiBodCh0KXt2YXIgZT1uZXcgcnQ7cmV0dXJuIGUuYT10LGV9dmFyIGZ0PVN0cmluZy5wcm90b3R5cGUudHJpbT9mdW5jdGlvbih0KXtyZXR1cm4gdC50cmltKCl9OmZ1bmN0aW9uKHQpe3JldHVybi9eW1xzXHhhMF0qKFtcc1xTXSo/KVtcc1x4YTBdKiQvLmV4ZWModClbMV19LGx0PS8mL2csZHQ9LzwvZyxwdD0vPi9nLHZ0PS8iL2csbXQ9LycvZyxndD0vXHgwMC9nLGJ0PS9bXHgwMCY8PiInXS87ZnVuY3Rpb24geXQodCxlKXtyZXR1cm4tMSE9dC5pbmRleE9mKGUpfWZ1bmN0aW9uIHd0KHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTowfWZ1bmN0aW9uIEl0KCl7dGhpcy5hPSIiLHRoaXMuYj1TdH1mdW5jdGlvbiBUdCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEl0JiZ0LmNvbnN0cnVjdG9yPT09SXQmJnQuYj09PVN0P3QuYTooUigiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgU2FmZVVybCwgZ290ICciK3QrIicgb2YgdHlwZSAiK3AodCkpLCJ0eXBlX2Vycm9yOlNhZmVVcmwiKX1JdC5wcm90b3R5cGUucWE9ITAsSXQucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS50b1N0cmluZygpfSxJdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iU2FmZVVybHsiK3RoaXMuYSsifSJ9O3ZhciBFdD0vXig/Oig/Omh0dHBzP3xtYWlsdG98ZnRwKTp8W146Lz8jXSooPzpbLz8jXXwkKSkvaTtmdW5jdGlvbiBrdCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEl0P3Q6KHQ9Im9iamVjdCI9PXR5cGVvZiB0JiZ0LnFhP3QucGEoKTpTdHJpbmcodCksRXQudGVzdCh0KXx8KHQ9ImFib3V0OmludmFsaWQjekNsb3N1cmV6IiksTnQodCkpfXZhciBBdCxTdD17fTtmdW5jdGlvbiBOdCh0KXt2YXIgZT1uZXcgSXQ7cmV0dXJuIGUuYT10LGV9TnQoImFib3V0OmJsYW5rIik7dDp7dmFyIE90PXUubmF2aWdhdG9yO2lmKE90KXt2YXIgX3Q9T3QudXNlckFnZW50O2lmKF90KXtBdD1fdDticmVhayB0fX1BdD0iIn1mdW5jdGlvbiBQdCh0KXtyZXR1cm4geXQoQXQsdCl9ZnVuY3Rpb24gUnQoKXt0aGlzLmE9IiIsdGhpcy5iPUR0fWZ1bmN0aW9uIEN0KHQpe3JldHVybiB0IGluc3RhbmNlb2YgUnQmJnQuY29uc3RydWN0b3I9PT1SdCYmdC5iPT09RHQ/dC5hOihSKCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBTYWZlSHRtbCwgZ290ICciK3QrIicgb2YgdHlwZSAiK3AodCkpLCJ0eXBlX2Vycm9yOlNhZmVIdG1sIil9UnQucHJvdG90eXBlLnFhPSEwLFJ0LnByb3RvdHlwZS5wYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEudG9TdHJpbmcoKX0sUnQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIlNhZmVIdG1seyIrdGhpcy5hKyJ9In07dmFyIER0PXt9O2Z1bmN0aW9uIEx0KHQpe3ZhciBlPW5ldyBSdDtyZXR1cm4gZS5hPXQsZX1MdCgiPCFET0NUWVBFIGh0bWw+Iik7dmFyIHh0LE10LGp0PUx0KCIiKTtmdW5jdGlvbiBVdCh0LGUpe2Zvcih2YXIgbj10LnNwbGl0KCIlcyIpLGk9IiIscj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7ci5sZW5ndGgmJjE8bi5sZW5ndGg7KWkrPW4uc2hpZnQoKStyLnNoaWZ0KCk7cmV0dXJuIGkrbi5qb2luKCIlcyIpfWZ1bmN0aW9uIFZ0KHQpe3JldHVybiBidC50ZXN0KHQpJiYoLTEhPXQuaW5kZXhPZigiJiIpJiYodD10LnJlcGxhY2UobHQsIiZhbXA7IikpLC0xIT10LmluZGV4T2YoIjwiKSYmKHQ9dC5yZXBsYWNlKGR0LCImbHQ7IikpLC0xIT10LmluZGV4T2YoIj4iKSYmKHQ9dC5yZXBsYWNlKHB0LCImZ3Q7IikpLC0xIT10LmluZGV4T2YoJyInKSYmKHQ9dC5yZXBsYWNlKHZ0LCImcXVvdDsiKSksLTEhPXQuaW5kZXhPZigiJyIpJiYodD10LnJlcGxhY2UobXQsIiYjMzk7IikpLC0xIT10LmluZGV4T2YoIlwwIikmJih0PXQucmVwbGFjZShndCwiJiMwOyIpKSksdH1mdW5jdGlvbiBGdCh0KXt1LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dGhyb3cgdH0pLDApfWZ1bmN0aW9uIEt0KCl7dmFyIHQ9dS5NZXNzYWdlQ2hhbm5lbDtpZigidW5kZWZpbmVkIj09PXR5cGVvZiB0JiYidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5wb3N0TWVzc2FnZSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXImJiFQdCgiUHJlc3RvIikmJih0PWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiSUZSQU1FIik7dC5zdHlsZS5kaXNwbGF5PSJub25lIixmdW5jdGlvbih0KXt2YXIgZT1odCh0dChpdCkpO1UodCwiSFRNTElGcmFtZUVsZW1lbnQiKSx0LnNyYz1vdChlKS50b1N0cmluZygpfSh0KSxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodCk7dmFyIGU9dC5jb250ZW50V2luZG93Oyh0PWUuZG9jdW1lbnQpLm9wZW4oKSx0LndyaXRlKEN0KGp0KSksdC5jbG9zZSgpO3ZhciBuPSJjYWxsSW1tZWRpYXRlIitNYXRoLnJhbmRvbSgpLGk9ImZpbGU6Ij09ZS5sb2NhdGlvbi5wcm90b2NvbD8iKiI6ZS5sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2UubG9jYXRpb24uaG9zdDt0PWsoKGZ1bmN0aW9uKHQpeyIqIiE9aSYmdC5vcmlnaW4hPWl8fHQuZGF0YSE9bnx8dGhpcy5wb3J0MS5vbm1lc3NhZ2UoKX0pLHRoaXMpLGUuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsdCwhMSksdGhpcy5wb3J0MT17fSx0aGlzLnBvcnQyPXtwb3N0TWVzc2FnZTpmdW5jdGlvbigpe2UucG9zdE1lc3NhZ2UobixpKX19fSksInVuZGVmaW5lZCIhPT10eXBlb2YgdCYmIVB0KCJUcmlkZW50IikmJiFQdCgiTVNJRSIpKXt2YXIgZT1uZXcgdCxuPXt9LGk9bjtyZXR1cm4gZS5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT1uLm5leHQpe3ZhciB0PShuPW4ubmV4dCkueWI7bi55Yj1udWxsLHQoKX19LGZ1bmN0aW9uKHQpe2kubmV4dD17eWI6dH0saT1pLm5leHQsZS5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19cmV0dXJuInVuZGVmaW5lZCIhPT10eXBlb2YgZG9jdW1lbnQmJiJvbnJlYWR5c3RhdGVjaGFuZ2UiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiU0NSSVBUIik/ZnVuY3Rpb24odCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiU0NSSVBUIik7ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtlLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxlPW51bGwsdCgpLHQ9bnVsbH0sZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGUpfTpmdW5jdGlvbih0KXt1LnNldFRpbWVvdXQodCwwKX19ZnVuY3Rpb24gcXQodCxlKXtNdHx8ZnVuY3Rpb24oKXtpZih1LlByb21pc2UmJnUuUHJvbWlzZS5yZXNvbHZlKXt2YXIgdD11LlByb21pc2UucmVzb2x2ZSh2b2lkIDApO010PWZ1bmN0aW9uKCl7dC50aGVuKEd0KX19ZWxzZSBNdD1mdW5jdGlvbigpe3ZhciB0PUd0OyFiKHUuc2V0SW1tZWRpYXRlKXx8dS5XaW5kb3cmJnUuV2luZG93LnByb3RvdHlwZSYmIVB0KCJFZGdlIikmJnUuV2luZG93LnByb3RvdHlwZS5zZXRJbW1lZGlhdGU9PXUuc2V0SW1tZWRpYXRlPyh4dHx8KHh0PUt0KCkpLHh0KHQpKTp1LnNldEltbWVkaWF0ZSh0KX19KCksSHR8fChNdCgpLEh0PSEwKSxCdC5hZGQodCxlKX1MdCgiPGJyPiIpO3ZhciBIdD0hMSxCdD1uZXcgTDtmdW5jdGlvbiBHdCgpe2Zvcih2YXIgdDt0PU0oKTspe3RyeXt0LmEuY2FsbCh0LmIpfWNhdGNoKGUpe0Z0KGUpfUQoeCx0KX1IdD0hMX1mdW5jdGlvbiBXdCh0LGUpe2lmKHRoaXMuYT1YdCx0aGlzLmk9dm9pZCAwLHRoaXMuZj10aGlzLmI9dGhpcy5jPW51bGwsdGhpcy5nPXRoaXMuaD0hMSx0IT1kKXRyeXt2YXIgbj10aGlzO3QuY2FsbChlLChmdW5jdGlvbih0KXtvZShuLEp0LHQpfSksKGZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIGxlKSl0cnl7aWYodCBpbnN0YW5jZW9mIEVycm9yKXRocm93IHQ7dGhyb3cgRXJyb3IoIlByb21pc2UgcmVqZWN0ZWQuIil9Y2F0Y2goZSl7fW9lKG4sWXQsdCl9KSl9Y2F0Y2goaSl7b2UodGhpcyxZdCxpKX19dmFyIFh0PTAsSnQ9MixZdD0zO2Z1bmN0aW9uIHp0KCl7dGhpcy5uZXh0PXRoaXMuZj10aGlzLmI9dGhpcy5nPXRoaXMuYT1udWxsLHRoaXMuYz0hMX16dC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmY9dGhpcy5iPXRoaXMuZz10aGlzLmE9bnVsbCx0aGlzLmM9ITF9O3ZhciAkdD1uZXcgQygoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHp0fSksKGZ1bmN0aW9uKHQpe3QucmVzZXQoKX0pKTtmdW5jdGlvbiBadCh0LGUsbil7dmFyIGk9JHQuZ2V0KCk7cmV0dXJuIGkuZz10LGkuYj1lLGkuZj1uLGl9ZnVuY3Rpb24gUXQodCl7aWYodCBpbnN0YW5jZW9mIFd0KXJldHVybiB0O3ZhciBlPW5ldyBXdChkKTtyZXR1cm4gb2UoZSxKdCx0KSxlfWZ1bmN0aW9uIHRlKHQpe3JldHVybiBuZXcgV3QoKGZ1bmN0aW9uKGUsbil7bih0KX0pKX1mdW5jdGlvbiBlZSh0LGUsbil7YWUodCxlLG4sbnVsbCl8fHF0KEEoZSx0KSl9ZnVuY3Rpb24gbmUodCl7cmV0dXJuIG5ldyBXdCgoZnVuY3Rpb24oZSl7dmFyIG49dC5sZW5ndGgsaT1bXTtpZihuKWZvcih2YXIgcj1mdW5jdGlvbih0LHIsbyl7bi0tLGlbdF09cj97R2I6ITAsdmFsdWU6b306e0diOiExLHJlYXNvbjpvfSwwPT1uJiZlKGkpfSxvPTA7bzx0Lmxlbmd0aDtvKyspZWUodFtvXSxBKHIsbywhMCksQShyLG8sITEpKTtlbHNlIGUoaSl9KSl9ZnVuY3Rpb24gaWUodCxlKXt0LmJ8fHQuYSE9SnQmJnQuYSE9WXR8fHNlKHQpLHQuZj90LmYubmV4dD1lOnQuYj1lLHQuZj1lfWZ1bmN0aW9uIHJlKHQsZSxuLGkpe3ZhciByPVp0KG51bGwsbnVsbCxudWxsKTtyZXR1cm4gci5hPW5ldyBXdCgoZnVuY3Rpb24odCxvKXtyLmc9ZT9mdW5jdGlvbihuKXt0cnl7dmFyIHI9ZS5jYWxsKGksbik7dChyKX1jYXRjaChhKXtvKGEpfX06dCxyLmI9bj9mdW5jdGlvbihlKXt0cnl7dmFyIHI9bi5jYWxsKGksZSk7dm9pZCAwPT09ciYmZSBpbnN0YW5jZW9mIGxlP28oZSk6dChyKX1jYXRjaChhKXtvKGEpfX06b30pKSxyLmEuYz10LGllKHQsciksci5hfWZ1bmN0aW9uIG9lKHQsZSxuKXt0LmE9PVh0JiYodD09PW4mJihlPVl0LG49bmV3IFR5cGVFcnJvcigiUHJvbWlzZSBjYW5ub3QgcmVzb2x2ZSB0byBpdHNlbGYiKSksdC5hPTEsYWUobix0Lk9jLHQuUGMsdCl8fCh0Lmk9bix0LmE9ZSx0LmM9bnVsbCxzZSh0KSxlIT1ZdHx8biBpbnN0YW5jZW9mIGxlfHxmdW5jdGlvbih0LGUpe3QuZz0hMCxxdCgoZnVuY3Rpb24oKXt0LmcmJmZlLmNhbGwobnVsbCxlKX0pKX0odCxuKSkpfWZ1bmN0aW9uIGFlKHQsZSxuLGkpe2lmKHQgaW5zdGFuY2VvZiBXdClyZXR1cm4gaWUodCxadChlfHxkLG58fG51bGwsaSkpLCEwO2lmKE8odCkpcmV0dXJuIHQudGhlbihlLG4saSksITA7aWYoeSh0KSl0cnl7dmFyIHI9dC50aGVuO2lmKGIocikpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuLGkscil7ZnVuY3Rpb24gbyh0KXthfHwoYT0hMCxpLmNhbGwocix0KSl9dmFyIGE9ITE7dHJ5e2UuY2FsbCh0LChmdW5jdGlvbih0KXthfHwoYT0hMCxuLmNhbGwocix0KSl9KSxvKX1jYXRjaChzKXtvKHMpfX0odCxyLGUsbixpKSwhMH1jYXRjaChvKXtyZXR1cm4gbi5jYWxsKGksbyksITB9cmV0dXJuITF9ZnVuY3Rpb24gc2UodCl7dC5ofHwodC5oPSEwLHF0KHQuWmIsdCkpfWZ1bmN0aW9uIHVlKHQpe3ZhciBlPW51bGw7cmV0dXJuIHQuYiYmKGU9dC5iLHQuYj1lLm5leHQsZS5uZXh0PW51bGwpLHQuYnx8KHQuZj1udWxsKSxlfWZ1bmN0aW9uIGNlKHQsZSxuLGkpe2lmKG49PVl0JiZlLmImJiFlLmMpZm9yKDt0JiZ0Lmc7dD10LmMpdC5nPSExO2lmKGUuYSllLmEuYz1udWxsLGhlKGUsbixpKTtlbHNlIHRyeXtlLmM/ZS5nLmNhbGwoZS5mKTpoZShlLG4saSl9Y2F0Y2gocil7ZmUuY2FsbChudWxsLHIpfUQoJHQsZSl9ZnVuY3Rpb24gaGUodCxlLG4pe2U9PUp0P3QuZy5jYWxsKHQuZixuKTp0LmImJnQuYi5jYWxsKHQuZixuKX1XdC5wcm90b3R5cGUudGhlbj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHJlKHRoaXMsYih0KT90Om51bGwsYihlKT9lOm51bGwsbil9LFd0LnByb3RvdHlwZS4kZ29vZ19UaGVuYWJsZT0hMCwoZT1XdC5wcm90b3R5cGUpLmthPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKHQ9WnQodCx0LGUpKS5jPSEwLGllKHRoaXMsdCksdGhpc30sZS5zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHJlKHRoaXMsbnVsbCx0LGUpfSxlLmNhbmNlbD1mdW5jdGlvbih0KXt0aGlzLmE9PVh0JiZxdCgoZnVuY3Rpb24oKXshZnVuY3Rpb24gdChlLG4pe2lmKGUuYT09WHQpaWYoZS5jKXt2YXIgaT1lLmM7aWYoaS5iKXtmb3IodmFyIHI9MCxvPW51bGwsYT1udWxsLHM9aS5iO3MmJihzLmN8fChyKysscy5hPT1lJiYobz1zKSwhKG8mJjE8cikpKTtzPXMubmV4dClvfHwoYT1zKTtvJiYoaS5hPT1YdCYmMT09cj90KGksbik6KGE/KChyPWEpLm5leHQ9PWkuZiYmKGkuZj1yKSxyLm5leHQ9ci5uZXh0Lm5leHQpOnVlKGkpLGNlKGksbyxZdCxuKSkpfWUuYz1udWxsfWVsc2Ugb2UoZSxZdCxuKX0odGhpcyxuZXcgbGUodCkpfSksdGhpcyl9LGUuT2M9ZnVuY3Rpb24odCl7dGhpcy5hPVh0LG9lKHRoaXMsSnQsdCl9LGUuUGM9ZnVuY3Rpb24odCl7dGhpcy5hPVh0LG9lKHRoaXMsWXQsdCl9LGUuWmI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ7dD11ZSh0aGlzKTspY2UodGhpcyx0LHRoaXMuYSx0aGlzLmkpO3RoaXMuaD0hMX07dmFyIGZlPUZ0O2Z1bmN0aW9uIGxlKHQpe18uY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIGRlKCl7MCE9cGUmJih2ZVt0aGlzW3ddfHwodGhpc1t3XT0rK0kpXT10aGlzKSx0aGlzLnZhPXRoaXMudmEsdGhpcy5sYT10aGlzLmxhfU4obGUsXyksbGUucHJvdG90eXBlLm5hbWU9ImNhbmNlbCI7dmFyIHBlPTAsdmU9e307ZnVuY3Rpb24gbWUodCl7aWYoIXQudmEmJih0LnZhPSEwLHQuemEoKSwwIT1wZSkpe3ZhciBlPXRbd118fCh0W3ddPSsrSSk7aWYoMCE9cGUmJnQubGEmJjA8dC5sYS5sZW5ndGgpdGhyb3cgRXJyb3IodCsiIGRpZCBub3QgZW1wdHkgaXRzIG9uRGlzcG9zZUNhbGxiYWNrcyBxdWV1ZS4gVGhpcyBwcm9iYWJseSBtZWFucyBpdCBvdmVycm9kZSBkaXNwb3NlKCkgb3IgZGlzcG9zZUludGVybmFsKCkgd2l0aG91dCBjYWxsaW5nIHRoZSBzdXBlcmNsYXNzJyBtZXRob2QuIik7ZGVsZXRlIHZlW2VdfX1mdW5jdGlvbiBnZSh0KXtyZXR1cm4gZ2VbIiAiXSh0KSx0fWRlLnByb3RvdHlwZS52YT0hMSxkZS5wcm90b3R5cGUuemE9ZnVuY3Rpb24oKXtpZih0aGlzLmxhKWZvcig7dGhpcy5sYS5sZW5ndGg7KXRoaXMubGEuc2hpZnQoKSgpfSxnZVsiICJdPWQ7dmFyIGJlLHllPVB0KCJPcGVyYSIpLHdlPVB0KCJUcmlkZW50Iil8fFB0KCJNU0lFIiksSWU9UHQoIkVkZ2UiKSxUZT1JZXx8d2UsRWU9UHQoIkdlY2tvIikmJiEoeXQoQXQudG9Mb3dlckNhc2UoKSwid2Via2l0IikmJiFQdCgiRWRnZSIpKSYmIShQdCgiVHJpZGVudCIpfHxQdCgiTVNJRSIpKSYmIVB0KCJFZGdlIiksa2U9eXQoQXQudG9Mb3dlckNhc2UoKSwid2Via2l0IikmJiFQdCgiRWRnZSIpO2Z1bmN0aW9uIEFlKCl7dmFyIHQ9dS5kb2N1bWVudDtyZXR1cm4gdD90LmRvY3VtZW50TW9kZTp2b2lkIDB9dDp7dmFyIFNlPSIiLE5lPWZ1bmN0aW9uKCl7dmFyIHQ9QXQ7cmV0dXJuIEVlPy9ydjooW15cKTtdKykoXCl8OykvLmV4ZWModCk6SWU/L0VkZ2VcLyhbXGRcLl0rKS8uZXhlYyh0KTp3ZT8vXGIoPzpNU0lFfHJ2KVs6IF0oW15cKTtdKykoXCl8OykvLmV4ZWModCk6a2U/L1dlYktpdFwvKFxTKykvLmV4ZWModCk6eWU/Lyg/OlZlcnNpb24pWyBcL10/KFxTKykvLmV4ZWModCk6dm9pZCAwfSgpO2lmKE5lJiYoU2U9TmU/TmVbMV06IiIpLHdlKXt2YXIgT2U9QWUoKTtpZihudWxsIT1PZSYmT2U+cGFyc2VGbG9hdChTZSkpe2JlPVN0cmluZyhPZSk7YnJlYWsgdH19YmU9U2V9dmFyIF9lLFBlPXt9O2Z1bmN0aW9uIFJlKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPVBlO3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix0KT9uW3RdOm5bdF09ZSh0KX0odCwoZnVuY3Rpb24oKXtmb3IodmFyIGU9MCxuPWZ0KFN0cmluZyhiZSkpLnNwbGl0KCIuIiksaT1mdChTdHJpbmcodCkpLnNwbGl0KCIuIikscj1NYXRoLm1heChuLmxlbmd0aCxpLmxlbmd0aCksbz0wOzA9PWUmJm88cjtvKyspe3ZhciBhPW5bb118fCIiLHM9aVtvXXx8IiI7ZG97aWYoYT0vKFxkKikoXEQqKSguKikvLmV4ZWMoYSl8fFsiIiwiIiwiIiwiIl0scz0vKFxkKikoXEQqKSguKikvLmV4ZWMocyl8fFsiIiwiIiwiIiwiIl0sMD09YVswXS5sZW5ndGgmJjA9PXNbMF0ubGVuZ3RoKWJyZWFrO2U9d3QoMD09YVsxXS5sZW5ndGg/MDpwYXJzZUludChhWzFdLDEwKSwwPT1zWzFdLmxlbmd0aD8wOnBhcnNlSW50KHNbMV0sMTApKXx8d3QoMD09YVsyXS5sZW5ndGgsMD09c1syXS5sZW5ndGgpfHx3dChhWzJdLHNbMl0pLGE9YVszXSxzPXNbM119d2hpbGUoMD09ZSl9cmV0dXJuIDA8PWV9KSl9X2U9dS5kb2N1bWVudCYmd2U/QWUoKTp2b2lkIDA7dmFyIENlPU9iamVjdC5mcmVlemV8fGZ1bmN0aW9uKHQpe3JldHVybiB0fSxEZT0hd2V8fDk8PU51bWJlcihfZSksTGU9d2UmJiFSZSgiOSIpLHhlPWZ1bmN0aW9uKCl7aWYoIXUuYWRkRXZlbnRMaXN0ZW5lcnx8IU9iamVjdC5kZWZpbmVQcm9wZXJ0eSlyZXR1cm4hMTt2YXIgdD0hMSxlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwicGFzc2l2ZSIse2dldDpmdW5jdGlvbigpe3Q9ITB9fSk7dHJ5e3UuYWRkRXZlbnRMaXN0ZW5lcigidGVzdCIsZCxlKSx1LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRlc3QiLGQsZSl9Y2F0Y2gobil7fXJldHVybiB0fSgpO2Z1bmN0aW9uIE1lKHQsZSl7dGhpcy50eXBlPXQsdGhpcy5iPXRoaXMudGFyZ2V0PWUsdGhpcy5NYj0hMH1mdW5jdGlvbiBqZSh0LGUpe2lmKE1lLmNhbGwodGhpcyx0P3QudHlwZToiIiksdGhpcy5yZWxhdGVkVGFyZ2V0PXRoaXMuYj10aGlzLnRhcmdldD1udWxsLHRoaXMuYnV0dG9uPXRoaXMuc2NyZWVuWT10aGlzLnNjcmVlblg9dGhpcy5jbGllbnRZPXRoaXMuY2xpZW50WD0wLHRoaXMua2V5PSIiLHRoaXMubWV0YUtleT10aGlzLnNoaWZ0S2V5PXRoaXMuYWx0S2V5PXRoaXMuY3RybEtleT0hMSx0aGlzLnBvaW50ZXJJZD0wLHRoaXMucG9pbnRlclR5cGU9IiIsdGhpcy5hPW51bGwsdCl7dmFyIG49dGhpcy50eXBlPXQudHlwZSxpPXQuY2hhbmdlZFRvdWNoZXMmJnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoP3QuY2hhbmdlZFRvdWNoZXNbMF06bnVsbDtpZih0aGlzLnRhcmdldD10LnRhcmdldHx8dC5zcmNFbGVtZW50LHRoaXMuYj1lLGU9dC5yZWxhdGVkVGFyZ2V0KXtpZihFZSl7dDp7dHJ5e2dlKGUubm9kZU5hbWUpO3ZhciByPSEwO2JyZWFrIHR9Y2F0Y2gobyl7fXI9ITF9cnx8KGU9bnVsbCl9fWVsc2UibW91c2VvdmVyIj09bj9lPXQuZnJvbUVsZW1lbnQ6Im1vdXNlb3V0Ij09biYmKGU9dC50b0VsZW1lbnQpO3RoaXMucmVsYXRlZFRhcmdldD1lLGk/KHRoaXMuY2xpZW50WD12b2lkIDAhPT1pLmNsaWVudFg/aS5jbGllbnRYOmkucGFnZVgsdGhpcy5jbGllbnRZPXZvaWQgMCE9PWkuY2xpZW50WT9pLmNsaWVudFk6aS5wYWdlWSx0aGlzLnNjcmVlblg9aS5zY3JlZW5YfHwwLHRoaXMuc2NyZWVuWT1pLnNjcmVlbll8fDApOih0aGlzLmNsaWVudFg9dm9pZCAwIT09dC5jbGllbnRYP3QuY2xpZW50WDp0LnBhZ2VYLHRoaXMuY2xpZW50WT12b2lkIDAhPT10LmNsaWVudFk/dC5jbGllbnRZOnQucGFnZVksdGhpcy5zY3JlZW5YPXQuc2NyZWVuWHx8MCx0aGlzLnNjcmVlblk9dC5zY3JlZW5ZfHwwKSx0aGlzLmJ1dHRvbj10LmJ1dHRvbix0aGlzLmtleT10LmtleXx8IiIsdGhpcy5jdHJsS2V5PXQuY3RybEtleSx0aGlzLmFsdEtleT10LmFsdEtleSx0aGlzLnNoaWZ0S2V5PXQuc2hpZnRLZXksdGhpcy5tZXRhS2V5PXQubWV0YUtleSx0aGlzLnBvaW50ZXJJZD10LnBvaW50ZXJJZHx8MCx0aGlzLnBvaW50ZXJUeXBlPWModC5wb2ludGVyVHlwZSk/dC5wb2ludGVyVHlwZTpVZVt0LnBvaW50ZXJUeXBlXXx8IiIsdGhpcy5hPXQsdC5kZWZhdWx0UHJldmVudGVkJiZ0aGlzLnByZXZlbnREZWZhdWx0KCl9fU1lLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuTWI9ITF9LE4oamUsTWUpO3ZhciBVZT1DZSh7MjoidG91Y2giLDM6InBlbiIsNDoibW91c2UifSk7amUucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7amUucWIucHJldmVudERlZmF1bHQuY2FsbCh0aGlzKTt2YXIgdD10aGlzLmE7aWYodC5wcmV2ZW50RGVmYXVsdCl0LnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZih0LnJldHVyblZhbHVlPSExLExlKXRyeXsodC5jdHJsS2V5fHwxMTI8PXQua2V5Q29kZSYmMTIzPj10LmtleUNvZGUpJiYodC5rZXlDb2RlPS0xKX1jYXRjaChlKXt9fSxqZS5wcm90b3R5cGUuZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O3ZhciBWZT0iY2xvc3VyZV9saXN0ZW5hYmxlXyIrKDFlNipNYXRoLnJhbmRvbSgpfDApLEZlPTA7ZnVuY3Rpb24gS2UodCxlLG4saSxyKXt0aGlzLmxpc3RlbmVyPXQsdGhpcy5wcm94eT1udWxsLHRoaXMuc3JjPWUsdGhpcy50eXBlPW4sdGhpcy5jYXB0dXJlPSEhaSx0aGlzLlBhPXIsdGhpcy5rZXk9KytGZSx0aGlzLnRhPXRoaXMuS2E9ITF9ZnVuY3Rpb24gcWUodCl7dC50YT0hMCx0Lmxpc3RlbmVyPW51bGwsdC5wcm94eT1udWxsLHQuc3JjPW51bGwsdC5QYT1udWxsfWZ1bmN0aW9uIEhlKHQpe3RoaXMuc3JjPXQsdGhpcy5hPXt9LHRoaXMuYj0wfWZ1bmN0aW9uIEJlKHQsZSl7dmFyIG49ZS50eXBlO24gaW4gdC5hJiZCKHQuYVtuXSxlKSYmKHFlKGUpLDA9PXQuYVtuXS5sZW5ndGgmJihkZWxldGUgdC5hW25dLHQuYi0tKSl9ZnVuY3Rpb24gR2UodCxlLG4saSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDsrK3Ipe3ZhciBvPXRbcl07aWYoIW8udGEmJm8ubGlzdGVuZXI9PWUmJm8uY2FwdHVyZT09ISFuJiZvLlBhPT1pKXJldHVybiByfXJldHVybi0xfUhlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz10LnRvU3RyaW5nKCk7KHQ9dGhpcy5hW29dKXx8KHQ9dGhpcy5hW29dPVtdLHRoaXMuYisrKTt2YXIgYT1HZSh0LGUsaSxyKTtyZXR1cm4tMTxhPyhlPXRbYV0sbnx8KGUuS2E9ITEpKTooKGU9bmV3IEtlKGUsdGhpcy5zcmMsbywhIWkscikpLkthPW4sdC5wdXNoKGUpKSxlfTt2YXIgV2U9ImNsb3N1cmVfbG1fIisoMWU2Kk1hdGgucmFuZG9tKCl8MCksWGU9e307ZnVuY3Rpb24gSmUodCxlLG4saSxyKXtpZihpJiZpLm9uY2UpemUodCxlLG4saSxyKTtlbHNlIGlmKG0oZSkpZm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspSmUodCxlW29dLG4saSxyKTtlbHNlIG49YW4obiksdCYmdFtWZV0/dW4odCxlLG4seShpKT8hIWkuY2FwdHVyZTohIWkscik6WWUodCxlLG4sITEsaSxyKX1mdW5jdGlvbiBZZSh0LGUsbixpLHIsbyl7aWYoIWUpdGhyb3cgRXJyb3IoIkludmFsaWQgZXZlbnQgdHlwZSIpO3ZhciBhPXkocik/ISFyLmNhcHR1cmU6ISFyLHM9cm4odCk7aWYoc3x8KHRbV2VdPXM9bmV3IEhlKHQpKSwhKG49cy5hZGQoZSxuLGksYSxvKSkucHJveHkpe2lmKGk9ZnVuY3Rpb24oKXt2YXIgdD1ubixlPURlP2Z1bmN0aW9uKG4pe3JldHVybiB0LmNhbGwoZS5zcmMsZS5saXN0ZW5lcixuKX06ZnVuY3Rpb24obil7aWYoIShuPXQuY2FsbChlLnNyYyxlLmxpc3RlbmVyLG4pKSlyZXR1cm4gbn07cmV0dXJuIGV9KCksbi5wcm94eT1pLGkuc3JjPXQsaS5saXN0ZW5lcj1uLHQuYWRkRXZlbnRMaXN0ZW5lcil4ZXx8KHI9YSksdm9pZCAwPT09ciYmKHI9ITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihlLnRvU3RyaW5nKCksaSxyKTtlbHNlIGlmKHQuYXR0YWNoRXZlbnQpdC5hdHRhY2hFdmVudChRZShlLnRvU3RyaW5nKCkpLGkpO2Vsc2V7aWYoIXQuYWRkTGlzdGVuZXJ8fCF0LnJlbW92ZUxpc3RlbmVyKXRocm93IEVycm9yKCJhZGRFdmVudExpc3RlbmVyIGFuZCBhdHRhY2hFdmVudCBhcmUgdW5hdmFpbGFibGUuIik7dC5hZGRMaXN0ZW5lcihpKX0wfX1mdW5jdGlvbiB6ZSh0LGUsbixpLHIpe2lmKG0oZSkpZm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspemUodCxlW29dLG4saSxyKTtlbHNlIG49YW4obiksdCYmdFtWZV0/Y24odCxlLG4seShpKT8hIWkuY2FwdHVyZTohIWkscik6WWUodCxlLG4sITAsaSxyKX1mdW5jdGlvbiAkZSh0LGUsbixpLHIpe2lmKG0oZSkpZm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspJGUodCxlW29dLG4saSxyKTtlbHNlIGk9eShpKT8hIWkuY2FwdHVyZTohIWksbj1hbihuKSx0JiZ0W1ZlXT8odD10LnUsKGU9U3RyaW5nKGUpLnRvU3RyaW5nKCkpaW4gdC5hJiYoLTE8KG49R2Uobz10LmFbZV0sbixpLHIpKSYmKHFlKG9bbl0pLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChvLG4sMSksMD09by5sZW5ndGgmJihkZWxldGUgdC5hW2VdLHQuYi0tKSkpKTp0JiYodD1ybih0KSkmJihlPXQuYVtlLnRvU3RyaW5nKCldLHQ9LTEsZSYmKHQ9R2UoZSxuLGkscikpLChuPS0xPHQ/ZVt0XTpudWxsKSYmWmUobikpfWZ1bmN0aW9uIFplKHQpe2lmKCJudW1iZXIiIT10eXBlb2YgdCYmdCYmIXQudGEpe3ZhciBlPXQuc3JjO2lmKGUmJmVbVmVdKUJlKGUudSx0KTtlbHNle3ZhciBuPXQudHlwZSxpPXQucHJveHk7ZS5yZW1vdmVFdmVudExpc3RlbmVyP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksdC5jYXB0dXJlKTplLmRldGFjaEV2ZW50P2UuZGV0YWNoRXZlbnQoUWUobiksaSk6ZS5hZGRMaXN0ZW5lciYmZS5yZW1vdmVMaXN0ZW5lciYmZS5yZW1vdmVMaXN0ZW5lcihpKSwobj1ybihlKSk/KEJlKG4sdCksMD09bi5iJiYobi5zcmM9bnVsbCxlW1dlXT1udWxsKSk6cWUodCl9fX1mdW5jdGlvbiBRZSh0KXtyZXR1cm4gdCBpbiBYZT9YZVt0XTpYZVt0XT0ib24iK3R9ZnVuY3Rpb24gdG4odCxlLG4saSl7dmFyIHI9ITA7aWYoKHQ9cm4odCkpJiYoZT10LmFbZS50b1N0cmluZygpXSkpZm9yKGU9ZS5jb25jYXQoKSx0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBvPWVbdF07byYmby5jYXB0dXJlPT1uJiYhby50YSYmKG89ZW4obyxpKSxyPXImJiExIT09byl9cmV0dXJuIHJ9ZnVuY3Rpb24gZW4odCxlKXt2YXIgbj10Lmxpc3RlbmVyLGk9dC5QYXx8dC5zcmM7cmV0dXJuIHQuS2EmJlplKHQpLG4uY2FsbChpLGUpfWZ1bmN0aW9uIG5uKHQsZSl7aWYodC50YSlyZXR1cm4hMDtpZighRGUpe2lmKCFlKXQ6e2U9WyJ3aW5kb3ciLCJldmVudCJdO2Zvcih2YXIgbj11LGk9MDtpPGUubGVuZ3RoO2krKylpZihudWxsPT0obj1uW2VbaV1dKSl7ZT1udWxsO2JyZWFrIHR9ZT1ufWlmKGU9bmV3IGplKGk9ZSx0aGlzKSxuPSEwLCEoMD5pLmtleUNvZGV8fHZvaWQgMCE9aS5yZXR1cm5WYWx1ZSkpe3Q6e3ZhciByPSExO2lmKDA9PWkua2V5Q29kZSl0cnl7aS5rZXlDb2RlPS0xO2JyZWFrIHR9Y2F0Y2goYSl7cj0hMH0ocnx8dm9pZCAwPT1pLnJldHVyblZhbHVlKSYmKGkucmV0dXJuVmFsdWU9ITApfWZvcihpPVtdLHI9ZS5iO3I7cj1yLnBhcmVudE5vZGUpaS5wdXNoKHIpO2Zvcih0PXQudHlwZSxyPWkubGVuZ3RoLTE7MDw9cjtyLS0pe2UuYj1pW3JdO3ZhciBvPXRuKGlbcl0sdCwhMCxlKTtuPW4mJm99Zm9yKHI9MDtyPGkubGVuZ3RoO3IrKyllLmI9aVtyXSxvPXRuKGlbcl0sdCwhMSxlKSxuPW4mJm99cmV0dXJuIG59cmV0dXJuIGVuKHQsbmV3IGplKGUsdGhpcykpfWZ1bmN0aW9uIHJuKHQpe3JldHVybih0PXRbV2VdKWluc3RhbmNlb2YgSGU/dDpudWxsfXZhciBvbj0iX19jbG9zdXJlX2V2ZW50c19mbl8iKygxZTkqTWF0aC5yYW5kb20oKT4+PjApO2Z1bmN0aW9uIGFuKHQpe3JldHVybiBiKHQpP3Q6KHRbb25dfHwodFtvbl09ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFuZGxlRXZlbnQoZSl9KSx0W29uXSl9ZnVuY3Rpb24gc24oKXtkZS5jYWxsKHRoaXMpLHRoaXMudT1uZXcgSGUodGhpcyksdGhpcy5TYj10aGlzLHRoaXMuWGE9bnVsbH1mdW5jdGlvbiB1bih0LGUsbixpLHIpe3QudS5hZGQoU3RyaW5nKGUpLG4sITEsaSxyKX1mdW5jdGlvbiBjbih0LGUsbixpLHIpe3QudS5hZGQoU3RyaW5nKGUpLG4sITAsaSxyKX1mdW5jdGlvbiBobih0LGUsbixpKXtpZighKGU9dC51LmFbU3RyaW5nKGUpXSkpcmV0dXJuITA7ZT1lLmNvbmNhdCgpO2Zvcih2YXIgcj0hMCxvPTA7bzxlLmxlbmd0aDsrK28pe3ZhciBhPWVbb107aWYoYSYmIWEudGEmJmEuY2FwdHVyZT09bil7dmFyIHM9YS5saXN0ZW5lcix1PWEuUGF8fGEuc3JjO2EuS2EmJkJlKHQudSxhKSxyPSExIT09cy5jYWxsKHUsaSkmJnJ9fXJldHVybiByJiYwIT1pLk1ifWZ1bmN0aW9uIGZuKHQsZSxuKXtpZihiKHQpKW4mJih0PWsodCxuKSk7ZWxzZXtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQuaGFuZGxlRXZlbnQpdGhyb3cgRXJyb3IoIkludmFsaWQgbGlzdGVuZXIgYXJndW1lbnQiKTt0PWsodC5oYW5kbGVFdmVudCx0KX1yZXR1cm4gMjE0NzQ4MzY0NzxOdW1iZXIoZSk/LTE6dS5zZXRUaW1lb3V0KHQsZXx8MCl9ZnVuY3Rpb24gbG4odCl7dmFyIGU9bnVsbDtyZXR1cm4gbmV3IFd0KChmdW5jdGlvbihuLGkpey0xPT0oZT1mbigoZnVuY3Rpb24oKXtuKHZvaWQgMCl9KSx0KSkmJmkoRXJyb3IoIkZhaWxlZCB0byBzY2hlZHVsZSB0aW1lci4iKSl9KSkucygoZnVuY3Rpb24odCl7dGhyb3cgdS5jbGVhclRpbWVvdXQoZSksdH0pKX1mdW5jdGlvbiBkbih0KXtpZih0LlUmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LlUpcmV0dXJuIHQuVSgpO2lmKGModCkpcmV0dXJuIHQuc3BsaXQoIiIpO2lmKGcodCkpe2Zvcih2YXIgZT1bXSxuPXQubGVuZ3RoLGk9MDtpPG47aSsrKWUucHVzaCh0W2ldKTtyZXR1cm4gZX1mb3IoaSBpbiBlPVtdLG49MCx0KWVbbisrXT10W2ldO3JldHVybiBlfWZ1bmN0aW9uIHBuKHQpe2lmKHQuWCYmImZ1bmN0aW9uIj09dHlwZW9mIHQuWClyZXR1cm4gdC5YKCk7aWYoIXQuVXx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQuVSl7aWYoZyh0KXx8Yyh0KSl7dmFyIGU9W107dD10Lmxlbmd0aDtmb3IodmFyIG49MDtuPHQ7bisrKWUucHVzaChuKTtyZXR1cm4gZX1mb3IodmFyIGkgaW4gZT1bXSxuPTAsdCllW24rK109aTtyZXR1cm4gZX19ZnVuY3Rpb24gdm4odCxlKXt0aGlzLmI9e30sdGhpcy5hPVtdLHRoaXMuYz0wO3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg7aWYoMTxuKXtpZihuJTIpdGhyb3cgRXJyb3IoIlVuZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzIik7Zm9yKHZhciBpPTA7aTxuO2krPTIpdGhpcy5zZXQoYXJndW1lbnRzW2ldLGFyZ3VtZW50c1tpKzFdKX1lbHNlIGlmKHQpaWYodCBpbnN0YW5jZW9mIHZuKWZvcihuPXQuWCgpLGk9MDtpPG4ubGVuZ3RoO2krKyl0aGlzLnNldChuW2ldLHQuZ2V0KG5baV0pKTtlbHNlIGZvcihpIGluIHQpdGhpcy5zZXQoaSx0W2ldKX1mdW5jdGlvbiBtbih0KXtpZih0LmMhPXQuYS5sZW5ndGgpe2Zvcih2YXIgZT0wLG49MDtlPHQuYS5sZW5ndGg7KXt2YXIgaT10LmFbZV07Z24odC5iLGkpJiYodC5hW24rK109aSksZSsrfXQuYS5sZW5ndGg9bn1pZih0LmMhPXQuYS5sZW5ndGgpe3ZhciByPXt9O2ZvcihuPWU9MDtlPHQuYS5sZW5ndGg7KWduKHIsaT10LmFbZV0pfHwodC5hW24rK109aSxyW2ldPTEpLGUrKzt0LmEubGVuZ3RoPW59fWZ1bmN0aW9uIGduKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfU4oc24sZGUpLHNuLnByb3RvdHlwZVtWZV09ITAsc24ucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlLG4saSl7SmUodGhpcyx0LGUsbixpKX0sc24ucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlLG4saSl7JGUodGhpcyx0LGUsbixpKX0sc24ucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLlhhO2lmKG4pZm9yKGU9W107bjtuPW4uWGEpZS5wdXNoKG4pO249dGhpcy5TYjt2YXIgaT10LnR5cGV8fHQ7aWYoYyh0KSl0PW5ldyBNZSh0LG4pO2Vsc2UgaWYodCBpbnN0YW5jZW9mIE1lKXQudGFyZ2V0PXQudGFyZ2V0fHxuO2Vsc2V7dmFyIHI9dDtaKHQ9bmV3IE1lKGksbikscil9aWYocj0hMCxlKWZvcih2YXIgbz1lLmxlbmd0aC0xOzA8PW87by0tKXt2YXIgYT10LmI9ZVtvXTtyPWhuKGEsaSwhMCx0KSYmcn1pZihyPWhuKGE9dC5iPW4saSwhMCx0KSYmcixyPWhuKGEsaSwhMSx0KSYmcixlKWZvcihvPTA7bzxlLmxlbmd0aDtvKyspcj1obihhPXQuYj1lW29dLGksITEsdCkmJnI7cmV0dXJuIHJ9LHNuLnByb3RvdHlwZS56YT1mdW5jdGlvbigpe2lmKHNuLnFiLnphLmNhbGwodGhpcyksdGhpcy51KXt2YXIgdCxlPXRoaXMudTtmb3IodCBpbiBlLmEpe2Zvcih2YXIgbj1lLmFbdF0saT0wO2k8bi5sZW5ndGg7aSsrKXFlKG5baV0pO2RlbGV0ZSBlLmFbdF0sZS5iLS19fXRoaXMuWGE9bnVsbH0sKGU9dm4ucHJvdG90eXBlKS5VPWZ1bmN0aW9uKCl7bW4odGhpcyk7Zm9yKHZhciB0PVtdLGU9MDtlPHRoaXMuYS5sZW5ndGg7ZSsrKXQucHVzaCh0aGlzLmJbdGhpcy5hW2VdXSk7cmV0dXJuIHR9LGUuWD1mdW5jdGlvbigpe3JldHVybiBtbih0aGlzKSx0aGlzLmEuY29uY2F0KCl9LGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmI9e30sdGhpcy5jPXRoaXMuYS5sZW5ndGg9MH0sZS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZ24odGhpcy5iLHQpP3RoaXMuYlt0XTplfSxlLnNldD1mdW5jdGlvbih0LGUpe2duKHRoaXMuYix0KXx8KHRoaXMuYysrLHRoaXMuYS5wdXNoKHQpKSx0aGlzLmJbdF09ZX0sZS5mb3JFYWNoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuWCgpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXSxvPXRoaXMuZ2V0KHIpO3QuY2FsbChlLG8scix0aGlzKX19O3ZhciBibj0vXig/OihbXjovPyMuXSspOik/KD86XC9cLyg/OihbXi8/I10qKUApPyhbXi8jP10qPykoPzo6KFswLTldKykpPyg/PVsvIz9dfCQpKT8oW14/I10rKT8oPzpcPyhbXiNdKikpPyg/OiMoW1xzXFNdKikpPyQvO2Z1bmN0aW9uIHluKHQsZSl7dmFyIG47dGhpcy5iPXRoaXMuaT10aGlzLmY9IiIsdGhpcy5sPW51bGwsdGhpcy5nPXRoaXMuYz0iIix0aGlzLmg9ITEsdCBpbnN0YW5jZW9mIHluPyh0aGlzLmg9dm9pZCAwIT09ZT9lOnQuaCx3bih0aGlzLHQuZiksdGhpcy5pPXQuaSx0aGlzLmI9dC5iLEluKHRoaXMsdC5sKSx0aGlzLmM9dC5jLFRuKHRoaXMsS24odC5hKSksdGhpcy5nPXQuZyk6dCYmKG49U3RyaW5nKHQpLm1hdGNoKGJuKSk/KHRoaXMuaD0hIWUsd24odGhpcyxuWzFdfHwiIiwhMCksdGhpcy5pPU5uKG5bMl18fCIiKSx0aGlzLmI9Tm4oblszXXx8IiIsITApLEluKHRoaXMsbls0XSksdGhpcy5jPU5uKG5bNV18fCIiLCEwKSxUbih0aGlzLG5bNl18fCIiLCEwKSx0aGlzLmc9Tm4obls3XXx8IiIpKToodGhpcy5oPSEhZSx0aGlzLmE9bmV3IHhuKG51bGwsdGhpcy5oKSl9ZnVuY3Rpb24gd24odCxlLG4pe3QuZj1uP05uKGUsITApOmUsdC5mJiYodC5mPXQuZi5yZXBsYWNlKC86JC8sIiIpKX1mdW5jdGlvbiBJbih0LGUpe2lmKGUpe2lmKGU9TnVtYmVyKGUpLGlzTmFOKGUpfHwwPmUpdGhyb3cgRXJyb3IoIkJhZCBwb3J0IG51bWJlciAiK2UpO3QubD1lfWVsc2UgdC5sPW51bGx9ZnVuY3Rpb24gVG4odCxlLG4pe2UgaW5zdGFuY2VvZiB4bj8odC5hPWUsZnVuY3Rpb24odCxlKXtlJiYhdC5mJiYoTW4odCksdC5jPW51bGwsdC5hLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS50b0xvd2VyQ2FzZSgpO2UhPW4mJihVbih0aGlzLGUpLEZuKHRoaXMsbix0KSl9KSx0KSksdC5mPWV9KHQuYSx0LmgpKToobnx8KGU9T24oZSxEbikpLHQuYT1uZXcgeG4oZSx0LmgpKX1mdW5jdGlvbiBFbih0LGUsbil7dC5hLnNldChlLG4pfWZ1bmN0aW9uIGtuKHQsZSl7cmV0dXJuIHQuYS5nZXQoZSl9ZnVuY3Rpb24gQW4odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB5bj9uZXcgeW4odCk6bmV3IHluKHQsdm9pZCAwKX1mdW5jdGlvbiBTbih0LGUpe3ZhciBuPW5ldyB5bihudWxsLHZvaWQgMCk7cmV0dXJuIHduKG4sImh0dHBzIiksdCYmKG4uYj10KSxlJiYobi5jPWUpLG59ZnVuY3Rpb24gTm4odCxlKXtyZXR1cm4gdD9lP2RlY29kZVVSSSh0LnJlcGxhY2UoLyUyNS9nLCIlMjUyNSIpKTpkZWNvZGVVUklDb21wb25lbnQodCk6IiJ9ZnVuY3Rpb24gT24odCxlLG4pe3JldHVybiBjKHQpPyh0PWVuY29kZVVSSSh0KS5yZXBsYWNlKGUsX24pLG4mJih0PXQucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksdCk6bnVsbH1mdW5jdGlvbiBfbih0KXtyZXR1cm4iJSIrKCh0PXQuY2hhckNvZGVBdCgwKSk+PjQmMTUpLnRvU3RyaW5nKDE2KSsoMTUmdCkudG9TdHJpbmcoMTYpfXluLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PVtdLGU9dGhpcy5mO2UmJnQucHVzaChPbihlLFBuLCEwKSwiOiIpO3ZhciBuPXRoaXMuYjtyZXR1cm4obnx8ImZpbGUiPT1lKSYmKHQucHVzaCgiLy8iKSwoZT10aGlzLmkpJiZ0LnB1c2goT24oZSxQbiwhMCksIkAiKSx0LnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhuKSkucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksbnVsbCE9KG49dGhpcy5sKSYmdC5wdXNoKCI6IixTdHJpbmcobikpKSwobj10aGlzLmMpJiYodGhpcy5iJiYiLyIhPW4uY2hhckF0KDApJiZ0LnB1c2goIi8iKSx0LnB1c2goT24obiwiLyI9PW4uY2hhckF0KDApP0NuOlJuLCEwKSkpLChuPXRoaXMuYS50b1N0cmluZygpKSYmdC5wdXNoKCI/IixuKSwobj10aGlzLmcpJiZ0LnB1c2goIiMiLE9uKG4sTG4pKSx0LmpvaW4oIiIpfSx5bi5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgeW4odGhpcyksbj0hIXQuZjtuP3duKGUsdC5mKTpuPSEhdC5pLG4/ZS5pPXQuaTpuPSEhdC5iLG4/ZS5iPXQuYjpuPW51bGwhPXQubDt2YXIgaT10LmM7aWYobilJbihlLHQubCk7ZWxzZSBpZihuPSEhdC5jKXtpZigiLyIhPWkuY2hhckF0KDApKWlmKHRoaXMuYiYmIXRoaXMuYylpPSIvIitpO2Vsc2V7dmFyIHI9ZS5jLmxhc3RJbmRleE9mKCIvIik7LTEhPXImJihpPWUuYy5zdWJzdHIoMCxyKzEpK2kpfWlmKCIuLiI9PShyPWkpfHwiLiI9PXIpaT0iIjtlbHNlIGlmKHl0KHIsIi4vIil8fHl0KHIsIi8uIikpe2k9MD09ci5sYXN0SW5kZXhPZigiLyIsMCkscj1yLnNwbGl0KCIvIik7Zm9yKHZhciBvPVtdLGE9MDthPHIubGVuZ3RoOyl7dmFyIHM9clthKytdOyIuIj09cz9pJiZhPT1yLmxlbmd0aCYmby5wdXNoKCIiKToiLi4iPT1zPygoMTxvLmxlbmd0aHx8MT09by5sZW5ndGgmJiIiIT1vWzBdKSYmby5wb3AoKSxpJiZhPT1yLmxlbmd0aCYmby5wdXNoKCIiKSk6KG8ucHVzaChzKSxpPSEwKX1pPW8uam9pbigiLyIpfWVsc2UgaT1yfXJldHVybiBuP2UuYz1pOm49IiIhPT10LmEudG9TdHJpbmcoKSxuP1RuKGUsS24odC5hKSk6bj0hIXQuZyxuJiYoZS5nPXQuZyksZX07dmFyIFBuPS9bI1wvXD9AXS9nLFJuPS9bI1w/Ol0vZyxDbj0vWyNcP10vZyxEbj0vWyNcP0BdL2csTG49LyMvZztmdW5jdGlvbiB4bih0LGUpe3RoaXMuYj10aGlzLmE9bnVsbCx0aGlzLmM9dHx8bnVsbCx0aGlzLmY9ISFlfWZ1bmN0aW9uIE1uKHQpe3QuYXx8KHQuYT1uZXcgdm4sdC5iPTAsdC5jJiZmdW5jdGlvbih0LGUpe2lmKHQpe3Q9dC5zcGxpdCgiJiIpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dLmluZGV4T2YoIj0iKSxyPW51bGw7aWYoMDw9aSl7dmFyIG89dFtuXS5zdWJzdHJpbmcoMCxpKTtyPXRbbl0uc3Vic3RyaW5nKGkrMSl9ZWxzZSBvPXRbbl07ZShvLHI/ZGVjb2RlVVJJQ29tcG9uZW50KHIucmVwbGFjZSgvXCsvZywiICIpKToiIil9fX0odC5jLChmdW5jdGlvbihlLG4pe3QuYWRkKGRlY29kZVVSSUNvbXBvbmVudChlLnJlcGxhY2UoL1wrL2csIiAiKSksbil9KSkpfWZ1bmN0aW9uIGpuKHQpe3ZhciBlPXBuKHQpO2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgZSl0aHJvdyBFcnJvcigiS2V5cyBhcmUgdW5kZWZpbmVkIik7dmFyIG49bmV3IHhuKG51bGwsdm9pZCAwKTt0PWRuKHQpO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcj1lW2ldLG89dFtpXTttKG8pP0ZuKG4scixvKTpuLmFkZChyLG8pfXJldHVybiBufWZ1bmN0aW9uIFVuKHQsZSl7TW4odCksZT1xbih0LGUpLGduKHQuYS5iLGUpJiYodC5jPW51bGwsdC5iLT10LmEuZ2V0KGUpLmxlbmd0aCxnbigodD10LmEpLmIsZSkmJihkZWxldGUgdC5iW2VdLHQuYy0tLHQuYS5sZW5ndGg+Mip0LmMmJm1uKHQpKSl9ZnVuY3Rpb24gVm4odCxlKXtyZXR1cm4gTW4odCksZT1xbih0LGUpLGduKHQuYS5iLGUpfWZ1bmN0aW9uIEZuKHQsZSxuKXtVbih0LGUpLDA8bi5sZW5ndGgmJih0LmM9bnVsbCx0LmEuc2V0KHFuKHQsZSksWChuKSksdC5iKz1uLmxlbmd0aCl9ZnVuY3Rpb24gS24odCl7dmFyIGU9bmV3IHhuO3JldHVybiBlLmM9dC5jLHQuYSYmKGUuYT1uZXcgdm4odC5hKSxlLmI9dC5iKSxlfWZ1bmN0aW9uIHFuKHQsZSl7cmV0dXJuIGU9U3RyaW5nKGUpLHQuZiYmKGU9ZS50b0xvd2VyQ2FzZSgpKSxlfShlPXhuLnByb3RvdHlwZSkuYWRkPWZ1bmN0aW9uKHQsZSl7TW4odGhpcyksdGhpcy5jPW51bGwsdD1xbih0aGlzLHQpO3ZhciBuPXRoaXMuYS5nZXQodCk7cmV0dXJuIG58fHRoaXMuYS5zZXQodCxuPVtdKSxuLnB1c2goZSksdGhpcy5iKz0xLHRoaXN9LGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmE9dGhpcy5jPW51bGwsdGhpcy5iPTB9LGUuZm9yRWFjaD1mdW5jdGlvbih0LGUpe01uKHRoaXMpLHRoaXMuYS5mb3JFYWNoKChmdW5jdGlvbihuLGkpe0YobiwoZnVuY3Rpb24obil7dC5jYWxsKGUsbixpLHRoaXMpfSksdGhpcyl9KSx0aGlzKX0sZS5YPWZ1bmN0aW9uKCl7TW4odGhpcyk7Zm9yKHZhciB0PXRoaXMuYS5VKCksZT10aGlzLmEuWCgpLG49W10saT0wO2k8ZS5sZW5ndGg7aSsrKWZvcih2YXIgcj10W2ldLG89MDtvPHIubGVuZ3RoO28rKyluLnB1c2goZVtpXSk7cmV0dXJuIG59LGUuVT1mdW5jdGlvbih0KXtNbih0aGlzKTt2YXIgZT1bXTtpZihjKHQpKVZuKHRoaXMsdCkmJihlPVcoZSx0aGlzLmEuZ2V0KHFuKHRoaXMsdCkpKSk7ZWxzZXt0PXRoaXMuYS5VKCk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZT1XKGUsdFtuXSl9cmV0dXJuIGV9LGUuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1uKHRoaXMpLHRoaXMuYz1udWxsLFZuKHRoaXMsdD1xbih0aGlzLHQpKSYmKHRoaXMuYi09dGhpcy5hLmdldCh0KS5sZW5ndGgpLHRoaXMuYS5zZXQodCxbZV0pLHRoaXMuYis9MSx0aGlzfSxlLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiYwPCh0PXRoaXMuVSh0KSkubGVuZ3RoP1N0cmluZyh0WzBdKTplfSxlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5jKXJldHVybiB0aGlzLmM7aWYoIXRoaXMuYSlyZXR1cm4iIjtmb3IodmFyIHQ9W10sZT10aGlzLmEuWCgpLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXSxyPWVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaSkpO2k9dGhpcy5VKGkpO2Zvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKXt2YXIgYT1yOyIiIT09aVtvXSYmKGErPSI9IitlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGlbb10pKSksdC5wdXNoKGEpfX1yZXR1cm4gdGhpcy5jPXQuam9pbigiJiIpfTt2YXIgSG49IXdlfHw5PD1OdW1iZXIoX2UpO2Z1bmN0aW9uIEJuKHQpe3ZhciBlPWRvY3VtZW50O3JldHVybiBjKHQpP2UuZ2V0RWxlbWVudEJ5SWQodCk6dH1mdW5jdGlvbiBHbih0LGUpe0ooZSwoZnVuY3Rpb24oZSxuKXtlJiYib2JqZWN0Ij09dHlwZW9mIGUmJmUucWEmJihlPWUucGEoKSksInN0eWxlIj09bj90LnN0eWxlLmNzc1RleHQ9ZToiY2xhc3MiPT1uP3QuY2xhc3NOYW1lPWU6ImZvciI9PW4/dC5odG1sRm9yPWU6V24uaGFzT3duUHJvcGVydHkobik/dC5zZXRBdHRyaWJ1dGUoV25bbl0sZSk6MD09bi5sYXN0SW5kZXhPZigiYXJpYS0iLDApfHwwPT1uLmxhc3RJbmRleE9mKCJkYXRhLSIsMCk/dC5zZXRBdHRyaWJ1dGUobixlKTp0W25dPWV9KSl9dmFyIFduPXtjZWxscGFkZGluZzoiY2VsbFBhZGRpbmciLGNlbGxzcGFjaW5nOiJjZWxsU3BhY2luZyIsY29sc3BhbjoiY29sU3BhbiIsZnJhbWVib3JkZXI6ImZyYW1lQm9yZGVyIixoZWlnaHQ6ImhlaWdodCIsbWF4bGVuZ3RoOiJtYXhMZW5ndGgiLG5vbmNlOiJub25jZSIscm9sZToicm9sZSIscm93c3Bhbjoicm93U3BhbiIsdHlwZToidHlwZSIsdXNlbWFwOiJ1c2VNYXAiLHZhbGlnbjoidkFsaWduIix3aWR0aDoid2lkdGgifTtmdW5jdGlvbiBYbih0LGUsbil7dmFyIGk9YXJndW1lbnRzLHI9ZG9jdW1lbnQsbz1TdHJpbmcoaVswXSksYT1pWzFdO2lmKCFIbiYmYSYmKGEubmFtZXx8YS50eXBlKSl7aWYobz1bIjwiLG9dLGEubmFtZSYmby5wdXNoKCcgbmFtZT0iJyxWdChhLm5hbWUpLCciJyksYS50eXBlKXtvLnB1c2goJyB0eXBlPSInLFZ0KGEudHlwZSksJyInKTt2YXIgcz17fTtaKHMsYSksZGVsZXRlIHMudHlwZSxhPXN9by5wdXNoKCI+Iiksbz1vLmpvaW4oIiIpfXJldHVybiBvPXIuY3JlYXRlRWxlbWVudChvKSxhJiYoYyhhKT9vLmNsYXNzTmFtZT1hOm0oYSk/by5jbGFzc05hbWU9YS5qb2luKCIgIik6R24obyxhKSksMjxpLmxlbmd0aCYmZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGkobil7biYmZS5hcHBlbmRDaGlsZChjKG4pP3QuY3JlYXRlVGV4dE5vZGUobik6bil9Zm9yKHZhciByPTI7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl07IWcobyl8fHkobykmJjA8by5ub2RlVHlwZT9pKG8pOkYoSm4obyk/WChvKTpvLGkpfX0ocixvLGkpLG99ZnVuY3Rpb24gSm4odCl7aWYodCYmIm51bWJlciI9PXR5cGVvZiB0Lmxlbmd0aCl7aWYoeSh0KSlyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdC5pdGVtfHwic3RyaW5nIj09dHlwZW9mIHQuaXRlbTtpZihiKHQpKXJldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0Lml0ZW19cmV0dXJuITF9ZnVuY3Rpb24gWW4odCl7dmFyIGU9W107cmV0dXJuIGZ1bmN0aW9uIHQoZSxuLGkpe2lmKG51bGw9PW4paS5wdXNoKCJudWxsIik7ZWxzZXtpZigib2JqZWN0Ij09dHlwZW9mIG4pe2lmKG0obikpe3ZhciByPW47bj1yLmxlbmd0aCxpLnB1c2goIlsiKTtmb3IodmFyIG89IiIsYT0wO2E8bjthKyspaS5wdXNoKG8pLHQoZSxyW2FdLGkpLG89IiwiO3JldHVybiB2b2lkIGkucHVzaCgiXSIpfWlmKCEobiBpbnN0YW5jZW9mIFN0cmluZ3x8biBpbnN0YW5jZW9mIE51bWJlcnx8biBpbnN0YW5jZW9mIEJvb2xlYW4pKXtmb3IociBpbiBpLnB1c2goInsiKSxvPSIiLG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJigiZnVuY3Rpb24iIT10eXBlb2YoYT1uW3JdKSYmKGkucHVzaChvKSxRbihyLGkpLGkucHVzaCgiOiIpLHQoZSxhLGkpLG89IiwiKSk7cmV0dXJuIHZvaWQgaS5wdXNoKCJ9Iil9bj1uLnZhbHVlT2YoKX1zd2l0Y2godHlwZW9mIG4pe2Nhc2Uic3RyaW5nIjpRbihuLGkpO2JyZWFrO2Nhc2UibnVtYmVyIjppLnB1c2goaXNGaW5pdGUobikmJiFpc05hTihuKT9TdHJpbmcobik6Im51bGwiKTticmVhaztjYXNlImJvb2xlYW4iOmkucHVzaChTdHJpbmcobikpO2JyZWFrO2Nhc2UiZnVuY3Rpb24iOmkucHVzaCgibnVsbCIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIlVua25vd24gdHlwZTogIit0eXBlb2Ygbil9fX0obmV3IHpuLHQsZSksZS5qb2luKCIiKX1mdW5jdGlvbiB6bigpe312YXIgJG49eyciJzonXFwiJywiXFwiOiJcXFxcIiwiLyI6IlxcLyIsIlxiIjoiXFxiIiwiXGYiOiJcXGYiLCJcbiI6IlxcbiIsIlxyIjoiXFxyIiwiXHQiOiJcXHQiLCJcdiI6IlxcdTAwMGIifSxabj0vXHVmZmZmLy50ZXN0KCJcdWZmZmYiKT8vW1xcIlx4MDAtXHgxZlx4N2YtXHVmZmZmXS9nOi9bXFwiXHgwMC1ceDFmXHg3Zi1ceGZmXS9nO2Z1bmN0aW9uIFFuKHQsZSl7ZS5wdXNoKCciJyx0LnJlcGxhY2UoWm4sKGZ1bmN0aW9uKHQpe3ZhciBlPSRuW3RdO3JldHVybiBlfHwoZT0iXFx1IisoNjU1MzZ8dC5jaGFyQ29kZUF0KDApKS50b1N0cmluZygxNikuc3Vic3RyKDEpLCRuW3RdPWUpLGV9KSksJyInKX1mdW5jdGlvbiB0aSgpe3ZhciB0PXlpKCk7cmV0dXJuIHdlJiYhIV9lJiYxMT09X2V8fC9FZGdlXC9cZCsvLnRlc3QodCl9ZnVuY3Rpb24gZWkoKXtyZXR1cm4gdS53aW5kb3cmJnUud2luZG93LmxvY2F0aW9uLmhyZWZ8fHNlbGYmJnNlbGYubG9jYXRpb24mJnNlbGYubG9jYXRpb24uaHJlZnx8IiJ9ZnVuY3Rpb24gbmkodCxlKXtlPWV8fHUud2luZG93O3ZhciBuPSJhYm91dDpibGFuayI7dCYmKG49VHQoa3QodCkpLnRvU3RyaW5nKCkpLGUubG9jYXRpb24uaHJlZj1ufWZ1bmN0aW9uIGlpKHQpe3JldHVybiEhKCh0PSh0fHx5aSgpKS50b0xvd2VyQ2FzZSgpKS5tYXRjaCgvYW5kcm9pZC8pfHx0Lm1hdGNoKC93ZWJvcy8pfHx0Lm1hdGNoKC9pcGhvbmV8aXBhZHxpcG9kLyl8fHQubWF0Y2goL2JsYWNrYmVycnkvKXx8dC5tYXRjaCgvd2luZG93cyBwaG9uZS8pfHx0Lm1hdGNoKC9pZW1vYmlsZS8pKX1mdW5jdGlvbiByaSh0KXt0PXR8fHUud2luZG93O3RyeXt0LmNsb3NlKCl9Y2F0Y2goZSl7fX1mdW5jdGlvbiBvaSh0LGUsbil7dmFyIGk9TWF0aC5mbG9vcigxZTkqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoKTtlPWV8fDUwMCxuPW58fDYwMDt2YXIgcj0od2luZG93LnNjcmVlbi5hdmFpbEhlaWdodC1uKS8yLG89KHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aC1lKS8yO2ZvcihhIGluIGU9e3dpZHRoOmUsaGVpZ2h0Om4sdG9wOjA8cj9yOjAsbGVmdDowPG8/bzowLGxvY2F0aW9uOiEwLHJlc2l6YWJsZTohMCxzdGF0dXNiYXI6ITAsdG9vbGJhcjohMX0sbj15aSgpLnRvTG93ZXJDYXNlKCksaSYmKGUudGFyZ2V0PWkseXQobiwiY3Jpb3MvIikmJihlLnRhcmdldD0iX2JsYW5rIikpLG1pKHlpKCkpPT1waSYmKHQ9dHx8Imh0dHA6Ly9sb2NhbGhvc3QiLGUuc2Nyb2xsYmFycz0hMCksbj10fHwiIiwodD1lKXx8KHQ9e30pLGk9d2luZG93LGU9biBpbnN0YW5jZW9mIEl0P246a3QoInVuZGVmaW5lZCIhPXR5cGVvZiBuLmhyZWY/bi5ocmVmOlN0cmluZyhuKSksbj10LnRhcmdldHx8bi50YXJnZXQscj1bXSx0KXN3aXRjaChhKXtjYXNlIndpZHRoIjpjYXNlImhlaWdodCI6Y2FzZSJ0b3AiOmNhc2UibGVmdCI6ci5wdXNoKGErIj0iK3RbYV0pO2JyZWFrO2Nhc2UidGFyZ2V0IjpjYXNlIm5vb3BlbmVyIjpjYXNlIm5vcmVmZXJyZXIiOmJyZWFrO2RlZmF1bHQ6ci5wdXNoKGErIj0iKyh0W2FdPzE6MCkpfXZhciBhPXIuam9pbigiLCIpO2lmKChQdCgiaVBob25lIikmJiFQdCgiaVBvZCIpJiYhUHQoImlQYWQiKXx8UHQoImlQYWQiKXx8UHQoImlQb2QiKSkmJmkubmF2aWdhdG9yJiZpLm5hdmlnYXRvci5zdGFuZGFsb25lJiZuJiYiX3NlbGYiIT1uPyhVKGE9aS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJBIiksIkhUTUxBbmNob3JFbGVtZW50IiksZSBpbnN0YW5jZW9mIEl0fHxlIGluc3RhbmNlb2YgSXR8fChlPSJvYmplY3QiPT10eXBlb2YgZSYmZS5xYT9lLnBhKCk6U3RyaW5nKGUpLEV0LnRlc3QoZSl8fChlPSJhYm91dDppbnZhbGlkI3pDbG9zdXJleiIpLGU9TnQoZSkpLGEuaHJlZj1UdChlKSxhLnNldEF0dHJpYnV0ZSgidGFyZ2V0IixuKSx0Lm5vcmVmZXJyZXImJmEuc2V0QXR0cmlidXRlKCJyZWwiLCJub3JlZmVycmVyIiksKHQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnQiKSkuaW5pdE1vdXNlRXZlbnQoImNsaWNrIiwhMCwhMCxpLDEpLGEuZGlzcGF0Y2hFdmVudCh0KSxhPXt9KTp0Lm5vcmVmZXJyZXI/KGE9aS5vcGVuKCIiLG4sYSksdD1UdChlKS50b1N0cmluZygpLGEmJihUZSYmeXQodCwiOyIpJiYodD0iJyIrdC5yZXBsYWNlKC8nL2csIiUyNyIpKyInIiksYS5vcGVuZXI9bnVsbCx0PUx0KCc8bWV0YSBuYW1lPSJyZWZlcnJlciIgY29udGVudD0ibm8tcmVmZXJyZXIiPjxtZXRhIGh0dHAtZXF1aXY9InJlZnJlc2giIGNvbnRlbnQ9IjA7IHVybD0nK1Z0KHQpKyciPicpLGEuZG9jdW1lbnQud3JpdGUoQ3QodCkpLGEuZG9jdW1lbnQuY2xvc2UoKSkpOihhPWkub3BlbihUdChlKS50b1N0cmluZygpLG4sYSkpJiZ0Lm5vb3BlbmVyJiYoYS5vcGVuZXI9bnVsbCksYSl0cnl7YS5mb2N1cygpfWNhdGNoKHMpe31yZXR1cm4gYX12YXIgYWk9L15cZHsxLDN9XC5cZHsxLDN9XC5cZHsxLDN9XC5cZHsxLDN9JC8sc2k9L15bXkBdK0BbXkBdKyQvO2Z1bmN0aW9uIHVpKCl7dmFyIHQ9bnVsbDtyZXR1cm4gbmV3IFd0KChmdW5jdGlvbihlKXsiY29tcGxldGUiPT11LmRvY3VtZW50LnJlYWR5U3RhdGU/ZSgpOih0PWZ1bmN0aW9uKCl7ZSgpfSx6ZSh3aW5kb3csImxvYWQiLHQpKX0pKS5zKChmdW5jdGlvbihlKXt0aHJvdyAkZSh3aW5kb3csImxvYWQiLHQpLGV9KSl9ZnVuY3Rpb24gY2kodCl7cmV0dXJuIHQ9dHx8eWkoKSwhKCJmaWxlOiIhPT1raSgpJiYiaW9uaWM6IiE9PWtpKCl8fCF0LnRvTG93ZXJDYXNlKCkubWF0Y2goL2lwaG9uZXxpcGFkfGlwb2R8YW5kcm9pZC8pKX1mdW5jdGlvbiBoaSgpe3ZhciB0PXUud2luZG93O3RyeXtyZXR1cm4hKCF0fHx0PT10LnRvcCl9Y2F0Y2goZSl7cmV0dXJuITF9fWZ1bmN0aW9uIGZpKCl7cmV0dXJuInVuZGVmaW5lZCIhPT10eXBlb2YgdS5Xb3JrZXJHbG9iYWxTY29wZSYmImZ1bmN0aW9uIj09PXR5cGVvZiB1LmltcG9ydFNjcmlwdHN9ZnVuY3Rpb24gbGkoKXtyZXR1cm4gaS5hLklOVEVSTkFMLmhhc093blByb3BlcnR5KCJyZWFjdE5hdGl2ZSIpPyJSZWFjdE5hdGl2ZSI6aS5hLklOVEVSTkFMLmhhc093blByb3BlcnR5KCJub2RlIik/Ik5vZGUiOmZpKCk/IldvcmtlciI6IkJyb3dzZXIifWZ1bmN0aW9uIGRpKCl7dmFyIHQ9bGkoKTtyZXR1cm4iUmVhY3ROYXRpdmUiPT09dHx8Ik5vZGUiPT09dH12YXIgcGk9IkZpcmVmb3giLHZpPSJDaHJvbWUiO2Z1bmN0aW9uIG1pKHQpe3ZhciBlPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4geXQoZSwib3BlcmEvIil8fHl0KGUsIm9wci8iKXx8eXQoZSwib3Bpb3MvIik/Ik9wZXJhIjp5dChlLCJpZW1vYmlsZSIpPyJJRU1vYmlsZSI6eXQoZSwibXNpZSIpfHx5dChlLCJ0cmlkZW50LyIpPyJJRSI6eXQoZSwiZWRnZS8iKT8iRWRnZSI6eXQoZSwiZmlyZWZveC8iKT9waTp5dChlLCJzaWxrLyIpPyJTaWxrIjp5dChlLCJibGFja2JlcnJ5Iik/IkJsYWNrYmVycnkiOnl0KGUsIndlYm9zIik/IldlYm9zIjoheXQoZSwic2FmYXJpLyIpfHx5dChlLCJjaHJvbWUvIil8fHl0KGUsImNyaW9zLyIpfHx5dChlLCJhbmRyb2lkIik/IXl0KGUsImNocm9tZS8iKSYmIXl0KGUsImNyaW9zLyIpfHx5dChlLCJlZGdlLyIpP3l0KGUsImFuZHJvaWQiKT8iQW5kcm9pZCI6KHQ9dC5tYXRjaCgvKFthLXpBLVpcZFwuXSspXC9bYS16QS1aXGRcLl0qJC8pKSYmMj09dC5sZW5ndGg/dFsxXToiT3RoZXIiOnZpOiJTYWZhcmkifXZhciBnaT17V2M6IkZpcmViYXNlQ29yZS13ZWIiLFljOiJGaXJlYmFzZVVJLXdlYiJ9O2Z1bmN0aW9uIGJpKHQsZSl7ZT1lfHxbXTt2YXIgbixpPVtdLHI9e307Zm9yKG4gaW4gZ2kpcltnaVtuXV09ITA7Zm9yKG49MDtuPGUubGVuZ3RoO24rKykidW5kZWZpbmVkIiE9PXR5cGVvZiByW2Vbbl1dJiYoZGVsZXRlIHJbZVtuXV0saS5wdXNoKGVbbl0pKTtyZXR1cm4gaS5zb3J0KCksKGU9aSkubGVuZ3RofHwoZT1bIkZpcmViYXNlQ29yZS13ZWIiXSksIkJyb3dzZXIiPT09KGk9bGkoKSk/aT1taShyPXlpKCkpOiJXb3JrZXIiPT09aSYmKGk9bWkocj15aSgpKSsiLSIraSksaSsiL0pzQ29yZS8iK3QrIi8iK2Uuam9pbigiLCIpfWZ1bmN0aW9uIHlpKCl7cmV0dXJuIHUubmF2aWdhdG9yJiZ1Lm5hdmlnYXRvci51c2VyQWdlbnR8fCIifWZ1bmN0aW9uIHdpKHQsZSl7dD10LnNwbGl0KCIuIiksZT1lfHx1O2Zvcih2YXIgbj0wO248dC5sZW5ndGgmJiJvYmplY3QiPT10eXBlb2YgZSYmbnVsbCE9ZTtuKyspZT1lW3Rbbl1dO3JldHVybiBuIT10Lmxlbmd0aCYmKGU9dm9pZCAwKSxlfWZ1bmN0aW9uIElpKCl7dHJ5e3ZhciB0PXUubG9jYWxTdG9yYWdlLGU9X2koKTtpZih0KXJldHVybiB0LnNldEl0ZW0oZSwiMSIpLHQucmVtb3ZlSXRlbShlKSwhdGkoKXx8ISF1LmluZGV4ZWREQn1jYXRjaChuKXtyZXR1cm4gZmkoKSYmISF1LmluZGV4ZWREQn1yZXR1cm4hMX1mdW5jdGlvbiBUaSgpe3JldHVybihFaSgpfHwiY2hyb21lLWV4dGVuc2lvbjoiPT09a2koKXx8Y2koKSkmJiFkaSgpJiZJaSgpJiYhZmkoKX1mdW5jdGlvbiBFaSgpe3JldHVybiJodHRwOiI9PT1raSgpfHwiaHR0cHM6Ij09PWtpKCl9ZnVuY3Rpb24ga2koKXtyZXR1cm4gdS5sb2NhdGlvbiYmdS5sb2NhdGlvbi5wcm90b2NvbHx8bnVsbH1mdW5jdGlvbiBBaSh0KXtyZXR1cm4haWkodD10fHx5aSgpKSYmbWkodCkhPXBpfWZ1bmN0aW9uIFNpKHQpe3JldHVybiJ1bmRlZmluZWQiPT09dHlwZW9mIHQ/bnVsbDpZbih0KX1mdW5jdGlvbiBOaSh0KXt2YXIgZSxuPXt9O2ZvcihlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmbnVsbCE9PXRbZV0mJnZvaWQgMCE9PXRbZV0mJihuW2VdPXRbZV0pO3JldHVybiBufWZ1bmN0aW9uIE9pKHQpe2lmKG51bGwhPT10KXJldHVybiBKU09OLnBhcnNlKHQpfWZ1bmN0aW9uIF9pKHQpe3JldHVybiB0fHxNYXRoLmZsb29yKDFlOSpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpfWZ1bmN0aW9uIFBpKHQpe3JldHVybiJTYWZhcmkiIT1taSh0PXR8fHlpKCkpJiYhdC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9pcGhvbmV8aXBhZHxpcG9kLyl9ZnVuY3Rpb24gUmkoKXt2YXIgdD11Ll9fX2pzbDtpZih0JiZ0LkgpZm9yKHZhciBlIGluIHQuSClpZih0LkhbZV0ucj10LkhbZV0ucnx8W10sdC5IW2VdLkw9dC5IW2VdLkx8fFtdLHQuSFtlXS5yPXQuSFtlXS5MLmNvbmNhdCgpLHQuQ1ApZm9yKHZhciBuPTA7bjx0LkNQLmxlbmd0aDtuKyspdC5DUFtuXT1udWxsfWZ1bmN0aW9uIENpKHQsZSl7aWYodD5lKXRocm93IEVycm9yKCJTaG9ydCBkZWxheSBzaG91bGQgYmUgbGVzcyB0aGFuIGxvbmcgZGVsYXkhIik7dGhpcy5hPXQsdGhpcy5jPWUsdD15aSgpLGU9bGkoKSx0aGlzLmI9aWkodCl8fCJSZWFjdE5hdGl2ZSI9PT1lfWZ1bmN0aW9uIERpKCl7dmFyIHQ9dS5kb2N1bWVudDtyZXR1cm4hdHx8InVuZGVmaW5lZCI9PT10eXBlb2YgdC52aXNpYmlsaXR5U3RhdGV8fCJ2aXNpYmxlIj09dC52aXNpYmlsaXR5U3RhdGV9ZnVuY3Rpb24gTGkodCl7dHJ5e3ZhciBlPW5ldyBEYXRlKHBhcnNlSW50KHQsMTApKTtpZighaXNOYU4oZS5nZXRUaW1lKCkpJiYhL1teMC05XS8udGVzdCh0KSlyZXR1cm4gZS50b1VUQ1N0cmluZygpfWNhdGNoKG4pe31yZXR1cm4gbnVsbH1mdW5jdGlvbiB4aSgpe3JldHVybiEoIXdpKCJmaXJlYXV0aC5vYXV0aGhlbHBlciIsdSkmJiF3aSgiZmlyZWF1dGguaWZyYW1lIix1KSl9Q2kucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciB0PXUubmF2aWdhdG9yO3JldHVybiF0fHwiYm9vbGVhbiIhPT10eXBlb2YgdC5vbkxpbmV8fCFFaSgpJiYiY2hyb21lLWV4dGVuc2lvbjoiIT09a2koKSYmInVuZGVmaW5lZCI9PT10eXBlb2YgdC5jb25uZWN0aW9ufHx0Lm9uTGluZT90aGlzLmI/dGhpcy5jOnRoaXMuYTpNYXRoLm1pbig1ZTMsdGhpcy5hKX07dmFyIE1pLGppPXt9O2Z1bmN0aW9uIFVpKHQpe2ppW3RdfHwoamlbdF09ITAsInVuZGVmaW5lZCIhPT10eXBlb2YgY29uc29sZSYmImZ1bmN0aW9uIj09PXR5cGVvZiBjb25zb2xlLndhcm4mJmNvbnNvbGUud2Fybih0KSl9dHJ5e3ZhciBWaT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVmksImFiY2QiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZToxfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpLCJhYmNkIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6Mn0pLE1pPTI9PVZpLmFiY2R9Y2F0Y2goV28pe01pPSExfWZ1bmN0aW9uIEZpKHQsZSxuKXtNaT9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpufSk6dFtlXT1ufWZ1bmN0aW9uIEtpKHQsZSl7aWYoZSlmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiZGaSh0LG4sZVtuXSl9ZnVuY3Rpb24gcWkodCl7dmFyIGU9e307cmV0dXJuIEtpKGUsdCksZX1mdW5jdGlvbiBIaSh0KXt2YXIgZT10O2lmKCJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9dClmb3IodmFyIG4gaW4gZT0ibGVuZ3RoImluIHQ/W106e30sdClGaShlLG4sSGkodFtuXSkpO3JldHVybiBlfWZ1bmN0aW9uIEJpKHQpe3ZhciBlPXt9LG49dFtXaV0saT10W1hpXTtpZighKHQ9dFtKaV0pfHx0IT1HaSYmIW4pdGhyb3cgRXJyb3IoIkludmFsaWQgcHJvdmlkZXIgdXNlciBpbmZvISIpO2VbemldPWl8fG51bGwsZVtZaV09bnx8bnVsbCxGaSh0aGlzLFppLHQpLEZpKHRoaXMsJGksSGkoZSkpfXZhciBHaT0iRU1BSUxfU0lHTklOIixXaT0iZW1haWwiLFhpPSJuZXdFbWFpbCIsSmk9InJlcXVlc3RUeXBlIixZaT0iZW1haWwiLHppPSJmcm9tRW1haWwiLCRpPSJkYXRhIixaaT0ib3BlcmF0aW9uIjtmdW5jdGlvbiBRaSh0LGUpe3RoaXMuY29kZT1lcit0LHRoaXMubWVzc2FnZT1lfHxuclt0XXx8IiJ9ZnVuY3Rpb24gdHIodCl7dmFyIGU9dCYmdC5jb2RlO3JldHVybiBlP25ldyBRaShlLnN1YnN0cmluZyhlci5sZW5ndGgpLHQubWVzc2FnZSk6bnVsbH1OKFFpLEVycm9yKSxRaS5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3JldHVybntjb2RlOnRoaXMuY29kZSxtZXNzYWdlOnRoaXMubWVzc2FnZX19LFFpLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BKCl9O3ZhciBlcj0iYXV0aC8iLG5yPXsiYWRtaW4tcmVzdHJpY3RlZC1vcGVyYXRpb24iOiJUaGlzIG9wZXJhdGlvbiBpcyByZXN0cmljdGVkIHRvIGFkbWluaXN0cmF0b3JzIG9ubHkuIiwiYXJndW1lbnQtZXJyb3IiOiIiLCJhcHAtbm90LWF1dGhvcml6ZWQiOiJUaGlzIGFwcCwgaWRlbnRpZmllZCBieSB0aGUgZG9tYWluIHdoZXJlIGl0J3MgaG9zdGVkLCBpcyBub3QgYXV0aG9yaXplZCB0byB1c2UgRmlyZWJhc2UgQXV0aGVudGljYXRpb24gd2l0aCB0aGUgcHJvdmlkZWQgQVBJIGtleS4gUmV2aWV3IHlvdXIga2V5IGNvbmZpZ3VyYXRpb24gaW4gdGhlIEdvb2dsZSBBUEkgY29uc29sZS4iLCJhcHAtbm90LWluc3RhbGxlZCI6IlRoZSByZXF1ZXN0ZWQgbW9iaWxlIGFwcGxpY2F0aW9uIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGlkZW50aWZpZXIgKEFuZHJvaWQgcGFja2FnZSBuYW1lIG9yIGlPUyBidW5kbGUgSUQpIHByb3ZpZGVkIGlzIG5vdCBpbnN0YWxsZWQgb24gdGhpcyBkZXZpY2UuIiwiY2FwdGNoYS1jaGVjay1mYWlsZWQiOiJUaGUgcmVDQVBUQ0hBIHJlc3BvbnNlIHRva2VuIHByb3ZpZGVkIGlzIGVpdGhlciBpbnZhbGlkLCBleHBpcmVkLCBhbHJlYWR5IHVzZWQgb3IgdGhlIGRvbWFpbiBhc3NvY2lhdGVkIHdpdGggaXQgZG9lcyBub3QgbWF0Y2ggdGhlIGxpc3Qgb2Ygd2hpdGVsaXN0ZWQgZG9tYWlucy4iLCJjb2RlLWV4cGlyZWQiOiJUaGUgU01TIGNvZGUgaGFzIGV4cGlyZWQuIFBsZWFzZSByZS1zZW5kIHRoZSB2ZXJpZmljYXRpb24gY29kZSB0byB0cnkgYWdhaW4uIiwiY29yZG92YS1ub3QtcmVhZHkiOiJDb3Jkb3ZhIGZyYW1ld29yayBpcyBub3QgcmVhZHkuIiwiY29ycy11bnN1cHBvcnRlZCI6IlRoaXMgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkLiIsImNyZWRlbnRpYWwtYWxyZWFkeS1pbi11c2UiOiJUaGlzIGNyZWRlbnRpYWwgaXMgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggYSBkaWZmZXJlbnQgdXNlciBhY2NvdW50LiIsImN1c3RvbS10b2tlbi1taXNtYXRjaCI6IlRoZSBjdXN0b20gdG9rZW4gY29ycmVzcG9uZHMgdG8gYSBkaWZmZXJlbnQgYXVkaWVuY2UuIiwicmVxdWlyZXMtcmVjZW50LWxvZ2luIjoiVGhpcyBvcGVyYXRpb24gaXMgc2Vuc2l0aXZlIGFuZCByZXF1aXJlcyByZWNlbnQgYXV0aGVudGljYXRpb24uIExvZyBpbiBhZ2FpbiBiZWZvcmUgcmV0cnlpbmcgdGhpcyByZXF1ZXN0LiIsImR5bmFtaWMtbGluay1ub3QtYWN0aXZhdGVkIjoiUGxlYXNlIGFjdGl2YXRlIER5bmFtaWMgTGlua3MgaW4gdGhlIEZpcmViYXNlIENvbnNvbGUgYW5kIGFncmVlIHRvIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucy4iLCJlbWFpbC1hbHJlYWR5LWluLXVzZSI6IlRoZSBlbWFpbCBhZGRyZXNzIGlzIGFscmVhZHkgaW4gdXNlIGJ5IGFub3RoZXIgYWNjb3VudC4iLCJleHBpcmVkLWFjdGlvbi1jb2RlIjoiVGhlIGFjdGlvbiBjb2RlIGhhcyBleHBpcmVkLiAiLCJjYW5jZWxsZWQtcG9wdXAtcmVxdWVzdCI6IlRoaXMgb3BlcmF0aW9uIGhhcyBiZWVuIGNhbmNlbGxlZCBkdWUgdG8gYW5vdGhlciBjb25mbGljdGluZyBwb3B1cCBiZWluZyBvcGVuZWQuIiwiaW50ZXJuYWwtZXJyb3IiOiJBbiBpbnRlcm5hbCBlcnJvciBoYXMgb2NjdXJyZWQuIiwiaW52YWxpZC1hcHAtY3JlZGVudGlhbCI6IlRoZSBwaG9uZSB2ZXJpZmljYXRpb24gcmVxdWVzdCBjb250YWlucyBhbiBpbnZhbGlkIGFwcGxpY2F0aW9uIHZlcmlmaWVyLiBUaGUgcmVDQVBUQ0hBIHRva2VuIHJlc3BvbnNlIGlzIGVpdGhlciBpbnZhbGlkIG9yIGV4cGlyZWQuIiwiaW52YWxpZC1hcHAtaWQiOiJUaGUgbW9iaWxlIGFwcCBpZGVudGlmaWVyIGlzIG5vdCByZWdpc3RlZCBmb3IgdGhlIGN1cnJlbnQgcHJvamVjdC4iLCJpbnZhbGlkLXVzZXItdG9rZW4iOiJUaGlzIHVzZXIncyBjcmVkZW50aWFsIGlzbid0IHZhbGlkIGZvciB0aGlzIHByb2plY3QuIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgdXNlcidzIHRva2VuIGhhcyBiZWVuIHRhbXBlcmVkIHdpdGgsIG9yIGlmIHRoZSB1c2VyIGlzbid0IGZvciB0aGUgcHJvamVjdCBhc3NvY2lhdGVkIHdpdGggdGhpcyBBUEkga2V5LiIsImludmFsaWQtYXV0aC1ldmVudCI6IkFuIGludGVybmFsIGVycm9yIGhhcyBvY2N1cnJlZC4iLCJpbnZhbGlkLXZlcmlmaWNhdGlvbi1jb2RlIjoiVGhlIFNNUyB2ZXJpZmljYXRpb24gY29kZSB1c2VkIHRvIGNyZWF0ZSB0aGUgcGhvbmUgYXV0aCBjcmVkZW50aWFsIGlzIGludmFsaWQuIFBsZWFzZSByZXNlbmQgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIHNtcyBhbmQgYmUgc3VyZSB1c2UgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIHByb3ZpZGVkIGJ5IHRoZSB1c2VyLiIsImludmFsaWQtY29udGludWUtdXJpIjoiVGhlIGNvbnRpbnVlIFVSTCBwcm92aWRlZCBpbiB0aGUgcmVxdWVzdCBpcyBpbnZhbGlkLiIsImludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uIjoiVGhlIGZvbGxvd2luZyBDb3Jkb3ZhIHBsdWdpbnMgbXVzdCBiZSBpbnN0YWxsZWQgdG8gZW5hYmxlIE9BdXRoIHNpZ24taW46IGNvcmRvdmEtcGx1Z2luLWJ1aWxkaW5mbywgY29yZG92YS11bml2ZXJzYWwtbGlua3MtcGx1Z2luLCBjb3Jkb3ZhLXBsdWdpbi1icm93c2VydGFiLCBjb3Jkb3ZhLXBsdWdpbi1pbmFwcGJyb3dzZXIgYW5kIGNvcmRvdmEtcGx1Z2luLWN1c3RvbXVybHNjaGVtZS4iLCJpbnZhbGlkLWN1c3RvbS10b2tlbiI6IlRoZSBjdXN0b20gdG9rZW4gZm9ybWF0IGlzIGluY29ycmVjdC4gUGxlYXNlIGNoZWNrIHRoZSBkb2N1bWVudGF0aW9uLiIsImludmFsaWQtZHluYW1pYy1saW5rLWRvbWFpbiI6IlRoZSBwcm92aWRlZCBkeW5hbWljIGxpbmsgZG9tYWluIGlzIG5vdCBjb25maWd1cmVkIG9yIGF1dGhvcml6ZWQgZm9yIHRoZSBjdXJyZW50IHByb2plY3QuIiwiaW52YWxpZC1lbWFpbCI6IlRoZSBlbWFpbCBhZGRyZXNzIGlzIGJhZGx5IGZvcm1hdHRlZC4iLCJpbnZhbGlkLWFwaS1rZXkiOiJZb3VyIEFQSSBrZXkgaXMgaW52YWxpZCwgcGxlYXNlIGNoZWNrIHlvdSBoYXZlIGNvcGllZCBpdCBjb3JyZWN0bHkuIiwiaW52YWxpZC1jZXJ0LWhhc2giOiJUaGUgU0hBLTEgY2VydGlmaWNhdGUgaGFzaCBwcm92aWRlZCBpcyBpbnZhbGlkLiIsImludmFsaWQtY3JlZGVudGlhbCI6IlRoZSBzdXBwbGllZCBhdXRoIGNyZWRlbnRpYWwgaXMgbWFsZm9ybWVkIG9yIGhhcyBleHBpcmVkLiIsImludmFsaWQtbWVzc2FnZS1wYXlsb2FkIjoiVGhlIGVtYWlsIHRlbXBsYXRlIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBhY3Rpb24gY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIGluIGl0cyBtZXNzYWdlLiBQbGVhc2UgZml4IGJ5IGdvaW5nIHRvIHRoZSBBdXRoIGVtYWlsIHRlbXBsYXRlcyBzZWN0aW9uIGluIHRoZSBGaXJlYmFzZSBDb25zb2xlLiIsImludmFsaWQtb2F1dGgtcHJvdmlkZXIiOiJFbWFpbEF1dGhQcm92aWRlciBpcyBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIG9wZXJhdGlvbi4gVGhpcyBvcGVyYXRpb24gb25seSBzdXBwb3J0cyBPQXV0aCBwcm92aWRlcnMuIiwiaW52YWxpZC1vYXV0aC1jbGllbnQtaWQiOiJUaGUgT0F1dGggY2xpZW50IElEIHByb3ZpZGVkIGlzIGVpdGhlciBpbnZhbGlkIG9yIGRvZXMgbm90IG1hdGNoIHRoZSBzcGVjaWZpZWQgQVBJIGtleS4iLCJ1bmF1dGhvcml6ZWQtZG9tYWluIjoiVGhpcyBkb21haW4gaXMgbm90IGF1dGhvcml6ZWQgZm9yIE9BdXRoIG9wZXJhdGlvbnMgZm9yIHlvdXIgRmlyZWJhc2UgcHJvamVjdC4gRWRpdCB0aGUgbGlzdCBvZiBhdXRob3JpemVkIGRvbWFpbnMgZnJvbSB0aGUgRmlyZWJhc2UgY29uc29sZS4iLCJpbnZhbGlkLWFjdGlvbi1jb2RlIjoiVGhlIGFjdGlvbiBjb2RlIGlzIGludmFsaWQuIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgY29kZSBpcyBtYWxmb3JtZWQsIGV4cGlyZWQsIG9yIGhhcyBhbHJlYWR5IGJlZW4gdXNlZC4iLCJ3cm9uZy1wYXNzd29yZCI6IlRoZSBwYXNzd29yZCBpcyBpbnZhbGlkIG9yIHRoZSB1c2VyIGRvZXMgbm90IGhhdmUgYSBwYXNzd29yZC4iLCJpbnZhbGlkLXBlcnNpc3RlbmNlLXR5cGUiOiJUaGUgc3BlY2lmaWVkIHBlcnNpc3RlbmNlIHR5cGUgaXMgaW52YWxpZC4gSXQgY2FuIG9ubHkgYmUgbG9jYWwsIHNlc3Npb24gb3Igbm9uZS4iLCJpbnZhbGlkLXBob25lLW51bWJlciI6IlRoZSBmb3JtYXQgb2YgdGhlIHBob25lIG51bWJlciBwcm92aWRlZCBpcyBpbmNvcnJlY3QuIFBsZWFzZSBlbnRlciB0aGUgcGhvbmUgbnVtYmVyIGluIGEgZm9ybWF0IHRoYXQgY2FuIGJlIHBhcnNlZCBpbnRvIEUuMTY0IGZvcm1hdC4gRS4xNjQgcGhvbmUgbnVtYmVycyBhcmUgd3JpdHRlbiBpbiB0aGUgZm9ybWF0IFsrXVtjb3VudHJ5IGNvZGVdW3N1YnNjcmliZXIgbnVtYmVyIGluY2x1ZGluZyBhcmVhIGNvZGVdLiIsImludmFsaWQtcHJvdmlkZXItaWQiOiJUaGUgc3BlY2lmaWVkIHByb3ZpZGVyIElEIGlzIGludmFsaWQuIiwiaW52YWxpZC1yZWNpcGllbnQtZW1haWwiOiJUaGUgZW1haWwgY29ycmVzcG9uZGluZyB0byB0aGlzIGFjdGlvbiBmYWlsZWQgdG8gc2VuZCBhcyB0aGUgcHJvdmlkZWQgcmVjaXBpZW50IGVtYWlsIGFkZHJlc3MgaXMgaW52YWxpZC4iLCJpbnZhbGlkLXNlbmRlciI6IlRoZSBlbWFpbCB0ZW1wbGF0ZSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgYWN0aW9uIGNvbnRhaW5zIGFuIGludmFsaWQgc2VuZGVyIGVtYWlsIG9yIG5hbWUuIFBsZWFzZSBmaXggYnkgZ29pbmcgdG8gdGhlIEF1dGggZW1haWwgdGVtcGxhdGVzIHNlY3Rpb24gaW4gdGhlIEZpcmViYXNlIENvbnNvbGUuIiwiaW52YWxpZC12ZXJpZmljYXRpb24taWQiOiJUaGUgdmVyaWZpY2F0aW9uIElEIHVzZWQgdG8gY3JlYXRlIHRoZSBwaG9uZSBhdXRoIGNyZWRlbnRpYWwgaXMgaW52YWxpZC4iLCJpbnZhbGlkLXRlbmFudC1pZCI6IlRoZSBBdXRoIGluc3RhbmNlJ3MgdGVuYW50IElEIGlzIGludmFsaWQuIiwibWlzc2luZy1hbmRyb2lkLXBrZy1uYW1lIjoiQW4gQW5kcm9pZCBQYWNrYWdlIE5hbWUgbXVzdCBiZSBwcm92aWRlZCBpZiB0aGUgQW5kcm9pZCBBcHAgaXMgcmVxdWlyZWQgdG8gYmUgaW5zdGFsbGVkLiIsImF1dGgtZG9tYWluLWNvbmZpZy1yZXF1aXJlZCI6IkJlIHN1cmUgdG8gaW5jbHVkZSBhdXRoRG9tYWluIHdoZW4gY2FsbGluZyBmaXJlYmFzZS5pbml0aWFsaXplQXBwKCksIGJ5IGZvbGxvd2luZyB0aGUgaW5zdHJ1Y3Rpb25zIGluIHRoZSBGaXJlYmFzZSBjb25zb2xlLiIsIm1pc3NpbmctYXBwLWNyZWRlbnRpYWwiOiJUaGUgcGhvbmUgdmVyaWZpY2F0aW9uIHJlcXVlc3QgaXMgbWlzc2luZyBhbiBhcHBsaWNhdGlvbiB2ZXJpZmllciBhc3NlcnRpb24uIEEgcmVDQVBUQ0hBIHJlc3BvbnNlIHRva2VuIG5lZWRzIHRvIGJlIHByb3ZpZGVkLiIsIm1pc3NpbmctdmVyaWZpY2F0aW9uLWNvZGUiOiJUaGUgcGhvbmUgYXV0aCBjcmVkZW50aWFsIHdhcyBjcmVhdGVkIHdpdGggYW4gZW1wdHkgU01TIHZlcmlmaWNhdGlvbiBjb2RlLiIsIm1pc3NpbmctY29udGludWUtdXJpIjoiQSBjb250aW51ZSBVUkwgbXVzdCBiZSBwcm92aWRlZCBpbiB0aGUgcmVxdWVzdC4iLCJtaXNzaW5nLWlmcmFtZS1zdGFydCI6IkFuIGludGVybmFsIGVycm9yIGhhcyBvY2N1cnJlZC4iLCJtaXNzaW5nLWlvcy1idW5kbGUtaWQiOiJBbiBpT1MgQnVuZGxlIElEIG11c3QgYmUgcHJvdmlkZWQgaWYgYW4gQXBwIFN0b3JlIElEIGlzIHByb3ZpZGVkLiIsIm1pc3Npbmctb3ItaW52YWxpZC1ub25jZSI6IlRoZSByZXF1ZXN0IGRvZXMgbm90IGNvbnRhaW4gYSB2YWxpZCBub25jZS4gVGhpcyBjYW4gb2NjdXIgaWYgdGhlIFNIQS0yNTYgaGFzaCBvZiB0aGUgcHJvdmlkZWQgcmF3IG5vbmNlIGRvZXMgbm90IG1hdGNoIHRoZSBoYXNoZWQgbm9uY2UgaW4gdGhlIElEIHRva2VuIHBheWxvYWQuIiwibWlzc2luZy1waG9uZS1udW1iZXIiOiJUbyBzZW5kIHZlcmlmaWNhdGlvbiBjb2RlcywgcHJvdmlkZSBhIHBob25lIG51bWJlciBmb3IgdGhlIHJlY2lwaWVudC4iLCJtaXNzaW5nLXZlcmlmaWNhdGlvbi1pZCI6IlRoZSBwaG9uZSBhdXRoIGNyZWRlbnRpYWwgd2FzIGNyZWF0ZWQgd2l0aCBhbiBlbXB0eSB2ZXJpZmljYXRpb24gSUQuIiwiYXBwLWRlbGV0ZWQiOiJUaGlzIGluc3RhbmNlIG9mIEZpcmViYXNlQXBwIGhhcyBiZWVuIGRlbGV0ZWQuIiwiYWNjb3VudC1leGlzdHMtd2l0aC1kaWZmZXJlbnQtY3JlZGVudGlhbCI6IkFuIGFjY291bnQgYWxyZWFkeSBleGlzdHMgd2l0aCB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzIGJ1dCBkaWZmZXJlbnQgc2lnbi1pbiBjcmVkZW50aWFscy4gU2lnbiBpbiB1c2luZyBhIHByb3ZpZGVyIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGVtYWlsIGFkZHJlc3MuIiwibmV0d29yay1yZXF1ZXN0LWZhaWxlZCI6IkEgbmV0d29yayBlcnJvciAoc3VjaCBhcyB0aW1lb3V0LCBpbnRlcnJ1cHRlZCBjb25uZWN0aW9uIG9yIHVucmVhY2hhYmxlIGhvc3QpIGhhcyBvY2N1cnJlZC4iLCJuby1hdXRoLWV2ZW50IjoiQW4gaW50ZXJuYWwgZXJyb3IgaGFzIG9jY3VycmVkLiIsIm5vLXN1Y2gtcHJvdmlkZXIiOiJVc2VyIHdhcyBub3QgbGlua2VkIHRvIGFuIGFjY291bnQgd2l0aCB0aGUgZ2l2ZW4gcHJvdmlkZXIuIiwibnVsbC11c2VyIjoiQSBudWxsIHVzZXIgb2JqZWN0IHdhcyBwcm92aWRlZCBhcyB0aGUgYXJndW1lbnQgZm9yIGFuIG9wZXJhdGlvbiB3aGljaCByZXF1aXJlcyBhIG5vbi1udWxsIHVzZXIgb2JqZWN0LiIsIm9wZXJhdGlvbi1ub3QtYWxsb3dlZCI6IlRoZSBnaXZlbiBzaWduLWluIHByb3ZpZGVyIGlzIGRpc2FibGVkIGZvciB0aGlzIEZpcmViYXNlIHByb2plY3QuIEVuYWJsZSBpdCBpbiB0aGUgRmlyZWJhc2UgY29uc29sZSwgdW5kZXIgdGhlIHNpZ24taW4gbWV0aG9kIHRhYiBvZiB0aGUgQXV0aCBzZWN0aW9uLiIsIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnQiOidUaGlzIG9wZXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBlbnZpcm9ubWVudCB0aGlzIGFwcGxpY2F0aW9uIGlzIHJ1bm5pbmcgb24uICJsb2NhdGlvbi5wcm90b2NvbCIgbXVzdCBiZSBodHRwLCBodHRwcyBvciBjaHJvbWUtZXh0ZW5zaW9uIGFuZCB3ZWIgc3RvcmFnZSBtdXN0IGJlIGVuYWJsZWQuJywicG9wdXAtYmxvY2tlZCI6IlVuYWJsZSB0byBlc3RhYmxpc2ggYSBjb25uZWN0aW9uIHdpdGggdGhlIHBvcHVwLiBJdCBtYXkgaGF2ZSBiZWVuIGJsb2NrZWQgYnkgdGhlIGJyb3dzZXIuIiwicG9wdXAtY2xvc2VkLWJ5LXVzZXIiOiJUaGUgcG9wdXAgaGFzIGJlZW4gY2xvc2VkIGJ5IHRoZSB1c2VyIGJlZm9yZSBmaW5hbGl6aW5nIHRoZSBvcGVyYXRpb24uIiwicHJvdmlkZXItYWxyZWFkeS1saW5rZWQiOiJVc2VyIGNhbiBvbmx5IGJlIGxpbmtlZCB0byBvbmUgaWRlbnRpdHkgZm9yIHRoZSBnaXZlbiBwcm92aWRlci4iLCJxdW90YS1leGNlZWRlZCI6IlRoZSBwcm9qZWN0J3MgcXVvdGEgZm9yIHRoaXMgb3BlcmF0aW9uIGhhcyBiZWVuIGV4Y2VlZGVkLiIsInJlZGlyZWN0LWNhbmNlbGxlZC1ieS11c2VyIjoiVGhlIHJlZGlyZWN0IG9wZXJhdGlvbiBoYXMgYmVlbiBjYW5jZWxsZWQgYnkgdGhlIHVzZXIgYmVmb3JlIGZpbmFsaXppbmcuIiwicmVkaXJlY3Qtb3BlcmF0aW9uLXBlbmRpbmciOiJBIHJlZGlyZWN0IHNpZ24taW4gb3BlcmF0aW9uIGlzIGFscmVhZHkgcGVuZGluZy4iLCJyZWplY3RlZC1jcmVkZW50aWFsIjoiVGhlIHJlcXVlc3QgY29udGFpbnMgbWFsZm9ybWVkIG9yIG1pc21hdGNoaW5nIGNyZWRlbnRpYWxzLiIsInRlbmFudC1pZC1taXNtYXRjaCI6IlRoZSBwcm92aWRlZCB0ZW5hbnQgSUQgZG9lcyBub3QgbWF0Y2ggdGhlIEF1dGggaW5zdGFuY2UncyB0ZW5hbnQgSUQiLHRpbWVvdXQ6IlRoZSBvcGVyYXRpb24gaGFzIHRpbWVkIG91dC4iLCJ1c2VyLXRva2VuLWV4cGlyZWQiOiJUaGUgdXNlcidzIGNyZWRlbnRpYWwgaXMgbm8gbG9uZ2VyIHZhbGlkLiBUaGUgdXNlciBtdXN0IHNpZ24gaW4gYWdhaW4uIiwidG9vLW1hbnktcmVxdWVzdHMiOiJXZSBoYXZlIGJsb2NrZWQgYWxsIHJlcXVlc3RzIGZyb20gdGhpcyBkZXZpY2UgZHVlIHRvIHVudXN1YWwgYWN0aXZpdHkuIFRyeSBhZ2FpbiBsYXRlci4iLCJ1bmF1dGhvcml6ZWQtY29udGludWUtdXJpIjoiVGhlIGRvbWFpbiBvZiB0aGUgY29udGludWUgVVJMIGlzIG5vdCB3aGl0ZWxpc3RlZC4gIFBsZWFzZSB3aGl0ZWxpc3QgdGhlIGRvbWFpbiBpbiB0aGUgRmlyZWJhc2UgY29uc29sZS4iLCJ1bnN1cHBvcnRlZC1wZXJzaXN0ZW5jZS10eXBlIjoiVGhlIGN1cnJlbnQgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCB0aGUgc3BlY2lmaWVkIHBlcnNpc3RlbmNlIHR5cGUuIiwidW5zdXBwb3J0ZWQtdGVuYW50LW9wZXJhdGlvbiI6IlRoaXMgb3BlcmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYSBtdWx0aS10ZW5hbnQgY29udGV4dC4iLCJ1c2VyLWNhbmNlbGxlZCI6IlRoZSB1c2VyIGRpZCBub3QgZ3JhbnQgeW91ciBhcHBsaWNhdGlvbiB0aGUgcGVybWlzc2lvbnMgaXQgcmVxdWVzdGVkLiIsInVzZXItbm90LWZvdW5kIjoiVGhlcmUgaXMgbm8gdXNlciByZWNvcmQgY29ycmVzcG9uZGluZyB0byB0aGlzIGlkZW50aWZpZXIuIFRoZSB1c2VyIG1heSBoYXZlIGJlZW4gZGVsZXRlZC4iLCJ1c2VyLWRpc2FibGVkIjoiVGhlIHVzZXIgYWNjb3VudCBoYXMgYmVlbiBkaXNhYmxlZCBieSBhbiBhZG1pbmlzdHJhdG9yLiIsInVzZXItbWlzbWF0Y2giOiJUaGUgc3VwcGxpZWQgY3JlZGVudGlhbHMgZG8gbm90IGNvcnJlc3BvbmQgdG8gdGhlIHByZXZpb3VzbHkgc2lnbmVkIGluIHVzZXIuIiwidXNlci1zaWduZWQtb3V0IjoiIiwid2Vhay1wYXNzd29yZCI6IlRoZSBwYXNzd29yZCBtdXN0IGJlIDYgY2hhcmFjdGVycyBsb25nIG9yIG1vcmUuIiwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWQiOiJUaGlzIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZCBvciAzcmQgcGFydHkgY29va2llcyBhbmQgZGF0YSBtYXkgYmUgZGlzYWJsZWQuIn07ZnVuY3Rpb24gaXIodCl7dmFyIGU9a24odD1Bbih0KSxycil8fG51bGwsbj1rbih0LG9yKXx8bnVsbCxpPWtuKHQsdXIpfHxudWxsO2lmKGk9aSYmaHJbaV18fG51bGwsIWV8fCFufHwhaSl0aHJvdyBuZXcgUWkoImFyZ3VtZW50LWVycm9yIixycisiLCAiK29yKyJhbmQgIit1cisiIGFyZSByZXF1aXJlZCBpbiBhIHZhbGlkIGFjdGlvbiBjb2RlIFVSTC4iKTtLaSh0aGlzLHthcGlLZXk6ZSxvcGVyYXRpb246aSxjb2RlOm4sY29udGludWVVcmw6a24odCxhcil8fG51bGwsbGFuZ3VhZ2VDb2RlOmtuKHQsc3IpfHxudWxsLHRlbmFudElkOmtuKHQsY3IpfHxudWxsfSl9dmFyIHJyPSJhcGlLZXkiLG9yPSJvb2JDb2RlIixhcj0iY29udGludWVVcmwiLHNyPSJsYW5ndWFnZUNvZGUiLHVyPSJtb2RlIixjcj0idGVuYW50SWQiLGhyPXtyZWNvdmVyRW1haWw6IlJFQ09WRVJfRU1BSUwiLHJlc2V0UGFzc3dvcmQ6IlBBU1NXT1JEX1JFU0VUIixzaWduSW46R2ksdmVyaWZ5RW1haWw6IlZFUklGWV9FTUFJTCJ9O2Z1bmN0aW9uIGZyKHQpe3RyeXtyZXR1cm4gbmV3IGlyKHQpfWNhdGNoKGUpe3JldHVybiBudWxsfX1mdW5jdGlvbiBscih0KXt2YXIgZT10W2dyXTtpZigidW5kZWZpbmVkIj09PXR5cGVvZiBlKXRocm93IG5ldyBRaSgibWlzc2luZy1jb250aW51ZS11cmkiKTtpZigic3RyaW5nIiE9PXR5cGVvZiBlfHwic3RyaW5nIj09PXR5cGVvZiBlJiYhZS5sZW5ndGgpdGhyb3cgbmV3IFFpKCJpbnZhbGlkLWNvbnRpbnVlLXVyaSIpO3RoaXMuaD1lLHRoaXMuYj10aGlzLmE9bnVsbCx0aGlzLmc9ITE7dmFyIG49dFtkcl07aWYobiYmIm9iamVjdCI9PT10eXBlb2Ygbil7ZT1uW3dyXTt2YXIgaT1uW2JyXTtpZihuPW5beXJdLCJzdHJpbmciPT09dHlwZW9mIGUmJmUubGVuZ3RoKXtpZih0aGlzLmE9ZSwidW5kZWZpbmVkIiE9PXR5cGVvZiBpJiYiYm9vbGVhbiIhPT10eXBlb2YgaSl0aHJvdyBuZXcgUWkoImFyZ3VtZW50LWVycm9yIixicisiIHByb3BlcnR5IG11c3QgYmUgYSBib29sZWFuIHdoZW4gc3BlY2lmaWVkLiIpO2lmKHRoaXMuZz0hIWksInVuZGVmaW5lZCIhPT10eXBlb2YgbiYmKCJzdHJpbmciIT09dHlwZW9mIG58fCJzdHJpbmciPT09dHlwZW9mIG4mJiFuLmxlbmd0aCkpdGhyb3cgbmV3IFFpKCJhcmd1bWVudC1lcnJvciIseXIrIiBwcm9wZXJ0eSBtdXN0IGJlIGEgbm9uIGVtcHR5IHN0cmluZyB3aGVuIHNwZWNpZmllZC4iKTt0aGlzLmI9bnx8bnVsbH1lbHNle2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIGUpdGhyb3cgbmV3IFFpKCJhcmd1bWVudC1lcnJvciIsd3IrIiBwcm9wZXJ0eSBtdXN0IGJlIGEgbm9uIGVtcHR5IHN0cmluZyB3aGVuIHNwZWNpZmllZC4iKTtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiBpfHwidW5kZWZpbmVkIiE9PXR5cGVvZiBuKXRocm93IG5ldyBRaSgibWlzc2luZy1hbmRyb2lkLXBrZy1uYW1lIil9fWVsc2UgaWYoInVuZGVmaW5lZCIhPT10eXBlb2Ygbil0aHJvdyBuZXcgUWkoImFyZ3VtZW50LWVycm9yIixkcisiIHByb3BlcnR5IG11c3QgYmUgYSBub24gbnVsbCBvYmplY3Qgd2hlbiBzcGVjaWZpZWQuIik7aWYodGhpcy5mPW51bGwsKGU9dFttcl0pJiYib2JqZWN0Ij09PXR5cGVvZiBlKXtpZigic3RyaW5nIj09PXR5cGVvZihlPWVbSXJdKSYmZS5sZW5ndGgpdGhpcy5mPWU7ZWxzZSBpZigidW5kZWZpbmVkIiE9PXR5cGVvZiBlKXRocm93IG5ldyBRaSgiYXJndW1lbnQtZXJyb3IiLElyKyIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcgd2hlbiBzcGVjaWZpZWQuIil9ZWxzZSBpZigidW5kZWZpbmVkIiE9PXR5cGVvZiBlKXRocm93IG5ldyBRaSgiYXJndW1lbnQtZXJyb3IiLG1yKyIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbiBudWxsIG9iamVjdCB3aGVuIHNwZWNpZmllZC4iKTtpZigidW5kZWZpbmVkIiE9PXR5cGVvZihlPXRbdnJdKSYmImJvb2xlYW4iIT09dHlwZW9mIGUpdGhyb3cgbmV3IFFpKCJhcmd1bWVudC1lcnJvciIsdnIrIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbiB3aGVuIHNwZWNpZmllZC4iKTtpZih0aGlzLmM9ISFlLCJ1bmRlZmluZWQiIT09dHlwZW9mKHQ9dFtwcl0pJiYoInN0cmluZyIhPT10eXBlb2YgdHx8InN0cmluZyI9PT10eXBlb2YgdCYmIXQubGVuZ3RoKSl0aHJvdyBuZXcgUWkoImFyZ3VtZW50LWVycm9yIixwcisiIHByb3BlcnR5IG11c3QgYmUgYSBub24gZW1wdHkgc3RyaW5nIHdoZW4gc3BlY2lmaWVkLiIpO3RoaXMuaT10fHxudWxsfXZhciBkcj0iYW5kcm9pZCIscHI9ImR5bmFtaWNMaW5rRG9tYWluIix2cj0iaGFuZGxlQ29kZUluQXBwIixtcj0iaU9TIixncj0idXJsIixicj0iaW5zdGFsbEFwcCIseXI9Im1pbmltdW1WZXJzaW9uIix3cj0icGFja2FnZU5hbWUiLElyPSJidW5kbGVJZCI7ZnVuY3Rpb24gVHIodCl7dmFyIGU9e307Zm9yKHZhciBuIGluIGUuY29udGludWVVcmw9dC5oLGUuY2FuSGFuZGxlQ29kZUluQXBwPXQuYywoZS5hbmRyb2lkUGFja2FnZU5hbWU9dC5hKSYmKGUuYW5kcm9pZE1pbmltdW1WZXJzaW9uPXQuYixlLmFuZHJvaWRJbnN0YWxsQXBwPXQuZyksZS5pT1NCdW5kbGVJZD10LmYsZS5keW5hbWljTGlua0RvbWFpbj10LmksZSludWxsPT09ZVtuXSYmZGVsZXRlIGVbbl07cmV0dXJuIGV9dmFyIEVyPW51bGwsa3I9bnVsbDtmdW5jdGlvbiBBcih0KXt2YXIgZT0iIjtyZXR1cm4gZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKGUpe2Zvcig7aTx0Lmxlbmd0aDspe3ZhciBuPXQuY2hhckF0KGkrKykscj1rcltuXTtpZihudWxsIT1yKXJldHVybiByO2lmKCEvXltcc1x4YTBdKiQvLnRlc3QobikpdGhyb3cgRXJyb3IoIlVua25vd24gYmFzZTY0IGVuY29kaW5nIGF0IGNoYXI6ICIrbil9cmV0dXJuIGV9IWZ1bmN0aW9uKCl7aWYoIUVyKXtFcj17fSxrcj17fTtmb3IodmFyIHQ9MDs2NT50O3QrKylFclt0XT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iLmNoYXJBdCh0KSxrcltFclt0XV09dCw2Mjw9dCYmKGtyWyJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fLiIuY2hhckF0KHQpXT10KX19KCk7Zm9yKHZhciBpPTA7Oyl7dmFyIHI9bigtMSksbz1uKDApLGE9big2NCkscz1uKDY0KTtpZig2ND09PXMmJi0xPT09cilicmVhaztlKHI8PDJ8bz4+NCksNjQhPWEmJihlKG88PDQmMjQwfGE+PjIpLDY0IT1zJiZlKGE8PDYmMTkyfHMpKX19KHQsKGZ1bmN0aW9uKHQpe2UrPVN0cmluZy5mcm9tQ2hhckNvZGUodCl9KSksZX1mdW5jdGlvbiBTcih0KXt0aGlzLmY9dC5zdWIsUygpLHRoaXMuYT10LnByb3ZpZGVyX2lkfHx0LmZpcmViYXNlJiZ0LmZpcmViYXNlLnNpZ25faW5fcHJvdmlkZXJ8fG51bGwsdGhpcy5jPXQuZmlyZWJhc2UmJnQuZmlyZWJhc2UudGVuYW50fHxudWxsLHRoaXMuYj0hIXQuaXNfYW5vbnltb3VzfHwiYW5vbnltb3VzIj09dGhpcy5hfWZ1bmN0aW9uIE5yKHQpe3JldHVybih0PU9yKHQpKSYmdC5zdWImJnQuaXNzJiZ0LmF1ZCYmdC5leHA/bmV3IFNyKHQpOm51bGx9ZnVuY3Rpb24gT3IodCl7aWYoIXQpcmV0dXJuIG51bGw7aWYoMyE9KHQ9dC5zcGxpdCgiLiIpKS5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciBlPSg0LSh0PXRbMV0pLmxlbmd0aCU0KSU0LG49MDtuPGU7bisrKXQrPSIuIjt0cnl7cmV0dXJuIEpTT04ucGFyc2UoQXIodCkpfWNhdGNoKGkpe31yZXR1cm4gbnVsbH1Tci5wcm90b3R5cGUuUj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9LFNyLnByb3RvdHlwZS5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07dmFyIF9yLFByPXtiZDp7Y2I6Imh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2lkZW50aXR5dG9vbGtpdC92My9yZWx5aW5ncGFydHkvIixpYjoiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGVhcGlzLmNvbS92MS90b2tlbiIsaWQ6InAifSxkZDp7Y2I6Imh0dHBzOi8vc3RhZ2luZy13d3cuc2FuZGJveC5nb29nbGVhcGlzLmNvbS9pZGVudGl0eXRvb2xraXQvdjMvcmVseWluZ3BhcnR5LyIsaWI6Imh0dHBzOi8vc3RhZ2luZy1zZWN1cmV0b2tlbi5zYW5kYm94Lmdvb2dsZWFwaXMuY29tL3YxL3Rva2VuIixpZDoicyJ9LGVkOntjYjoiaHR0cHM6Ly93d3ctZ29vZ2xlYXBpcy10ZXN0LnNhbmRib3guZ29vZ2xlLmNvbS9pZGVudGl0eXRvb2xraXQvdjMvcmVseWluZ3BhcnR5LyIsaWI6Imh0dHBzOi8vdGVzdC1zZWN1cmV0b2tlbi5zYW5kYm94Lmdvb2dsZWFwaXMuY29tL3YxL3Rva2VuIixpZDoidCJ9fTtmdW5jdGlvbiBScih0KXtmb3IodmFyIGUgaW4gUHIpaWYoUHJbZV0uaWQ9PT10KXJldHVybntmaXJlYmFzZUVuZHBvaW50Oih0PVByW2VdKS5jYixzZWN1cmVUb2tlbkVuZHBvaW50OnQuaWJ9O3JldHVybiBudWxsfV9yPVJyKCJfX0VJRF9fIik/Il9fRUlEX18iOnZvaWQgMDt2YXIgQ3I9Im9hdXRoX2NvbnN1bWVyX2tleSBvYXV0aF9ub25jZSBvYXV0aF9zaWduYXR1cmUgb2F1dGhfc2lnbmF0dXJlX21ldGhvZCBvYXV0aF90aW1lc3RhbXAgb2F1dGhfdG9rZW4gb2F1dGhfdmVyc2lvbiIuc3BsaXQoIiAiKSxEcj1bImNsaWVudF9pZCIsInJlc3BvbnNlX3R5cGUiLCJzY29wZSIsInJlZGlyZWN0X3VyaSIsInN0YXRlIl0sTHI9e1hjOntFYToibG9jYWxlIixzYTo3MDAscmE6NjAwLEZhOiJmYWNlYm9vay5jb20iLFFhOkRyfSxaYzp7RWE6bnVsbCxzYTo1MDAscmE6NzUwLEZhOiJnaXRodWIuY29tIixRYTpEcn0sJGM6e0VhOiJobCIsc2E6NTE1LHJhOjY4MCxGYToiZ29vZ2xlLmNvbSIsUWE6RHJ9LGZkOntFYToibGFuZyIsc2E6NDg1LHJhOjcwNSxGYToidHdpdHRlci5jb20iLFFhOkNyfSxWYzp7RWE6ImxvY2FsZSIsc2E6NjAwLHJhOjYwMCxGYToiYXBwbGUuY29tIixRYTpbXX19O2Z1bmN0aW9uIHhyKHQpe2Zvcih2YXIgZSBpbiBMcilpZihMcltlXS5GYT09dClyZXR1cm4gTHJbZV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gTXIodCl7dmFyIGU9e307ZVsiZmFjZWJvb2suY29tIl09S3IsZVsiZ29vZ2xlLmNvbSJdPUhyLGVbImdpdGh1Yi5jb20iXT1xcixlWyJ0d2l0dGVyLmNvbSJdPUJyO3ZhciBuPXQmJnRbVXJdO3RyeXtpZihuKXJldHVybiBlW25dP25ldyBlW25dKHQpOm5ldyBGcih0KTtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiB0W2pyXSlyZXR1cm4gbmV3IFZyKHQpfWNhdGNoKGkpe31yZXR1cm4gbnVsbH12YXIganI9ImlkVG9rZW4iLFVyPSJwcm92aWRlcklkIjtmdW5jdGlvbiBWcih0KXt2YXIgZT10W1VyXTtpZighZSYmdFtqcl0pe3ZhciBuPU5yKHRbanJdKTtuJiZuLmEmJihlPW4uYSl9aWYoIWUpdGhyb3cgRXJyb3IoIkludmFsaWQgYWRkaXRpb25hbCB1c2VyIGluZm8hIik7ImFub255bW91cyIhPWUmJiJjdXN0b20iIT1lfHwoZT1udWxsKSxuPSExLCJ1bmRlZmluZWQiIT09dHlwZW9mIHQuaXNOZXdVc2VyP249ISF0LmlzTmV3VXNlcjoiaWRlbnRpdHl0b29sa2l0I1NpZ251cE5ld1VzZXJSZXNwb25zZSI9PT10LmtpbmQmJihuPSEwKSxGaSh0aGlzLCJwcm92aWRlcklkIixlKSxGaSh0aGlzLCJpc05ld1VzZXIiLG4pfWZ1bmN0aW9uIEZyKHQpe1ZyLmNhbGwodGhpcyx0KSxGaSh0aGlzLCJwcm9maWxlIixIaSgodD1PaSh0LnJhd1VzZXJJbmZvfHwie30iKSl8fHt9KSl9ZnVuY3Rpb24gS3IodCl7aWYoRnIuY2FsbCh0aGlzLHQpLCJmYWNlYm9vay5jb20iIT10aGlzLnByb3ZpZGVySWQpdGhyb3cgRXJyb3IoIkludmFsaWQgcHJvdmlkZXIgSUQhIil9ZnVuY3Rpb24gcXIodCl7aWYoRnIuY2FsbCh0aGlzLHQpLCJnaXRodWIuY29tIiE9dGhpcy5wcm92aWRlcklkKXRocm93IEVycm9yKCJJbnZhbGlkIHByb3ZpZGVyIElEISIpO0ZpKHRoaXMsInVzZXJuYW1lIix0aGlzLnByb2ZpbGUmJnRoaXMucHJvZmlsZS5sb2dpbnx8bnVsbCl9ZnVuY3Rpb24gSHIodCl7aWYoRnIuY2FsbCh0aGlzLHQpLCJnb29nbGUuY29tIiE9dGhpcy5wcm92aWRlcklkKXRocm93IEVycm9yKCJJbnZhbGlkIHByb3ZpZGVyIElEISIpfWZ1bmN0aW9uIEJyKHQpe2lmKEZyLmNhbGwodGhpcyx0KSwidHdpdHRlci5jb20iIT10aGlzLnByb3ZpZGVySWQpdGhyb3cgRXJyb3IoIkludmFsaWQgcHJvdmlkZXIgSUQhIik7RmkodGhpcywidXNlcm5hbWUiLHQuc2NyZWVuTmFtZXx8bnVsbCl9ZnVuY3Rpb24gR3IodCl7dmFyIGU9QW4odCksbj1rbihlLCJsaW5rIiksaT1rbihBbihuKSwibGluayIpO3JldHVybiBlPWtuKGUsImRlZXBfbGlua19pZCIpLGtuKEFuKGUpLCJsaW5rIil8fGV8fGl8fG58fHR9ZnVuY3Rpb24gV3IoKXt9ZnVuY3Rpb24gWHIodCxlKXtyZXR1cm4gdC50aGVuKChmdW5jdGlvbih0KXtpZih0W01hXSl7dmFyIG49TnIodFtNYV0pO2lmKCFufHxlIT1uLmYpdGhyb3cgbmV3IFFpKCJ1c2VyLW1pc21hdGNoIik7cmV0dXJuIHR9dGhyb3cgbmV3IFFpKCJ1c2VyLW1pc21hdGNoIil9KSkucygoZnVuY3Rpb24odCl7dGhyb3cgdCYmdC5jb2RlJiZ0LmNvZGU9PWVyKyJ1c2VyLW5vdC1mb3VuZCI/bmV3IFFpKCJ1c2VyLW1pc21hdGNoIik6dH0pKX1mdW5jdGlvbiBKcih0LGUpe2lmKCFlKXRocm93IG5ldyBRaSgiaW50ZXJuYWwtZXJyb3IiLCJmYWlsZWQgdG8gY29uc3RydWN0IGEgY3JlZGVudGlhbCIpO3RoaXMuYT1lLEZpKHRoaXMsInByb3ZpZGVySWQiLHQpLEZpKHRoaXMsInNpZ25Jbk1ldGhvZCIsdCl9ZnVuY3Rpb24gWXIodCl7cmV0dXJue3BlbmRpbmdUb2tlbjp0LmEscmVxdWVzdFVyaToiaHR0cDovL2xvY2FsaG9zdCJ9fWZ1bmN0aW9uIHpyKHQpe2lmKHQmJnQucHJvdmlkZXJJZCYmdC5zaWduSW5NZXRob2QmJjA9PXQucHJvdmlkZXJJZC5pbmRleE9mKCJzYW1sLiIpJiZ0LnBlbmRpbmdUb2tlbil0cnl7cmV0dXJuIG5ldyBKcih0LnByb3ZpZGVySWQsdC5wZW5kaW5nVG9rZW4pfWNhdGNoKGUpe31yZXR1cm4gbnVsbH1mdW5jdGlvbiAkcih0LGUsbil7aWYodGhpcy5hPW51bGwsZS5pZFRva2VufHxlLmFjY2Vzc1Rva2VuKWUuaWRUb2tlbiYmRmkodGhpcywiaWRUb2tlbiIsZS5pZFRva2VuKSxlLmFjY2Vzc1Rva2VuJiZGaSh0aGlzLCJhY2Nlc3NUb2tlbiIsZS5hY2Nlc3NUb2tlbiksZS5ub25jZSYmIWUucGVuZGluZ1Rva2VuJiZGaSh0aGlzLCJub25jZSIsZS5ub25jZSksZS5wZW5kaW5nVG9rZW4mJih0aGlzLmE9ZS5wZW5kaW5nVG9rZW4pO2Vsc2V7aWYoIWUub2F1dGhUb2tlbnx8IWUub2F1dGhUb2tlblNlY3JldCl0aHJvdyBuZXcgUWkoImludGVybmFsLWVycm9yIiwiZmFpbGVkIHRvIGNvbnN0cnVjdCBhIGNyZWRlbnRpYWwiKTtGaSh0aGlzLCJhY2Nlc3NUb2tlbiIsZS5vYXV0aFRva2VuKSxGaSh0aGlzLCJzZWNyZXQiLGUub2F1dGhUb2tlblNlY3JldCl9RmkodGhpcywicHJvdmlkZXJJZCIsdCksRmkodGhpcywic2lnbkluTWV0aG9kIixuKX1mdW5jdGlvbiBacih0KXt2YXIgZT17fTtyZXR1cm4gdC5pZFRva2VuJiYoZS5pZF90b2tlbj10LmlkVG9rZW4pLHQuYWNjZXNzVG9rZW4mJihlLmFjY2Vzc190b2tlbj10LmFjY2Vzc1Rva2VuKSx0LnNlY3JldCYmKGUub2F1dGhfdG9rZW5fc2VjcmV0PXQuc2VjcmV0KSxlLnByb3ZpZGVySWQ9dC5wcm92aWRlcklkLHQubm9uY2UmJiF0LmEmJihlLm5vbmNlPXQubm9uY2UpLGU9e3Bvc3RCb2R5OmpuKGUpLnRvU3RyaW5nKCkscmVxdWVzdFVyaToiaHR0cDovL2xvY2FsaG9zdCJ9LHQuYSYmKGRlbGV0ZSBlLnBvc3RCb2R5LGUucGVuZGluZ1Rva2VuPXQuYSksZX1mdW5jdGlvbiBRcih0KXtpZih0JiZ0LnByb3ZpZGVySWQmJnQuc2lnbkluTWV0aG9kKXt2YXIgZT17aWRUb2tlbjp0Lm9hdXRoSWRUb2tlbixhY2Nlc3NUb2tlbjp0Lm9hdXRoVG9rZW5TZWNyZXQ/bnVsbDp0Lm9hdXRoQWNjZXNzVG9rZW4sb2F1dGhUb2tlblNlY3JldDp0Lm9hdXRoVG9rZW5TZWNyZXQsb2F1dGhUb2tlbjp0Lm9hdXRoVG9rZW5TZWNyZXQmJnQub2F1dGhBY2Nlc3NUb2tlbixub25jZTp0Lm5vbmNlLHBlbmRpbmdUb2tlbjp0LnBlbmRpbmdUb2tlbn07dHJ5e3JldHVybiBuZXcgJHIodC5wcm92aWRlcklkLGUsdC5zaWduSW5NZXRob2QpfWNhdGNoKG4pe319cmV0dXJuIG51bGx9ZnVuY3Rpb24gdG8odCxlKXt0aGlzLkZjPWV8fFtdLEtpKHRoaXMse3Byb3ZpZGVySWQ6dCxpc09BdXRoUHJvdmlkZXI6ITB9KSx0aGlzLnpiPXt9LHRoaXMuZWI9KHhyKHQpfHx7fSkuRWF8fG51bGwsdGhpcy5iYj1udWxsfWZ1bmN0aW9uIGVvKHQpe2lmKCJzdHJpbmciIT09dHlwZW9mIHR8fDAhPXQuaW5kZXhPZigic2FtbC4iKSl0aHJvdyBuZXcgUWkoImFyZ3VtZW50LWVycm9yIiwnU0FNTCBwcm92aWRlciBJRHMgbXVzdCBiZSBwcmVmaXhlZCB3aXRoICJzYW1sLiInKTt0by5jYWxsKHRoaXMsdCxbXSl9ZnVuY3Rpb24gbm8odCl7dG8uY2FsbCh0aGlzLHQsRHIpLHRoaXMuYT1bXX1mdW5jdGlvbiBpbygpe25vLmNhbGwodGhpcywiZmFjZWJvb2suY29tIil9ZnVuY3Rpb24gcm8odCl7aWYoIXQpdGhyb3cgbmV3IFFpKCJhcmd1bWVudC1lcnJvciIsImNyZWRlbnRpYWwgZmFpbGVkOiBleHBlY3RlZCAxIGFyZ3VtZW50ICh0aGUgT0F1dGggYWNjZXNzIHRva2VuKS4iKTt2YXIgZT10O3JldHVybiB5KHQpJiYoZT10LmFjY2Vzc1Rva2VuKSwobmV3IGlvKS5jcmVkZW50aWFsKHthY2Nlc3NUb2tlbjplfSl9ZnVuY3Rpb24gb28oKXtuby5jYWxsKHRoaXMsImdpdGh1Yi5jb20iKX1mdW5jdGlvbiBhbyh0KXtpZighdCl0aHJvdyBuZXcgUWkoImFyZ3VtZW50LWVycm9yIiwiY3JlZGVudGlhbCBmYWlsZWQ6IGV4cGVjdGVkIDEgYXJndW1lbnQgKHRoZSBPQXV0aCBhY2Nlc3MgdG9rZW4pLiIpO3ZhciBlPXQ7cmV0dXJuIHkodCkmJihlPXQuYWNjZXNzVG9rZW4pLChuZXcgb28pLmNyZWRlbnRpYWwoe2FjY2Vzc1Rva2VuOmV9KX1mdW5jdGlvbiBzbygpe25vLmNhbGwodGhpcywiZ29vZ2xlLmNvbSIpLHRoaXMueWEoInByb2ZpbGUiKX1mdW5jdGlvbiB1byh0LGUpe3ZhciBuPXQ7cmV0dXJuIHkodCkmJihuPXQuaWRUb2tlbixlPXQuYWNjZXNzVG9rZW4pLChuZXcgc28pLmNyZWRlbnRpYWwoe2lkVG9rZW46bixhY2Nlc3NUb2tlbjplfSl9ZnVuY3Rpb24gY28oKXt0by5jYWxsKHRoaXMsInR3aXR0ZXIuY29tIixDcil9ZnVuY3Rpb24gaG8odCxlKXt2YXIgbj10O2lmKHkobil8fChuPXtvYXV0aFRva2VuOnQsb2F1dGhUb2tlblNlY3JldDplfSksIW4ub2F1dGhUb2tlbnx8IW4ub2F1dGhUb2tlblNlY3JldCl0aHJvdyBuZXcgUWkoImFyZ3VtZW50LWVycm9yIiwiY3JlZGVudGlhbCBmYWlsZWQ6IGV4cGVjdGVkIDIgYXJndW1lbnRzICh0aGUgT0F1dGggYWNjZXNzIHRva2VuIGFuZCBzZWNyZXQpLiIpO3JldHVybiBuZXcgJHIoInR3aXR0ZXIuY29tIixuLCJ0d2l0dGVyLmNvbSIpfWZ1bmN0aW9uIGZvKHQsZSxuKXt0aGlzLmE9dCx0aGlzLmM9ZSxGaSh0aGlzLCJwcm92aWRlcklkIiwicGFzc3dvcmQiKSxGaSh0aGlzLCJzaWduSW5NZXRob2QiLG49PT1wby5FTUFJTF9MSU5LX1NJR05fSU5fTUVUSE9EP3BvLkVNQUlMX0xJTktfU0lHTl9JTl9NRVRIT0Q6cG8uRU1BSUxfUEFTU1dPUkRfU0lHTl9JTl9NRVRIT0QpfWZ1bmN0aW9uIGxvKHQpe3JldHVybiB0JiZ0LmVtYWlsJiZ0LnBhc3N3b3JkP25ldyBmbyh0LmVtYWlsLHQucGFzc3dvcmQsdC5zaWduSW5NZXRob2QpOm51bGx9ZnVuY3Rpb24gcG8oKXtLaSh0aGlzLHtwcm92aWRlcklkOiJwYXNzd29yZCIsaXNPQXV0aFByb3ZpZGVyOiExfSl9ZnVuY3Rpb24gdm8odCxlKXtpZighKGU9bW8oZSkpKXRocm93IG5ldyBRaSgiYXJndW1lbnQtZXJyb3IiLCJJbnZhbGlkIGVtYWlsIGxpbmshIik7cmV0dXJuIG5ldyBmbyh0LGUuY29kZSxwby5FTUFJTF9MSU5LX1NJR05fSU5fTUVUSE9EKX1mdW5jdGlvbiBtbyh0KXtyZXR1cm4odD1mcih0PUdyKHQpKSkmJnQub3BlcmF0aW9uPT09R2k/dDpudWxsfWZ1bmN0aW9uIGdvKHQpe2lmKCEodC5WYSYmdC5VYXx8dC5IYSYmdC5iYSkpdGhyb3cgbmV3IFFpKCJpbnRlcm5hbC1lcnJvciIpO3RoaXMuYT10LEZpKHRoaXMsInByb3ZpZGVySWQiLCJwaG9uZSIpLEZpKHRoaXMsInNpZ25Jbk1ldGhvZCIsInBob25lIil9ZnVuY3Rpb24gYm8odCl7aWYodCYmInBob25lIj09PXQucHJvdmlkZXJJZCYmKHQudmVyaWZpY2F0aW9uSWQmJnQudmVyaWZpY2F0aW9uQ29kZXx8dC50ZW1wb3JhcnlQcm9vZiYmdC5waG9uZU51bWJlcikpe3ZhciBlPXt9O3JldHVybiBGKFsidmVyaWZpY2F0aW9uSWQiLCJ2ZXJpZmljYXRpb25Db2RlIiwidGVtcG9yYXJ5UHJvb2YiLCJwaG9uZU51bWJlciJdLChmdW5jdGlvbihuKXt0W25dJiYoZVtuXT10W25dKX0pKSxuZXcgZ28oZSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24geW8odCl7cmV0dXJuIHQuYS5IYSYmdC5hLmJhP3t0ZW1wb3JhcnlQcm9vZjp0LmEuSGEscGhvbmVOdW1iZXI6dC5hLmJhfTp7c2Vzc2lvbkluZm86dC5hLlZhLGNvZGU6dC5hLlVhfX1mdW5jdGlvbiB3byh0KXt0cnl7dGhpcy5hPXR8fGkuYS5hdXRoKCl9Y2F0Y2goZSl7dGhyb3cgbmV3IFFpKCJhcmd1bWVudC1lcnJvciIsIkVpdGhlciBhbiBpbnN0YW5jZSBvZiBmaXJlYmFzZS5hdXRoLkF1dGggbXVzdCBiZSBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIGZpcmViYXNlLmF1dGguUGhvbmVBdXRoUHJvdmlkZXIgY29uc3RydWN0b3IsIG9yIHRoZSBkZWZhdWx0IGZpcmViYXNlIEFwcCBpbnN0YW5jZSBtdXN0IGJlIGluaXRpYWxpemVkIHZpYSBmaXJlYmFzZS5pbml0aWFsaXplQXBwKCkuIil9S2kodGhpcyx7cHJvdmlkZXJJZDoicGhvbmUiLGlzT0F1dGhQcm92aWRlcjohMX0pfWZ1bmN0aW9uIElvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFFpKCJtaXNzaW5nLXZlcmlmaWNhdGlvbi1pZCIpO2lmKCFlKXRocm93IG5ldyBRaSgibWlzc2luZy12ZXJpZmljYXRpb24tY29kZSIpO3JldHVybiBuZXcgZ28oe1ZhOnQsVWE6ZX0pfWZ1bmN0aW9uIFRvKHQpe2lmKHQudGVtcG9yYXJ5UHJvb2YmJnQucGhvbmVOdW1iZXIpcmV0dXJuIG5ldyBnbyh7SGE6dC50ZW1wb3JhcnlQcm9vZixiYTp0LnBob25lTnVtYmVyfSk7dmFyIGU9dCYmdC5wcm92aWRlcklkO2lmKCFlfHwicGFzc3dvcmQiPT09ZSlyZXR1cm4gbnVsbDt2YXIgbj10JiZ0Lm9hdXRoQWNjZXNzVG9rZW4saT10JiZ0Lm9hdXRoVG9rZW5TZWNyZXQscj10JiZ0Lm5vbmNlLG89dCYmdC5vYXV0aElkVG9rZW4sYT10JiZ0LnBlbmRpbmdUb2tlbjt0cnl7c3dpdGNoKGUpe2Nhc2UiZ29vZ2xlLmNvbSI6cmV0dXJuIHVvKG8sbik7Y2FzZSJmYWNlYm9vay5jb20iOnJldHVybiBybyhuKTtjYXNlImdpdGh1Yi5jb20iOnJldHVybiBhbyhuKTtjYXNlInR3aXR0ZXIuY29tIjpyZXR1cm4gaG8obixpKTtkZWZhdWx0OnJldHVybiBufHxpfHxvfHxhP2E/MD09ZS5pbmRleE9mKCJzYW1sLiIpP25ldyBKcihlLGEpOm5ldyAkcihlLHtwZW5kaW5nVG9rZW46YSxpZFRva2VuOnQub2F1dGhJZFRva2VuLGFjY2Vzc1Rva2VuOnQub2F1dGhBY2Nlc3NUb2tlbn0sZSk6bmV3IG5vKGUpLmNyZWRlbnRpYWwoe2lkVG9rZW46byxhY2Nlc3NUb2tlbjpuLHJhd05vbmNlOnJ9KTpudWxsfX1jYXRjaChzKXtyZXR1cm4gbnVsbH19ZnVuY3Rpb24gRW8odCl7aWYoIXQuaXNPQXV0aFByb3ZpZGVyKXRocm93IG5ldyBRaSgiaW52YWxpZC1vYXV0aC1wcm92aWRlciIpfWZ1bmN0aW9uIGtvKHQsZSxuLGkscixvLGEpe2lmKHRoaXMuYz10LHRoaXMuYj1lfHxudWxsLHRoaXMuZz1ufHxudWxsLHRoaXMuZj1pfHxudWxsLHRoaXMuaT1vfHxudWxsLHRoaXMuaD1hfHxudWxsLHRoaXMuYT1yfHxudWxsLCF0aGlzLmcmJiF0aGlzLmEpdGhyb3cgbmV3IFFpKCJpbnZhbGlkLWF1dGgtZXZlbnQiKTtpZih0aGlzLmcmJnRoaXMuYSl0aHJvdyBuZXcgUWkoImludmFsaWQtYXV0aC1ldmVudCIpO2lmKHRoaXMuZyYmIXRoaXMuZil0aHJvdyBuZXcgUWkoImludmFsaWQtYXV0aC1ldmVudCIpfWZ1bmN0aW9uIEFvKHQpe3JldHVybih0PXR8fHt9KS50eXBlP25ldyBrbyh0LnR5cGUsdC5ldmVudElkLHQudXJsUmVzcG9uc2UsdC5zZXNzaW9uSWQsdC5lcnJvciYmdHIodC5lcnJvciksdC5wb3N0Qm9keSx0LnRlbmFudElkKTpudWxsfWZ1bmN0aW9uIFNvKCl7dGhpcy5iPW51bGwsdGhpcy5hPVtdfU4oRnIsVnIpLE4oS3IsRnIpLE4ocXIsRnIpLE4oSHIsRnIpLE4oQnIsRnIpLEpyLnByb3RvdHlwZS5uYT1mdW5jdGlvbih0KXtyZXR1cm4gdHModCxZcih0aGlzKSl9LEpyLnByb3RvdHlwZS5iPWZ1bmN0aW9uKHQsZSl7dmFyIG49WXIodGhpcyk7cmV0dXJuIG4uaWRUb2tlbj1lLGVzKHQsbil9LEpyLnByb3RvdHlwZS5mPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhyKG5zKHQsWXIodGhpcykpLGUpfSxKci5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3JldHVybntwcm92aWRlcklkOnRoaXMucHJvdmlkZXJJZCxzaWduSW5NZXRob2Q6dGhpcy5zaWduSW5NZXRob2QscGVuZGluZ1Rva2VuOnRoaXMuYX19LCRyLnByb3RvdHlwZS5uYT1mdW5jdGlvbih0KXtyZXR1cm4gdHModCxacih0aGlzKSl9LCRyLnByb3RvdHlwZS5iPWZ1bmN0aW9uKHQsZSl7dmFyIG49WnIodGhpcyk7cmV0dXJuIG4uaWRUb2tlbj1lLGVzKHQsbil9LCRyLnByb3RvdHlwZS5mPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhyKG5zKHQsWnIodGhpcykpLGUpfSwkci5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciB0PXtwcm92aWRlcklkOnRoaXMucHJvdmlkZXJJZCxzaWduSW5NZXRob2Q6dGhpcy5zaWduSW5NZXRob2R9O3JldHVybiB0aGlzLmlkVG9rZW4mJih0Lm9hdXRoSWRUb2tlbj10aGlzLmlkVG9rZW4pLHRoaXMuYWNjZXNzVG9rZW4mJih0Lm9hdXRoQWNjZXNzVG9rZW49dGhpcy5hY2Nlc3NUb2tlbiksdGhpcy5zZWNyZXQmJih0Lm9hdXRoVG9rZW5TZWNyZXQ9dGhpcy5zZWNyZXQpLHRoaXMubm9uY2UmJih0Lm5vbmNlPXRoaXMubm9uY2UpLHRoaXMuYSYmKHQucGVuZGluZ1Rva2VuPXRoaXMuYSksdH0sdG8ucHJvdG90eXBlLkdhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnpiPXoodCksdGhpc30sTihlbyx0byksTihubyx0byksbm8ucHJvdG90eXBlLnlhPWZ1bmN0aW9uKHQpe3JldHVybiBIKHRoaXMuYSx0KXx8dGhpcy5hLnB1c2godCksdGhpc30sbm8ucHJvdG90eXBlLkhiPWZ1bmN0aW9uKCl7cmV0dXJuIFgodGhpcy5hKX0sbm8ucHJvdG90eXBlLmNyZWRlbnRpYWw9ZnVuY3Rpb24odCxlKXt2YXIgbjtpZighKG49eSh0KT97aWRUb2tlbjp0LmlkVG9rZW58fG51bGwsYWNjZXNzVG9rZW46dC5hY2Nlc3NUb2tlbnx8bnVsbCxub25jZTp0LnJhd05vbmNlfHxudWxsfTp7aWRUb2tlbjp0fHxudWxsLGFjY2Vzc1Rva2VuOmV8fG51bGx9KS5pZFRva2VuJiYhbi5hY2Nlc3NUb2tlbil0aHJvdyBuZXcgUWkoImFyZ3VtZW50LWVycm9yIiwiY3JlZGVudGlhbCBmYWlsZWQ6IG11c3QgcHJvdmlkZSB0aGUgSUQgdG9rZW4gYW5kL29yIHRoZSBhY2Nlc3MgdG9rZW4uIik7cmV0dXJuIG5ldyAkcih0aGlzLnByb3ZpZGVySWQsbix0aGlzLnByb3ZpZGVySWQpfSxOKGlvLG5vKSxGaShpbywiUFJPVklERVJfSUQiLCJmYWNlYm9vay5jb20iKSxGaShpbywiRkFDRUJPT0tfU0lHTl9JTl9NRVRIT0QiLCJmYWNlYm9vay5jb20iKSxOKG9vLG5vKSxGaShvbywiUFJPVklERVJfSUQiLCJnaXRodWIuY29tIiksRmkob28sIkdJVEhVQl9TSUdOX0lOX01FVEhPRCIsImdpdGh1Yi5jb20iKSxOKHNvLG5vKSxGaShzbywiUFJPVklERVJfSUQiLCJnb29nbGUuY29tIiksRmkoc28sIkdPT0dMRV9TSUdOX0lOX01FVEhPRCIsImdvb2dsZS5jb20iKSxOKGNvLHRvKSxGaShjbywiUFJPVklERVJfSUQiLCJ0d2l0dGVyLmNvbSIpLEZpKGNvLCJUV0lUVEVSX1NJR05fSU5fTUVUSE9EIiwidHdpdHRlci5jb20iKSxmby5wcm90b3R5cGUubmE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2lnbkluTWV0aG9kPT1wby5FTUFJTF9MSU5LX1NJR05fSU5fTUVUSE9EP1JzKHQsaHMse2VtYWlsOnRoaXMuYSxvb2JDb2RlOnRoaXMuY30pOlJzKHQsTnMse2VtYWlsOnRoaXMuYSxwYXNzd29yZDp0aGlzLmN9KX0sZm8ucHJvdG90eXBlLmI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zaWduSW5NZXRob2Q9PXBvLkVNQUlMX0xJTktfU0lHTl9JTl9NRVRIT0Q/UnModCxmcyx7aWRUb2tlbjplLGVtYWlsOnRoaXMuYSxvb2JDb2RlOnRoaXMuY30pOlJzKHQsSXMse2lkVG9rZW46ZSxlbWFpbDp0aGlzLmEscGFzc3dvcmQ6dGhpcy5jfSl9LGZvLnByb3RvdHlwZS5mPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhyKHRoaXMubmEodCksZSl9LGZvLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJue2VtYWlsOnRoaXMuYSxwYXNzd29yZDp0aGlzLmMsc2lnbkluTWV0aG9kOnRoaXMuc2lnbkluTWV0aG9kfX0sS2kocG8se1BST1ZJREVSX0lEOiJwYXNzd29yZCJ9KSxLaShwbyx7RU1BSUxfTElOS19TSUdOX0lOX01FVEhPRDoiZW1haWxMaW5rIn0pLEtpKHBvLHtFTUFJTF9QQVNTV09SRF9TSUdOX0lOX01FVEhPRDoicGFzc3dvcmQifSksZ28ucHJvdG90eXBlLm5hPWZ1bmN0aW9uKHQpe3JldHVybiB0LldhKHlvKHRoaXMpKX0sZ28ucHJvdG90eXBlLmI9ZnVuY3Rpb24odCxlKXt2YXIgbj15byh0aGlzKTtyZXR1cm4gbi5pZFRva2VuPWUsUnModCxfcyxuKX0sZ28ucHJvdG90eXBlLmY9ZnVuY3Rpb24odCxlKXt2YXIgbj15byh0aGlzKTtyZXR1cm4gbi5vcGVyYXRpb249IlJFQVVUSCIsWHIodD1Scyh0LFBzLG4pLGUpfSxnby5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciB0PXtwcm92aWRlcklkOiJwaG9uZSJ9O3JldHVybiB0aGlzLmEuVmEmJih0LnZlcmlmaWNhdGlvbklkPXRoaXMuYS5WYSksdGhpcy5hLlVhJiYodC52ZXJpZmljYXRpb25Db2RlPXRoaXMuYS5VYSksdGhpcy5hLkhhJiYodC50ZW1wb3JhcnlQcm9vZj10aGlzLmEuSGEpLHRoaXMuYS5iYSYmKHQucGhvbmVOdW1iZXI9dGhpcy5hLmJhKSx0fSx3by5wcm90b3R5cGUuV2E9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmEuYjtyZXR1cm4gUXQoZS52ZXJpZnkoKSkudGhlbigoZnVuY3Rpb24oaSl7aWYoIWMoaSkpdGhyb3cgbmV3IFFpKCJhcmd1bWVudC1lcnJvciIsIkFuIGltcGxlbWVudGF0aW9uIG9mIGZpcmViYXNlLmF1dGguQXBwbGljYXRpb25WZXJpZmllci5wcm90b3R5cGUudmVyaWZ5KCkgbXVzdCByZXR1cm4gYSBmaXJlYmFzZS5Qcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIHN0cmluZy4iKTtzd2l0Y2goZS50eXBlKXtjYXNlInJlY2FwdGNoYSI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIFJzKHQseXMsZSl9KG4se3Bob25lTnVtYmVyOnQscmVjYXB0Y2hhVG9rZW46aX0pLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgZS5yZXNldCYmZS5yZXNldCgpLHR9KSwoZnVuY3Rpb24odCl7dGhyb3ciZnVuY3Rpb24iPT09dHlwZW9mIGUucmVzZXQmJmUucmVzZXQoKSx0fSkpO2RlZmF1bHQ6dGhyb3cgbmV3IFFpKCJhcmd1bWVudC1lcnJvciIsJ09ubHkgZmlyZWJhc2UuYXV0aC5BcHBsaWNhdGlvblZlcmlmaWVycyB3aXRoIHR5cGU9InJlY2FwdGNoYSIgYXJlIGN1cnJlbnRseSBzdXBwb3J0ZWQuJyl9fSkpfSxLaSh3byx7UFJPVklERVJfSUQ6InBob25lIn0pLEtpKHdvLHtQSE9ORV9TSUdOX0lOX01FVEhPRDoicGhvbmUifSksa28ucHJvdG90eXBlLmdldFVpZD1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0LnB1c2godGhpcy5jKSx0aGlzLmImJnQucHVzaCh0aGlzLmIpLHRoaXMuZiYmdC5wdXNoKHRoaXMuZiksdGhpcy5oJiZ0LnB1c2godGhpcy5oKSx0LmpvaW4oIi0iKX0sa28ucHJvdG90eXBlLlI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ofSxrby5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3JldHVybnt0eXBlOnRoaXMuYyxldmVudElkOnRoaXMuYix1cmxSZXNwb25zZTp0aGlzLmcsc2Vzc2lvbklkOnRoaXMuZixwb3N0Qm9keTp0aGlzLmksdGVuYW50SWQ6dGhpcy5oLGVycm9yOnRoaXMuYSYmdGhpcy5hLkEoKX19O3ZhciBObyxPbz1udWxsO2Z1bmN0aW9uIF9vKHQpe3ZhciBlPSJ1bmF1dGhvcml6ZWQtZG9tYWluIixuPXZvaWQgMCxpPUFuKHQpO3Q9aS5iLCJjaHJvbWUtZXh0ZW5zaW9uIj09KGk9aS5mKT9uPVV0KCJUaGlzIGNocm9tZSBleHRlbnNpb24gSUQgKGNocm9tZS1leHRlbnNpb246Ly8lcykgaXMgbm90IGF1dGhvcml6ZWQgdG8gcnVuIHRoaXMgb3BlcmF0aW9uLiBBZGQgaXQgdG8gdGhlIE9BdXRoIHJlZGlyZWN0IGRvbWFpbnMgbGlzdCBpbiB0aGUgRmlyZWJhc2UgY29uc29sZSAtPiBBdXRoIHNlY3Rpb24gLT4gU2lnbiBpbiBtZXRob2QgdGFiLiIsdCk6Imh0dHAiPT1pfHwiaHR0cHMiPT1pP249VXQoIlRoaXMgZG9tYWluICglcykgaXMgbm90IGF1dGhvcml6ZWQgdG8gcnVuIHRoaXMgb3BlcmF0aW9uLiBBZGQgaXQgdG8gdGhlIE9BdXRoIHJlZGlyZWN0IGRvbWFpbnMgbGlzdCBpbiB0aGUgRmlyZWJhc2UgY29uc29sZSAtPiBBdXRoIHNlY3Rpb24gLT4gU2lnbiBpbiBtZXRob2QgdGFiLiIsdCk6ZT0ib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudCIsUWkuY2FsbCh0aGlzLGUsbil9ZnVuY3Rpb24gUG8odCxlLG4pe1FpLmNhbGwodGhpcyx0LG4pLCh0PWV8fHt9KS5BYiYmRmkodGhpcywiZW1haWwiLHQuQWIpLHQuYmEmJkZpKHRoaXMsInBob25lTnVtYmVyIix0LmJhKSx0LmNyZWRlbnRpYWwmJkZpKHRoaXMsImNyZWRlbnRpYWwiLHQuY3JlZGVudGlhbCksdC5RYiYmRmkodGhpcywidGVuYW50SWQiLHQuUWIpfWZ1bmN0aW9uIFJvKHQpe2lmKHQuY29kZSl7dmFyIGU9dC5jb2RlfHwiIjswPT1lLmluZGV4T2YoZXIpJiYoZT1lLnN1YnN0cmluZyhlci5sZW5ndGgpKTt2YXIgbj17Y3JlZGVudGlhbDpUbyh0KSxRYjp0LnRlbmFudElkfTtpZih0LmVtYWlsKW4uQWI9dC5lbWFpbDtlbHNlIGlmKHQucGhvbmVOdW1iZXIpbi5iYT10LnBob25lTnVtYmVyO2Vsc2UgaWYoIW4uY3JlZGVudGlhbClyZXR1cm4gbmV3IFFpKGUsdC5tZXNzYWdlfHx2b2lkIDApO3JldHVybiBuZXcgUG8oZSxuLHQubWVzc2FnZSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gQ28oKXt9ZnVuY3Rpb24gRG8odCl7cmV0dXJuIHQuY3x8KHQuYz10LmIoKSl9ZnVuY3Rpb24gTG8oKXt9ZnVuY3Rpb24geG8odCl7aWYoIXQuZiYmInVuZGVmaW5lZCI9PXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmInVuZGVmaW5lZCIhPXR5cGVvZiBBY3RpdmVYT2JqZWN0KXtmb3IodmFyIGU9WyJNU1hNTDIuWE1MSFRUUC42LjAiLCJNU1hNTDIuWE1MSFRUUC4zLjAiLCJNU1hNTDIuWE1MSFRUUCIsIk1pY3Jvc29mdC5YTUxIVFRQIl0sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO3RyeXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoaSksdC5mPWl9Y2F0Y2gocil7fX10aHJvdyBFcnJvcigiQ291bGQgbm90IGNyZWF0ZSBBY3RpdmVYT2JqZWN0LiBBY3RpdmVYIG1pZ2h0IGJlIGRpc2FibGVkLCBvciBNU1hNTCBtaWdodCBub3QgYmUgaW5zdGFsbGVkIil9cmV0dXJuIHQuZn1mdW5jdGlvbiBNbygpe31mdW5jdGlvbiBqbygpe3RoaXMuYT1uZXcgWERvbWFpblJlcXVlc3QsdGhpcy5yZWFkeVN0YXRlPTAsdGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnJlc3BvbnNlVHlwZT10aGlzLnJlc3BvbnNlVGV4dD10aGlzLnJlc3BvbnNlPSIiLHRoaXMuc3RhdHVzPS0xLHRoaXMuc3RhdHVzVGV4dD0iIix0aGlzLmEub25sb2FkPWsodGhpcy5mYyx0aGlzKSx0aGlzLmEub25lcnJvcj1rKHRoaXMuSWIsdGhpcyksdGhpcy5hLm9ucHJvZ3Jlc3M9ayh0aGlzLmdjLHRoaXMpLHRoaXMuYS5vbnRpbWVvdXQ9ayh0aGlzLmtjLHRoaXMpfWZ1bmN0aW9uIFVvKHQsZSl7dC5yZWFkeVN0YXRlPWUsdC5vbnJlYWR5c3RhdGVjaGFuZ2UmJnQub25yZWFkeXN0YXRlY2hhbmdlKCl9ZnVuY3Rpb24gVm8odCxlLG4pe3RoaXMucmVzZXQodCxlLG4sdm9pZCAwLHZvaWQgMCl9TihfbyxRaSksTihQbyxRaSksUG8ucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXt2YXIgdD17Y29kZTp0aGlzLmNvZGUsbWVzc2FnZTp0aGlzLm1lc3NhZ2V9O3RoaXMuZW1haWwmJih0LmVtYWlsPXRoaXMuZW1haWwpLHRoaXMucGhvbmVOdW1iZXImJih0LnBob25lTnVtYmVyPXRoaXMucGhvbmVOdW1iZXIpLHRoaXMudGVuYW50SWQmJih0LnRlbmFudElkPXRoaXMudGVuYW50SWQpO3ZhciBlPXRoaXMuY3JlZGVudGlhbCYmdGhpcy5jcmVkZW50aWFsLkEoKTtyZXR1cm4gZSYmWih0LGUpLHR9LFBvLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BKCl9LENvLnByb3RvdHlwZS5jPW51bGwsTihMbyxDbyksTG8ucHJvdG90eXBlLmE9ZnVuY3Rpb24oKXt2YXIgdD14byh0aGlzKTtyZXR1cm4gdD9uZXcgQWN0aXZlWE9iamVjdCh0KTpuZXcgWE1MSHR0cFJlcXVlc3R9LExvLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHhvKHRoaXMpJiYodFswXT0hMCx0WzFdPSEwKSx0fSxObz1uZXcgTG8sTihNbyxDbyksTW8ucHJvdG90eXBlLmE9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoIndpdGhDcmVkZW50aWFscyJpbiB0KXJldHVybiB0O2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgWERvbWFpblJlcXVlc3QpcmV0dXJuIG5ldyBqbzt0aHJvdyBFcnJvcigiVW5zdXBwb3J0ZWQgYnJvd3NlciIpfSxNby5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3JldHVybnt9fSwoZT1qby5wcm90b3R5cGUpLm9wZW49ZnVuY3Rpb24odCxlLG4pe2lmKG51bGwhPW4mJiFuKXRocm93IEVycm9yKCJPbmx5IGFzeW5jIHJlcXVlc3RzIGFyZSBzdXBwb3J0ZWQuIik7dGhpcy5hLm9wZW4odCxlKX0sZS5zZW5kPWZ1bmN0aW9uKHQpe2lmKHQpe2lmKCJzdHJpbmciIT10eXBlb2YgdCl0aHJvdyBFcnJvcigiT25seSBzdHJpbmcgZGF0YSBpcyBzdXBwb3J0ZWQiKTt0aGlzLmEuc2VuZCh0KX1lbHNlIHRoaXMuYS5zZW5kKCl9LGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLmEuYWJvcnQoKX0sZS5zZXRSZXF1ZXN0SGVhZGVyPWZ1bmN0aW9uKCl7fSxlLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKHQpe3JldHVybiJjb250ZW50LXR5cGUiPT10LnRvTG93ZXJDYXNlKCk/dGhpcy5hLmNvbnRlbnRUeXBlOiIifSxlLmZjPWZ1bmN0aW9uKCl7dGhpcy5zdGF0dXM9MjAwLHRoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQ9dGhpcy5hLnJlc3BvbnNlVGV4dCxVbyh0aGlzLDQpfSxlLkliPWZ1bmN0aW9uKCl7dGhpcy5zdGF0dXM9NTAwLHRoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQ9IiIsVW8odGhpcyw0KX0sZS5rYz1mdW5jdGlvbigpe3RoaXMuSWIoKX0sZS5nYz1mdW5jdGlvbigpe3RoaXMuc3RhdHVzPTIwMCxVbyh0aGlzLDEpfSxlLmdldEFsbFJlc3BvbnNlSGVhZGVycz1mdW5jdGlvbigpe3JldHVybiJjb250ZW50LXR5cGU6ICIrdGhpcy5hLmNvbnRlbnRUeXBlfSxWby5wcm90b3R5cGUuYT1udWxsO2Z1bmN0aW9uIEZvKHQpe3RoaXMuZj10LHRoaXMuYj10aGlzLmM9dGhpcy5hPW51bGx9ZnVuY3Rpb24gS28odCxlKXt0aGlzLm5hbWU9dCx0aGlzLnZhbHVlPWV9Vm8ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQsZSxuLGkscil7Im51bWJlciI9PXR5cGVvZiByfHwwLGl8fFMoKSxkZWxldGUgdGhpcy5hfSxLby5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lfTt2YXIgcW89bmV3IEtvKCJTRVZFUkUiLDFlMyksSG89bmV3IEtvKCJXQVJOSU5HIiw5MDApLEJvPW5ldyBLbygiQ09ORklHIiw3MDApLEdvPW5ldyBLbygiRklORSIsNTAwKTtGby5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKHQsZSxuKXtpZih0LnZhbHVlPj1mdW5jdGlvbiB0KGUpe3JldHVybiBlLmM/ZS5jOmUuYT90KGUuYSk6KFIoIlJvb3QgbG9nZ2VyIGhhcyBubyBsZXZlbCBzZXQuIiksbnVsbCl9KHRoaXMpLnZhbHVlKWZvcihiKGUpJiYoZT1lKCkpLHQ9bmV3IFZvKHQsU3RyaW5nKGUpLHRoaXMuZiksbiYmKHQuYT1uKSxuPXRoaXM7bjspbj1uLmF9O3ZhciBXbyxYbz17fSxKbz1udWxsO2Z1bmN0aW9uIFlvKHQpe3ZhciBlO2lmKEpvfHwoSm89bmV3IEZvKCIiKSxYb1siIl09Sm8sSm8uYz1CbyksIShlPVhvW3RdKSl7ZT1uZXcgRm8odCk7dmFyIG49dC5sYXN0SW5kZXhPZigiLiIpLGk9dC5zdWJzdHIobisxKTsobj1Zbyh0LnN1YnN0cigwLG4pKSkuYnx8KG4uYj17fSksbi5iW2ldPWUsZS5hPW4sWG9bdF09ZX1yZXR1cm4gZX1mdW5jdGlvbiB6byh0LGUpe3QmJnQubG9nKEdvLGUsdm9pZCAwKX1mdW5jdGlvbiAkbyh0KXt0aGlzLmY9dH1mdW5jdGlvbiBabyh0KXtzbi5jYWxsKHRoaXMpLHRoaXMubz10LHRoaXMucmVhZHlTdGF0ZT1Rbyx0aGlzLnN0YXR1cz0wLHRoaXMucmVzcG9uc2VUeXBlPXRoaXMucmVzcG9uc2VUZXh0PXRoaXMucmVzcG9uc2U9dGhpcy5zdGF0dXNUZXh0PSIiLHRoaXMub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdGhpcy5pPW5ldyBIZWFkZXJzLHRoaXMuYj1udWxsLHRoaXMubT0iR0VUIix0aGlzLmc9IiIsdGhpcy5hPSExLHRoaXMuaD1ZbygiZ29vZy5uZXQuRmV0Y2hYbWxIdHRwIiksdGhpcy5sPXRoaXMuYz10aGlzLmY9bnVsbH1OKCRvLENvKSwkby5wcm90b3R5cGUuYT1mdW5jdGlvbigpe3JldHVybiBuZXcgWm8odGhpcy5mKX0sJG8ucHJvdG90eXBlLmI9KFdvPXt9LGZ1bmN0aW9uKCl7cmV0dXJuIFdvfSksTihabyxzbik7dmFyIFFvPTA7ZnVuY3Rpb24gdGEodCl7dC5jLnJlYWQoKS50aGVuKHQuZWMuYmluZCh0KSkuY2F0Y2godC5PYS5iaW5kKHQpKX1mdW5jdGlvbiBlYSh0LGUpe2UmJnQuZiYmKHQuc3RhdHVzPXQuZi5zdGF0dXMsdC5zdGF0dXNUZXh0PXQuZi5zdGF0dXNUZXh0KSx0LnJlYWR5U3RhdGU9NCx0LmY9bnVsbCx0LmM9bnVsbCx0Lmw9bnVsbCxuYSh0KX1mdW5jdGlvbiBuYSh0KXt0Lm9ucmVhZHlzdGF0ZWNoYW5nZSYmdC5vbnJlYWR5c3RhdGVjaGFuZ2UuY2FsbCh0KX1mdW5jdGlvbiBpYSh0KXtzbi5jYWxsKHRoaXMpLHRoaXMuaGVhZGVycz1uZXcgdm4sdGhpcy5CPXR8fG51bGwsdGhpcy5jPSExLHRoaXMudz10aGlzLmE9bnVsbCx0aGlzLmg9dGhpcy5PPXRoaXMubD0iIix0aGlzLmY9dGhpcy5KPXRoaXMuaT10aGlzLkk9ITEsdGhpcy5nPTAsdGhpcy5vPW51bGwsdGhpcy5tPXJhLHRoaXMudj10aGlzLlA9ITF9KGU9Wm8ucHJvdG90eXBlKS5vcGVuPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5yZWFkeVN0YXRlIT1Rbyl0aHJvdyB0aGlzLmFib3J0KCksRXJyb3IoIkVycm9yIHJlb3BlbmluZyBhIGNvbm5lY3Rpb24iKTt0aGlzLm09dCx0aGlzLmc9ZSx0aGlzLnJlYWR5U3RhdGU9MSxuYSh0aGlzKX0sZS5zZW5kPWZ1bmN0aW9uKHQpe2lmKDEhPXRoaXMucmVhZHlTdGF0ZSl0aHJvdyB0aGlzLmFib3J0KCksRXJyb3IoIm5lZWQgdG8gY2FsbCBvcGVuKCkgZmlyc3QuICIpO3RoaXMuYT0hMDt2YXIgZT17aGVhZGVyczp0aGlzLmksbWV0aG9kOnRoaXMubSxjcmVkZW50aWFsczp2b2lkIDAsY2FjaGU6dm9pZCAwfTt0JiYoZS5ib2R5PXQpLHRoaXMuby5mZXRjaChuZXcgUmVxdWVzdCh0aGlzLmcsZSkpLnRoZW4odGhpcy5qYy5iaW5kKHRoaXMpLHRoaXMuT2EuYmluZCh0aGlzKSl9LGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLnJlc3BvbnNlPXRoaXMucmVzcG9uc2VUZXh0PSIiLHRoaXMuaT1uZXcgSGVhZGVycyx0aGlzLnN0YXR1cz0wLHRoaXMuYyYmdGhpcy5jLmNhbmNlbCgiUmVxdWVzdCB3YXMgYWJvcnRlZC4iKSwxPD10aGlzLnJlYWR5U3RhdGUmJnRoaXMuYSYmNCE9dGhpcy5yZWFkeVN0YXRlJiYodGhpcy5hPSExLGVhKHRoaXMsITEpKSx0aGlzLnJlYWR5U3RhdGU9UW99LGUuamM9ZnVuY3Rpb24odCl7dGhpcy5hJiYodGhpcy5mPXQsdGhpcy5ifHwodGhpcy5iPXQuaGVhZGVycyx0aGlzLnJlYWR5U3RhdGU9MixuYSh0aGlzKSksdGhpcy5hJiYodGhpcy5yZWFkeVN0YXRlPTMsbmEodGhpcyksdGhpcy5hJiYoImFycmF5YnVmZmVyIj09PXRoaXMucmVzcG9uc2VUeXBlP3QuYXJyYXlCdWZmZXIoKS50aGVuKHRoaXMuaGMuYmluZCh0aGlzKSx0aGlzLk9hLmJpbmQodGhpcykpOiJ1bmRlZmluZWQiIT09dHlwZW9mIHUuUmVhZGFibGVTdHJlYW0mJiJib2R5ImluIHQ/KHRoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQ9IiIsdGhpcy5jPXQuYm9keS5nZXRSZWFkZXIoKSx0aGlzLmw9bmV3IFRleHREZWNvZGVyLHRhKHRoaXMpKTp0LnRleHQoKS50aGVuKHRoaXMuaWMuYmluZCh0aGlzKSx0aGlzLk9hLmJpbmQodGhpcykpKSkpfSxlLmVjPWZ1bmN0aW9uKHQpe2lmKHRoaXMuYSl7dmFyIGU9dGhpcy5sLmRlY29kZSh0LnZhbHVlP3QudmFsdWU6bmV3IFVpbnQ4QXJyYXkoMCkse3N0cmVhbTohdC5kb25lfSk7ZSYmKHRoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQrPWUpLHQuZG9uZT9lYSh0aGlzLCEwKTpuYSh0aGlzKSwzPT10aGlzLnJlYWR5U3RhdGUmJnRhKHRoaXMpfX0sZS5pYz1mdW5jdGlvbih0KXt0aGlzLmEmJih0aGlzLnJlc3BvbnNlPXRoaXMucmVzcG9uc2VUZXh0PXQsZWEodGhpcywhMCkpfSxlLmhjPWZ1bmN0aW9uKHQpe3RoaXMuYSYmKHRoaXMucmVzcG9uc2U9dCxlYSh0aGlzLCEwKSl9LGUuT2E9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5oO2UmJmUubG9nKEhvLCJGYWlsZWQgdG8gZmV0Y2ggdXJsICIrdGhpcy5nLHQgaW5zdGFuY2VvZiBFcnJvcj90OkVycm9yKHQpKSx0aGlzLmEmJmVhKHRoaXMsITApfSxlLnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24odCxlKXt0aGlzLmkuYXBwZW5kKHQsZSl9LGUuZ2V0UmVzcG9uc2VIZWFkZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuZ2V0KHQudG9Mb3dlckNhc2UoKSl8fCIiOigodD10aGlzLmgpJiZ0LmxvZyhIbywiQXR0ZW1wdGluZyB0byBnZXQgcmVzcG9uc2UgaGVhZGVyIGJ1dCBubyBoZWFkZXJzIGhhdmUgYmVlbiByZWNlaXZlZCBmb3IgdXJsOiAiK3RoaXMuZyx2b2lkIDApLCIiKX0sZS5nZXRBbGxSZXNwb25zZUhlYWRlcnM9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXt2YXIgdD10aGlzLmg7cmV0dXJuIHQmJnQubG9nKEhvLCJBdHRlbXB0aW5nIHRvIGdldCBhbGwgcmVzcG9uc2UgaGVhZGVycyBidXQgbm8gaGVhZGVycyBoYXZlIGJlZW4gcmVjZWl2ZWQgZm9yIHVybDogIit0aGlzLmcsdm9pZCAwKSwiIn10PVtdO2Zvcih2YXIgZT10aGlzLmIuZW50cmllcygpLG49ZS5uZXh0KCk7IW4uZG9uZTspbj1uLnZhbHVlLHQucHVzaChuWzBdKyI6ICIrblsxXSksbj1lLm5leHQoKTtyZXR1cm4gdC5qb2luKCJcclxuIil9LE4oaWEsc24pO3ZhciByYT0iIjtpYS5wcm90b3R5cGUuYj1ZbygiZ29vZy5uZXQuWGhySW8iKTt2YXIgb2E9L15odHRwcz8kL2ksYWE9WyJQT1NUIiwiUFVUIl07ZnVuY3Rpb24gc2EodCxlLG4saSxyKXtpZih0LmEpdGhyb3cgRXJyb3IoIltnb29nLm5ldC5YaHJJb10gT2JqZWN0IGlzIGFjdGl2ZSB3aXRoIGFub3RoZXIgcmVxdWVzdD0iK3QubCsiOyBuZXdVcmk9IitlKTtuPW4/bi50b1VwcGVyQ2FzZSgpOiJHRVQiLHQubD1lLHQuaD0iIix0Lk89bix0Lkk9ITEsdC5jPSEwLHQuYT10LkI/dC5CLmEoKTpOby5hKCksdC53PXQuQj9Ebyh0LkIpOkRvKE5vKSx0LmEub25yZWFkeXN0YXRlY2hhbmdlPWsodC5MYix0KTt0cnl7em8odC5iLG1hKHQsIk9wZW5pbmcgWGhyIikpLHQuSj0hMCx0LmEub3BlbihuLFN0cmluZyhlKSwhMCksdC5KPSExfWNhdGNoKGEpe3JldHVybiB6byh0LmIsbWEodCwiRXJyb3Igb3BlbmluZyBYaHI6ICIrYS5tZXNzYWdlKSksdm9pZCBjYSh0LGEpfWU9aXx8IiI7dmFyIG89bmV3IHZuKHQuaGVhZGVycyk7ciYmZnVuY3Rpb24odCxlKXtpZih0LmZvckVhY2gmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmZvckVhY2gpdC5mb3JFYWNoKGUsdm9pZCAwKTtlbHNlIGlmKGcodCl8fGModCkpRih0LGUsdm9pZCAwKTtlbHNlIGZvcih2YXIgbj1wbih0KSxpPWRuKHQpLHI9aS5sZW5ndGgsbz0wO288cjtvKyspZS5jYWxsKHZvaWQgMCxpW29dLG4mJm5bb10sdCl9KHIsKGZ1bmN0aW9uKHQsZSl7by5zZXQoZSx0KX0pKSxyPWZ1bmN0aW9uKHQpe3Q6e2Zvcih2YXIgZT11YSxuPXQubGVuZ3RoLGk9Yyh0KT90LnNwbGl0KCIiKTp0LHI9MDtyPG47cisrKWlmKHIgaW4gaSYmZS5jYWxsKHZvaWQgMCxpW3JdLHIsdCkpe2U9cjticmVhayB0fWU9LTF9cmV0dXJuIDA+ZT9udWxsOmModCk/dC5jaGFyQXQoZSk6dFtlXX0oby5YKCkpLGk9dS5Gb3JtRGF0YSYmZSBpbnN0YW5jZW9mIHUuRm9ybURhdGEsIUgoYWEsbil8fHJ8fGl8fG8uc2V0KCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCIpLG8uZm9yRWFjaCgoZnVuY3Rpb24odCxlKXt0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihlLHQpfSksdCksdC5tJiYodC5hLnJlc3BvbnNlVHlwZT10Lm0pLCJ3aXRoQ3JlZGVudGlhbHMiaW4gdC5hJiZ0LmEud2l0aENyZWRlbnRpYWxzIT09dC5QJiYodC5hLndpdGhDcmVkZW50aWFscz10LlApO3RyeXtkYSh0KSwwPHQuZyYmKHQudj1mdW5jdGlvbih0KXtyZXR1cm4gd2UmJlJlKDkpJiYibnVtYmVyIj09dHlwZW9mIHQudGltZW91dCYmdm9pZCAwIT09dC5vbnRpbWVvdXR9KHQuYSksem8odC5iLG1hKHQsIldpbGwgYWJvcnQgYWZ0ZXIgIit0LmcrIm1zIGlmIGluY29tcGxldGUsIHhocjIgIit0LnYpKSx0LnY/KHQuYS50aW1lb3V0PXQuZyx0LmEub250aW1lb3V0PWsodC5JYSx0KSk6dC5vPWZuKHQuSWEsdC5nLHQpKSx6byh0LmIsbWEodCwiU2VuZGluZyByZXF1ZXN0IikpLHQuaT0hMCx0LmEuc2VuZChlKSx0Lmk9ITF9Y2F0Y2goYSl7em8odC5iLG1hKHQsIlNlbmQgZXJyb3I6ICIrYS5tZXNzYWdlKSksY2EodCxhKX19ZnVuY3Rpb24gdWEodCl7cmV0dXJuImNvbnRlbnQtdHlwZSI9PXQudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBjYSh0LGUpe3QuYz0hMSx0LmEmJih0LmY9ITAsdC5hLmFib3J0KCksdC5mPSExKSx0Lmg9ZSxoYSh0KSxsYSh0KX1mdW5jdGlvbiBoYSh0KXt0Lkl8fCh0Lkk9ITAsdC5kaXNwYXRjaEV2ZW50KCJjb21wbGV0ZSIpLHQuZGlzcGF0Y2hFdmVudCgiZXJyb3IiKSl9ZnVuY3Rpb24gZmEodCl7aWYodC5jJiYidW5kZWZpbmVkIiE9dHlwZW9mIHMpaWYodC53WzFdJiY0PT1wYSh0KSYmMj09dmEodCkpem8odC5iLG1hKHQsIkxvY2FsIHJlcXVlc3QgZXJyb3IgZGV0ZWN0ZWQgYW5kIGlnbm9yZWQiKSk7ZWxzZSBpZih0LmkmJjQ9PXBhKHQpKWZuKHQuTGIsMCx0KTtlbHNlIGlmKHQuZGlzcGF0Y2hFdmVudCgicmVhZHlzdGF0ZWNoYW5nZSIpLDQ9PXBhKHQpKXt6byh0LmIsbWEodCwiUmVxdWVzdCBjb21wbGV0ZSIpKSx0LmM9ITE7dHJ5e3ZhciBlLG49dmEodCk7dDpzd2l0Y2gobil7Y2FzZSAyMDA6Y2FzZSAyMDE6Y2FzZSAyMDI6Y2FzZSAyMDQ6Y2FzZSAyMDY6Y2FzZSAzMDQ6Y2FzZSAxMjIzOnZhciBpPSEwO2JyZWFrIHQ7ZGVmYXVsdDppPSExfWlmKCEoZT1pKSl7dmFyIHI7aWYocj0wPT09bil7dmFyIG89U3RyaW5nKHQubCkubWF0Y2goYm4pWzFdfHxudWxsO2lmKCFvJiZ1LnNlbGYmJnUuc2VsZi5sb2NhdGlvbil7dmFyIGE9dS5zZWxmLmxvY2F0aW9uLnByb3RvY29sO289YS5zdWJzdHIoMCxhLmxlbmd0aC0xKX1yPSFvYS50ZXN0KG8/by50b0xvd2VyQ2FzZSgpOiIiKX1lPXJ9aWYoZSl0LmRpc3BhdGNoRXZlbnQoImNvbXBsZXRlIiksdC5kaXNwYXRjaEV2ZW50KCJzdWNjZXNzIik7ZWxzZXt0cnl7dmFyIGM9MjxwYSh0KT90LmEuc3RhdHVzVGV4dDoiIn1jYXRjaChoKXt6byh0LmIsIkNhbiBub3QgZ2V0IHN0YXR1czogIitoLm1lc3NhZ2UpLGM9IiJ9dC5oPWMrIiBbIit2YSh0KSsiXSIsaGEodCl9fWZpbmFsbHl7bGEodCl9fX1mdW5jdGlvbiBsYSh0LGUpe2lmKHQuYSl7ZGEodCk7dmFyIG49dC5hLGk9dC53WzBdP2Q6bnVsbDt0LmE9bnVsbCx0Lnc9bnVsbCxlfHx0LmRpc3BhdGNoRXZlbnQoInJlYWR5Iik7dHJ5e24ub25yZWFkeXN0YXRlY2hhbmdlPWl9Y2F0Y2gocil7KHQ9dC5iKSYmdC5sb2cocW8sIlByb2JsZW0gZW5jb3VudGVyZWQgcmVzZXR0aW5nIG9ucmVhZHlzdGF0ZWNoYW5nZTogIityLm1lc3NhZ2Usdm9pZCAwKX19fWZ1bmN0aW9uIGRhKHQpe3QuYSYmdC52JiYodC5hLm9udGltZW91dD1udWxsKSx0Lm8mJih1LmNsZWFyVGltZW91dCh0Lm8pLHQubz1udWxsKX1mdW5jdGlvbiBwYSh0KXtyZXR1cm4gdC5hP3QuYS5yZWFkeVN0YXRlOjB9ZnVuY3Rpb24gdmEodCl7dHJ5e3JldHVybiAyPHBhKHQpP3QuYS5zdGF0dXM6LTF9Y2F0Y2goZSl7cmV0dXJuLTF9fWZ1bmN0aW9uIG1hKHQsZSl7cmV0dXJuIGUrIiBbIit0Lk8rIiAiK3QubCsiICIrdmEodCkrIl0ifWZ1bmN0aW9uIGdhKHQpe3ZhciBlPU9hO3RoaXMuZz1bXSx0aGlzLnY9ZSx0aGlzLm89dHx8bnVsbCx0aGlzLmY9dGhpcy5hPSExLHRoaXMuYz12b2lkIDAsdGhpcy51PXRoaXMudz10aGlzLmk9ITEsdGhpcy5oPTAsdGhpcy5iPW51bGwsdGhpcy5sPTB9ZnVuY3Rpb24gYmEodCxlLG4pe3QuYT0hMCx0LmM9bix0LmY9IWUsVGEodCl9ZnVuY3Rpb24geWEodCl7aWYodC5hKXtpZighdC51KXRocm93IG5ldyBFYSh0KTt0LnU9ITF9fWZ1bmN0aW9uIHdhKHQsZSxuLGkpe3QuZy5wdXNoKFtlLG4saV0pLHQuYSYmVGEodCl9ZnVuY3Rpb24gSWEodCl7cmV0dXJuIHEodC5nLChmdW5jdGlvbih0KXtyZXR1cm4gYih0WzFdKX0pKX1mdW5jdGlvbiBUYSh0KXtpZih0LmgmJnQuYSYmSWEodCkpe3ZhciBlPXQuaCxuPVNhW2VdO24mJih1LmNsZWFyVGltZW91dChuLmEpLGRlbGV0ZSBTYVtlXSksdC5oPTB9dC5iJiYodC5iLmwtLSxkZWxldGUgdC5iKSxlPXQuYztmb3IodmFyIGk9bj0hMTt0LmcubGVuZ3RoJiYhdC5pOyl7dmFyIHI9dC5nLnNoaWZ0KCksbz1yWzBdLGE9clsxXTtpZihyPXJbMl0sbz10LmY/YTpvKXRyeXt2YXIgcz1vLmNhbGwocnx8dC5vLGUpO3ZvaWQgMCE9PXMmJih0LmY9dC5mJiYocz09ZXx8cyBpbnN0YW5jZW9mIEVycm9yKSx0LmM9ZT1zKSwoTyhlKXx8ImZ1bmN0aW9uIj09PXR5cGVvZiB1LlByb21pc2UmJmUgaW5zdGFuY2VvZiB1LlByb21pc2UpJiYoaT0hMCx0Lmk9ITApfWNhdGNoKGMpe2U9Yyx0LmY9ITAsSWEodCl8fChuPSEwKX19dC5jPWUsaSYmKHM9ayh0Lm0sdCwhMCksaT1rKHQubSx0LCExKSxlIGluc3RhbmNlb2YgZ2E/KHdhKGUscyxpKSxlLnc9ITApOmUudGhlbihzLGkpKSxuJiYoZT1uZXcgQWEoZSksU2FbZS5hXT1lLHQuaD1lLmEpfWZ1bmN0aW9uIEVhKCl7Xy5jYWxsKHRoaXMpfWZ1bmN0aW9uIGthKCl7Xy5jYWxsKHRoaXMpfWZ1bmN0aW9uIEFhKHQpe3RoaXMuYT11LnNldFRpbWVvdXQoayh0aGlzLmMsdGhpcyksMCksdGhpcy5iPXR9KGU9aWEucHJvdG90eXBlKS5JYT1mdW5jdGlvbigpeyJ1bmRlZmluZWQiIT10eXBlb2YgcyYmdGhpcy5hJiYodGhpcy5oPSJUaW1lZCBvdXQgYWZ0ZXIgIit0aGlzLmcrIm1zLCBhYm9ydGluZyIsem8odGhpcy5iLG1hKHRoaXMsdGhpcy5oKSksdGhpcy5kaXNwYXRjaEV2ZW50KCJ0aW1lb3V0IiksdGhpcy5hYm9ydCg4KSl9LGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLmEmJnRoaXMuYyYmKHpvKHRoaXMuYixtYSh0aGlzLCJBYm9ydGluZyIpKSx0aGlzLmM9ITEsdGhpcy5mPSEwLHRoaXMuYS5hYm9ydCgpLHRoaXMuZj0hMSx0aGlzLmRpc3BhdGNoRXZlbnQoImNvbXBsZXRlIiksdGhpcy5kaXNwYXRjaEV2ZW50KCJhYm9ydCIpLGxhKHRoaXMpKX0sZS56YT1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuYyYmKHRoaXMuYz0hMSx0aGlzLmY9ITAsdGhpcy5hLmFib3J0KCksdGhpcy5mPSExKSxsYSh0aGlzLCEwKSksaWEucWIuemEuY2FsbCh0aGlzKX0sZS5MYj1mdW5jdGlvbigpe3RoaXMudmF8fCh0aGlzLkp8fHRoaXMuaXx8dGhpcy5mP2ZhKHRoaXMpOnRoaXMueWMoKSl9LGUueWM9ZnVuY3Rpb24oKXtmYSh0aGlzKX0sZS5nZXRSZXNwb25zZT1mdW5jdGlvbigpe3RyeXtpZighdGhpcy5hKXJldHVybiBudWxsO2lmKCJyZXNwb25zZSJpbiB0aGlzLmEpcmV0dXJuIHRoaXMuYS5yZXNwb25zZTtzd2l0Y2godGhpcy5tKXtjYXNlIHJhOmNhc2UidGV4dCI6cmV0dXJuIHRoaXMuYS5yZXNwb25zZVRleHQ7Y2FzZSJhcnJheWJ1ZmZlciI6aWYoIm1velJlc3BvbnNlQXJyYXlCdWZmZXIiaW4gdGhpcy5hKXJldHVybiB0aGlzLmEubW96UmVzcG9uc2VBcnJheUJ1ZmZlcn12YXIgdD10aGlzLmI7cmV0dXJuIHQmJnQubG9nKHFvLCJSZXNwb25zZSB0eXBlICIrdGhpcy5tKyIgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGJyb3dzZXIiLHZvaWQgMCksbnVsbH1jYXRjaChlKXtyZXR1cm4gem8odGhpcy5iLCJDYW4gbm90IGdldCByZXNwb25zZTogIitlLm1lc3NhZ2UpLG51bGx9fSxnYS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKHQpe2lmKHRoaXMuYSl0aGlzLmMgaW5zdGFuY2VvZiBnYSYmdGhpcy5jLmNhbmNlbCgpO2Vsc2V7aWYodGhpcy5iKXt2YXIgZT10aGlzLmI7ZGVsZXRlIHRoaXMuYix0P2UuY2FuY2VsKHQpOihlLmwtLSwwPj1lLmwmJmUuY2FuY2VsKCkpfXRoaXMudj90aGlzLnYuY2FsbCh0aGlzLm8sdGhpcyk6dGhpcy51PSEwLHRoaXMuYXx8KHQ9bmV3IGthKHRoaXMpLHlhKHRoaXMpLGJhKHRoaXMsITEsdCkpfX0sZ2EucHJvdG90eXBlLm09ZnVuY3Rpb24odCxlKXt0aGlzLmk9ITEsYmEodGhpcyx0LGUpfSxnYS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbih0LGUsbil7dmFyIGkscixvPW5ldyBXdCgoZnVuY3Rpb24odCxlKXtpPXQscj1lfSkpO3JldHVybiB3YSh0aGlzLGksKGZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBrYT9vLmNhbmNlbCgpOnIodCl9KSksby50aGVuKHQsZSxuKX0sZ2EucHJvdG90eXBlLiRnb29nX1RoZW5hYmxlPSEwLE4oRWEsXyksRWEucHJvdG90eXBlLm1lc3NhZ2U9IkRlZmVycmVkIGhhcyBhbHJlYWR5IGZpcmVkIixFYS5wcm90b3R5cGUubmFtZT0iQWxyZWFkeUNhbGxlZEVycm9yIixOKGthLF8pLGthLnByb3RvdHlwZS5tZXNzYWdlPSJEZWZlcnJlZCB3YXMgY2FuY2VsZWQiLGthLnByb3RvdHlwZS5uYW1lPSJDYW5jZWxlZEVycm9yIixBYS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3Rocm93IGRlbGV0ZSBTYVt0aGlzLmFdLHRoaXMuYn07dmFyIFNhPXt9O2Z1bmN0aW9uIE5hKHQpe3ZhciBlPXt9LG49ZS5kb2N1bWVudHx8ZG9jdW1lbnQsaT1vdCh0KS50b1N0cmluZygpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiU0NSSVBUIiksbz17TmI6cixJYTp2b2lkIDB9LGE9bmV3IGdhKG8pLHM9bnVsbCxjPW51bGwhPWUudGltZW91dD9lLnRpbWVvdXQ6NWUzO3JldHVybiAwPGMmJihzPXdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe19hKHIsITApO3ZhciB0PW5ldyBDYShSYSwiVGltZW91dCByZWFjaGVkIGZvciBsb2FkaW5nIHNjcmlwdCAiK2kpO3lhKGEpLGJhKGEsITEsdCl9KSxjKSxvLklhPXMpLHIub25sb2FkPXIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ci5yZWFkeVN0YXRlJiYibG9hZGVkIiE9ci5yZWFkeVN0YXRlJiYiY29tcGxldGUiIT1yLnJlYWR5U3RhdGV8fChfYShyLGUuZ2R8fCExLHMpLHlhKGEpLGJhKGEsITAsbnVsbCkpfSxyLm9uZXJyb3I9ZnVuY3Rpb24oKXtfYShyLCEwLHMpO3ZhciB0PW5ldyBDYShQYSwiRXJyb3Igd2hpbGUgbG9hZGluZyBzY3JpcHQgIitpKTt5YShhKSxiYShhLCExLHQpfSxaKG89ZS5hdHRyaWJ1dGVzfHx7fSx7dHlwZToidGV4dC9qYXZhc2NyaXB0IixjaGFyc2V0OiJVVEYtOCJ9KSxHbihyLG8pLGZ1bmN0aW9uKHQsZSl7VSh0LCJIVE1MU2NyaXB0RWxlbWVudCIpLHQuc3JjPW90KGUpLG51bGw9PT1sJiYobD0oZT0oZT11LmRvY3VtZW50KS5xdWVyeVNlbGVjdG9yJiZlLnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtub25jZV0iKSkmJihlPWUubm9uY2V8fGUuZ2V0QXR0cmlidXRlKCJub25jZSIpKSYmZi50ZXN0KGUpP2U6IiIpLChlPWwpJiZ0LnNldEF0dHJpYnV0ZSgibm9uY2UiLGUpfShyLHQpLGZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybihlPSh0fHxkb2N1bWVudCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkhFQUQiKSkmJjAhPWUubGVuZ3RoP2VbMF06dC5kb2N1bWVudEVsZW1lbnR9KG4pLmFwcGVuZENoaWxkKHIpLGF9ZnVuY3Rpb24gT2EoKXtpZih0aGlzJiZ0aGlzLk5iKXt2YXIgdD10aGlzLk5iO3QmJiJTQ1JJUFQiPT10LnRhZ05hbWUmJl9hKHQsITAsdGhpcy5JYSl9fWZ1bmN0aW9uIF9hKHQsZSxuKXtudWxsIT1uJiZ1LmNsZWFyVGltZW91dChuKSx0Lm9ubG9hZD1kLHQub25lcnJvcj1kLHQub25yZWFkeXN0YXRlY2hhbmdlPWQsZSYmd2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9KSwwKX12YXIgUGE9MCxSYT0xO2Z1bmN0aW9uIENhKHQsZSl7dmFyIG49IkpzbG9hZGVyIGVycm9yIChjb2RlICMiK3QrIikiO2UmJihuKz0iOiAiK2UpLF8uY2FsbCh0aGlzLG4pLHRoaXMuY29kZT10fWZ1bmN0aW9uIERhKHQpe3RoaXMuZj10fWZ1bmN0aW9uIExhKHQsZSxuKXtpZih0aGlzLmM9dCx0PWV8fHt9LHRoaXMubD10LnNlY3VyZVRva2VuRW5kcG9pbnR8fCJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZWFwaXMuY29tL3YxL3Rva2VuIix0aGlzLnU9dC5zZWN1cmVUb2tlblRpbWVvdXR8fGphLHRoaXMuZz16KHQuc2VjdXJlVG9rZW5IZWFkZXJzfHxVYSksdGhpcy5oPXQuZmlyZWJhc2VFbmRwb2ludHx8Imh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2lkZW50aXR5dG9vbGtpdC92My9yZWx5aW5ncGFydHkvIix0aGlzLmk9dC5maXJlYmFzZVRpbWVvdXR8fFZhLHRoaXMuYT16KHQuZmlyZWJhc2VIZWFkZXJzfHxGYSksbiYmKHRoaXMuYVsiWC1DbGllbnQtVmVyc2lvbiJdPW4sdGhpcy5nWyJYLUNsaWVudC1WZXJzaW9uIl09biksbj0iTm9kZSI9PWxpKCksIShuPXUuWE1MSHR0cFJlcXVlc3R8fG4mJmkuYS5JTlRFUk5BTC5ub2RlJiZpLmEuSU5URVJOQUwubm9kZS5YTUxIdHRwUmVxdWVzdCkmJiFmaSgpKXRocm93IG5ldyBRaSgiaW50ZXJuYWwtZXJyb3IiLCJUaGUgWE1MSHR0cFJlcXVlc3QgY29tcGF0aWJpbGl0eSBsaWJyYXJ5IHdhcyBub3QgZm91bmQuIik7dGhpcy5mPXZvaWQgMCxmaSgpP3RoaXMuZj1uZXcgJG8oc2VsZik6ZGkoKT90aGlzLmY9bmV3IERhKG4pOnRoaXMuZj1uZXcgTW8sdGhpcy5iPW51bGx9TihDYSxfKSxOKERhLENvKSxEYS5wcm90b3R5cGUuYT1mdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5mfSxEYS5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3JldHVybnt9fTt2YXIgeGEsTWE9ImlkVG9rZW4iLGphPW5ldyBDaSgzZTQsNmU0KSxVYT17IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCJ9LFZhPW5ldyBDaSgzZTQsNmU0KSxGYT17IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24ifTtmdW5jdGlvbiBLYSh0LGUpe2U/dC5hWyJYLUZpcmViYXNlLUxvY2FsZSJdPWU6ZGVsZXRlIHQuYVsiWC1GaXJlYmFzZS1Mb2NhbGUiXX1mdW5jdGlvbiBxYSh0LGUpe2U/KHQuYVsiWC1DbGllbnQtVmVyc2lvbiJdPWUsdC5nWyJYLUNsaWVudC1WZXJzaW9uIl09ZSk6KGRlbGV0ZSB0LmFbIlgtQ2xpZW50LVZlcnNpb24iXSxkZWxldGUgdC5nWyJYLUNsaWVudC1WZXJzaW9uIl0pfWZ1bmN0aW9uIEhhKHQsZSxuLGkscixvLGEpeyhmdW5jdGlvbigpe3ZhciB0PXlpKCk7cmV0dXJuISgodD1taSh0KSE9dmk/bnVsbDoodD10Lm1hdGNoKC9cc0Nocm9tZVwvKFxkKykvaSkpJiYyPT10Lmxlbmd0aD9wYXJzZUludCh0WzFdLDEwKTpudWxsKSYmMzA+dCkmJighd2V8fCFfZXx8OTxfZSl9KSgpfHxmaSgpP3Q9ayh0Lm8sdCk6KHhhfHwoeGE9bmV3IFd0KChmdW5jdGlvbih0LGUpeyFmdW5jdGlvbih0LGUpe2lmKCgod2luZG93LmdhcGl8fHt9KS5jbGllbnR8fHt9KS5yZXF1ZXN0KXQoKTtlbHNle3VbR2FdPWZ1bmN0aW9uKCl7KCh3aW5kb3cuZ2FwaXx8e30pLmNsaWVudHx8e30pLnJlcXVlc3Q/dCgpOmUoRXJyb3IoIkNPUlNfVU5TVVBQT1JURUQiKSl9LGZ1bmN0aW9uKHQsZSl7d2EodCxudWxsLGUsdm9pZCAwKX0oTmEoYXQoQmEse29ubG9hZDpHYX0pKSwoZnVuY3Rpb24oKXtlKEVycm9yKCJDT1JTX1VOU1VQUE9SVEVEIikpfSkpfX0odCxlKX0pKSksdD1rKHQubSx0KSksdChlLG4saSxyLG8sYSl9TGEucHJvdG90eXBlLlI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifSxMYS5wcm90b3R5cGUubz1mdW5jdGlvbih0LGUsbixpLHIsbyl7aWYoZmkoKSYmKCJ1bmRlZmluZWQiPT09dHlwZW9mIHUuZmV0Y2h8fCJ1bmRlZmluZWQiPT09dHlwZW9mIHUuSGVhZGVyc3x8InVuZGVmaW5lZCI9PT10eXBlb2YgdS5SZXF1ZXN0KSl0aHJvdyBuZXcgUWkoIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnQiLCJmZXRjaCwgSGVhZGVycyBhbmQgUmVxdWVzdCBuYXRpdmUgQVBJcyBvciBlcXVpdmFsZW50IFBvbHlmaWxscyBtdXN0IGJlIGF2YWlsYWJsZSB0byBzdXBwb3J0IEhUVFAgcmVxdWVzdHMgZnJvbSBhIFdvcmtlciBlbnZpcm9ubWVudC4iKTt2YXIgYT1uZXcgaWEodGhpcy5mKTtpZihvKXthLmc9TWF0aC5tYXgoMCxvKTt2YXIgcz1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2EuZGlzcGF0Y2hFdmVudCgidGltZW91dCIpfSksbyl9dW4oYSwiY29tcGxldGUiLChmdW5jdGlvbigpe3MmJmNsZWFyVGltZW91dChzKTt2YXIgdD1udWxsO3RyeXt0PUpTT04ucGFyc2UoZnVuY3Rpb24odCl7dHJ5e3JldHVybiB0LmE/dC5hLnJlc3BvbnNlVGV4dDoiIn1jYXRjaChlKXtyZXR1cm4gem8odC5iLCJDYW4gbm90IGdldCByZXNwb25zZVRleHQ6ICIrZS5tZXNzYWdlKSwiIn19KHRoaXMpKXx8bnVsbH1jYXRjaChuKXt0PW51bGx9ZSYmZSh0KX0pKSxjbihhLCJyZWFkeSIsKGZ1bmN0aW9uKCl7cyYmY2xlYXJUaW1lb3V0KHMpLG1lKHRoaXMpfSkpLGNuKGEsInRpbWVvdXQiLChmdW5jdGlvbigpe3MmJmNsZWFyVGltZW91dChzKSxtZSh0aGlzKSxlJiZlKG51bGwpfSkpLHNhKGEsdCxuLGkscil9O3ZhciBCYT1uZXcgUShudCwiaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvY2xpZW50LmpzP29ubG9hZD0le29ubG9hZH0iKSxHYT0iX19mY2IiK01hdGguZmxvb3IoMWU2Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCk7ZnVuY3Rpb24gV2EodCl7aWYoIWModD10LmVtYWlsKXx8IXNpLnRlc3QodCkpdGhyb3cgbmV3IFFpKCJpbnZhbGlkLWVtYWlsIil9ZnVuY3Rpb24gWGEodCl7ImVtYWlsImluIHQmJldhKHQpfWZ1bmN0aW9uIEphKHQpe2lmKCF0W01hXSl0aHJvdyBuZXcgUWkoImludGVybmFsLWVycm9yIil9ZnVuY3Rpb24gWWEodCl7aWYodC5waG9uZU51bWJlcnx8dC50ZW1wb3JhcnlQcm9vZil7aWYoIXQucGhvbmVOdW1iZXJ8fCF0LnRlbXBvcmFyeVByb29mKXRocm93IG5ldyBRaSgiaW50ZXJuYWwtZXJyb3IiKX1lbHNle2lmKCF0LnNlc3Npb25JbmZvKXRocm93IG5ldyBRaSgibWlzc2luZy12ZXJpZmljYXRpb24taWQiKTtpZighdC5jb2RlKXRocm93IG5ldyBRaSgibWlzc2luZy12ZXJpZmljYXRpb24tY29kZSIpfX1MYS5wcm90b3R5cGUubT1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPXRoaXM7eGEudGhlbigoZnVuY3Rpb24oKXt3aW5kb3cuZ2FwaS5jbGllbnQuc2V0QXBpS2V5KG8uYyk7dmFyIGE9d2luZG93LmdhcGkuYXV0aC5nZXRUb2tlbigpO3dpbmRvdy5nYXBpLmF1dGguc2V0VG9rZW4obnVsbCksd2luZG93LmdhcGkuY2xpZW50LnJlcXVlc3Qoe3BhdGg6dCxtZXRob2Q6bixib2R5OmksaGVhZGVyczpyLGF1dGhUeXBlOiJub25lIixjYWxsYmFjazpmdW5jdGlvbih0KXt3aW5kb3cuZ2FwaS5hdXRoLnNldFRva2VuKGEpLGUmJmUodCl9fSl9KSkucygoZnVuY3Rpb24odCl7ZSYmZSh7ZXJyb3I6e21lc3NhZ2U6dCYmdC5tZXNzYWdlfHwiQ09SU19VTlNVUFBPUlRFRCJ9fSl9KSl9LExhLnByb3RvdHlwZS5vYj1mdW5jdGlvbigpe3JldHVybiBScyh0aGlzLFRzLHt9KX0sTGEucHJvdG90eXBlLnJiPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFJzKHRoaXMsd3Mse2lkVG9rZW46dCxlbWFpbDplfSl9LExhLnByb3RvdHlwZS5zYj1mdW5jdGlvbih0LGUpe3JldHVybiBScyh0aGlzLElzLHtpZFRva2VuOnQscGFzc3dvcmQ6ZX0pfTt2YXIgemE9e2Rpc3BsYXlOYW1lOiJESVNQTEFZX05BTUUiLHBob3RvVXJsOiJQSE9UT19VUkwifTtmdW5jdGlvbiAkYSh0KXtpZighdC5yZXF1ZXN0VXJpfHwhdC5zZXNzaW9uSWQmJiF0LnBvc3RCb2R5JiYhdC5wZW5kaW5nVG9rZW4pdGhyb3cgbmV3IFFpKCJpbnRlcm5hbC1lcnJvciIpfWZ1bmN0aW9uIFphKHQsZSl7cmV0dXJuIGUub2F1dGhJZFRva2VuJiZlLnByb3ZpZGVySWQmJjA9PWUucHJvdmlkZXJJZC5pbmRleE9mKCJvaWRjLiIpJiYhZS5wZW5kaW5nVG9rZW4mJih0LnNlc3Npb25JZD9lLm5vbmNlPXQuc2Vzc2lvbklkOnQucG9zdEJvZHkmJihWbih0PW5ldyB4bih0LnBvc3RCb2R5KSwibm9uY2UiKSYmKGUubm9uY2U9dC5nZXQoIm5vbmNlIikpKSksZX1mdW5jdGlvbiBRYSh0KXt2YXIgZT1udWxsO2lmKHQubmVlZENvbmZpcm1hdGlvbj8odC5jb2RlPSJhY2NvdW50LWV4aXN0cy13aXRoLWRpZmZlcmVudC1jcmVkZW50aWFsIixlPVJvKHQpKToiRkVERVJBVEVEX1VTRVJfSURfQUxSRUFEWV9MSU5LRUQiPT10LmVycm9yTWVzc2FnZT8odC5jb2RlPSJjcmVkZW50aWFsLWFscmVhZHktaW4tdXNlIixlPVJvKHQpKToiRU1BSUxfRVhJU1RTIj09dC5lcnJvck1lc3NhZ2U/KHQuY29kZT0iZW1haWwtYWxyZWFkeS1pbi11c2UiLGU9Um8odCkpOnQuZXJyb3JNZXNzYWdlJiYoZT1Dcyh0LmVycm9yTWVzc2FnZSkpLGUpdGhyb3cgZTtpZighdFtNYV0pdGhyb3cgbmV3IFFpKCJpbnRlcm5hbC1lcnJvciIpfWZ1bmN0aW9uIHRzKHQsZSl7cmV0dXJuIGUucmV0dXJuSWRwQ3JlZGVudGlhbD0hMCxScyh0LEVzLGUpfWZ1bmN0aW9uIGVzKHQsZSl7cmV0dXJuIGUucmV0dXJuSWRwQ3JlZGVudGlhbD0hMCxScyh0LEFzLGUpfWZ1bmN0aW9uIG5zKHQsZSl7cmV0dXJuIGUucmV0dXJuSWRwQ3JlZGVudGlhbD0hMCxlLmF1dG9DcmVhdGU9ITEsUnModCxrcyxlKX1mdW5jdGlvbiBpcyh0KXtpZighdC5vb2JDb2RlKXRocm93IG5ldyBRaSgiaW52YWxpZC1hY3Rpb24tY29kZSIpfShlPUxhLnByb3RvdHlwZSkudGI9ZnVuY3Rpb24odCxlKXt2YXIgbj17aWRUb2tlbjp0fSxpPVtdO3JldHVybiBKKHphLChmdW5jdGlvbih0LHIpe3ZhciBvPWVbcl07bnVsbD09PW8/aS5wdXNoKHQpOnIgaW4gZSYmKG5bcl09byl9KSksaS5sZW5ndGgmJihuLmRlbGV0ZUF0dHJpYnV0ZT1pKSxScyh0aGlzLHdzLG4pfSxlLmtiPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFoodD17cmVxdWVzdFR5cGU6IlBBU1NXT1JEX1JFU0VUIixlbWFpbDp0fSxlKSxScyh0aGlzLHZzLHQpfSxlLmxiPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFoodD17cmVxdWVzdFR5cGU6IkVNQUlMX1NJR05JTiIsZW1haWw6dH0sZSksUnModGhpcyxkcyx0KX0sZS5qYj1mdW5jdGlvbih0LGUpe3JldHVybiBaKHQ9e3JlcXVlc3RUeXBlOiJWRVJJRllfRU1BSUwiLGlkVG9rZW46dH0sZSksUnModGhpcyxwcyx0KX0sZS5XYT1mdW5jdGlvbih0KXtyZXR1cm4gUnModGhpcyxPcyx0KX0sZS5hYj1mdW5jdGlvbih0LGUpe3JldHVybiBScyh0aGlzLGJzLHtvb2JDb2RlOnQsbmV3UGFzc3dvcmQ6ZX0pfSxlLk1hPWZ1bmN0aW9uKHQpe3JldHVybiBScyh0aGlzLG9zLHtvb2JDb2RlOnR9KX0sZS5ZYT1mdW5jdGlvbih0KXtyZXR1cm4gUnModGhpcyxycyx7b29iQ29kZTp0fSl9O3ZhciBycz17ZW5kcG9pbnQ6InNldEFjY291bnRJbmZvIixEOmlzLGZhOiJlbWFpbCIsRjohMH0sb3M9e2VuZHBvaW50OiJyZXNldFBhc3N3b3JkIixEOmlzLEs6ZnVuY3Rpb24odCl7dmFyIGU9dC5yZXF1ZXN0VHlwZTtpZighZXx8IXQuZW1haWwmJiJFTUFJTF9TSUdOSU4iIT1lKXRocm93IG5ldyBRaSgiaW50ZXJuYWwtZXJyb3IiKX0sRjohMH0sYXM9e2VuZHBvaW50OiJzaWdudXBOZXdVc2VyIixEOmZ1bmN0aW9uKHQpe2lmKFdhKHQpLCF0LnBhc3N3b3JkKXRocm93IG5ldyBRaSgid2Vhay1wYXNzd29yZCIpfSxLOkphLFQ6ITAsRjohMH0sc3M9e2VuZHBvaW50OiJjcmVhdGVBdXRoVXJpIixGOiEwfSx1cz17ZW5kcG9pbnQ6ImRlbGV0ZUFjY291bnQiLFY6WyJpZFRva2VuIl19LGNzPXtlbmRwb2ludDoic2V0QWNjb3VudEluZm8iLFY6WyJpZFRva2VuIiwiZGVsZXRlUHJvdmlkZXIiXSxEOmZ1bmN0aW9uKHQpe2lmKCFtKHQuZGVsZXRlUHJvdmlkZXIpKXRocm93IG5ldyBRaSgiaW50ZXJuYWwtZXJyb3IiKX19LGhzPXtlbmRwb2ludDoiZW1haWxMaW5rU2lnbmluIixWOlsiZW1haWwiLCJvb2JDb2RlIl0sRDpXYSxLOkphLFQ6ITAsRjohMH0sZnM9e2VuZHBvaW50OiJlbWFpbExpbmtTaWduaW4iLFY6WyJpZFRva2VuIiwiZW1haWwiLCJvb2JDb2RlIl0sRDpXYSxLOkphLFQ6ITB9LGxzPXtlbmRwb2ludDoiZ2V0QWNjb3VudEluZm8ifSxkcz17ZW5kcG9pbnQ6ImdldE9vYkNvbmZpcm1hdGlvbkNvZGUiLFY6WyJyZXF1ZXN0VHlwZSJdLEQ6ZnVuY3Rpb24odCl7aWYoIkVNQUlMX1NJR05JTiIhPXQucmVxdWVzdFR5cGUpdGhyb3cgbmV3IFFpKCJpbnRlcm5hbC1lcnJvciIpO1dhKHQpfSxmYToiZW1haWwiLEY6ITB9LHBzPXtlbmRwb2ludDoiZ2V0T29iQ29uZmlybWF0aW9uQ29kZSIsVjpbImlkVG9rZW4iLCJyZXF1ZXN0VHlwZSJdLEQ6ZnVuY3Rpb24odCl7aWYoIlZFUklGWV9FTUFJTCIhPXQucmVxdWVzdFR5cGUpdGhyb3cgbmV3IFFpKCJpbnRlcm5hbC1lcnJvciIpfSxmYToiZW1haWwiLEY6ITB9LHZzPXtlbmRwb2ludDoiZ2V0T29iQ29uZmlybWF0aW9uQ29kZSIsVjpbInJlcXVlc3RUeXBlIl0sRDpmdW5jdGlvbih0KXtpZigiUEFTU1dPUkRfUkVTRVQiIT10LnJlcXVlc3RUeXBlKXRocm93IG5ldyBRaSgiaW50ZXJuYWwtZXJyb3IiKTtXYSh0KX0sZmE6ImVtYWlsIixGOiEwfSxtcz17d2I6ITAsZW5kcG9pbnQ6ImdldFByb2plY3RDb25maWciLEtiOiJHRVQifSxncz17d2I6ITAsZW5kcG9pbnQ6ImdldFJlY2FwdGNoYVBhcmFtIixLYjoiR0VUIixLOmZ1bmN0aW9uKHQpe2lmKCF0LnJlY2FwdGNoYVNpdGVLZXkpdGhyb3cgbmV3IFFpKCJpbnRlcm5hbC1lcnJvciIpfX0sYnM9e2VuZHBvaW50OiJyZXNldFBhc3N3b3JkIixEOmlzLGZhOiJlbWFpbCIsRjohMH0seXM9e2VuZHBvaW50OiJzZW5kVmVyaWZpY2F0aW9uQ29kZSIsVjpbInBob25lTnVtYmVyIiwicmVjYXB0Y2hhVG9rZW4iXSxmYToic2Vzc2lvbkluZm8iLEY6ITB9LHdzPXtlbmRwb2ludDoic2V0QWNjb3VudEluZm8iLFY6WyJpZFRva2VuIl0sRDpYYSxUOiEwfSxJcz17ZW5kcG9pbnQ6InNldEFjY291bnRJbmZvIixWOlsiaWRUb2tlbiJdLEQ6ZnVuY3Rpb24odCl7aWYoWGEodCksIXQucGFzc3dvcmQpdGhyb3cgbmV3IFFpKCJ3ZWFrLXBhc3N3b3JkIil9LEs6SmEsVDohMH0sVHM9e2VuZHBvaW50OiJzaWdudXBOZXdVc2VyIixLOkphLFQ6ITAsRjohMH0sRXM9e2VuZHBvaW50OiJ2ZXJpZnlBc3NlcnRpb24iLEQ6JGEsUmE6WmEsSzpRYSxUOiEwLEY6ITB9LGtzPXtlbmRwb2ludDoidmVyaWZ5QXNzZXJ0aW9uIixEOiRhLFJhOlphLEs6ZnVuY3Rpb24odCl7aWYodC5lcnJvck1lc3NhZ2UmJiJVU0VSX05PVF9GT1VORCI9PXQuZXJyb3JNZXNzYWdlKXRocm93IG5ldyBRaSgidXNlci1ub3QtZm91bmQiKTtpZih0LmVycm9yTWVzc2FnZSl0aHJvdyBDcyh0LmVycm9yTWVzc2FnZSk7aWYoIXRbTWFdKXRocm93IG5ldyBRaSgiaW50ZXJuYWwtZXJyb3IiKX0sVDohMCxGOiEwfSxBcz17ZW5kcG9pbnQ6InZlcmlmeUFzc2VydGlvbiIsRDpmdW5jdGlvbih0KXtpZigkYSh0KSwhdC5pZFRva2VuKXRocm93IG5ldyBRaSgiaW50ZXJuYWwtZXJyb3IiKX0sUmE6WmEsSzpRYSxUOiEwfSxTcz17ZW5kcG9pbnQ6InZlcmlmeUN1c3RvbVRva2VuIixEOmZ1bmN0aW9uKHQpe2lmKCF0LnRva2VuKXRocm93IG5ldyBRaSgiaW52YWxpZC1jdXN0b20tdG9rZW4iKX0sSzpKYSxUOiEwLEY6ITB9LE5zPXtlbmRwb2ludDoidmVyaWZ5UGFzc3dvcmQiLEQ6ZnVuY3Rpb24odCl7aWYoV2EodCksIXQucGFzc3dvcmQpdGhyb3cgbmV3IFFpKCJ3cm9uZy1wYXNzd29yZCIpfSxLOkphLFQ6ITAsRjohMH0sT3M9e2VuZHBvaW50OiJ2ZXJpZnlQaG9uZU51bWJlciIsRDpZYSxLOkphLEY6ITB9LF9zPXtlbmRwb2ludDoidmVyaWZ5UGhvbmVOdW1iZXIiLEQ6ZnVuY3Rpb24odCl7aWYoIXQuaWRUb2tlbil0aHJvdyBuZXcgUWkoImludGVybmFsLWVycm9yIik7WWEodCl9LEs6ZnVuY3Rpb24odCl7aWYodC50ZW1wb3JhcnlQcm9vZil0aHJvdyB0LmNvZGU9ImNyZWRlbnRpYWwtYWxyZWFkeS1pbi11c2UiLFJvKHQpO0phKHQpfX0sUHM9e1liOntVU0VSX05PVF9GT1VORDoidXNlci1ub3QtZm91bmQifSxlbmRwb2ludDoidmVyaWZ5UGhvbmVOdW1iZXIiLEQ6WWEsSzpKYSxGOiEwfTtmdW5jdGlvbiBScyh0LGUsbil7aWYoIWZ1bmN0aW9uKHQsZSl7aWYoIWV8fCFlLmxlbmd0aClyZXR1cm4hMDtpZighdClyZXR1cm4hMTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9dFtlW25dXTtpZih2b2lkIDA9PT1pfHxudWxsPT09aXx8IiI9PT1pKXJldHVybiExfXJldHVybiEwfShuLGUuVikpcmV0dXJuIHRlKG5ldyBRaSgiaW50ZXJuYWwtZXJyb3IiKSk7dmFyIGkscj1lLktifHwiUE9TVCI7cmV0dXJuIFF0KG4pLnRoZW4oZS5EKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLlQmJihuLnJldHVyblNlY3VyZVRva2VuPSEwKSxlLkYmJnQuYiYmInVuZGVmaW5lZCI9PT10eXBlb2Ygbi50ZW5hbnRJZCYmKG4udGVuYW50SWQ9dC5iKSxmdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9QW4odC5oK2UpO0VuKGEsImtleSIsdC5jKSxvJiZFbihhLCJjYiIsUygpLnRvU3RyaW5nKCkpO3ZhciBzPSJHRVQiPT1uO2lmKHMpZm9yKHZhciB1IGluIGkpaS5oYXNPd25Qcm9wZXJ0eSh1KSYmRW4oYSx1LGlbdV0pO3JldHVybiBuZXcgV3QoKGZ1bmN0aW9uKGUsbyl7SGEodCxhLnRvU3RyaW5nKCksKGZ1bmN0aW9uKHQpe3Q/dC5lcnJvcj9vKERzKHQscnx8e30pKTplKHQpOm8obmV3IFFpKCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkIikpfSksbixzP3ZvaWQgMDpZbihOaShpKSksdC5hLHQuaS5nZXQoKSl9KSl9KHQsZS5lbmRwb2ludCxyLG4sZS5ZYixlLndifHwhMSl9KSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIGk9dCxlLlJhP2UuUmEobixpKTppfSkpLnRoZW4oZS5LKS50aGVuKChmdW5jdGlvbigpe2lmKCFlLmZhKXJldHVybiBpO2lmKCEoZS5mYSBpbiBpKSl0aHJvdyBuZXcgUWkoImludGVybmFsLWVycm9yIik7cmV0dXJuIGlbZS5mYV19KSl9ZnVuY3Rpb24gQ3ModCl7cmV0dXJuIERzKHtlcnJvcjp7ZXJyb3JzOlt7bWVzc2FnZTp0fV0sY29kZTo0MDAsbWVzc2FnZTp0fX0pfWZ1bmN0aW9uIERzKHQsZSl7dmFyIG49KHQuZXJyb3ImJnQuZXJyb3IuZXJyb3JzJiZ0LmVycm9yLmVycm9yc1swXXx8e30pLnJlYXNvbnx8IiIsaT17a2V5SW52YWxpZDoiaW52YWxpZC1hcGkta2V5IixpcFJlZmVyZXJCbG9ja2VkOiJhcHAtbm90LWF1dGhvcml6ZWQifTtpZihuPWlbbl0/bmV3IFFpKGlbbl0pOm51bGwpcmV0dXJuIG47Zm9yKHZhciByIGluIG49dC5lcnJvciYmdC5lcnJvci5tZXNzYWdlfHwiIixaKGk9e0lOVkFMSURfQ1VTVE9NX1RPS0VOOiJpbnZhbGlkLWN1c3RvbS10b2tlbiIsQ1JFREVOVElBTF9NSVNNQVRDSDoiY3VzdG9tLXRva2VuLW1pc21hdGNoIixNSVNTSU5HX0NVU1RPTV9UT0tFTjoiaW50ZXJuYWwtZXJyb3IiLElOVkFMSURfSURFTlRJRklFUjoiaW52YWxpZC1lbWFpbCIsTUlTU0lOR19DT05USU5VRV9VUkk6ImludGVybmFsLWVycm9yIixJTlZBTElEX0VNQUlMOiJpbnZhbGlkLWVtYWlsIixJTlZBTElEX1BBU1NXT1JEOiJ3cm9uZy1wYXNzd29yZCIsVVNFUl9ESVNBQkxFRDoidXNlci1kaXNhYmxlZCIsTUlTU0lOR19QQVNTV09SRDoiaW50ZXJuYWwtZXJyb3IiLEVNQUlMX0VYSVNUUzoiZW1haWwtYWxyZWFkeS1pbi11c2UiLFBBU1NXT1JEX0xPR0lOX0RJU0FCTEVEOiJvcGVyYXRpb24tbm90LWFsbG93ZWQiLElOVkFMSURfSURQX1JFU1BPTlNFOiJpbnZhbGlkLWNyZWRlbnRpYWwiLElOVkFMSURfUEVORElOR19UT0tFTjoiaW52YWxpZC1jcmVkZW50aWFsIixGRURFUkFURURfVVNFUl9JRF9BTFJFQURZX0xJTktFRDoiY3JlZGVudGlhbC1hbHJlYWR5LWluLXVzZSIsTUlTU0lOR19PUl9JTlZBTElEX05PTkNFOiJtaXNzaW5nLW9yLWludmFsaWQtbm9uY2UiLElOVkFMSURfTUVTU0FHRV9QQVlMT0FEOiJpbnZhbGlkLW1lc3NhZ2UtcGF5bG9hZCIsSU5WQUxJRF9SRUNJUElFTlRfRU1BSUw6ImludmFsaWQtcmVjaXBpZW50LWVtYWlsIixJTlZBTElEX1NFTkRFUjoiaW52YWxpZC1zZW5kZXIiLEVNQUlMX05PVF9GT1VORDoidXNlci1ub3QtZm91bmQiLFJFU0VUX1BBU1NXT1JEX0VYQ0VFRF9MSU1JVDoidG9vLW1hbnktcmVxdWVzdHMiLEVYUElSRURfT09CX0NPREU6ImV4cGlyZWQtYWN0aW9uLWNvZGUiLElOVkFMSURfT09CX0NPREU6ImludmFsaWQtYWN0aW9uLWNvZGUiLE1JU1NJTkdfT09CX0NPREU6ImludGVybmFsLWVycm9yIixJTlZBTElEX1BST1ZJREVSX0lEOiJpbnZhbGlkLXByb3ZpZGVyLWlkIixDUkVERU5USUFMX1RPT19PTERfTE9HSU5fQUdBSU46InJlcXVpcmVzLXJlY2VudC1sb2dpbiIsSU5WQUxJRF9JRF9UT0tFTjoiaW52YWxpZC11c2VyLXRva2VuIixUT0tFTl9FWFBJUkVEOiJ1c2VyLXRva2VuLWV4cGlyZWQiLFVTRVJfTk9UX0ZPVU5EOiJ1c2VyLXRva2VuLWV4cGlyZWQiLENPUlNfVU5TVVBQT1JURUQ6ImNvcnMtdW5zdXBwb3J0ZWQiLERZTkFNSUNfTElOS19OT1RfQUNUSVZBVEVEOiJkeW5hbWljLWxpbmstbm90LWFjdGl2YXRlZCIsSU5WQUxJRF9BUFBfSUQ6ImludmFsaWQtYXBwLWlkIixUT09fTUFOWV9BVFRFTVBUU19UUllfTEFURVI6InRvby1tYW55LXJlcXVlc3RzIixXRUFLX1BBU1NXT1JEOiJ3ZWFrLXBhc3N3b3JkIixPUEVSQVRJT05fTk9UX0FMTE9XRUQ6Im9wZXJhdGlvbi1ub3QtYWxsb3dlZCIsVVNFUl9DQU5DRUxMRUQ6InVzZXItY2FuY2VsbGVkIixDQVBUQ0hBX0NIRUNLX0ZBSUxFRDoiY2FwdGNoYS1jaGVjay1mYWlsZWQiLElOVkFMSURfQVBQX0NSRURFTlRJQUw6ImludmFsaWQtYXBwLWNyZWRlbnRpYWwiLElOVkFMSURfQ09ERToiaW52YWxpZC12ZXJpZmljYXRpb24tY29kZSIsSU5WQUxJRF9QSE9ORV9OVU1CRVI6ImludmFsaWQtcGhvbmUtbnVtYmVyIixJTlZBTElEX1NFU1NJT05fSU5GTzoiaW52YWxpZC12ZXJpZmljYXRpb24taWQiLElOVkFMSURfVEVNUE9SQVJZX1BST09GOiJpbnZhbGlkLWNyZWRlbnRpYWwiLE1JU1NJTkdfQVBQX0NSRURFTlRJQUw6Im1pc3NpbmctYXBwLWNyZWRlbnRpYWwiLE1JU1NJTkdfQ09ERToibWlzc2luZy12ZXJpZmljYXRpb24tY29kZSIsTUlTU0lOR19QSE9ORV9OVU1CRVI6Im1pc3NpbmctcGhvbmUtbnVtYmVyIixNSVNTSU5HX1NFU1NJT05fSU5GTzoibWlzc2luZy12ZXJpZmljYXRpb24taWQiLFFVT1RBX0VYQ0VFREVEOiJxdW90YS1leGNlZWRlZCIsU0VTU0lPTl9FWFBJUkVEOiJjb2RlLWV4cGlyZWQiLFJFSkVDVEVEX0NSRURFTlRJQUw6InJlamVjdGVkLWNyZWRlbnRpYWwiLElOVkFMSURfQ09OVElOVUVfVVJJOiJpbnZhbGlkLWNvbnRpbnVlLXVyaSIsTUlTU0lOR19BTkRST0lEX1BBQ0tBR0VfTkFNRToibWlzc2luZy1hbmRyb2lkLXBrZy1uYW1lIixNSVNTSU5HX0lPU19CVU5ETEVfSUQ6Im1pc3NpbmctaW9zLWJ1bmRsZS1pZCIsVU5BVVRIT1JJWkVEX0RPTUFJTjoidW5hdXRob3JpemVkLWNvbnRpbnVlLXVyaSIsSU5WQUxJRF9EWU5BTUlDX0xJTktfRE9NQUlOOiJpbnZhbGlkLWR5bmFtaWMtbGluay1kb21haW4iLElOVkFMSURfT0FVVEhfQ0xJRU5UX0lEOiJpbnZhbGlkLW9hdXRoLWNsaWVudC1pZCIsSU5WQUxJRF9DRVJUX0hBU0g6ImludmFsaWQtY2VydC1oYXNoIixVTlNVUFBPUlRFRF9URU5BTlRfT1BFUkFUSU9OOiJ1bnN1cHBvcnRlZC10ZW5hbnQtb3BlcmF0aW9uIixJTlZBTElEX1RFTkFOVF9JRDoiaW52YWxpZC10ZW5hbnQtaWQiLFRFTkFOVF9JRF9NSVNNQVRDSDoidGVuYW50LWlkLW1pc21hdGNoIixBRE1JTl9PTkxZX09QRVJBVElPTjoiYWRtaW4tcmVzdHJpY3RlZC1vcGVyYXRpb24ifSxlfHx7fSksZT0oZT1uLm1hdGNoKC9eW15cc10rXHMqOlxzKihbXHNcU10qKSQvKSkmJjE8ZS5sZW5ndGg/ZVsxXTp2b2lkIDAsaSlpZigwPT09bi5pbmRleE9mKHIpKXJldHVybiBuZXcgUWkoaVtyXSxlKTtyZXR1cm4hZSYmdCYmKGU9U2kodCkpLG5ldyBRaSgiaW50ZXJuYWwtZXJyb3IiLGUpfWZ1bmN0aW9uIExzKHQpe3RoaXMuYj10LHRoaXMuYT1udWxsLHRoaXMuZ2I9ZnVuY3Rpb24odCl7cmV0dXJuKFVzfHwoVXM9bmV3IFd0KChmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXtSaSgpLHdpKCJnYXBpLmxvYWQiKSgiZ2FwaS5pZnJhbWVzIix7Y2FsbGJhY2s6dCxvbnRpbWVvdXQ6ZnVuY3Rpb24oKXtSaSgpLGUoRXJyb3IoIk5ldHdvcmsgRXJyb3IiKSl9LHRpbWVvdXQ6TXMuZ2V0KCl9KX1pZih3aSgiZ2FwaS5pZnJhbWVzLklmcmFtZSIpKXQoKTtlbHNlIGlmKHdpKCJnYXBpLmxvYWQiKSluKCk7ZWxzZXt2YXIgaT0iX19pZnJhbWVmY2IiK01hdGguZmxvb3IoMWU2Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCk7dVtpXT1mdW5jdGlvbigpe3dpKCJnYXBpLmxvYWQiKT9uKCk6ZShFcnJvcigiTmV0d29yayBFcnJvciIpKX0sUXQoTmEoaT1hdCh4cyx7b25sb2FkOml9KSkpLnMoKGZ1bmN0aW9uKCl7ZShFcnJvcigiTmV0d29yayBFcnJvciIpKX0pKX19KSkucygoZnVuY3Rpb24odCl7dGhyb3cgVXM9bnVsbCx0fSkpKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFd0KChmdW5jdGlvbihlLG4pe3dpKCJnYXBpLmlmcmFtZXMuZ2V0Q29udGV4dCIpKCkub3Blbih7d2hlcmU6ZG9jdW1lbnQuYm9keSx1cmw6dC5iLG1lc3NhZ2VIYW5kbGVyc0ZpbHRlcjp3aSgiZ2FwaS5pZnJhbWVzLkNST1NTX09SSUdJTl9JRlJBTUVTX0ZJTFRFUiIpLGF0dHJpYnV0ZXM6e3N0eWxlOntwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDoiLTEwMHB4Iix3aWR0aDoiMXB4IixoZWlnaHQ6IjFweCJ9fSxkb250Y2xlYXI6ITB9LChmdW5jdGlvbihpKXtmdW5jdGlvbiByKCl7Y2xlYXJUaW1lb3V0KG8pLGUoKX10LmE9aSx0LmEucmVzdHlsZSh7c2V0SGlkZU9uTGVhdmU6ITF9KTt2YXIgbz1zZXRUaW1lb3V0KChmdW5jdGlvbigpe24oRXJyb3IoIk5ldHdvcmsgRXJyb3IiKSl9KSxqcy5nZXQoKSk7aS5waW5nKHIpLnRoZW4ociwoZnVuY3Rpb24oKXtuKEVycm9yKCJOZXR3b3JrIEVycm9yIikpfSkpfSkpfSkpfSkpfSh0aGlzKX12YXIgeHM9bmV3IFEobnQsImh0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2FwaS5qcz9vbmxvYWQ9JXtvbmxvYWR9IiksTXM9bmV3IENpKDNlNCw2ZTQpLGpzPW5ldyBDaSg1ZTMsMTVlMyksVXM9bnVsbDtmdW5jdGlvbiBWcyh0LGUsbil7dGhpcy5pPXQsdGhpcy5nPWUsdGhpcy5oPW4sdGhpcy5mPW51bGwsdGhpcy5hPVNuKHRoaXMuaSwiL19fL2F1dGgvaWZyYW1lIiksRW4odGhpcy5hLCJhcGlLZXkiLHRoaXMuZyksRW4odGhpcy5hLCJhcHBOYW1lIix0aGlzLmgpLHRoaXMuYj1udWxsLHRoaXMuYz1bXX1mdW5jdGlvbiBGcyh0LGUsbixpLHIpe3RoaXMubz10LHRoaXMubT1lLHRoaXMuYz1uLHRoaXMudT1pLHRoaXMuaT10aGlzLmc9dGhpcy5sPW51bGwsdGhpcy5hPXIsdGhpcy5oPXRoaXMuZj1udWxsfWZ1bmN0aW9uIEtzKHQpe3RyeXtyZXR1cm4gaS5hLmFwcCh0KS5hdXRoKCkuQ2EoKX1jYXRjaChlKXtyZXR1cm5bXX19ZnVuY3Rpb24gcXModCxlLG4saSxyKXt0aGlzLnU9dCx0aGlzLmY9ZSx0aGlzLmI9bix0aGlzLmM9aXx8bnVsbCx0aGlzLmg9cnx8bnVsbCx0aGlzLm09dGhpcy5vPXRoaXMudj1udWxsLHRoaXMuZz1bXSx0aGlzLmw9dGhpcy5hPW51bGx9ZnVuY3Rpb24gSHModCl7dmFyIGU9ZWkoKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIFJzKHQsbXMse30pLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmF1dGhvcml6ZWREb21haW5zfHxbXX0pKX0odCkudGhlbigoZnVuY3Rpb24odCl7dDp7dmFyIG49QW4oZSksaT1uLmY7bj1uLmI7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl0sYT1uLHM9aTtpZigwPT1vLmluZGV4T2YoImNocm9tZS1leHRlbnNpb246Ly8iKT9hPUFuKG8pLmI9PWEmJiJjaHJvbWUtZXh0ZW5zaW9uIj09czoiaHR0cCIhPXMmJiJodHRwcyIhPXM/YT0hMTphaS50ZXN0KG8pP2E9YT09bzoobz1vLnNwbGl0KCIuIikuam9pbigiXFwuIiksYT1uZXcgUmVnRXhwKCJeKC4rXFwuIitvKyJ8IitvKyIpJCIsImkiKS50ZXN0KGEpKSxhKXt0PSEwO2JyZWFrIHR9fXQ9ITF9aWYoIXQpdGhyb3cgbmV3IF9vKGVpKCkpfSkpfWZ1bmN0aW9uIEJzKHQpe3JldHVybiB0Lmw/dC5sOih0Lmw9dWkoKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Lm8pe3ZhciBlPXQuYyxuPXQuaCxpPUtzKHQuYikscj1uZXcgVnModC51LHQuZix0LmIpO3IuZj1lLHIuYj1uLHIuYz1YKGl8fFtdKSx0Lm89ci50b1N0cmluZygpfXQuaT1uZXcgTHModC5vKSxmdW5jdGlvbih0KXtpZighdC5pKXRocm93IEVycm9yKCJJZmNIYW5kbGVyIG11c3QgYmUgaW5pdGlhbGl6ZWQhIik7IWZ1bmN0aW9uKHQsZSl7dC5nYi50aGVuKChmdW5jdGlvbigpe3QuYS5yZWdpc3RlcigiYXV0aEV2ZW50IixlLHdpKCJnYXBpLmlmcmFtZXMuQ1JPU1NfT1JJR0lOX0lGUkFNRVNfRklMVEVSIikpfSkpfSh0LmksKGZ1bmN0aW9uKGUpe3ZhciBuPXt9O2lmKGUmJmUuYXV0aEV2ZW50KXt2YXIgaT0hMTtmb3IoZT1BbyhlLmF1dGhFdmVudCksbj0wO248dC5nLmxlbmd0aDtuKyspaT10Lmdbbl0oZSl8fGk7cmV0dXJuKG49e30pLnN0YXR1cz1pPyJBQ0siOiJFUlJPUiIsUXQobil9cmV0dXJuIG4uc3RhdHVzPSJFUlJPUiIsUXQobil9KSl9KHQpfSkpLHQubCl9ZnVuY3Rpb24gR3ModCl7cmV0dXJuIHQubXx8KHQudj10LmM/YmkodC5jLEtzKHQuYikpOm51bGwsdC5tPW5ldyBMYSh0LmYsUnIodC5oKSx0LnYpKSx0Lm19ZnVuY3Rpb24gV3ModCxlLG4saSxyLG8sYSxzLHUsYyxoKXtyZXR1cm4odD1uZXcgRnModCxlLG4saSxyKSkubD1vLHQuZz1hLHQuaT1zLHQuYj16KHV8fG51bGwpLHQuZj1jLHQubmIoaCkudG9TdHJpbmcoKX1mdW5jdGlvbiBYcyh0KXtpZih0aGlzLmE9dHx8aS5hLklOVEVSTkFMLnJlYWN0TmF0aXZlJiZpLmEuSU5URVJOQUwucmVhY3ROYXRpdmUuQXN5bmNTdG9yYWdlLCF0aGlzLmEpdGhyb3cgbmV3IFFpKCJpbnRlcm5hbC1lcnJvciIsIlRoZSBSZWFjdCBOYXRpdmUgY29tcGF0aWJpbGl0eSBsaWJyYXJ5IHdhcyBub3QgZm91bmQuIik7dGhpcy50eXBlPSJhc3luY1N0b3JhZ2UifWZ1bmN0aW9uIEpzKHQpe3RoaXMuYj10LHRoaXMuYT17fSx0aGlzLmY9ayh0aGlzLmMsdGhpcyl9VnMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj9Fbih0aGlzLmEsInYiLHRoaXMuZik6VW4odGhpcy5hLmEsInYiKSx0aGlzLmI/RW4odGhpcy5hLCJlaWQiLHRoaXMuYik6VW4odGhpcy5hLmEsImVpZCIpLHRoaXMuYy5sZW5ndGg/RW4odGhpcy5hLCJmdyIsdGhpcy5jLmpvaW4oIiwiKSk6VW4odGhpcy5hLmEsImZ3IiksdGhpcy5hLnRvU3RyaW5nKCl9LEZzLnByb3RvdHlwZS5uYj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oPXQsdGhpc30sRnMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9U24odGhpcy5vLCIvX18vYXV0aC9oYW5kbGVyIik7aWYoRW4odCwiYXBpS2V5Iix0aGlzLm0pLEVuKHQsImFwcE5hbWUiLHRoaXMuYyksRW4odCwiYXV0aFR5cGUiLHRoaXMudSksdGhpcy5hLmlzT0F1dGhQcm92aWRlcil7dmFyIGU9dGhpcy5hO3RyeXt2YXIgbj1pLmEuYXBwKHRoaXMuYykuYXV0aCgpLmhhKCl9Y2F0Y2godSl7bj1udWxsfWZvcih2YXIgciBpbiBlLmJiPW4sRW4odCwicHJvdmlkZXJJZCIsdGhpcy5hLnByb3ZpZGVySWQpLG49TmkoKGU9dGhpcy5hKS56YikpbltyXT1uW3JdLnRvU3RyaW5nKCk7cj1lLkZjLG49eihuKTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGE9cltvXTthIGluIG4mJmRlbGV0ZSBuW2FdfWUuZWImJmUuYmImJiFuW2UuZWJdJiYobltlLmViXT1lLmJiKSxZKG4pfHxFbih0LCJjdXN0b21QYXJhbWV0ZXJzIixTaShuKSl9aWYoImZ1bmN0aW9uIj09PXR5cGVvZiB0aGlzLmEuSGImJigoZT10aGlzLmEuSGIoKSkubGVuZ3RoJiZFbih0LCJzY29wZXMiLGUuam9pbigiLCIpKSksdGhpcy5sP0VuKHQsInJlZGlyZWN0VXJsIix0aGlzLmwpOlVuKHQuYSwicmVkaXJlY3RVcmwiKSx0aGlzLmc/RW4odCwiZXZlbnRJZCIsdGhpcy5nKTpVbih0LmEsImV2ZW50SWQiKSx0aGlzLmk/RW4odCwidiIsdGhpcy5pKTpVbih0LmEsInYiKSx0aGlzLmIpZm9yKHZhciBzIGluIHRoaXMuYil0aGlzLmIuaGFzT3duUHJvcGVydHkocykmJiFrbih0LHMpJiZFbih0LHMsdGhpcy5iW3NdKTtyZXR1cm4gdGhpcy5oP0VuKHQsInRpZCIsdGhpcy5oKTpVbih0LmEsInRpZCIpLHRoaXMuZj9Fbih0LCJlaWQiLHRoaXMuZik6VW4odC5hLCJlaWQiKSwocz1Lcyh0aGlzLmMpKS5sZW5ndGgmJkVuKHQsImZ3IixzLmpvaW4oIiwiKSksdC50b1N0cmluZygpfSwoZT1xcy5wcm90b3R5cGUpLkZiPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uZXcgUWkoInBvcHVwLWNsb3NlZC1ieS11c2VyIikscj1uZXcgUWkoIndlYi1zdG9yYWdlLXVuc3VwcG9ydGVkIiksbz10aGlzLGE9ITE7cmV0dXJuIHRoaXMuaWEoKS50aGVuKChmdW5jdGlvbigpeyhmdW5jdGlvbih0KXt2YXIgZT17dHlwZToid2ViU3RvcmFnZVN1cHBvcnQifTtyZXR1cm4gQnModCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5nYi50aGVuKChmdW5jdGlvbigpe3JldHVybiBuZXcgV3QoKGZ1bmN0aW9uKG4pe3QuYS5zZW5kKGUudHlwZSxlLG4sd2koImdhcGkuaWZyYW1lcy5DUk9TU19PUklHSU5fSUZSQU1FU19GSUxURVIiKSl9KSl9KSl9KHQuaSxlKX0pKS50aGVuKChmdW5jdGlvbih0KXtpZih0JiZ0Lmxlbmd0aCYmInVuZGVmaW5lZCIhPT10eXBlb2YgdFswXS53ZWJTdG9yYWdlU3VwcG9ydClyZXR1cm4gdFswXS53ZWJTdG9yYWdlU3VwcG9ydDt0aHJvdyBFcnJvcigpfSkpfSkobykudGhlbigoZnVuY3Rpb24obil7bnx8KHQmJnJpKHQpLGUociksYT0hMCl9KSl9KSkucygoZnVuY3Rpb24oKXt9KSkudGhlbigoZnVuY3Rpb24oKXtpZighYSlyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBXdCgoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uIG4oKXtsbigyZTMpLnRoZW4oKGZ1bmN0aW9uKCl7aWYodCYmIXQuY2xvc2VkKXJldHVybiBuKCk7ZSgpfSkpfSgpfSkpfSh0KX0pKS50aGVuKChmdW5jdGlvbigpe2lmKCFhKXJldHVybiBsbihuKS50aGVuKChmdW5jdGlvbigpe2UoaSl9KSl9KSl9LGUuT2I9ZnVuY3Rpb24oKXt2YXIgdD15aSgpO3JldHVybiFBaSh0KSYmIVBpKHQpfSxlLkpiPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUuRGI9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzKXtpZighdClyZXR1cm4gdGUobmV3IFFpKCJwb3B1cC1ibG9ja2VkIikpO2lmKGEmJiFBaSgpKXJldHVybiB0aGlzLmlhKCkucygoZnVuY3Rpb24oZSl7cmkodCkscihlKX0pKSxpKCksUXQoKTt0aGlzLmF8fCh0aGlzLmE9SHMoR3ModGhpcykpKTt2YXIgdT10aGlzO3JldHVybiB0aGlzLmEudGhlbigoZnVuY3Rpb24oKXt2YXIgZT11LmlhKCkucygoZnVuY3Rpb24oZSl7dGhyb3cgcmkodCkscihlKSxlfSkpO3JldHVybiBpKCksZX0pKS50aGVuKChmdW5jdGlvbigpeyhFbyhuKSxhKXx8bmkoV3ModS51LHUuZix1LmIsZSxuLG51bGwsbyx1LmMsdm9pZCAwLHUuaCxzKSx0KX0pKS5zKChmdW5jdGlvbih0KXt0aHJvdyJhdXRoL25ldHdvcmstcmVxdWVzdC1mYWlsZWQiPT10LmNvZGUmJih1LmE9bnVsbCksdH0pKX0sZS5FYj1mdW5jdGlvbih0LGUsbixpKXt0aGlzLmF8fCh0aGlzLmE9SHMoR3ModGhpcykpKTt2YXIgcj10aGlzO3JldHVybiB0aGlzLmEudGhlbigoZnVuY3Rpb24oKXtFbyhlKSxuaShXcyhyLnUsci5mLHIuYix0LGUsZWkoKSxuLHIuYyx2b2lkIDAsci5oLGkpKX0pKS5zKChmdW5jdGlvbih0KXt0aHJvdyJhdXRoL25ldHdvcmstcmVxdWVzdC1mYWlsZWQiPT10LmNvZGUmJihyLmE9bnVsbCksdH0pKX0sZS5pYT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIEJzKHRoaXMpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuaS5nYn0pKS5zKChmdW5jdGlvbigpe3Rocm93IHQuYT1udWxsLG5ldyBRaSgibmV0d29yay1yZXF1ZXN0LWZhaWxlZCIpfSkpfSxlLlJiPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGUuQWE9ZnVuY3Rpb24odCl7dGhpcy5nLnB1c2godCl9LGUuTmE9ZnVuY3Rpb24odCl7Ryh0aGlzLmcsKGZ1bmN0aW9uKGUpe3JldHVybiBlPT10fSkpfSwoZT1Ycy5wcm90b3R5cGUpLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gUXQodGhpcy5hLmdldEl0ZW0odCkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZPaSh0KX0pKX0sZS5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gUXQodGhpcy5hLnNldEl0ZW0odCxTaShlKSkpfSxlLlM9ZnVuY3Rpb24odCl7cmV0dXJuIFF0KHRoaXMuYS5yZW1vdmVJdGVtKHQpKX0sZS4kPWZ1bmN0aW9uKCl7fSxlLmVhPWZ1bmN0aW9uKCl7fTt2YXIgWXMsenM9W107ZnVuY3Rpb24gJHModCxlLG4pe1kodC5hKSYmdC5iLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLHQuZiksInVuZGVmaW5lZCI9PT10eXBlb2YgdC5hW2VdJiYodC5hW2VdPVtdKSx0LmFbZV0ucHVzaChuKX1mdW5jdGlvbiBacyh0KXt0aGlzLmE9dH1mdW5jdGlvbiBRcyh0KXt0aGlzLmM9dCx0aGlzLmI9ITEsdGhpcy5hPVtdfWZ1bmN0aW9uIHR1KHQsZSxuLGkpe3ZhciByLG8sYSxzLHU9bnx8e30sYz1udWxsO2lmKHQuYilyZXR1cm4gdGUoRXJyb3IoImNvbm5lY3Rpb25fdW5hdmFpbGFibGUiKSk7dmFyIGg9aT84MDA6NTAsZj0idW5kZWZpbmVkIiE9PXR5cGVvZiBNZXNzYWdlQ2hhbm5lbD9uZXcgTWVzc2FnZUNoYW5uZWw6bnVsbDtyZXR1cm4gbmV3IFd0KChmdW5jdGlvbihuLGkpe2Y/KHI9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKk1hdGgucG93KDEwLDIwKSkudG9TdHJpbmcoKSxmLnBvcnQxLnN0YXJ0KCksYT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2koRXJyb3IoInVuc3VwcG9ydGVkX2V2ZW50IikpfSksaCksYz17bWVzc2FnZUNoYW5uZWw6Zixvbk1lc3NhZ2U6bz1mdW5jdGlvbih0KXt0LmRhdGEuZXZlbnRJZD09PXImJigiYWNrIj09PXQuZGF0YS5zdGF0dXM/KGNsZWFyVGltZW91dChhKSxzPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aShFcnJvcigidGltZW91dCIpKX0pLDNlMykpOiJkb25lIj09PXQuZGF0YS5zdGF0dXM/KGNsZWFyVGltZW91dChzKSwidW5kZWZpbmVkIiE9PXR5cGVvZiB0LmRhdGEucmVzcG9uc2U/bih0LmRhdGEucmVzcG9uc2UpOmkoRXJyb3IoInVua25vd25fZXJyb3IiKSkpOihjbGVhclRpbWVvdXQoYSksY2xlYXJUaW1lb3V0KHMpLGkoRXJyb3IoImludmFsaWRfcmVzcG9uc2UiKSkpKX19LHQuYS5wdXNoKGMpLGYucG9ydDEuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbyksdC5jLnBvc3RNZXNzYWdlKHtldmVudFR5cGU6ZSxldmVudElkOnIsZGF0YTp1fSxbZi5wb3J0Ml0pKTppKEVycm9yKCJjb25uZWN0aW9uX3VuYXZhaWxhYmxlIikpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBldSh0LGMpLGV9KSkucygoZnVuY3Rpb24oZSl7dGhyb3cgZXUodCxjKSxlfSkpfWZ1bmN0aW9uIGV1KHQsZSl7aWYoZSl7dmFyIG49ZS5tZXNzYWdlQ2hhbm5lbCxpPWUub25NZXNzYWdlO24mJihuLnBvcnQxLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGkpLG4ucG9ydDEuY2xvc2UoKSksRyh0LmEsKGZ1bmN0aW9uKHQpe3JldHVybiB0PT1lfSkpfX1mdW5jdGlvbiBudSgpe2lmKCFvdSgpKXRocm93IG5ldyBRaSgid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWQiKTt0aGlzLmM9e30sdGhpcy5hPVtdLHRoaXMuYj0wLHRoaXMudT11LmluZGV4ZWREQix0aGlzLnR5cGU9ImluZGV4ZWREQiIsdGhpcy5nPXRoaXMubD10aGlzLmY9dGhpcy5pPW51bGwsdGhpcy5vPSExLHRoaXMuaD1udWxsO3ZhciB0PXRoaXM7ZmkoKSYmc2VsZj8odGhpcy5sPWZ1bmN0aW9uKCl7dmFyIHQ9ZmkoKT9zZWxmOm51bGw7aWYoRih6cywoZnVuY3Rpb24obil7bi5iPT10JiYoZT1uKX0pKSwhZSl7dmFyIGU9bmV3IEpzKHQpO3pzLnB1c2goZSl9cmV0dXJuIGV9KCksJHModGhpcy5sLCJrZXlDaGFuZ2VkIiwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gaHUodCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZS5sZW5ndGgmJkYodC5hLChmdW5jdGlvbih0KXt0KGUpfSkpLHtrZXlQcm9jZXNzZWQ6SChlLG4ua2V5KX19KSl9KSksJHModGhpcy5sLCJwaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4gUXQoWyJrZXlDaGFuZ2VkIl0pfSkpKTpmdW5jdGlvbigpe3ZhciB0PXUubmF2aWdhdG9yO3JldHVybiB0JiZ0LnNlcnZpY2VXb3JrZXI/UXQoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0LnNlcnZpY2VXb3JrZXIucmVhZHl9KSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWN0aXZlfHxudWxsfSkpLnMoKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KSk6UXQobnVsbCl9KCkudGhlbigoZnVuY3Rpb24oZSl7KHQuaD1lKSYmKHQuZz1uZXcgUXMobmV3IFpzKGUpKSx0dSh0LmcsInBpbmciLG51bGwsITApLnRoZW4oKGZ1bmN0aW9uKGUpe2VbMF0uZnVsZmlsbGVkJiZIKGVbMF0udmFsdWUsImtleUNoYW5nZWQiKSYmKHQubz0hMCl9KSkucygoZnVuY3Rpb24oKXt9KSkpfSkpfWZ1bmN0aW9uIGl1KHQpe3JldHVybiBuZXcgV3QoKGZ1bmN0aW9uKGUsbil7dmFyIGk9dC51Lm9wZW4oImZpcmViYXNlTG9jYWxTdG9yYWdlRGIiLDEpO2kub25lcnJvcj1mdW5jdGlvbih0KXt0cnl7dC5wcmV2ZW50RGVmYXVsdCgpfWNhdGNoKGUpe31uKEVycm9yKHQudGFyZ2V0LmVycm9yKSl9LGkub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKHQpe3Q9dC50YXJnZXQucmVzdWx0O3RyeXt0LmNyZWF0ZU9iamVjdFN0b3JlKCJmaXJlYmFzZUxvY2FsU3RvcmFnZSIse2tleVBhdGg6ImZiYXNlX2tleSJ9KX1jYXRjaChlKXtuKGUpfX0saS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oaSl7KGk9aS50YXJnZXQucmVzdWx0KS5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCJmaXJlYmFzZUxvY2FsU3RvcmFnZSIpP2UoaSk6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBXdCgoZnVuY3Rpb24oZSxuKXt2YXIgaT10LnUuZGVsZXRlRGF0YWJhc2UoImZpcmViYXNlTG9jYWxTdG9yYWdlRGIiKTtpLm9uc3VjY2Vzcz1mdW5jdGlvbigpe2UoKX0saS5vbmVycm9yPWZ1bmN0aW9uKHQpe24oRXJyb3IodC50YXJnZXQuZXJyb3IpKX19KSl9KHQpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGl1KHQpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe2UodCl9KSkucygoZnVuY3Rpb24odCl7bih0KX0pKX19KSl9ZnVuY3Rpb24gcnUodCl7cmV0dXJuIHQubXx8KHQubT1pdSh0KSksdC5tfWZ1bmN0aW9uIG91KCl7dHJ5e3JldHVybiEhdS5pbmRleGVkREJ9Y2F0Y2goV28pe3JldHVybiExfX1mdW5jdGlvbiBhdSh0KXtyZXR1cm4gdC5vYmplY3RTdG9yZSgiZmlyZWJhc2VMb2NhbFN0b3JhZ2UiKX1mdW5jdGlvbiBzdSh0LGUpe3JldHVybiB0LnRyYW5zYWN0aW9uKFsiZmlyZWJhc2VMb2NhbFN0b3JhZ2UiXSxlPyJyZWFkd3JpdGUiOiJyZWFkb25seSIpfWZ1bmN0aW9uIHV1KHQpe3JldHVybiBuZXcgV3QoKGZ1bmN0aW9uKGUsbil7dC5vbnN1Y2Nlc3M9ZnVuY3Rpb24odCl7dCYmdC50YXJnZXQ/ZSh0LnRhcmdldC5yZXN1bHQpOmUoKX0sdC5vbmVycm9yPWZ1bmN0aW9uKHQpe24odC50YXJnZXQuZXJyb3IpfX0pKX1mdW5jdGlvbiBjdSh0LGUpe3JldHVybiB0LmcmJnQuaCYmZnVuY3Rpb24oKXt2YXIgdD11Lm5hdmlnYXRvcjtyZXR1cm4gdCYmdC5zZXJ2aWNlV29ya2VyJiZ0LnNlcnZpY2VXb3JrZXIuY29udHJvbGxlcnx8bnVsbH0oKT09PXQuaD90dSh0LmcsImtleUNoYW5nZWQiLHtrZXk6ZX0sdC5vKS50aGVuKChmdW5jdGlvbigpe30pKS5zKChmdW5jdGlvbigpe30pKTpRdCgpfWZ1bmN0aW9uIGh1KHQpe3JldHVybiBydSh0KS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT1hdShzdSh0LCExKSk7cmV0dXJuIGUuZ2V0QWxsP3V1KGUuZ2V0QWxsKCkpOm5ldyBXdCgoZnVuY3Rpb24odCxuKXt2YXIgaT1bXSxyPWUub3BlbkN1cnNvcigpO3Iub25zdWNjZXNzPWZ1bmN0aW9uKGUpeyhlPWUudGFyZ2V0LnJlc3VsdCk/KGkucHVzaChlLnZhbHVlKSxlLmNvbnRpbnVlKCkpOnQoaSl9LHIub25lcnJvcj1mdW5jdGlvbih0KXtuKHQudGFyZ2V0LmVycm9yKX19KSl9KSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIG49e30saT1bXTtpZigwPT10LmIpe2ZvcihpPTA7aTxlLmxlbmd0aDtpKyspbltlW2ldLmZiYXNlX2tleV09ZVtpXS52YWx1ZTtpPWZ1bmN0aW9uIHQoZSxuKXt2YXIgaSxyPVtdO2ZvcihpIGluIGUpaSBpbiBuP3R5cGVvZiBlW2ldIT10eXBlb2YgbltpXT9yLnB1c2goaSk6Im9iamVjdCI9PXR5cGVvZiBlW2ldJiZudWxsIT1lW2ldJiZudWxsIT1uW2ldPzA8dChlW2ldLG5baV0pLmxlbmd0aCYmci5wdXNoKGkpOmVbaV0hPT1uW2ldJiZyLnB1c2goaSk6ci5wdXNoKGkpO2ZvcihpIGluIG4paSBpbiBlfHxyLnB1c2goaSk7cmV0dXJuIHJ9KHQuYyxuKSx0LmM9bn1yZXR1cm4gaX0pKX1mdW5jdGlvbiBmdSh0KXt0LmkmJnQuaS5jYW5jZWwoIlNUT1BfRVZFTlQiKSx0LmYmJihjbGVhclRpbWVvdXQodC5mKSx0LmY9bnVsbCl9ZnVuY3Rpb24gbHUodCl7dmFyIGU9dGhpcyxuPW51bGw7dGhpcy5hPVtdLHRoaXMudHlwZT0iaW5kZXhlZERCIix0aGlzLmM9dCx0aGlzLmI9UXQoKS50aGVuKChmdW5jdGlvbigpe2lmKG91KCkpe3ZhciB0PV9pKCksaT0iX19zYWsiK3Q7cmV0dXJuIFlzfHwoWXM9bmV3IG51KSwobj1Zcykuc2V0KGksdCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXQoaSl9KSkudGhlbigoZnVuY3Rpb24oZSl7aWYoZSE9PXQpdGhyb3cgRXJyb3IoImluZGV4ZWREQiBub3Qgc3VwcG9ydGVkISIpO3JldHVybiBuLlMoaSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbn0pKS5zKChmdW5jdGlvbigpe3JldHVybiBlLmN9KSl9cmV0dXJuIGUuY30pKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gZS50eXBlPXQudHlwZSx0LiQoKGZ1bmN0aW9uKHQpe0YoZS5hLChmdW5jdGlvbihlKXtlKHQpfSkpfSkpLHR9KSl9ZnVuY3Rpb24gZHUoKXt0aGlzLmE9e30sdGhpcy50eXBlPSJpbk1lbW9yeSJ9ZnVuY3Rpb24gcHUoKXtpZighZnVuY3Rpb24oKXt2YXIgdD0iTm9kZSI9PWxpKCk7aWYoISh0PXZ1KCl8fHQmJmkuYS5JTlRFUk5BTC5ub2RlJiZpLmEuSU5URVJOQUwubm9kZS5sb2NhbFN0b3JhZ2UpKXJldHVybiExO3RyeXtyZXR1cm4gdC5zZXRJdGVtKCJfX3NhayIsIjEiKSx0LnJlbW92ZUl0ZW0oIl9fc2FrIiksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpKXtpZigiTm9kZSI9PWxpKCkpdGhyb3cgbmV3IFFpKCJpbnRlcm5hbC1lcnJvciIsIlRoZSBMb2NhbFN0b3JhZ2UgY29tcGF0aWJpbGl0eSBsaWJyYXJ5IHdhcyBub3QgZm91bmQuIik7dGhyb3cgbmV3IFFpKCJ3ZWItc3RvcmFnZS11bnN1cHBvcnRlZCIpfXRoaXMuYT12dSgpfHxpLmEuSU5URVJOQUwubm9kZS5sb2NhbFN0b3JhZ2UsdGhpcy50eXBlPSJsb2NhbFN0b3JhZ2UifWZ1bmN0aW9uIHZ1KCl7dHJ5e3ZhciB0PXUubG9jYWxTdG9yYWdlLGU9X2koKTtyZXR1cm4gdCYmKHQuc2V0SXRlbShlLCIxIiksdC5yZW1vdmVJdGVtKGUpKSx0fWNhdGNoKG4pe3JldHVybiBudWxsfX1mdW5jdGlvbiBtdSgpe3RoaXMudHlwZT0ibnVsbFN0b3JhZ2UifWZ1bmN0aW9uIGd1KCl7aWYoIWZ1bmN0aW9uKCl7dmFyIHQ9Ik5vZGUiPT1saSgpO2lmKCEodD1idSgpfHx0JiZpLmEuSU5URVJOQUwubm9kZSYmaS5hLklOVEVSTkFMLm5vZGUuc2Vzc2lvblN0b3JhZ2UpKXJldHVybiExO3RyeXtyZXR1cm4gdC5zZXRJdGVtKCJfX3NhayIsIjEiKSx0LnJlbW92ZUl0ZW0oIl9fc2FrIiksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpKXtpZigiTm9kZSI9PWxpKCkpdGhyb3cgbmV3IFFpKCJpbnRlcm5hbC1lcnJvciIsIlRoZSBTZXNzaW9uU3RvcmFnZSBjb21wYXRpYmlsaXR5IGxpYnJhcnkgd2FzIG5vdCBmb3VuZC4iKTt0aHJvdyBuZXcgUWkoIndlYi1zdG9yYWdlLXVuc3VwcG9ydGVkIil9dGhpcy5hPWJ1KCl8fGkuYS5JTlRFUk5BTC5ub2RlLnNlc3Npb25TdG9yYWdlLHRoaXMudHlwZT0ic2Vzc2lvblN0b3JhZ2UifWZ1bmN0aW9uIGJ1KCl7dHJ5e3ZhciB0PXUuc2Vzc2lvblN0b3JhZ2UsZT1faSgpO3JldHVybiB0JiYodC5zZXRJdGVtKGUsIjEiKSx0LnJlbW92ZUl0ZW0oZSkpLHR9Y2F0Y2gobil7cmV0dXJuIG51bGx9fWZ1bmN0aW9uIHl1KCl7dmFyIHQ9e307dC5Ccm93c2VyPVR1LHQuTm9kZT1FdSx0LlJlYWN0TmF0aXZlPWt1LHQuV29ya2VyPUF1LHRoaXMuYT10W2xpKCldfUpzLnByb3RvdHlwZS5jPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YS5ldmVudFR5cGUsbj10LmRhdGEuZXZlbnRJZCxpPXRoaXMuYVtlXTtpZihpJiYwPGkubGVuZ3RoKXt0LnBvcnRzWzBdLnBvc3RNZXNzYWdlKHtzdGF0dXM6ImFjayIsZXZlbnRJZDpuLGV2ZW50VHlwZTplLHJlc3BvbnNlOm51bGx9KTt2YXIgcj1bXTtGKGksKGZ1bmN0aW9uKGUpe3IucHVzaChRdCgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUodC5vcmlnaW4sdC5kYXRhLmRhdGEpfSkpKX0pKSxuZShyKS50aGVuKChmdW5jdGlvbihpKXt2YXIgcj1bXTtGKGksKGZ1bmN0aW9uKHQpe3IucHVzaCh7ZnVsZmlsbGVkOnQuR2IsdmFsdWU6dC52YWx1ZSxyZWFzb246dC5yZWFzb24/dC5yZWFzb24ubWVzc2FnZTp2b2lkIDB9KX0pKSxGKHIsKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0KSJ1bmRlZmluZWQiPT09dHlwZW9mIHRbZV0mJmRlbGV0ZSB0W2VdfSkpLHQucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe3N0YXR1czoiZG9uZSIsZXZlbnRJZDpuLGV2ZW50VHlwZTplLHJlc3BvbnNlOnJ9KX0pKX19LFpzLnByb3RvdHlwZS5wb3N0TWVzc2FnZT1mdW5jdGlvbih0LGUpe3RoaXMuYS5wb3N0TWVzc2FnZSh0LGUpfSxRcy5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtmb3IoOzA8dGhpcy5hLmxlbmd0aDspZXUodGhpcyx0aGlzLmFbMF0pO3RoaXMuYj0hMH0sKGU9bnUucHJvdG90eXBlKS5zZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbixpPSExLHI9dGhpcztyZXR1cm4gcnUodGhpcykudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIHV1KChlPWF1KHN1KG49ZSwhMCkpKS5nZXQodCkpfSkpLnRoZW4oKGZ1bmN0aW9uKG8pe3ZhciBhPWF1KHN1KG4sITApKTtyZXR1cm4gbz8oby52YWx1ZT1lLHV1KGEucHV0KG8pKSk6KHIuYisrLGk9ITAsKG89e30pLmZiYXNlX2tleT10LG8udmFsdWU9ZSx1dShhLmFkZChvKSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHIuY1t0XT1lLGN1KHIsdCl9KSkua2EoKGZ1bmN0aW9uKCl7aSYmci5iLS19KSl9LGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBydSh0aGlzKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gdXUoYXUoc3UoZSwhMSkpLmdldCh0KSl9KSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQudmFsdWV9KSl9LGUuUz1mdW5jdGlvbih0KXt2YXIgZT0hMSxuPXRoaXM7cmV0dXJuIHJ1KHRoaXMpLnRoZW4oKGZ1bmN0aW9uKGkpe3JldHVybiBlPSEwLG4uYisrLHV1KGF1KHN1KGksITApKS5kZWxldGUodCkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGRlbGV0ZSBuLmNbdF0sY3Uobix0KX0pKS5rYSgoZnVuY3Rpb24oKXtlJiZuLmItLX0pKX0sZS4kPWZ1bmN0aW9uKHQpezA9PXRoaXMuYS5sZW5ndGgmJmZ1bmN0aW9uKHQpe2Z1KHQpLGZ1bmN0aW9uIGUoKXt0LmY9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0Lmk9aHUodCkudGhlbigoZnVuY3Rpb24oZSl7MDxlLmxlbmd0aCYmRih0LmEsKGZ1bmN0aW9uKHQpe3QoZSl9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtlKCl9KSkucygoZnVuY3Rpb24odCl7IlNUT1BfRVZFTlQiIT10Lm1lc3NhZ2UmJmUoKX0pKX0pLDgwMCl9KCl9KHRoaXMpLHRoaXMuYS5wdXNoKHQpfSxlLmVhPWZ1bmN0aW9uKHQpe0codGhpcy5hLChmdW5jdGlvbihlKXtyZXR1cm4gZT09dH0pKSwwPT10aGlzLmEubGVuZ3RoJiZmdSh0aGlzKX0sKGU9bHUucHJvdG90eXBlKS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYi50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXQodCl9KSl9LGUuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYi50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gbi5zZXQodCxlKX0pKX0sZS5TPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmIudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuUyh0KX0pKX0sZS4kPWZ1bmN0aW9uKHQpe3RoaXMuYS5wdXNoKHQpfSxlLmVhPWZ1bmN0aW9uKHQpe0codGhpcy5hLChmdW5jdGlvbihlKXtyZXR1cm4gZT09dH0pKX0sKGU9ZHUucHJvdG90eXBlKS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIFF0KHRoaXMuYVt0XSl9LGUuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYVt0XT1lLFF0KCl9LGUuUz1mdW5jdGlvbih0KXtyZXR1cm4gZGVsZXRlIHRoaXMuYVt0XSxRdCgpfSxlLiQ9ZnVuY3Rpb24oKXt9LGUuZWE9ZnVuY3Rpb24oKXt9LChlPXB1LnByb3RvdHlwZSkuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIFF0KCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gT2koZS5hLmdldEl0ZW0odCkpfSkpfSxlLnNldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIFF0KCkudGhlbigoZnVuY3Rpb24oKXt2YXIgaT1TaShlKTtudWxsPT09aT9uLlModCk6bi5hLnNldEl0ZW0odCxpKX0pKX0sZS5TPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIFF0KCkudGhlbigoZnVuY3Rpb24oKXtlLmEucmVtb3ZlSXRlbSh0KX0pKX0sZS4kPWZ1bmN0aW9uKHQpe3Uud2luZG93JiZKZSh1LndpbmRvdywic3RvcmFnZSIsdCl9LGUuZWE9ZnVuY3Rpb24odCl7dS53aW5kb3cmJiRlKHUud2luZG93LCJzdG9yYWdlIix0KX0sKGU9bXUucHJvdG90eXBlKS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gUXQobnVsbCl9LGUuc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFF0KCl9LGUuUz1mdW5jdGlvbigpe3JldHVybiBRdCgpfSxlLiQ9ZnVuY3Rpb24oKXt9LGUuZWE9ZnVuY3Rpb24oKXt9LChlPWd1LnByb3RvdHlwZSkuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIFF0KCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gT2koZS5hLmdldEl0ZW0odCkpfSkpfSxlLnNldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIFF0KCkudGhlbigoZnVuY3Rpb24oKXt2YXIgaT1TaShlKTtudWxsPT09aT9uLlModCk6bi5hLnNldEl0ZW0odCxpKX0pKX0sZS5TPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIFF0KCkudGhlbigoZnVuY3Rpb24oKXtlLmEucmVtb3ZlSXRlbSh0KX0pKX0sZS4kPWZ1bmN0aW9uKCl7fSxlLmVhPWZ1bmN0aW9uKCl7fTt2YXIgd3UsSXUsVHU9e0M6cHUsVGE6Z3V9LEV1PXtDOnB1LFRhOmd1fSxrdT17QzpYcyxUYTptdX0sQXU9e0M6cHUsVGE6bXV9LFN1PXthZDoibG9jYWwiLE5PTkU6Im5vbmUiLGNkOiJzZXNzaW9uIn07ZnVuY3Rpb24gTnUoKXt2YXIgdD0hKFBpKHlpKCkpfHwhaGkoKSksZT1BaSgpLG49SWkoKTt0aGlzLm09dCx0aGlzLmg9ZSx0aGlzLmw9bix0aGlzLmE9e30sd3V8fCh3dT1uZXcgeXUpLHQ9d3U7dHJ5e3RoaXMuZz0hdGkoKSYmeGkoKXx8IXUuaW5kZXhlZERCP25ldyB0LmEuQzpuZXcgbHUoZmkoKT9uZXcgZHU6bmV3IHQuYS5DKX1jYXRjaChpKXt0aGlzLmc9bmV3IGR1LHRoaXMuaD0hMH10cnl7dGhpcy5pPW5ldyB0LmEuVGF9Y2F0Y2goaSl7dGhpcy5pPW5ldyBkdX10aGlzLnU9bmV3IGR1LHRoaXMuZj1rKHRoaXMuUGIsdGhpcyksdGhpcy5iPXt9fWZ1bmN0aW9uIE91KCl7cmV0dXJuIEl1fHwoSXU9bmV3IE51KSxJdX1mdW5jdGlvbiBfdSh0LGUpe3N3aXRjaChlKXtjYXNlInNlc3Npb24iOnJldHVybiB0Lmk7Y2FzZSJub25lIjpyZXR1cm4gdC51O2RlZmF1bHQ6cmV0dXJuIHQuZ319ZnVuY3Rpb24gUHUodCxlKXtyZXR1cm4iZmlyZWJhc2U6Iit0Lm5hbWUrKGU/IjoiK2U6IiIpfWZ1bmN0aW9uIFJ1KHQsZSxuKXtyZXR1cm4gbj1QdShlLG4pLCJsb2NhbCI9PWUuQyYmKHQuYltuXT1udWxsKSxfdSh0LGUuQykuUyhuKX1mdW5jdGlvbiBDdSh0KXt0LmMmJihjbGVhckludGVydmFsKHQuYyksdC5jPW51bGwpfWZ1bmN0aW9uIER1KHQpe3RoaXMuYT10LHRoaXMuYj1PdSgpfShlPU51LnByb3RvdHlwZSkuZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIF91KHRoaXMsdC5DKS5nZXQoUHUodCxlKSl9LGUuc2V0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1QdSh0LG4pLHI9dGhpcyxvPV91KHRoaXMsdC5DKTtyZXR1cm4gby5zZXQoaSxlKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBvLmdldChpKX0pKS50aGVuKChmdW5jdGlvbihlKXsibG9jYWwiPT10LkMmJihyLmJbaV09ZSl9KSl9LGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24odCxlLG4pe3Q9UHUodCxlKSx0aGlzLmwmJih0aGlzLmJbdF09dS5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0KSksWSh0aGlzLmEpJiYoX3UodGhpcywibG9jYWwiKS4kKHRoaXMuZiksdGhpcy5ofHwodGkoKXx8IXhpKCkpJiZ1LmluZGV4ZWREQnx8IXRoaXMubHx8ZnVuY3Rpb24odCl7Q3UodCksdC5jPXNldEludGVydmFsKChmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0LmEpe3ZhciBuPXUubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSksaT10LmJbZV07biE9aSYmKHQuYltlXT1uLG49bmV3IGplKHt0eXBlOiJzdG9yYWdlIixrZXk6ZSx0YXJnZXQ6d2luZG93LG9sZFZhbHVlOmksbmV3VmFsdWU6bixhOiEwfSksdC5QYihuKSl9fSksMWUzKX0odGhpcykpLHRoaXMuYVt0XXx8KHRoaXMuYVt0XT1bXSksdGhpcy5hW3RdLnB1c2gobil9LGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odCxlLG4pe3Q9UHUodCxlKSx0aGlzLmFbdF0mJihHKHRoaXMuYVt0XSwoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PW59KSksMD09dGhpcy5hW3RdLmxlbmd0aCYmZGVsZXRlIHRoaXMuYVt0XSksWSh0aGlzLmEpJiYoX3UodGhpcywibG9jYWwiKS5lYSh0aGlzLmYpLEN1KHRoaXMpKX0sZS5QYj1mdW5jdGlvbih0KXtpZih0JiZ0LmYpe3ZhciBlPXQuYS5rZXk7aWYobnVsbD09ZSlmb3IodmFyIG4gaW4gdGhpcy5hKXt2YXIgaT10aGlzLmJbbl07InVuZGVmaW5lZCI9PT10eXBlb2YgaSYmKGk9bnVsbCk7dmFyIHI9dS5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShuKTtyIT09aSYmKHRoaXMuYltuXT1yLHRoaXMuJGEobikpfWVsc2UgaWYoMD09ZS5pbmRleE9mKCJmaXJlYmFzZToiKSYmdGhpcy5hW2VdKXtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiB0LmEuYT9fdSh0aGlzLCJsb2NhbCIpLmVhKHRoaXMuZik6Q3UodGhpcyksdGhpcy5tKWlmKG49dS5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKSwoaT10LmEubmV3VmFsdWUpIT09biludWxsIT09aT91LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsaSk6dS5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKTtlbHNlIGlmKHRoaXMuYltlXT09PWkmJiJ1bmRlZmluZWQiPT09dHlwZW9mIHQuYS5hKXJldHVybjt2YXIgbz10aGlzO249ZnVuY3Rpb24oKXsidW5kZWZpbmVkIj09PXR5cGVvZiB0LmEuYSYmby5iW2VdPT09dS5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKXx8KG8uYltlXT11LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpLG8uJGEoZSkpfSx3ZSYmX2UmJjEwPT1fZSYmdS5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKSE9PXQuYS5uZXdWYWx1ZSYmdC5hLm5ld1ZhbHVlIT09dC5hLm9sZFZhbHVlP3NldFRpbWVvdXQobiwxMCk6bigpfX1lbHNlIEYodCxrKHRoaXMuJGEsdGhpcykpfSxlLiRhPWZ1bmN0aW9uKHQpe3RoaXMuYVt0XSYmRih0aGlzLmFbdF0sKGZ1bmN0aW9uKHQpe3QoKX0pKX07dmFyIEx1LHh1PXtuYW1lOiJhdXRoRXZlbnQiLEM6ImxvY2FsIn07ZnVuY3Rpb24gTXUoKXt0aGlzLmE9T3UoKX1mdW5jdGlvbiBqdSh0LGUpe3RoaXMuYj1VdSx0aGlzLmY9dS5VaW50OEFycmF5P25ldyBVaW50OEFycmF5KHRoaXMuYik6QXJyYXkodGhpcy5iKSx0aGlzLmc9dGhpcy5jPTAsdGhpcy5hPVtdLHRoaXMuaT10LHRoaXMuaD1lLHRoaXMubD11LkludDMyQXJyYXk/bmV3IEludDMyQXJyYXkoNjQpOkFycmF5KDY0KSx2b2lkIDAhPT1MdXx8KEx1PXUuSW50MzJBcnJheT9uZXcgSW50MzJBcnJheShHdSk6R3UpLHRoaXMucmVzZXQoKX1OKGp1LChmdW5jdGlvbigpe3RoaXMuYj0tMX0pKTtmb3IodmFyIFV1PTY0LFZ1PVV1LTEsRnU9W10sS3U9MDtLdTxWdTtLdSsrKUZ1W0t1XT0wO3ZhciBxdT1XKDEyOCxGdSk7ZnVuY3Rpb24gSHUodCl7Zm9yKHZhciBlPXQuZixuPXQubCxpPTAscj0wO3I8ZS5sZW5ndGg7KW5baSsrXT1lW3JdPDwyNHxlW3IrMV08PDE2fGVbcisyXTw8OHxlW3IrM10scj00Kmk7Zm9yKGU9MTY7NjQ+ZTtlKyspe3I9MHxuW2UtMTVdLGk9MHxuW2UtMl07dmFyIG89KDB8bltlLTE2XSkrKChyPj4+N3xyPDwyNSleKHI+Pj4xOHxyPDwxNClecj4+PjMpfDAsYT0oMHxuW2UtN10pKygoaT4+PjE3fGk8PDE1KV4oaT4+PjE5fGk8PDEzKV5pPj4+MTApfDA7bltlXT1vK2F8MH1pPTB8dC5hWzBdLHI9MHx0LmFbMV07dmFyIHM9MHx0LmFbMl0sdT0wfHQuYVszXSxjPTB8dC5hWzRdLGg9MHx0LmFbNV0sZj0wfHQuYVs2XTtmb3Iobz0wfHQuYVs3XSxlPTA7NjQ+ZTtlKyspe3ZhciBsPSgoaT4+PjJ8aTw8MzApXihpPj4+MTN8aTw8MTkpXihpPj4+MjJ8aTw8MTApKSsoaSZyXmkmc15yJnMpfDA7YT0obz1vKygoYz4+PjZ8Yzw8MjYpXihjPj4+MTF8Yzw8MjEpXihjPj4+MjV8Yzw8NykpfDApKygoYT0oYT1jJmhefmMmZikrKDB8THVbZV0pfDApKygwfG5bZV0pfDApfDAsbz1mLGY9aCxoPWMsYz11K2F8MCx1PXMscz1yLHI9aSxpPWErbHwwfXQuYVswXT10LmFbMF0raXwwLHQuYVsxXT10LmFbMV0rcnwwLHQuYVsyXT10LmFbMl0rc3wwLHQuYVszXT10LmFbM10rdXwwLHQuYVs0XT10LmFbNF0rY3wwLHQuYVs1XT10LmFbNV0raHwwLHQuYVs2XT10LmFbNl0rZnwwLHQuYVs3XT10LmFbN10rb3wwfWZ1bmN0aW9uIEJ1KHQsZSxuKXt2b2lkIDA9PT1uJiYobj1lLmxlbmd0aCk7dmFyIGk9MCxyPXQuYztpZihjKGUpKWZvcig7aTxuOyl0LmZbcisrXT1lLmNoYXJDb2RlQXQoaSsrKSxyPT10LmImJihIdSh0KSxyPTApO2Vsc2V7aWYoIWcoZSkpdGhyb3cgRXJyb3IoIm1lc3NhZ2UgbXVzdCBiZSBzdHJpbmcgb3IgYXJyYXkiKTtmb3IoO2k8bjspe3ZhciBvPWVbaSsrXTtpZighKCJudW1iZXIiPT10eXBlb2YgbyYmMDw9byYmMjU1Pj1vJiZvPT0oMHxvKSkpdGhyb3cgRXJyb3IoIm1lc3NhZ2UgbXVzdCBiZSBhIGJ5dGUgYXJyYXkiKTt0LmZbcisrXT1vLHI9PXQuYiYmKEh1KHQpLHI9MCl9fXQuYz1yLHQuZys9bn1qdS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmc9dGhpcy5jPTAsdGhpcy5hPXUuSW50MzJBcnJheT9uZXcgSW50MzJBcnJheSh0aGlzLmgpOlgodGhpcy5oKX07dmFyIEd1PVsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdO2Z1bmN0aW9uIFd1KCl7anUuY2FsbCh0aGlzLDgsWHUpfU4oV3UsanUpO3ZhciBYdT1bMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdO2Z1bmN0aW9uIEp1KHQsZSxuLGkscil7dGhpcy51PXQsdGhpcy5pPWUsdGhpcy5sPW4sdGhpcy5tPWl8fG51bGwsdGhpcy5vPXJ8fG51bGwsdGhpcy5oPWUrIjoiK24sdGhpcy52PW5ldyBNdSx0aGlzLmc9bmV3IER1KHRoaXMuaCksdGhpcy5mPW51bGwsdGhpcy5iPVtdLHRoaXMuYT10aGlzLmM9bnVsbH1mdW5jdGlvbiBZdSh0KXtyZXR1cm4gbmV3IFFpKCJpbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvbiIsdCl9ZnVuY3Rpb24genUodCl7dmFyIGU9bmV3IFd1O0J1KGUsdCksdD1bXTt2YXIgbj04KmUuZzs1Nj5lLmM/QnUoZSxxdSw1Ni1lLmMpOkJ1KGUscXUsZS5iLShlLmMtNTYpKTtmb3IodmFyIGk9NjM7NTY8PWk7aS0tKWUuZltpXT0yNTUmbixuLz0yNTY7Zm9yKEh1KGUpLGk9bj0wO2k8ZS5pO2krKylmb3IodmFyIHI9MjQ7MDw9cjtyLT04KXRbbisrXT1lLmFbaV0+PnImMjU1O3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gSyh0LChmdW5jdGlvbih0KXtyZXR1cm4gMTwodD10LnRvU3RyaW5nKDE2KSkubGVuZ3RoP3Q6IjAiK3R9KSkuam9pbigiIil9KHQpfWZ1bmN0aW9uICR1KHQsZSl7Zm9yKHZhciBuPTA7bjx0LmIubGVuZ3RoO24rKyl0cnl7dC5iW25dKGUpfWNhdGNoKGkpe319ZnVuY3Rpb24gWnUodCl7cmV0dXJuIHQuZnx8KHQuZj10LmlhKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFd0KChmdW5jdGlvbihlKXt0LkFhKChmdW5jdGlvbiBuKGkpe3JldHVybiBlKGkpLHQuTmEobiksITF9KSksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtpPSEwLHImJnIuY2FuY2VsKCksUXUodCkudGhlbigoZnVuY3Rpb24oaSl7dmFyIHI9bjtpZihpJiZlJiZlLnVybCl7dmFyIG89bnVsbDstMSE9KHI9R3IoZS51cmwpKS5pbmRleE9mKCIvX18vYXV0aC9jYWxsYmFjayIpJiYobz0obz0ib2JqZWN0Ij09PXR5cGVvZihvPU9pKGtuKG89QW4ociksImZpcmViYXNlRXJyb3IiKXx8bnVsbCkpP3RyKG8pOm51bGwpP25ldyBrbyhpLmMsaS5iLG51bGwsbnVsbCxvLG51bGwsaS5SKCkpOm5ldyBrbyhpLmMsaS5iLHIsaS5mLG51bGwsbnVsbCxpLlIoKSkpLHI9b3x8bn0kdSh0LHIpfSkpfXZhciBuPW5ldyBrbygidW5rbm93biIsbnVsbCxudWxsLG51bGwsbmV3IFFpKCJuby1hdXRoLWV2ZW50IikpLGk9ITEscj1sbig1MDApLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIFF1KHQpLnRoZW4oKGZ1bmN0aW9uKCl7aXx8JHUodCxuKX0pKX0pKSxvPXUuaGFuZGxlT3BlblVSTDt1LmhhbmRsZU9wZW5VUkw9ZnVuY3Rpb24odCl7aWYoMD09dC50b0xvd2VyQ2FzZSgpLmluZGV4T2Yod2koIkJ1aWxkSW5mby5wYWNrYWdlTmFtZSIsdSkudG9Mb3dlckNhc2UoKSsiOi8vIikmJmUoe3VybDp0fSksImZ1bmN0aW9uIj09PXR5cGVvZiBvKXRyeXtvKHQpfWNhdGNoKG4pe2NvbnNvbGUuZXJyb3Iobil9fSxPb3x8KE9vPW5ldyBTbyksZnVuY3Rpb24odCl7dmFyIGU9T287ZS5hLnB1c2godCksZS5ifHwoZS5iPWZ1bmN0aW9uKHQpe2Zvcih2YXIgbj0wO248ZS5hLmxlbmd0aDtuKyspZS5hW25dKHQpfSwiZnVuY3Rpb24iPT09dHlwZW9mKHQ9d2koInVuaXZlcnNhbExpbmtzLnN1YnNjcmliZSIsdSkpJiZ0KG51bGwsZS5iKSl9KGUpfSh0KX0pKX0pKSksdC5mfWZ1bmN0aW9uIFF1KHQpe3ZhciBlPW51bGw7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LmIuZ2V0KHh1LHQuYSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIEFvKHQpfSkpfSh0LmcpLnRoZW4oKGZ1bmN0aW9uKG4pe3JldHVybiBlPW4sUnUoKG49dC5nKS5iLHh1LG4uYSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZX0pKX1mdW5jdGlvbiB0Yyh0KXt0aGlzLmE9dCx0aGlzLmI9T3UoKX0oZT1KdS5wcm90b3R5cGUpLmlhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRGE/dGhpcy5EYTp0aGlzLkRhPShjaSh2b2lkIDApP3VpKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFd0KChmdW5jdGlvbih0LGUpe3ZhciBuPXUuZG9jdW1lbnQsaT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2UoRXJyb3IoIkNvcmRvdmEgZnJhbWV3b3JrIGlzIG5vdCByZWFkeS4iKSl9KSwxZTMpO24uYWRkRXZlbnRMaXN0ZW5lcigiZGV2aWNlcmVhZHkiLChmdW5jdGlvbigpe2NsZWFyVGltZW91dChpKSx0KCl9KSwhMSl9KSl9KSk6dGUoRXJyb3IoIkNvcmRvdmEgbXVzdCBydW4gaW4gYW4gQW5kcm9pZCBvciBpT1MgZmlsZSBzY2hlbWUuIikpKS50aGVuKChmdW5jdGlvbigpe2lmKCJmdW5jdGlvbiIhPT10eXBlb2Ygd2koInVuaXZlcnNhbExpbmtzLnN1YnNjcmliZSIsdSkpdGhyb3cgWXUoImNvcmRvdmEtdW5pdmVyc2FsLWxpbmtzLXBsdWdpbi1maXggaXMgbm90IGluc3RhbGxlZCIpO2lmKCJ1bmRlZmluZWQiPT09dHlwZW9mIHdpKCJCdWlsZEluZm8ucGFja2FnZU5hbWUiLHUpKXRocm93IFl1KCJjb3Jkb3ZhLXBsdWdpbi1idWlsZGluZm8gaXMgbm90IGluc3RhbGxlZCIpO2lmKCJmdW5jdGlvbiIhPT10eXBlb2Ygd2koImNvcmRvdmEucGx1Z2lucy5icm93c2VydGFiLm9wZW5VcmwiLHUpKXRocm93IFl1KCJjb3Jkb3ZhLXBsdWdpbi1icm93c2VydGFiIGlzIG5vdCBpbnN0YWxsZWQiKTtpZigiZnVuY3Rpb24iIT09dHlwZW9mIHdpKCJjb3Jkb3ZhLkluQXBwQnJvd3Nlci5vcGVuIix1KSl0aHJvdyBZdSgiY29yZG92YS1wbHVnaW4taW5hcHBicm93c2VyIGlzIG5vdCBpbnN0YWxsZWQiKX0pLChmdW5jdGlvbigpe3Rocm93IG5ldyBRaSgiY29yZG92YS1ub3QtcmVhZHkiKX0pKX0sZS5GYj1mdW5jdGlvbih0LGUpe3JldHVybiBlKG5ldyBRaSgib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudCIpKSxRdCgpfSxlLkRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRlKG5ldyBRaSgib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudCIpKX0sZS5SYj1mdW5jdGlvbigpe3JldHVybiExfSxlLk9iPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGUuSmI9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZS5FYj1mdW5jdGlvbih0LGUsbixpKXtpZih0aGlzLmMpcmV0dXJuIHRlKG5ldyBRaSgicmVkaXJlY3Qtb3BlcmF0aW9uLXBlbmRpbmciKSk7dmFyIHI9dGhpcyxvPXUuZG9jdW1lbnQsYT1udWxsLHM9bnVsbCxjPW51bGwsaD1udWxsO3JldHVybiB0aGlzLmM9UXQoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBFbyhlKSxadShyKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTIwLGU9W107MDx0OyllLnB1c2goIjEyMzQ1Njc4OTBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIi5jaGFyQXQoTWF0aC5mbG9vcig2MipNYXRoLnJhbmRvbSgpKSkpLHQtLTtyZXR1cm4gZS5qb2luKCIiKX0oKSxhPW5ldyBrbyhlLGksbnVsbCxvLG5ldyBRaSgibm8tYXV0aC1ldmVudCIpLG51bGwscikscz13aSgiQnVpbGRJbmZvLnBhY2thZ2VOYW1lIix1KTtpZigic3RyaW5nIiE9PXR5cGVvZiBzKXRocm93IG5ldyBRaSgiaW52YWxpZC1jb3Jkb3ZhLWNvbmZpZ3VyYXRpb24iKTt2YXIgYz13aSgiQnVpbGRJbmZvLmRpc3BsYXlOYW1lIix1KSxoPXt9O2lmKHlpKCkudG9Mb3dlckNhc2UoKS5tYXRjaCgvaXBob25lfGlwYWR8aXBvZC8pKWguaWJpPXM7ZWxzZXtpZigheWkoKS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hbmRyb2lkLykpcmV0dXJuIHRlKG5ldyBRaSgib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudCIpKTtoLmFwbj1zfWMmJihoLmFwcERpc3BsYXlOYW1lPWMpLG89enUobyksaC5zZXNzaW9uSWQ9bzt2YXIgZj1Xcyh0LnUsdC5pLHQubCxlLG4sbnVsbCxpLHQubSxoLHQubyxyKTtyZXR1cm4gdC5pYSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9dC5oO3JldHVybiB0LnYuYS5zZXQoeHUsYS5BKCksZSl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT13aSgiY29yZG92YS5wbHVnaW5zLmJyb3dzZXJ0YWIuaXNBdmFpbGFibGUiLHUpO2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgZSl0aHJvdyBuZXcgUWkoImludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uIik7dmFyIG49bnVsbDtlKChmdW5jdGlvbihlKXtpZihlKXtpZigiZnVuY3Rpb24iIT09dHlwZW9mKG49d2koImNvcmRvdmEucGx1Z2lucy5icm93c2VydGFiLm9wZW5VcmwiLHUpKSl0aHJvdyBuZXcgUWkoImludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uIik7bihmKX1lbHNle2lmKCJmdW5jdGlvbiIhPT10eXBlb2Yobj13aSgiY29yZG92YS5JbkFwcEJyb3dzZXIub3BlbiIsdSkpKXRocm93IG5ldyBRaSgiaW52YWxpZC1jb3Jkb3ZhLWNvbmZpZ3VyYXRpb24iKTtlPXlpKCksdC5hPW4oZixlLm1hdGNoKC8oaVBhZHxpUGhvbmV8aVBvZCkuKk9TIDdfXGQvaSl8fGUubWF0Y2goLyhpUGFkfGlQaG9uZXxpUG9kKS4qT1MgOF9cZC9pKT8iX2JsYW5rIjoiX3N5c3RlbSIsImxvY2F0aW9uPXllcyIpfX0pKX0pKX0ocix0LGUsbixpKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuZXcgV3QoKGZ1bmN0aW9uKHQsZSl7cz1mdW5jdGlvbigpe3ZhciBlPXdpKCJjb3Jkb3ZhLnBsdWdpbnMuYnJvd3NlcnRhYi5jbG9zZSIsdSk7cmV0dXJuIHQoKSwiZnVuY3Rpb24iPT09dHlwZW9mIGUmJmUoKSxyLmEmJiJmdW5jdGlvbiI9PT10eXBlb2Ygci5hLmNsb3NlJiYoci5hLmNsb3NlKCksci5hPW51bGwpLCExfSxyLkFhKHMpLGM9ZnVuY3Rpb24oKXthfHwoYT1sbigyZTMpLnRoZW4oKGZ1bmN0aW9uKCl7ZShuZXcgUWkoInJlZGlyZWN0LWNhbmNlbGxlZC1ieS11c2VyIikpfSkpKX0saD1mdW5jdGlvbigpe0RpKCkmJmMoKX0sby5hZGRFdmVudExpc3RlbmVyKCJyZXN1bWUiLGMsITEpLHlpKCkudG9Mb3dlckNhc2UoKS5tYXRjaCgvYW5kcm9pZC8pfHxvLmFkZEV2ZW50TGlzdGVuZXIoInZpc2liaWxpdHljaGFuZ2UiLGgsITEpfSkpLnMoKGZ1bmN0aW9uKHQpe3JldHVybiBRdShyKS50aGVuKChmdW5jdGlvbigpe3Rocm93IHR9KSl9KSl9KSkua2EoKGZ1bmN0aW9uKCl7YyYmby5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXN1bWUiLGMsITEpLGgmJm8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigidmlzaWJpbGl0eWNoYW5nZSIsaCwhMSksYSYmYS5jYW5jZWwoKSxzJiZyLk5hKHMpLHIuYz1udWxsfSkpfSxlLkFhPWZ1bmN0aW9uKHQpe3RoaXMuYi5wdXNoKHQpLFp1KHRoaXMpLnMoKGZ1bmN0aW9uKGUpeyJhdXRoL2ludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uIj09PWUuY29kZSYmKGU9bmV3IGtvKCJ1bmtub3duIixudWxsLG51bGwsbnVsbCxuZXcgUWkoIm5vLWF1dGgtZXZlbnQiKSksdChlKSl9KSl9LGUuTmE9ZnVuY3Rpb24odCl7Ryh0aGlzLmIsKGZ1bmN0aW9uKGUpe3JldHVybiBlPT10fSkpfTt2YXIgZWM9e25hbWU6InBlbmRpbmdSZWRpcmVjdCIsQzoic2Vzc2lvbiJ9O2Z1bmN0aW9uIG5jKHQpe3JldHVybiBSdSh0LmIsZWMsdC5hKX1mdW5jdGlvbiBpYyh0LGUsbil7dGhpcy5pPXt9LHRoaXMudj0wLHRoaXMuQj10LHRoaXMudT1lLHRoaXMubT1uLHRoaXMuaD1bXSx0aGlzLmY9ITEsdGhpcy5sPWsodGhpcy5vLHRoaXMpLHRoaXMuYj1uZXcgZ2MsdGhpcy53PW5ldyBUYyx0aGlzLmc9bmV3IHRjKHRoaXMudSsiOiIrdGhpcy5tKSx0aGlzLmM9e30sdGhpcy5jLnVua25vd249dGhpcy5iLHRoaXMuYy5zaWduSW5WaWFSZWRpcmVjdD10aGlzLmIsdGhpcy5jLmxpbmtWaWFSZWRpcmVjdD10aGlzLmIsdGhpcy5jLnJlYXV0aFZpYVJlZGlyZWN0PXRoaXMuYix0aGlzLmMuc2lnbkluVmlhUG9wdXA9dGhpcy53LHRoaXMuYy5saW5rVmlhUG9wdXA9dGhpcy53LHRoaXMuYy5yZWF1dGhWaWFQb3B1cD10aGlzLncsdGhpcy5hPXJjKHRoaXMuQix0aGlzLnUsdGhpcy5tLF9yKX1mdW5jdGlvbiByYyh0LGUsbixyKXt2YXIgbz1pLmEuU0RLX1ZFUlNJT058fG51bGw7cmV0dXJuIGNpKCk/bmV3IEp1KHQsZSxuLG8scik6bmV3IHFzKHQsZSxuLG8scil9ZnVuY3Rpb24gb2ModCl7dC5mfHwodC5mPSEwLHQuYS5BYSh0LmwpKTt2YXIgZT10LmE7cmV0dXJuIHQuYS5pYSgpLnMoKGZ1bmN0aW9uKG4pe3Rocm93IHQuYT09ZSYmdC5yZXNldCgpLG59KSl9ZnVuY3Rpb24gYWModCl7dC5hLk9iKCkmJm9jKHQpLnMoKGZ1bmN0aW9uKGUpe3ZhciBuPW5ldyBrbygidW5rbm93biIsbnVsbCxudWxsLG51bGwsbmV3IFFpKCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50IikpO2xjKGUpJiZ0Lm8obil9KSksdC5hLkpiKCl8fGJjKHQuYil9ZnVuY3Rpb24gc2ModCxlKXtIKHQuaCxlKXx8dC5oLnB1c2goZSksdC5mfHxmdW5jdGlvbih0KXtyZXR1cm4gdC5iLmdldChlYyx0LmEpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiJwZW5kaW5nIj09dH0pKX0odC5nKS50aGVuKChmdW5jdGlvbihlKXtlP25jKHQuZykudGhlbigoZnVuY3Rpb24oKXtvYyh0KS5zKChmdW5jdGlvbihlKXt2YXIgbj1uZXcga28oInVua25vd24iLG51bGwsbnVsbCxudWxsLG5ldyBRaSgib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudCIpKTtsYyhlKSYmdC5vKG4pfSkpfSkpOmFjKHQpfSkpLnMoKGZ1bmN0aW9uKCl7YWModCl9KSl9ZnVuY3Rpb24gdWModCxlKXtHKHQuaCwoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PWV9KSl9aWMucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5mPSExLHRoaXMuYS5OYSh0aGlzLmwpLHRoaXMuYT1yYyh0aGlzLkIsdGhpcy51LHRoaXMubSksdGhpcy5pPXt9fSxpYy5wcm90b3R5cGUubz1mdW5jdGlvbih0KXtpZighdCl0aHJvdyBuZXcgUWkoImludmFsaWQtYXV0aC1ldmVudCIpO2lmKDZlNTw9UygpLXRoaXMudiYmKHRoaXMuaT17fSx0aGlzLnY9MCksdCYmdC5nZXRVaWQoKSYmdGhpcy5pLmhhc093blByb3BlcnR5KHQuZ2V0VWlkKCkpKXJldHVybiExO2Zvcih2YXIgZT0hMSxuPTA7bjx0aGlzLmgubGVuZ3RoO24rKyl7dmFyIGk9dGhpcy5oW25dO2lmKGkueGIodC5jLHQuYikpeyhlPXRoaXMuY1t0LmNdKSYmKGUuaCh0LGkpLHQmJih0LmZ8fHQuYikmJih0aGlzLmlbdC5nZXRVaWQoKV09ITAsdGhpcy52PVMoKSkpLGU9ITA7YnJlYWt9fXJldHVybiBiYyh0aGlzLmIpLGV9O3ZhciBjYz1uZXcgQ2koMmUzLDFlNCksaGM9bmV3IENpKDNlNCw2ZTQpO2Z1bmN0aW9uIGZjKHQsZSxuLGkscixvLGEpe3JldHVybiB0LmEuRGIoZSxuLGksKGZ1bmN0aW9uKCl7dC5mfHwodC5mPSEwLHQuYS5BYSh0LmwpKX0pLChmdW5jdGlvbigpe3QucmVzZXQoKX0pLHIsbyxhKX1mdW5jdGlvbiBsYyh0KXtyZXR1cm4hKCF0fHwiYXV0aC9jb3Jkb3ZhLW5vdC1yZWFkeSIhPXQuY29kZSl9ZnVuY3Rpb24gZGModCxlLG4saSxyKXt2YXIgbztyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQuYi5zZXQoZWMsInBlbmRpbmciLHQuYSl9KHQuZykudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5hLkViKGUsbixpLHIpLnMoKGZ1bmN0aW9uKGUpe2lmKGxjKGUpKXRocm93IG5ldyBRaSgib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudCIpO3JldHVybiBvPWUsbmModC5nKS50aGVuKChmdW5jdGlvbigpe3Rocm93IG99KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5hLlJiKCk/bmV3IFd0KChmdW5jdGlvbigpe30pKTpuYyh0LmcpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQub2EoKX0pKS50aGVuKChmdW5jdGlvbigpe30pKS5zKChmdW5jdGlvbigpe30pKX0pKX0pKX1mdW5jdGlvbiBwYyh0LGUsbixpLHIpe3JldHVybiB0LmEuRmIoaSwoZnVuY3Rpb24odCl7ZS5qYShuLG51bGwsdCxyKX0pLGNjLmdldCgpKX1pYy5wcm90b3R5cGUub2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLm9hKCl9O3ZhciB2Yz17fTtmdW5jdGlvbiBtYyh0LGUsbil7dmFyIGk9ZSsiOiIrbjtyZXR1cm4gdmNbaV18fCh2Y1tpXT1uZXcgaWModCxlLG4pKSx2Y1tpXX1mdW5jdGlvbiBnYygpe3RoaXMuYj1udWxsLHRoaXMuZj1bXSx0aGlzLmM9W10sdGhpcy5hPW51bGwsdGhpcy5pPXRoaXMuZz0hMX1mdW5jdGlvbiBiYyh0KXt0Lmd8fCh0Lmc9ITAsSWModCwhMSxudWxsLG51bGwpKX1mdW5jdGlvbiB5Yyh0KXt0LmcmJiF0LmkmJkljKHQsITEsbnVsbCxudWxsKX1mdW5jdGlvbiB3Yyh0LGUpe2lmKHQuYj1mdW5jdGlvbigpe3JldHVybiBRdChlKX0sdC5mLmxlbmd0aClmb3IodmFyIG49MDtuPHQuZi5sZW5ndGg7bisrKXQuZltuXShlKX1mdW5jdGlvbiBJYyh0LGUsbixpKXtlP2k/ZnVuY3Rpb24odCxlKXtpZih0LmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGUoZSl9LHQuYy5sZW5ndGgpZm9yKHZhciBuPTA7bjx0LmMubGVuZ3RoO24rKyl0LmNbbl0oZSl9KHQsaSk6d2ModCxuKTp3Yyh0LHt1c2VyOm51bGx9KSx0LmY9W10sdC5jPVtdfWZ1bmN0aW9uIFRjKCl7fWZ1bmN0aW9uIEVjKCl7dGhpcy52Yj0hMSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiYXBwVmVyaWZpY2F0aW9uRGlzYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52Yn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudmI9dH0sZW51bWVyYWJsZTohMX0pfWZ1bmN0aW9uIGtjKHQsZSl7dGhpcy5hPWUsRmkodGhpcywidmVyaWZpY2F0aW9uSWQiLHQpfWZ1bmN0aW9uIEFjKHQsZSxuLGkpe3JldHVybiBuZXcgd28odCkuV2EoZSxuKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGtjKHQsaSl9KSl9ZnVuY3Rpb24gU2ModCl7dmFyIGU9T3IodCk7aWYoIShlJiZlLmV4cCYmZS5hdXRoX3RpbWUmJmUuaWF0KSl0aHJvdyBuZXcgUWkoImludGVybmFsLWVycm9yIiwiQW4gaW50ZXJuYWwgZXJyb3Igb2NjdXJyZWQuIFRoZSB0b2tlbiBvYnRhaW5lZCBieSBGaXJlYmFzZSBhcHBlYXJzIHRvIGJlIG1hbGZvcm1lZC4gUGxlYXNlIHJldHJ5IHRoZSBvcGVyYXRpb24uIik7S2kodGhpcyx7dG9rZW46dCxleHBpcmF0aW9uVGltZTpMaSgxZTMqZS5leHApLGF1dGhUaW1lOkxpKDFlMyplLmF1dGhfdGltZSksaXNzdWVkQXRUaW1lOkxpKDFlMyplLmlhdCksc2lnbkluUHJvdmlkZXI6ZS5maXJlYmFzZSYmZS5maXJlYmFzZS5zaWduX2luX3Byb3ZpZGVyP2UuZmlyZWJhc2Uuc2lnbl9pbl9wcm92aWRlcjpudWxsLGNsYWltczplfSl9ZnVuY3Rpb24gTmModCxlLG4pe2lmKHRoaXMuaD10LHRoaXMuaT1lLHRoaXMuZz1uLHRoaXMuYz0zZTQsdGhpcy5mPTk2ZTQsdGhpcy5iPW51bGwsdGhpcy5hPXRoaXMuYyx0aGlzLmY8dGhpcy5jKXRocm93IEVycm9yKCJQcm9hY3RpdmUgcmVmcmVzaCBsb3dlciBib3VuZCBncmVhdGVyIHRoYW4gdXBwZXIgYm91bmQhIil9ZnVuY3Rpb24gT2ModCl7dGhpcy5mPXQsdGhpcy5iPXRoaXMuYT1udWxsLHRoaXMuYz0wfWZ1bmN0aW9uIF9jKHQsZSl7dmFyIG49ZVtNYV0saT1lLnJlZnJlc2hUb2tlbjtlPVBjKGUuZXhwaXJlc0luKSx0LmI9bix0LmM9ZSx0LmE9aX1mdW5jdGlvbiBQYyh0KXtyZXR1cm4gUygpKzFlMypwYXJzZUludCh0LDEwKX1mdW5jdGlvbiBSYyh0LGUpe3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgV3QoKGZ1bmN0aW9uKG4saSl7InJlZnJlc2hfdG9rZW4iPT1lLmdyYW50X3R5cGUmJmUucmVmcmVzaF90b2tlbnx8ImF1dGhvcml6YXRpb25fY29kZSI9PWUuZ3JhbnRfdHlwZSYmZS5jb2RlP0hhKHQsdC5sKyI/a2V5PSIrZW5jb2RlVVJJQ29tcG9uZW50KHQuYyksKGZ1bmN0aW9uKHQpe3Q/dC5lcnJvcj9pKERzKHQpKTp0LmFjY2Vzc190b2tlbiYmdC5yZWZyZXNoX3Rva2VuP24odCk6aShuZXcgUWkoImludGVybmFsLWVycm9yIikpOmkobmV3IFFpKCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkIikpfSksIlBPU1QiLGpuKGUpLnRvU3RyaW5nKCksdC5nLHQudS5nZXQoKSk6aShuZXcgUWkoImludGVybmFsLWVycm9yIikpfSkpfSh0LmYsZSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIHQuYj1lLmFjY2Vzc190b2tlbix0LmM9UGMoZS5leHBpcmVzX2luKSx0LmE9ZS5yZWZyZXNoX3Rva2VuLHthY2Nlc3NUb2tlbjp0LmIsZXhwaXJhdGlvblRpbWU6dC5jLHJlZnJlc2hUb2tlbjp0LmF9fSkpLnMoKGZ1bmN0aW9uKGUpe3Rocm93ImF1dGgvdXNlci10b2tlbi1leHBpcmVkIj09ZS5jb2RlJiYodC5hPW51bGwpLGV9KSl9ZnVuY3Rpb24gQ2ModCxlKXt0aGlzLmE9dHx8bnVsbCx0aGlzLmI9ZXx8bnVsbCxLaSh0aGlzLHtsYXN0U2lnbkluVGltZTpMaShlfHxudWxsKSxjcmVhdGlvblRpbWU6TGkodHx8bnVsbCl9KX1mdW5jdGlvbiBEYyh0LGUsbixpLHIsbyl7S2kodGhpcyx7dWlkOnQsZGlzcGxheU5hbWU6aXx8bnVsbCxwaG90b1VSTDpyfHxudWxsLGVtYWlsOm58fG51bGwscGhvbmVOdW1iZXI6b3x8bnVsbCxwcm92aWRlcklkOmV9KX1mdW5jdGlvbiBMYyh0LGUpe2Zvcih2YXIgbiBpbiBNZS5jYWxsKHRoaXMsdCksZSl0aGlzW25dPWVbbl19ZnVuY3Rpb24geGModCxlLG4pe3RoaXMuST1bXSx0aGlzLmw9dC5hcGlLZXksdGhpcy5tPXQuYXBwTmFtZSx0aGlzLm89dC5hdXRoRG9tYWlufHxudWxsLHQ9aS5hLlNES19WRVJTSU9OP2JpKGkuYS5TREtfVkVSU0lPTik6bnVsbCx0aGlzLmE9bmV3IExhKHRoaXMubCxScihfciksdCksdGhpcy5iPW5ldyBPYyh0aGlzLmEpLHFjKHRoaXMsZVtNYV0pLF9jKHRoaXMuYixlKSxGaSh0aGlzLCJyZWZyZXNoVG9rZW4iLHRoaXMuYi5hKSxHYyh0aGlzLG58fHt9KSxzbi5jYWxsKHRoaXMpLHRoaXMuSj0hMSx0aGlzLm8mJlRpKCkmJih0aGlzLmk9bWModGhpcy5vLHRoaXMubCx0aGlzLm0pKSx0aGlzLk89W10sdGhpcy5oPW51bGwsdGhpcy53PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTmMoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuRyghMCl9KSwoZnVuY3Rpb24odCl7cmV0dXJuISghdHx8ImF1dGgvbmV0d29yay1yZXF1ZXN0LWZhaWxlZCIhPXQuY29kZSl9KSwoZnVuY3Rpb24oKXt2YXIgZT10LmIuYy1TKCktM2U1O3JldHVybiAwPGU/ZTowfSkpfSh0aGlzKSx0aGlzLlc9ayh0aGlzLkphLHRoaXMpO3ZhciByPXRoaXM7dGhpcy5nYT1udWxsLHRoaXMueGE9ZnVuY3Rpb24odCl7ci51YSh0LmcpfSx0aGlzLlo9bnVsbCx0aGlzLlA9W10sdGhpcy53YT1mdW5jdGlvbih0KXtqYyhyLHQuYyl9LHRoaXMuWT1udWxsfWZ1bmN0aW9uIE1jKHQsZSl7dC5aJiYkZSh0LlosImxhbmd1YWdlQ29kZUNoYW5nZWQiLHQueGEpLCh0Llo9ZSkmJkplKGUsImxhbmd1YWdlQ29kZUNoYW5nZWQiLHQueGEpfWZ1bmN0aW9uIGpjKHQsZSl7dC5QPWUscWEodC5hLGkuYS5TREtfVkVSU0lPTj9iaShpLmEuU0RLX1ZFUlNJT04sdC5QKTpudWxsKX1mdW5jdGlvbiBVYyh0LGUpe3QuWSYmJGUodC5ZLCJmcmFtZXdvcmtDaGFuZ2VkIix0LndhKSwodC5ZPWUpJiZKZShlLCJmcmFtZXdvcmtDaGFuZ2VkIix0LndhKX1mdW5jdGlvbiBWYyh0KXt0cnl7cmV0dXJuIGkuYS5hcHAodC5tKS5hdXRoKCl9Y2F0Y2goZSl7dGhyb3cgbmV3IFFpKCJpbnRlcm5hbC1lcnJvciIsIk5vIGZpcmViYXNlLmF1dGguQXV0aCBpbnN0YW5jZSBpcyBhdmFpbGFibGUgZm9yIHRoZSBGaXJlYmFzZSBBcHAgJyIrdC5tKyInISIpfX1mdW5jdGlvbiBGYyh0KXt0LkJ8fHQudy5ifHwodC53LnN0YXJ0KCksJGUodCwidG9rZW5DaGFuZ2VkIix0LlcpLEplKHQsInRva2VuQ2hhbmdlZCIsdC5XKSl9ZnVuY3Rpb24gS2ModCl7JGUodCwidG9rZW5DaGFuZ2VkIix0LlcpLHQudy5zdG9wKCl9ZnVuY3Rpb24gcWModCxlKXt0Lm1hPWUsRmkodCwiX2xhdCIsZSl9ZnVuY3Rpb24gSGModCl7Zm9yKHZhciBlPVtdLG49MDtuPHQuTy5sZW5ndGg7bisrKWUucHVzaCh0Lk9bbl0odCkpO3JldHVybiBuZShlKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0fSkpfWZ1bmN0aW9uIEJjKHQpe3QuaSYmIXQuSiYmKHQuSj0hMCxzYyh0LmksdCkpfWZ1bmN0aW9uIEdjKHQsZSl7S2kodCx7dWlkOmUudWlkLGRpc3BsYXlOYW1lOmUuZGlzcGxheU5hbWV8fG51bGwscGhvdG9VUkw6ZS5waG90b1VSTHx8bnVsbCxlbWFpbDplLmVtYWlsfHxudWxsLGVtYWlsVmVyaWZpZWQ6ZS5lbWFpbFZlcmlmaWVkfHwhMSxwaG9uZU51bWJlcjplLnBob25lTnVtYmVyfHxudWxsLGlzQW5vbnltb3VzOmUuaXNBbm9ueW1vdXN8fCExLHRlbmFudElkOmUudGVuYW50SWR8fG51bGwsbWV0YWRhdGE6bmV3IENjKGUuY3JlYXRlZEF0LGUubGFzdExvZ2luQXQpLHByb3ZpZGVyRGF0YTpbXX0pLHQuYS5iPXQudGVuYW50SWR9ZnVuY3Rpb24gV2MoKXt9ZnVuY3Rpb24gWGModCl7cmV0dXJuIFF0KCkudGhlbigoZnVuY3Rpb24oKXtpZih0LkIpdGhyb3cgbmV3IFFpKCJhcHAtZGVsZXRlZCIpfSkpfWZ1bmN0aW9uIEpjKHQpe3JldHVybiBLKHQucHJvdmlkZXJEYXRhLChmdW5jdGlvbih0KXtyZXR1cm4gdC5wcm92aWRlcklkfSkpfWZ1bmN0aW9uIFljKHQsZSl7ZSYmKHpjKHQsZS5wcm92aWRlcklkKSx0LnByb3ZpZGVyRGF0YS5wdXNoKGUpKX1mdW5jdGlvbiB6Yyh0LGUpe0codC5wcm92aWRlckRhdGEsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnByb3ZpZGVySWQ9PWV9KSl9ZnVuY3Rpb24gJGModCxlLG4peygidWlkIiE9ZXx8bikmJnQuaGFzT3duUHJvcGVydHkoZSkmJkZpKHQsZSxuKX1mdW5jdGlvbiBaYyh0LGUpe3QhPWUmJihLaSh0LHt1aWQ6ZS51aWQsZGlzcGxheU5hbWU6ZS5kaXNwbGF5TmFtZSxwaG90b1VSTDplLnBob3RvVVJMLGVtYWlsOmUuZW1haWwsZW1haWxWZXJpZmllZDplLmVtYWlsVmVyaWZpZWQscGhvbmVOdW1iZXI6ZS5waG9uZU51bWJlcixpc0Fub255bW91czplLmlzQW5vbnltb3VzLHRlbmFudElkOmUudGVuYW50SWQscHJvdmlkZXJEYXRhOltdfSksZS5tZXRhZGF0YT9GaSh0LCJtZXRhZGF0YSIsZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDYyh0LmEsdC5iKX0oZS5tZXRhZGF0YSkpOkZpKHQsIm1ldGFkYXRhIixuZXcgQ2MpLEYoZS5wcm92aWRlckRhdGEsKGZ1bmN0aW9uKGUpe1ljKHQsZSl9KSksZnVuY3Rpb24odCxlKXt0LmI9ZS5iLHQuYT1lLmEsdC5jPWUuY30odC5iLGUuYiksRmkodCwicmVmcmVzaFRva2VuIix0LmIuYSkpfWZ1bmN0aW9uIFFjKHQpe3JldHVybiB0LkcoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgbj10LmlzQW5vbnltb3VzO3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiBScyh0LmEsbHMse2lkVG9rZW46ZX0pLnRoZW4oayh0LnpjLHQpKX0odCxlKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBufHwkYyh0LCJpc0Fub255bW91cyIsITEpLGV9KSl9KSl9ZnVuY3Rpb24gdGgodCxlKXtlW01hXSYmdC5tYSE9ZVtNYV0mJihfYyh0LmIsZSksdC5kaXNwYXRjaEV2ZW50KG5ldyBMYygidG9rZW5DaGFuZ2VkIikpLHFjKHQsZVtNYV0pLCRjKHQsInJlZnJlc2hUb2tlbiIsdC5iLmEpKX1mdW5jdGlvbiBlaCh0LGUpe3JldHVybiBRYyh0KS50aGVuKChmdW5jdGlvbigpe2lmKEgoSmModCksZSkpcmV0dXJuIEhjKHQpLnRoZW4oKGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFFpKCJwcm92aWRlci1hbHJlYWR5LWxpbmtlZCIpfSkpfSkpfWZ1bmN0aW9uIG5oKHQsZSxuKXtyZXR1cm4gcWkoe3VzZXI6dCxjcmVkZW50aWFsOlRvKGUpLGFkZGl0aW9uYWxVc2VySW5mbzplPU1yKGUpLG9wZXJhdGlvblR5cGU6bn0pfWZ1bmN0aW9uIGloKHQsZSl7cmV0dXJuIHRoKHQsZSksdC5yZWxvYWQoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0fSkpfWZ1bmN0aW9uIHJoKHQsZSxuLHIsbyl7aWYoIVRpKCkpcmV0dXJuIHRlKG5ldyBRaSgib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudCIpKTtpZih0LmgmJiFvKXJldHVybiB0ZSh0LmgpO3ZhciBhPXhyKG4ucHJvdmlkZXJJZCkscz1faSh0LnVpZCsiOjo6IiksdT1udWxsOyghQWkoKXx8aGkoKSkmJnQubyYmbi5pc09BdXRoUHJvdmlkZXImJih1PVdzKHQubyx0LmwsdC5tLGUsbixudWxsLHMsaS5hLlNES19WRVJTSU9OfHxudWxsLG51bGwsbnVsbCx0LnRlbmFudElkKSk7dmFyIGM9b2kodSxhJiZhLnNhLGEmJmEucmEpO3JldHVybiByPXIoKS50aGVuKChmdW5jdGlvbigpe2lmKGFoKHQpLCFvKXJldHVybiB0LkcoKS50aGVuKChmdW5jdGlvbigpe30pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBmYyh0LmksYyxlLG4scywhIXUsdC50ZW5hbnRJZCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFd0KChmdW5jdGlvbihuLGkpe3QuamEoZSxudWxsLG5ldyBRaSgiY2FuY2VsbGVkLXBvcHVwLXJlcXVlc3QiKSx0Lmd8fG51bGwpLHQuZj1uLHQudj1pLHQuZz1zLHQuYz1wYyh0LmksdCxlLGMscyl9KSl9KSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIGMmJnJpKGMpLHQ/cWkodCk6bnVsbH0pKS5zKChmdW5jdGlvbih0KXt0aHJvdyBjJiZyaShjKSx0fSkpLHNoKHQscixvKX1mdW5jdGlvbiBvaCh0LGUsbixpLHIpe2lmKCFUaSgpKXJldHVybiB0ZShuZXcgUWkoIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnQiKSk7aWYodC5oJiYhcilyZXR1cm4gdGUodC5oKTt2YXIgbz1udWxsLGE9X2kodC51aWQrIjo6OiIpO3JldHVybiBpPWkoKS50aGVuKChmdW5jdGlvbigpe2lmKGFoKHQpLCFyKXJldHVybiB0LkcoKS50aGVuKChmdW5jdGlvbigpe30pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0LmNhPWEsSGModCl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGEmJihlPShlPXQuZGEpLmIuc2V0KGhoLHQuQSgpLGUuYSkpLGV9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZGModC5pLGUsbixhLHQudGVuYW50SWQpfSkpLnMoKGZ1bmN0aW9uKGUpe2lmKG89ZSx0LmRhKXJldHVybiBmaCh0LmRhKTt0aHJvdyBvfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aWYobyl0aHJvdyBvfSkpLHNoKHQsaSxyKX1mdW5jdGlvbiBhaCh0KXtpZighdC5pfHwhdC5KKXtpZih0LmkmJiF0LkopdGhyb3cgbmV3IFFpKCJpbnRlcm5hbC1lcnJvciIpO3Rocm93IG5ldyBRaSgiYXV0aC1kb21haW4tY29uZmlnLXJlcXVpcmVkIil9fWZ1bmN0aW9uIHNoKHQsZSxuKXt2YXIgaT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQuaCYmIW4/KGUuY2FuY2VsKCksdGUodC5oKSk6ZS5zKChmdW5jdGlvbihlKXt0aHJvdyFlfHwiYXV0aC91c2VyLWRpc2FibGVkIiE9ZS5jb2RlJiYiYXV0aC91c2VyLXRva2VuLWV4cGlyZWQiIT1lLmNvZGV8fCh0Lmh8fHQuZGlzcGF0Y2hFdmVudChuZXcgTGMoInVzZXJJbnZhbGlkYXRlZCIpKSx0Lmg9ZSksZX0pKX0odCxlLG4pO3JldHVybiB0LkkucHVzaChpKSxpLmthKChmdW5jdGlvbigpe0IodC5JLGkpfSkpLGl9ZnVuY3Rpb24gdWgodCl7aWYoIXQuYXBpS2V5KXJldHVybiBudWxsO3ZhciBlPXthcGlLZXk6dC5hcGlLZXksYXV0aERvbWFpbjp0LmF1dGhEb21haW4sYXBwTmFtZTp0LmFwcE5hbWV9LG49e307aWYoISh0LnN0c1Rva2VuTWFuYWdlciYmdC5zdHNUb2tlbk1hbmFnZXIuYWNjZXNzVG9rZW4mJnQuc3RzVG9rZW5NYW5hZ2VyLmV4cGlyYXRpb25UaW1lKSlyZXR1cm4gbnVsbDtuW01hXT10LnN0c1Rva2VuTWFuYWdlci5hY2Nlc3NUb2tlbixuLnJlZnJlc2hUb2tlbj10LnN0c1Rva2VuTWFuYWdlci5yZWZyZXNoVG9rZW58fG51bGwsbi5leHBpcmVzSW49KHQuc3RzVG9rZW5NYW5hZ2VyLmV4cGlyYXRpb25UaW1lLVMoKSkvMWUzO3ZhciBpPW5ldyB4YyhlLG4sdCk7cmV0dXJuIHQucHJvdmlkZXJEYXRhJiZGKHQucHJvdmlkZXJEYXRhLChmdW5jdGlvbih0KXt0JiZZYyhpLHFpKHQpKX0pKSx0LnJlZGlyZWN0RXZlbnRJZCYmKGkuY2E9dC5yZWRpcmVjdEV2ZW50SWQpLGl9ZnVuY3Rpb24gY2godCl7dGhpcy5hPXQsdGhpcy5iPU91KCl9Z2MucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5iPW51bGwsdGhpcy5hJiYodGhpcy5hLmNhbmNlbCgpLHRoaXMuYT1udWxsKX0sZ2MucHJvdG90eXBlLmg9ZnVuY3Rpb24odCxlKXtpZih0KXt0aGlzLnJlc2V0KCksdGhpcy5nPSEwO3ZhciBuPXQuYyxpPXQuYixyPXQuYSYmImF1dGgvd2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWQiPT10LmEuY29kZSxvPXQuYSYmImF1dGgvb3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudCI9PXQuYS5jb2RlO3RoaXMuaT0hKCFyJiYhbyksInVua25vd24iIT1ufHxyfHxvP3QuYT8oSWModGhpcywhMCxudWxsLHQuYSksUXQoKSk6ZS5CYShuLGkpP2Z1bmN0aW9uKHQsZSxuKXtuPW4uQmEoZS5jLGUuYik7dmFyIGk9ZS5nLHI9ZS5mLG89ZS5pLGE9ZS5SKCkscz0hIWUuYy5tYXRjaCgvUmVkaXJlY3QkLyk7bihpLHIsYSxvKS50aGVuKChmdW5jdGlvbihlKXtJYyh0LHMsZSxudWxsKX0pKS5zKChmdW5jdGlvbihlKXtJYyh0LHMsbnVsbCxlKX0pKX0odGhpcyx0LGUpOnRlKG5ldyBRaSgiaW52YWxpZC1hdXRoLWV2ZW50IikpOihJYyh0aGlzLCExLG51bGwsbnVsbCksUXQoKSl9ZWxzZSB0ZShuZXcgUWkoImludmFsaWQtYXV0aC1ldmVudCIpKX0sZ2MucHJvdG90eXBlLm9hPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFd0KChmdW5jdGlvbihlLG4pe3QuYj90LmIoKS50aGVuKGUsbik6KHQuZi5wdXNoKGUpLHQuYy5wdXNoKG4pLGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBRaSgidGltZW91dCIpO3QuYSYmdC5hLmNhbmNlbCgpLHQuYT1sbihoYy5nZXQoKSkudGhlbigoZnVuY3Rpb24oKXt0LmJ8fCh0Lmc9ITAsSWModCwhMCxudWxsLGUpKX0pKX0odCkpfSkpfSxUYy5wcm90b3R5cGUuaD1mdW5jdGlvbih0LGUpe2lmKHQpe3ZhciBuPXQuYyxpPXQuYjt0LmE/KGUuamEodC5jLG51bGwsdC5hLHQuYiksUXQoKSk6ZS5CYShuLGkpP2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5iLGk9dC5jO2UuQmEoaSxuKSh0LmcsdC5mLHQuUigpLHQuaSkudGhlbigoZnVuY3Rpb24odCl7ZS5qYShpLHQsbnVsbCxuKX0pKS5zKChmdW5jdGlvbih0KXtlLmphKGksbnVsbCx0LG4pfSkpfSh0LGUpOnRlKG5ldyBRaSgiaW52YWxpZC1hdXRoLWV2ZW50IikpfWVsc2UgdGUobmV3IFFpKCJpbnZhbGlkLWF1dGgtZXZlbnQiKSl9LGtjLnByb3RvdHlwZS5jb25maXJtPWZ1bmN0aW9uKHQpe3JldHVybiB0PUlvKHRoaXMudmVyaWZpY2F0aW9uSWQsdCksdGhpcy5hKHQpfSxOYy5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmE9dGhpcy5jLGZ1bmN0aW9uIHQoZSxuKXtlLnN0b3AoKSxlLmI9bG4oZnVuY3Rpb24odCxlKXtyZXR1cm4gZT8odC5hPXQuYyx0LmcoKSk6KGU9dC5hLHQuYSo9Mix0LmE+dC5mJiYodC5hPXQuZiksZSl9KGUsbikpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dS5kb2N1bWVudCxlPW51bGw7cmV0dXJuIERpKCl8fCF0P1F0KCk6bmV3IFd0KChmdW5jdGlvbihuKXtlPWZ1bmN0aW9uKCl7RGkoKSYmKHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigidmlzaWJpbGl0eWNoYW5nZSIsZSwhMSksbigpKX0sdC5hZGRFdmVudExpc3RlbmVyKCJ2aXNpYmlsaXR5Y2hhbmdlIixlLCExKX0pKS5zKChmdW5jdGlvbihuKXt0aHJvdyB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoInZpc2liaWxpdHljaGFuZ2UiLGUsITEpLG59KSl9KCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5oKCl9KSkudGhlbigoZnVuY3Rpb24oKXt0KGUsITApfSkpLnMoKGZ1bmN0aW9uKG4pe2UuaShuKSYmdChlLCExKX0pKX0odGhpcywhMCl9LE5jLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5iJiYodGhpcy5iLmNhbmNlbCgpLHRoaXMuYj1udWxsKX0sT2MucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm57YXBpS2V5OnRoaXMuZi5jLHJlZnJlc2hUb2tlbjp0aGlzLmEsYWNjZXNzVG9rZW46dGhpcy5iLGV4cGlyYXRpb25UaW1lOnRoaXMuY319LE9jLnByb3RvdHlwZS5nZXRUb2tlbj1mdW5jdGlvbih0KXtyZXR1cm4gdD0hIXQsdGhpcy5iJiYhdGhpcy5hP3RlKG5ldyBRaSgidXNlci10b2tlbi1leHBpcmVkIikpOnR8fCF0aGlzLmJ8fFMoKT50aGlzLmMtM2U0P3RoaXMuYT9SYyh0aGlzLHtncmFudF90eXBlOiJyZWZyZXNoX3Rva2VuIixyZWZyZXNoX3Rva2VuOnRoaXMuYX0pOlF0KG51bGwpOlF0KHthY2Nlc3NUb2tlbjp0aGlzLmIsZXhwaXJhdGlvblRpbWU6dGhpcy5jLHJlZnJlc2hUb2tlbjp0aGlzLmF9KX0sQ2MucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm57bGFzdExvZ2luQXQ6dGhpcy5iLGNyZWF0ZWRBdDp0aGlzLmF9fSxOKExjLE1lKSxOKHhjLHNuKSx4Yy5wcm90b3R5cGUudWE9ZnVuY3Rpb24odCl7dGhpcy5nYT10LEthKHRoaXMuYSx0KX0seGMucHJvdG90eXBlLmhhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2F9LHhjLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiBYKHRoaXMuUCl9LHhjLnByb3RvdHlwZS5KYT1mdW5jdGlvbigpe3RoaXMudy5iJiYodGhpcy53LnN0b3AoKSx0aGlzLncuc3RhcnQoKSl9LEZpKHhjLnByb3RvdHlwZSwicHJvdmlkZXJJZCIsImZpcmViYXNlIiksKGU9eGMucHJvdG90eXBlKS5yZWxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBzaCh0aGlzLFhjKHRoaXMpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIFFjKHQpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIEhjKHQpfSkpLnRoZW4oV2MpfSkpKX0sZS5kYz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5HKHQpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgU2ModCl9KSl9LGUuRz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBzaCh0aGlzLFhjKHRoaXMpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuYi5nZXRUb2tlbih0KX0pKS50aGVuKChmdW5jdGlvbih0KXtpZighdCl0aHJvdyBuZXcgUWkoImludGVybmFsLWVycm9yIik7cmV0dXJuIHQuYWNjZXNzVG9rZW4hPWUubWEmJihxYyhlLHQuYWNjZXNzVG9rZW4pLGUuZGlzcGF0Y2hFdmVudChuZXcgTGMoInRva2VuQ2hhbmdlZCIpKSksJGMoZSwicmVmcmVzaFRva2VuIix0LnJlZnJlc2hUb2tlbiksdC5hY2Nlc3NUb2tlbn0pKSl9LGUuemM9ZnVuY3Rpb24odCl7aWYoISh0PXQudXNlcnMpfHwhdC5sZW5ndGgpdGhyb3cgbmV3IFFpKCJpbnRlcm5hbC1lcnJvciIpO0djKHRoaXMse3VpZDoodD10WzBdKS5sb2NhbElkLGRpc3BsYXlOYW1lOnQuZGlzcGxheU5hbWUscGhvdG9VUkw6dC5waG90b1VybCxlbWFpbDp0LmVtYWlsLGVtYWlsVmVyaWZpZWQ6ISF0LmVtYWlsVmVyaWZpZWQscGhvbmVOdW1iZXI6dC5waG9uZU51bWJlcixsYXN0TG9naW5BdDp0Lmxhc3RMb2dpbkF0LGNyZWF0ZWRBdDp0LmNyZWF0ZWRBdCx0ZW5hbnRJZDp0LnRlbmFudElkfSk7Zm9yKHZhciBlPWZ1bmN0aW9uKHQpe3JldHVybih0PXQucHJvdmlkZXJVc2VySW5mbykmJnQubGVuZ3RoP0sodCwoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBEYyh0LnJhd0lkLHQucHJvdmlkZXJJZCx0LmVtYWlsLHQuZGlzcGxheU5hbWUsdC5waG90b1VybCx0LnBob25lTnVtYmVyKX0pKTpbXX0odCksbj0wO248ZS5sZW5ndGg7bisrKVljKHRoaXMsZVtuXSk7JGModGhpcywiaXNBbm9ueW1vdXMiLCEodGhpcy5lbWFpbCYmdC5wYXNzd29yZEhhc2gpJiYhKHRoaXMucHJvdmlkZXJEYXRhJiZ0aGlzLnByb3ZpZGVyRGF0YS5sZW5ndGgpKX0sZS5BYz1mdW5jdGlvbih0KXtyZXR1cm4gVWkoImZpcmViYXNlLlVzZXIucHJvdG90eXBlLnJlYXV0aGVudGljYXRlQW5kUmV0cmlldmVEYXRhV2l0aENyZWRlbnRpYWwgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBmaXJlYmFzZS5Vc2VyLnByb3RvdHlwZS5yZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsIGluc3RlYWQuIiksdGhpcy5oYih0KX0sZS5oYj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49bnVsbDtyZXR1cm4gc2godGhpcyx0LmYodGhpcy5hLHRoaXMudWlkKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdGgoZSx0KSxuPW5oKGUsdCwicmVhdXRoZW50aWNhdGUiKSxlLmg9bnVsbCxlLnJlbG9hZCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSksITApfSxlLnJjPWZ1bmN0aW9uKHQpe3JldHVybiBVaSgiZmlyZWJhc2UuVXNlci5wcm90b3R5cGUubGlua0FuZFJldHJpZXZlRGF0YVdpdGhDcmVkZW50aWFsIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgZmlyZWJhc2UuVXNlci5wcm90b3R5cGUubGlua1dpdGhDcmVkZW50aWFsIGluc3RlYWQuIiksdGhpcy5mYih0KX0sZS5mYj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49bnVsbDtyZXR1cm4gc2godGhpcyxlaCh0aGlzLHQucHJvdmlkZXJJZCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5HKCl9KSkudGhlbigoZnVuY3Rpb24obil7cmV0dXJuIHQuYihlLmEsbil9KSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIG49bmgoZSx0LCJsaW5rIiksaWgoZSx0KX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBufSkpKX0sZS5zYz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHNoKHRoaXMsZWgodGhpcywicGhvbmUiKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBBYyhWYyhuKSx0LGUsayhuLmZiLG4pKX0pKSl9LGUuQmM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBzaCh0aGlzLFF0KCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gQWMoVmMobiksdCxlLGsobi5oYixuKSl9KSksITApfSxlLnJiPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHNoKHRoaXMsdGhpcy5HKCkudGhlbigoZnVuY3Rpb24obil7cmV0dXJuIGUuYS5yYihuLHQpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0aChlLHQpLGUucmVsb2FkKCl9KSkpfSxlLlNjPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHNoKHRoaXMsdGhpcy5HKCkudGhlbigoZnVuY3Rpb24obil7cmV0dXJuIHQuYihlLmEsbil9KSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHRoKGUsdCksZS5yZWxvYWQoKX0pKSl9LGUuc2I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gc2godGhpcyx0aGlzLkcoKS50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gZS5hLnNiKG4sdCl9KSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHRoKGUsdCksZS5yZWxvYWQoKX0pKSl9LGUudGI9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dC5kaXNwbGF5TmFtZSYmdm9pZCAwPT09dC5waG90b1VSTClyZXR1cm4gWGModGhpcyk7dmFyIGU9dGhpcztyZXR1cm4gc2godGhpcyx0aGlzLkcoKS50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gZS5hLnRiKG4se2Rpc3BsYXlOYW1lOnQuZGlzcGxheU5hbWUscGhvdG9Vcmw6dC5waG90b1VSTH0pfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0aChlLHQpLCRjKGUsImRpc3BsYXlOYW1lIix0LmRpc3BsYXlOYW1lfHxudWxsKSwkYyhlLCJwaG90b1VSTCIsdC5waG90b1VybHx8bnVsbCksRihlLnByb3ZpZGVyRGF0YSwoZnVuY3Rpb24odCl7InBhc3N3b3JkIj09PXQucHJvdmlkZXJJZCYmKEZpKHQsImRpc3BsYXlOYW1lIixlLmRpc3BsYXlOYW1lKSxGaSh0LCJwaG90b1VSTCIsZS5waG90b1VSTCkpfSkpLEhjKGUpfSkpLnRoZW4oV2MpKX0sZS5RYz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBzaCh0aGlzLFFjKHRoaXMpLnRoZW4oKGZ1bmN0aW9uKG4pe3JldHVybiBIKEpjKGUpLHQpP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gUnModCxjcyx7aWRUb2tlbjplLGRlbGV0ZVByb3ZpZGVyOm59KX0oZS5hLG4sW3RdKS50aGVuKChmdW5jdGlvbih0KXt2YXIgbj17fTtyZXR1cm4gRih0LnByb3ZpZGVyVXNlckluZm98fFtdLChmdW5jdGlvbih0KXtuW3QucHJvdmlkZXJJZF09ITB9KSksRihKYyhlKSwoZnVuY3Rpb24odCl7blt0XXx8emMoZSx0KX0pKSxuW3dvLlBST1ZJREVSX0lEXXx8RmkoZSwicGhvbmVOdW1iZXIiLG51bGwpLEhjKGUpfSkpOkhjKGUpLnRoZW4oKGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFFpKCJuby1zdWNoLXByb3ZpZGVyIil9KSl9KSkpfSxlLmRlbGV0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHNoKHRoaXMsdGhpcy5HKCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFJzKHQuYSx1cyx7aWRUb2tlbjplfSl9KSkudGhlbigoZnVuY3Rpb24oKXt0LmRpc3BhdGNoRXZlbnQobmV3IExjKCJ1c2VyRGVsZXRlZCIpKX0pKSkudGhlbigoZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHQuSS5sZW5ndGg7ZSsrKXQuSVtlXS5jYW5jZWwoImFwcC1kZWxldGVkIik7TWModCxudWxsKSxVYyh0LG51bGwpLHQuST1bXSx0LkI9ITAsS2ModCksRmkodCwicmVmcmVzaFRva2VuIixudWxsKSx0LmkmJnVjKHQuaSx0KX0pKX0sZS54Yj1mdW5jdGlvbih0LGUpe3JldHVybiEhKCJsaW5rVmlhUG9wdXAiPT10JiYodGhpcy5nfHxudWxsKT09ZSYmdGhpcy5mfHwicmVhdXRoVmlhUG9wdXAiPT10JiYodGhpcy5nfHxudWxsKT09ZSYmdGhpcy5mfHwibGlua1ZpYVJlZGlyZWN0Ij09dCYmKHRoaXMuY2F8fG51bGwpPT1lfHwicmVhdXRoVmlhUmVkaXJlY3QiPT10JiYodGhpcy5jYXx8bnVsbCk9PWUpfSxlLmphPWZ1bmN0aW9uKHQsZSxuLGkpeyJsaW5rVmlhUG9wdXAiIT10JiYicmVhdXRoVmlhUG9wdXAiIT10fHxpIT0odGhpcy5nfHxudWxsKXx8KG4mJnRoaXMudj90aGlzLnYobik6ZSYmIW4mJnRoaXMuZiYmdGhpcy5mKGUpLHRoaXMuYyYmKHRoaXMuYy5jYW5jZWwoKSx0aGlzLmM9bnVsbCksZGVsZXRlIHRoaXMuZixkZWxldGUgdGhpcy52KX0sZS5CYT1mdW5jdGlvbih0LGUpe3JldHVybiJsaW5rVmlhUG9wdXAiPT10JiZlPT0odGhpcy5nfHxudWxsKT9rKHRoaXMuQmIsdGhpcyk6InJlYXV0aFZpYVBvcHVwIj09dCYmZT09KHRoaXMuZ3x8bnVsbCk/ayh0aGlzLkNiLHRoaXMpOiJsaW5rVmlhUmVkaXJlY3QiPT10JiYodGhpcy5jYXx8bnVsbCk9PWU/ayh0aGlzLkJiLHRoaXMpOiJyZWF1dGhWaWFSZWRpcmVjdCI9PXQmJih0aGlzLmNhfHxudWxsKT09ZT9rKHRoaXMuQ2IsdGhpcyk6bnVsbH0sZS50Yz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiByaCh0aGlzLCJsaW5rVmlhUG9wdXAiLHQsKGZ1bmN0aW9uKCl7cmV0dXJuIGVoKGUsdC5wcm92aWRlcklkKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBIYyhlKX0pKX0pLCExKX0sZS5DYz1mdW5jdGlvbih0KXtyZXR1cm4gcmgodGhpcywicmVhdXRoVmlhUG9wdXAiLHQsKGZ1bmN0aW9uKCl7cmV0dXJuIFF0KCl9KSwhMCl9LGUudWM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gb2godGhpcywibGlua1ZpYVJlZGlyZWN0Iix0LChmdW5jdGlvbigpe3JldHVybiBlaChlLHQucHJvdmlkZXJJZCl9KSwhMSl9LGUuRGM9ZnVuY3Rpb24odCl7cmV0dXJuIG9oKHRoaXMsInJlYXV0aFZpYVJlZGlyZWN0Iix0LChmdW5jdGlvbigpe3JldHVybiBRdCgpfSksITApfSxlLkJiPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXM7dGhpcy5jJiYodGhpcy5jLmNhbmNlbCgpLHRoaXMuYz1udWxsKTt2YXIgbz1udWxsO3JldHVybiBzaCh0aGlzLHRoaXMuRygpLnRoZW4oKGZ1bmN0aW9uKG4pe3JldHVybiBlcyhyLmEse3JlcXVlc3RVcmk6dCxwb3N0Qm9keTppLHNlc3Npb25JZDplLGlkVG9rZW46bn0pfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBvPW5oKHIsdCwibGluayIpLGloKHIsdCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSl9LGUuQ2I9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpczt0aGlzLmMmJih0aGlzLmMuY2FuY2VsKCksdGhpcy5jPW51bGwpO3ZhciBvPW51bGw7cmV0dXJuIHNoKHRoaXMsUXQoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBYcihucyhyLmEse3JlcXVlc3RVcmk6dCxzZXNzaW9uSWQ6ZSxwb3N0Qm9keTppLHRlbmFudElkOm59KSxyLnVpZCl9KSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIG89bmgocix0LCJyZWF1dGhlbnRpY2F0ZSIpLHRoKHIsdCksci5oPW51bGwsci5yZWxvYWQoKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBvfSkpLCEwKX0sZS5qYj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49bnVsbDtyZXR1cm4gc2godGhpcyx0aGlzLkcoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gbj1lLCJ1bmRlZmluZWQiPT09dHlwZW9mIHR8fFkodCk/e306VHIobmV3IGxyKHQpKX0pKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gZS5hLmpiKG4sdCl9KSkudGhlbigoZnVuY3Rpb24odCl7aWYoZS5lbWFpbCE9dClyZXR1cm4gZS5yZWxvYWQoKX0pKS50aGVuKChmdW5jdGlvbigpe30pKSl9LGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQSgpfSxlLkE9ZnVuY3Rpb24oKXt2YXIgdD17dWlkOnRoaXMudWlkLGRpc3BsYXlOYW1lOnRoaXMuZGlzcGxheU5hbWUscGhvdG9VUkw6dGhpcy5waG90b1VSTCxlbWFpbDp0aGlzLmVtYWlsLGVtYWlsVmVyaWZpZWQ6dGhpcy5lbWFpbFZlcmlmaWVkLHBob25lTnVtYmVyOnRoaXMucGhvbmVOdW1iZXIsaXNBbm9ueW1vdXM6dGhpcy5pc0Fub255bW91cyx0ZW5hbnRJZDp0aGlzLnRlbmFudElkLHByb3ZpZGVyRGF0YTpbXSxhcGlLZXk6dGhpcy5sLGFwcE5hbWU6dGhpcy5tLGF1dGhEb21haW46dGhpcy5vLHN0c1Rva2VuTWFuYWdlcjp0aGlzLmIuQSgpLHJlZGlyZWN0RXZlbnRJZDp0aGlzLmNhfHxudWxsfTtyZXR1cm4gdGhpcy5tZXRhZGF0YSYmWih0LHRoaXMubWV0YWRhdGEuQSgpKSxGKHRoaXMucHJvdmlkZXJEYXRhLChmdW5jdGlvbihlKXt0LnByb3ZpZGVyRGF0YS5wdXNoKGZ1bmN0aW9uKHQpe3ZhciBlLG49e307Zm9yKGUgaW4gdCl0Lmhhc093blByb3BlcnR5KGUpJiYobltlXT10W2VdKTtyZXR1cm4gbn0oZSkpfSkpLHR9O3ZhciBoaD17bmFtZToicmVkaXJlY3RVc2VyIixDOiJzZXNzaW9uIn07ZnVuY3Rpb24gZmgodCl7cmV0dXJuIFJ1KHQuYixoaCx0LmEpfWZ1bmN0aW9uIGxoKHQpe3RoaXMuYT10LHRoaXMuYj1PdSgpLHRoaXMuYz1udWxsLHRoaXMuZj1mdW5jdGlvbih0KXt2YXIgZT12aCgibG9jYWwiKSxuPXZoKCJzZXNzaW9uIiksaT12aCgibm9uZSIpO3JldHVybiBmdW5jdGlvbih0LGUsbil7dmFyIGk9UHUoZSxuKSxyPV91KHQsZS5DKTtyZXR1cm4gdC5nZXQoZSxuKS50aGVuKChmdW5jdGlvbihvKXt2YXIgYT1udWxsO3RyeXthPU9pKHUubG9jYWxTdG9yYWdlLmdldEl0ZW0oaSkpfWNhdGNoKHMpe31pZihhJiYhbylyZXR1cm4gdS5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShpKSx0LnNldChlLGEsbik7YSYmbyYmImxvY2FsU3RvcmFnZSIhPXIudHlwZSYmdS5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShpKX0pKX0odC5iLGUsdC5hKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0LmIuZ2V0KG4sdC5hKX0pKS50aGVuKChmdW5jdGlvbihyKXtyZXR1cm4gcj9uOnQuYi5nZXQoaSx0LmEpLnRoZW4oKGZ1bmN0aW9uKG4pe3JldHVybiBuP2k6dC5iLmdldChlLHQuYSkudGhlbigoZnVuY3Rpb24obil7cmV0dXJuIG4/ZTp0LmIuZ2V0KHBoLHQuYSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQ/dmgodCk6ZX0pKX0pKX0pKX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gdC5jPWUsZGgodCxlLkMpfSkpLnMoKGZ1bmN0aW9uKCl7dC5jfHwodC5jPWUpfSkpfSh0aGlzKSx0aGlzLmIuYWRkTGlzdGVuZXIodmgoImxvY2FsIiksdGhpcy5hLGsodGhpcy5nLHRoaXMpKX1mdW5jdGlvbiBkaCh0LGUpe3ZhciBuLGk9W107Zm9yKG4gaW4gU3UpU3Vbbl0hPT1lJiZpLnB1c2goUnUodC5iLHZoKFN1W25dKSx0LmEpKTtyZXR1cm4gaS5wdXNoKFJ1KHQuYixwaCx0LmEpKSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFd0KChmdW5jdGlvbihlLG4pe3ZhciBpPXQubGVuZ3RoLHI9W107aWYoaSlmb3IodmFyIG89ZnVuY3Rpb24odCxuKXtpLS0sclt0XT1uLDA9PWkmJmUocil9LGE9ZnVuY3Rpb24odCl7bih0KX0scz0wO3M8dC5sZW5ndGg7cysrKWVlKHRbc10sQShvLHMpLGEpO2Vsc2UgZShyKX0pKX0oaSl9bGgucHJvdG90eXBlLmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dmgoImxvY2FsIik7eWgodGhpcywoZnVuY3Rpb24oKXtyZXR1cm4gUXQoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0LmMmJiJsb2NhbCIhPXQuYy5DP3QuYi5nZXQoZSx0LmEpOm51bGx9KSkudGhlbigoZnVuY3Rpb24obil7aWYobilyZXR1cm4gZGgodCwibG9jYWwiKS50aGVuKChmdW5jdGlvbigpe3QuYz1lfSkpfSkpfSkpfTt2YXIgcGg9e25hbWU6InBlcnNpc3RlbmNlIixDOiJzZXNzaW9uIn07ZnVuY3Rpb24gdmgodCl7cmV0dXJue25hbWU6ImF1dGhVc2VyIixDOnR9fWZ1bmN0aW9uIG1oKHQsZSl7cmV0dXJuIHloKHQsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYi5zZXQodC5jLGUuQSgpLHQuYSl9KSl9ZnVuY3Rpb24gZ2godCl7cmV0dXJuIHloKHQsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ1KHQuYix0LmMsdC5hKX0pKX1mdW5jdGlvbiBiaCh0LGUpe3JldHVybiB5aCh0LChmdW5jdGlvbigpe3JldHVybiB0LmIuZ2V0KHQuYyx0LmEpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZlJiYodC5hdXRoRG9tYWluPWUpLHVoKHR8fHt9KX0pKX0pKX1mdW5jdGlvbiB5aCh0LGUpe3JldHVybiB0LmY9dC5mLnRoZW4oZSxlKSx0LmZ9ZnVuY3Rpb24gd2godCl7aWYodGhpcy5sPSExLEZpKHRoaXMsInNldHRpbmdzIixuZXcgRWMpLEZpKHRoaXMsImFwcCIsdCksIU9oKHRoaXMpLm9wdGlvbnN8fCFPaCh0aGlzKS5vcHRpb25zLmFwaUtleSl0aHJvdyBuZXcgUWkoImludmFsaWQtYXBpLWtleSIpO3Q9aS5hLlNES19WRVJTSU9OP2JpKGkuYS5TREtfVkVSU0lPTik6bnVsbCx0aGlzLmI9bmV3IExhKE9oKHRoaXMpLm9wdGlvbnMmJk9oKHRoaXMpLm9wdGlvbnMuYXBpS2V5LFJyKF9yKSx0KSx0aGlzLk89W10sdGhpcy5tPVtdLHRoaXMuSj1bXSx0aGlzLlViPWkuYS5JTlRFUk5BTC5jcmVhdGVTdWJzY3JpYmUoayh0aGlzLm9jLHRoaXMpKSx0aGlzLlc9dm9pZCAwLHRoaXMuVmI9aS5hLklOVEVSTkFMLmNyZWF0ZVN1YnNjcmliZShrKHRoaXMucGMsdGhpcykpLFNoKHRoaXMsbnVsbCksdGhpcy5oPW5ldyBsaChPaCh0aGlzKS5vcHRpb25zLmFwaUtleSsiOiIrT2godGhpcykubmFtZSksdGhpcy53PW5ldyBjaChPaCh0aGlzKS5vcHRpb25zLmFwaUtleSsiOiIrT2godGhpcykubmFtZSksdGhpcy5ZPUNoKHRoaXMsZnVuY3Rpb24odCl7dmFyIGU9T2godCkub3B0aW9ucy5hdXRoRG9tYWluLG49ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5iLmdldChoaCx0LmEpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZlJiYodC5hdXRoRG9tYWluPWUpLHVoKHR8fHt9KX0pKX0odC53LE9oKHQpLm9wdGlvbnMuYXV0aERvbWFpbikudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuKHQuQj1lKSYmKGUuZGE9dC53KSxmaCh0LncpfSkpO3JldHVybiBDaCh0LGUpfSh0KS50aGVuKChmdW5jdGlvbigpe3JldHVybiBiaCh0LmgsZSl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGU/KGUuZGE9dC53LHQuQiYmKHQuQi5jYXx8bnVsbCk9PShlLmNhfHxudWxsKT9lOmUucmVsb2FkKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbWgodC5oLGUpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KSl9KSkucygoZnVuY3Rpb24obil7cmV0dXJuImF1dGgvbmV0d29yay1yZXF1ZXN0LWZhaWxlZCI9PW4uY29kZT9lOmdoKHQuaCl9KSkpOm51bGx9KSkudGhlbigoZnVuY3Rpb24oZSl7U2godCxlfHxudWxsKX0pKTtyZXR1cm4gQ2godCxuKX0odGhpcykpLHRoaXMuaT1DaCh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiB0LlkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4ga2godCl9KSkucygoZnVuY3Rpb24oKXt9KSkudGhlbigoZnVuY3Rpb24oKXtpZighdC5sKXJldHVybiB0Lm1hKCl9KSkucygoZnVuY3Rpb24oKXt9KSkudGhlbigoZnVuY3Rpb24oKXtpZighdC5sKXt0LmdhPSEwO3ZhciBlPXQuaDtlLmIuYWRkTGlzdGVuZXIodmgoImxvY2FsIiksZS5hLHQubWEpfX0pKX0odGhpcykpLHRoaXMuZ2E9ITEsdGhpcy5tYT1rKHRoaXMuTmMsdGhpcyksdGhpcy51Yj1rKHRoaXMuYWEsdGhpcyksdGhpcy53YT1rKHRoaXMuYmMsdGhpcyksdGhpcy54YT1rKHRoaXMubWMsdGhpcyksdGhpcy5KYT1rKHRoaXMubmMsdGhpcyksdGhpcy5hPW51bGwsZnVuY3Rpb24odCl7dmFyIGU9T2godCkub3B0aW9ucy5hdXRoRG9tYWluLG49T2godCkub3B0aW9ucy5hcGlLZXk7ZSYmVGkoKSYmKHQuVGI9dC5ZLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQubCl7aWYodC5hPW1jKGUsbixPaCh0KS5uYW1lKSxzYyh0LmEsdCksX2godCkmJkJjKF9oKHQpKSx0LkIpe0JjKHQuQik7dmFyIGk9dC5CO2kudWEodC5oYSgpKSxNYyhpLHQpLGpjKGk9dC5CLHQuSSksVWMoaSx0KSx0LkI9bnVsbH1yZXR1cm4gdC5hfX0pKSl9KHRoaXMpLHRoaXMuSU5URVJOQUw9e30sdGhpcy5JTlRFUk5BTC5kZWxldGU9ayh0aGlzLmRlbGV0ZSx0aGlzKSx0aGlzLklOVEVSTkFMLmxvZ0ZyYW1ld29yaz1rKHRoaXMudmMsdGhpcyksdGhpcy5vPTAsc24uY2FsbCh0aGlzKSxmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwibGMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYSgpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy51YSh0KX0sZW51bWVyYWJsZTohMX0pLHQuWj1udWxsLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJ0aSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLlIoKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMubmIodCl9LGVudW1lcmFibGU6ITF9KSx0LlA9bnVsbH0odGhpcyksdGhpcy5JPVtdfWZ1bmN0aW9uIEloKHQpe01lLmNhbGwodGhpcywibGFuZ3VhZ2VDb2RlQ2hhbmdlZCIpLHRoaXMuZz10fWZ1bmN0aW9uIFRoKHQpe01lLmNhbGwodGhpcywiZnJhbWV3b3JrQ2hhbmdlZCIpLHRoaXMuYz10fWZ1bmN0aW9uIEVoKHQpe3JldHVybiB0LlRifHx0ZShuZXcgUWkoImF1dGgtZG9tYWluLWNvbmZpZy1yZXF1aXJlZCIpKX1mdW5jdGlvbiBraCh0KXtpZighVGkoKSlyZXR1cm4gdGUobmV3IFFpKCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50IikpO3ZhciBlPUVoKHQpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYS5vYSgpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0P3FpKHQpOm51bGx9KSk7cmV0dXJuIENoKHQsZSl9ZnVuY3Rpb24gQWgodCxlKXt2YXIgbj17fTtyZXR1cm4gbi5hcGlLZXk9T2godCkub3B0aW9ucy5hcGlLZXksbi5hdXRoRG9tYWluPU9oKHQpLm9wdGlvbnMuYXV0aERvbWFpbixuLmFwcE5hbWU9T2godCkubmFtZSx0LlkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bmV3IHhjKHQsZSk7cmV0dXJuIG4mJihyLmRhPW4pLGkmJmpjKHIsaSksci5yZWxvYWQoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiByfSkpfShuLGUsdC53LHQuQ2EoKSl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIF9oKHQpJiZlLnVpZD09X2godCkudWlkPyhaYyhfaCh0KSxlKSx0LmFhKGUpKTooU2godCxlKSxCYyhlKSx0LmFhKGUpKX0pKS50aGVuKChmdW5jdGlvbigpe1JoKHQpfSkpfWZ1bmN0aW9uIFNoKHQsZSl7X2godCkmJihmdW5jdGlvbih0LGUpe0codC5PLChmdW5jdGlvbih0KXtyZXR1cm4gdD09ZX0pKX0oX2godCksdC51YiksJGUoX2godCksInRva2VuQ2hhbmdlZCIsdC53YSksJGUoX2godCksInVzZXJEZWxldGVkIix0LnhhKSwkZShfaCh0KSwidXNlckludmFsaWRhdGVkIix0LkphKSxLYyhfaCh0KSkpLGUmJihlLk8ucHVzaCh0LnViKSxKZShlLCJ0b2tlbkNoYW5nZWQiLHQud2EpLEplKGUsInVzZXJEZWxldGVkIix0LnhhKSxKZShlLCJ1c2VySW52YWxpZGF0ZWQiLHQuSmEpLDA8dC5vJiZGYyhlKSksRmkodCwiY3VycmVudFVzZXIiLGUpLGUmJihlLnVhKHQuaGEoKSksTWMoZSx0KSxqYyhlLHQuSSksVWMoZSx0KSl9ZnVuY3Rpb24gTmgodCxlKXt2YXIgbj1udWxsLGk9bnVsbDtyZXR1cm4gQ2godCxlLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBuPVRvKGUpLGk9TXIoZSksQWgodCxlKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBxaSh7dXNlcjpfaCh0KSxjcmVkZW50aWFsOm4sYWRkaXRpb25hbFVzZXJJbmZvOmksb3BlcmF0aW9uVHlwZToic2lnbkluIn0pfSkpKX1mdW5jdGlvbiBPaCh0KXtyZXR1cm4gdC5hcHB9ZnVuY3Rpb24gX2godCl7cmV0dXJuIHQuY3VycmVudFVzZXJ9ZnVuY3Rpb24gUGgodCl7cmV0dXJuIF9oKHQpJiZfaCh0KS5fbGF0fHxudWxsfWZ1bmN0aW9uIFJoKHQpe2lmKHQuZ2Epe2Zvcih2YXIgZT0wO2U8dC5tLmxlbmd0aDtlKyspdC5tW2VdJiZ0Lm1bZV0oUGgodCkpO2lmKHQuVyE9PXQuZ2V0VWlkKCkmJnQuSi5sZW5ndGgpZm9yKHQuVz10LmdldFVpZCgpLGU9MDtlPHQuSi5sZW5ndGg7ZSsrKXQuSltlXSYmdC5KW2VdKFBoKHQpKX19ZnVuY3Rpb24gQ2godCxlKXtyZXR1cm4gdC5PLnB1c2goZSksZS5rYSgoZnVuY3Rpb24oKXtCKHQuTyxlKX0pKSxlfWZ1bmN0aW9uIERoKCl7fWZ1bmN0aW9uIExoKCl7dGhpcy5hPXt9LHRoaXMuYj0xZTEyfWxoLnByb3RvdHlwZS5tYj1mdW5jdGlvbih0KXt2YXIgZT1udWxsLG49dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9bmV3IFFpKCJpbnZhbGlkLXBlcnNpc3RlbmNlLXR5cGUiKSxuPW5ldyBRaSgidW5zdXBwb3J0ZWQtcGVyc2lzdGVuY2UtdHlwZSIpO3Q6e2ZvcihpIGluIFN1KWlmKFN1W2ldPT10KXt2YXIgaT0hMDticmVhayB0fWk9ITF9aWYoIWl8fCJzdHJpbmciIT09dHlwZW9mIHQpdGhyb3cgZTtzd2l0Y2gobGkoKSl7Y2FzZSJSZWFjdE5hdGl2ZSI6aWYoInNlc3Npb24iPT09dCl0aHJvdyBuO2JyZWFrO2Nhc2UiTm9kZSI6aWYoIm5vbmUiIT09dCl0aHJvdyBuO2JyZWFrO2RlZmF1bHQ6aWYoIUlpKCkmJiJub25lIiE9PXQpdGhyb3cgbn19KHQpLHloKHRoaXMsKGZ1bmN0aW9uKCl7cmV0dXJuIHQhPW4uYy5DP24uYi5nZXQobi5jLG4uYSkudGhlbigoZnVuY3Rpb24oaSl7cmV0dXJuIGU9aSxkaChuLHQpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aWYobi5jPXZoKHQpLGUpcmV0dXJuIG4uYi5zZXQobi5jLGUsbi5hKX0pKTpRdCgpfSkpfSxOKHdoLHNuKSxOKEloLE1lKSxOKFRoLE1lKSwoZT13aC5wcm90b3R5cGUpLm1iPWZ1bmN0aW9uKHQpe3JldHVybiBDaCh0aGlzLHQ9dGhpcy5oLm1iKHQpKX0sZS51YT1mdW5jdGlvbih0KXt0aGlzLlo9PT10fHx0aGlzLmx8fCh0aGlzLlo9dCxLYSh0aGlzLmIsdGhpcy5aKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEloKHRoaXMuaGEoKSkpKX0sZS5oYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlp9LGUuVGM9ZnVuY3Rpb24oKXt2YXIgdD11Lm5hdmlnYXRvcjt0aGlzLnVhKHQmJih0Lmxhbmd1YWdlcyYmdC5sYW5ndWFnZXNbMF18fHQubGFuZ3VhZ2V8fHQudXNlckxhbmd1YWdlKXx8bnVsbCl9LGUudmM9ZnVuY3Rpb24odCl7dGhpcy5JLnB1c2godCkscWEodGhpcy5iLGkuYS5TREtfVkVSU0lPTj9iaShpLmEuU0RLX1ZFUlNJT04sdGhpcy5JKTpudWxsKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFRoKHRoaXMuSSkpfSxlLkNhPWZ1bmN0aW9uKCl7cmV0dXJuIFgodGhpcy5JKX0sZS5uYj1mdW5jdGlvbih0KXt0aGlzLlA9PT10fHx0aGlzLmx8fCh0aGlzLlA9dCx0aGlzLmIuYj10aGlzLlApfSxlLlI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5QfSxlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnthcGlLZXk6T2godGhpcykub3B0aW9ucy5hcGlLZXksYXV0aERvbWFpbjpPaCh0aGlzKS5vcHRpb25zLmF1dGhEb21haW4sYXBwTmFtZTpPaCh0aGlzKS5uYW1lLGN1cnJlbnRVc2VyOl9oKHRoaXMpJiZfaCh0aGlzKS5BKCl9fSxlLnhiPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQpe2Nhc2UidW5rbm93biI6Y2FzZSJzaWduSW5WaWFSZWRpcmVjdCI6cmV0dXJuITA7Y2FzZSJzaWduSW5WaWFQb3B1cCI6cmV0dXJuIHRoaXMuZz09ZSYmISF0aGlzLmY7ZGVmYXVsdDpyZXR1cm4hMX19LGUuamE9ZnVuY3Rpb24odCxlLG4saSl7InNpZ25JblZpYVBvcHVwIj09dCYmdGhpcy5nPT1pJiYobiYmdGhpcy52P3RoaXMudihuKTplJiYhbiYmdGhpcy5mJiZ0aGlzLmYoZSksdGhpcy5jJiYodGhpcy5jLmNhbmNlbCgpLHRoaXMuYz1udWxsKSxkZWxldGUgdGhpcy5mLGRlbGV0ZSB0aGlzLnYpfSxlLkJhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuInNpZ25JblZpYVJlZGlyZWN0Ij09dHx8InNpZ25JblZpYVBvcHVwIj09dCYmdGhpcy5nPT1lJiZ0aGlzLmY/ayh0aGlzLmFjLHRoaXMpOm51bGx9LGUuYWM9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpczt0PXtyZXF1ZXN0VXJpOnQscG9zdEJvZHk6aSxzZXNzaW9uSWQ6ZSx0ZW5hbnRJZDpufSx0aGlzLmMmJih0aGlzLmMuY2FuY2VsKCksdGhpcy5jPW51bGwpO3ZhciBvPW51bGwsYT1udWxsLHM9dHMoci5iLHQpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBvPVRvKHQpLGE9TXIodCksdH0pKTtyZXR1cm4gQ2godGhpcyx0PXIuWS50aGVuKChmdW5jdGlvbigpe3JldHVybiBzfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBBaChyLHQpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHFpKHt1c2VyOl9oKHIpLGNyZWRlbnRpYWw6byxhZGRpdGlvbmFsVXNlckluZm86YSxvcGVyYXRpb25UeXBlOiJzaWduSW4ifSl9KSkpfSxlLkxjPWZ1bmN0aW9uKHQpe2lmKCFUaSgpKXJldHVybiB0ZShuZXcgUWkoIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnQiKSk7dmFyIGU9dGhpcyxuPXhyKHQucHJvdmlkZXJJZCkscj1faSgpLG89bnVsbDsoIUFpKCl8fGhpKCkpJiZPaCh0aGlzKS5vcHRpb25zLmF1dGhEb21haW4mJnQuaXNPQXV0aFByb3ZpZGVyJiYobz1XcyhPaCh0aGlzKS5vcHRpb25zLmF1dGhEb21haW4sT2godGhpcykub3B0aW9ucy5hcGlLZXksT2godGhpcykubmFtZSwic2lnbkluVmlhUG9wdXAiLHQsbnVsbCxyLGkuYS5TREtfVkVSU0lPTnx8bnVsbCxudWxsLG51bGwsdGhpcy5SKCkpKTt2YXIgYT1vaShvLG4mJm4uc2EsbiYmbi5yYSk7cmV0dXJuIENoKHRoaXMsbj1FaCh0aGlzKS50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gZmMobixhLCJzaWduSW5WaWFQb3B1cCIsdCxyLCEhbyxlLlIoKSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFd0KChmdW5jdGlvbih0LG4pe2UuamEoInNpZ25JblZpYVBvcHVwIixudWxsLG5ldyBRaSgiY2FuY2VsbGVkLXBvcHVwLXJlcXVlc3QiKSxlLmcpLGUuZj10LGUudj1uLGUuZz1yLGUuYz1wYyhlLmEsZSwic2lnbkluVmlhUG9wdXAiLGEscil9KSl9KSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIGEmJnJpKGEpLHQ/cWkodCk6bnVsbH0pKS5zKChmdW5jdGlvbih0KXt0aHJvdyBhJiZyaShhKSx0fSkpKX0sZS5NYz1mdW5jdGlvbih0KXtpZighVGkoKSlyZXR1cm4gdGUobmV3IFFpKCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50IikpO3ZhciBlPXRoaXM7cmV0dXJuIENoKHRoaXMsRWgodGhpcykudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHloKHQsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYi5zZXQocGgsdC5jLkMsdC5hKX0pKX0oZS5oKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBkYyhlLmEsInNpZ25JblZpYVJlZGlyZWN0Iix0LHZvaWQgMCxlLlIoKSl9KSkpfSxlLm9hPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4ga2godGhpcykudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIHQuYSYmeWModC5hLmIpLGV9KSkucygoZnVuY3Rpb24oZSl7dGhyb3cgdC5hJiZ5Yyh0LmEuYiksZX0pKX0sZS5SYz1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gdGUobmV3IFFpKCJudWxsLXVzZXIiKSk7aWYodGhpcy5QIT10LnRlbmFudElkKXJldHVybiB0ZShuZXcgUWkoInRlbmFudC1pZC1taXNtYXRjaCIpKTt2YXIgZT10aGlzLG49e307bi5hcGlLZXk9T2godGhpcykub3B0aW9ucy5hcGlLZXksbi5hdXRoRG9tYWluPU9oKHRoaXMpLm9wdGlvbnMuYXV0aERvbWFpbixuLmFwcE5hbWU9T2godGhpcykubmFtZTt2YXIgaT1mdW5jdGlvbih0LGUsbixpKXtlPWV8fHthcGlLZXk6dC5sLGF1dGhEb21haW46dC5vLGFwcE5hbWU6dC5tfTt2YXIgcj10LmIsbz17fTtyZXR1cm4gb1tNYV09ci5iLG8ucmVmcmVzaFRva2VuPXIuYSxvLmV4cGlyZXNJbj0oci5jLVMoKSkvMWUzLGU9bmV3IHhjKGUsbyksbiYmKGUuZGE9biksaSYmamMoZSxpKSxaYyhlLHQpLGV9KHQsbixlLncsZS5DYSgpKTtyZXR1cm4gQ2godGhpcyx0aGlzLmkudGhlbigoZnVuY3Rpb24oKXtpZihPaChlKS5vcHRpb25zLmFwaUtleSE9dC5sKXJldHVybiBpLnJlbG9hZCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIF9oKGUpJiZ0LnVpZD09X2goZSkudWlkPyhaYyhfaChlKSx0KSxlLmFhKHQpKTooU2goZSxpKSxCYyhpKSxlLmFhKGkpKX0pKS50aGVuKChmdW5jdGlvbigpe1JoKGUpfSkpKX0sZS5wYj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIENoKHRoaXMsdGhpcy5pLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYSYmeWModC5hLmIpLF9oKHQpPyhTaCh0LG51bGwpLGdoKHQuaCkudGhlbigoZnVuY3Rpb24oKXtSaCh0KX0pKSk6UXQoKX0pKSl9LGUuTmM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBiaCh0aGlzLmgsT2godGhpcykub3B0aW9ucy5hdXRoRG9tYWluKS50aGVuKChmdW5jdGlvbihlKXtpZighdC5sKXt2YXIgbjtpZihuPV9oKHQpJiZlKXtuPV9oKHQpLnVpZDt2YXIgaT1lLnVpZDtuPXZvaWQgMCE9PW4mJm51bGwhPT1uJiYiIiE9PW4mJnZvaWQgMCE9PWkmJm51bGwhPT1pJiYiIiE9PWkmJm49PWl9aWYobilyZXR1cm4gWmMoX2godCksZSksX2godCkuRygpOyhfaCh0KXx8ZSkmJihTaCh0LGUpLGUmJihCYyhlKSxlLmRhPXQudyksdC5hJiZzYyh0LmEsdCksUmgodCkpfX0pKX0sZS5hYT1mdW5jdGlvbih0KXtyZXR1cm4gbWgodGhpcy5oLHQpfSxlLmJjPWZ1bmN0aW9uKCl7UmgodGhpcyksdGhpcy5hYShfaCh0aGlzKSl9LGUubWM9ZnVuY3Rpb24oKXt0aGlzLnBiKCl9LGUubmM9ZnVuY3Rpb24oKXt0aGlzLnBiKCl9LGUub2M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLmFkZEF1dGhUb2tlbkxpc3RlbmVyKChmdW5jdGlvbigpe3QubmV4dChfaChlKSl9KSl9LGUucGM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczshZnVuY3Rpb24odCxlKXt0LkoucHVzaChlKSxDaCh0LHQuaS50aGVuKChmdW5jdGlvbigpeyF0LmwmJkgodC5KLGUpJiZ0LlchPT10LmdldFVpZCgpJiYodC5XPXQuZ2V0VWlkKCksZShQaCh0KSkpfSkpKX0odGhpcywoZnVuY3Rpb24oKXt0Lm5leHQoX2goZSkpfSkpfSxlLnhjPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmdhJiZQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2IodCk/dChfaChpKSk6Yih0Lm5leHQpJiZ0Lm5leHQoX2goaSkpfSkpLHRoaXMuVWIodCxlLG4pfSxlLndjPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmdhJiZQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2kuVz1pLmdldFVpZCgpLGIodCk/dChfaChpKSk6Yih0Lm5leHQpJiZ0Lm5leHQoX2goaSkpfSkpLHRoaXMuVmIodCxlLG4pfSxlLmNjPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIENoKHRoaXMsdGhpcy5pLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIF9oKGUpP19oKGUpLkcodCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJue2FjY2Vzc1Rva2VuOnR9fSkpOm51bGx9KSkpfSxlLkhjPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuaS50aGVuKChmdW5jdGlvbigpe3JldHVybiBOaChlLFJzKGUuYixTcyx7dG9rZW46dH0pKX0pKS50aGVuKChmdW5jdGlvbih0KXt2YXIgbj10LnVzZXI7cmV0dXJuICRjKG4sImlzQW5vbnltb3VzIiwhMSksZS5hYShuKSx0fSkpfSxlLkljPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5pLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIE5oKG4sUnMobi5iLE5zLHtlbWFpbDp0LHBhc3N3b3JkOmV9KSl9KSl9LGUuWGI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLmkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gTmgobixScyhuLmIsYXMse2VtYWlsOnQscGFzc3dvcmQ6ZX0pKX0pKX0sZS5TYT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gTmgoZSx0Lm5hKGUuYikpfSkpfSxlLkdjPWZ1bmN0aW9uKHQpe3JldHVybiBVaSgiZmlyZWJhc2UuYXV0aC5BdXRoLnByb3RvdHlwZS5zaWduSW5BbmRSZXRyaWV2ZURhdGFXaXRoQ3JlZGVudGlhbCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGZpcmViYXNlLmF1dGguQXV0aC5wcm90b3R5cGUuc2lnbkluV2l0aENyZWRlbnRpYWwgaW5zdGVhZC4iKSx0aGlzLlNhKHQpfSxlLm9iPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5pLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9X2godCk7aWYoZSYmZS5pc0Fub255bW91cyl7dmFyIG49cWkoe3Byb3ZpZGVySWQ6bnVsbCxpc05ld1VzZXI6ITF9KTtyZXR1cm4gcWkoe3VzZXI6ZSxjcmVkZW50aWFsOm51bGwsYWRkaXRpb25hbFVzZXJJbmZvOm4sb3BlcmF0aW9uVHlwZToic2lnbkluIn0pfXJldHVybiBOaCh0LHQuYi5vYigpKS50aGVuKChmdW5jdGlvbihlKXt2YXIgbj1lLnVzZXI7cmV0dXJuICRjKG4sImlzQW5vbnltb3VzIiwhMCksdC5hYShuKSxlfSkpfSkpfSxlLmdldFVpZD1mdW5jdGlvbigpe3JldHVybiBfaCh0aGlzKSYmX2godGhpcykudWlkfHxudWxsfSxlLldiPWZ1bmN0aW9uKHQpe3RoaXMuYWRkQXV0aFRva2VuTGlzdGVuZXIodCksdGhpcy5vKyssMDx0aGlzLm8mJl9oKHRoaXMpJiZGYyhfaCh0aGlzKSl9LGUuRWM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztGKHRoaXMubSwoZnVuY3Rpb24obil7bj09dCYmZS5vLS19KSksMD50aGlzLm8mJih0aGlzLm89MCksMD09dGhpcy5vJiZfaCh0aGlzKSYmS2MoX2godGhpcykpLHRoaXMucmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIodCl9LGUuYWRkQXV0aFRva2VuTGlzdGVuZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLm0ucHVzaCh0KSxDaCh0aGlzLHRoaXMuaS50aGVuKChmdW5jdGlvbigpe2UubHx8SChlLm0sdCkmJnQoUGgoZSkpfSkpKX0sZS5yZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcj1mdW5jdGlvbih0KXtHKHRoaXMubSwoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PXR9KSl9LGUuZGVsZXRlPWZ1bmN0aW9uKCl7dGhpcy5sPSEwO2Zvcih2YXIgdD0wO3Q8dGhpcy5PLmxlbmd0aDt0KyspdGhpcy5PW3RdLmNhbmNlbCgiYXBwLWRlbGV0ZWQiKTtyZXR1cm4gdGhpcy5PPVtdLHRoaXMuaCYmKHQ9dGhpcy5oKS5iLnJlbW92ZUxpc3RlbmVyKHZoKCJsb2NhbCIpLHQuYSx0aGlzLm1hKSx0aGlzLmEmJih1Yyh0aGlzLmEsdGhpcykseWModGhpcy5hLmIpKSxQcm9taXNlLnJlc29sdmUoKX0sZS4kYj1mdW5jdGlvbih0KXtyZXR1cm4gQ2godGhpcyxmdW5jdGlvbih0LGUpe3JldHVybiBScyh0LHNzLHtpZGVudGlmaWVyOmUsY29udGludWVVcmk6RWkoKT9laSgpOiJodHRwOi8vbG9jYWxob3N0In0pLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNpZ25pbk1ldGhvZHN8fFtdfSkpfSh0aGlzLmIsdCkpfSxlLnFjPWZ1bmN0aW9uKHQpe3JldHVybiEhbW8odCl9LGUubGI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBDaCh0aGlzLFF0KCkudGhlbigoZnVuY3Rpb24oKXt2YXIgdD1uZXcgbHIoZSk7aWYoIXQuYyl0aHJvdyBuZXcgUWkoImFyZ3VtZW50LWVycm9yIix2cisiIG11c3QgYmUgdHJ1ZSB3aGVuIHNlbmRpbmcgc2lnbiBpbiBsaW5rIHRvIGVtYWlsIik7cmV0dXJuIFRyKHQpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBuLmIubGIodCxlKX0pKS50aGVuKChmdW5jdGlvbigpe30pKSl9LGUuVWM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuTWEodCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YS5lbWFpbH0pKX0sZS5hYj1mdW5jdGlvbih0LGUpe3JldHVybiBDaCh0aGlzLHRoaXMuYi5hYih0LGUpLnRoZW4oKGZ1bmN0aW9uKCl7fSkpKX0sZS5NYT1mdW5jdGlvbih0KXtyZXR1cm4gQ2godGhpcyx0aGlzLmIuTWEodCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBCaSh0KX0pKSl9LGUuWWE9ZnVuY3Rpb24odCl7cmV0dXJuIENoKHRoaXMsdGhpcy5iLllhKHQpLnRoZW4oKGZ1bmN0aW9uKCl7fSkpKX0sZS5rYj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIENoKHRoaXMsUXQoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQiPT09dHlwZW9mIGV8fFkoZSk/e306VHIobmV3IGxyKGUpKX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gbi5iLmtiKHQsZSl9KSkudGhlbigoZnVuY3Rpb24oKXt9KSkpfSxlLktjPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIENoKHRoaXMsQWModGhpcyx0LGUsayh0aGlzLlNhLHRoaXMpKSl9LGUuSmM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBDaCh0aGlzLFF0KCkudGhlbigoZnVuY3Rpb24oKXt2YXIgaT1lfHxlaSgpLHI9dm8odCxpKTtpZighKGk9bW8oaSkpKXRocm93IG5ldyBRaSgiYXJndW1lbnQtZXJyb3IiLCJJbnZhbGlkIGVtYWlsIGxpbmshIik7aWYoaS50ZW5hbnRJZCE9PW4uUigpKXRocm93IG5ldyBRaSgidGVuYW50LWlkLW1pc21hdGNoIik7cmV0dXJuIG4uU2Eocil9KSkpfSxEaC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7fSxEaC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt9LERoLnByb3RvdHlwZS5nZXRSZXNwb25zZT1mdW5jdGlvbigpe30sRGgucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt9O3ZhciB4aD1udWxsO2Z1bmN0aW9uIE1oKHQsZSl7cmV0dXJuKGU9amgoZSkpJiZ0LmFbZV18fG51bGx9ZnVuY3Rpb24gamgodCl7cmV0dXJuKHQ9InVuZGVmaW5lZCI9PT10eXBlb2YgdD8xZTEyOnQpP3QudG9TdHJpbmcoKTpudWxsfWZ1bmN0aW9uIFVoKHQsZSl7dGhpcy5nPSExLHRoaXMuYz1lLHRoaXMuYT10aGlzLmI9bnVsbCx0aGlzLmg9ImludmlzaWJsZSIhPT10aGlzLmMuc2l6ZSx0aGlzLmY9Qm4odCk7dmFyIG49dGhpczt0aGlzLmk9ZnVuY3Rpb24oKXtuLmV4ZWN1dGUoKX0sdGhpcy5oP3RoaXMuZXhlY3V0ZSgpOkplKHRoaXMuZiwiY2xpY2siLHRoaXMuaSl9ZnVuY3Rpb24gVmgodCl7aWYodC5nKXRocm93IEVycm9yKCJyZUNBUFRDSEEgbW9jayB3YXMgYWxyZWFkeSBkZWxldGVkISIpfWZ1bmN0aW9uIEZoKCl7fUxoLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hW3RoaXMuYi50b1N0cmluZygpXT1uZXcgVWgodCxlKSx0aGlzLmIrK30sTGgucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQpe3ZhciBlPU1oKHRoaXMsdCk7dD1qaCh0KSxlJiZ0JiYoZS5kZWxldGUoKSxkZWxldGUgdGhpcy5hW3RdKX0sTGgucHJvdG90eXBlLmdldFJlc3BvbnNlPWZ1bmN0aW9uKHQpe3JldHVybih0PU1oKHRoaXMsdCkpP3QuZ2V0UmVzcG9uc2UoKTpudWxsfSxMaC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0KXsodD1NaCh0aGlzLHQpKSYmdC5leGVjdXRlKCl9LFVoLnByb3RvdHlwZS5nZXRSZXNwb25zZT1mdW5jdGlvbigpe3JldHVybiBWaCh0aGlzKSx0aGlzLmJ9LFVoLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7VmgodGhpcyk7dmFyIHQ9dGhpczt0aGlzLmF8fCh0aGlzLmE9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9NTAsZT1bXTswPHQ7KWUucHVzaCgiMTIzNDU2Nzg5MGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoiLmNoYXJBdChNYXRoLmZsb29yKDYyKk1hdGgucmFuZG9tKCkpKSksdC0tO3JldHVybiBlLmpvaW4oIiIpfSgpO3ZhciBlPXQuYy5jYWxsYmFjayxuPXQuY1siZXhwaXJlZC1jYWxsYmFjayJdO2lmKGUpdHJ5e2UodC5iKX1jYXRjaChpKXt9dC5hPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aWYodC5hPW51bGwsdC5iPW51bGwsbil0cnl7bigpfWNhdGNoKGkpe310LmgmJnQuZXhlY3V0ZSgpfSksNmU0KX0pLDUwMCkpfSxVaC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKCl7VmgodGhpcyksdGhpcy5nPSEwLGNsZWFyVGltZW91dCh0aGlzLmEpLHRoaXMuYT1udWxsLCRlKHRoaXMuZiwiY2xpY2siLHRoaXMuaSl9LEZoLnByb3RvdHlwZS5nPWZ1bmN0aW9uKCl7cmV0dXJuIHhofHwoeGg9bmV3IExoKSxRdCh4aCl9LEZoLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7fTt2YXIgS2g9bnVsbDtmdW5jdGlvbiBxaCgpe3RoaXMuYj11LmdyZWNhcHRjaGE/MS8wOjAsdGhpcy5mPW51bGwsdGhpcy5hPSJfX3JjYiIrTWF0aC5mbG9vcigxZTYqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoKX12YXIgSGg9bmV3IFEobnQsImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaS5qcz9vbmxvYWQ9JXtvbmxvYWR9JnJlbmRlcj1leHBsaWNpdCZobD0le2hsfSIpLEJoPW5ldyBDaSgzZTQsNmU0KTtxaC5wcm90b3R5cGUuZz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBuZXcgV3QoKGZ1bmN0aW9uKG4saSl7dmFyIHI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpKG5ldyBRaSgibmV0d29yay1yZXF1ZXN0LWZhaWxlZCIpKX0pLEJoLmdldCgpKTshdS5ncmVjYXB0Y2hhfHx0IT09ZS5mJiYhZS5iPyh1W2UuYV09ZnVuY3Rpb24oKXtpZih1LmdyZWNhcHRjaGEpe2UuZj10O3ZhciBvPXUuZ3JlY2FwdGNoYS5yZW5kZXI7dS5ncmVjYXB0Y2hhLnJlbmRlcj1mdW5jdGlvbih0LG4pe3JldHVybiB0PW8odCxuKSxlLmIrKyx0fSxjbGVhclRpbWVvdXQociksbih1LmdyZWNhcHRjaGEpfWVsc2UgY2xlYXJUaW1lb3V0KHIpLGkobmV3IFFpKCJpbnRlcm5hbC1lcnJvciIpKTtkZWxldGUgdVtlLmFdfSxRdChOYShhdChIaCx7b25sb2FkOmUuYSxobDp0fHwiIn0pKSkucygoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQociksaShuZXcgUWkoImludGVybmFsLWVycm9yIiwiVW5hYmxlIHRvIGxvYWQgZXh0ZXJuYWwgcmVDQVBUQ0hBIGRlcGVuZGVuY2llcyEiKSl9KSkpOihjbGVhclRpbWVvdXQociksbih1LmdyZWNhcHRjaGEpKX0pKX0scWgucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXt0aGlzLmItLX07dmFyIEdoPW51bGw7ZnVuY3Rpb24gV2godCxlLG4saSxyLG8sYSl7aWYoRmkodGhpcywidHlwZSIsInJlY2FwdGNoYSIpLHRoaXMuYz10aGlzLmY9bnVsbCx0aGlzLkI9ITEsdGhpcy51PWUsdGhpcy5nPW51bGwsYT8oS2h8fChLaD1uZXcgRmgpLGE9S2gpOihHaHx8KEdoPW5ldyBxaCksYT1HaCksdGhpcy5tPWEsdGhpcy5hPW58fHt0aGVtZToibGlnaHQiLHR5cGU6ImltYWdlIn0sdGhpcy5oPVtdLHRoaXMuYVtZaF0pdGhyb3cgbmV3IFFpKCJhcmd1bWVudC1lcnJvciIsInNpdGVrZXkgc2hvdWxkIG5vdCBiZSBwcm92aWRlZCBmb3IgcmVDQVBUQ0hBIGFzIG9uZSBpcyBhdXRvbWF0aWNhbGx5IHByb3Zpc2lvbmVkIGZvciB0aGUgY3VycmVudCBwcm9qZWN0LiIpO2lmKHRoaXMuaT0iaW52aXNpYmxlIj09PXRoaXMuYVt6aF0sIXUuZG9jdW1lbnQpdGhyb3cgbmV3IFFpKCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50IiwiUmVjYXB0Y2hhVmVyaWZpZXIgaXMgb25seSBzdXBwb3J0ZWQgaW4gYSBicm93c2VyIEhUVFAvSFRUUFMgZW52aXJvbm1lbnQgd2l0aCBET00gc3VwcG9ydC4iKTtpZighQm4oZSl8fCF0aGlzLmkmJkJuKGUpLmhhc0NoaWxkTm9kZXMoKSl0aHJvdyBuZXcgUWkoImFyZ3VtZW50LWVycm9yIiwicmVDQVBUQ0hBIGNvbnRhaW5lciBpcyBlaXRoZXIgbm90IGZvdW5kIG9yIGFscmVhZHkgY29udGFpbnMgaW5uZXIgZWxlbWVudHMhIik7dGhpcy5vPW5ldyBMYSh0LG98fG51bGwscnx8bnVsbCksdGhpcy52PWl8fGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O3ZhciBzPXRoaXM7dGhpcy5sPVtdO3ZhciBjPXRoaXMuYVtYaF07dGhpcy5hW1hoXT1mdW5jdGlvbih0KXtpZigkaChzLHQpLCJmdW5jdGlvbiI9PT10eXBlb2YgYyljKHQpO2Vsc2UgaWYoInN0cmluZyI9PT10eXBlb2YgYyl7dmFyIGU9d2koYyx1KTsiZnVuY3Rpb24iPT09dHlwZW9mIGUmJmUodCl9fTt2YXIgaD10aGlzLmFbSmhdO3RoaXMuYVtKaF09ZnVuY3Rpb24oKXtpZigkaChzLG51bGwpLCJmdW5jdGlvbiI9PT10eXBlb2YgaCloKCk7ZWxzZSBpZigic3RyaW5nIj09PXR5cGVvZiBoKXt2YXIgdD13aShoLHUpOyJmdW5jdGlvbiI9PT10eXBlb2YgdCYmdCgpfX19dmFyIFhoPSJjYWxsYmFjayIsSmg9ImV4cGlyZWQtY2FsbGJhY2siLFloPSJzaXRla2V5Iix6aD0ic2l6ZSI7ZnVuY3Rpb24gJGgodCxlKXtmb3IodmFyIG49MDtuPHQubC5sZW5ndGg7bisrKXRyeXt0Lmxbbl0oZSl9Y2F0Y2goaSl7fX1mdW5jdGlvbiBaaCh0LGUpe3JldHVybiB0LmgucHVzaChlKSxlLmthKChmdW5jdGlvbigpe0IodC5oLGUpfSkpLGV9ZnVuY3Rpb24gUWgodCl7aWYodC5CKXRocm93IG5ldyBRaSgiaW50ZXJuYWwtZXJyb3IiLCJSZWNhcHRjaGFWZXJpZmllciBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWQuIil9ZnVuY3Rpb24gdGYodCxlLG4pe3ZhciByPSExO3RyeXt0aGlzLmI9bnx8aS5hLmFwcCgpfWNhdGNoKHMpe3Rocm93IG5ldyBRaSgiYXJndW1lbnQtZXJyb3IiLCJObyBmaXJlYmFzZS5hcHAuQXBwIGluc3RhbmNlIGlzIGN1cnJlbnRseSBpbml0aWFsaXplZC4iKX1pZighdGhpcy5iLm9wdGlvbnN8fCF0aGlzLmIub3B0aW9ucy5hcGlLZXkpdGhyb3cgbmV3IFFpKCJpbnZhbGlkLWFwaS1rZXkiKTtuPXRoaXMuYi5vcHRpb25zLmFwaUtleTt2YXIgbz10aGlzLGE9bnVsbDt0cnl7YT10aGlzLmIuYXV0aCgpLkNhKCl9Y2F0Y2gocyl7fXRyeXtyPXRoaXMuYi5hdXRoKCkuc2V0dGluZ3MuYXBwVmVyaWZpY2F0aW9uRGlzYWJsZWRGb3JUZXN0aW5nfWNhdGNoKHMpe31hPWkuYS5TREtfVkVSU0lPTj9iaShpLmEuU0RLX1ZFUlNJT04sYSk6bnVsbCxXaC5jYWxsKHRoaXMsbix0LGUsKGZ1bmN0aW9uKCl7dHJ5e3ZhciB0PW8uYi5hdXRoKCkuaGEoKX1jYXRjaChlKXt0PW51bGx9cmV0dXJuIHR9KSxhLFJyKF9yKSxyKX1mdW5jdGlvbiBlZih0LGUsbixpKXt0OntuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pO2Zvcih2YXIgcj0wLG89ITEsYT0wO2E8ZS5sZW5ndGg7YSsrKWlmKGVbYV0ub3B0aW9uYWwpbz0hMDtlbHNle2lmKG8pdGhyb3cgbmV3IFFpKCJpbnRlcm5hbC1lcnJvciIsIkFyZ3VtZW50IHZhbGlkYXRvciBlbmNvdW50ZXJlZCBhIHJlcXVpcmVkIGFyZ3VtZW50IGFmdGVyIGFuIG9wdGlvbmFsIGFyZ3VtZW50LiIpO3IrK31pZihvPWUubGVuZ3RoLG4ubGVuZ3RoPHJ8fG88bi5sZW5ndGgpaT0iRXhwZWN0ZWQgIisocj09bz8xPT1yPyIxIGFyZ3VtZW50IjpyKyIgYXJndW1lbnRzIjpyKyItIitvKyIgYXJndW1lbnRzIikrIiBidXQgZ290ICIrbi5sZW5ndGgrIi4iO2Vsc2V7Zm9yKHI9MDtyPG4ubGVuZ3RoO3IrKylpZihvPWVbcl0ub3B0aW9uYWwmJnZvaWQgMD09PW5bcl0sIWVbcl0uTihuW3JdKSYmIW8pe2lmKGU9ZVtyXSwwPnJ8fHI+PW5mLmxlbmd0aCl0aHJvdyBuZXcgUWkoImludGVybmFsLWVycm9yIiwiQXJndW1lbnQgdmFsaWRhdG9yIHJlY2VpdmVkIGFuIHVuc3VwcG9ydGVkIG51bWJlciBvZiBhcmd1bWVudHMuIik7bj1uZltyXSxpPShpPyIiOm4rIiBhcmd1bWVudCAiKSsoZS5uYW1lPyciJytlLm5hbWUrJyIgJzoiIikrIm11c3QgYmUgIitlLk0rIi4iO2JyZWFrIHR9aT1udWxsfX1pZihpKXRocm93IG5ldyBRaSgiYXJndW1lbnQtZXJyb3IiLHQrIiBmYWlsZWQ6ICIraSl9KGU9V2gucHJvdG90eXBlKS5EYT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuZj90aGlzLmY6dGhpcy5mPVpoKHRoaXMsUXQoKS50aGVuKChmdW5jdGlvbigpe2lmKEVpKCkmJiFmaSgpKXJldHVybiB1aSgpO3Rocm93IG5ldyBRaSgib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudCIsIlJlY2FwdGNoYVZlcmlmaWVyIGlzIG9ubHkgc3VwcG9ydGVkIGluIGEgYnJvd3NlciBIVFRQL0hUVFBTIGVudmlyb25tZW50LiIpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQubS5nKHQudigpKX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gdC5nPWUsUnModC5vLGdzLHt9KX0pKS50aGVuKChmdW5jdGlvbihlKXt0LmFbWWhdPWUucmVjYXB0Y2hhU2l0ZUtleX0pKS5zKChmdW5jdGlvbihlKXt0aHJvdyB0LmY9bnVsbCxlfSkpKX0sZS5yZW5kZXI9ZnVuY3Rpb24oKXtRaCh0aGlzKTt2YXIgdD10aGlzO3JldHVybiBaaCh0aGlzLHRoaXMuRGEoKS50aGVuKChmdW5jdGlvbigpe2lmKG51bGw9PT10LmMpe3ZhciBlPXQudTtpZighdC5pKXt2YXIgbj1CbihlKTtlPVhuKCJESVYiKSxuLmFwcGVuZENoaWxkKGUpfXQuYz10LmcucmVuZGVyKGUsdC5hKX1yZXR1cm4gdC5jfSkpKX0sZS52ZXJpZnk9ZnVuY3Rpb24oKXtRaCh0aGlzKTt2YXIgdD10aGlzO3JldHVybiBaaCh0aGlzLHRoaXMucmVuZGVyKCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBXdCgoZnVuY3Rpb24obil7dmFyIGk9dC5nLmdldFJlc3BvbnNlKGUpO2lmKGkpbihpKTtlbHNle3ZhciByPWZ1bmN0aW9uKGUpe2UmJihmdW5jdGlvbih0LGUpe0codC5sLChmdW5jdGlvbih0KXtyZXR1cm4gdD09ZX0pKX0odCxyKSxuKGUpKX07dC5sLnB1c2gociksdC5pJiZ0LmcuZXhlY3V0ZSh0LmMpfX0pKX0pKSl9LGUucmVzZXQ9ZnVuY3Rpb24oKXtRaCh0aGlzKSxudWxsIT09dGhpcy5jJiZ0aGlzLmcucmVzZXQodGhpcy5jKX0sZS5jbGVhcj1mdW5jdGlvbigpe1FoKHRoaXMpLHRoaXMuQj0hMCx0aGlzLm0uYygpO2Zvcih2YXIgdD0wO3Q8dGhpcy5oLmxlbmd0aDt0KyspdGhpcy5oW3RdLmNhbmNlbCgiUmVjYXB0Y2hhVmVyaWZpZXIgaW5zdGFuY2UgaGFzIGJlZW4gZGVzdHJveWVkLiIpO2lmKCF0aGlzLmkpe3Q9Qm4odGhpcy51KTtmb3IodmFyIGU7ZT10LmZpcnN0Q2hpbGQ7KXQucmVtb3ZlQ2hpbGQoZSl9fSxOKHRmLFdoKTt2YXIgbmY9IkZpcnN0IFNlY29uZCBUaGlyZCBGb3VydGggRmlmdGggU2l4dGggU2V2ZW50aCBFaWdodGggTmludGgiLnNwbGl0KCIgIik7ZnVuY3Rpb24gcmYodCxlKXtyZXR1cm57bmFtZTp0fHwiIixNOiJhIHZhbGlkIHN0cmluZyIsb3B0aW9uYWw6ISFlLE46Y319ZnVuY3Rpb24gb2YodCxlKXtyZXR1cm57bmFtZTp0fHwiIixNOiJhIGJvb2xlYW4iLG9wdGlvbmFsOiEhZSxOOmh9fWZ1bmN0aW9uIGFmKHQsZSl7cmV0dXJue25hbWU6dHx8IiIsTToiYSB2YWxpZCBvYmplY3QiLG9wdGlvbmFsOiEhZSxOOnl9fWZ1bmN0aW9uIHNmKHQsZSl7cmV0dXJue25hbWU6dHx8IiIsTToiYSBmdW5jdGlvbiIsb3B0aW9uYWw6ISFlLE46Yn19ZnVuY3Rpb24gdWYodCxlKXtyZXR1cm57bmFtZTp0fHwiIixNOiJudWxsIixvcHRpb25hbDohIWUsTjp2fX1mdW5jdGlvbiBjZih0KXtyZXR1cm57bmFtZTp0P3QrIkNyZWRlbnRpYWwiOiJjcmVkZW50aWFsIixNOnQ/ImEgdmFsaWQgIit0KyIgY3JlZGVudGlhbCI6ImEgdmFsaWQgY3JlZGVudGlhbCIsb3B0aW9uYWw6ITEsTjpmdW5jdGlvbihlKXtpZighZSlyZXR1cm4hMTt2YXIgbj0hdHx8ZS5wcm92aWRlcklkPT09dDtyZXR1cm4hKCFlLm5hfHwhbil9fX1mdW5jdGlvbiBoZigpe3JldHVybntuYW1lOiJhcHBsaWNhdGlvblZlcmlmaWVyIixNOiJhbiBpbXBsZW1lbnRhdGlvbiBvZiBmaXJlYmFzZS5hdXRoLkFwcGxpY2F0aW9uVmVyaWZpZXIiLG9wdGlvbmFsOiExLE46ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmYyh0LnR5cGUpJiZiKHQudmVyaWZ5KSl9fX1mdW5jdGlvbiBmZih0LGUsbixpKXtyZXR1cm57bmFtZTpufHwiIixNOnQuTSsiIG9yICIrZS5NLG9wdGlvbmFsOiEhaSxOOmZ1bmN0aW9uKG4pe3JldHVybiB0Lk4obil8fGUuTihuKX19fWZ1bmN0aW9uIGxmKHQsZSl7Zm9yKHZhciBuIGluIGUpe3ZhciBpPWVbbl0ubmFtZTt0W2ldPXZmKGksdFtuXSxlW25dLmopfX1mdW5jdGlvbiBkZih0LGUpe2Zvcih2YXIgbiBpbiBlKXt2YXIgaT1lW25dLm5hbWU7aSE9PW4mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGkse2dldDpBKChmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1t0XX0pLG4pLHNldDpBKChmdW5jdGlvbih0LGUsbixpKXtlZih0LFtuXSxbaV0sITApLHRoaXNbZV09aX0pLGksbixlW25dLlphKSxlbnVtZXJhYmxlOiEwfSl9fWZ1bmN0aW9uIHBmKHQsZSxuLGkpe3RbZV09dmYoZSxuLGkpfWZ1bmN0aW9uIHZmKHQsZSxuKXtmdW5jdGlvbiBpKCl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gZWYobyxuLHQpLGUuYXBwbHkodGhpcyx0KX1pZighbilyZXR1cm4gZTt2YXIgcixvPWZ1bmN0aW9uKHQpe3JldHVybih0PXQuc3BsaXQoIi4iKSlbdC5sZW5ndGgtMV19KHQpO2ZvcihyIGluIGUpaVtyXT1lW3JdO2ZvcihyIGluIGUucHJvdG90eXBlKWkucHJvdG90eXBlW3JdPWUucHJvdG90eXBlW3JdO3JldHVybiBpfWxmKHdoLnByb3RvdHlwZSx7WWE6e25hbWU6ImFwcGx5QWN0aW9uQ29kZSIsajpbcmYoImNvZGUiKV19LE1hOntuYW1lOiJjaGVja0FjdGlvbkNvZGUiLGo6W3JmKCJjb2RlIildfSxhYjp7bmFtZToiY29uZmlybVBhc3N3b3JkUmVzZXQiLGo6W3JmKCJjb2RlIikscmYoIm5ld1Bhc3N3b3JkIildfSxYYjp7bmFtZToiY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkIixqOltyZigiZW1haWwiKSxyZigicGFzc3dvcmQiKV19LCRiOntuYW1lOiJmZXRjaFNpZ25Jbk1ldGhvZHNGb3JFbWFpbCIsajpbcmYoImVtYWlsIildfSxvYTp7bmFtZToiZ2V0UmVkaXJlY3RSZXN1bHQiLGo6W119LHFjOntuYW1lOiJpc1NpZ25JbldpdGhFbWFpbExpbmsiLGo6W3JmKCJlbWFpbExpbmsiKV19LHdjOntuYW1lOiJvbkF1dGhTdGF0ZUNoYW5nZWQiLGo6W2ZmKGFmKCksc2YoKSwibmV4dE9yT2JzZXJ2ZXIiKSxzZigib3B0X2Vycm9yIiwhMCksc2YoIm9wdF9jb21wbGV0ZWQiLCEwKV19LHhjOntuYW1lOiJvbklkVG9rZW5DaGFuZ2VkIixqOltmZihhZigpLHNmKCksIm5leHRPck9ic2VydmVyIiksc2YoIm9wdF9lcnJvciIsITApLHNmKCJvcHRfY29tcGxldGVkIiwhMCldfSxrYjp7bmFtZToic2VuZFBhc3N3b3JkUmVzZXRFbWFpbCIsajpbcmYoImVtYWlsIiksZmYoYWYoIm9wdF9hY3Rpb25Db2RlU2V0dGluZ3MiLCEwKSx1ZihudWxsLCEwKSwib3B0X2FjdGlvbkNvZGVTZXR0aW5ncyIsITApXX0sbGI6e25hbWU6InNlbmRTaWduSW5MaW5rVG9FbWFpbCIsajpbcmYoImVtYWlsIiksYWYoImFjdGlvbkNvZGVTZXR0aW5ncyIpXX0sbWI6e25hbWU6InNldFBlcnNpc3RlbmNlIixqOltyZigicGVyc2lzdGVuY2UiKV19LEdjOntuYW1lOiJzaWduSW5BbmRSZXRyaWV2ZURhdGFXaXRoQ3JlZGVudGlhbCIsajpbY2YoKV19LG9iOntuYW1lOiJzaWduSW5Bbm9ueW1vdXNseSIsajpbXX0sU2E6e25hbWU6InNpZ25JbldpdGhDcmVkZW50aWFsIixqOltjZigpXX0sSGM6e25hbWU6InNpZ25JbldpdGhDdXN0b21Ub2tlbiIsajpbcmYoInRva2VuIildfSxJYzp7bmFtZToic2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQiLGo6W3JmKCJlbWFpbCIpLHJmKCJwYXNzd29yZCIpXX0sSmM6e25hbWU6InNpZ25JbldpdGhFbWFpbExpbmsiLGo6W3JmKCJlbWFpbCIpLHJmKCJlbWFpbExpbmsiLCEwKV19LEtjOntuYW1lOiJzaWduSW5XaXRoUGhvbmVOdW1iZXIiLGo6W3JmKCJwaG9uZU51bWJlciIpLGhmKCldfSxMYzp7bmFtZToic2lnbkluV2l0aFBvcHVwIixqOlt7bmFtZToiYXV0aFByb3ZpZGVyIixNOiJhIHZhbGlkIEF1dGggcHJvdmlkZXIiLG9wdGlvbmFsOiExLE46ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmdC5wcm92aWRlcklkJiZ0Lmhhc093blByb3BlcnR5JiZ0Lmhhc093blByb3BlcnR5KCJpc09BdXRoUHJvdmlkZXIiKSl9fV19LE1jOntuYW1lOiJzaWduSW5XaXRoUmVkaXJlY3QiLGo6W3tuYW1lOiJhdXRoUHJvdmlkZXIiLE06ImEgdmFsaWQgQXV0aCBwcm92aWRlciIsb3B0aW9uYWw6ITEsTjpmdW5jdGlvbih0KXtyZXR1cm4hISh0JiZ0LnByb3ZpZGVySWQmJnQuaGFzT3duUHJvcGVydHkmJnQuaGFzT3duUHJvcGVydHkoImlzT0F1dGhQcm92aWRlciIpKX19XX0sUmM6e25hbWU6InVwZGF0ZUN1cnJlbnRVc2VyIixqOltmZih7bmFtZToidXNlciIsTToiYW4gaW5zdGFuY2Ugb2YgRmlyZWJhc2UgVXNlciIsb3B0aW9uYWw6ITEsTjpmdW5jdGlvbih0KXtyZXR1cm4hISh0JiZ0IGluc3RhbmNlb2YgeGMpfX0sdWYoKSwidXNlciIpXX0scGI6e25hbWU6InNpZ25PdXQiLGo6W119LHRvSlNPTjp7bmFtZToidG9KU09OIixqOltyZihudWxsLCEwKV19LFRjOntuYW1lOiJ1c2VEZXZpY2VMYW5ndWFnZSIsajpbXX0sVWM6e25hbWU6InZlcmlmeVBhc3N3b3JkUmVzZXRDb2RlIixqOltyZigiY29kZSIpXX19KSxkZih3aC5wcm90b3R5cGUse2xjOntuYW1lOiJsYW5ndWFnZUNvZGUiLFphOmZmKHJmKCksdWYoKSwibGFuZ3VhZ2VDb2RlIil9LHRpOntuYW1lOiJ0ZW5hbnRJZCIsWmE6ZmYocmYoKSx1ZigpLCJ0ZW5hbnRJZCIpfX0pLHdoLlBlcnNpc3RlbmNlPVN1LHdoLlBlcnNpc3RlbmNlLkxPQ0FMPSJsb2NhbCIsd2guUGVyc2lzdGVuY2UuU0VTU0lPTj0ic2Vzc2lvbiIsd2guUGVyc2lzdGVuY2UuTk9ORT0ibm9uZSIsbGYoeGMucHJvdG90eXBlLHtkZWxldGU6e25hbWU6ImRlbGV0ZSIsajpbXX0sZGM6e25hbWU6ImdldElkVG9rZW5SZXN1bHQiLGo6W29mKCJvcHRfZm9yY2VSZWZyZXNoIiwhMCldfSxHOntuYW1lOiJnZXRJZFRva2VuIixqOltvZigib3B0X2ZvcmNlUmVmcmVzaCIsITApXX0scmM6e25hbWU6ImxpbmtBbmRSZXRyaWV2ZURhdGFXaXRoQ3JlZGVudGlhbCIsajpbY2YoKV19LGZiOntuYW1lOiJsaW5rV2l0aENyZWRlbnRpYWwiLGo6W2NmKCldfSxzYzp7bmFtZToibGlua1dpdGhQaG9uZU51bWJlciIsajpbcmYoInBob25lTnVtYmVyIiksaGYoKV19LHRjOntuYW1lOiJsaW5rV2l0aFBvcHVwIixqOlt7bmFtZToiYXV0aFByb3ZpZGVyIixNOiJhIHZhbGlkIEF1dGggcHJvdmlkZXIiLG9wdGlvbmFsOiExLE46ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmdC5wcm92aWRlcklkJiZ0Lmhhc093blByb3BlcnR5JiZ0Lmhhc093blByb3BlcnR5KCJpc09BdXRoUHJvdmlkZXIiKSl9fV19LHVjOntuYW1lOiJsaW5rV2l0aFJlZGlyZWN0IixqOlt7bmFtZToiYXV0aFByb3ZpZGVyIixNOiJhIHZhbGlkIEF1dGggcHJvdmlkZXIiLG9wdGlvbmFsOiExLE46ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmdC5wcm92aWRlcklkJiZ0Lmhhc093blByb3BlcnR5JiZ0Lmhhc093blByb3BlcnR5KCJpc09BdXRoUHJvdmlkZXIiKSl9fV19LEFjOntuYW1lOiJyZWF1dGhlbnRpY2F0ZUFuZFJldHJpZXZlRGF0YVdpdGhDcmVkZW50aWFsIixqOltjZigpXX0saGI6e25hbWU6InJlYXV0aGVudGljYXRlV2l0aENyZWRlbnRpYWwiLGo6W2NmKCldfSxCYzp7bmFtZToicmVhdXRoZW50aWNhdGVXaXRoUGhvbmVOdW1iZXIiLGo6W3JmKCJwaG9uZU51bWJlciIpLGhmKCldfSxDYzp7bmFtZToicmVhdXRoZW50aWNhdGVXaXRoUG9wdXAiLGo6W3tuYW1lOiJhdXRoUHJvdmlkZXIiLE06ImEgdmFsaWQgQXV0aCBwcm92aWRlciIsb3B0aW9uYWw6ITEsTjpmdW5jdGlvbih0KXtyZXR1cm4hISh0JiZ0LnByb3ZpZGVySWQmJnQuaGFzT3duUHJvcGVydHkmJnQuaGFzT3duUHJvcGVydHkoImlzT0F1dGhQcm92aWRlciIpKX19XX0sRGM6e25hbWU6InJlYXV0aGVudGljYXRlV2l0aFJlZGlyZWN0IixqOlt7bmFtZToiYXV0aFByb3ZpZGVyIixNOiJhIHZhbGlkIEF1dGggcHJvdmlkZXIiLG9wdGlvbmFsOiExLE46ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmdC5wcm92aWRlcklkJiZ0Lmhhc093blByb3BlcnR5JiZ0Lmhhc093blByb3BlcnR5KCJpc09BdXRoUHJvdmlkZXIiKSl9fV19LHJlbG9hZDp7bmFtZToicmVsb2FkIixqOltdfSxqYjp7bmFtZToic2VuZEVtYWlsVmVyaWZpY2F0aW9uIixqOltmZihhZigib3B0X2FjdGlvbkNvZGVTZXR0aW5ncyIsITApLHVmKG51bGwsITApLCJvcHRfYWN0aW9uQ29kZVNldHRpbmdzIiwhMCldfSx0b0pTT046e25hbWU6InRvSlNPTiIsajpbcmYobnVsbCwhMCldfSxRYzp7bmFtZToidW5saW5rIixqOltyZigicHJvdmlkZXIiKV19LHJiOntuYW1lOiJ1cGRhdGVFbWFpbCIsajpbcmYoImVtYWlsIildfSxzYjp7bmFtZToidXBkYXRlUGFzc3dvcmQiLGo6W3JmKCJwYXNzd29yZCIpXX0sU2M6e25hbWU6InVwZGF0ZVBob25lTnVtYmVyIixqOltjZigicGhvbmUiKV19LHRiOntuYW1lOiJ1cGRhdGVQcm9maWxlIixqOlthZigicHJvZmlsZSIpXX19KSxsZihMaC5wcm90b3R5cGUse2V4ZWN1dGU6e25hbWU6ImV4ZWN1dGUifSxyZW5kZXI6e25hbWU6InJlbmRlciJ9LHJlc2V0OntuYW1lOiJyZXNldCJ9LGdldFJlc3BvbnNlOntuYW1lOiJnZXRSZXNwb25zZSJ9fSksbGYoRGgucHJvdG90eXBlLHtleGVjdXRlOntuYW1lOiJleGVjdXRlIn0scmVuZGVyOntuYW1lOiJyZW5kZXIifSxyZXNldDp7bmFtZToicmVzZXQifSxnZXRSZXNwb25zZTp7bmFtZToiZ2V0UmVzcG9uc2UifX0pLGxmKFd0LnByb3RvdHlwZSx7a2E6e25hbWU6ImZpbmFsbHkifSxzOntuYW1lOiJjYXRjaCJ9LHRoZW46e25hbWU6InRoZW4ifX0pLGRmKEVjLnByb3RvdHlwZSx7YXBwVmVyaWZpY2F0aW9uRGlzYWJsZWQ6e25hbWU6ImFwcFZlcmlmaWNhdGlvbkRpc2FibGVkRm9yVGVzdGluZyIsWmE6b2YoImFwcFZlcmlmaWNhdGlvbkRpc2FibGVkRm9yVGVzdGluZyIpfX0pLGxmKGtjLnByb3RvdHlwZSx7Y29uZmlybTp7bmFtZToiY29uZmlybSIsajpbcmYoInZlcmlmaWNhdGlvbkNvZGUiKV19fSkscGYoV3IsImZyb21KU09OIiwoZnVuY3Rpb24odCl7dD1jKHQpP0pTT04ucGFyc2UodCk6dDtmb3IodmFyIGUsbj1bUXIsbG8sYm8senJdLGk9MDtpPG4ubGVuZ3RoO2krKylpZihlPW5baV0odCkpcmV0dXJuIGU7cmV0dXJuIG51bGx9KSxbZmYocmYoKSxhZigpLCJqc29uIildKSxwZihwbywiY3JlZGVudGlhbCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBmbyh0LGUpfSksW3JmKCJlbWFpbCIpLHJmKCJwYXNzd29yZCIpXSksbGYoZm8ucHJvdG90eXBlLHtBOntuYW1lOiJ0b0pTT04iLGo6W3JmKG51bGwsITApXX19KSxsZihpby5wcm90b3R5cGUse3lhOntuYW1lOiJhZGRTY29wZSIsajpbcmYoInNjb3BlIildfSxHYTp7bmFtZToic2V0Q3VzdG9tUGFyYW1ldGVycyIsajpbYWYoImN1c3RvbU9BdXRoUGFyYW1ldGVycyIpXX19KSxwZihpbywiY3JlZGVudGlhbCIscm8sW2ZmKHJmKCksYWYoKSwidG9rZW4iKV0pLHBmKHBvLCJjcmVkZW50aWFsV2l0aExpbmsiLHZvLFtyZigiZW1haWwiKSxyZigiZW1haWxMaW5rIildKSxsZihvby5wcm90b3R5cGUse3lhOntuYW1lOiJhZGRTY29wZSIsajpbcmYoInNjb3BlIildfSxHYTp7bmFtZToic2V0Q3VzdG9tUGFyYW1ldGVycyIsajpbYWYoImN1c3RvbU9BdXRoUGFyYW1ldGVycyIpXX19KSxwZihvbywiY3JlZGVudGlhbCIsYW8sW2ZmKHJmKCksYWYoKSwidG9rZW4iKV0pLGxmKHNvLnByb3RvdHlwZSx7eWE6e25hbWU6ImFkZFNjb3BlIixqOltyZigic2NvcGUiKV19LEdhOntuYW1lOiJzZXRDdXN0b21QYXJhbWV0ZXJzIixqOlthZigiY3VzdG9tT0F1dGhQYXJhbWV0ZXJzIildfX0pLHBmKHNvLCJjcmVkZW50aWFsIix1byxbZmYocmYoKSxmZihhZigpLHVmKCkpLCJpZFRva2VuIiksZmYocmYoKSx1ZigpLCJhY2Nlc3NUb2tlbiIsITApXSksbGYoY28ucHJvdG90eXBlLHtHYTp7bmFtZToic2V0Q3VzdG9tUGFyYW1ldGVycyIsajpbYWYoImN1c3RvbU9BdXRoUGFyYW1ldGVycyIpXX19KSxwZihjbywiY3JlZGVudGlhbCIsaG8sW2ZmKHJmKCksYWYoKSwidG9rZW4iKSxyZigic2VjcmV0IiwhMCldKSxsZihuby5wcm90b3R5cGUse3lhOntuYW1lOiJhZGRTY29wZSIsajpbcmYoInNjb3BlIildfSxjcmVkZW50aWFsOntuYW1lOiJjcmVkZW50aWFsIixqOltmZihyZigpLGZmKGFmKCksdWYoKSksIm9wdGlvbnNPcklkVG9rZW4iKSxmZihyZigpLHVmKCksImFjY2Vzc1Rva2VuIiwhMCldfSxHYTp7bmFtZToic2V0Q3VzdG9tUGFyYW1ldGVycyIsajpbYWYoImN1c3RvbU9BdXRoUGFyYW1ldGVycyIpXX19KSxsZigkci5wcm90b3R5cGUse0E6e25hbWU6InRvSlNPTiIsajpbcmYobnVsbCwhMCldfX0pLGxmKEpyLnByb3RvdHlwZSx7QTp7bmFtZToidG9KU09OIixqOltyZihudWxsLCEwKV19fSkscGYod28sImNyZWRlbnRpYWwiLElvLFtyZigidmVyaWZpY2F0aW9uSWQiKSxyZigidmVyaWZpY2F0aW9uQ29kZSIpXSksbGYod28ucHJvdG90eXBlLHtXYTp7bmFtZToidmVyaWZ5UGhvbmVOdW1iZXIiLGo6W3JmKCJwaG9uZU51bWJlciIpLGhmKCldfX0pLGxmKGdvLnByb3RvdHlwZSx7QTp7bmFtZToidG9KU09OIixqOltyZihudWxsLCEwKV19fSksbGYoUWkucHJvdG90eXBlLHt0b0pTT046e25hbWU6InRvSlNPTiIsajpbcmYobnVsbCwhMCldfX0pLGxmKFBvLnByb3RvdHlwZSx7dG9KU09OOntuYW1lOiJ0b0pTT04iLGo6W3JmKG51bGwsITApXX19KSxsZihfby5wcm90b3R5cGUse3RvSlNPTjp7bmFtZToidG9KU09OIixqOltyZihudWxsLCEwKV19fSksbGYodGYucHJvdG90eXBlLHtjbGVhcjp7bmFtZToiY2xlYXIiLGo6W119LHJlbmRlcjp7bmFtZToicmVuZGVyIixqOltdfSx2ZXJpZnk6e25hbWU6InZlcmlmeSIsajpbXX19KSxwZihpciwicGFyc2VMaW5rIixmcixbcmYoImxpbmsiKV0pLGZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PT10eXBlb2YgaS5hfHwhaS5hLklOVEVSTkFMfHwhaS5hLklOVEVSTkFMLnJlZ2lzdGVyQ29tcG9uZW50KXRocm93IEVycm9yKCJDYW5ub3QgZmluZCB0aGUgZmlyZWJhc2UgbmFtZXNwYWNlOyBiZSBzdXJlIHRvIGluY2x1ZGUgZmlyZWJhc2UtYXBwLmpzIGJlZm9yZSB0aGlzIGxpYnJhcnkuIik7dmFyIHQ9e0FjdGlvbkNvZGVJbmZvOntPcGVyYXRpb246e0VNQUlMX1NJR05JTjpHaSxQQVNTV09SRF9SRVNFVDoiUEFTU1dPUkRfUkVTRVQiLFJFQ09WRVJfRU1BSUw6IlJFQ09WRVJfRU1BSUwiLFZFUklGWV9FTUFJTDoiVkVSSUZZX0VNQUlMIn19LEF1dGg6d2gsQXV0aENyZWRlbnRpYWw6V3IsRXJyb3I6UWl9O3BmKHQsIkVtYWlsQXV0aFByb3ZpZGVyIixwbyxbXSkscGYodCwiRmFjZWJvb2tBdXRoUHJvdmlkZXIiLGlvLFtdKSxwZih0LCJHaXRodWJBdXRoUHJvdmlkZXIiLG9vLFtdKSxwZih0LCJHb29nbGVBdXRoUHJvdmlkZXIiLHNvLFtdKSxwZih0LCJUd2l0dGVyQXV0aFByb3ZpZGVyIixjbyxbXSkscGYodCwiT0F1dGhQcm92aWRlciIsbm8sW3JmKCJwcm92aWRlcklkIildKSxwZih0LCJTQU1MQXV0aFByb3ZpZGVyIixlbyxbcmYoInByb3ZpZGVySWQiKV0pLHBmKHQsIlBob25lQXV0aFByb3ZpZGVyIix3byxbe25hbWU6ImF1dGgiLE06ImFuIGluc3RhbmNlIG9mIEZpcmViYXNlIEF1dGgiLG9wdGlvbmFsOiEwLE46ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmdCBpbnN0YW5jZW9mIHdoKX19XSkscGYodCwiUmVjYXB0Y2hhVmVyaWZpZXIiLHRmLFtmZihyZigpLHtuYW1lOiIiLE06ImFuIEhUTUwgZWxlbWVudCIsb3B0aW9uYWw6ITEsTjpmdW5jdGlvbih0KXtyZXR1cm4hISh0JiZ0IGluc3RhbmNlb2YgRWxlbWVudCl9fSwicmVjYXB0Y2hhQ29udGFpbmVyIiksYWYoInJlY2FwdGNoYVBhcmFtZXRlcnMiLCEwKSx7bmFtZToiYXBwIixNOiJhbiBpbnN0YW5jZSBvZiBGaXJlYmFzZSBBcHAiLG9wdGlvbmFsOiEwLE46ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmdCBpbnN0YW5jZW9mIGkuYS5hcHAuQXBwKX19XSkscGYodCwiQWN0aW9uQ29kZVVSTCIsaXIsW10pLGkuYS5JTlRFUk5BTC5yZWdpc3RlckNvbXBvbmVudCh7bmFtZToiYXV0aCIsaW5zdGFuY2VGYWN0b3J5OmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgd2godD10LmdldFByb3ZpZGVyKCJhcHAiKS5nZXRJbW1lZGlhdGUoKSl9LG11bHRpcGxlSW5zdGFuY2VzOiExLHNlcnZpY2VQcm9wczp0LGluc3RhbnRpYXRpb25Nb2RlOiJMQVpZIix0eXBlOiJQVUJMSUMifSksaS5hLklOVEVSTkFMLnJlZ2lzdGVyQ29tcG9uZW50KHtuYW1lOiJhdXRoLWludGVybmFsIixpbnN0YW5jZUZhY3Rvcnk6ZnVuY3Rpb24odCl7cmV0dXJue2dldFVpZDprKCh0PXQuZ2V0UHJvdmlkZXIoImF1dGgiKS5nZXRJbW1lZGlhdGUoKSkuZ2V0VWlkLHQpLGdldFRva2VuOmsodC5jYyx0KSxhZGRBdXRoVG9rZW5MaXN0ZW5lcjprKHQuV2IsdCkscmVtb3ZlQXV0aFRva2VuTGlzdGVuZXI6ayh0LkVjLHQpfX0sbXVsdGlwbGVJbnN0YW5jZXM6ITEsaW5zdGFudGlhdGlvbk1vZGU6IkxBWlkiLHR5cGU6IlBSSVZBVEUifSksaS5hLnJlZ2lzdGVyVmVyc2lvbigiQGZpcmViYXNlL2F1dGgiLCIwLjEzLjUiKSxpLmEuSU5URVJOQUwuZXh0ZW5kTmFtZXNwYWNlKHtVc2VyOnhjfSl9KCl9KS5hcHBseSgidW5kZWZpbmVkIiE9PXR5cGVvZiB0P3Q6InVuZGVmaW5lZCIhPT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSkuY2FsbCh0aGlzLG4oInlMcGoiKSl9fV0pOw==" async=""></script><script src="data:application/javascript;charset=UTF-8;base64,KHdpbmRvdy53ZWJwYWNrSnNvbnA9d2luZG93LndlYnBhY2tKc29ucHx8W10pLnB1c2goW1szXSx7IjZuc04iOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bigidDZvRiIpfSwiOG94QiI6ZnVuY3Rpb24odCxlKXt2YXIgbixyLGk9dC5leHBvcnRzPXt9O2Z1bmN0aW9uIG8oKXt0aHJvdyBuZXcgRXJyb3IoInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBhKCl7dGhyb3cgbmV3IEVycm9yKCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBzKHQpe2lmKG49PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KHQsMCk7aWYoKG49PT1vfHwhbikmJnNldFRpbWVvdXQpcmV0dXJuIG49c2V0VGltZW91dCxzZXRUaW1lb3V0KHQsMCk7dHJ5e3JldHVybiBuKHQsMCl9Y2F0Y2goZSl7dHJ5e3JldHVybiBuLmNhbGwobnVsbCx0LDApfWNhdGNoKGUpe3JldHVybiBuLmNhbGwodGhpcyx0LDApfX19IWZ1bmN0aW9uKCl7dHJ5e249ImZ1bmN0aW9uIj09PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6b31jYXRjaCh0KXtuPW99dHJ5e3I9ImZ1bmN0aW9uIj09PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OmF9Y2F0Y2godCl7cj1hfX0oKTt2YXIgdSxjPVtdLGg9ITEsbD0tMTtmdW5jdGlvbiBmKCl7aCYmdSYmKGg9ITEsdS5sZW5ndGg/Yz11LmNvbmNhdChjKTpsPS0xLGMubGVuZ3RoJiZwKCkpfWZ1bmN0aW9uIHAoKXtpZighaCl7dmFyIHQ9cyhmKTtoPSEwO2Zvcih2YXIgZT1jLmxlbmd0aDtlOyl7Zm9yKHU9YyxjPVtdOysrbDxlOyl1JiZ1W2xdLnJ1bigpO2w9LTEsZT1jLmxlbmd0aH11PW51bGwsaD0hMSxmdW5jdGlvbih0KXtpZihyPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQodCk7aWYoKHI9PT1hfHwhcikmJmNsZWFyVGltZW91dClyZXR1cm4gcj1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KHQpO3RyeXtyKHQpfWNhdGNoKGUpe3RyeXtyZXR1cm4gci5jYWxsKG51bGwsdCl9Y2F0Y2goZSl7cmV0dXJuIHIuY2FsbCh0aGlzLHQpfX19KHQpfX1mdW5jdGlvbiBkKHQsZSl7dGhpcy5mdW49dCx0aGlzLmFycmF5PWV9ZnVuY3Rpb24gdigpe31pLm5leHRUaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07Yy5wdXNoKG5ldyBkKHQsZSkpLDEhPT1jLmxlbmd0aHx8aHx8cyhwKX0sZC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0saS50aXRsZT0iYnJvd3NlciIsaS5icm93c2VyPSEwLGkuZW52PXt9LGkuYXJndj1bXSxpLnZlcnNpb249IiIsaS52ZXJzaW9ucz17fSxpLm9uPXYsaS5hZGRMaXN0ZW5lcj12LGkub25jZT12LGkub2ZmPXYsaS5yZW1vdmVMaXN0ZW5lcj12LGkucmVtb3ZlQWxsTGlzdGVuZXJzPXYsaS5lbWl0PXYsaS5wcmVwZW5kTGlzdGVuZXI9dixpLnByZXBlbmRPbmNlTGlzdGVuZXI9dixpLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm5bXX0saS5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQiKX0saS5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm4iLyJ9LGkuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKX0saS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sQUJxYTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByLGk9KHI9bigid2ozQyIpKSYmIm9iamVjdCI9PT10eXBlb2YgciYmImRlZmF1bHQiaW4gcj9yLmRlZmF1bHQ6cixvPW4oIm1yU0ciKSxhPW4oIlMrUzAiKSxzPXtPSzoib2siLENBTkNFTExFRDoiY2FuY2VsbGVkIixVTktOT1dOOiJ1bmtub3duIixJTlZBTElEX0FSR1VNRU5UOiJpbnZhbGlkLWFyZ3VtZW50IixERUFETElORV9FWENFRURFRDoiZGVhZGxpbmUtZXhjZWVkZWQiLE5PVF9GT1VORDoibm90LWZvdW5kIixBTFJFQURZX0VYSVNUUzoiYWxyZWFkeS1leGlzdHMiLFBFUk1JU1NJT05fREVOSUVEOiJwZXJtaXNzaW9uLWRlbmllZCIsVU5BVVRIRU5USUNBVEVEOiJ1bmF1dGhlbnRpY2F0ZWQiLFJFU09VUkNFX0VYSEFVU1RFRDoicmVzb3VyY2UtZXhoYXVzdGVkIixGQUlMRURfUFJFQ09ORElUSU9OOiJmYWlsZWQtcHJlY29uZGl0aW9uIixBQk9SVEVEOiJhYm9ydGVkIixPVVRfT0ZfUkFOR0U6Im91dC1vZi1yYW5nZSIsVU5JTVBMRU1FTlRFRDoidW5pbXBsZW1lbnRlZCIsSU5URVJOQUw6ImludGVybmFsIixVTkFWQUlMQUJMRToidW5hdmFpbGFibGUiLERBVEFfTE9TUzoiZGF0YS1sb3NzIn0sdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKG4scixpKXt2YXIgbz10LmNhbGwodGhpcyxyKXx8dGhpcztyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sZS5wcm90b3R5cGUpLG8uY29kZT1uLG8uZGV0YWlscz1pLG99cmV0dXJuIG8uX19leHRlbmRzKGUsdCksZX0oRXJyb3IpO3ZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPXRoaXM7dGhpcy5hdXRoPW51bGwsdGhpcy5tZXNzYWdpbmc9bnVsbCx0aGlzLmF1dGg9dC5nZXRJbW1lZGlhdGUoe29wdGlvbmFsOiEwfSksdGhpcy5tZXNzYWdpbmc9ZS5nZXRJbW1lZGlhdGUoe29wdGlvbmFsOiEwfSksdGhpcy5hdXRofHx0LmdldCgpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBuLmF1dGg9dH0pLChmdW5jdGlvbigpe30pKSx0aGlzLm1lc3NhZ2luZ3x8ZS5nZXQoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gbi5tZXNzYWdpbmc9dH0pLChmdW5jdGlvbigpe30pKX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0QXV0aFRva2VuPWZ1bmN0aW9uKCl7cmV0dXJuIG8uX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gby5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOmlmKCF0aGlzLmF1dGgpcmV0dXJuWzIsdm9pZCAwXTtlLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBlLnRyeXMucHVzaChbMSwzLCw0XSksWzQsdGhpcy5hdXRoLmdldFRva2VuKCldO2Nhc2UgMjpyZXR1cm4odD1lLnNlbnQoKSk/WzIsdC5hY2Nlc3NUb2tlbl06WzIsdm9pZCAwXTtjYXNlIDM6cmV0dXJuIGUuc2VudCgpLFsyLHZvaWQgMF07Y2FzZSA0OnJldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLmdldEluc3RhbmNlSWRUb2tlbj1mdW5jdGlvbigpe3JldHVybiBvLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIG8uX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7aWYoIXRoaXMubWVzc2FnaW5nfHwhKCJOb3RpZmljYXRpb24iaW4gc2VsZil8fCJncmFudGVkIiE9PU5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uKXJldHVyblsyLHZvaWQgMF07dHJ5e3JldHVyblsyLHRoaXMubWVzc2FnaW5nLmdldFRva2VuKCldfWNhdGNoKGUpe3JldHVyblsyLHZvaWQgMF19cmV0dXJuWzJdfSkpfSkpfSx0LnByb3RvdHlwZS5nZXRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIG8uX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybiBvLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRBdXRoVG9rZW4oKV07Y2FzZSAxOnJldHVybiB0PW4uc2VudCgpLFs0LHRoaXMuZ2V0SW5zdGFuY2VJZFRva2VuKCldO2Nhc2UgMjpyZXR1cm4gZT1uLnNlbnQoKSxbMix7YXV0aFRva2VuOnQsaW5zdGFuY2VJZFRva2VuOmV9XX19KSl9KSl9LHR9KCk7ZnVuY3Rpb24gaCh0LGUpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJihuW3JdPWUodFtyXSkpO3JldHVybiBufXZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYobnVsbD09dClyZXR1cm4gbnVsbDtpZih0IGluc3RhbmNlb2YgTnVtYmVyJiYodD10LnZhbHVlT2YoKSksIm51bWJlciI9PT10eXBlb2YgdCYmaXNGaW5pdGUodCkpcmV0dXJuIHQ7aWYoITA9PT10fHwhMT09PXQpcmV0dXJuIHQ7aWYoIltvYmplY3QgU3RyaW5nXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmVuY29kZSh0KX0pKTtpZigiZnVuY3Rpb24iPT09dHlwZW9mIHR8fCJvYmplY3QiPT09dHlwZW9mIHQpcmV0dXJuIGgodCwoZnVuY3Rpb24odCl7cmV0dXJuIGUuZW5jb2RlKHQpfSkpO3Rocm93IG5ldyBFcnJvcigiRGF0YSBjYW5ub3QgYmUgZW5jb2RlZCBpbiBKU09OOiAiK3QpfSx0LnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZihudWxsPT10KXJldHVybiB0O2lmKHRbIkB0eXBlIl0pc3dpdGNoKHRbIkB0eXBlIl0pe2Nhc2UidHlwZS5nb29nbGVhcGlzLmNvbS9nb29nbGUucHJvdG9idWYuSW50NjRWYWx1ZSI6Y2FzZSJ0eXBlLmdvb2dsZWFwaXMuY29tL2dvb2dsZS5wcm90b2J1Zi5VSW50NjRWYWx1ZSI6dmFyIG49TnVtYmVyKHQudmFsdWUpO2lmKGlzTmFOKG4pKXRocm93IG5ldyBFcnJvcigiRGF0YSBjYW5ub3QgYmUgZGVjb2RlZCBmcm9tIEpTT046ICIrdCk7cmV0dXJuIG47ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkRhdGEgY2Fubm90IGJlIGRlY29kZWQgZnJvbSBKU09OOiAiK3QpfXJldHVybiBBcnJheS5pc0FycmF5KHQpP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS5kZWNvZGUodCl9KSk6ImZ1bmN0aW9uIj09PXR5cGVvZiB0fHwib2JqZWN0Ij09PXR5cGVvZiB0P2godCwoZnVuY3Rpb24odCl7cmV0dXJuIGUuZGVjb2RlKHQpfSkpOnR9LHR9KCk7dmFyIGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3ZhciBpPXRoaXM7dm9pZCAwPT09ciYmKHI9InVzLWNlbnRyYWwxIiksdGhpcy5hcHBfPXQsdGhpcy5yZWdpb25fPXIsdGhpcy5zZXJpYWxpemVyPW5ldyBsLHRoaXMuZW11bGF0b3JPcmlnaW49bnVsbCx0aGlzLklOVEVSTkFMPXtkZWxldGU6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWxldGVTZXJ2aWNlKCl9fSx0aGlzLmNvbnRleHRQcm92aWRlcj1uZXcgYyhlLG4pLHRoaXMuY2FuY2VsQWxsUmVxdWVzdHM9bmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2kuZGVsZXRlU2VydmljZT1mdW5jdGlvbigpe3JldHVybiB0KCl9fSkpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImFwcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFwcF99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuX3VybD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmFwcF8ub3B0aW9ucy5wcm9qZWN0SWQsbj10aGlzLnJlZ2lvbl87cmV0dXJuIG51bGwhPT10aGlzLmVtdWxhdG9yT3JpZ2luP3RoaXMuZW11bGF0b3JPcmlnaW4rIi8iK2UrIi8iK24rIi8iK3Q6Imh0dHBzOi8vIituKyItIitlKyIuY2xvdWRmdW5jdGlvbnMubmV0LyIrdH0sdC5wcm90b3R5cGUudXNlRnVuY3Rpb25zRW11bGF0b3I9ZnVuY3Rpb24odCl7dGhpcy5lbXVsYXRvck9yaWdpbj10fSx0LnByb3RvdHlwZS5odHRwc0NhbGxhYmxlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIG4uY2FsbCh0LHIsZXx8e30pfX0sdC5wcm90b3R5cGUucG9zdEpTT049ZnVuY3Rpb24odCxlLG4pe3JldHVybiBvLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaTtyZXR1cm4gby5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOm4uYXBwZW5kKCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi9qc29uIiksby5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gby50cnlzLnB1c2goWzEsMywsNF0pLFs0LGZldGNoKHQse21ldGhvZDoiUE9TVCIsYm9keTpKU09OLnN0cmluZ2lmeShlKSxoZWFkZXJzOm59KV07Y2FzZSAyOnJldHVybiByPW8uc2VudCgpLFszLDRdO2Nhc2UgMzpyZXR1cm4gby5zZW50KCksWzIse3N0YXR1czowLGpzb246bnVsbH1dO2Nhc2UgNDppPW51bGwsby5sYWJlbD01O2Nhc2UgNTpyZXR1cm4gby50cnlzLnB1c2goWzUsNywsOF0pLFs0LHIuanNvbigpXTtjYXNlIDY6cmV0dXJuIGk9by5zZW50KCksWzMsOF07Y2FzZSA3OnJldHVybiBvLnNlbnQoKSxbMyw4XTtjYXNlIDg6cmV0dXJuWzIse3N0YXR1czpyLnN0YXR1cyxqc29uOml9XX19KSl9KSl9LHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBvLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaSxhLGMsaCxsLGYscDtyZXR1cm4gby5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybiByPXRoaXMuX3VybCh0KSxlPXRoaXMuc2VyaWFsaXplci5lbmNvZGUoZSksaT17ZGF0YTplfSxhPW5ldyBIZWFkZXJzLFs0LHRoaXMuY29udGV4dFByb3ZpZGVyLmdldENvbnRleHQoKV07Y2FzZSAxOnJldHVybihjPW8uc2VudCgpKS5hdXRoVG9rZW4mJmEuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwiQmVhcmVyICIrYy5hdXRoVG9rZW4pLGMuaW5zdGFuY2VJZFRva2VuJiZhLmFwcGVuZCgiRmlyZWJhc2UtSW5zdGFuY2UtSUQtVG9rZW4iLGMuaW5zdGFuY2VJZFRva2VuKSxoPW4udGltZW91dHx8N2U0LFs0LFByb21pc2UucmFjZShbdGhpcy5wb3N0SlNPTihyLGksYSksKGQ9aCxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxlKXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe2UobmV3IHUoImRlYWRsaW5lLWV4Y2VlZGVkIiwiZGVhZGxpbmUtZXhjZWVkZWQiKSl9KSxkKX0pKSksdGhpcy5jYW5jZWxBbGxSZXF1ZXN0c10pXTtjYXNlIDI6aWYoIShsPW8uc2VudCgpKSl0aHJvdyBuZXcgdSgiY2FuY2VsbGVkIiwiRmlyZWJhc2UgRnVuY3Rpb25zIGluc3RhbmNlIHdhcyBkZWxldGVkLiIpO2lmKGY9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQpe2lmKHQ+PTIwMCYmdDwzMDApcmV0dXJuIm9rIjtzd2l0Y2godCl7Y2FzZSAwOnJldHVybiJpbnRlcm5hbCI7Y2FzZSA0MDA6cmV0dXJuImludmFsaWQtYXJndW1lbnQiO2Nhc2UgNDAxOnJldHVybiJ1bmF1dGhlbnRpY2F0ZWQiO2Nhc2UgNDAzOnJldHVybiJwZXJtaXNzaW9uLWRlbmllZCI7Y2FzZSA0MDQ6cmV0dXJuIm5vdC1mb3VuZCI7Y2FzZSA0MDk6cmV0dXJuImFib3J0ZWQiO2Nhc2UgNDI5OnJldHVybiJyZXNvdXJjZS1leGhhdXN0ZWQiO2Nhc2UgNDk5OnJldHVybiJjYW5jZWxsZWQiO2Nhc2UgNTAwOnJldHVybiJpbnRlcm5hbCI7Y2FzZSA1MDE6cmV0dXJuInVuaW1wbGVtZW50ZWQiO2Nhc2UgNTAzOnJldHVybiJ1bmF2YWlsYWJsZSI7Y2FzZSA1MDQ6cmV0dXJuImRlYWRsaW5lLWV4Y2VlZGVkIn1yZXR1cm4idW5rbm93biJ9KHQpLGk9cixvPXZvaWQgMDt0cnl7dmFyIGE9ZSYmZS5lcnJvcjtpZihhKXt2YXIgYz1hLnN0YXR1cztpZigic3RyaW5nIj09PXR5cGVvZiBjKXtpZighc1tjXSlyZXR1cm4gbmV3IHUoImludGVybmFsIiwiaW50ZXJuYWwiKTtyPXNbY10saT1jfXZhciBoPWEubWVzc2FnZTsic3RyaW5nIj09PXR5cGVvZiBoJiYoaT1oKSx2b2lkIDAhPT0obz1hLmRldGFpbHMpJiYobz1uLmRlY29kZShvKSl9fWNhdGNoKGwpe31yZXR1cm4ib2siPT09cj9udWxsOm5ldyB1KHIsaSxvKX0obC5zdGF0dXMsbC5qc29uLHRoaXMuc2VyaWFsaXplcikpdGhyb3cgZjtpZighbC5qc29uKXRocm93IG5ldyB1KCJpbnRlcm5hbCIsIlJlc3BvbnNlIGlzIG5vdCB2YWxpZCBKU09OIG9iamVjdC4iKTtpZigidW5kZWZpbmVkIj09PXR5cGVvZihwPWwuanNvbi5kYXRhKSYmKHA9bC5qc29uLnJlc3VsdCksInVuZGVmaW5lZCI9PT10eXBlb2YgcCl0aHJvdyBuZXcgdSgiaW50ZXJuYWwiLCJSZXNwb25zZSBpcyBtaXNzaW5nIGRhdGEgZmllbGQuIik7cmV0dXJuWzIse2RhdGE6dGhpcy5zZXJpYWxpemVyLmRlY29kZShwKX1dfXZhciBkfSkpfSkpfSx0fSgpLHA9ImZ1bmN0aW9ucyI7ZnVuY3Rpb24gZCh0LGUpe3ZhciBuPXQuZ2V0UHJvdmlkZXIoImFwcCIpLmdldEltbWVkaWF0ZSgpLHI9dC5nZXRQcm92aWRlcigiYXV0aC1pbnRlcm5hbCIpLGk9dC5nZXRQcm92aWRlcigibWVzc2FnaW5nIik7cmV0dXJuIG5ldyBmKG4scixpLGUpfSFmdW5jdGlvbih0KXt2YXIgZT17RnVuY3Rpb25zOmZ9O3QuSU5URVJOQUwucmVnaXN0ZXJDb21wb25lbnQobmV3IGEuQ29tcG9uZW50KHAsZCwiUFVCTElDIikuc2V0U2VydmljZVByb3BzKGUpLnNldE11bHRpcGxlSW5zdGFuY2VzKCEwKSl9KGkpLGkucmVnaXN0ZXJWZXJzaW9uKCJAZmlyZWJhc2UvZnVuY3Rpb25zIiwiMC40LjMyIil9LCJTK1MwIjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1uKCJtclNHIiksaT1uKCJ6VkY0Iiksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMubmFtZT10LHRoaXMuaW5zdGFuY2VGYWN0b3J5PWUsdGhpcy50eXBlPW4sdGhpcy5tdWx0aXBsZUluc3RhbmNlcz0hMSx0aGlzLnNlcnZpY2VQcm9wcz17fSx0aGlzLmluc3RhbnRpYXRpb25Nb2RlPSJMQVpZIn1yZXR1cm4gdC5wcm90b3R5cGUuc2V0SW5zdGFudGlhdGlvbk1vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW5zdGFudGlhdGlvbk1vZGU9dCx0aGlzfSx0LnByb3RvdHlwZS5zZXRNdWx0aXBsZUluc3RhbmNlcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tdWx0aXBsZUluc3RhbmNlcz10LHRoaXN9LHQucHJvdG90eXBlLnNldFNlcnZpY2VQcm9wcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXJ2aWNlUHJvcHM9dCx0aGlzfSx0fSgpLGE9IltERUZBVUxUXSIscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLm5hbWU9dCx0aGlzLmNvbnRhaW5lcj1lLHRoaXMuY29tcG9uZW50PW51bGwsdGhpcy5pbnN0YW5jZXM9bmV3IE1hcCx0aGlzLmluc3RhbmNlc0RlZmVycmVkPW5ldyBNYXB9cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD1hKTt2YXIgZT10aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcih0KTtpZighdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5oYXMoZSkpe3ZhciBuPW5ldyBpLkRlZmVycmVkO3RoaXMuaW5zdGFuY2VzRGVmZXJyZWQuc2V0KGUsbik7dHJ5e3ZhciByPXRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZShlKTtyJiZuLnJlc29sdmUocil9Y2F0Y2gobyl7fX1yZXR1cm4gdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5nZXQoZSkucHJvbWlzZX0sdC5wcm90b3R5cGUuZ2V0SW1tZWRpYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXIuX19hc3NpZ24oe2lkZW50aWZpZXI6YSxvcHRpb25hbDohMX0sdCksbj1lLmlkZW50aWZpZXIsaT1lLm9wdGlvbmFsLG89dGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIobik7dHJ5e3ZhciBzPXRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZShvKTtpZighcyl7aWYoaSlyZXR1cm4gbnVsbDt0aHJvdyBFcnJvcigiU2VydmljZSAiK3RoaXMubmFtZSsiIGlzIG5vdCBhdmFpbGFibGUiKX1yZXR1cm4gc31jYXRjaCh1KXtpZihpKXJldHVybiBudWxsO3Rocm93IHV9fSx0LnByb3RvdHlwZS5nZXRDb21wb25lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnR9LHQucHJvdG90eXBlLnNldENvbXBvbmVudD1mdW5jdGlvbih0KXt2YXIgZSxuO2lmKHQubmFtZSE9PXRoaXMubmFtZSl0aHJvdyBFcnJvcigiTWlzbWF0Y2hpbmcgQ29tcG9uZW50ICIrdC5uYW1lKyIgZm9yIFByb3ZpZGVyICIrdGhpcy5uYW1lKyIuIik7aWYodGhpcy5jb21wb25lbnQpdGhyb3cgRXJyb3IoIkNvbXBvbmVudCBmb3IgIit0aGlzLm5hbWUrIiBoYXMgYWxyZWFkeSBiZWVuIHByb3ZpZGVkIik7aWYodGhpcy5jb21wb25lbnQ9dCxmdW5jdGlvbih0KXtyZXR1cm4iRUFHRVIiPT09dC5pbnN0YW50aWF0aW9uTW9kZX0odCkpdHJ5e3RoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZShhKX1jYXRjaChmKXt9dHJ5e2Zvcih2YXIgaT1yLl9fdmFsdWVzKHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZW50cmllcygpKSxvPWkubmV4dCgpOyFvLmRvbmU7bz1pLm5leHQoKSl7dmFyIHM9ci5fX3JlYWQoby52YWx1ZSwyKSx1PXNbMF0sYz1zWzFdLGg9dGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIodSk7dHJ5e3ZhciBsPXRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZShoKTtjLnJlc29sdmUobCl9Y2F0Y2goZil7fX19Y2F0Y2gocCl7ZT17ZXJyb3I6cH19ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKG49aS5yZXR1cm4pJiZuLmNhbGwoaSl9ZmluYWxseXtpZihlKXRocm93IGUuZXJyb3J9fX0sdC5wcm90b3R5cGUuY2xlYXJJbnN0YW5jZT1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD1hKSx0aGlzLmluc3RhbmNlc0RlZmVycmVkLmRlbGV0ZSh0KSx0aGlzLmluc3RhbmNlcy5kZWxldGUodCl9LHQucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbigpe3JldHVybiByLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHIuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdD1BcnJheS5mcm9tKHRoaXMuaW5zdGFuY2VzLnZhbHVlcygpKSxbNCxQcm9taXNlLmFsbCh0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIklOVEVSTkFMImluIHR9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5JTlRFUk5BTC5kZWxldGUoKX0pKSldO2Nhc2UgMTpyZXR1cm4gZS5zZW50KCksWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuaXNDb21wb25lbnRTZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5jb21wb25lbnR9LHQucHJvdG90eXBlLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbnN0YW5jZXMuZ2V0KHQpO3JldHVybiFlJiZ0aGlzLmNvbXBvbmVudCYmKGU9dGhpcy5jb21wb25lbnQuaW5zdGFuY2VGYWN0b3J5KHRoaXMuY29udGFpbmVyLGZ1bmN0aW9uKHQpe3JldHVybiB0PT09YT92b2lkIDA6dH0odCkpLHRoaXMuaW5zdGFuY2VzLnNldCh0LGUpKSxlfHxudWxsfSx0LnByb3RvdHlwZS5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9uZW50P3RoaXMuY29tcG9uZW50Lm11bHRpcGxlSW5zdGFuY2VzP3Q6YTp0fSx0fSgpO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLm5hbWU9dCx0aGlzLnByb3ZpZGVycz1uZXcgTWFwfXJldHVybiB0LnByb3RvdHlwZS5hZGRDb21wb25lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRQcm92aWRlcih0Lm5hbWUpO2lmKGUuaXNDb21wb25lbnRTZXQoKSl0aHJvdyBuZXcgRXJyb3IoIkNvbXBvbmVudCAiK3QubmFtZSsiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCB3aXRoICIrdGhpcy5uYW1lKTtlLnNldENvbXBvbmVudCh0KX0sdC5wcm90b3R5cGUuYWRkT3JPdmVyd3JpdGVDb21wb25lbnQ9ZnVuY3Rpb24odCl7dGhpcy5nZXRQcm92aWRlcih0Lm5hbWUpLmlzQ29tcG9uZW50U2V0KCkmJnRoaXMucHJvdmlkZXJzLmRlbGV0ZSh0Lm5hbWUpLHRoaXMuYWRkQ29tcG9uZW50KHQpfSx0LnByb3RvdHlwZS5nZXRQcm92aWRlcj1mdW5jdGlvbih0KXtpZih0aGlzLnByb3ZpZGVycy5oYXModCkpcmV0dXJuIHRoaXMucHJvdmlkZXJzLmdldCh0KTt2YXIgZT1uZXcgcyh0LHRoaXMpO3JldHVybiB0aGlzLnByb3ZpZGVycy5zZXQodCxlKSxlfSx0LnByb3RvdHlwZS5nZXRQcm92aWRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnByb3ZpZGVycy52YWx1ZXMoKSl9LHR9KCk7ZS5Db21wb25lbnQ9byxlLkNvbXBvbmVudENvbnRhaW5lcj11LGUuUHJvdmlkZXI9c30sVUlSbzpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQoZSwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj17YXBpS2V5OiJBSXphU3lEV0ZkOTZ5TFZ6aVlzbDN3ckFfZEFrV2FQa2hSdDlsdFUiLGF1dGhEb21haW46Im5vdGVzLTcwYzEyLmZpcmViYXNlYXBwLmNvbSIsZGF0YWJhc2VVUkw6Imh0dHBzOi8vbm90ZXMtNzBjMTIuZmlyZWJhc2Vpby5jb20iLHByb2plY3RJZDoibm90ZXMtNzBjMTIiLHN0b3JhZ2VCdWNrZXQ6Im5vdGVzLTcwYzEyLmFwcHNwb3QuY29tIixtZXNzYWdpbmdTZW5kZXJJZDoiOTc3OTM2MjE2NTU0IixhcHBJZDoiMTo5Nzc5MzYyMTY1NTQ6d2ViOmYwMTk1NDFjMmJhY2U1OGMyNTAyOTMifSxpPSgiZ3M6Ly8iLmNvbmNhdChyLnN0b3JhZ2VCdWNrZXQsIi8iKS5jb25jYXQoIm5vdGVzIiksIkFib3V0IHRoZXNlIG5vdGVzIiksbz0iQW5keVx1MDJiY3Mgd29ya2luZyBub3RlcyIsYT1bIkFib3V0IHRoZXNlIG5vdGVzIl19LFdJNDk6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJ3ajNDIiksaT1uLm4ociksbz1uKCJtclNHIiksYT1uKCJTK1MwIikscz0iZmlyZWJhc2VzdG9yYWdlLmdvb2dsZWFwaXMuY29tIix1PSJzdG9yYWdlQnVja2V0IixjPTEyZTQsaD02ZTUsbD0tOTAwNzE5OTI1NDc0MDk5MSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuY29kZV89ZCh0KSx0aGlzLm1lc3NhZ2VfPSJGaXJlYmFzZSBTdG9yYWdlOiAiK2UsdGhpcy5zZXJ2ZXJSZXNwb25zZV89bnVsbCx0aGlzLm5hbWVfPSJGaXJlYmFzZUVycm9yIn1yZXR1cm4gdC5wcm90b3R5cGUuY29kZVByb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2RlfSx0LnByb3RvdHlwZS5jb2RlRXF1YWxzPWZ1bmN0aW9uKHQpe3JldHVybiBkKHQpPT09dGhpcy5jb2RlUHJvcCgpfSx0LnByb3RvdHlwZS5zZXJ2ZXJSZXNwb25zZVByb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXJ2ZXJSZXNwb25zZV99LHQucHJvdG90eXBlLnNldFNlcnZlclJlc3BvbnNlUHJvcD1mdW5jdGlvbih0KXt0aGlzLnNlcnZlclJlc3BvbnNlXz10fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm5hbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lX30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImNvZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2RlX30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm1lc3NhZ2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZXNzYWdlX30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInNlcnZlclJlc3BvbnNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VydmVyUmVzcG9uc2VffSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHR9KCkscD17VU5LTk9XTjoidW5rbm93biIsT0JKRUNUX05PVF9GT1VORDoib2JqZWN0LW5vdC1mb3VuZCIsQlVDS0VUX05PVF9GT1VORDoiYnVja2V0LW5vdC1mb3VuZCIsUFJPSkVDVF9OT1RfRk9VTkQ6InByb2plY3Qtbm90LWZvdW5kIixRVU9UQV9FWENFRURFRDoicXVvdGEtZXhjZWVkZWQiLFVOQVVUSEVOVElDQVRFRDoidW5hdXRoZW50aWNhdGVkIixVTkFVVEhPUklaRUQ6InVuYXV0aG9yaXplZCIsUkVUUllfTElNSVRfRVhDRUVERUQ6InJldHJ5LWxpbWl0LWV4Y2VlZGVkIixJTlZBTElEX0NIRUNLU1VNOiJpbnZhbGlkLWNoZWNrc3VtIixDQU5DRUxFRDoiY2FuY2VsZWQiLElOVkFMSURfRVZFTlRfTkFNRToiaW52YWxpZC1ldmVudC1uYW1lIixJTlZBTElEX1VSTDoiaW52YWxpZC11cmwiLElOVkFMSURfREVGQVVMVF9CVUNLRVQ6ImludmFsaWQtZGVmYXVsdC1idWNrZXQiLE5PX0RFRkFVTFRfQlVDS0VUOiJuby1kZWZhdWx0LWJ1Y2tldCIsQ0FOTk9UX1NMSUNFX0JMT0I6ImNhbm5vdC1zbGljZS1ibG9iIixTRVJWRVJfRklMRV9XUk9OR19TSVpFOiJzZXJ2ZXItZmlsZS13cm9uZy1zaXplIixOT19ET1dOTE9BRF9VUkw6Im5vLWRvd25sb2FkLXVybCIsSU5WQUxJRF9BUkdVTUVOVDoiaW52YWxpZC1hcmd1bWVudCIsSU5WQUxJRF9BUkdVTUVOVF9DT1VOVDoiaW52YWxpZC1hcmd1bWVudC1jb3VudCIsQVBQX0RFTEVURUQ6ImFwcC1kZWxldGVkIixJTlZBTElEX1JPT1RfT1BFUkFUSU9OOiJpbnZhbGlkLXJvb3Qtb3BlcmF0aW9uIixJTlZBTElEX0ZPUk1BVDoiaW52YWxpZC1mb3JtYXQiLElOVEVSTkFMX0VSUk9SOiJpbnRlcm5hbC1lcnJvciJ9O2Z1bmN0aW9uIGQodCl7cmV0dXJuInN0b3JhZ2UvIit0fWZ1bmN0aW9uIHYoKXtyZXR1cm4gbmV3IGYocC5VTktOT1dOLCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLCBwbGVhc2UgY2hlY2sgdGhlIGVycm9yIHBheWxvYWQgZm9yIHNlcnZlciByZXNwb25zZS4iKX1mdW5jdGlvbiBiKCl7cmV0dXJuIG5ldyBmKHAuQ0FOQ0VMRUQsIlVzZXIgY2FuY2VsZWQgdGhlIHVwbG9hZC9kb3dubG9hZC4iKX1mdW5jdGlvbiB5KCl7cmV0dXJuIG5ldyBmKHAuQ0FOTk9UX1NMSUNFX0JMT0IsIkNhbm5vdCBzbGljZSBibG9iIGZvciB1cGxvYWQuIFBsZWFzZSByZXRyeSB0aGUgdXBsb2FkLiIpfWZ1bmN0aW9uIGcoKXtyZXR1cm4gbmV3IGYocC5OT19ET1dOTE9BRF9VUkwsIlRoZSBnaXZlbiBmaWxlIGRvZXMgbm90IGhhdmUgYW55IGRvd25sb2FkIFVSTHMuIil9ZnVuY3Rpb24gbSh0LGUsbil7cmV0dXJuIG5ldyBmKHAuSU5WQUxJRF9BUkdVTUVOVCwiSW52YWxpZCBhcmd1bWVudCBpbiBgIitlKyJgIGF0IGluZGV4ICIrdCsiOiAiK24pfWZ1bmN0aW9uIF8oKXtyZXR1cm4gbmV3IGYocC5BUFBfREVMRVRFRCwiVGhlIEZpcmViYXNlIGFwcCB3YXMgZGVsZXRlZC4iKX1mdW5jdGlvbiB3KHQsZSl7cmV0dXJuIG5ldyBmKHAuSU5WQUxJRF9GT1JNQVQsIlN0cmluZyBkb2VzIG5vdCBtYXRjaCBmb3JtYXQgJyIrdCsiJzogIitlKX1mdW5jdGlvbiBFKHQpe3Rocm93IG5ldyBmKHAuSU5URVJOQUxfRVJST1IsIkludGVybmFsIGVycm9yOiAiK3QpfXZhciBUPXtSQVc6InJhdyIsQkFTRTY0OiJiYXNlNjQiLEJBU0U2NFVSTDoiYmFzZTY0dXJsIixEQVRBX1VSTDoiZGF0YV91cmwifTtmdW5jdGlvbiBTKHQpe3N3aXRjaCh0KXtjYXNlIFQuUkFXOmNhc2UgVC5CQVNFNjQ6Y2FzZSBULkJBU0U2NFVSTDpjYXNlIFQuREFUQV9VUkw6cmV0dXJuO2RlZmF1bHQ6dGhyb3ciRXhwZWN0ZWQgb25lIG9mIHRoZSBldmVudCB0eXBlczogWyIrVC5SQVcrIiwgIitULkJBU0U2NCsiLCAiK1QuQkFTRTY0VVJMKyIsICIrVC5EQVRBX1VSTCsiXS4ifX12YXIgTz1mdW5jdGlvbih0LGUpe3RoaXMuZGF0YT10LHRoaXMuY29udGVudFR5cGU9ZXx8bnVsbH07ZnVuY3Rpb24gUih0LGUpe3N3aXRjaCh0KXtjYXNlIFQuUkFXOnJldHVybiBuZXcgTyhBKGUpKTtjYXNlIFQuQkFTRTY0OmNhc2UgVC5CQVNFNjRVUkw6cmV0dXJuIG5ldyBPKEModCxlKSk7Y2FzZSBULkRBVEFfVVJMOnJldHVybiBuZXcgTyhmdW5jdGlvbih0KXt2YXIgZT1uZXcgTih0KTtyZXR1cm4gZS5iYXNlNjQ/QyhULkJBU0U2NCxlLnJlc3QpOmZ1bmN0aW9uKHQpe3ZhciBlO3RyeXtlPWRlY29kZVVSSUNvbXBvbmVudCh0KX1jYXRjaChuKXt0aHJvdyB3KFQuREFUQV9VUkwsIk1hbGZvcm1lZCBkYXRhIFVSTC4iKX1yZXR1cm4gQShlKX0oZS5yZXN0KX0oZSksbmV3IE4oZSkuY29udGVudFR5cGUpfXRocm93IHYoKX1mdW5jdGlvbiBBKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXQuY2hhckNvZGVBdChuKTtpZihyPD0xMjcpZS5wdXNoKHIpO2Vsc2UgaWYocjw9MjA0NyllLnB1c2goMTkyfHI+PjYsMTI4fDYzJnIpO2Vsc2UgaWYoNTUyOTY9PT0oNjQ1MTImcikpaWYobjx0Lmxlbmd0aC0xJiY1NjMyMD09PSg2NDUxMiZ0LmNoYXJDb2RlQXQobisxKSkpcj02NTUzNnwoMTAyMyZyKTw8MTB8MTAyMyZ0LmNoYXJDb2RlQXQoKytuKSxlLnB1c2goMjQwfHI+PjE4LDEyOHxyPj4xMiY2MywxMjh8cj4+NiY2MywxMjh8NjMmcik7ZWxzZSBlLnB1c2goMjM5LDE5MSwxODkpO2Vsc2UgNTYzMjA9PT0oNjQ1MTImcik/ZS5wdXNoKDIzOSwxOTEsMTg5KTplLnB1c2goMjI0fHI+PjEyLDEyOHxyPj42JjYzLDEyOHw2MyZyKX1yZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZSl9ZnVuY3Rpb24gQyh0LGUpe3N3aXRjaCh0KXtjYXNlIFQuQkFTRTY0OnZhciBuPS0xIT09ZS5pbmRleE9mKCItIikscj0tMSE9PWUuaW5kZXhPZigiXyIpO2lmKG58fHIpdGhyb3cgdyh0LCJJbnZhbGlkIGNoYXJhY3RlciAnIisobj8iLSI6Il8iKSsiJyBmb3VuZDogaXMgaXQgYmFzZTY0dXJsIGVuY29kZWQ/Iik7YnJlYWs7Y2FzZSBULkJBU0U2NFVSTDp2YXIgaT0tMSE9PWUuaW5kZXhPZigiKyIpLG89LTEhPT1lLmluZGV4T2YoIi8iKTtpZihpfHxvKXRocm93IHcodCwiSW52YWxpZCBjaGFyYWN0ZXIgJyIrKGk/IisiOiIvIikrIicgZm91bmQ6IGlzIGl0IGJhc2U2NCBlbmNvZGVkPyIpO2U9ZS5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKX12YXIgYTt0cnl7YT1hdG9iKGUpfWNhdGNoKGMpe3Rocm93IHcodCwiSW52YWxpZCBjaGFyYWN0ZXIgZm91bmQiKX1mb3IodmFyIHM9bmV3IFVpbnQ4QXJyYXkoYS5sZW5ndGgpLHU9MDt1PGEubGVuZ3RoO3UrKylzW3VdPWEuY2hhckNvZGVBdCh1KTtyZXR1cm4gc312YXIgTj1mdW5jdGlvbih0KXt0aGlzLmJhc2U2ND0hMSx0aGlzLmNvbnRlbnRUeXBlPW51bGw7dmFyIGU9dC5tYXRjaCgvXmRhdGE6KFteLF0rKT8sLyk7aWYobnVsbD09PWUpdGhyb3cgdyhULkRBVEFfVVJMLCJNdXN0IGJlIGZvcm1hdHRlZCAnZGF0YTpbPG1lZGlhdHlwZT5dWztiYXNlNjRdLDxkYXRhPiIpO3ZhciBuPWVbMV18fG51bGw7bnVsbCE9biYmKHRoaXMuYmFzZTY0PShyPW4saT0iO2Jhc2U2NCIsci5sZW5ndGg+PWkubGVuZ3RoJiZyLnN1YnN0cmluZyhyLmxlbmd0aC1pLmxlbmd0aCk9PT1pKSx0aGlzLmNvbnRlbnRUeXBlPXRoaXMuYmFzZTY0P24uc3Vic3RyaW5nKDAsbi5sZW5ndGgtIjtiYXNlNjQiLmxlbmd0aCk6biksdGhpcy5yZXN0PXQuc3Vic3RyaW5nKHQuaW5kZXhPZigiLCIpKzEpO3ZhciByLGl9O3ZhciBJLGs9e1NUQVRFX0NIQU5HRUQ6InN0YXRlX2NoYW5nZWQifSxQPXtSVU5OSU5HOiJydW5uaW5nIixQQVVTSU5HOiJwYXVzaW5nIixQQVVTRUQ6InBhdXNlZCIsU1VDQ0VTUzoic3VjY2VzcyIsQ0FOQ0VMSU5HOiJjYW5jZWxpbmciLENBTkNFTEVEOiJjYW5jZWxlZCIsRVJST1I6ImVycm9yIn0seD17UlVOTklORzoicnVubmluZyIsUEFVU0VEOiJwYXVzZWQiLFNVQ0NFU1M6InN1Y2Nlc3MiLENBTkNFTEVEOiJjYW5jZWxlZCIsRVJST1I6ImVycm9yIn07ZnVuY3Rpb24gVSh0KXtzd2l0Y2godCl7Y2FzZSBQLlJVTk5JTkc6Y2FzZSBQLlBBVVNJTkc6Y2FzZSBQLkNBTkNFTElORzpyZXR1cm4geC5SVU5OSU5HO2Nhc2UgUC5QQVVTRUQ6cmV0dXJuIHguUEFVU0VEO2Nhc2UgUC5TVUNDRVNTOnJldHVybiB4LlNVQ0NFU1M7Y2FzZSBQLkNBTkNFTEVEOnJldHVybiB4LkNBTkNFTEVEO2Nhc2UgUC5FUlJPUjpkZWZhdWx0OnJldHVybiB4LkVSUk9SfX1mdW5jdGlvbiBEKHQpe3JldHVybiBudWxsIT10fWZ1bmN0aW9uIEwodCl7cmV0dXJuIHZvaWQgMCE9PXR9ZnVuY3Rpb24gaih0KXtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIHR9ZnVuY3Rpb24gTSh0KXtyZXR1cm4ib2JqZWN0Ij09PXR5cGVvZiB0fWZ1bmN0aW9uIEIodCl7cmV0dXJuIE0odCkmJm51bGwhPT10fWZ1bmN0aW9uIEYodCl7cmV0dXJuInN0cmluZyI9PT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIFN0cmluZ31mdW5jdGlvbiBXKHQpe3JldHVybiBIKHQpJiZOdW1iZXIuaXNJbnRlZ2VyKHQpfWZ1bmN0aW9uIEgodCl7cmV0dXJuIm51bWJlciI9PT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIE51bWJlcn1mdW5jdGlvbiBHKHQpe3JldHVybiB6KCkmJnQgaW5zdGFuY2VvZiBCbG9ifWZ1bmN0aW9uIHooKXtyZXR1cm4idW5kZWZpbmVkIiE9PXR5cGVvZiBCbG9ifSFmdW5jdGlvbih0KXt0W3QuTk9fRVJST1I9MF09Ik5PX0VSUk9SIix0W3QuTkVUV09SS19FUlJPUj0xXT0iTkVUV09SS19FUlJPUiIsdFt0LkFCT1JUPTJdPSJBQk9SVCJ9KEl8fChJPXt9KSk7dmFyIFY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIHQ9dGhpczt0aGlzLnNlbnRfPSExLHRoaXMueGhyXz1uZXcgWE1MSHR0cFJlcXVlc3QsdGhpcy5lcnJvckNvZGVfPUkuTk9fRVJST1IsdGhpcy5zZW5kUHJvbWlzZV89bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3QueGhyXy5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsKGZ1bmN0aW9uKCl7dC5lcnJvckNvZGVfPUkuQUJPUlQsZSh0KX0pKSx0Lnhocl8uYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLChmdW5jdGlvbigpe3QuZXJyb3JDb2RlXz1JLk5FVFdPUktfRVJST1IsZSh0KX0pKSx0Lnhocl8uYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsKGZ1bmN0aW9uKCl7ZSh0KX0pKX0pKX1yZXR1cm4gdC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0LGUsbixyKXtpZih0aGlzLnNlbnRfKXRocm93IEUoImNhbm5vdCAuc2VuZCgpIG1vcmUgdGhhbiBvbmNlIik7aWYodGhpcy5zZW50Xz0hMCx0aGlzLnhocl8ub3BlbihlLHQsITApLEQocikpZm9yKHZhciBpIGluIHIpci5oYXNPd25Qcm9wZXJ0eShpKSYmdGhpcy54aHJfLnNldFJlcXVlc3RIZWFkZXIoaSxyW2ldLnRvU3RyaW5nKCkpO3JldHVybiBEKG4pP3RoaXMueGhyXy5zZW5kKG4pOnRoaXMueGhyXy5zZW5kKCksdGhpcy5zZW5kUHJvbWlzZV99LHQucHJvdG90eXBlLmdldEVycm9yQ29kZT1mdW5jdGlvbigpe2lmKCF0aGlzLnNlbnRfKXRocm93IEUoImNhbm5vdCAuZ2V0RXJyb3JDb2RlKCkgYmVmb3JlIHNlbmRpbmciKTtyZXR1cm4gdGhpcy5lcnJvckNvZGVffSx0LnByb3RvdHlwZS5nZXRTdGF0dXM9ZnVuY3Rpb24oKXtpZighdGhpcy5zZW50Xyl0aHJvdyBFKCJjYW5ub3QgLmdldFN0YXR1cygpIGJlZm9yZSBzZW5kaW5nIik7dHJ5e3JldHVybiB0aGlzLnhocl8uc3RhdHVzfWNhdGNoKHQpe3JldHVybi0xfX0sdC5wcm90b3R5cGUuZ2V0UmVzcG9uc2VUZXh0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2VudF8pdGhyb3cgRSgiY2Fubm90IC5nZXRSZXNwb25zZVRleHQoKSBiZWZvcmUgc2VuZGluZyIpO3JldHVybiB0aGlzLnhocl8ucmVzcG9uc2VUZXh0fSx0LnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3RoaXMueGhyXy5hYm9ydCgpfSx0LnByb3RvdHlwZS5nZXRSZXNwb25zZUhlYWRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54aHJfLmdldFJlc3BvbnNlSGVhZGVyKHQpfSx0LnByb3RvdHlwZS5hZGRVcGxvYWRQcm9ncmVzc0xpc3RlbmVyPWZ1bmN0aW9uKHQpe0QodGhpcy54aHJfLnVwbG9hZCkmJnRoaXMueGhyXy51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHQpfSx0LnByb3RvdHlwZS5yZW1vdmVVcGxvYWRQcm9ncmVzc0xpc3RlbmVyPWZ1bmN0aW9uKHQpe0QodGhpcy54aHJfLnVwbG9hZCkmJnRoaXMueGhyXy51cGxvYWQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHQpfSx0fSgpLFg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGVYaHJJbz1mdW5jdGlvbigpe3JldHVybiBuZXcgVn0sdH0oKTtmdW5jdGlvbiBxKCl7cmV0dXJuInVuZGVmaW5lZCIhPT10eXBlb2YgQmxvYkJ1aWxkZXI/QmxvYkJ1aWxkZXI6InVuZGVmaW5lZCIhPT10eXBlb2YgV2ViS2l0QmxvYkJ1aWxkZXI/V2ViS2l0QmxvYkJ1aWxkZXI6dm9pZCAwfWZ1bmN0aW9uIEsoKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dmFyIG49cSgpO2lmKHZvaWQgMCE9PW4pe2Zvcih2YXIgcj1uZXcgbixpPTA7aTx0Lmxlbmd0aDtpKyspci5hcHBlbmQodFtpXSk7cmV0dXJuIHIuZ2V0QmxvYigpfWlmKHooKSlyZXR1cm4gbmV3IEJsb2IodCk7dGhyb3cgRXJyb3IoIlRoaXMgYnJvd3NlciBkb2Vzbid0IHNlZW0gdG8gc3VwcG9ydCBjcmVhdGluZyBCbG9icyIpfXZhciBKPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPTAscj0iIjtHKHQpPyh0aGlzLmRhdGFfPXQsbj10LnNpemUscj10LnR5cGUpOnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj8oZT90aGlzLmRhdGFfPW5ldyBVaW50OEFycmF5KHQpOih0aGlzLmRhdGFfPW5ldyBVaW50OEFycmF5KHQuYnl0ZUxlbmd0aCksdGhpcy5kYXRhXy5zZXQobmV3IFVpbnQ4QXJyYXkodCkpKSxuPXRoaXMuZGF0YV8ubGVuZ3RoKTp0IGluc3RhbmNlb2YgVWludDhBcnJheSYmKGU/dGhpcy5kYXRhXz10Oih0aGlzLmRhdGFfPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoKSx0aGlzLmRhdGFfLnNldCh0KSksbj10Lmxlbmd0aCksdGhpcy5zaXplXz1uLHRoaXMudHlwZV89cn1yZXR1cm4gdC5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNpemVffSx0LnByb3RvdHlwZS50eXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZV99LHQucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsbil7aWYoRyh0aGlzLmRhdGFfKSl7dmFyIHI9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LndlYmtpdFNsaWNlP3Qud2Via2l0U2xpY2UoZSxuKTp0Lm1velNsaWNlP3QubW96U2xpY2UoZSxuKTp0LnNsaWNlP3Quc2xpY2UoZSxuKTpudWxsfSh0aGlzLmRhdGFfLGUsbik7cmV0dXJuIG51bGw9PT1yP251bGw6bmV3IHQocil9cmV0dXJuIG5ldyB0KG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YV8uYnVmZmVyLGUsbi1lKSwhMCl9LHQuZ2V0QmxvYj1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW25dPWFyZ3VtZW50c1tuXTtpZih6KCkpe3ZhciByPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQ/ZS5kYXRhXzplfSkpO3JldHVybiBuZXcgdChLLmFwcGx5KG51bGwscikpfXZhciBpPWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gRih0KT9SKFQuUkFXLHQpLmRhdGE6dC5kYXRhX30pKSxvPTA7aS5mb3JFYWNoKChmdW5jdGlvbih0KXtvKz10LmJ5dGVMZW5ndGh9KSk7dmFyIGE9bmV3IFVpbnQ4QXJyYXkobykscz0wO3JldHVybiBpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWFbcysrXT10W2VdfSkpLG5ldyB0KGEsITApfSx0LnByb3RvdHlwZS51cGxvYWREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YV99LHR9KCksWT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmJ1Y2tldD10LHRoaXMucGF0aF89ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJwYXRoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aF99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJpc1Jvb3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMucGF0aC5sZW5ndGh9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZnVsbFNlcnZlclVybD1mdW5jdGlvbigpe3ZhciB0PWVuY29kZVVSSUNvbXBvbmVudDtyZXR1cm4iL2IvIit0KHRoaXMuYnVja2V0KSsiL28vIit0KHRoaXMucGF0aCl9LHQucHJvdG90eXBlLmJ1Y2tldE9ubHlTZXJ2ZXJVcmw9ZnVuY3Rpb24oKXtyZXR1cm4iL2IvIitlbmNvZGVVUklDb21wb25lbnQodGhpcy5idWNrZXQpKyIvbyJ9LHQubWFrZUZyb21CdWNrZXRTcGVjPWZ1bmN0aW9uKGUpe3ZhciBuLHI7dHJ5e249dC5tYWtlRnJvbVVybChlKX1jYXRjaChpKXtyZXR1cm4gbmV3IHQoZSwiIil9aWYoIiI9PT1uLnBhdGgpcmV0dXJuIG47dGhyb3cgcj1lLG5ldyBmKHAuSU5WQUxJRF9ERUZBVUxUX0JVQ0tFVCwiSW52YWxpZCBkZWZhdWx0IGJ1Y2tldCAnIityKyInLiIpfSx0Lm1ha2VGcm9tVXJsPWZ1bmN0aW9uKGUpe3ZhciBuPW51bGw7dmFyIHI9bmV3IFJlZ0V4cCgiXmdzOi8vKFtBLVphLXowLTkuXFwtX10rKSgvKC4qKSk/JCIsImkiKTtmb3IodmFyIGk9cy5yZXBsYWNlKC9bLl0vZywiXFwuIiksbz1be3JlZ2V4OnIsaW5kaWNlczp7YnVja2V0OjEscGF0aDozfSxwb3N0TW9kaWZ5OmZ1bmN0aW9uKHQpeyIvIj09PXQucGF0aC5jaGFyQXQodC5wYXRoLmxlbmd0aC0xKSYmKHQucGF0aF89dC5wYXRoXy5zbGljZSgwLC0xKSl9fSx7cmVnZXg6bmV3IFJlZ0V4cCgiXmh0dHBzPzovLyIraSsiL3ZbQS1aYS16MC05X10rL2IvKFtBLVphLXowLTkuXFwtX10rKS9vKC8oW14/I10qKS4qKT8kIiwiaSIpLGluZGljZXM6e2J1Y2tldDoxLHBhdGg6M30scG9zdE1vZGlmeTpmdW5jdGlvbih0KXt0LnBhdGhfPWRlY29kZVVSSUNvbXBvbmVudCh0LnBhdGgpfX1dLGE9MDthPG8ubGVuZ3RoO2ErKyl7dmFyIHU9b1thXSxjPXUucmVnZXguZXhlYyhlKTtpZihjKXt2YXIgaD1jW3UuaW5kaWNlcy5idWNrZXRdLGw9Y1t1LmluZGljZXMucGF0aF07bHx8KGw9IiIpLG49bmV3IHQoaCxsKSx1LnBvc3RNb2RpZnkobik7YnJlYWt9fWlmKG51bGw9PW4pdGhyb3cgZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBmKHAuSU5WQUxJRF9VUkwsIkludmFsaWQgVVJMICciK3QrIicuIil9KGUpO3JldHVybiBufSx0fSgpO2Z1bmN0aW9uICQodCl7dmFyIGUsbjt0cnl7ZT1KU09OLnBhcnNlKHQpfWNhdGNoKHIpe3JldHVybiBudWxsfXJldHVybiBNKG49ZSkmJiFBcnJheS5pc0FycmF5KG4pP2U6bnVsbH1mdW5jdGlvbiBaKHQsZSl7dmFyIG49ZS5zcGxpdCgiLyIpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoPjB9KSkuam9pbigiLyIpO3JldHVybiAwPT09dC5sZW5ndGg/bjp0KyIvIitufWZ1bmN0aW9uIFEodCl7dmFyIGU9dC5sYXN0SW5kZXhPZigiLyIsdC5sZW5ndGgtMik7cmV0dXJuLTE9PT1lP3Q6dC5zbGljZShlKzEpfWZ1bmN0aW9uIHR0KHQpe3JldHVybiJodHRwczovLyIrcysiL3YwIit0fWZ1bmN0aW9uIGV0KHQpe3ZhciBlPWVuY29kZVVSSUNvbXBvbmVudCxuPSI/Ijtmb3IodmFyIHIgaW4gdCl7aWYodC5oYXNPd25Qcm9wZXJ0eShyKSluPW4rKGUocikrIj0iK2UodFtyXSkpKyImIn1yZXR1cm4gbj1uLnNsaWNlKDAsLTEpfWZ1bmN0aW9uIG50KHQsZSl7cmV0dXJuIGV9dmFyIHJ0PWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMuc2VydmVyPXQsdGhpcy5sb2NhbD1lfHx0LHRoaXMud3JpdGFibGU9ISFuLHRoaXMueGZvcm09cnx8bnR9LGl0PW51bGw7ZnVuY3Rpb24gb3QoKXtpZihpdClyZXR1cm4gaXQ7dmFyIHQ9W107dC5wdXNoKG5ldyBydCgiYnVja2V0IikpLHQucHVzaChuZXcgcnQoImdlbmVyYXRpb24iKSksdC5wdXNoKG5ldyBydCgibWV0YWdlbmVyYXRpb24iKSksdC5wdXNoKG5ldyBydCgibmFtZSIsImZ1bGxQYXRoIiwhMCkpO3ZhciBlPW5ldyBydCgibmFtZSIpO2UueGZvcm09ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIUYodCl8fHQubGVuZ3RoPDI/dDpRKHQpfShlKX0sdC5wdXNoKGUpO3ZhciBuPW5ldyBydCgic2l6ZSIpO3JldHVybiBuLnhmb3JtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEQoZSk/TnVtYmVyKGUpOmV9LHQucHVzaChuKSx0LnB1c2gobmV3IHJ0KCJ0aW1lQ3JlYXRlZCIpKSx0LnB1c2gobmV3IHJ0KCJ1cGRhdGVkIikpLHQucHVzaChuZXcgcnQoIm1kNUhhc2giLG51bGwsITApKSx0LnB1c2gobmV3IHJ0KCJjYWNoZUNvbnRyb2wiLG51bGwsITApKSx0LnB1c2gobmV3IHJ0KCJjb250ZW50RGlzcG9zaXRpb24iLG51bGwsITApKSx0LnB1c2gobmV3IHJ0KCJjb250ZW50RW5jb2RpbmciLG51bGwsITApKSx0LnB1c2gobmV3IHJ0KCJjb250ZW50TGFuZ3VhZ2UiLG51bGwsITApKSx0LnB1c2gobmV3IHJ0KCJjb250ZW50VHlwZSIsbnVsbCwhMCkpLHQucHVzaChuZXcgcnQoIm1ldGFkYXRhIiwiY3VzdG9tTWV0YWRhdGEiLCEwKSksaXQ9dH1mdW5jdGlvbiBhdCh0LGUsbil7Zm9yKHZhciByPXt0eXBlOiJmaWxlIn0saT1uLmxlbmd0aCxvPTA7bzxpO28rKyl7dmFyIGE9bltvXTtyW2EubG9jYWxdPWEueGZvcm0ocixlW2Euc2VydmVyXSl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsInJlZiIse2dldDpmdW5jdGlvbigpe3ZhciBuPXQuYnVja2V0LHI9dC5mdWxsUGF0aCxpPW5ldyBZKG4scik7cmV0dXJuIGUubWFrZVN0b3JhZ2VSZWZlcmVuY2UoaSl9fSl9KHIsdCkscn1mdW5jdGlvbiBzdCh0LGUsbil7dmFyIHI9JChlKTtyZXR1cm4gbnVsbD09PXI/bnVsbDphdCh0LHIsbil9ZnVuY3Rpb24gdXQodCxlKXtmb3IodmFyIG49e30scj1lLmxlbmd0aCxpPTA7aTxyO2krKyl7dmFyIG89ZVtpXTtvLndyaXRhYmxlJiYobltvLnNlcnZlcl09dFtvLmxvY2FsXSl9cmV0dXJuIEpTT04uc3RyaW5naWZ5KG4pfWZ1bmN0aW9uIGN0KHQpe2lmKCFNKHQpfHwhdCl0aHJvdyJFeHBlY3RlZCBNZXRhZGF0YSBvYmplY3QuIjtmb3IodmFyIGUgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGUpKXt2YXIgbj10W2VdO2lmKCJjdXN0b21NZXRhZGF0YSI9PT1lKXtpZighTShuKSl0aHJvdyJFeHBlY3RlZCBvYmplY3QgZm9yICdjdXN0b21NZXRhZGF0YScgbWFwcGluZy4ifWVsc2UgaWYoQihuKSl0aHJvdyJNYXBwaW5nIGZvciAnIitlKyInIGNhbm5vdCBiZSBhbiBvYmplY3QuIn19dmFyIGh0PSJtYXhSZXN1bHRzIixsdD0xZTMsZnQ9InBhZ2VUb2tlbiIscHQ9InByZWZpeGVzIixkdD0iaXRlbXMiO2Z1bmN0aW9uIHZ0KHQsZSl7dmFyIG49e3ByZWZpeGVzOltdLGl0ZW1zOltdLG5leHRQYWdlVG9rZW46ZS5uZXh0UGFnZVRva2VufSxyPXQuYnVja2V0KCk7aWYobnVsbD09PXIpdGhyb3cgbmV3IGYocC5OT19ERUZBVUxUX0JVQ0tFVCwiTm8gZGVmYXVsdCBidWNrZXQgZm91bmQuIERpZCB5b3Ugc2V0IHRoZSAnIit1KyInIHByb3BlcnR5IHdoZW4gaW5pdGlhbGl6aW5nIHRoZSBhcHA/Iik7aWYoZVtwdF0pZm9yKHZhciBpPTAsbz1lW3B0XTtpPG8ubGVuZ3RoO2krKyl7dmFyIGE9b1tpXS5yZXBsYWNlKC9cLyQvLCIiKSxzPXQubWFrZVN0b3JhZ2VSZWZlcmVuY2UobmV3IFkocixhKSk7bi5wcmVmaXhlcy5wdXNoKHMpfWlmKGVbZHRdKWZvcih2YXIgYz0wLGg9ZVtkdF07YzxoLmxlbmd0aDtjKyspe3ZhciBsPWhbY107cz10Lm1ha2VTdG9yYWdlUmVmZXJlbmNlKG5ldyBZKHIsbC5uYW1lKSk7bi5pdGVtcy5wdXNoKHMpfXJldHVybiBufWZ1bmN0aW9uIGJ0KHQpe2lmKCFNKHQpfHwhdCl0aHJvdyJFeHBlY3RlZCBMaXN0T3B0aW9ucyBvYmplY3QuIjtmb3IodmFyIGUgaW4gdClpZihlPT09aHQpe2lmKCFXKHRbaHRdKXx8dFtodF08PTApdGhyb3ciRXhwZWN0ZWQgbWF4UmVzdWx0cyB0byBiZSBhIHBvc2l0aXZlIG51bWJlci4iO2lmKHRbaHRdPjFlMyl0aHJvdyJFeHBlY3RlZCBtYXhSZXN1bHRzIHRvIGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byAiK2x0KyIuIn1lbHNle2lmKGUhPT1mdCl0aHJvdyJVbmtub3duIG9wdGlvbjogIitlO2lmKHRbZnRdJiYhRih0W2Z0XSkpdGhyb3ciRXhwZWN0ZWQgcGFnZVRva2VuIHRvIGJlIHN0cmluZy4ifX12YXIgeXQ9ZnVuY3Rpb24odCxlLG4scil7dGhpcy51cmw9dCx0aGlzLm1ldGhvZD1lLHRoaXMuaGFuZGxlcj1uLHRoaXMudGltZW91dD1yLHRoaXMudXJsUGFyYW1zPXt9LHRoaXMuaGVhZGVycz17fSx0aGlzLmJvZHk9bnVsbCx0aGlzLmVycm9ySGFuZGxlcj1udWxsLHRoaXMucHJvZ3Jlc3NDYWxsYmFjaz1udWxsLHRoaXMuc3VjY2Vzc0NvZGVzPVsyMDBdLHRoaXMuYWRkaXRpb25hbFJldHJ5Q29kZXM9W119O2Z1bmN0aW9uIGd0KHQpe2lmKCF0KXRocm93IHYoKX1mdW5jdGlvbiBtdCh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBpPXN0KHQscixlKTtyZXR1cm4gZ3QobnVsbCE9PWkpLGl9fWZ1bmN0aW9uIF90KHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPWZ1bmN0aW9uKHQsZSl7dmFyIG49JChlKTtyZXR1cm4gbnVsbD09PW4/bnVsbDp2dCh0LG4pfSh0LG4pO3JldHVybiBndChudWxsIT09cikscn19ZnVuY3Rpb24gd3QodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgaT1zdCh0LHIsZSk7cmV0dXJuIGd0KG51bGwhPT1pKSxmdW5jdGlvbih0LGUpe3ZhciBuPSQoZSk7aWYobnVsbD09PW4pcmV0dXJuIG51bGw7aWYoIUYobi5kb3dubG9hZFRva2VucykpcmV0dXJuIG51bGw7dmFyIHI9bi5kb3dubG9hZFRva2VucztpZigwPT09ci5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGk9ZW5jb2RlVVJJQ29tcG9uZW50O3JldHVybiByLnNwbGl0KCIsIikubWFwKChmdW5jdGlvbihlKXt2YXIgbj10LmJ1Y2tldCxyPXQuZnVsbFBhdGg7cmV0dXJuIHR0KCIvYi8iK2kobikrIi9vLyIraShyKSkrZXQoe2FsdDoibWVkaWEiLHRva2VuOmV9KX0pKVswXX0oaSxyKX19ZnVuY3Rpb24gRXQodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHIsaSxvO3JldHVybiA0MDE9PT1lLmdldFN0YXR1cygpP3I9bmV3IGYocC5VTkFVVEhFTlRJQ0FURUQsIlVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQsIHBsZWFzZSBhdXRoZW50aWNhdGUgdXNpbmcgRmlyZWJhc2UgQXV0aGVudGljYXRpb24gYW5kIHRyeSBhZ2Fpbi4iKTo0MDI9PT1lLmdldFN0YXR1cygpPyhvPXQuYnVja2V0LHI9bmV3IGYocC5RVU9UQV9FWENFRURFRCwiUXVvdGEgZm9yIGJ1Y2tldCAnIitvKyInIGV4Y2VlZGVkLCBwbGVhc2UgdmlldyBxdW90YSBvbiBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vcHJpY2luZy8uIikpOjQwMz09PWUuZ2V0U3RhdHVzKCk/KGk9dC5wYXRoLHI9bmV3IGYocC5VTkFVVEhPUklaRUQsIlVzZXIgZG9lcyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyAnIitpKyInLiIpKTpyPW4sci5zZXRTZXJ2ZXJSZXNwb25zZVByb3Aobi5zZXJ2ZXJSZXNwb25zZVByb3AoKSkscn19ZnVuY3Rpb24gVHQodCl7dmFyIGU9RXQodCk7cmV0dXJuIGZ1bmN0aW9uKG4scil7dmFyIGksbz1lKG4scik7cmV0dXJuIDQwND09PW4uZ2V0U3RhdHVzKCkmJihpPXQucGF0aCxvPW5ldyBmKHAuT0JKRUNUX05PVF9GT1VORCwiT2JqZWN0ICciK2krIicgZG9lcyBub3QgZXhpc3QuIikpLG8uc2V0U2VydmVyUmVzcG9uc2VQcm9wKHIuc2VydmVyUmVzcG9uc2VQcm9wKCkpLG99fWZ1bmN0aW9uIFN0KHQsZSxuKXt2YXIgcj10dChlLmZ1bGxTZXJ2ZXJVcmwoKSksaT10Lm1heE9wZXJhdGlvblJldHJ5VGltZSgpLG89bmV3IHl0KHIsIkdFVCIsbXQodCxuKSxpKTtyZXR1cm4gby5lcnJvckhhbmRsZXI9VHQoZSksb31mdW5jdGlvbiBPdCh0LGUsbixyLGkpe3ZhciBvPXt9O2UuaXNSb290P28ucHJlZml4PSIiOm8ucHJlZml4PWUucGF0aCsiLyIsbiYmbi5sZW5ndGg+MCYmKG8uZGVsaW1pdGVyPW4pLHImJihvLnBhZ2VUb2tlbj1yKSxpJiYoby5tYXhSZXN1bHRzPWkpO3ZhciBhPXR0KGUuYnVja2V0T25seVNlcnZlclVybCgpKSxzPXQubWF4T3BlcmF0aW9uUmV0cnlUaW1lKCksdT1uZXcgeXQoYSwiR0VUIixfdCh0KSxzKTtyZXR1cm4gdS51cmxQYXJhbXM9byx1LmVycm9ySGFuZGxlcj1FdChlKSx1fWZ1bmN0aW9uIFJ0KHQsZSxuKXt2YXIgcj10dChlLmZ1bGxTZXJ2ZXJVcmwoKSksaT10Lm1heE9wZXJhdGlvblJldHJ5VGltZSgpLG89bmV3IHl0KHIsIkdFVCIsd3QodCxuKSxpKTtyZXR1cm4gby5lcnJvckhhbmRsZXI9VHQoZSksb31mdW5jdGlvbiBBdCh0LGUsbixyKXt2YXIgaT10dChlLmZ1bGxTZXJ2ZXJVcmwoKSksbz11dChuLHIpLGE9dC5tYXhPcGVyYXRpb25SZXRyeVRpbWUoKSxzPW5ldyB5dChpLCJQQVRDSCIsbXQodCxyKSxhKTtyZXR1cm4gcy5oZWFkZXJzPXsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCJ9LHMuYm9keT1vLHMuZXJyb3JIYW5kbGVyPVR0KGUpLHN9ZnVuY3Rpb24gQ3QodCxlKXt2YXIgbj10dChlLmZ1bGxTZXJ2ZXJVcmwoKSkscj10Lm1heE9wZXJhdGlvblJldHJ5VGltZSgpO3ZhciBpPW5ldyB5dChuLCJERUxFVEUiLChmdW5jdGlvbih0LGUpe30pLHIpO3JldHVybiBpLnN1Y2Nlc3NDb2Rlcz1bMjAwLDIwNF0saS5lcnJvckhhbmRsZXI9VHQoZSksaX1mdW5jdGlvbiBOdCh0LGUsbil7dmFyIHI9T2JqZWN0LmFzc2lnbih7fSxuKTtyZXR1cm4gci5mdWxsUGF0aD10LnBhdGgsci5zaXplPWUuc2l6ZSgpLHIuY29udGVudFR5cGV8fChyLmNvbnRlbnRUeXBlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQuY29udGVudFR5cGV8fGUmJmUudHlwZSgpfHwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIn0obnVsbCxlKSkscn12YXIgSXQ9ZnVuY3Rpb24odCxlLG4scil7dGhpcy5jdXJyZW50PXQsdGhpcy50b3RhbD1lLHRoaXMuZmluYWxpemVkPSEhbix0aGlzLm1ldGFkYXRhPXJ8fG51bGx9O2Z1bmN0aW9uIGt0KHQsZSl7dmFyIG49bnVsbDt0cnl7bj10LmdldFJlc3BvbnNlSGVhZGVyKCJYLUdvb2ctVXBsb2FkLVN0YXR1cyIpfWNhdGNoKHIpe2d0KCExKX1yZXR1cm4gZ3QoISFuJiYtMSE9PShlfHxbImFjdGl2ZSJdKS5pbmRleE9mKG4pKSxufWZ1bmN0aW9uIFB0KHQsZSxuLHIsaSxvLGEscyl7dmFyIHU9bmV3IEl0KDAsMCk7aWYoYT8odS5jdXJyZW50PWEuY3VycmVudCx1LnRvdGFsPWEudG90YWwpOih1LmN1cnJlbnQ9MCx1LnRvdGFsPXIuc2l6ZSgpKSxyLnNpemUoKSE9PXUudG90YWwpdGhyb3cgbmV3IGYocC5TRVJWRVJfRklMRV9XUk9OR19TSVpFLCJTZXJ2ZXIgcmVjb3JkZWQgaW5jb3JyZWN0IHVwbG9hZCBmaWxlIHNpemUsIHBsZWFzZSByZXRyeSB0aGUgdXBsb2FkLiIpO3ZhciBjPXUudG90YWwtdS5jdXJyZW50LGg9YztpPjAmJihoPU1hdGgubWluKGgsaSkpO3ZhciBsPXUuY3VycmVudCxkPWwraCx2PXsiWC1Hb29nLVVwbG9hZC1Db21tYW5kIjpoPT09Yz8idXBsb2FkLCBmaW5hbGl6ZSI6InVwbG9hZCIsIlgtR29vZy1VcGxvYWQtT2Zmc2V0Ijp1LmN1cnJlbnR9LGI9ci5zbGljZShsLGQpO2lmKG51bGw9PT1iKXRocm93IHkoKTt2YXIgZz1lLm1heFVwbG9hZFJldHJ5VGltZSgpLG09bmV3IHl0KG4sIlBPU1QiLChmdW5jdGlvbih0LG4pe3ZhciBpLGE9a3QodCxbImFjdGl2ZSIsImZpbmFsIl0pLHM9dS5jdXJyZW50K2gsYz1yLnNpemUoKTtyZXR1cm4gaT0iZmluYWwiPT09YT9tdChlLG8pKHQsbik6bnVsbCxuZXcgSXQocyxjLCJmaW5hbCI9PT1hLGkpfSksZyk7cmV0dXJuIG0uaGVhZGVycz12LG0uYm9keT1iLnVwbG9hZERhdGEoKSxtLnByb2dyZXNzQ2FsbGJhY2s9c3x8bnVsbCxtLmVycm9ySGFuZGxlcj1FdCh0KSxtfXZhciB4dD1mdW5jdGlvbih0LGUsbil7aWYoaih0KXx8RChlKXx8RChuKSl0aGlzLm5leHQ9dCx0aGlzLmVycm9yPWV8fG51bGwsdGhpcy5jb21wbGV0ZT1ufHxudWxsO2Vsc2V7dmFyIHI9dDt0aGlzLm5leHQ9ci5uZXh0fHxudWxsLHRoaXMuZXJyb3I9ci5lcnJvcnx8bnVsbCx0aGlzLmNvbXBsZXRlPXIuY29tcGxldGV8fG51bGx9fSxVdD1mdW5jdGlvbih0LGUsbixyLGksbyl7dGhpcy5ieXRlc1RyYW5zZmVycmVkPXQsdGhpcy50b3RhbEJ5dGVzPWUsdGhpcy5zdGF0ZT1uLHRoaXMubWV0YWRhdGE9cix0aGlzLnRhc2s9aSx0aGlzLnJlZj1vfTtmdW5jdGlvbiBEdCh0LGUsbil7Zm9yKHZhciByPWUubGVuZ3RoLGk9ZS5sZW5ndGgsbz0wO288ZS5sZW5ndGg7bysrKWlmKGVbb10ub3B0aW9uYWwpe3I9bzticmVha31pZighKHI8PW4ubGVuZ3RoJiZuLmxlbmd0aDw9aSkpdGhyb3cgZnVuY3Rpb24odCxlLG4scil7dmFyIGksbztyZXR1cm4gdD09PWU/KGk9dCxvPTE9PT10PyJhcmd1bWVudCI6ImFyZ3VtZW50cyIpOihpPSJiZXR3ZWVuICIrdCsiIGFuZCAiK2Usbz0iYXJndW1lbnRzIiksbmV3IGYocC5JTlZBTElEX0FSR1VNRU5UX0NPVU5ULCJJbnZhbGlkIGFyZ3VtZW50IGNvdW50IGluIGAiK24rImA6IEV4cGVjdGVkICIraSsiICIrbysiLCByZWNlaXZlZCAiK3IrIi4iKX0ocixpLHQsbi5sZW5ndGgpO2ZvcihvPTA7bzxuLmxlbmd0aDtvKyspdHJ5e2Vbb10udmFsaWRhdG9yKG5bb10pfWNhdGNoKGEpe3Rocm93IGEgaW5zdGFuY2VvZiBFcnJvcj9tKG8sdCxhLm1lc3NhZ2UpOm0obyx0LGEpfX12YXIgTHQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMudmFsaWRhdG9yPWZ1bmN0aW9uKGUpe24ub3B0aW9uYWwmJiFMKGUpfHx0KGUpfSx0aGlzLm9wdGlvbmFsPSEhZX07ZnVuY3Rpb24ganQodCxlKXtmdW5jdGlvbiBuKHQpe2lmKCFGKHQpKXRocm93IkV4cGVjdGVkIHN0cmluZy4ifXZhciByLGksbztyZXR1cm4gdD8oaT1uLG89dCxyPWZ1bmN0aW9uKHQpe2kodCksbyh0KX0pOnI9bixuZXcgTHQocixlKX1mdW5jdGlvbiBNdCgpe3JldHVybiBuZXcgTHQoKGZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8eigpJiZ0IGluc3RhbmNlb2YgQmxvYikpdGhyb3ciRXhwZWN0ZWQgQmxvYiBvciBGaWxlLiJ9KSl9ZnVuY3Rpb24gQnQodCl7cmV0dXJuIG5ldyBMdChjdCx0KX1mdW5jdGlvbiBGdCh0KXtyZXR1cm4gbmV3IEx0KGJ0LHQpfWZ1bmN0aW9uIFd0KCl7cmV0dXJuIG5ldyBMdCgoZnVuY3Rpb24odCl7aWYoIShIKHQpJiZ0Pj0wKSl0aHJvdyJFeHBlY3RlZCBhIG51bWJlciAwIG9yIGdyZWF0ZXIuIn0pKX1mdW5jdGlvbiBIdCh0LGUpe3JldHVybiBuZXcgTHQoKGZ1bmN0aW9uKGUpe2lmKCEobnVsbD09PWV8fEQoZSkmJmUgaW5zdGFuY2VvZiBPYmplY3QpKXRocm93IkV4cGVjdGVkIGFuIE9iamVjdC4iO3ZvaWQgMCE9PXQmJm51bGwhPT10JiZ0KGUpfSksZSl9ZnVuY3Rpb24gR3QodCl7cmV0dXJuIG5ldyBMdCgoZnVuY3Rpb24odCl7aWYoIShudWxsPT09dHx8aih0KSkpdGhyb3ciRXhwZWN0ZWQgYSBGdW5jdGlvbi4ifSksdCl9ZnVuY3Rpb24genQodCl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbl09YXJndW1lbnRzW25dO1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodm9pZCAwLGUpfSkpfX12YXIgVnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvKXt2YXIgYT10aGlzO3ZvaWQgMD09PW8mJihvPW51bGwpLHRoaXMudHJhbnNmZXJyZWRfPTAsdGhpcy5uZWVkVG9GZXRjaFN0YXR1c189ITEsdGhpcy5uZWVkVG9GZXRjaE1ldGFkYXRhXz0hMSx0aGlzLm9ic2VydmVyc189W10sdGhpcy5lcnJvcl89bnVsbCx0aGlzLnVwbG9hZFVybF89bnVsbCx0aGlzLnJlcXVlc3RfPW51bGwsdGhpcy5jaHVua011bHRpcGxpZXJfPTEsdGhpcy5yZXNvbHZlXz1udWxsLHRoaXMucmVqZWN0Xz1udWxsLHRoaXMucmVmXz10LHRoaXMuYXV0aFdyYXBwZXJfPWUsdGhpcy5sb2NhdGlvbl89bix0aGlzLmJsb2JfPWksdGhpcy5tZXRhZGF0YV89byx0aGlzLm1hcHBpbmdzXz1yLHRoaXMucmVzdW1hYmxlXz10aGlzLnNob3VsZERvUmVzdW1hYmxlXyh0aGlzLmJsb2JfKSx0aGlzLnN0YXRlXz1QLlJVTk5JTkcsdGhpcy5lcnJvckhhbmRsZXJfPWZ1bmN0aW9uKHQpe2EucmVxdWVzdF89bnVsbCxhLmNodW5rTXVsdGlwbGllcl89MSx0LmNvZGVFcXVhbHMocC5DQU5DRUxFRCk/KGEubmVlZFRvRmV0Y2hTdGF0dXNfPSEwLGEuY29tcGxldGVUcmFuc2l0aW9uc18oKSk6KGEuZXJyb3JfPXQsYS50cmFuc2l0aW9uXyhQLkVSUk9SKSl9LHRoaXMubWV0YWRhdGFFcnJvckhhbmRsZXJfPWZ1bmN0aW9uKHQpe2EucmVxdWVzdF89bnVsbCx0LmNvZGVFcXVhbHMocC5DQU5DRUxFRCk/YS5jb21wbGV0ZVRyYW5zaXRpb25zXygpOihhLmVycm9yXz10LGEudHJhbnNpdGlvbl8oUC5FUlJPUikpfSx0aGlzLnByb21pc2VfPW5ldyBQcm9taXNlKChmdW5jdGlvbih0LGUpe2EucmVzb2x2ZV89dCxhLnJlamVjdF89ZSxhLnN0YXJ0XygpfSkpLHRoaXMucHJvbWlzZV8udGhlbihudWxsLChmdW5jdGlvbigpe30pKX1yZXR1cm4gdC5wcm90b3R5cGUubWFrZVByb2dyZXNzQ2FsbGJhY2tfPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMudHJhbnNmZXJyZWRfO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdC51cGRhdGVQcm9ncmVzc18oZStuKX19LHQucHJvdG90eXBlLnNob3VsZERvUmVzdW1hYmxlXz1mdW5jdGlvbih0KXtyZXR1cm4gdC5zaXplKCk+MjYyMTQ0fSx0LnByb3RvdHlwZS5zdGFydF89ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09PVAuUlVOTklORyYmbnVsbD09PXRoaXMucmVxdWVzdF8mJih0aGlzLnJlc3VtYWJsZV8/bnVsbD09PXRoaXMudXBsb2FkVXJsXz90aGlzLmNyZWF0ZVJlc3VtYWJsZV8oKTp0aGlzLm5lZWRUb0ZldGNoU3RhdHVzXz90aGlzLmZldGNoU3RhdHVzXygpOnRoaXMubmVlZFRvRmV0Y2hNZXRhZGF0YV8/dGhpcy5mZXRjaE1ldGFkYXRhXygpOnRoaXMuY29udGludWVVcGxvYWRfKCk6dGhpcy5vbmVTaG90VXBsb2FkXygpKX0sdC5wcm90b3R5cGUucmVzb2x2ZVRva2VuXz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuYXV0aFdyYXBwZXJfLmdldEF1dGhUb2tlbigpLnRoZW4oKGZ1bmN0aW9uKG4pe3N3aXRjaChlLnN0YXRlXyl7Y2FzZSBQLlJVTk5JTkc6dChuKTticmVhaztjYXNlIFAuQ0FOQ0VMSU5HOmUudHJhbnNpdGlvbl8oUC5DQU5DRUxFRCk7YnJlYWs7Y2FzZSBQLlBBVVNJTkc6ZS50cmFuc2l0aW9uXyhQLlBBVVNFRCl9fSkpfSx0LnByb3RvdHlwZS5jcmVhdGVSZXN1bWFibGVfPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnJlc29sdmVUb2tlbl8oKGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89ZS5idWNrZXRPbmx5U2VydmVyVXJsKCksYT1OdChlLHIsaSkscz17bmFtZTphLmZ1bGxQYXRofSx1PXR0KG8pLGM9eyJYLUdvb2ctVXBsb2FkLVByb3RvY29sIjoicmVzdW1hYmxlIiwiWC1Hb29nLVVwbG9hZC1Db21tYW5kIjoic3RhcnQiLCJYLUdvb2ctVXBsb2FkLUhlYWRlci1Db250ZW50LUxlbmd0aCI6ci5zaXplKCksIlgtR29vZy1VcGxvYWQtSGVhZGVyLUNvbnRlbnQtVHlwZSI6YS5jb250ZW50VHlwZSwiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCJ9LGg9dXQoYSxuKSxsPXQubWF4VXBsb2FkUmV0cnlUaW1lKCksZj1uZXcgeXQodSwiUE9TVCIsKGZ1bmN0aW9uKHQpe3ZhciBlO2t0KHQpO3RyeXtlPXQuZ2V0UmVzcG9uc2VIZWFkZXIoIlgtR29vZy1VcGxvYWQtVVJMIil9Y2F0Y2gobil7Z3QoITEpfXJldHVybiBndChGKGUpKSxlfSksbCk7cmV0dXJuIGYudXJsUGFyYW1zPXMsZi5oZWFkZXJzPWMsZi5ib2R5PWgsZi5lcnJvckhhbmRsZXI9RXQoZSksZn0odC5hdXRoV3JhcHBlcl8sdC5sb2NhdGlvbl8sdC5tYXBwaW5nc18sdC5ibG9iXyx0Lm1ldGFkYXRhXykscj10LmF1dGhXcmFwcGVyXy5tYWtlUmVxdWVzdChuLGUpO3QucmVxdWVzdF89cixyLmdldFByb21pc2UoKS50aGVuKChmdW5jdGlvbihlKXt0LnJlcXVlc3RfPW51bGwsdC51cGxvYWRVcmxfPWUsdC5uZWVkVG9GZXRjaFN0YXR1c189ITEsdC5jb21wbGV0ZVRyYW5zaXRpb25zXygpfSksdC5lcnJvckhhbmRsZXJfKX0pKX0sdC5wcm90b3R5cGUuZmV0Y2hTdGF0dXNfPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMudXBsb2FkVXJsXzt0aGlzLnJlc29sdmVUb2tlbl8oKGZ1bmN0aW9uKG4pe3ZhciByPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXQubWF4VXBsb2FkUmV0cnlUaW1lKCksbz1uZXcgeXQobiwiUE9TVCIsKGZ1bmN0aW9uKHQpe3ZhciBlPWt0KHQsWyJhY3RpdmUiLCJmaW5hbCJdKSxuPW51bGw7dHJ5e249dC5nZXRSZXNwb25zZUhlYWRlcigiWC1Hb29nLVVwbG9hZC1TaXplLVJlY2VpdmVkIil9Y2F0Y2gobyl7Z3QoITEpfW58fGd0KCExKTt2YXIgaT1OdW1iZXIobik7cmV0dXJuIGd0KCFpc05hTihpKSksbmV3IEl0KGksci5zaXplKCksImZpbmFsIj09PWUpfSksaSk7cmV0dXJuIG8uaGVhZGVycz17IlgtR29vZy1VcGxvYWQtQ29tbWFuZCI6InF1ZXJ5In0sby5lcnJvckhhbmRsZXI9RXQoZSksb30odC5hdXRoV3JhcHBlcl8sdC5sb2NhdGlvbl8sZSx0LmJsb2JfKSxpPXQuYXV0aFdyYXBwZXJfLm1ha2VSZXF1ZXN0KHIsbik7dC5yZXF1ZXN0Xz1pLGkuZ2V0UHJvbWlzZSgpLnRoZW4oKGZ1bmN0aW9uKGUpe2U9ZSx0LnJlcXVlc3RfPW51bGwsdC51cGRhdGVQcm9ncmVzc18oZS5jdXJyZW50KSx0Lm5lZWRUb0ZldGNoU3RhdHVzXz0hMSxlLmZpbmFsaXplZCYmKHQubmVlZFRvRmV0Y2hNZXRhZGF0YV89ITApLHQuY29tcGxldGVUcmFuc2l0aW9uc18oKX0pLHQuZXJyb3JIYW5kbGVyXyl9KSl9LHQucHJvdG90eXBlLmNvbnRpbnVlVXBsb2FkXz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT0yNjIxNDQqdGhpcy5jaHVua011bHRpcGxpZXJfLG49bmV3IEl0KHRoaXMudHJhbnNmZXJyZWRfLHRoaXMuYmxvYl8uc2l6ZSgpKSxyPXRoaXMudXBsb2FkVXJsXzt0aGlzLnJlc29sdmVUb2tlbl8oKGZ1bmN0aW9uKGkpe3ZhciBvO3RyeXtvPVB0KHQubG9jYXRpb25fLHQuYXV0aFdyYXBwZXJfLHIsdC5ibG9iXyxlLHQubWFwcGluZ3NfLG4sdC5tYWtlUHJvZ3Jlc3NDYWxsYmFja18oKSl9Y2F0Y2gocyl7cmV0dXJuIHQuZXJyb3JfPXMsdm9pZCB0LnRyYW5zaXRpb25fKFAuRVJST1IpfXZhciBhPXQuYXV0aFdyYXBwZXJfLm1ha2VSZXF1ZXN0KG8saSk7dC5yZXF1ZXN0Xz1hLGEuZ2V0UHJvbWlzZSgpLnRoZW4oKGZ1bmN0aW9uKGUpe3QuaW5jcmVhc2VNdWx0aXBsaWVyXygpLHQucmVxdWVzdF89bnVsbCx0LnVwZGF0ZVByb2dyZXNzXyhlLmN1cnJlbnQpLGUuZmluYWxpemVkPyh0Lm1ldGFkYXRhXz1lLm1ldGFkYXRhLHQudHJhbnNpdGlvbl8oUC5TVUNDRVNTKSk6dC5jb21wbGV0ZVRyYW5zaXRpb25zXygpfSksdC5lcnJvckhhbmRsZXJfKX0pKX0sdC5wcm90b3R5cGUuaW5jcmVhc2VNdWx0aXBsaWVyXz1mdW5jdGlvbigpezI2MjE0NCp0aGlzLmNodW5rTXVsdGlwbGllcl88MzM1NTQ0MzImJih0aGlzLmNodW5rTXVsdGlwbGllcl8qPTIpfSx0LnByb3RvdHlwZS5mZXRjaE1ldGFkYXRhXz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5yZXNvbHZlVG9rZW5fKChmdW5jdGlvbihlKXt2YXIgbj1TdCh0LmF1dGhXcmFwcGVyXyx0LmxvY2F0aW9uXyx0Lm1hcHBpbmdzXykscj10LmF1dGhXcmFwcGVyXy5tYWtlUmVxdWVzdChuLGUpO3QucmVxdWVzdF89cixyLmdldFByb21pc2UoKS50aGVuKChmdW5jdGlvbihlKXt0LnJlcXVlc3RfPW51bGwsdC5tZXRhZGF0YV89ZSx0LnRyYW5zaXRpb25fKFAuU1VDQ0VTUyl9KSx0Lm1ldGFkYXRhRXJyb3JIYW5kbGVyXyl9KSl9LHQucHJvdG90eXBlLm9uZVNob3RVcGxvYWRfPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnJlc29sdmVUb2tlbl8oKGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89ZS5idWNrZXRPbmx5U2VydmVyVXJsKCksYT17IlgtR29vZy1VcGxvYWQtUHJvdG9jb2wiOiJtdWx0aXBhcnQifSxzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PSIiLGU9MDtlPDI7ZSsrKXQrPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoKS5zbGljZSgyKTtyZXR1cm4gdH0oKTthWyJDb250ZW50LVR5cGUiXT0ibXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PSIrczt2YXIgdT1OdChlLHIsaSksYz0iLS0iK3MrIlxyXG5Db250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcclxuXHJcbiIrdXQodSxuKSsiXHJcbi0tIitzKyJcclxuQ29udGVudC1UeXBlOiAiK3UuY29udGVudFR5cGUrIlxyXG5cclxuIixoPSJcclxuLS0iK3MrIi0tIixsPUouZ2V0QmxvYihjLHIsaCk7aWYobnVsbD09PWwpdGhyb3cgeSgpO3ZhciBmPXtuYW1lOnUuZnVsbFBhdGh9LHA9dHQobyksZD10Lm1heFVwbG9hZFJldHJ5VGltZSgpLHY9bmV3IHl0KHAsIlBPU1QiLG10KHQsbiksZCk7cmV0dXJuIHYudXJsUGFyYW1zPWYsdi5oZWFkZXJzPWEsdi5ib2R5PWwudXBsb2FkRGF0YSgpLHYuZXJyb3JIYW5kbGVyPUV0KGUpLHZ9KHQuYXV0aFdyYXBwZXJfLHQubG9jYXRpb25fLHQubWFwcGluZ3NfLHQuYmxvYl8sdC5tZXRhZGF0YV8pLHI9dC5hdXRoV3JhcHBlcl8ubWFrZVJlcXVlc3QobixlKTt0LnJlcXVlc3RfPXIsci5nZXRQcm9taXNlKCkudGhlbigoZnVuY3Rpb24oZSl7dC5yZXF1ZXN0Xz1udWxsLHQubWV0YWRhdGFfPWUsdC51cGRhdGVQcm9ncmVzc18odC5ibG9iXy5zaXplKCkpLHQudHJhbnNpdGlvbl8oUC5TVUNDRVNTKX0pLHQuZXJyb3JIYW5kbGVyXyl9KSl9LHQucHJvdG90eXBlLnVwZGF0ZVByb2dyZXNzXz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRyYW5zZmVycmVkXzt0aGlzLnRyYW5zZmVycmVkXz10LHRoaXMudHJhbnNmZXJyZWRfIT09ZSYmdGhpcy5ub3RpZnlPYnNlcnZlcnNfKCl9LHQucHJvdG90eXBlLnRyYW5zaXRpb25fPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc3RhdGVfIT09dClzd2l0Y2godCl7Y2FzZSBQLkNBTkNFTElORzpjYXNlIFAuUEFVU0lORzp0aGlzLnN0YXRlXz10LG51bGwhPT10aGlzLnJlcXVlc3RfJiZ0aGlzLnJlcXVlc3RfLmNhbmNlbCgpO2JyZWFrO2Nhc2UgUC5SVU5OSU5HOnZhciBlPXRoaXMuc3RhdGVfPT09UC5QQVVTRUQ7dGhpcy5zdGF0ZV89dCxlJiYodGhpcy5ub3RpZnlPYnNlcnZlcnNfKCksdGhpcy5zdGFydF8oKSk7YnJlYWs7Y2FzZSBQLlBBVVNFRDp0aGlzLnN0YXRlXz10LHRoaXMubm90aWZ5T2JzZXJ2ZXJzXygpO2JyZWFrO2Nhc2UgUC5DQU5DRUxFRDp0aGlzLmVycm9yXz1iKCksdGhpcy5zdGF0ZV89dCx0aGlzLm5vdGlmeU9ic2VydmVyc18oKTticmVhaztjYXNlIFAuRVJST1I6Y2FzZSBQLlNVQ0NFU1M6dGhpcy5zdGF0ZV89dCx0aGlzLm5vdGlmeU9ic2VydmVyc18oKX19LHQucHJvdG90eXBlLmNvbXBsZXRlVHJhbnNpdGlvbnNfPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuc3RhdGVfKXtjYXNlIFAuUEFVU0lORzp0aGlzLnRyYW5zaXRpb25fKFAuUEFVU0VEKTticmVhaztjYXNlIFAuQ0FOQ0VMSU5HOnRoaXMudHJhbnNpdGlvbl8oUC5DQU5DRUxFRCk7YnJlYWs7Y2FzZSBQLlJVTk5JTkc6dGhpcy5zdGFydF8oKX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwic25hcHNob3QiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1VKHRoaXMuc3RhdGVfKTtyZXR1cm4gbmV3IFV0KHRoaXMudHJhbnNmZXJyZWRfLHRoaXMuYmxvYl8uc2l6ZSgpLHQsdGhpcy5tZXRhZGF0YV8sdGhpcyx0aGlzLnJlZl8pfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSxuLHIpe2Z1bmN0aW9uIGkoKXtpZih0IT09ay5TVEFURV9DSEFOR0VEKXRocm93IkV4cGVjdGVkIG9uZSBvZiB0aGUgZXZlbnQgdHlwZXM6IFsiK2suU1RBVEVfQ0hBTkdFRCsiXS4ifXZhciBvPSJFeHBlY3RlZCBhIGZ1bmN0aW9uIG9yIGFuIE9iamVjdCB3aXRoIG9uZSBvZiBgbmV4dGAsIGBlcnJvcmAsIGBjb21wbGV0ZWAgcHJvcGVydGllcy4iLGE9R3QoITApLnZhbGlkYXRvcixzPUh0KG51bGwsITApLnZhbGlkYXRvcjtmdW5jdGlvbiB1KHQpe3RyeXtyZXR1cm4gdm9pZCBhKHQpfWNhdGNoKGUpe310cnl7aWYocyh0KSwhKEwodC5uZXh0KXx8TCh0LmVycm9yKXx8TCh0LmNvbXBsZXRlKSkpdGhyb3ciIjtyZXR1cm59Y2F0Y2goZSl7dGhyb3cgb319dmFyIGM9W2p0KGkpLEh0KHUsITApLEd0KCEwKSxHdCghMCldO0R0KCJvbiIsYyxhcmd1bWVudHMpO3ZhciBoPXRoaXM7ZnVuY3Rpb24gbCh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLGkpe251bGwhPT10JiZEdCgib24iLHQsYXJndW1lbnRzKTt2YXIgbz1uZXcgeHQoZSxuLHIpO3JldHVybiBoLmFkZE9ic2VydmVyXyhvKSxmdW5jdGlvbigpe2gucmVtb3ZlT2JzZXJ2ZXJfKG8pfX19ZnVuY3Rpb24gZih0KXtpZihudWxsPT09dCl0aHJvdyBvO3UodCl9dmFyIHA9W0h0KGYpLEd0KCEwKSxHdCghMCldLGQ9IShMKGUpfHxMKG4pfHxMKHIpKTtyZXR1cm4gZD9sKHApOmwobnVsbCkoZSxuLHIpfSx0LnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucHJvbWlzZV8udGhlbih0LGUpfSx0LnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKG51bGwsdCl9LHQucHJvdG90eXBlLmFkZE9ic2VydmVyXz1mdW5jdGlvbih0KXt0aGlzLm9ic2VydmVyc18ucHVzaCh0KSx0aGlzLm5vdGlmeU9ic2VydmVyXyh0KX0sdC5wcm90b3R5cGUucmVtb3ZlT2JzZXJ2ZXJfPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub2JzZXJ2ZXJzXy5pbmRleE9mKHQpOy0xIT09ZSYmdGhpcy5vYnNlcnZlcnNfLnNwbGljZShlLDEpfSx0LnByb3RvdHlwZS5ub3RpZnlPYnNlcnZlcnNfPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmZpbmlzaFByb21pc2VfKCksdGhpcy5vYnNlcnZlcnNfLnNsaWNlKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5ub3RpZnlPYnNlcnZlcl8oZSl9KSl9LHQucHJvdG90eXBlLmZpbmlzaFByb21pc2VfPWZ1bmN0aW9uKCl7aWYobnVsbCE9PXRoaXMucmVzb2x2ZV8pe3ZhciB0PSEwO3N3aXRjaChVKHRoaXMuc3RhdGVfKSl7Y2FzZSB4LlNVQ0NFU1M6enQodGhpcy5yZXNvbHZlXy5iaW5kKG51bGwsdGhpcy5zbmFwc2hvdCkpKCk7YnJlYWs7Y2FzZSB4LkNBTkNFTEVEOmNhc2UgeC5FUlJPUjp6dCh0aGlzLnJlamVjdF8uYmluZChudWxsLHRoaXMuZXJyb3JfKSkoKTticmVhaztkZWZhdWx0OnQ9ITF9dCYmKHRoaXMucmVzb2x2ZV89bnVsbCx0aGlzLnJlamVjdF89bnVsbCl9fSx0LnByb3RvdHlwZS5ub3RpZnlPYnNlcnZlcl89ZnVuY3Rpb24odCl7c3dpdGNoKFUodGhpcy5zdGF0ZV8pKXtjYXNlIHguUlVOTklORzpjYXNlIHguUEFVU0VEOnQubmV4dCYmenQodC5uZXh0LmJpbmQodCx0aGlzLnNuYXBzaG90KSkoKTticmVhaztjYXNlIHguU1VDQ0VTUzp0LmNvbXBsZXRlJiZ6dCh0LmNvbXBsZXRlLmJpbmQodCkpKCk7YnJlYWs7Y2FzZSB4LkNBTkNFTEVEOmNhc2UgeC5FUlJPUjp0LmVycm9yJiZ6dCh0LmVycm9yLmJpbmQodCx0aGlzLmVycm9yXykpKCk7YnJlYWs7ZGVmYXVsdDp0LmVycm9yJiZ6dCh0LmVycm9yLmJpbmQodCx0aGlzLmVycm9yXykpKCl9fSx0LnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtEdCgicmVzdW1lIixbXSxhcmd1bWVudHMpO3ZhciB0PXRoaXMuc3RhdGVfPT09UC5QQVVTRUR8fHRoaXMuc3RhdGVfPT09UC5QQVVTSU5HO3JldHVybiB0JiZ0aGlzLnRyYW5zaXRpb25fKFAuUlVOTklORyksdH0sdC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtEdCgicGF1c2UiLFtdLGFyZ3VtZW50cyk7dmFyIHQ9dGhpcy5zdGF0ZV89PT1QLlJVTk5JTkc7cmV0dXJuIHQmJnRoaXMudHJhbnNpdGlvbl8oUC5QQVVTSU5HKSx0fSx0LnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXtEdCgiY2FuY2VsIixbXSxhcmd1bWVudHMpO3ZhciB0PXRoaXMuc3RhdGVfPT09UC5SVU5OSU5HfHx0aGlzLnN0YXRlXz09PVAuUEFVU0lORztyZXR1cm4gdCYmdGhpcy50cmFuc2l0aW9uXyhQLkNBTkNFTElORyksdH0sdH0oKSxYdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmF1dGhXcmFwcGVyPXQsdGhpcy5sb2NhdGlvbj1lIGluc3RhbmNlb2YgWT9lOlkubWFrZUZyb21VcmwoZSl9cmV0dXJuIHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIER0KCJ0b1N0cmluZyIsW10sYXJndW1lbnRzKSwiZ3M6Ly8iK3RoaXMubG9jYXRpb24uYnVja2V0KyIvIit0aGlzLmxvY2F0aW9uLnBhdGh9LHQucHJvdG90eXBlLm5ld1JlZj1mdW5jdGlvbihlLG4pe3JldHVybiBuZXcgdChlLG4pfSx0LnByb3RvdHlwZS5tYXBwaW5ncz1mdW5jdGlvbigpe3JldHVybiBvdCgpfSx0LnByb3RvdHlwZS5jaGlsZD1mdW5jdGlvbih0KXtEdCgiY2hpbGQiLFtqdCgpXSxhcmd1bWVudHMpO3ZhciBlPVoodGhpcy5sb2NhdGlvbi5wYXRoLHQpLG49bmV3IFkodGhpcy5sb2NhdGlvbi5idWNrZXQsZSk7cmV0dXJuIHRoaXMubmV3UmVmKHRoaXMuYXV0aFdyYXBwZXIsbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwicGFyZW50Iix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCl7aWYoMD09PXQubGVuZ3RoKXJldHVybiBudWxsO3ZhciBlPXQubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4tMT09PWU/IiI6dC5zbGljZSgwLGUpfSh0aGlzLmxvY2F0aW9uLnBhdGgpO2lmKG51bGw9PT10KXJldHVybiBudWxsO3ZhciBlPW5ldyBZKHRoaXMubG9jYXRpb24uYnVja2V0LHQpO3JldHVybiB0aGlzLm5ld1JlZih0aGlzLmF1dGhXcmFwcGVyLGUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwicm9vdCIse2dldDpmdW5jdGlvbigpe3ZhciB0PW5ldyBZKHRoaXMubG9jYXRpb24uYnVja2V0LCIiKTtyZXR1cm4gdGhpcy5uZXdSZWYodGhpcy5hdXRoV3JhcHBlcix0KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImJ1Y2tldCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2F0aW9uLmJ1Y2tldH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImZ1bGxQYXRoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYXRpb24ucGF0aH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm5hbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUSh0aGlzLmxvY2F0aW9uLnBhdGgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwic3RvcmFnZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF1dGhXcmFwcGVyLnNlcnZpY2UoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksRHQoInB1dCIsW010KCksQnQoITApXSxhcmd1bWVudHMpLHRoaXMudGhyb3dJZlJvb3RfKCJwdXQiKSxuZXcgVnQodGhpcyx0aGlzLmF1dGhXcmFwcGVyLHRoaXMubG9jYXRpb24sdGhpcy5tYXBwaW5ncygpLG5ldyBKKHQpLGUpfSx0LnByb3RvdHlwZS5wdXRTdHJpbmc9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPVQuUkFXKSxEdCgicHV0U3RyaW5nIixbanQoKSxqdChTLCEwKSxCdCghMCldLGFyZ3VtZW50cyksdGhpcy50aHJvd0lmUm9vdF8oInB1dFN0cmluZyIpO3ZhciByPVIoZSx0KSxpPU9iamVjdC5hc3NpZ24oe30sbik7cmV0dXJuIUQoaS5jb250ZW50VHlwZSkmJkQoci5jb250ZW50VHlwZSkmJihpLmNvbnRlbnRUeXBlPXIuY29udGVudFR5cGUpLG5ldyBWdCh0aGlzLHRoaXMuYXV0aFdyYXBwZXIsdGhpcy5sb2NhdGlvbix0aGlzLm1hcHBpbmdzKCksbmV3IEooci5kYXRhLCEwKSxpKX0sdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gRHQoImRlbGV0ZSIsW10sYXJndW1lbnRzKSx0aGlzLnRocm93SWZSb290XygiZGVsZXRlIiksdGhpcy5hdXRoV3JhcHBlci5nZXRBdXRoVG9rZW4oKS50aGVuKChmdW5jdGlvbihlKXt2YXIgbj1DdCh0LmF1dGhXcmFwcGVyLHQubG9jYXRpb24pO3JldHVybiB0LmF1dGhXcmFwcGVyLm1ha2VSZXF1ZXN0KG4sZSkuZ2V0UHJvbWlzZSgpfSkpfSx0LnByb3RvdHlwZS5saXN0QWxsPWZ1bmN0aW9uKCl7RHQoImxpc3RBbGwiLFtdLGFyZ3VtZW50cyk7dmFyIHQ9e3ByZWZpeGVzOltdLGl0ZW1zOltdfTtyZXR1cm4gdGhpcy5saXN0QWxsSGVscGVyKHQpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KSl9LHQucHJvdG90eXBlLmxpc3RBbGxIZWxwZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KG8uX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLGE7cmV0dXJuIE9iamVjdChvLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPXtwYWdlVG9rZW46ZX0sWzQsdGhpcy5saXN0KG4pXTtjYXNlIDE6cmV0dXJuIHI9by5zZW50KCksKGk9dC5wcmVmaXhlcykucHVzaC5hcHBseShpLHIucHJlZml4ZXMpLChhPXQuaXRlbXMpLnB1c2guYXBwbHkoYSxyLml0ZW1zKSxudWxsPT1yLm5leHRQYWdlVG9rZW4/WzMsM106WzQsdGhpcy5saXN0QWxsSGVscGVyKHQsci5uZXh0UGFnZVRva2VuKV07Y2FzZSAyOm8uc2VudCgpLG8ubGFiZWw9MztjYXNlIDM6cmV0dXJuWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUubGlzdD1mdW5jdGlvbih0KXtEdCgibGlzdCIsW0Z0KCEwKV0sYXJndW1lbnRzKTt2YXIgZT10aGlzO3JldHVybiB0aGlzLmF1dGhXcmFwcGVyLmdldEF1dGhUb2tlbigpLnRoZW4oKGZ1bmN0aW9uKG4pe3ZhciByPXR8fHt9LGk9T3QoZS5hdXRoV3JhcHBlcixlLmxvY2F0aW9uLCIvIixyLnBhZ2VUb2tlbixyLm1heFJlc3VsdHMpO3JldHVybiBlLmF1dGhXcmFwcGVyLm1ha2VSZXF1ZXN0KGksbikuZ2V0UHJvbWlzZSgpfSkpfSx0LnByb3RvdHlwZS5nZXRNZXRhZGF0YT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIER0KCJnZXRNZXRhZGF0YSIsW10sYXJndW1lbnRzKSx0aGlzLnRocm93SWZSb290XygiZ2V0TWV0YWRhdGEiKSx0aGlzLmF1dGhXcmFwcGVyLmdldEF1dGhUb2tlbigpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBuPVN0KHQuYXV0aFdyYXBwZXIsdC5sb2NhdGlvbix0Lm1hcHBpbmdzKCkpO3JldHVybiB0LmF1dGhXcmFwcGVyLm1ha2VSZXF1ZXN0KG4sZSkuZ2V0UHJvbWlzZSgpfSkpfSx0LnByb3RvdHlwZS51cGRhdGVNZXRhZGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBEdCgidXBkYXRlTWV0YWRhdGEiLFtCdCgpXSxhcmd1bWVudHMpLHRoaXMudGhyb3dJZlJvb3RfKCJ1cGRhdGVNZXRhZGF0YSIpLHRoaXMuYXV0aFdyYXBwZXIuZ2V0QXV0aFRva2VuKCkudGhlbigoZnVuY3Rpb24obil7dmFyIHI9QXQoZS5hdXRoV3JhcHBlcixlLmxvY2F0aW9uLHQsZS5tYXBwaW5ncygpKTtyZXR1cm4gZS5hdXRoV3JhcHBlci5tYWtlUmVxdWVzdChyLG4pLmdldFByb21pc2UoKX0pKX0sdC5wcm90b3R5cGUuZ2V0RG93bmxvYWRVUkw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBEdCgiZ2V0RG93bmxvYWRVUkwiLFtdLGFyZ3VtZW50cyksdGhpcy50aHJvd0lmUm9vdF8oImdldERvd25sb2FkVVJMIiksdGhpcy5hdXRoV3JhcHBlci5nZXRBdXRoVG9rZW4oKS50aGVuKChmdW5jdGlvbihlKXt2YXIgbj1SdCh0LmF1dGhXcmFwcGVyLHQubG9jYXRpb24sdC5tYXBwaW5ncygpKTtyZXR1cm4gdC5hdXRoV3JhcHBlci5tYWtlUmVxdWVzdChuLGUpLmdldFByb21pc2UoKS50aGVuKChmdW5jdGlvbih0KXtpZihudWxsPT09dCl0aHJvdyBnKCk7cmV0dXJuIHR9KSl9KSl9LHQucHJvdG90eXBlLnRocm93SWZSb290Xz1mdW5jdGlvbih0KXtpZigiIj09PXRoaXMubG9jYXRpb24ucGF0aCl0aHJvdyBmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGYocC5JTlZBTElEX1JPT1RfT1BFUkFUSU9OLCJUaGUgb3BlcmF0aW9uICciK3QrIicgY2Fubm90IGJlIHBlcmZvcm1lZCBvbiBhIHJvb3QgcmVmZXJlbmNlLCBjcmVhdGUgYSBub24tcm9vdCByZWZlcmVuY2UgdXNpbmcgY2hpbGQsIHN1Y2ggYXMgLmNoaWxkKCdmaWxlLnBuZycpLiIpfSh0KX0sdH0oKSxxdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5wcm9taXNlXz1Qcm9taXNlLnJlamVjdCh0KX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0UHJvbWlzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByb21pc2VffSx0LnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24odCl7fSx0fSgpLEt0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMubWFwPW5ldyBNYXAsdGhpcy5pZD1sfXJldHVybiB0LnByb3RvdHlwZS5hZGRSZXF1ZXN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLmlkO3RoaXMuaWQrKyx0aGlzLm1hcC5zZXQobix0KSx0LmdldFByb21pc2UoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLm1hcC5kZWxldGUobil9KSwoZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAuZGVsZXRlKG4pfSkpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMubWFwLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QmJnQuY2FuY2VsKCEwKX0pKSx0aGlzLm1hcC5jbGVhcigpfSx0fSgpLEp0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4scixpLG8sYSl7aWYodGhpcy5idWNrZXRfPW51bGwsdGhpcy5kZWxldGVkXz0hMSx0aGlzLmFwcF89ZSxudWxsIT09dGhpcy5hcHBfKXt2YXIgcz10aGlzLmFwcF8ub3B0aW9ucztEKHMpJiYodGhpcy5idWNrZXRfPXQuZXh0cmFjdEJ1Y2tldF8ocykpfXRoaXMuYXV0aFByb3ZpZGVyXz1uLHRoaXMuc3RvcmFnZVJlZk1ha2VyXz1yLHRoaXMucmVxdWVzdE1ha2VyXz1pLHRoaXMucG9vbF89YSx0aGlzLnNlcnZpY2VfPW8sdGhpcy5tYXhPcGVyYXRpb25SZXRyeVRpbWVfPWMsdGhpcy5tYXhVcGxvYWRSZXRyeVRpbWVfPWgsdGhpcy5yZXF1ZXN0TWFwXz1uZXcgS3R9cmV0dXJuIHQuZXh0cmFjdEJ1Y2tldF89ZnVuY3Rpb24odCl7dmFyIGU9dFt1XXx8bnVsbDtyZXR1cm4gbnVsbD09ZT9udWxsOlkubWFrZUZyb21CdWNrZXRTcGVjKGUpLmJ1Y2tldH0sdC5wcm90b3R5cGUuZ2V0QXV0aFRva2VuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hdXRoUHJvdmlkZXJfLmdldEltbWVkaWF0ZSh7b3B0aW9uYWw6ITB9KTtyZXR1cm4gdD90LmdldFRva2VuKCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10P3QuYWNjZXNzVG9rZW46bnVsbH0pLChmdW5jdGlvbigpe3JldHVybiBudWxsfSkpOlByb21pc2UucmVzb2x2ZShudWxsKX0sdC5wcm90b3R5cGUuYnVja2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5kZWxldGVkXyl0aHJvdyBfKCk7cmV0dXJuIHRoaXMuYnVja2V0X30sdC5wcm90b3R5cGUuc2VydmljZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlcnZpY2VffSx0LnByb3RvdHlwZS5tYWtlU3RvcmFnZVJlZmVyZW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdG9yYWdlUmVmTWFrZXJfKHRoaXMsdCl9LHQucHJvdG90eXBlLm1ha2VSZXF1ZXN0PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5kZWxldGVkXylyZXR1cm4gbmV3IHF0KF8oKSk7dmFyIG49dGhpcy5yZXF1ZXN0TWFrZXJfKHQsZSx0aGlzLnBvb2xfKTtyZXR1cm4gdGhpcy5yZXF1ZXN0TWFwXy5hZGRSZXF1ZXN0KG4pLG59LHQucHJvdG90eXBlLmRlbGV0ZUFwcD1mdW5jdGlvbigpe3RoaXMuZGVsZXRlZF89ITAsdGhpcy5hcHBfPW51bGwsdGhpcy5yZXF1ZXN0TWFwXy5jbGVhcigpfSx0LnByb3RvdHlwZS5tYXhVcGxvYWRSZXRyeVRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXhVcGxvYWRSZXRyeVRpbWVffSx0LnByb3RvdHlwZS5zZXRNYXhVcGxvYWRSZXRyeVRpbWU9ZnVuY3Rpb24odCl7dGhpcy5tYXhVcGxvYWRSZXRyeVRpbWVfPXR9LHQucHJvdG90eXBlLm1heE9wZXJhdGlvblJldHJ5VGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1heE9wZXJhdGlvblJldHJ5VGltZV99LHQucHJvdG90eXBlLnNldE1heE9wZXJhdGlvblJldHJ5VGltZT1mdW5jdGlvbih0KXt0aGlzLm1heE9wZXJhdGlvblJldHJ5VGltZV89dH0sdH0oKTt2YXIgWXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvLGEscyx1LGMsaCl7dmFyIGw9dGhpczt0aGlzLnBlbmRpbmdYaHJfPW51bGwsdGhpcy5iYWNrb2ZmSWRfPW51bGwsdGhpcy5yZXNvbHZlXz1udWxsLHRoaXMucmVqZWN0Xz1udWxsLHRoaXMuY2FuY2VsZWRfPSExLHRoaXMuYXBwRGVsZXRlXz0hMSx0aGlzLnVybF89dCx0aGlzLm1ldGhvZF89ZSx0aGlzLmhlYWRlcnNfPW4sdGhpcy5ib2R5Xz1yLHRoaXMuc3VjY2Vzc0NvZGVzXz1pLnNsaWNlKCksdGhpcy5hZGRpdGlvbmFsUmV0cnlDb2Rlc189by5zbGljZSgpLHRoaXMuY2FsbGJhY2tfPWEsdGhpcy5lcnJvckNhbGxiYWNrXz1zLHRoaXMucHJvZ3Jlc3NDYWxsYmFja189Yyx0aGlzLnRpbWVvdXRfPXUsdGhpcy5wb29sXz1oLHRoaXMucHJvbWlzZV89bmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsZSl7bC5yZXNvbHZlXz10LGwucmVqZWN0Xz1lLGwuc3RhcnRfKCl9KSl9cmV0dXJuIHQucHJvdG90eXBlLnN0YXJ0Xz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7ZnVuY3Rpb24gZShlLG4pe3ZhciByLGk9dC5yZXNvbHZlXyxvPXQucmVqZWN0XyxhPW4ueGhyO2lmKG4ud2FzU3VjY2Vzc0NvZGUpdHJ5e3ZhciBzPXQuY2FsbGJhY2tfKGEsYS5nZXRSZXNwb25zZVRleHQoKSk7TChzKT9pKHMpOmkoKX1jYXRjaCh1KXtvKHUpfWVsc2UgbnVsbCE9PWE/KChyPXYoKSkuc2V0U2VydmVyUmVzcG9uc2VQcm9wKGEuZ2V0UmVzcG9uc2VUZXh0KCkpLHQuZXJyb3JDYWxsYmFja18/byh0LmVycm9yQ2FsbGJhY2tfKGEscikpOm8ocikpOm4uY2FuY2VsZWQ/byhyPXQuYXBwRGVsZXRlXz9fKCk6YigpKTpvKHI9bmV3IGYocC5SRVRSWV9MSU1JVF9FWENFRURFRCwiTWF4IHJldHJ5IHRpbWUgZm9yIG9wZXJhdGlvbiBleGNlZWRlZCwgcGxlYXNlIHRyeSBhZ2Fpbi4iKSl9dGhpcy5jYW5jZWxlZF8/ZSgwLG5ldyAkdCghMSxudWxsLCEwKSk6dGhpcy5iYWNrb2ZmSWRfPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0xLGk9bnVsbCxhPSExLHM9MDtmdW5jdGlvbiB1KCl7cmV0dXJuIDI9PT1zfXZhciBjPSExO2Z1bmN0aW9uIGgoKXtmb3IodmFyIHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuXT1hcmd1bWVudHNbbl07Y3x8KGM9ITAsZS5hcHBseShudWxsLHQpKX1mdW5jdGlvbiBsKGUpe2k9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpPW51bGwsdChmLHUoKSl9KSxlKX1mdW5jdGlvbiBmKHQpe2Zvcih2YXIgZSxuPVtdLGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKW5baS0xXT1hcmd1bWVudHNbaV07Y3x8KHQ/aC5jYWxsLmFwcGx5KGgsT2JqZWN0KG8uX19zcHJlYWRBcnJheXMpKFtudWxsLHRdLG4pKTp1KCl8fGE/aC5jYWxsLmFwcGx5KGgsT2JqZWN0KG8uX19zcHJlYWRBcnJheXMpKFtudWxsLHRdLG4pKToocjw2NCYmKHIqPTIpLDE9PT1zPyhzPTIsZT0wKTplPTFlMyoocitNYXRoLnJhbmRvbSgpKSxsKGUpKSl9dmFyIHA9ITE7ZnVuY3Rpb24gZCh0KXtwfHwocD0hMCxjfHwobnVsbCE9PWk/KHR8fChzPTIpLGNsZWFyVGltZW91dChpKSxsKDApKTp0fHwocz0xKSkpfXJldHVybiBsKDApLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7YT0hMCxkKCEwKX0pLG4pLGR9KChmdW5jdGlvbihlLG4pe2lmKG4pZSghMSxuZXcgJHQoITEsbnVsbCwhMCkpO2Vsc2V7dmFyIHI9dC5wb29sXy5jcmVhdGVYaHJJbygpO3QucGVuZGluZ1hocl89cixudWxsIT09dC5wcm9ncmVzc0NhbGxiYWNrXyYmci5hZGRVcGxvYWRQcm9ncmVzc0xpc3RlbmVyKGkpLHIuc2VuZCh0LnVybF8sdC5tZXRob2RfLHQuYm9keV8sdC5oZWFkZXJzXykudGhlbigoZnVuY3Rpb24obil7bnVsbCE9PXQucHJvZ3Jlc3NDYWxsYmFja18mJm4ucmVtb3ZlVXBsb2FkUHJvZ3Jlc3NMaXN0ZW5lcihpKSx0LnBlbmRpbmdYaHJfPW51bGw7dmFyIHI9KG49bikuZ2V0RXJyb3JDb2RlKCk9PT1JLk5PX0VSUk9SLG89bi5nZXRTdGF0dXMoKTtpZihyJiYhdC5pc1JldHJ5U3RhdHVzQ29kZV8obykpe3ZhciBhPS0xIT09dC5zdWNjZXNzQ29kZXNfLmluZGV4T2Yobyk7ZSghMCxuZXcgJHQoYSxuKSl9ZWxzZXt2YXIgcz1uLmdldEVycm9yQ29kZSgpPT09SS5BQk9SVDtlKCExLG5ldyAkdCghMSxudWxsLHMpKX19KSl9ZnVuY3Rpb24gaShlKXt2YXIgbj1lLmxvYWRlZCxyPWUubGVuZ3RoQ29tcHV0YWJsZT9lLnRvdGFsOi0xO251bGwhPT10LnByb2dyZXNzQ2FsbGJhY2tfJiZ0LnByb2dyZXNzQ2FsbGJhY2tfKG4scil9fSksZSx0aGlzLnRpbWVvdXRfKX0sdC5wcm90b3R5cGUuZ2V0UHJvbWlzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByb21pc2VffSx0LnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24odCl7dGhpcy5jYW5jZWxlZF89ITAsdGhpcy5hcHBEZWxldGVfPXR8fCExLG51bGwhPT10aGlzLmJhY2tvZmZJZF8mJigwLHRoaXMuYmFja29mZklkXykoITEpLG51bGwhPT10aGlzLnBlbmRpbmdYaHJfJiZ0aGlzLnBlbmRpbmdYaHJfLmFib3J0KCl9LHQucHJvdG90eXBlLmlzUmV0cnlTdGF0dXNDb2RlXz1mdW5jdGlvbih0KXt2YXIgZT10Pj01MDAmJnQ8NjAwLG49LTEhPT1bNDA4LDQyOV0uaW5kZXhPZih0KSxyPS0xIT09dGhpcy5hZGRpdGlvbmFsUmV0cnlDb2Rlc18uaW5kZXhPZih0KTtyZXR1cm4gZXx8bnx8cn0sdH0oKSwkdD1mdW5jdGlvbih0LGUsbil7dGhpcy53YXNTdWNjZXNzQ29kZT10LHRoaXMueGhyPWUsdGhpcy5jYW5jZWxlZD0hIW59O2Z1bmN0aW9uIFp0KHQsZSxuKXt2YXIgcj1ldCh0LnVybFBhcmFtcyksbz10LnVybCtyLGE9T2JqZWN0LmFzc2lnbih7fSx0LmhlYWRlcnMpO3JldHVybiBmdW5jdGlvbih0LGUpe251bGwhPT1lJiZlLmxlbmd0aD4wJiYodC5BdXRob3JpemF0aW9uPSJGaXJlYmFzZSAiK2UpfShhLGUpLGZ1bmN0aW9uKHQpe3ZhciBlPSJ1bmRlZmluZWQiIT09dHlwZW9mIGkuYT9pLmEuU0RLX1ZFUlNJT046IkFwcE1hbmFnZXIiO3RbIlgtRmlyZWJhc2UtU3RvcmFnZS1WZXJzaW9uIl09IndlYmpzLyIrZX0oYSksbmV3IFl0KG8sdC5tZXRob2QsYSx0LmJvZHksdC5zdWNjZXNzQ29kZXMsdC5hZGRpdGlvbmFsUmV0cnlDb2Rlcyx0LmhhbmRsZXIsdC5lcnJvckhhbmRsZXIsdC50aW1lb3V0LHQucHJvZ3Jlc3NDYWxsYmFjayxuKX12YXIgUXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe2lmKHRoaXMuYnVja2V0Xz1udWxsLHRoaXMuYXV0aFdyYXBwZXJfPW5ldyBKdCh0LGUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBYdCh0LGUpfSksWnQsdGhpcyxuKSx0aGlzLmFwcF89dCxudWxsIT1yKXRoaXMuYnVja2V0Xz1ZLm1ha2VGcm9tQnVja2V0U3BlYyhyKTtlbHNle3ZhciBpPXRoaXMuYXV0aFdyYXBwZXJfLmJ1Y2tldCgpO251bGwhPWkmJih0aGlzLmJ1Y2tldF89bmV3IFkoaSwiIikpfXRoaXMuaW50ZXJuYWxzXz1uZXcgdGUodGhpcyl9cmV0dXJuIHQucHJvdG90eXBlLnJlZj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe2lmKCJzdHJpbmciIT09dHlwZW9mIHQpdGhyb3ciUGF0aCBpcyBub3QgYSBzdHJpbmcuIjtpZigvXltBLVphLXpdKzpcL1wvLy50ZXN0KHQpKXRocm93IkV4cGVjdGVkIGNoaWxkIHBhdGggYnV0IGdvdCBhIFVSTCwgdXNlIHJlZkZyb21VUkwgaW5zdGVhZC4ifWlmKER0KCJyZWYiLFtqdChlLCEwKV0sYXJndW1lbnRzKSxudWxsPT10aGlzLmJ1Y2tldF8pdGhyb3cgbmV3IEVycm9yKCJObyBTdG9yYWdlIEJ1Y2tldCBkZWZpbmVkIGluIEZpcmViYXNlIE9wdGlvbnMuIik7dmFyIG49bmV3IFh0KHRoaXMuYXV0aFdyYXBwZXJfLHRoaXMuYnVja2V0Xyk7cmV0dXJuIG51bGwhPXQ/bi5jaGlsZCh0KTpufSx0LnByb3RvdHlwZS5yZWZGcm9tVVJMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7aWYoInN0cmluZyIhPT10eXBlb2YgdCl0aHJvdyJQYXRoIGlzIG5vdCBhIHN0cmluZy4iO2lmKCEvXltBLVphLXpdKzpcL1wvLy50ZXN0KHQpKXRocm93IkV4cGVjdGVkIGZ1bGwgVVJMIGJ1dCBnb3QgYSBjaGlsZCBwYXRoLCB1c2UgcmVmIGluc3RlYWQuIjt0cnl7WS5tYWtlRnJvbVVybCh0KX1jYXRjaChlKXt0aHJvdyJFeHBlY3RlZCB2YWxpZCBmdWxsIFVSTCBidXQgZ290IGFuIGludmFsaWQgb25lLiJ9fXJldHVybiBEdCgicmVmRnJvbVVSTCIsW2p0KGUsITEpXSxhcmd1bWVudHMpLG5ldyBYdCh0aGlzLmF1dGhXcmFwcGVyXyx0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJtYXhVcGxvYWRSZXRyeVRpbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdXRoV3JhcHBlcl8ubWF4VXBsb2FkUmV0cnlUaW1lKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuc2V0TWF4VXBsb2FkUmV0cnlUaW1lPWZ1bmN0aW9uKHQpe0R0KCJzZXRNYXhVcGxvYWRSZXRyeVRpbWUiLFtXdCgpXSxhcmd1bWVudHMpLHRoaXMuYXV0aFdyYXBwZXJfLnNldE1heFVwbG9hZFJldHJ5VGltZSh0KX0sdC5wcm90b3R5cGUuc2V0TWF4T3BlcmF0aW9uUmV0cnlUaW1lPWZ1bmN0aW9uKHQpe0R0KCJzZXRNYXhPcGVyYXRpb25SZXRyeVRpbWUiLFtXdCgpXSxhcmd1bWVudHMpLHRoaXMuYXV0aFdyYXBwZXJfLnNldE1heE9wZXJhdGlvblJldHJ5VGltZSh0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJhcHAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcHBffSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiSU5URVJOQUwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlcm5hbHNffSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHR9KCksdGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuc2VydmljZV89dH1yZXR1cm4gdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VydmljZV8uYXV0aFdyYXBwZXJfLmRlbGV0ZUFwcCgpLFByb21pc2UucmVzb2x2ZSgpfSx0fSgpLGVlPSJAZmlyZWJhc2Uvc3RvcmFnZSIsbmU9IjAuMy4yNiIscmU9InN0b3JhZ2UiO2Z1bmN0aW9uIGllKHQsZSl7dmFyIG49dC5nZXRQcm92aWRlcigiYXBwIikuZ2V0SW1tZWRpYXRlKCkscj10LmdldFByb3ZpZGVyKCJhdXRoLWludGVybmFsIik7cmV0dXJuIG5ldyBRdChuLHIsbmV3IFgsZSl9IWZ1bmN0aW9uKHQpe3ZhciBlPXtUYXNrU3RhdGU6eCxUYXNrRXZlbnQ6ayxTdHJpbmdGb3JtYXQ6VCxTdG9yYWdlOlF0LFJlZmVyZW5jZTpYdH07dC5JTlRFUk5BTC5yZWdpc3RlckNvbXBvbmVudChuZXcgYS5Db21wb25lbnQocmUsaWUsIlBVQkxJQyIpLnNldFNlcnZpY2VQcm9wcyhlKS5zZXRNdWx0aXBsZUluc3RhbmNlcyghMCkpLHQucmVnaXN0ZXJWZXJzaW9uKGVlLG5lKX0oaS5hKX0sV2NxNjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByLGk9KHI9bigid2ozQyIpKSYmIm9iamVjdCI9PT10eXBlb2YgciYmImRlZmF1bHQiaW4gcj9yLmRlZmF1bHQ6cjtpLnJlZ2lzdGVyVmVyc2lvbigiZmlyZWJhc2UiLCI3LjguMiIsImFwcCIpLHQuZXhwb3J0cz1pfSxYQnVJOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPW4oInExdEkiKTtmdW5jdGlvbiBpKHQpe3ZhciBlPU9iamVjdChyLnVzZVJlZikodCk7cmV0dXJuIE9iamVjdChyLnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7ZS5jdXJyZW50PXR9KSxbdF0pLGV9fSxrYVNTOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigibG42aCIpLGk9bi5uKHIpLG89KG4oIjZuc04iKSxuKCI2Sm9pIiksbigiQUJxYSIpLG4oIldjcTYiKSksYT1uZXcgUHJveHkoe30se2dldDpmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4gaS5hLmFzeW5jKChmdW5jdGlvbihyKXtmb3IoOzspc3dpdGNoKHIucHJldj1yLm5leHQpe2Nhc2UgMDpyZXR1cm4gci5uZXh0PTIsaS5hLmF3cmFwKG8uZnVuY3Rpb25zKCkuaHR0cHNDYWxsYWJsZShlKSh0KSk7Y2FzZSAyOnJldHVybiBuPXIuc2VudCxyLmFicnVwdCgicmV0dXJuIixuLmRhdGEpO2Nhc2UgNDpjYXNlImVuZCI6cmV0dXJuIHIuc3RvcCgpfX0pKX19fSk7ZS5hPWF9LG1yU0c6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLnIoZSksbi5kKGUsIl9fZXh0ZW5kcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsIl9fYXNzaWduIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSwiX19yZXN0IiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiX19kZWNvcmF0ZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsIl9fcGFyYW0iLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZChlLCJfX21ldGFkYXRhIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQoZSwiX19hd2FpdGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQoZSwiX19nZW5lcmF0b3IiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLCJfX2V4cG9ydFN0YXIiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZChlLCJfX3ZhbHVlcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSksbi5kKGUsIl9fcmVhZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKGUsIl9fc3ByZWFkIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQoZSwiX19zcHJlYWRBcnJheXMiLChmdW5jdGlvbigpe3JldHVybiBifSkpLG4uZChlLCJfX2F3YWl0IiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKSxuLmQoZSwiX19hc3luY0dlbmVyYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksbi5kKGUsIl9fYXN5bmNEZWxlZ2F0b3IiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLG4uZChlLCJfX2FzeW5jVmFsdWVzIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKSxuLmQoZSwiX19tYWtlVGVtcGxhdGVPYmplY3QiLChmdW5jdGlvbigpe3JldHVybiB3fSkpLG4uZChlLCJfX2ltcG9ydFN0YXIiLChmdW5jdGlvbigpe3JldHVybiBFfSkpLG4uZChlLCJfX2ltcG9ydERlZmF1bHQiLChmdW5jdGlvbigpe3JldHVybiBUfSkpO3ZhciByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfTtmdW5jdGlvbiBpKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1yKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfXZhciBvPWZ1bmN0aW9uKCl7cmV0dXJuKG89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49MSxyPWFyZ3VtZW50cy5sZW5ndGg7bjxyO24rKylmb3IodmFyIGkgaW4gZT1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJih0W2ldPWVbaV0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiBhKHQsZSl7dmFyIG49e307Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJmUuaW5kZXhPZihyKTwwJiYobltyXT10W3JdKTtpZihudWxsIT10JiYiZnVuY3Rpb24iPT09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPTA7Zm9yKHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtpPHIubGVuZ3RoO2krKyllLmluZGV4T2YocltpXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHQscltpXSkmJihuW3JbaV1dPXRbcltpXV0pfXJldHVybiBufWZ1bmN0aW9uIHModCxlLG4scil7dmFyIGksbz1hcmd1bWVudHMubGVuZ3RoLGE9bzwzP2U6bnVsbD09PXI/cj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6cjtpZigib2JqZWN0Ij09PXR5cGVvZiBSZWZsZWN0JiYiZnVuY3Rpb24iPT09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpYT1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBzPXQubGVuZ3RoLTE7cz49MDtzLS0pKGk9dFtzXSkmJihhPShvPDM/aShhKTpvPjM/aShlLG4sYSk6aShlLG4pKXx8YSk7cmV0dXJuIG8+MyYmYSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixhKSxhfWZ1bmN0aW9uIHUodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXtlKG4scix0KX19ZnVuY3Rpb24gYyh0LGUpe2lmKCJvYmplY3QiPT09dHlwZW9mIFJlZmxlY3QmJiJmdW5jdGlvbiI9PT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YSh0LGUpfWZ1bmN0aW9uIGgodCxlLG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKGksbyl7ZnVuY3Rpb24gYSh0KXt0cnl7dShyLm5leHQodCkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHModCl7dHJ5e3Uoci50aHJvdyh0KSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gdSh0KXt0LmRvbmU/aSh0LnZhbHVlKTpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0LnZhbHVlKX0pKS50aGVuKGEscyl9dSgocj1yLmFwcGx5KHQsZXx8W10pKS5uZXh0KCkpfSkpfWZ1bmN0aW9uIGwodCxlKXt2YXIgbixyLGksbyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sImZ1bmN0aW9uIj09PXR5cGVvZiBTeW1ib2wmJihvW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG87ZnVuY3Rpb24gcyhvKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLiIpO2Zvcig7YTspdHJ5e2lmKG49MSxyJiYoaT0yJm9bMF0/ci5yZXR1cm46b1swXT9yLnRocm93fHwoKGk9ci5yZXR1cm4pJiZpLmNhbGwociksMCk6ci5uZXh0KSYmIShpPWkuY2FsbChyLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChyPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBhLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OmEubGFiZWwrKyxyPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89YS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPShpPWEudHJ5cykubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pJiYoNj09PW9bMF18fDI9PT1vWzBdKSl7YT0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7YS5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZhLmxhYmVsPGlbMV0pe2EubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmYS5sYWJlbDxpWzJdKXthLmxhYmVsPWlbMl0sYS5vcHMucHVzaChvKTticmVha31pWzJdJiZhLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWV9bz1lLmNhbGwodCxhKX1jYXRjaChzKXtvPVs2LHNdLHI9MH1maW5hbGx5e249aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxzXSl9fX1mdW5jdGlvbiBmKHQsZSl7Zm9yKHZhciBuIGluIHQpZS5oYXNPd25Qcm9wZXJ0eShuKXx8KGVbbl09dFtuXSl9ZnVuY3Rpb24gcCh0KXt2YXIgZT0iZnVuY3Rpb24iPT09dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdLG49MDtyZXR1cm4gZT9lLmNhbGwodCk6e25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdCYmbj49dC5sZW5ndGgmJih0PXZvaWQgMCkse3ZhbHVlOnQmJnRbbisrXSxkb25lOiF0fX19fWZ1bmN0aW9uIGQodCxlKXt2YXIgbj0iZnVuY3Rpb24iPT09dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdO2lmKCFuKXJldHVybiB0O3ZhciByLGksbz1uLmNhbGwodCksYT1bXTt0cnl7Zm9yKDsodm9pZCAwPT09ZXx8ZS0tID4wKSYmIShyPW8ubmV4dCgpKS5kb25lOylhLnB1c2goci52YWx1ZSl9Y2F0Y2gocyl7aT17ZXJyb3I6c319ZmluYWxseXt0cnl7ciYmIXIuZG9uZSYmKG49by5yZXR1cm4pJiZuLmNhbGwobyl9ZmluYWxseXtpZihpKXRocm93IGkuZXJyb3J9fXJldHVybiBhfWZ1bmN0aW9uIHYoKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdD10LmNvbmNhdChkKGFyZ3VtZW50c1tlXSkpO3JldHVybiB0fWZ1bmN0aW9uIGIoKXtmb3IodmFyIHQ9MCxlPTAsbj1hcmd1bWVudHMubGVuZ3RoO2U8bjtlKyspdCs9YXJndW1lbnRzW2VdLmxlbmd0aDt2YXIgcj1BcnJheSh0KSxpPTA7Zm9yKGU9MDtlPG47ZSsrKWZvcih2YXIgbz1hcmd1bWVudHNbZV0sYT0wLHM9by5sZW5ndGg7YTxzO2ErKyxpKyspcltpXT1vW2FdO3JldHVybiByfWZ1bmN0aW9uIHkodCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiB5Pyh0aGlzLnY9dCx0aGlzKTpuZXcgeSh0KX1mdW5jdGlvbiBnKHQsZSxuKXtpZighU3ltYm9sLmFzeW5jSXRlcmF0b3IpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7dmFyIHIsaT1uLmFwcGx5KHQsZXx8W10pLG89W107cmV0dXJuIHI9e30sYSgibmV4dCIpLGEoInRocm93IiksYSgicmV0dXJuIikscltTeW1ib2wuYXN5bmNJdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30scjtmdW5jdGlvbiBhKHQpe2lbdF0mJihyW3RdPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXtvLnB1c2goW3QsZSxuLHJdKT4xfHxzKHQsZSl9KSl9KX1mdW5jdGlvbiBzKHQsZSl7dHJ5eyhuPWlbdF0oZSkpLnZhbHVlIGluc3RhbmNlb2YgeT9Qcm9taXNlLnJlc29sdmUobi52YWx1ZS52KS50aGVuKHUsYyk6aChvWzBdWzJdLG4pfWNhdGNoKHIpe2gob1swXVszXSxyKX12YXIgbn1mdW5jdGlvbiB1KHQpe3MoIm5leHQiLHQpfWZ1bmN0aW9uIGModCl7cygidGhyb3ciLHQpfWZ1bmN0aW9uIGgodCxlKXt0KGUpLG8uc2hpZnQoKSxvLmxlbmd0aCYmcyhvWzBdWzBdLG9bMF1bMV0pfX1mdW5jdGlvbiBtKHQpe3ZhciBlLG47cmV0dXJuIGU9e30scigibmV4dCIpLHIoInRocm93IiwoZnVuY3Rpb24odCl7dGhyb3cgdH0pKSxyKCJyZXR1cm4iKSxlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZTtmdW5jdGlvbiByKHIsaSl7ZVtyXT10W3JdP2Z1bmN0aW9uKGUpe3JldHVybihuPSFuKT97dmFsdWU6eSh0W3JdKGUpKSxkb25lOiJyZXR1cm4iPT09cn06aT9pKGUpOmV9Oml9fWZ1bmN0aW9uIF8odCl7aWYoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKXRocm93IG5ldyBUeXBlRXJyb3IoIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpO3ZhciBlLG49dFtTeW1ib2wuYXN5bmNJdGVyYXRvcl07cmV0dXJuIG4/bi5jYWxsKHQpOih0PXAodCksZT17fSxyKCJuZXh0IikscigidGhyb3ciKSxyKCJyZXR1cm4iKSxlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlKTtmdW5jdGlvbiByKG4pe2Vbbl09dFtuXSYmZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLGkpeyhmdW5jdGlvbih0LGUsbixyKXtQcm9taXNlLnJlc29sdmUocikudGhlbigoZnVuY3Rpb24oZSl7dCh7dmFsdWU6ZSxkb25lOm59KX0pLGUpfSkocixpLChlPXRbbl0oZSkpLmRvbmUsZS52YWx1ZSl9KSl9fX1mdW5jdGlvbiB3KHQsZSl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eT9PYmplY3QuZGVmaW5lUHJvcGVydHkodCwicmF3Iix7dmFsdWU6ZX0pOnQucmF3PWUsdH1mdW5jdGlvbiBFKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgbiBpbiB0KU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIFQodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fX0sInEvME0iOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcigpe2Zvcih2YXIgdD0wLGU9MCxuPWFyZ3VtZW50cy5sZW5ndGg7ZTxuO2UrKyl0Kz1hcmd1bWVudHNbZV0ubGVuZ3RoO3ZhciByPUFycmF5KHQpLGk9MDtmb3IoZT0wO2U8bjtlKyspZm9yKHZhciBvPWFyZ3VtZW50c1tlXSxhPTAscz1vLmxlbmd0aDthPHM7YSsrLGkrKylyW2ldPW9bYV07cmV0dXJuIHJ9bi5yKGUpLG4uZChlLCJMb2dMZXZlbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsIkxvZ2dlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsInNldExvZ0xldmVsIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKTt2YXIgaSxvPVtdOyFmdW5jdGlvbih0KXt0W3QuREVCVUc9MF09IkRFQlVHIix0W3QuVkVSQk9TRT0xXT0iVkVSQk9TRSIsdFt0LklORk89Ml09IklORk8iLHRbdC5XQVJOPTNdPSJXQVJOIix0W3QuRVJST1I9NF09IkVSUk9SIix0W3QuU0lMRU5UPTVdPSJTSUxFTlQifShpfHwoaT17fSkpO3ZhciBhPWkuSU5GTyxzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLG89MjtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKW5bby0yXT1hcmd1bWVudHNbb107aWYoIShlPHQubG9nTGV2ZWwpKXt2YXIgYT0obmV3IERhdGUpLnRvSVNPU3RyaW5nKCk7c3dpdGNoKGUpe2Nhc2UgaS5ERUJVRzpjYXNlIGkuVkVSQk9TRTpjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLHIoWyJbIithKyJdICAiK3QubmFtZSsiOiJdLG4pKTticmVhaztjYXNlIGkuSU5GTzpjb25zb2xlLmluZm8uYXBwbHkoY29uc29sZSxyKFsiWyIrYSsiXSAgIit0Lm5hbWUrIjoiXSxuKSk7YnJlYWs7Y2FzZSBpLldBUk46Y29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUscihbIlsiK2ErIl0gICIrdC5uYW1lKyI6Il0sbikpO2JyZWFrO2Nhc2UgaS5FUlJPUjpjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUscihbIlsiK2ErIl0gICIrdC5uYW1lKyI6Il0sbikpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gbG9nIGEgbWVzc2FnZSB3aXRoIGFuIGludmFsaWQgbG9nVHlwZSAodmFsdWU6ICIrZSsiKSIpfX19LHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubmFtZT10LHRoaXMuX2xvZ0xldmVsPWEsdGhpcy5fbG9nSGFuZGxlcj1zLG8ucHVzaCh0aGlzKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJsb2dMZXZlbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2dMZXZlbH0sc2V0OmZ1bmN0aW9uKHQpe2lmKCEodCBpbiBpKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIHZhbHVlIGFzc2lnbmVkIHRvIGBsb2dMZXZlbGAiKTt0aGlzLl9sb2dMZXZlbD10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibG9nSGFuZGxlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2dIYW5kbGVyfSxzZXQ6ZnVuY3Rpb24odCl7aWYoImZ1bmN0aW9uIiE9PXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIlZhbHVlIGFzc2lnbmVkIHRvIGBsb2dIYW5kbGVyYCBtdXN0IGJlIGEgZnVuY3Rpb24iKTt0aGlzLl9sb2dIYW5kbGVyPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZGVidWc9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLHIoW3RoaXMsaS5ERUJVR10sdCkpfSx0LnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLHIoW3RoaXMsaS5WRVJCT1NFXSx0KSl9LHQucHJvdG90eXBlLmluZm89ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLHIoW3RoaXMsaS5JTkZPXSx0KSl9LHQucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLHIoW3RoaXMsaS5XQVJOXSx0KSl9LHQucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcyxyKFt0aGlzLGkuRVJST1JdLHQpKX0sdH0oKTtmdW5jdGlvbiBjKHQpe28uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5sb2dMZXZlbD10fSkpfX0scTEwaTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIldjcTYiKSxpPShuKCJXSTQ5IiksbigiVUlSbyIpKTswPT09ci5hcHBzLmxlbmd0aCYmci5pbml0aWFsaXplQXBwKGkuYSl9LHdqM0M6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHIsaSxvPW4oIm1yU0ciKSxhPW4oInpWRjQiKSxzPW4oIlMrUzAiKSx1PW4oInEvME0iKSxjPSgocj17fSlbIm5vLWFwcCJdPSJObyBGaXJlYmFzZSBBcHAgJ3skYXBwTmFtZX0nIGhhcyBiZWVuIGNyZWF0ZWQgLSBjYWxsIEZpcmViYXNlIEFwcC5pbml0aWFsaXplQXBwKCkiLHJbImJhZC1hcHAtbmFtZSJdPSJJbGxlZ2FsIEFwcCBuYW1lOiAneyRhcHBOYW1lfSIsclsiZHVwbGljYXRlLWFwcCJdPSJGaXJlYmFzZSBBcHAgbmFtZWQgJ3skYXBwTmFtZX0nIGFscmVhZHkgZXhpc3RzIixyWyJhcHAtZGVsZXRlZCJdPSJGaXJlYmFzZSBBcHAgbmFtZWQgJ3skYXBwTmFtZX0nIGFscmVhZHkgZGVsZXRlZCIsclsiaW52YWxpZC1hcHAtYXJndW1lbnQiXT0iZmlyZWJhc2UueyRhcHBOYW1lfSgpIHRha2VzIGVpdGhlciBubyBhcmd1bWVudCBvciBhIEZpcmViYXNlIEFwcCBpbnN0YW5jZS4iLHIpLGg9bmV3IGEuRXJyb3JGYWN0b3J5KCJhcHAiLCJGaXJlYmFzZSIsYyksbD0iQGZpcmViYXNlL2FwcCIsZj0iMC41LjQiLHA9IltERUZBVUxUXSIsZD0oKGk9e30pW2xdPSJmaXJlLWNvcmUiLGlbIkBmaXJlYmFzZS9hbmFseXRpY3MiXT0iZmlyZS1hbmFseXRpY3MiLGlbIkBmaXJlYmFzZS9hdXRoIl09ImZpcmUtYXV0aCIsaVsiQGZpcmViYXNlL2RhdGFiYXNlIl09ImZpcmUtcnRkYiIsaVsiQGZpcmViYXNlL2Z1bmN0aW9ucyJdPSJmaXJlLWZuIixpWyJAZmlyZWJhc2UvaW5zdGFsbGF0aW9ucyJdPSJmaXJlLWlpZCIsaVsiQGZpcmViYXNlL21lc3NhZ2luZyJdPSJmaXJlLWZjbSIsaVsiQGZpcmViYXNlL3BlcmZvcm1hbmNlIl09ImZpcmUtcGVyZiIsaVsiQGZpcmViYXNlL3JlbW90ZS1jb25maWciXT0iZmlyZS1yYyIsaVsiQGZpcmViYXNlL3N0b3JhZ2UiXT0iZmlyZS1nY3MiLGlbIkBmaXJlYmFzZS9maXJlc3RvcmUiXT0iZmlyZS1mc3QiLGlbImZpcmUtanMiXT0iZmlyZS1qcyIsaVsiZmlyZWJhc2Utd3JhcHBlciJdPSJmaXJlLWpzLWFsbCIsaSksdj1uZXcgdS5Mb2dnZXIoIkBmaXJlYmFzZS9hcHAiKSxiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dmFyIHIsaSx1PXRoaXM7dGhpcy5maXJlYmFzZV89bix0aGlzLmlzRGVsZXRlZF89ITEsdGhpcy5uYW1lXz1lLm5hbWUsdGhpcy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWRfPWUuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkfHwhMSx0aGlzLm9wdGlvbnNfPWEuZGVlcENvcHkodCksdGhpcy5jb250YWluZXI9bmV3IHMuQ29tcG9uZW50Q29udGFpbmVyKGUubmFtZSksdGhpcy5fYWRkQ29tcG9uZW50KG5ldyBzLkNvbXBvbmVudCgiYXBwIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pLCJQVUJMSUMiKSk7dHJ5e2Zvcih2YXIgYz1vLl9fdmFsdWVzKHRoaXMuZmlyZWJhc2VfLklOVEVSTkFMLmNvbXBvbmVudHMudmFsdWVzKCkpLGg9Yy5uZXh0KCk7IWguZG9uZTtoPWMubmV4dCgpKXt2YXIgbD1oLnZhbHVlO3RoaXMuX2FkZENvbXBvbmVudChsKX19Y2F0Y2goZil7cj17ZXJyb3I6Zn19ZmluYWxseXt0cnl7aCYmIWguZG9uZSYmKGk9Yy5yZXR1cm4pJiZpLmNhbGwoYyl9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja0Rlc3Ryb3llZF8oKSx0aGlzLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZF99LHNldDpmdW5jdGlvbih0KXt0aGlzLmNoZWNrRGVzdHJveWVkXygpLHRoaXMuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkXz10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibmFtZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrRGVzdHJveWVkXygpLHRoaXMubmFtZV99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJvcHRpb25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hlY2tEZXN0cm95ZWRfKCksdGhpcy5vcHRpb25zX30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7dC5jaGVja0Rlc3Ryb3llZF8oKSxlKCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5maXJlYmFzZV8uSU5URVJOQUwucmVtb3ZlQXBwKHQubmFtZV8pLFByb21pc2UuYWxsKHQuY29udGFpbmVyLmdldFByb3ZpZGVycygpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVsZXRlKCl9KSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dC5pc0RlbGV0ZWRfPSEwfSkpfSx0LnByb3RvdHlwZS5fZ2V0U2VydmljZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1wKSx0aGlzLmNoZWNrRGVzdHJveWVkXygpLHRoaXMuY29udGFpbmVyLmdldFByb3ZpZGVyKHQpLmdldEltbWVkaWF0ZSh7aWRlbnRpZmllcjplfSl9LHQucHJvdG90eXBlLl9yZW1vdmVTZXJ2aWNlSW5zdGFuY2U9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1wKSx0aGlzLmNvbnRhaW5lci5nZXRQcm92aWRlcih0KS5jbGVhckluc3RhbmNlKGUpfSx0LnByb3RvdHlwZS5fYWRkQ29tcG9uZW50PWZ1bmN0aW9uKHQpe3RyeXt0aGlzLmNvbnRhaW5lci5hZGRDb21wb25lbnQodCl9Y2F0Y2goZSl7di5kZWJ1ZygiQ29tcG9uZW50ICIrdC5uYW1lKyIgZmFpbGVkIHRvIHJlZ2lzdGVyIHdpdGggRmlyZWJhc2VBcHAgIit0aGlzLm5hbWUsZSl9fSx0LnByb3RvdHlwZS5fYWRkT3JPdmVyd3JpdGVDb21wb25lbnQ9ZnVuY3Rpb24odCl7dGhpcy5jb250YWluZXIuYWRkT3JPdmVyd3JpdGVDb21wb25lbnQodCl9LHQucHJvdG90eXBlLmNoZWNrRGVzdHJveWVkXz1mdW5jdGlvbigpe2lmKHRoaXMuaXNEZWxldGVkXyl0aHJvdyBoLmNyZWF0ZSgiYXBwLWRlbGV0ZWQiLHthcHBOYW1lOnRoaXMubmFtZV99KX0sdH0oKTtiLnByb3RvdHlwZS5uYW1lJiZiLnByb3RvdHlwZS5vcHRpb25zfHxiLnByb3RvdHlwZS5kZWxldGV8fGNvbnNvbGUubG9nKCJkYyIpO3ZhciB5PSI3LjguMSI7dmFyIGc9ZnVuY3Rpb24gdCgpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49bmV3IE1hcCxyPXtfX2VzTW9kdWxlOiEwLGluaXRpYWxpemVBcHA6ZnVuY3Rpb24obixpKXt2b2lkIDA9PT1pJiYoaT17fSk7aWYoIm9iamVjdCIhPT10eXBlb2YgaXx8bnVsbD09PWkpe2k9e25hbWU6aX19dmFyIG89aTt2b2lkIDA9PT1vLm5hbWUmJihvLm5hbWU9cCk7dmFyIHM9by5uYW1lO2lmKCJzdHJpbmciIT09dHlwZW9mIHN8fCFzKXRocm93IGguY3JlYXRlKCJiYWQtYXBwLW5hbWUiLHthcHBOYW1lOlN0cmluZyhzKX0pO2lmKGEuY29udGFpbnMoZSxzKSl0aHJvdyBoLmNyZWF0ZSgiZHVwbGljYXRlLWFwcCIse2FwcE5hbWU6c30pO3ZhciB1PW5ldyB0KG4sbyxyKTtyZXR1cm4gZVtzXT11LHV9LGFwcDppLHJlZ2lzdGVyVmVyc2lvbjpmdW5jdGlvbih0LGUsbil7dmFyIHIsaT1udWxsIT09KHI9ZFt0XSkmJnZvaWQgMCE9PXI/cjp0O24mJihpKz0iLSIrbik7dmFyIG89aS5tYXRjaCgvXHN8XC8vKSxhPWUubWF0Y2goL1xzfFwvLyk7aWYob3x8YSl7dmFyIGM9WydVbmFibGUgdG8gcmVnaXN0ZXIgbGlicmFyeSAiJytpKyciIHdpdGggdmVyc2lvbiAiJytlKyciOiddO3JldHVybiBvJiZjLnB1c2goJ2xpYnJhcnkgbmFtZSAiJytpKyciIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycyAod2hpdGVzcGFjZSBvciAiLyIpJyksbyYmYSYmYy5wdXNoKCJhbmQiKSxhJiZjLnB1c2goJ3ZlcnNpb24gbmFtZSAiJytlKyciIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycyAod2hpdGVzcGFjZSBvciAiLyIpJyksdm9pZCB2Lndhcm4oYy5qb2luKCIgIikpfXUobmV3IHMuQ29tcG9uZW50KGkrIi12ZXJzaW9uIiwoZnVuY3Rpb24oKXtyZXR1cm57bGlicmFyeTppLHZlcnNpb246ZX19KSwiVkVSU0lPTiIpKX0sYXBwczpudWxsLFNES19WRVJTSU9OOnksSU5URVJOQUw6e3JlZ2lzdGVyQ29tcG9uZW50OnUscmVtb3ZlQXBwOmZ1bmN0aW9uKHQpe2RlbGV0ZSBlW3RdfSxjb21wb25lbnRzOm4sdXNlQXNTZXJ2aWNlOmZ1bmN0aW9uKHQsZSl7aWYoInNlcnZlckF1dGgiPT09ZSlyZXR1cm4gbnVsbDtyZXR1cm4gZX19fTtmdW5jdGlvbiBpKHQpe2lmKHQ9dHx8cCwhYS5jb250YWlucyhlLHQpKXRocm93IGguY3JlYXRlKCJuby1hcHAiLHthcHBOYW1lOnR9KTtyZXR1cm4gZVt0XX1mdW5jdGlvbiB1KHMpe3ZhciB1LGMsbD1zLm5hbWU7aWYobi5oYXMobCkpcmV0dXJuIHYuZGVidWcoIlRoZXJlIHdlcmUgbXVsdGlwbGUgYXR0ZW1wdHMgdG8gcmVnaXN0ZXIgY29tcG9uZW50ICIrbCsiLiIpLCJQVUJMSUMiPT09cy50eXBlP3JbbF06bnVsbDtpZihuLnNldChsLHMpLCJQVUJMSUMiPT09cy50eXBlKXt2YXIgZj1mdW5jdGlvbih0KXtpZih2b2lkIDA9PT10JiYodD1pKCkpLCJmdW5jdGlvbiIhPT10eXBlb2YgdFtsXSl0aHJvdyBoLmNyZWF0ZSgiaW52YWxpZC1hcHAtYXJndW1lbnQiLHthcHBOYW1lOmx9KTtyZXR1cm4gdFtsXSgpfTt2b2lkIDAhPT1zLnNlcnZpY2VQcm9wcyYmYS5kZWVwRXh0ZW5kKGYscy5zZXJ2aWNlUHJvcHMpLHJbbF09Zix0LnByb3RvdHlwZVtsXT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt2YXIgbj10aGlzLl9nZXRTZXJ2aWNlLmJpbmQodGhpcyxsKTtyZXR1cm4gbi5hcHBseSh0aGlzLHMubXVsdGlwbGVJbnN0YW5jZXM/dDpbXSl9fXRyeXtmb3IodmFyIHA9by5fX3ZhbHVlcyhPYmplY3Qua2V5cyhlKSksZD1wLm5leHQoKTshZC5kb25lO2Q9cC5uZXh0KCkpe3ZhciBiPWQudmFsdWU7ZVtiXS5fYWRkQ29tcG9uZW50KHMpfX1jYXRjaCh5KXt1PXtlcnJvcjp5fX1maW5hbGx5e3RyeXtkJiYhZC5kb25lJiYoYz1wLnJldHVybikmJmMuY2FsbChwKX1maW5hbGx5e2lmKHUpdGhyb3cgdS5lcnJvcn19cmV0dXJuIlBVQkxJQyI9PT1zLnR5cGU/cltsXTpudWxsfXJldHVybiByLmRlZmF1bHQ9cixPYmplY3QuZGVmaW5lUHJvcGVydHkociwiYXBwcyIse2dldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyhlKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSkpfX0pLGkuQXBwPXQscn0oYik7cmV0dXJuIGUuSU5URVJOQUw9by5fX2Fzc2lnbihvLl9fYXNzaWduKHt9LGUuSU5URVJOQUwpLHtjcmVhdGVGaXJlYmFzZU5hbWVzcGFjZTp0LGV4dGVuZE5hbWVzcGFjZTpmdW5jdGlvbih0KXthLmRlZXBFeHRlbmQoZSx0KX0sY3JlYXRlU3Vic2NyaWJlOmEuY3JlYXRlU3Vic2NyaWJlLEVycm9yRmFjdG9yeTphLkVycm9yRmFjdG9yeSxkZWVwRXh0ZW5kOmEuZGVlcEV4dGVuZH0pLGV9KCksbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5jb250YWluZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0UGxhdGZvcm1JbmZvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFByb3ZpZGVycygpLm1hcCgoZnVuY3Rpb24odCl7aWYoZnVuY3Rpb24odCl7dmFyIGUsbj10LmdldENvbXBvbmVudCgpO3JldHVybiJWRVJTSU9OIj09PShudWxsPT09KGU9bil8fHZvaWQgMD09PWU/dm9pZCAwOmUudHlwZSl9KHQpKXt2YXIgZT10LmdldEltbWVkaWF0ZSgpO3JldHVybiBlLmxpYnJhcnkrIi8iK2UudmVyc2lvbn1yZXR1cm4gbnVsbH0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLmpvaW4oIiAiKX0sdH0oKTtpZihhLmlzQnJvd3NlcigpJiZ2b2lkIDAhPT1zZWxmLmZpcmViYXNlKXt2Lndhcm4oIlxuICAgIFdhcm5pbmc6IEZpcmViYXNlIGlzIGFscmVhZHkgZGVmaW5lZCBpbiB0aGUgZ2xvYmFsIHNjb3BlLiBQbGVhc2UgbWFrZSBzdXJlXG4gICAgRmlyZWJhc2UgbGlicmFyeSBpcyBvbmx5IGxvYWRlZCBvbmNlLlxuICAiKTt2YXIgXz1zZWxmLmZpcmViYXNlLlNES19WRVJTSU9OO18mJl8uaW5kZXhPZigiTElURSIpPj0wJiZ2Lndhcm4oIlxuICAgIFdhcm5pbmc6IFlvdSBhcmUgdHJ5aW5nIHRvIGxvYWQgRmlyZWJhc2Ugd2hpbGUgdXNpbmcgRmlyZWJhc2UgUGVyZm9ybWFuY2Ugc3RhbmRhbG9uZSBzY3JpcHQuXG4gICAgWW91IHNob3VsZCBsb2FkIEZpcmViYXNlIFBlcmZvcm1hbmNlIHdpdGggdGhpcyBpbnN0YW5jZSBvZiBGaXJlYmFzZSB0byBhdm9pZCBsb2FkaW5nIGR1cGxpY2F0ZSBjb2RlLlxuICAgICIpfXZhciB3PWcuaW5pdGlhbGl6ZUFwcDtnLmluaXRpYWxpemVBcHA9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIGEuaXNOb2RlKCkmJnYud2FybignXG4gICAgICBXYXJuaW5nOiBUaGlzIGlzIGEgYnJvd3Nlci10YXJnZXRlZCBGaXJlYmFzZSBidW5kbGUgYnV0IGl0IGFwcGVhcnMgaXQgaXMgYmVpbmdcbiAgICAgIHJ1biBpbiBhIE5vZGUgZW52aXJvbm1lbnQuICBJZiBydW5uaW5nIGluIGEgTm9kZSBlbnZpcm9ubWVudCwgbWFrZSBzdXJlIHlvdVxuICAgICAgYXJlIHVzaW5nIHRoZSBidW5kbGUgc3BlY2lmaWVkIGJ5IHRoZSAibWFpbiIgZmllbGQgaW4gcGFja2FnZS5qc29uLlxuICAgICAgXG4gICAgICBJZiB5b3UgYXJlIHVzaW5nIFdlYnBhY2ssIHlvdSBjYW4gc3BlY2lmeSAibWFpbiIgYXMgdGhlIGZpcnN0IGl0ZW0gaW5cbiAgICAgICJyZXNvbHZlLm1haW5GaWVsZHMiOlxuICAgICAgaHR0cHM6Ly93ZWJwYWNrLmpzLm9yZy9jb25maWd1cmF0aW9uL3Jlc29sdmUvI3Jlc29sdmVtYWluZmllbGRzXG4gICAgICBcbiAgICAgIElmIHVzaW5nIFJvbGx1cCwgdXNlIHRoZSByb2xsdXAtcGx1Z2luLW5vZGUtcmVzb2x2ZSBwbHVnaW4gYW5kIHNwZWNpZnkgIm1haW4iXG4gICAgICBhcyB0aGUgZmlyc3QgaXRlbSBpbiAibWFpbkZpZWxkcyIsIGUuZy4gW1wnbWFpblwnLCBcJ21vZHVsZVwnXS5cbiAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9yb2xsdXAvcm9sbHVwLXBsdWdpbi1ub2RlLXJlc29sdmVcbiAgICAgICcpLHcuYXBwbHkodm9pZCAwLHQpfTt2YXIgRT1nOyFmdW5jdGlvbih0LGUpe3QuSU5URVJOQUwucmVnaXN0ZXJDb21wb25lbnQobmV3IHMuQ29tcG9uZW50KCJwbGF0Zm9ybS1sb2dnZXIiLChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IG0odCl9KSwiUFJJVkFURSIpKSx0LnJlZ2lzdGVyVmVyc2lvbihsLGYsZSksdC5yZWdpc3RlclZlcnNpb24oImZpcmUtanMiLCIiKX0oRSksZS5kZWZhdWx0PUUsZS5maXJlYmFzZT1FfSx4N0kzOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5yKGUpLGZ1bmN0aW9uKHQpe24uZChlLCJFcnJvckNvZGUiLChmdW5jdGlvbigpe3JldHVybiB1cn0pKSxuLmQoZSwiRXZlbnRUeXBlIiwoZnVuY3Rpb24oKXtyZXR1cm4gY3J9KSksbi5kKGUsIldlYkNoYW5uZWwiLChmdW5jdGlvbigpe3JldHVybiBocn0pKSxuLmQoZSwiWGhySW8iLChmdW5jdGlvbigpe3JldHVybiBscn0pKSxuLmQoZSwiY3JlYXRlV2ViQ2hhbm5lbFRyYW5zcG9ydCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHNyfSkpO3ZhciByLGk9InVuZGVmaW5lZCIhPT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOiJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPT10eXBlb2YgdD90OiJ1bmRlZmluZWQiIT09dHlwZW9mIHNlbGY/c2VsZjp7fSxvPW98fHt9LGE9aTtmdW5jdGlvbiBzKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdH1mdW5jdGlvbiB1KHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdH1mdW5jdGlvbiBjKHQsZSl7dD10LnNwbGl0KCIuIiksZT1lfHxhO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKG51bGw9PShlPWVbdFtuXV0pKXJldHVybiBudWxsO3JldHVybiBlfWZ1bmN0aW9uIGgoKXt9ZnVuY3Rpb24gbCh0KXt2YXIgZT10eXBlb2YgdDtpZigib2JqZWN0Ij09ZSl7aWYoIXQpcmV0dXJuIm51bGwiO2lmKHQgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm4iYXJyYXkiO2lmKHQgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGU7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpO2lmKCJbb2JqZWN0IFdpbmRvd10iPT1uKXJldHVybiJvYmplY3QiO2lmKCJbb2JqZWN0IEFycmF5XSI9PW58fCJudW1iZXIiPT10eXBlb2YgdC5sZW5ndGgmJiJ1bmRlZmluZWQiIT10eXBlb2YgdC5zcGxpY2UmJiJ1bmRlZmluZWQiIT10eXBlb2YgdC5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIXQucHJvcGVydHlJc0VudW1lcmFibGUoInNwbGljZSIpKXJldHVybiJhcnJheSI7aWYoIltvYmplY3QgRnVuY3Rpb25dIj09bnx8InVuZGVmaW5lZCIhPXR5cGVvZiB0LmNhbGwmJiJ1bmRlZmluZWQiIT10eXBlb2YgdC5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIXQucHJvcGVydHlJc0VudW1lcmFibGUoImNhbGwiKSlyZXR1cm4iZnVuY3Rpb24ifWVsc2UgaWYoImZ1bmN0aW9uIj09ZSYmInVuZGVmaW5lZCI9PXR5cGVvZiB0LmNhbGwpcmV0dXJuIm9iamVjdCI7cmV0dXJuIGV9ZnVuY3Rpb24gZih0KXtyZXR1cm4iYXJyYXkiPT1sKHQpfWZ1bmN0aW9uIHAodCl7dmFyIGU9bCh0KTtyZXR1cm4iYXJyYXkiPT1lfHwib2JqZWN0Ij09ZSYmIm51bWJlciI9PXR5cGVvZiB0Lmxlbmd0aH1mdW5jdGlvbiBkKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybiJvYmplY3QiPT1lJiZudWxsIT10fHwiZnVuY3Rpb24iPT1lfXZhciB2PSJjbG9zdXJlX3VpZF8iKygxZTkqTWF0aC5yYW5kb20oKT4+PjApLGI9MDtmdW5jdGlvbiB5KHQsZSxuKXtyZXR1cm4gdC5jYWxsLmFwcGx5KHQuYmluZCxhcmd1bWVudHMpfWZ1bmN0aW9uIGcodCxlLG4pe2lmKCF0KXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkobixyKSx0LmFwcGx5KGUsbil9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19ZnVuY3Rpb24gbSh0LGUsbil7cmV0dXJuKG09RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJi0xIT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoIm5hdGl2ZSBjb2RlIik/eTpnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gXyh0LGUpe3ZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1uLnNsaWNlKCk7cmV0dXJuIGUucHVzaC5hcHBseShlLGFyZ3VtZW50cyksdC5hcHBseSh0aGlzLGUpfX12YXIgdz1EYXRlLm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4rbmV3IERhdGV9O2Z1bmN0aW9uIEUodCxlKXtmdW5jdGlvbiBuKCl7fW4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQuTj1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LHQueGI9ZnVuY3Rpb24odCxuLHIpe2Zvcih2YXIgaT1BcnJheShhcmd1bWVudHMubGVuZ3RoLTIpLG89MjtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKWlbby0yXT1hcmd1bWVudHNbb107cmV0dXJuIGUucHJvdG90eXBlW25dLmFwcGx5KHQsaSl9fWZ1bmN0aW9uIFQoKXt0aGlzLmo9dGhpcy5qLHRoaXMuaT10aGlzLml9VC5wcm90b3R5cGUuaj0hMSxULnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe2lmKCF0aGlzLmomJih0aGlzLmo9ITAsdGhpcy5HKCksMCkpdGhpc1t2XXx8KHRoaXNbdl09KytiKX0sVC5wcm90b3R5cGUuRz1mdW5jdGlvbigpe2lmKHRoaXMuaSlmb3IoO3RoaXMuaS5sZW5ndGg7KXRoaXMuaS5zaGlmdCgpKCl9O3ZhciBTPUFycmF5LnByb3RvdHlwZS5pbmRleE9mP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodCxlLHZvaWQgMCl9OmZ1bmN0aW9uKHQsZSl7aWYocyh0KSlyZXR1cm4gcyhlKSYmMT09ZS5sZW5ndGg/dC5pbmRleE9mKGUsMCk6LTE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYobiBpbiB0JiZ0W25dPT09ZSlyZXR1cm4gbjtyZXR1cm4tMX0sTz1BcnJheS5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbih0LGUsbil7QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCh0LGUsbil9OmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9dC5sZW5ndGgsaT1zKHQpP3Quc3BsaXQoIiIpOnQsbz0wO288cjtvKyspbyBpbiBpJiZlLmNhbGwobixpW29dLG8sdCl9O2Z1bmN0aW9uIFIodCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sYXJndW1lbnRzKX1mdW5jdGlvbiBBKHQpe3ZhciBlPXQubGVuZ3RoO2lmKDA8ZSl7Zm9yKHZhciBuPUFycmF5KGUpLHI9MDtyPGU7cisrKW5bcl09dFtyXTtyZXR1cm4gbn1yZXR1cm5bXX1mdW5jdGlvbiBDKHQpe3JldHVybi9eW1xzXHhhMF0qJC8udGVzdCh0KX12YXIgTixJPVN0cmluZy5wcm90b3R5cGUudHJpbT9mdW5jdGlvbih0KXtyZXR1cm4gdC50cmltKCl9OmZ1bmN0aW9uKHQpe3JldHVybi9eW1xzXHhhMF0qKFtcc1xTXSo/KVtcc1x4YTBdKiQvLmV4ZWModClbMV19O2Z1bmN0aW9uIGsodCxlKXtyZXR1cm4tMSE9dC5pbmRleE9mKGUpfWZ1bmN0aW9uIFAodCxlKXtyZXR1cm4gdDxlPy0xOnQ+ZT8xOjB9dDp7dmFyIHg9YS5uYXZpZ2F0b3I7aWYoeCl7dmFyIFU9eC51c2VyQWdlbnQ7aWYoVSl7Tj1VO2JyZWFrIHR9fU49IiJ9ZnVuY3Rpb24gRCh0LGUsbil7Zm9yKHZhciByIGluIHQpZS5jYWxsKG4sdFtyXSxyLHQpfWZ1bmN0aW9uIEwodCl7dmFyIGUsbj17fTtmb3IoZSBpbiB0KW5bZV09dFtlXTtyZXR1cm4gbn12YXIgaj0iY29uc3RydWN0b3IgaGFzT3duUHJvcGVydHkgaXNQcm90b3R5cGVPZiBwcm9wZXJ0eUlzRW51bWVyYWJsZSB0b0xvY2FsZVN0cmluZyB0b1N0cmluZyB2YWx1ZU9mIi5zcGxpdCgiICIpO2Z1bmN0aW9uIE0odCxlKXtmb3IodmFyIG4scixpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7Zm9yKG4gaW4gcj1hcmd1bWVudHNbaV0pdFtuXT1yW25dO2Zvcih2YXIgbz0wO288ai5sZW5ndGg7bysrKW49altvXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKHRbbl09cltuXSl9fWZ1bmN0aW9uIEIodCl7cmV0dXJuIEJbIiAiXSh0KSx0fUJbIiAiXT1oO3ZhciBGLFc9ayhOLCJPcGVyYSIpLEg9ayhOLCJUcmlkZW50Iil8fGsoTiwiTVNJRSIpLEc9ayhOLCJFZGdlIiksej1HfHxILFY9ayhOLCJHZWNrbyIpJiYhKGsoTi50b0xvd2VyQ2FzZSgpLCJ3ZWJraXQiKSYmIWsoTiwiRWRnZSIpKSYmIShrKE4sIlRyaWRlbnQiKXx8ayhOLCJNU0lFIikpJiYhayhOLCJFZGdlIiksWD1rKE4udG9Mb3dlckNhc2UoKSwid2Via2l0IikmJiFrKE4sIkVkZ2UiKTtmdW5jdGlvbiBxKCl7dmFyIHQ9YS5kb2N1bWVudDtyZXR1cm4gdD90LmRvY3VtZW50TW9kZTp2b2lkIDB9dDp7dmFyIEs9IiIsSj1mdW5jdGlvbigpe3ZhciB0PU47cmV0dXJuIFY/L3J2OihbXlwpO10rKShcKXw7KS8uZXhlYyh0KTpHPy9FZGdlXC8oW1xkXC5dKykvLmV4ZWModCk6SD8vXGIoPzpNU0lFfHJ2KVs6IF0oW15cKTtdKykoXCl8OykvLmV4ZWModCk6WD8vV2ViS2l0XC8oXFMrKS8uZXhlYyh0KTpXPy8oPzpWZXJzaW9uKVsgXC9dPyhcUyspLy5leGVjKHQpOnZvaWQgMH0oKTtpZihKJiYoSz1KP0pbMV06IiIpLEgpe3ZhciBZPXEoKTtpZihudWxsIT1ZJiZZPnBhcnNlRmxvYXQoSykpe0Y9U3RyaW5nKFkpO2JyZWFrIHR9fUY9S312YXIgJCxaPXt9O2Z1bmN0aW9uIFEodCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49WjtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sdCk/blt0XTpuW3RdPWUodCl9KHQsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsbj1JKFN0cmluZyhGKSkuc3BsaXQoIi4iKSxyPUkoU3RyaW5nKHQpKS5zcGxpdCgiLiIpLGk9TWF0aC5tYXgobi5sZW5ndGgsci5sZW5ndGgpLG89MDswPT1lJiZvPGk7bysrKXt2YXIgYT1uW29dfHwiIixzPXJbb118fCIiO2Rve2lmKGE9LyhcZCopKFxEKikoLiopLy5leGVjKGEpfHxbIiIsIiIsIiIsIiJdLHM9LyhcZCopKFxEKikoLiopLy5leGVjKHMpfHxbIiIsIiIsIiIsIiJdLDA9PWFbMF0ubGVuZ3RoJiYwPT1zWzBdLmxlbmd0aClicmVhaztlPVAoMD09YVsxXS5sZW5ndGg/MDpwYXJzZUludChhWzFdLDEwKSwwPT1zWzFdLmxlbmd0aD8wOnBhcnNlSW50KHNbMV0sMTApKXx8UCgwPT1hWzJdLmxlbmd0aCwwPT1zWzJdLmxlbmd0aCl8fFAoYVsyXSxzWzJdKSxhPWFbM10scz1zWzNdfXdoaWxlKDA9PWUpfXJldHVybiAwPD1lfSkpfXZhciB0dD1hLmRvY3VtZW50OyQ9dHQmJkg/cSgpfHwoIkNTUzFDb21wYXQiPT10dC5jb21wYXRNb2RlP3BhcnNlSW50KEYsMTApOjUpOnZvaWQgMDt2YXIgZXQ9IUh8fDk8PU51bWJlcigkKSxudD1IJiYhUSgiOSIpLHJ0PWZ1bmN0aW9uKCl7aWYoIWEuYWRkRXZlbnRMaXN0ZW5lcnx8IU9iamVjdC5kZWZpbmVQcm9wZXJ0eSlyZXR1cm4hMTt2YXIgdD0hMSxlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwicGFzc2l2ZSIse2dldDpmdW5jdGlvbigpe3Q9ITB9fSk7dHJ5e2EuYWRkRXZlbnRMaXN0ZW5lcigidGVzdCIsaCxlKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRlc3QiLGgsZSl9Y2F0Y2gobil7fXJldHVybiB0fSgpO2Z1bmN0aW9uIGl0KHQsZSl7dGhpcy50eXBlPXQsdGhpcy5hPXRoaXMudGFyZ2V0PWUsdGhpcy5JYT0hMH1mdW5jdGlvbiBvdCh0LGUpe2lmKGl0LmNhbGwodGhpcyx0P3QudHlwZToiIiksdGhpcy5yZWxhdGVkVGFyZ2V0PXRoaXMuYT10aGlzLnRhcmdldD1udWxsLHRoaXMuYnV0dG9uPXRoaXMuc2NyZWVuWT10aGlzLnNjcmVlblg9dGhpcy5jbGllbnRZPXRoaXMuY2xpZW50WD0wLHRoaXMua2V5PSIiLHRoaXMubWV0YUtleT10aGlzLnNoaWZ0S2V5PXRoaXMuYWx0S2V5PXRoaXMuY3RybEtleT0hMSx0aGlzLnBvaW50ZXJJZD0wLHRoaXMucG9pbnRlclR5cGU9IiIsdGhpcy5jPW51bGwsdCl7dmFyIG49dGhpcy50eXBlPXQudHlwZSxyPXQuY2hhbmdlZFRvdWNoZXMmJnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoP3QuY2hhbmdlZFRvdWNoZXNbMF06bnVsbDtpZih0aGlzLnRhcmdldD10LnRhcmdldHx8dC5zcmNFbGVtZW50LHRoaXMuYT1lLGU9dC5yZWxhdGVkVGFyZ2V0KXtpZihWKXt0Ont0cnl7QihlLm5vZGVOYW1lKTt2YXIgaT0hMDticmVhayB0fWNhdGNoKG8pe31pPSExfWl8fChlPW51bGwpfX1lbHNlIm1vdXNlb3ZlciI9PW4/ZT10LmZyb21FbGVtZW50OiJtb3VzZW91dCI9PW4mJihlPXQudG9FbGVtZW50KTt0aGlzLnJlbGF0ZWRUYXJnZXQ9ZSxyPyh0aGlzLmNsaWVudFg9dm9pZCAwIT09ci5jbGllbnRYP3IuY2xpZW50WDpyLnBhZ2VYLHRoaXMuY2xpZW50WT12b2lkIDAhPT1yLmNsaWVudFk/ci5jbGllbnRZOnIucGFnZVksdGhpcy5zY3JlZW5YPXIuc2NyZWVuWHx8MCx0aGlzLnNjcmVlblk9ci5zY3JlZW5ZfHwwKToodGhpcy5jbGllbnRYPXZvaWQgMCE9PXQuY2xpZW50WD90LmNsaWVudFg6dC5wYWdlWCx0aGlzLmNsaWVudFk9dm9pZCAwIT09dC5jbGllbnRZP3QuY2xpZW50WTp0LnBhZ2VZLHRoaXMuc2NyZWVuWD10LnNjcmVlblh8fDAsdGhpcy5zY3JlZW5ZPXQuc2NyZWVuWXx8MCksdGhpcy5idXR0b249dC5idXR0b24sdGhpcy5rZXk9dC5rZXl8fCIiLHRoaXMuY3RybEtleT10LmN0cmxLZXksdGhpcy5hbHRLZXk9dC5hbHRLZXksdGhpcy5zaGlmdEtleT10LnNoaWZ0S2V5LHRoaXMubWV0YUtleT10Lm1ldGFLZXksdGhpcy5wb2ludGVySWQ9dC5wb2ludGVySWR8fDAsdGhpcy5wb2ludGVyVHlwZT1zKHQucG9pbnRlclR5cGUpP3QucG9pbnRlclR5cGU6YXRbdC5wb2ludGVyVHlwZV18fCIiLHRoaXMuYz10LHQuZGVmYXVsdFByZXZlbnRlZCYmdGhpcy5iKCl9fWl0LnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7dGhpcy5JYT0hMX0sRShvdCxpdCk7dmFyIGF0PXsyOiJ0b3VjaCIsMzoicGVuIiw0OiJtb3VzZSJ9O290LnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7b3QuTi5iLmNhbGwodGhpcyk7dmFyIHQ9dGhpcy5jO2lmKHQucHJldmVudERlZmF1bHQpdC5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgaWYodC5yZXR1cm5WYWx1ZT0hMSxudCl0cnl7KHQuY3RybEtleXx8MTEyPD10LmtleUNvZGUmJjEyMz49dC5rZXlDb2RlKSYmKHQua2V5Q29kZT0tMSl9Y2F0Y2goZSl7fX07dmFyIHN0PSJjbG9zdXJlX2xpc3RlbmFibGVfIisoMWU2Kk1hdGgucmFuZG9tKCl8MCksdXQ9MDtmdW5jdGlvbiBjdCh0LGUsbixyLGkpe3RoaXMubGlzdGVuZXI9dCx0aGlzLnByb3h5PW51bGwsdGhpcy5zcmM9ZSx0aGlzLnR5cGU9bix0aGlzLmNhcHR1cmU9ISFyLHRoaXMuZGE9aSx0aGlzLmtleT0rK3V0LHRoaXMuWD10aGlzLlo9ITF9ZnVuY3Rpb24gaHQodCl7dC5YPSEwLHQubGlzdGVuZXI9bnVsbCx0LnByb3h5PW51bGwsdC5zcmM9bnVsbCx0LmRhPW51bGx9ZnVuY3Rpb24gbHQodCl7dGhpcy5zcmM9dCx0aGlzLmE9e30sdGhpcy5iPTB9ZnVuY3Rpb24gZnQodCxlKXt2YXIgbj1lLnR5cGU7aWYobiBpbiB0LmEpe3ZhciByLGk9dC5hW25dLG89UyhpLGUpOyhyPTA8PW8pJiZBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoaSxvLDEpLHImJihodChlKSwwPT10LmFbbl0ubGVuZ3RoJiYoZGVsZXRlIHQuYVtuXSx0LmItLSkpfX1mdW5jdGlvbiBwdCh0LGUsbixyKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoOysraSl7dmFyIG89dFtpXTtpZighby5YJiZvLmxpc3RlbmVyPT1lJiZvLmNhcHR1cmU9PSEhbiYmby5kYT09cilyZXR1cm4gaX1yZXR1cm4tMX1sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89dC50b1N0cmluZygpOyh0PXRoaXMuYVtvXSl8fCh0PXRoaXMuYVtvXT1bXSx0aGlzLmIrKyk7dmFyIGE9cHQodCxlLHIsaSk7cmV0dXJuLTE8YT8oZT10W2FdLG58fChlLlo9ITEpKTooKGU9bmV3IGN0KGUsdGhpcy5zcmMsbywhIXIsaSkpLlo9bix0LnB1c2goZSkpLGV9O3ZhciBkdD0iY2xvc3VyZV9sbV8iKygxZTYqTWF0aC5yYW5kb20oKXwwKSx2dD17fTtmdW5jdGlvbiBidCh0LGUsbixyLGkpe2lmKHImJnIub25jZSlyZXR1cm4gZnVuY3Rpb24gdChlLG4scixpLG8pe2lmKGYobikpe2Zvcih2YXIgYT0wO2E8bi5sZW5ndGg7YSsrKXQoZSxuW2FdLHIsaSxvKTtyZXR1cm4gbnVsbH1yZXR1cm4gcj1TdChyKSxlJiZlW3N0XT9lLkFhKG4scixkKGkpPyEhaS5jYXB0dXJlOiEhaSxvKTp5dChlLG4sciwhMCxpLG8pfSh0LGUsbixyLGkpO2lmKGYoZSkpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKWJ0KHQsZVtvXSxuLHIsaSk7cmV0dXJuIG51bGx9cmV0dXJuIG49U3QobiksdCYmdFtzdF0/dC56YShlLG4sZChyKT8hIXIuY2FwdHVyZTohIXIsaSk6eXQodCxlLG4sITEscixpKX1mdW5jdGlvbiB5dCh0LGUsbixyLGksbyl7aWYoIWUpdGhyb3cgRXJyb3IoIkludmFsaWQgZXZlbnQgdHlwZSIpO3ZhciBhPWQoaSk/ISFpLmNhcHR1cmU6ISFpO2lmKGEmJiFldClyZXR1cm4gbnVsbDt2YXIgcz1FdCh0KTtpZihzfHwodFtkdF09cz1uZXcgbHQodCkpLChuPXMuYWRkKGUsbixyLGEsbykpLnByb3h5KXJldHVybiBuO2lmKHI9ZnVuY3Rpb24oKXt2YXIgdD13dCxlPWV0P2Z1bmN0aW9uKG4pe3JldHVybiB0LmNhbGwoZS5zcmMsZS5saXN0ZW5lcixuKX06ZnVuY3Rpb24obil7aWYoIShuPXQuY2FsbChlLnNyYyxlLmxpc3RlbmVyLG4pKSlyZXR1cm4gbn07cmV0dXJuIGV9KCksbi5wcm94eT1yLHIuc3JjPXQsci5saXN0ZW5lcj1uLHQuYWRkRXZlbnRMaXN0ZW5lcilydHx8KGk9YSksdm9pZCAwPT09aSYmKGk9ITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihlLnRvU3RyaW5nKCkscixpKTtlbHNlIGlmKHQuYXR0YWNoRXZlbnQpdC5hdHRhY2hFdmVudChtdChlLnRvU3RyaW5nKCkpLHIpO2Vsc2V7aWYoIXQuYWRkTGlzdGVuZXJ8fCF0LnJlbW92ZUxpc3RlbmVyKXRocm93IEVycm9yKCJhZGRFdmVudExpc3RlbmVyIGFuZCBhdHRhY2hFdmVudCBhcmUgdW5hdmFpbGFibGUuIik7dC5hZGRMaXN0ZW5lcihyKX1yZXR1cm4gbn1mdW5jdGlvbiBndCh0KXtpZighdSh0KSYmdCYmIXQuWCl7dmFyIGU9dC5zcmM7aWYoZSYmZVtzdF0pZnQoZS5jLHQpO2Vsc2V7dmFyIG49dC50eXBlLHI9dC5wcm94eTtlLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZS5yZW1vdmVFdmVudExpc3RlbmVyKG4scix0LmNhcHR1cmUpOmUuZGV0YWNoRXZlbnQ/ZS5kZXRhY2hFdmVudChtdChuKSxyKTplLmFkZExpc3RlbmVyJiZlLnJlbW92ZUxpc3RlbmVyJiZlLnJlbW92ZUxpc3RlbmVyKHIpLChuPUV0KGUpKT8oZnQobix0KSwwPT1uLmImJihuLnNyYz1udWxsLGVbZHRdPW51bGwpKTpodCh0KX19fWZ1bmN0aW9uIG10KHQpe3JldHVybiB0IGluIHZ0P3Z0W3RdOnZ0W3RdPSJvbiIrdH1mdW5jdGlvbiBfdCh0LGUpe3ZhciBuPXQubGlzdGVuZXIscj10LmRhfHx0LnNyYztyZXR1cm4gdC5aJiZndCh0KSxuLmNhbGwocixlKX1mdW5jdGlvbiB3dCh0LGUpe3JldHVybiEhdC5YfHwoZXQ/X3QodCxuZXcgb3QoZSx0aGlzKSk6X3QodCxlPW5ldyBvdChlfHxjKCJ3aW5kb3cuZXZlbnQiKSx0aGlzKSkpfWZ1bmN0aW9uIEV0KHQpe3JldHVybih0PXRbZHRdKWluc3RhbmNlb2YgbHQ/dDpudWxsfXZhciBUdD0iX19jbG9zdXJlX2V2ZW50c19mbl8iKygxZTkqTWF0aC5yYW5kb20oKT4+PjApO2Z1bmN0aW9uIFN0KHQpe3JldHVybiJmdW5jdGlvbiI9PWwodCk/dDoodFtUdF18fCh0W1R0XT1mdW5jdGlvbihlKXtyZXR1cm4gdC5oYW5kbGVFdmVudChlKX0pLHRbVHRdKX1mdW5jdGlvbiBPdCgpe1QuY2FsbCh0aGlzKSx0aGlzLmM9bmV3IGx0KHRoaXMpLHRoaXMuSj10aGlzLHRoaXMuQj1udWxsfWZ1bmN0aW9uIFJ0KHQsZSxuLHIpe2lmKCEoZT10LmMuYVtTdHJpbmcoZSldKSlyZXR1cm4hMDtlPWUuY29uY2F0KCk7Zm9yKHZhciBpPSEwLG89MDtvPGUubGVuZ3RoOysrbyl7dmFyIGE9ZVtvXTtpZihhJiYhYS5YJiZhLmNhcHR1cmU9PW4pe3ZhciBzPWEubGlzdGVuZXIsdT1hLmRhfHxhLnNyYzthLlomJmZ0KHQuYyxhKSxpPSExIT09cy5jYWxsKHUscikmJml9fXJldHVybiBpJiYwIT1yLklhfUUoT3QsVCksT3QucHJvdG90eXBlW3N0XT0hMCwocj1PdC5wcm90b3R5cGUpLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlLG4scil7YnQodGhpcyx0LGUsbixyKX0sci5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSxuLHIpeyFmdW5jdGlvbiB0KGUsbixyLGksbyl7aWYoZihuKSlmb3IodmFyIGE9MDthPG4ubGVuZ3RoO2ErKyl0KGUsblthXSxyLGksbyk7ZWxzZSBpPWQoaSk/ISFpLmNhcHR1cmU6ISFpLHI9U3QociksZSYmZVtzdF0/KGU9ZS5jLChuPVN0cmluZyhuKS50b1N0cmluZygpKWluIGUuYSYmKC0xPChyPXB0KGE9ZS5hW25dLHIsaSxvKSkmJihodChhW3JdKSxBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYSxyLDEpLDA9PWEubGVuZ3RoJiYoZGVsZXRlIGUuYVtuXSxlLmItLSkpKSk6ZSYmKGU9RXQoZSkpJiYobj1lLmFbbi50b1N0cmluZygpXSxlPS0xLG4mJihlPXB0KG4scixpLG8pKSwocj0tMTxlP25bZV06bnVsbCkmJmd0KHIpKX0odGhpcyx0LGUsbixyKX0sci5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5CO2lmKG4pZm9yKGU9W107bjtuPW4uQillLnB1c2gobik7bj10aGlzLko7dmFyIHI9dC50eXBlfHx0O2lmKHModCkpdD1uZXcgaXQodCxuKTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBpdCl0LnRhcmdldD10LnRhcmdldHx8bjtlbHNle3ZhciBpPXQ7TSh0PW5ldyBpdChyLG4pLGkpfWlmKGk9ITAsZSlmb3IodmFyIG89ZS5sZW5ndGgtMTswPD1vO28tLSl7dmFyIGE9dC5hPWVbb107aT1SdChhLHIsITAsdCkmJml9aWYoaT1SdChhPXQuYT1uLHIsITAsdCkmJmksaT1SdChhLHIsITEsdCkmJmksZSlmb3Iobz0wO288ZS5sZW5ndGg7bysrKWk9UnQoYT10LmE9ZVtvXSxyLCExLHQpJiZpO3JldHVybiBpfSxyLkc9ZnVuY3Rpb24oKXtpZihPdC5OLkcuY2FsbCh0aGlzKSx0aGlzLmMpe3ZhciB0LGU9dGhpcy5jO2Zvcih0IGluIGUuYSl7Zm9yKHZhciBuPWUuYVt0XSxyPTA7cjxuLmxlbmd0aDtyKyspaHQobltyXSk7ZGVsZXRlIGUuYVt0XSxlLmItLX19dGhpcy5CPW51bGx9LHIuemE9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMuYy5hZGQoU3RyaW5nKHQpLGUsITEsbixyKX0sci5BYT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpcy5jLmFkZChTdHJpbmcodCksZSwhMCxuLHIpfTt2YXIgQXQ9YS5KU09OLnN0cmluZ2lmeTtmdW5jdGlvbiBDdCh0LGUpe3RoaXMuYz10LHRoaXMuZj1lLHRoaXMuYj0wLHRoaXMuYT1udWxsfWZ1bmN0aW9uIE50KCl7dGhpcy5iPXRoaXMuYT1udWxsfUN0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtpZigwPHRoaXMuYil7dGhpcy5iLS07dmFyIHQ9dGhpcy5hO3RoaXMuYT10Lm5leHQsdC5uZXh0PW51bGx9ZWxzZSB0PXRoaXMuYygpO3JldHVybiB0fTt2YXIgSXQsa3Q9bmV3IEN0KChmdW5jdGlvbigpe3JldHVybiBuZXcgeHR9KSwoZnVuY3Rpb24odCl7dC5yZXNldCgpfSkpO2Z1bmN0aW9uIFB0KCl7dmFyIHQ9anQsZT1udWxsO3JldHVybiB0LmEmJihlPXQuYSx0LmE9dC5hLm5leHQsdC5hfHwodC5iPW51bGwpLGUubmV4dD1udWxsKSxlfWZ1bmN0aW9uIHh0KCl7dGhpcy5uZXh0PXRoaXMuYj10aGlzLmE9bnVsbH1mdW5jdGlvbiBVdCh0KXthLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dGhyb3cgdH0pLDApfWZ1bmN0aW9uIER0KHQsZSl7SXR8fGZ1bmN0aW9uKCl7dmFyIHQ9YS5Qcm9taXNlLnJlc29sdmUodm9pZCAwKTtJdD1mdW5jdGlvbigpe3QudGhlbihNdCl9fSgpLEx0fHwoSXQoKSxMdD0hMCksanQuYWRkKHQsZSl9TnQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUpe3ZhciBuPWt0LmdldCgpO24uc2V0KHQsZSksdGhpcy5iP3RoaXMuYi5uZXh0PW46dGhpcy5hPW4sdGhpcy5iPW59LHh0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmE9dCx0aGlzLmI9ZSx0aGlzLm5leHQ9bnVsbH0seHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuYj10aGlzLmE9bnVsbH07dmFyIEx0PSExLGp0PW5ldyBOdDtmdW5jdGlvbiBNdCgpe2Zvcih2YXIgdDt0PVB0KCk7KXt0cnl7dC5hLmNhbGwodC5iKX1jYXRjaChuKXtVdChuKX12YXIgZT1rdDtlLmYodCksMTAwPmUuYiYmKGUuYisrLHQubmV4dD1lLmEsZS5hPXQpfUx0PSExfWZ1bmN0aW9uIEJ0KHQsZSl7T3QuY2FsbCh0aGlzKSx0aGlzLmI9dHx8MSx0aGlzLmE9ZXx8YSx0aGlzLmY9bSh0aGlzLmZiLHRoaXMpLHRoaXMuZz13KCl9ZnVuY3Rpb24gRnQodCl7dC5iYT0hMSx0LkwmJih0LmEuY2xlYXJUaW1lb3V0KHQuTCksdC5MPW51bGwpfWZ1bmN0aW9uIFd0KHQsZSxuKXtpZigiZnVuY3Rpb24iPT1sKHQpKW4mJih0PW0odCxuKSk7ZWxzZXtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQuaGFuZGxlRXZlbnQpdGhyb3cgRXJyb3IoIkludmFsaWQgbGlzdGVuZXIgYXJndW1lbnQiKTt0PW0odC5oYW5kbGVFdmVudCx0KX1yZXR1cm4gMjE0NzQ4MzY0NzxOdW1iZXIoZSk/LTE6YS5zZXRUaW1lb3V0KHQsZXx8MCl9ZnVuY3Rpb24gSHQodCxlLG4pe1QuY2FsbCh0aGlzKSx0aGlzLmY9bnVsbCE9bj9tKHQsbik6dCx0aGlzLmM9ZSx0aGlzLmI9bSh0aGlzLiRhLHRoaXMpLHRoaXMuYT1bXX1mdW5jdGlvbiBHdCh0KXt0LlU9V3QodC5iLHQuYyksdC5mLmFwcGx5KG51bGwsdC5hKX1mdW5jdGlvbiB6dCh0KXtULmNhbGwodGhpcyksdGhpcy5iPXQsdGhpcy5hPXt9fUUoQnQsT3QpLChyPUJ0LnByb3RvdHlwZSkuYmE9ITEsci5MPW51bGwsci5mYj1mdW5jdGlvbigpe2lmKHRoaXMuYmEpe3ZhciB0PXcoKS10aGlzLmc7MDx0JiZ0PC44KnRoaXMuYj90aGlzLkw9dGhpcy5hLnNldFRpbWVvdXQodGhpcy5mLHRoaXMuYi10KToodGhpcy5MJiYodGhpcy5hLmNsZWFyVGltZW91dCh0aGlzLkwpLHRoaXMuTD1udWxsKSx0aGlzLmRpc3BhdGNoRXZlbnQoInRpY2siKSx0aGlzLmJhJiYoRnQodGhpcyksdGhpcy5zdGFydCgpKSl9fSxyLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iYT0hMCx0aGlzLkx8fCh0aGlzLkw9dGhpcy5hLnNldFRpbWVvdXQodGhpcy5mLHRoaXMuYiksdGhpcy5nPXcoKSl9LHIuRz1mdW5jdGlvbigpe0J0Lk4uRy5jYWxsKHRoaXMpLEZ0KHRoaXMpLGRlbGV0ZSB0aGlzLmF9LEUoSHQsVCksKHI9SHQucHJvdG90eXBlKS5lYT0hMSxyLlU9bnVsbCxyLlRhPWZ1bmN0aW9uKHQpe3RoaXMuYT1hcmd1bWVudHMsdGhpcy5VP3RoaXMuZWE9ITA6R3QodGhpcyl9LHIuRz1mdW5jdGlvbigpe0h0Lk4uRy5jYWxsKHRoaXMpLHRoaXMuVSYmKGEuY2xlYXJUaW1lb3V0KHRoaXMuVSksdGhpcy5VPW51bGwsdGhpcy5lYT0hMSx0aGlzLmE9W10pfSxyLiRhPWZ1bmN0aW9uKCl7dGhpcy5VPW51bGwsdGhpcy5lYSYmKHRoaXMuZWE9ITEsR3QodGhpcykpfSxFKHp0LFQpO3ZhciBWdD1bXTtmdW5jdGlvbiBYdCh0LGUsbixyKXtmKG4pfHwobiYmKFZ0WzBdPW4udG9TdHJpbmcoKSksbj1WdCk7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBvPWJ0KGUsbltpXSxyfHx0LmhhbmRsZUV2ZW50LCExLHQuYnx8dCk7aWYoIW8pYnJlYWs7dC5hW28ua2V5XT1vfX1mdW5jdGlvbiBxdCh0KXtEKHQuYSwoZnVuY3Rpb24odCxlKXt0aGlzLmEuaGFzT3duUHJvcGVydHkoZSkmJmd0KHQpfSksdCksdC5hPXt9fWZ1bmN0aW9uIEt0KCl7fXp0LnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7enQuTi5HLmNhbGwodGhpcykscXQodGhpcyl9LHp0LnByb3RvdHlwZS5oYW5kbGVFdmVudD1mdW5jdGlvbigpe3Rocm93IEVycm9yKCJFdmVudEhhbmRsZXIuaGFuZGxlRXZlbnQgbm90IGltcGxlbWVudGVkIil9O3ZhciBKdD1uZXcgT3Q7ZnVuY3Rpb24gWXQodCl7aXQuY2FsbCh0aGlzLCJzZXJ2ZXJyZWFjaGFiaWxpdHkiLHQpfWZ1bmN0aW9uICR0KHQpe0p0LmRpc3BhdGNoRXZlbnQobmV3IFl0KEp0LHQpKX1mdW5jdGlvbiBadCh0KXtpdC5jYWxsKHRoaXMsInN0YXRldmVudCIsdCl9ZnVuY3Rpb24gUXQodCl7SnQuZGlzcGF0Y2hFdmVudChuZXcgWnQoSnQsdCkpfWZ1bmN0aW9uIHRlKHQpe2l0LmNhbGwodGhpcywidGltaW5nZXZlbnQiLHQpfWZ1bmN0aW9uIGVlKHQsZSl7aWYoImZ1bmN0aW9uIiE9bCh0KSl0aHJvdyBFcnJvcigiRm4gbXVzdCBub3QgYmUgbnVsbCBhbmQgbXVzdCBiZSBhIGZ1bmN0aW9uIik7cmV0dXJuIGEuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0KCl9KSxlKX1FKFl0LGl0KSxFKFp0LGl0KSxFKHRlLGl0KTt2YXIgbmU9e05PX0VSUk9SOjAsZ2I6MSxuYjoyLG1iOjMsamI6NCxsYjo1LG9iOjYsTGE6NyxUSU1FT1VUOjgscmI6OX0scmU9e2liOiJjb21wbGV0ZSIsdmI6InN1Y2Nlc3MiLE1hOiJlcnJvciIsTGE6ImFib3J0Iix0YjoicmVhZHkiLHViOiJyZWFkeXN0YXRlY2hhbmdlIixUSU1FT1VUOiJ0aW1lb3V0IixwYjoiaW5jcmVtZW50YWxkYXRhIixzYjoicHJvZ3Jlc3MiLGtiOiJkb3dubG9hZHByb2dyZXNzIix3YjoidXBsb2FkcHJvZ3Jlc3MifTtmdW5jdGlvbiBpZSgpe31mdW5jdGlvbiBvZSh0KXt2YXIgZTtyZXR1cm4oZT10LmEpfHwoZT10LmE9e30pLGV9ZnVuY3Rpb24gYWUoKXt9aWUucHJvdG90eXBlLmE9bnVsbDt2YXIgc2UsdWU9e09QRU46ImEiLGhiOiJiIixNYToiYyIscWI6ImQifTtmdW5jdGlvbiBjZSgpe2l0LmNhbGwodGhpcywiZCIpfWZ1bmN0aW9uIGhlKCl7aXQuY2FsbCh0aGlzLCJjIil9ZnVuY3Rpb24gbGUoKXt9ZnVuY3Rpb24gZmUodCxlLG4pe3RoaXMuZz10LHRoaXMuVz1lLHRoaXMuVj1ufHwxLHRoaXMuST1uZXcgenQodGhpcyksdGhpcy5PPXBlLHQ9ej8xMjU6dm9pZCAwLHRoaXMuUD1uZXcgQnQodCksdGhpcy5oPW51bGwsdGhpcy5iPSExLHRoaXMubD10aGlzLkQ9dGhpcy5mPXRoaXMuRj10aGlzLnY9dGhpcy5SPXRoaXMuaT1udWxsLHRoaXMuaj1bXSx0aGlzLmE9bnVsbCx0aGlzLkE9MCx0aGlzLmM9dGhpcy53PW51bGwsdGhpcy5vPS0xLHRoaXMubT0hMSx0aGlzLko9MCx0aGlzLkI9bnVsbCx0aGlzLnM9dGhpcy5TPXRoaXMuSD0hMX1FKGNlLGl0KSxFKGhlLGl0KSxFKGxlLGllKSxzZT1uZXcgbGU7dmFyIHBlPTQ1ZTMsZGU9e30sdmU9e307ZnVuY3Rpb24gYmUodCxlLG4pe3QuRj0xLHQuZj1XZShVZShlKSksdC5sPW4sdC5IPSEwLGdlKHQsbnVsbCl9ZnVuY3Rpb24geWUodCxlLG4scil7dC5GPTEsdC5mPVdlKFVlKGUpKSx0Lmw9bnVsbCx0Lkg9bixnZSh0LHIpfWZ1bmN0aW9uIGdlKHQsZSl7dC52PXcoKSx3ZSh0KSx0LkQ9VWUodC5mKSxGZSh0LkQsInQiLHQuViksdC5BPTAsdC5hPXQuZy4kKHQuZy5ZKCk/ZTpudWxsKSwwPHQuSiYmKHQuQj1uZXcgSHQobSh0LkphLHQsdC5hKSx0LkopKSxYdCh0LkksdC5hLCJyZWFkeXN0YXRlY2hhbmdlIix0LmNiKSxlPXQuaD9MKHQuaCk6e30sdC5sPyh0Lnd8fCh0Lnc9IlBPU1QiKSxlWyJDb250ZW50LVR5cGUiXT0iYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIix0LmEuY2EodC5ELHQudyx0LmwsZSkpOih0Lnc9IkdFVCIsdC5hLmNhKHQuRCx0LncsbnVsbCxlKSksJHQoMSl9ZnVuY3Rpb24gbWUodCxlLG4pe2Zvcih2YXIgcj0hMDshdC5tJiZ0LkE8bi5sZW5ndGg7KXt2YXIgaT1fZSh0LG4pO2lmKGk9PXZlKXs0PT1lJiYodC5jPTQsUXQoMTQpLHI9ITEpO2JyZWFrfWlmKGk9PWRlKXt0LmM9NCxRdCgxNSkscj0hMTticmVha31SZSh0LGkpfTQ9PWUmJjA9PW4ubGVuZ3RoJiYodC5jPTEsUXQoMTYpLHI9ITEpLHQuYj10LmImJnIscnx8KE9lKHQpLFNlKHQpKX1mdW5jdGlvbiBfZSh0LGUpe3ZhciBuPXQuQSxyPWUuaW5kZXhPZigiXG4iLG4pO3JldHVybi0xPT1yP3ZlOihuPU51bWJlcihlLnN1YnN0cmluZyhuLHIpKSxpc05hTihuKT9kZToocis9MSkrbj5lLmxlbmd0aD92ZTooZT1lLnN1YnN0cihyLG4pLHQuQT1yK24sZSkpfWZ1bmN0aW9uIHdlKHQpe3QuUj13KCkrdC5PLEVlKHQsdC5PKX1mdW5jdGlvbiBFZSh0LGUpe2lmKG51bGwhPXQuaSl0aHJvdyBFcnJvcigiV2F0Y2hEb2cgdGltZXIgbm90IG51bGwiKTt0Lmk9ZWUobSh0LmFiLHQpLGUpfWZ1bmN0aW9uIFRlKHQpe3QuaSYmKGEuY2xlYXJUaW1lb3V0KHQuaSksdC5pPW51bGwpfWZ1bmN0aW9uIFNlKHQpe3QuZy5DYSgpfHx0Lm18fHQuZy5uYSh0KX1mdW5jdGlvbiBPZSh0KXtUZSh0KTt2YXIgZT10LkI7ZSYmImZ1bmN0aW9uIj09dHlwZW9mIGUubGEmJmUubGEoKSx0LkI9bnVsbCxGdCh0LlApLHF0KHQuSSksdC5hJiYoZT10LmEsdC5hPW51bGwsZS5hYm9ydCgpLGUubGEoKSl9ZnVuY3Rpb24gUmUodCxlKXt0cnl7dC5nLkZhKHQsZSksJHQoNCl9Y2F0Y2gobil7fX1mdW5jdGlvbiBBZSh0LGUpe2lmKHQuZm9yRWFjaCYmImZ1bmN0aW9uIj09dHlwZW9mIHQuZm9yRWFjaCl0LmZvckVhY2goZSx2b2lkIDApO2Vsc2UgaWYocCh0KXx8cyh0KSlPKHQsZSx2b2lkIDApO2Vsc2V7aWYodC5LJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5LKXZhciBuPXQuSygpO2Vsc2UgaWYodC5DJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5DKW49dm9pZCAwO2Vsc2UgaWYocCh0KXx8cyh0KSl7bj1bXTtmb3IodmFyIHI9dC5sZW5ndGgsaT0wO2k8cjtpKyspbi5wdXNoKGkpfWVsc2UgZm9yKGkgaW4gbj1bXSxyPTAsdCluW3IrK109aTtpPShyPWZ1bmN0aW9uKHQpe2lmKHQuQyYmImZ1bmN0aW9uIj09dHlwZW9mIHQuQylyZXR1cm4gdC5DKCk7aWYocyh0KSlyZXR1cm4gdC5zcGxpdCgiIik7aWYocCh0KSl7Zm9yKHZhciBlPVtdLG49dC5sZW5ndGgscj0wO3I8bjtyKyspZS5wdXNoKHRbcl0pO3JldHVybiBlfWZvcihyIGluIGU9W10sbj0wLHQpZVtuKytdPXRbcl07cmV0dXJuIGV9KHQpKS5sZW5ndGg7Zm9yKHZhciBvPTA7bzxpO28rKyllLmNhbGwodm9pZCAwLHJbb10sbiYmbltvXSx0KX19ZnVuY3Rpb24gQ2UodCxlKXt0aGlzLmI9e30sdGhpcy5hPVtdLHRoaXMuYz0wO3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg7aWYoMTxuKXtpZihuJTIpdGhyb3cgRXJyb3IoIlVuZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzIik7Zm9yKHZhciByPTA7cjxuO3IrPTIpdGhpcy5zZXQoYXJndW1lbnRzW3JdLGFyZ3VtZW50c1tyKzFdKX1lbHNlIGlmKHQpaWYodCBpbnN0YW5jZW9mIENlKWZvcihuPXQuSygpLHI9MDtyPG4ubGVuZ3RoO3IrKyl0aGlzLnNldChuW3JdLHQuZ2V0KG5bcl0pKTtlbHNlIGZvcihyIGluIHQpdGhpcy5zZXQocix0W3JdKX1mdW5jdGlvbiBOZSh0LGUpe2tlKHQuYixlKSYmKGRlbGV0ZSB0LmJbZV0sdC5jLS0sdC5hLmxlbmd0aD4yKnQuYyYmSWUodCkpfWZ1bmN0aW9uIEllKHQpe2lmKHQuYyE9dC5hLmxlbmd0aCl7Zm9yKHZhciBlPTAsbj0wO2U8dC5hLmxlbmd0aDspe3ZhciByPXQuYVtlXTtrZSh0LmIscikmJih0LmFbbisrXT1yKSxlKyt9dC5hLmxlbmd0aD1ufWlmKHQuYyE9dC5hLmxlbmd0aCl7dmFyIGk9e307Zm9yKG49ZT0wO2U8dC5hLmxlbmd0aDspa2UoaSxyPXQuYVtlXSl8fCh0LmFbbisrXT1yLGlbcl09MSksZSsrO3QuYS5sZW5ndGg9bn19ZnVuY3Rpb24ga2UodCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9KHI9ZmUucHJvdG90eXBlKS5zZXRUaW1lb3V0PWZ1bmN0aW9uKHQpe3RoaXMuTz10fSxyLmNiPWZ1bmN0aW9uKHQpe3Q9dC50YXJnZXQ7dmFyIGU9dGhpcy5CO2UmJjM9PVVuKHQpP2UuVGEoKTp0aGlzLkphKHQpfSxyLkphPWZ1bmN0aW9uKHQpe3RyeXtpZih0PT10aGlzLmEpdDp7dmFyIGU9VW4odGhpcy5hKSxuPXRoaXMuYS55YSgpLHI9dGhpcy5hLlQoKTtpZighKDM+ZXx8Mz09ZSYmIXomJiF0aGlzLmEuYWEoKSkpe3RoaXMubXx8NCE9ZXx8Nz09bnx8JHQoOD09bnx8MD49cj8zOjIpLFRlKHRoaXMpO3ZhciBpPXRoaXMuYS5UKCk7dGhpcy5vPWk7dmFyIG89dGhpcy5hLmFhKCk7aWYodGhpcy5iPTIwMD09aSl7aWYodGhpcy5TJiYhdGhpcy5zKXtlOntpZih0aGlzLmEpe3ZhciBhPURuKHRoaXMuYSwiWC1IVFRQLUluaXRpYWwtUmVzcG9uc2UiKTtpZihhJiYhQyhhKSl7dmFyIHM9YTticmVhayBlfX1zPW51bGx9aWYoIXMpe3RoaXMuYj0hMSx0aGlzLmM9MyxRdCgxMiksT2UodGhpcyksU2UodGhpcyk7YnJlYWsgdH10aGlzLnM9ITAsUmUodGhpcyxzKX10aGlzLkg/KG1lKHRoaXMsZSxvKSx6JiZ0aGlzLmImJjM9PWUmJihYdCh0aGlzLkksdGhpcy5QLCJ0aWNrIix0aGlzLmJiKSx0aGlzLlAuc3RhcnQoKSkpOlJlKHRoaXMsbyksND09ZSYmT2UodGhpcyksdGhpcy5iJiYhdGhpcy5tJiYoND09ZT90aGlzLmcubmEodGhpcyk6KHRoaXMuYj0hMSx3ZSh0aGlzKSkpfWVsc2UgNDAwPT1pJiYwPG8uaW5kZXhPZigiVW5rbm93biBTSUQiKT8odGhpcy5jPTMsUXQoMTIpKToodGhpcy5jPTAsUXQoMTMpKSxPZSh0aGlzKSxTZSh0aGlzKX19fWNhdGNoKHUpe319LHIuYmI9ZnVuY3Rpb24oKXtpZih0aGlzLmEpe3ZhciB0PVVuKHRoaXMuYSksZT10aGlzLmEuYWEoKTt0aGlzLkE8ZS5sZW5ndGgmJihUZSh0aGlzKSxtZSh0aGlzLHQsZSksdGhpcy5iJiY0IT10JiZ3ZSh0aGlzKSl9fSxyLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMubT0hMCxPZSh0aGlzKX0sci5hYj1mdW5jdGlvbigpe3RoaXMuaT1udWxsO3ZhciB0PXcoKTswPD10LXRoaXMuUj8oMiE9dGhpcy5GJiYoJHQoMyksUXQoMTcpKSxPZSh0aGlzKSx0aGlzLmM9MixTZSh0aGlzKSk6RWUodGhpcyx0aGlzLlItdCl9LChyPUNlLnByb3RvdHlwZSkuQz1mdW5jdGlvbigpe0llKHRoaXMpO2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLmEubGVuZ3RoO2UrKyl0LnB1c2godGhpcy5iW3RoaXMuYVtlXV0pO3JldHVybiB0fSxyLks9ZnVuY3Rpb24oKXtyZXR1cm4gSWUodGhpcyksdGhpcy5hLmNvbmNhdCgpfSxyLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiBrZSh0aGlzLmIsdCk/dGhpcy5iW3RdOmV9LHIuc2V0PWZ1bmN0aW9uKHQsZSl7a2UodGhpcy5iLHQpfHwodGhpcy5jKyssdGhpcy5hLnB1c2godCkpLHRoaXMuYlt0XT1lfSxyLmZvckVhY2g9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5LKCkscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgaT1uW3JdLG89dGhpcy5nZXQoaSk7dC5jYWxsKGUsbyxpLHRoaXMpfX07dmFyIFBlPS9eKD86KFteOi8/Iy5dKyk6KT8oPzpcL1wvKD86KFteLz8jXSopQCk/KFteLyM/XSo/KSg/OjooWzAtOV0rKSk/KD89Wy8jP118JCkpPyhbXj8jXSspPyg/Olw/KFteI10qKSk/KD86IyhbXHNcU10qKSk/JC87ZnVuY3Rpb24geGUodCxlKXt2YXIgbjt0aGlzLmI9dGhpcy5qPXRoaXMuZj0iIix0aGlzLmk9bnVsbCx0aGlzLmc9dGhpcy5hPSIiLHRoaXMuaD0hMSx0IGluc3RhbmNlb2YgeGU/KHRoaXMuaD12b2lkIDAhPT1lP2U6dC5oLERlKHRoaXMsdC5mKSx0aGlzLmo9dC5qLExlKHRoaXMsdC5iKSxqZSh0aGlzLHQuaSksdGhpcy5hPXQuYSxNZSh0aGlzLGVuKHQuYykpLHRoaXMuZz10LmcpOnQmJihuPVN0cmluZyh0KS5tYXRjaChQZSkpPyh0aGlzLmg9ISFlLERlKHRoaXMsblsxXXx8IiIsITApLHRoaXMuaj1IZShuWzJdfHwiIiksTGUodGhpcyxuWzNdfHwiIiwhMCksamUodGhpcyxuWzRdKSx0aGlzLmE9SGUobls1XXx8IiIsITApLE1lKHRoaXMsbls2XXx8IiIsITApLHRoaXMuZz1IZShuWzddfHwiIikpOih0aGlzLmg9ISFlLHRoaXMuYz1uZXcgWWUobnVsbCx0aGlzLmgpKX1mdW5jdGlvbiBVZSh0KXtyZXR1cm4gbmV3IHhlKHQpfWZ1bmN0aW9uIERlKHQsZSxuKXt0LmY9bj9IZShlLCEwKTplLHQuZiYmKHQuZj10LmYucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gTGUodCxlLG4pe3QuYj1uP0hlKGUsITApOmV9ZnVuY3Rpb24gamUodCxlKXtpZihlKXtpZihlPU51bWJlcihlKSxpc05hTihlKXx8MD5lKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitlKTt0Lmk9ZX1lbHNlIHQuaT1udWxsfWZ1bmN0aW9uIE1lKHQsZSxuKXtlIGluc3RhbmNlb2YgWWU/KHQuYz1lLGZ1bmN0aW9uKHQsZSl7ZSYmIXQuZiYmKCRlKHQpLHQuYz1udWxsLHQuYS5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3ZhciBuPWUudG9Mb3dlckNhc2UoKTtlIT1uJiYoWmUodGhpcyxlKSx0bih0aGlzLG4sdCkpfSksdCkpLHQuZj1lfSh0LmMsdC5oKSk6KG58fChlPUdlKGUsS2UpKSx0LmM9bmV3IFllKGUsdC5oKSl9ZnVuY3Rpb24gQmUodCxlLG4pe3QuYy5zZXQoZSxuKX1mdW5jdGlvbiBGZSh0LGUsbil7ZihuKXx8KG49W1N0cmluZyhuKV0pLHRuKHQuYyxlLG4pfWZ1bmN0aW9uIFdlKHQpe3JldHVybiBCZSh0LCJ6eCIsTWF0aC5mbG9vcigyMTQ3NDgzNjQ4Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KStNYXRoLmFicyhNYXRoLmZsb29yKDIxNDc0ODM2NDgqTWF0aC5yYW5kb20oKSledygpKS50b1N0cmluZygzNikpLHR9ZnVuY3Rpb24gSGUodCxlKXtyZXR1cm4gdD9lP2RlY29kZVVSSSh0LnJlcGxhY2UoLyUyNS9nLCIlMjUyNSIpKTpkZWNvZGVVUklDb21wb25lbnQodCk6IiJ9ZnVuY3Rpb24gR2UodCxlLG4pe3JldHVybiBzKHQpPyh0PWVuY29kZVVSSSh0KS5yZXBsYWNlKGUsemUpLG4mJih0PXQucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksdCk6bnVsbH1mdW5jdGlvbiB6ZSh0KXtyZXR1cm4iJSIrKCh0PXQuY2hhckNvZGVBdCgwKSk+PjQmMTUpLnRvU3RyaW5nKDE2KSsoMTUmdCkudG9TdHJpbmcoMTYpfXhlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PVtdLGU9dGhpcy5mO2UmJnQucHVzaChHZShlLFZlLCEwKSwiOiIpO3ZhciBuPXRoaXMuYjtyZXR1cm4obnx8ImZpbGUiPT1lKSYmKHQucHVzaCgiLy8iKSwoZT10aGlzLmopJiZ0LnB1c2goR2UoZSxWZSwhMCksIkAiKSx0LnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhuKSkucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksbnVsbCE9KG49dGhpcy5pKSYmdC5wdXNoKCI6IixTdHJpbmcobikpKSwobj10aGlzLmEpJiYodGhpcy5iJiYiLyIhPW4uY2hhckF0KDApJiZ0LnB1c2goIi8iKSx0LnB1c2goR2UobiwiLyI9PW4uY2hhckF0KDApP3FlOlhlLCEwKSkpLChuPXRoaXMuYy50b1N0cmluZygpKSYmdC5wdXNoKCI/IixuKSwobj10aGlzLmcpJiZ0LnB1c2goIiMiLEdlKG4sSmUpKSx0LmpvaW4oIiIpfSx4ZS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXt2YXIgZT1VZSh0aGlzKSxuPSEhdC5mO24/RGUoZSx0LmYpOm49ISF0Lmosbj9lLmo9dC5qOm49ISF0LmIsbj9MZShlLHQuYik6bj1udWxsIT10Lmk7dmFyIHI9dC5hO2lmKG4pamUoZSx0LmkpO2Vsc2UgaWYobj0hIXQuYSl7aWYoIi8iIT1yLmNoYXJBdCgwKSlpZih0aGlzLmImJiF0aGlzLmEpcj0iLyIrcjtlbHNle3ZhciBpPWUuYS5sYXN0SW5kZXhPZigiLyIpOy0xIT1pJiYocj1lLmEuc3Vic3RyKDAsaSsxKStyKX1pZigiLi4iPT0oaT1yKXx8Ii4iPT1pKXI9IiI7ZWxzZSBpZihrKGksIi4vIil8fGsoaSwiLy4iKSl7cj0wPT1pLmxhc3RJbmRleE9mKCIvIiwwKSxpPWkuc3BsaXQoIi8iKTtmb3IodmFyIG89W10sYT0wO2E8aS5sZW5ndGg7KXt2YXIgcz1pW2ErK107Ii4iPT1zP3ImJmE9PWkubGVuZ3RoJiZvLnB1c2goIiIpOiIuLiI9PXM/KCgxPG8ubGVuZ3RofHwxPT1vLmxlbmd0aCYmIiIhPW9bMF0pJiZvLnBvcCgpLHImJmE9PWkubGVuZ3RoJiZvLnB1c2goIiIpKTooby5wdXNoKHMpLHI9ITApfXI9by5qb2luKCIvIil9ZWxzZSByPWl9cmV0dXJuIG4/ZS5hPXI6bj0iIiE9PXQuYy50b1N0cmluZygpLG4/TWUoZSxlbih0LmMpKTpuPSEhdC5nLG4mJihlLmc9dC5nKSxlfTt2YXIgVmU9L1sjXC9cP0BdL2csWGU9L1sjXD86XS9nLHFlPS9bI1w/XS9nLEtlPS9bI1w/QF0vZyxKZT0vIy9nO2Z1bmN0aW9uIFllKHQsZSl7dGhpcy5iPXRoaXMuYT1udWxsLHRoaXMuYz10fHxudWxsLHRoaXMuZj0hIWV9ZnVuY3Rpb24gJGUodCl7dC5hfHwodC5hPW5ldyBDZSx0LmI9MCx0LmMmJmZ1bmN0aW9uKHQsZSl7aWYodCl7dD10LnNwbGl0KCImIik7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0uaW5kZXhPZigiPSIpLGk9bnVsbDtpZigwPD1yKXt2YXIgbz10W25dLnN1YnN0cmluZygwLHIpO2k9dFtuXS5zdWJzdHJpbmcocisxKX1lbHNlIG89dFtuXTtlKG8saT9kZWNvZGVVUklDb21wb25lbnQoaS5yZXBsYWNlKC9cKy9nLCIgIikpOiIiKX19fSh0LmMsKGZ1bmN0aW9uKGUsbil7dC5hZGQoZGVjb2RlVVJJQ29tcG9uZW50KGUucmVwbGFjZSgvXCsvZywiICIpKSxuKX0pKSl9ZnVuY3Rpb24gWmUodCxlKXskZSh0KSxlPW5uKHQsZSksa2UodC5hLmIsZSkmJih0LmM9bnVsbCx0LmItPXQuYS5nZXQoZSkubGVuZ3RoLE5lKHQuYSxlKSl9ZnVuY3Rpb24gUWUodCxlKXtyZXR1cm4gJGUodCksZT1ubih0LGUpLGtlKHQuYS5iLGUpfWZ1bmN0aW9uIHRuKHQsZSxuKXtaZSh0LGUpLDA8bi5sZW5ndGgmJih0LmM9bnVsbCx0LmEuc2V0KG5uKHQsZSksQShuKSksdC5iKz1uLmxlbmd0aCl9ZnVuY3Rpb24gZW4odCl7dmFyIGU9bmV3IFllO3JldHVybiBlLmM9dC5jLHQuYSYmKGUuYT1uZXcgQ2UodC5hKSxlLmI9dC5iKSxlfWZ1bmN0aW9uIG5uKHQsZSl7cmV0dXJuIGU9U3RyaW5nKGUpLHQuZiYmKGU9ZS50b0xvd2VyQ2FzZSgpKSxlfWZ1bmN0aW9uIHJuKHQpe3RoaXMuYT10LHRoaXMuYj10aGlzLmg9bnVsbCx0aGlzLmc9ITEsdGhpcy5pPW51bGwsdGhpcy5jPS0xLHRoaXMubD10aGlzLmY9bnVsbH1mdW5jdGlvbiBvbih0KXt2YXIgZT10LmEuRi5hO2lmKG51bGwhPWUpUXQoNCksZT8oUXQoMTApLHFuKHQuYSx0LCExKSk6KFF0KDExKSxxbih0LmEsdCwhMCkpO2Vsc2V7dC5iPW5ldyBmZSh0LHZvaWQgMCx2b2lkIDApLHQuYi5oPXQuaCxlPVpuKGU9dC5hLGUuWSgpP3QuZjpudWxsLHQuaSksUXQoNCksRmUoZSwiVFlQRSIsInhtbGh0dHAiKTt2YXIgbj10LmEuaixyPXQuYS5JO24mJnImJkJlKGUsbixyKSx5ZSh0LmIsZSwhMSx0LmYpfX1mdW5jdGlvbiBhbigpe3RoaXMuYT10aGlzLmI9bnVsbH1mdW5jdGlvbiBzbigpe3RoaXMuYT1uZXcgQ2V9ZnVuY3Rpb24gdW4odCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuIm9iamVjdCI9PWUmJnR8fCJmdW5jdGlvbiI9PWU/Im8iKyh0W3ZdfHwodFt2XT0rK2IpKTplLmNoYXJBdCgwKSt0fWZ1bmN0aW9uIGNuKHQsZSl7dGhpcy5iPXQsdGhpcy5hPWV9ZnVuY3Rpb24gaG4odCl7dGhpcy5nPXR8fGxuLGEuUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nP3Q9MDwodD1hLnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoIm5hdmlnYXRpb24iKSkubGVuZ3RoJiYoImhxIj09dFswXS5uZXh0SG9wUHJvdG9jb2x8fCJoMiI9PXRbMF0ubmV4dEhvcFByb3RvY29sKTp0PSEhKGEua2EmJmEua2EuRGEmJmEua2EuRGEoKSYmYS5rYS5EYSgpLnliKSx0aGlzLmY9dD90aGlzLmc6MSx0aGlzLmE9bnVsbCwxPHRoaXMuZiYmKHRoaXMuYT1uZXcgc24pLHRoaXMuYj1udWxsLHRoaXMuYz1bXX0ocj1ZZS5wcm90b3R5cGUpLmFkZD1mdW5jdGlvbih0LGUpeyRlKHRoaXMpLHRoaXMuYz1udWxsLHQ9bm4odGhpcyx0KTt2YXIgbj10aGlzLmEuZ2V0KHQpO3JldHVybiBufHx0aGlzLmEuc2V0KHQsbj1bXSksbi5wdXNoKGUpLHRoaXMuYis9MSx0aGlzfSxyLmZvckVhY2g9ZnVuY3Rpb24odCxlKXskZSh0aGlzKSx0aGlzLmEuZm9yRWFjaCgoZnVuY3Rpb24obixyKXtPKG4sKGZ1bmN0aW9uKG4pe3QuY2FsbChlLG4scix0aGlzKX0pLHRoaXMpfSksdGhpcyl9LHIuSz1mdW5jdGlvbigpeyRlKHRoaXMpO2Zvcih2YXIgdD10aGlzLmEuQygpLGU9dGhpcy5hLksoKSxuPVtdLHI9MDtyPGUubGVuZ3RoO3IrKylmb3IodmFyIGk9dFtyXSxvPTA7bzxpLmxlbmd0aDtvKyspbi5wdXNoKGVbcl0pO3JldHVybiBufSxyLkM9ZnVuY3Rpb24odCl7JGUodGhpcyk7dmFyIGU9W107aWYocyh0KSlRZSh0aGlzLHQpJiYoZT1SKGUsdGhpcy5hLmdldChubih0aGlzLHQpKSkpO2Vsc2V7dD10aGlzLmEuQygpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWU9UihlLHRbbl0pfXJldHVybiBlfSxyLnNldD1mdW5jdGlvbih0LGUpe3JldHVybiAkZSh0aGlzKSx0aGlzLmM9bnVsbCxRZSh0aGlzLHQ9bm4odGhpcyx0KSkmJih0aGlzLmItPXRoaXMuYS5nZXQodCkubGVuZ3RoKSx0aGlzLmEuc2V0KHQsW2VdKSx0aGlzLmIrPTEsdGhpc30sci5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmMDwodD10aGlzLkModCkpLmxlbmd0aD9TdHJpbmcodFswXSk6ZX0sci50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuYylyZXR1cm4gdGhpcy5jO2lmKCF0aGlzLmEpcmV0dXJuIiI7Zm9yKHZhciB0PVtdLGU9dGhpcy5hLksoKSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl0saT1lbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHIpKTtyPXRoaXMuQyhyKTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGE9aTsiIiE9PXJbb10mJihhKz0iPSIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhyW29dKSkpLHQucHVzaChhKX19cmV0dXJuIHRoaXMuYz10LmpvaW4oIiYiKX0sRSgoZnVuY3Rpb24oKXt9KSwoZnVuY3Rpb24oKXt9KSksKHI9cm4ucHJvdG90eXBlKS5NPW51bGwsci4kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmEuJCh0KX0sci5hYm9ydD1mdW5jdGlvbigpe3RoaXMuYiYmKHRoaXMuYi5jYW5jZWwoKSx0aGlzLmI9bnVsbCksdGhpcy5jPS0xfSxyLkNhPWZ1bmN0aW9uKCl7cmV0dXJuITF9LHIuRmE9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmM9dC5vLDA9PXRoaXMuTSl7aWYoIXRoaXMuYS5vJiYodD10LmEpKXt2YXIgbj1Ebih0LCJYLUNsaWVudC1XaXJlLVByb3RvY29sIik7dGhpcy5sPW58fG51bGwsdGhpcy5hLmomJih0PURuKHQsIlgtSFRUUC1TZXNzaW9uLUlkIikpJiYodGhpcy5hLkk9dCl9aWYoZSl7dHJ5e3ZhciByPXRoaXMuYS5qYS5hLnBhcnNlKGUpfWNhdGNoKGkpe3JldHVybihlPXRoaXMuYSkubT10aGlzLmMsdm9pZCBZbihlLDIpfXRoaXMuZj1yWzBdfWVsc2UoZT10aGlzLmEpLm09dGhpcy5jLFluKGUsMil9ZWxzZSAxPT10aGlzLk0mJih0aGlzLmc/UXQoNik6IjExMTExIj09ZT8oUXQoNSksdGhpcy5nPSEwLCghSHx8MTA8PU51bWJlcigkKSkmJih0aGlzLmM9MjAwLHRoaXMuYi5jYW5jZWwoKSxRdCgxMSkscW4odGhpcy5hLHRoaXMsITApKSk6KFF0KDcpLHRoaXMuZz0hMSkpfSxyLm5hPWZ1bmN0aW9uKCl7aWYodGhpcy5jPXRoaXMuYi5vLHRoaXMuYi5iKTA9PXRoaXMuTT8odGhpcy5NPTEsb24odGhpcykpOjE9PXRoaXMuTSYmKHRoaXMuZz8oUXQoMTEpLHFuKHRoaXMuYSx0aGlzLCEwKSk6KFF0KDEwKSxxbih0aGlzLmEsdGhpcywhMSkpKTtlbHNlezA9PXRoaXMuTT9RdCg4KToxPT10aGlzLk0mJlF0KDkpO3ZhciB0PXRoaXMuYTt0Lm09dGhpcy5jLFluKHQsMil9fSxyLlk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLlkoKX0sci5tYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEubWEoKX0sc24ucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0aGlzLmEuc2V0KHVuKHQpLHQpfSxzbi5wcm90b3R5cGUuQz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuQygpfTt2YXIgbG49MTA7ZnVuY3Rpb24gZm4odCxlKXshdC5hJiYoayhlLCJzcGR5Iil8fGsoZSwicXVpYyIpfHxrKGUsImgyIikpJiYodC5mPXQuZyx0LmE9bmV3IHNuLHQuYiYmKGJuKHQsdC5iKSx0LmI9bnVsbCkpfWZ1bmN0aW9uIHBuKHQpe3JldHVybiEhdC5ifHwhIXQuYSYmdC5hLmEuYz49dC5mfWZ1bmN0aW9uIGRuKHQpe3JldHVybiB0LmI/MTp0LmE/dC5hLmEuYzowfWZ1bmN0aW9uIHZuKHQsZSl7cmV0dXJuIHQuYj90PXQuYj09ZTp0LmE/KGU9dW4oZSksdD1rZSh0LmEuYS5iLGUpKTp0PSExLHR9ZnVuY3Rpb24gYm4odCxlKXt0LmE/dC5hLmFkZChlKTp0LmI9ZX1mdW5jdGlvbiB5bih0LGUpe3ZhciBuO3QuYiYmdC5iPT1lP3QuYj1udWxsOigobj10LmEpJiYobj11bihlKSxuPWtlKHQuYS5hLmIsbikpLG4mJk5lKHQuYS5hLHVuKGUpKSl9ZnVuY3Rpb24gZ24odCl7aWYobnVsbCE9dC5iKXJldHVybiB0LmMuY29uY2F0KHQuYi5qKTtpZihudWxsIT10LmEmJjAhPXQuYS5hLmMpe3ZhciBlPXQuYztyZXR1cm4gTyh0LmEuQygpLChmdW5jdGlvbih0KXtlPWUuY29uY2F0KHQuail9KSksZX1yZXR1cm4gQSh0LmMpfWZ1bmN0aW9uIG1uKCl7fWZ1bmN0aW9uIF9uKCl7dGhpcy5hPW5ldyBtbn1mdW5jdGlvbiB3bih0LGUsbil7dmFyIHI9bnx8IiI7dHJ5e0FlKHQsKGZ1bmN0aW9uKHQsbil7dmFyIGk9dDtkKHQpJiYoaT1BdCh0KSksZS5wdXNoKHIrbisiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGkpKX0pKX1jYXRjaChpKXt0aHJvdyBlLnB1c2gocisidHlwZT0iK2VuY29kZVVSSUNvbXBvbmVudCgiX2JhZG1hcCIpKSxpfX1mdW5jdGlvbiBFbih0LGUsbixyLGkpe3RyeXtlLm9ubG9hZD1udWxsLGUub25lcnJvcj1udWxsLGUub25hYm9ydD1udWxsLGUub250aW1lb3V0PW51bGwsaShyKX1jYXRjaChvKXt9fWhuLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmM9Z24odGhpcyksdGhpcy5iPyh0aGlzLmIuY2FuY2VsKCksdGhpcy5iPW51bGwpOnRoaXMuYSYmMCE9dGhpcy5hLmEuYyYmKE8odGhpcy5hLkMoKSwoZnVuY3Rpb24odCl7dC5jYW5jZWwoKX0pKSwodD10aGlzLmEuYSkuYj17fSx0LmEubGVuZ3RoPTAsdC5jPTApfSxtbi5wcm90b3R5cGUuc3RyaW5naWZ5PWZ1bmN0aW9uKHQpe3JldHVybiBhLkpTT04uc3RyaW5naWZ5KHQsdm9pZCAwKX0sbW4ucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQpe3JldHVybiBhLkpTT04ucGFyc2UodCx2b2lkIDApfTt2YXIgVG49YS5KU09OLnBhcnNlO2Z1bmN0aW9uIFNuKHQpe090LmNhbGwodGhpcyksdGhpcy5oZWFkZXJzPW5ldyBDZSx0aGlzLkg9dHx8bnVsbCx0aGlzLmI9ITEsdGhpcy5zPXRoaXMuYT1udWxsLHRoaXMuQT0iIix0aGlzLmg9MCx0aGlzLmY9IiIsdGhpcy5nPXRoaXMudz10aGlzLmw9dGhpcy52PSExLHRoaXMubz0wLHRoaXMubT1udWxsLHRoaXMuST1Pbix0aGlzLkQ9dGhpcy5GPSExfUUoU24sT3QpO3ZhciBPbj0iIixSbj0vXmh0dHBzPyQvaSxBbj1bIlBPU1QiLCJQVVQiXTtmdW5jdGlvbiBDbih0KXtyZXR1cm4iY29udGVudC10eXBlIj09dC50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIE5uKHQsZSl7dC5iPSExLHQuYSYmKHQuZz0hMCx0LmEuYWJvcnQoKSx0Lmc9ITEpLHQuZj1lLHQuaD01LEluKHQpLFBuKHQpfWZ1bmN0aW9uIEluKHQpe3Qudnx8KHQudj0hMCx0LmRpc3BhdGNoRXZlbnQoImNvbXBsZXRlIiksdC5kaXNwYXRjaEV2ZW50KCJlcnJvciIpKX1mdW5jdGlvbiBrbih0KXtpZih0LmImJiJ1bmRlZmluZWQiIT10eXBlb2YgbyYmKCF0LnNbMV18fDQhPVVuKHQpfHwyIT10LlQoKSkpaWYodC5sJiY0PT1Vbih0KSlXdCh0LkVhLDAsdCk7ZWxzZSBpZih0LmRpc3BhdGNoRXZlbnQoInJlYWR5c3RhdGVjaGFuZ2UiKSw0PT1Vbih0KSl7dC5iPSExO3RyeXt2YXIgZSxuPXQuVCgpO3Q6c3dpdGNoKG4pe2Nhc2UgMjAwOmNhc2UgMjAxOmNhc2UgMjAyOmNhc2UgMjA0OmNhc2UgMjA2OmNhc2UgMzA0OmNhc2UgMTIyMzp2YXIgcj0hMDticmVhayB0O2RlZmF1bHQ6cj0hMX1pZighKGU9cikpe3ZhciBpO2lmKGk9MD09PW4pe3ZhciBzPVN0cmluZyh0LkEpLm1hdGNoKFBlKVsxXXx8bnVsbDtpZighcyYmYS5zZWxmJiZhLnNlbGYubG9jYXRpb24pe3ZhciB1PWEuc2VsZi5sb2NhdGlvbi5wcm90b2NvbDtzPXUuc3Vic3RyKDAsdS5sZW5ndGgtMSl9aT0hUm4udGVzdChzP3MudG9Mb3dlckNhc2UoKToiIil9ZT1pfWlmKGUpdC5kaXNwYXRjaEV2ZW50KCJjb21wbGV0ZSIpLHQuZGlzcGF0Y2hFdmVudCgic3VjY2VzcyIpO2Vsc2V7dC5oPTY7dHJ5e3ZhciBjPTI8VW4odCk/dC5hLnN0YXR1c1RleHQ6IiJ9Y2F0Y2goaCl7Yz0iIn10LmY9YysiIFsiK3QuVCgpKyJdIixJbih0KX19ZmluYWxseXtQbih0KX19fWZ1bmN0aW9uIFBuKHQsZSl7aWYodC5hKXt4bih0KTt2YXIgbj10LmEscj10LnNbMF0/aDpudWxsO3QuYT1udWxsLHQucz1udWxsLGV8fHQuZGlzcGF0Y2hFdmVudCgicmVhZHkiKTt0cnl7bi5vbnJlYWR5c3RhdGVjaGFuZ2U9cn1jYXRjaChpKXt9fX1mdW5jdGlvbiB4bih0KXt0LmEmJnQuRCYmKHQuYS5vbnRpbWVvdXQ9bnVsbCksdC5tJiYoYS5jbGVhclRpbWVvdXQodC5tKSx0Lm09bnVsbCl9ZnVuY3Rpb24gVW4odCl7cmV0dXJuIHQuYT90LmEucmVhZHlTdGF0ZTowfWZ1bmN0aW9uIERuKHQsZSl7cmV0dXJuIHQuYT90LmEuZ2V0UmVzcG9uc2VIZWFkZXIoZSk6bnVsbH1mdW5jdGlvbiBMbih0LGUsbil7dDp7Zm9yKHIgaW4gbil7dmFyIHI9ITE7YnJlYWsgdH1yPSEwfWlmKHIpcmV0dXJuIHQ7aWYobj1mdW5jdGlvbih0KXt2YXIgZT0iIjtyZXR1cm4gRCh0LChmdW5jdGlvbih0LG4pe2UrPW4sZSs9IjoiLGUrPXQsZSs9IlxyXG4ifSkpLGV9KG4pLHModCkpe2lmKGU9ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhlKSksZSs9bj1udWxsIT1uPyI9IitlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKG4pKToiIil7aWYoMD4obj10LmluZGV4T2YoIiMiKSkmJihuPXQubGVuZ3RoKSwwPihyPXQuaW5kZXhPZigiPyIpKXx8cj5uKXtyPW47dmFyIGk9IiJ9ZWxzZSBpPXQuc3Vic3RyaW5nKHIrMSxuKTtuPSh0PVt0LnN1YnN0cigwLHIpLGksdC5zdWJzdHIobildKVsxXSx0WzFdPWU/bj9uKyImIitlOmU6bix0PXRbMF0rKHRbMV0/Ij8iK3RbMV06IiIpK3RbMl19cmV0dXJuIHR9cmV0dXJuIEJlKHQsZSxuKSx0fWZ1bmN0aW9uIGpuKHQpe3RoaXMuZj1bXSx0aGlzLkY9bmV3IGFuLHRoaXMuZ2E9dGhpcy5wYT10aGlzLkI9dGhpcy5oYT10aGlzLmE9dGhpcy5JPXRoaXMuaj10aGlzLlY9dGhpcy5nPXRoaXMuSj10aGlzLmk9bnVsbCx0aGlzLlFhPXRoaXMuUD0wLHRoaXMuT2E9ISFjKCJpbnRlcm5hbENoYW5uZWxQYXJhbXMuZmFpbEZhc3QiLHQpLHRoaXMuaWE9dGhpcy53PXRoaXMucz10aGlzLmw9dGhpcy5oPXRoaXMuYz1udWxsLHRoaXMub2E9ITAsdGhpcy5tPXRoaXMucmE9dGhpcy5PPS0xLHRoaXMuUz10aGlzLnY9dGhpcy5BPTAsdGhpcy5OYT1jKCJpbnRlcm5hbENoYW5uZWxQYXJhbXMuYmFzZVJldHJ5RGVsYXlNcyIsdCl8fDVlMyx0aGlzLlJhPWMoImludGVybmFsQ2hhbm5lbFBhcmFtcy5yZXRyeURlbGF5U2VlZE1zIix0KXx8MWU0LHRoaXMuUGE9YygiaW50ZXJuYWxDaGFubmVsUGFyYW1zLmZvcndhcmRDaGFubmVsTWF4UmV0cmllcyIsdCl8fDIsdGhpcy5xYT1jKCJpbnRlcm5hbENoYW5uZWxQYXJhbXMuZm9yd2FyZENoYW5uZWxSZXF1ZXN0VGltZW91dE1zIix0KXx8MmU0LHRoaXMuS2E9dCYmdC56Ynx8dm9pZCAwLHRoaXMuRD12b2lkIDAsdGhpcy5SPXQmJnQuc3VwcG9ydHNDcm9zc0RvbWFpblhocnx8ITEsdGhpcy5IPSIiLHRoaXMuYj1uZXcgaG4odCYmdC5jb25jdXJyZW50UmVxdWVzdExpbWl0KSx0aGlzLmphPW5ldyBfbix0aGlzLm89IXR8fHZvaWQgMD09PXQuYmFja2dyb3VuZENoYW5uZWxUZXN0fHx0LmJhY2tncm91bmRDaGFubmVsVGVzdCwodGhpcy5XPXQmJnQuZmFzdEhhbmRzaGFrZXx8ITEpJiYhdGhpcy5vJiYodGhpcy5vPSEwKSx0JiZ0LmZvcmNlTG9uZ1BvbGxpbmcmJih0aGlzLm9hPSExKSx0aGlzLmZhPXZvaWQgMH1mdW5jdGlvbiBNbih0KXtpZihCbih0KSwzPT10LnUpe3ZhciBlPXQuUCsrLG49VWUodC5CKTtCZShuLCJTSUQiLHQuSCksQmUobiwiUklEIixlKSxCZShuLCJUWVBFIiwidGVybWluYXRlIiksR24odCxuKSwoZT1uZXcgZmUodCxlLHZvaWQgMCkpLkY9MixlLmY9V2UoVWUobikpLG49ITEsYS5uYXZpZ2F0b3ImJmEubmF2aWdhdG9yLnNlbmRCZWFjb24mJihuPWEubmF2aWdhdG9yLnNlbmRCZWFjb24oZS5mLnRvU3RyaW5nKCksIiIpKSwhbiYmYS5JbWFnZSYmKChuZXcgSW1hZ2UpLnNyYz1lLmYsbj0hMCksbnx8KGUuYT1lLmcuJChudWxsKSxlLmEuY2EoZS5mKSksZS52PXcoKSx3ZShlKX0kbih0KX1mdW5jdGlvbiBCbih0KXt0LncmJih0LncuYWJvcnQoKSx0Lnc9bnVsbCksdC5hJiYodC5hLmNhbmNlbCgpLHQuYT1udWxsKSx0LmwmJihhLmNsZWFyVGltZW91dCh0LmwpLHQubD1udWxsKSxLbih0KSx0LmIuY2FuY2VsKCksdC5oJiYodSh0LmgpJiZhLmNsZWFyVGltZW91dCh0LmgpLHQuaD1udWxsKX1mdW5jdGlvbiBGbih0LGUpe3QuZi5wdXNoKG5ldyBjbih0LlFhKyssZSkpLDM9PXQudSYmV24odCl9ZnVuY3Rpb24gV24odCl7cG4odC5iKXx8dC5ofHwodC5oPSEwLER0KHQuSGEsdCksdC5BPTApfWZ1bmN0aW9uIEhuKHQsZSl7dmFyIG47bj1lP2UuVzp0LlArKzt2YXIgcj1VZSh0LkIpO0JlKHIsIlNJRCIsdC5IKSxCZShyLCJSSUQiLG4pLEJlKHIsIkFJRCIsdC5PKSxHbih0LHIpLHQuZyYmdC5pJiZMbihyLHQuZyx0LmkpLG49bmV3IGZlKHQsbix0LkErMSksbnVsbD09PXQuZyYmKG4uaD10LmkpLGUmJih0LmY9ZS5qLmNvbmNhdCh0LmYpKSxlPXpuKHQsbiwxZTMpLG4uc2V0VGltZW91dChNYXRoLnJvdW5kKC41KnQucWEpK01hdGgucm91bmQoLjUqdC5xYSpNYXRoLnJhbmRvbSgpKSksYm4odC5iLG4pLGJlKG4scixlKX1mdW5jdGlvbiBHbih0LGUpe3QuYyYmQWUoe30sKGZ1bmN0aW9uKHQsbil7QmUoZSxuLHQpfSkpfWZ1bmN0aW9uIHpuKHQsZSxuKXtuPU1hdGgubWluKHQuZi5sZW5ndGgsbik7dmFyIHI9dC5jP20odC5jLlNhLHQuYyx0KTpudWxsO3Q6Zm9yKHZhciBpPXQuZixvPS0xOzspe3ZhciBhPVsiY291bnQ9IituXTstMT09bz8wPG4/KG89aVswXS5iLGEucHVzaCgib2ZzPSIrbykpOm89MDphLnB1c2goIm9mcz0iK28pO2Zvcih2YXIgcz0hMCx1PTA7dTxuO3UrKyl7dmFyIGM9aVt1XS5iLGg9aVt1XS5hO2lmKDA+KGMtPW8pKW89TWF0aC5tYXgoMCxpW3VdLmItMTAwKSxzPSExO2Vsc2UgdHJ5e3duKGgsYSwicmVxIitjKyJfIil9Y2F0Y2gobCl7ciYmcihoKX19aWYocyl7cj1hLmpvaW4oIiYiKTticmVhayB0fX1yZXR1cm4gdD10LmYuc3BsaWNlKDAsbiksZS5qPXQscn1mdW5jdGlvbiBWbih0KXt0LmF8fHQubHx8KHQuUz0xLER0KHQuR2EsdCksdC52PTApfWZ1bmN0aW9uIFhuKHQpe3JldHVybiEodC5hfHx0Lmx8fDM8PXQudikmJih0LlMrKyx0Lmw9ZWUobSh0LkdhLHQpLEpuKHQsdC52KSksdC52KyssITApfWZ1bmN0aW9uIHFuKHQsZSxuKXt2YXIgcj1lLmw7ciYmZm4odC5iLHIpLHQuaWE9dC5vYSYmbix0Lm09ZS5jLHQuQj1abih0LG51bGwsdC5oYSksV24odCl9ZnVuY3Rpb24gS24odCl7bnVsbCE9dC5zJiYoYS5jbGVhclRpbWVvdXQodC5zKSx0LnM9bnVsbCl9ZnVuY3Rpb24gSm4odCxlKXt2YXIgbj10Lk5hK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0LlJhKTtyZXR1cm4gdC5tYSgpfHwobio9MiksbiplfWZ1bmN0aW9uIFluKHQsZSl7aWYoMj09ZSl7dmFyIG49bnVsbDt0LmMmJihuPW51bGwpO3ZhciByPW0odC5lYix0KTtufHwobj1uZXcgeGUoIi8vd3d3Lmdvb2dsZS5jb20vaW1hZ2VzL2NsZWFyZG90LmdpZiIpLGEubG9jYXRpb24mJiJodHRwIj09YS5sb2NhdGlvbi5wcm90b2NvbHx8RGUobiwiaHR0cHMiKSxXZShuKSksZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgS3Q7aWYoYS5JbWFnZSl7dmFyIHI9bmV3IEltYWdlO3Iub25sb2FkPV8oRW4sbixyLCJUZXN0TG9hZEltYWdlOiBsb2FkZWQiLCEwLGUpLHIub25lcnJvcj1fKEVuLG4sciwiVGVzdExvYWRJbWFnZTogZXJyb3IiLCExLGUpLHIub25hYm9ydD1fKEVuLG4sciwiVGVzdExvYWRJbWFnZTogYWJvcnQiLCExLGUpLHIub250aW1lb3V0PV8oRW4sbixyLCJUZXN0TG9hZEltYWdlOiB0aW1lb3V0IiwhMSxlKSxhLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ci5vbnRpbWVvdXQmJnIub250aW1lb3V0KCl9KSwxZTQpLHIuc3JjPXR9ZWxzZSBlKCExKX0obi50b1N0cmluZygpLHIpfWVsc2UgUXQoMik7dC51PTAsdC5jJiZ0LmMudGEoZSksJG4odCksQm4odCl9ZnVuY3Rpb24gJG4odCl7dC51PTAsdC5tPS0xLHQuYyYmKDA9PWduKHQuYikubGVuZ3RoJiYwPT10LmYubGVuZ3RofHwodC5iLmMubGVuZ3RoPTAsQSh0LmYpLHQuZi5sZW5ndGg9MCksdC5jLnNhKCkpfWZ1bmN0aW9uIFpuKHQsZSxuKXt2YXIgcj1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHhlP1VlKHQpOm5ldyB4ZSh0LHZvaWQgMCl9KG4pO2lmKCIiIT1yLmIpZSYmTGUocixlKyIuIityLmIpLGplKHIsci5pKTtlbHNle3ZhciBpLG89YS5sb2NhdGlvbjtpPWU/ZSsiLiIrby5ob3N0bmFtZTpvLmhvc3RuYW1lLHI9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9bmV3IHhlKG51bGwsdm9pZCAwKTtyZXR1cm4gdCYmRGUoaSx0KSxlJiZMZShpLGUpLG4mJmplKGksbiksciYmKGkuYT1yKSxpfShvLnByb3RvY29sLGksK28ucG9ydCxuKX1yZXR1cm4gdC5WJiZEKHQuViwoZnVuY3Rpb24odCxlKXtCZShyLGUsdCl9KSksZT10Lmosbj10LkksZSYmbiYmQmUocixlLG4pLEJlKHIsIlZFUiIsdC53YSksR24odCxyKSxyfWZ1bmN0aW9uIFFuKCl7fWZ1bmN0aW9uIHRyKCl7aWYoSCYmISgxMDw9TnVtYmVyKCQpKSl0aHJvdyBFcnJvcigiRW52aXJvbm1lbnRhbCBlcnJvcjogbm8gYXZhaWxhYmxlIHRyYW5zcG9ydC4iKX1mdW5jdGlvbiBlcih0LGUpe090LmNhbGwodGhpcyksdGhpcy5hPW5ldyBqbihlKSx0aGlzLmc9dCx0aGlzLm09ZSYmZS50ZXN0VXJsP2UudGVzdFVybDpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzWzBdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgcixpPWFyZ3VtZW50c1tuXTtpZigwPT1pLmxhc3RJbmRleE9mKCIvIiwwKSllPWk7ZWxzZShyPSIiPT1lKXx8KHI9MDw9KHI9ZS5sZW5ndGgtMSkmJmUuaW5kZXhPZigiLyIscik9PXIpLGUrPXI/aToiLyIraX1yZXR1cm4gZX0odGhpcy5nLCJ0ZXN0IiksdGhpcy5iPWUmJmUubWVzc2FnZVVybFBhcmFtc3x8bnVsbCx0PWUmJmUubWVzc2FnZUhlYWRlcnN8fG51bGwsZSYmZS5jbGllbnRQcm90b2NvbEhlYWRlclJlcXVpcmVkJiYodD90WyJYLUNsaWVudC1Qcm90b2NvbCJdPSJ3ZWJjaGFubmVsIjp0PXsiWC1DbGllbnQtUHJvdG9jb2wiOiJ3ZWJjaGFubmVsIn0pLHRoaXMuYS5pPXQsdD1lJiZlLmluaXRNZXNzYWdlSGVhZGVyc3x8bnVsbCxlJiZlLm1lc3NhZ2VDb250ZW50VHlwZSYmKHQ/dFsiWC1XZWJDaGFubmVsLUNvbnRlbnQtVHlwZSJdPWUubWVzc2FnZUNvbnRlbnRUeXBlOnQ9eyJYLVdlYkNoYW5uZWwtQ29udGVudC1UeXBlIjplLm1lc3NhZ2VDb250ZW50VHlwZX0pLGUmJmUueGEmJih0P3RbIlgtV2ViQ2hhbm5lbC1DbGllbnQtUHJvZmlsZSJdPWUueGE6dD17IlgtV2ViQ2hhbm5lbC1DbGllbnQtUHJvZmlsZSI6ZS54YX0pLHRoaXMuYS5KPXQsKHQ9ZSYmZS5odHRwSGVhZGVyc092ZXJ3cml0ZVBhcmFtKSYmIUModCkmJih0aGlzLmEuZz10KSx0aGlzLmw9ZSYmZS5zdXBwb3J0c0Nyb3NzRG9tYWluWGhyfHwhMSx0aGlzLmg9ZSYmZS5zZW5kUmF3SnNvbnx8ITEsKGU9ZSYmZS5odHRwU2Vzc2lvbklkUGFyYW0pJiYhQyhlKSYmKHRoaXMuYS5qPWUsbnVsbCE9PSh0PXRoaXMuYikmJmUgaW4gdCYmKGUgaW4odD10aGlzLmIpJiZkZWxldGUgdFtlXSkpLHRoaXMuZj1uZXcgaXIodGhpcyl9ZnVuY3Rpb24gbnIodCl7Y2UuY2FsbCh0aGlzKTt2YXIgZT10Ll9fc21fXztpZihlKXt0Ontmb3IodmFyIG4gaW4gZSl7dD1uO2JyZWFrIHR9dD12b2lkIDB9KHRoaXMuYz10KT8odD10aGlzLmMsdGhpcy5kYXRhPW51bGwhPT1lJiZ0IGluIGU/ZVt0XTp2b2lkIDApOnRoaXMuZGF0YT1lfWVsc2UgdGhpcy5kYXRhPXR9ZnVuY3Rpb24gcnIoKXtoZS5jYWxsKHRoaXMpLHRoaXMuc3RhdHVzPTF9ZnVuY3Rpb24gaXIodCl7dGhpcy5hPXR9KHI9U24ucHJvdG90eXBlKS5jYT1mdW5jdGlvbih0LGUsbixyKXtpZih0aGlzLmEpdGhyb3cgRXJyb3IoIltnb29nLm5ldC5YaHJJb10gT2JqZWN0IGlzIGFjdGl2ZSB3aXRoIGFub3RoZXIgcmVxdWVzdD0iK3RoaXMuQSsiOyBuZXdVcmk9Iit0KTtlPWU/ZS50b1VwcGVyQ2FzZSgpOiJHRVQiLHRoaXMuQT10LHRoaXMuZj0iIix0aGlzLmg9MCx0aGlzLnY9ITEsdGhpcy5iPSEwLHRoaXMuYT1uZXcgWE1MSHR0cFJlcXVlc3QsdGhpcy5zPXRoaXMuSD9vZSh0aGlzLkgpOm9lKHNlKSx0aGlzLmEub25yZWFkeXN0YXRlY2hhbmdlPW0odGhpcy5FYSx0aGlzKTt0cnl7dGhpcy53PSEwLHRoaXMuYS5vcGVuKGUsU3RyaW5nKHQpLCEwKSx0aGlzLnc9ITF9Y2F0Y2gobyl7cmV0dXJuIHZvaWQgTm4odGhpcyxvKX10PW58fCIiO3ZhciBpPW5ldyBDZSh0aGlzLmhlYWRlcnMpO3ImJkFlKHIsKGZ1bmN0aW9uKHQsZSl7aS5zZXQoZSx0KX0pKSxyPWZ1bmN0aW9uKHQpe3Q6e2Zvcih2YXIgZT1DbixuPXQubGVuZ3RoLHI9cyh0KT90LnNwbGl0KCIiKTp0LGk9MDtpPG47aSsrKWlmKGkgaW4gciYmZS5jYWxsKHZvaWQgMCxyW2ldLGksdCkpe2U9aTticmVhayB0fWU9LTF9cmV0dXJuIDA+ZT9udWxsOnModCk/dC5jaGFyQXQoZSk6dFtlXX0oaS5LKCkpLG49YS5Gb3JtRGF0YSYmdCBpbnN0YW5jZW9mIGEuRm9ybURhdGEsISgwPD1TKEFuLGUpKXx8cnx8bnx8aS5zZXQoIkNvbnRlbnQtVHlwZSIsImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04IiksaS5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3RoaXMuYS5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9KSx0aGlzKSx0aGlzLkkmJih0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuSSksIndpdGhDcmVkZW50aWFscyJpbiB0aGlzLmEmJnRoaXMuYS53aXRoQ3JlZGVudGlhbHMhPT10aGlzLkYmJih0aGlzLmEud2l0aENyZWRlbnRpYWxzPXRoaXMuRik7dHJ5e3huKHRoaXMpLDA8dGhpcy5vJiYoKHRoaXMuRD1mdW5jdGlvbih0KXtyZXR1cm4gSCYmUSg5KSYmdSh0LnRpbWVvdXQpJiZ2b2lkIDAhPT10Lm9udGltZW91dH0odGhpcy5hKSk/KHRoaXMuYS50aW1lb3V0PXRoaXMubyx0aGlzLmEub250aW1lb3V0PW0odGhpcy5CYSx0aGlzKSk6dGhpcy5tPVd0KHRoaXMuQmEsdGhpcy5vLHRoaXMpKSx0aGlzLmw9ITAsdGhpcy5hLnNlbmQodCksdGhpcy5sPSExfWNhdGNoKG8pe05uKHRoaXMsbyl9fSxyLkJhPWZ1bmN0aW9uKCl7InVuZGVmaW5lZCIhPXR5cGVvZiBvJiZ0aGlzLmEmJih0aGlzLmY9IlRpbWVkIG91dCBhZnRlciAiK3RoaXMubysibXMsIGFib3J0aW5nIix0aGlzLmg9OCx0aGlzLmRpc3BhdGNoRXZlbnQoInRpbWVvdXQiKSx0aGlzLmFib3J0KDgpKX0sci5hYm9ydD1mdW5jdGlvbih0KXt0aGlzLmEmJnRoaXMuYiYmKHRoaXMuYj0hMSx0aGlzLmc9ITAsdGhpcy5hLmFib3J0KCksdGhpcy5nPSExLHRoaXMuaD10fHw3LHRoaXMuZGlzcGF0Y2hFdmVudCgiY29tcGxldGUiKSx0aGlzLmRpc3BhdGNoRXZlbnQoImFib3J0IiksUG4odGhpcykpfSxyLkc9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmImJih0aGlzLmI9ITEsdGhpcy5nPSEwLHRoaXMuYS5hYm9ydCgpLHRoaXMuZz0hMSksUG4odGhpcywhMCkpLFNuLk4uRy5jYWxsKHRoaXMpfSxyLkVhPWZ1bmN0aW9uKCl7dGhpcy5qfHwodGhpcy53fHx0aGlzLmx8fHRoaXMuZz9rbih0aGlzKTp0aGlzLlphKCkpfSxyLlphPWZ1bmN0aW9uKCl7a24odGhpcyl9LHIuVD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gMjxVbih0aGlzKT90aGlzLmEuc3RhdHVzOi0xfWNhdGNoKHQpe3JldHVybi0xfX0sci5hYT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5yZXNwb25zZVRleHQ6IiJ9Y2F0Y2godCl7cmV0dXJuIiJ9fSxyLlVhPWZ1bmN0aW9uKHQpe2lmKHRoaXMuYSl7dmFyIGU9dGhpcy5hLnJlc3BvbnNlVGV4dDtyZXR1cm4gdCYmMD09ZS5pbmRleE9mKHQpJiYoZT1lLnN1YnN0cmluZyh0Lmxlbmd0aCkpLFRuKGUpfX0sci55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmh9LHIuWGE9ZnVuY3Rpb24oKXtyZXR1cm4gcyh0aGlzLmYpP3RoaXMuZjpTdHJpbmcodGhpcy5mKX0sKHI9am4ucHJvdG90eXBlKS53YT04LHIudT0xLHIuQ2E9ZnVuY3Rpb24oKXtyZXR1cm4gMD09dGhpcy51fSxyLkhhPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaClpZih0aGlzLmg9bnVsbCwxPT10aGlzLnUpe2lmKCF0KXt0aGlzLlA9TWF0aC5mbG9vcigxZTUqTWF0aC5yYW5kb20oKSk7dmFyIGUsbj1uZXcgZmUodGhpcyx0PXRoaXMuUCsrLHZvaWQgMCkscj10aGlzLmk7aWYodGhpcy5KJiYocj9NKHI9TChyKSx0aGlzLkopOnI9dGhpcy5KKSxudWxsPT09dGhpcy5nJiYobi5oPXIpLHRoaXMuVyl0Ontmb3IodmFyIGk9ZT0wO2k8dGhpcy5mLmxlbmd0aDtpKyspe3ZhciBvPXRoaXMuZltpXTtpZih2b2lkIDA9PT0obz0iX19kYXRhX18iaW4gby5hJiZzKG89by5hLl9fZGF0YV9fKT9vLmxlbmd0aDp2b2lkIDApKWJyZWFrO2lmKDQwOTY8KGUrPW8pKXtlPWk7YnJlYWsgdH1pZig0MDk2PT09ZXx8aT09PXRoaXMuZi5sZW5ndGgtMSl7ZT1pKzE7YnJlYWsgdH19ZT0xZTN9ZWxzZSBlPTFlMztlPXpuKHRoaXMsbixlKSxCZShpPVVlKHRoaXMuQiksIlJJRCIsdCksQmUoaSwiQ1ZFUiIsMjIpLHRoaXMubyYmdGhpcy5qJiZCZShpLCJYLUhUVFAtU2Vzc2lvbi1JZCIsdGhpcy5qKSxHbih0aGlzLGkpLHRoaXMuZyYmciYmTG4oaSx0aGlzLmcsciksYm4odGhpcy5iLG4pLHRoaXMuVz8oQmUoaSwiJHJlcSIsZSksQmUoaSwiU0lEIiwibnVsbCIpLG4uUz0hMCxiZShuLGksbnVsbCkpOmJlKG4saSxlKSx0aGlzLnU9Mn19ZWxzZSAzPT10aGlzLnUmJih0P0huKHRoaXMsdCk6MD09dGhpcy5mLmxlbmd0aHx8cG4odGhpcy5iKXx8SG4odGhpcykpfSxyLkdhPWZ1bmN0aW9uKCl7dGhpcy5sPW51bGwsdGhpcy5hPW5ldyBmZSh0aGlzLCJycGMiLHRoaXMuUyksbnVsbD09PXRoaXMuZyYmKHRoaXMuYS5oPXRoaXMuaSksdGhpcy5hLko9MDt2YXIgdD1VZSh0aGlzLnBhKTtCZSh0LCJSSUQiLCJycGMiKSxCZSh0LCJTSUQiLHRoaXMuSCksQmUodCwiQ0kiLHRoaXMuaWE/IjAiOiIxIiksQmUodCwiQUlEIix0aGlzLk8pLEduKHRoaXMsdCksQmUodCwiVFlQRSIsInhtbGh0dHAiKSx0aGlzLmcmJnRoaXMuaSYmTG4odCx0aGlzLmcsdGhpcy5pKSx0aGlzLkQmJnRoaXMuYS5zZXRUaW1lb3V0KHRoaXMuRCkseWUodGhpcy5hLHQsITAsdGhpcy5nYSl9LHIuRmE9ZnVuY3Rpb24odCxlKXtpZigwIT10aGlzLnUmJih0aGlzLmE9PXR8fHZuKHRoaXMuYix0KSkpaWYodGhpcy5tPXQubywhdC5zJiZ2bih0aGlzLmIsdCkmJjM9PXRoaXMudSl7dHJ5e3ZhciBuPXRoaXMuamEuYS5wYXJzZShlKX1jYXRjaChvKXtuPW51bGx9aWYoZihuKSYmMz09bi5sZW5ndGgpe2lmKDA9PShlPW4pWzBdKXt0OmlmKCF0aGlzLmwpe2lmKHRoaXMuYSl7aWYoISh0aGlzLmEudiszZTM8dC52KSlicmVhayB0O0tuKHRoaXMpLHRoaXMuYS5jYW5jZWwoKSx0aGlzLmE9bnVsbH1Ybih0aGlzKSxRdCgxOCl9fWVsc2UgdGhpcy5yYT1lWzFdLDA8dGhpcy5yYS10aGlzLk8mJjM3NTAwPmVbMl0mJnRoaXMuaWEmJjA9PXRoaXMudiYmIXRoaXMucyYmKHRoaXMucz1lZShtKHRoaXMuWWEsdGhpcyksNmUzKSk7aWYoMT49ZG4odGhpcy5iKSYmdGhpcy5mYSl7dHJ5e3RoaXMuZmEoKX1jYXRjaChvKXt9dGhpcy5mYT12b2lkIDB9fWVsc2UgWW4odGhpcywxMSl9ZWxzZSBpZigodC5zfHx0aGlzLmE9PXQpJiZLbih0aGlzKSwhQyhlKSlmb3IoZT1uPXRoaXMuamEuYS5wYXJzZShlKSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07aWYodGhpcy5PPXJbMF0scj1yWzFdLDI9PXRoaXMudSlpZigiYyI9PXJbMF0pe3RoaXMuSD1yWzFdLHRoaXMuZ2E9clsyXTt2YXIgaT1yWzNdO251bGwhPWkmJih0aGlzLndhPWkpLG51bGwhPShyPXJbNV0pJiZ1KHIpJiYwPHImJih0aGlzLkQ9MS41KnIpLHRoaXMubyYmKHI9dC5hKSYmKChpPURuKHIsIlgtQ2xpZW50LVdpcmUtUHJvdG9jb2wiKSkmJmZuKHRoaXMuYixpKSx0aGlzLmomJihyPURuKHIsIlgtSFRUUC1TZXNzaW9uLUlkIikpKSYmKHRoaXMuST1yLEJlKHRoaXMuQix0aGlzLmoscikpLHRoaXMudT0zLHRoaXMuYyYmdGhpcy5jLnZhKCkscj10LHRoaXMucGE9Wm4odGhpcyx0aGlzLlkoKT90aGlzLmdhOm51bGwsdGhpcy5oYSksci5zPyh5bih0aGlzLmIsciksKGk9dGhpcy5EKSYmci5zZXRUaW1lb3V0KGkpLHIuaSYmKFRlKHIpLHdlKHIpKSx0aGlzLmE9cik6Vm4odGhpcyksMDx0aGlzLmYubGVuZ3RoJiZXbih0aGlzKX1lbHNlInN0b3AiIT1yWzBdJiYiY2xvc2UiIT1yWzBdfHxZbih0aGlzLDcpO2Vsc2UgMz09dGhpcy51JiYoInN0b3AiPT1yWzBdfHwiY2xvc2UiPT1yWzBdPyJzdG9wIj09clswXT9Zbih0aGlzLDcpOk1uKHRoaXMpOiJub29wIiE9clswXSYmdGhpcy5jJiZ0aGlzLmMudWEociksdGhpcy52PTApfX0sci5ZYT1mdW5jdGlvbigpe251bGwhPXRoaXMucyYmKHRoaXMucz1udWxsLHRoaXMuYS5jYW5jZWwoKSx0aGlzLmE9bnVsbCxYbih0aGlzKSxRdCgxOSkpfSxyLm5hPWZ1bmN0aW9uKHQpe3ZhciBlPW51bGw7aWYodGhpcy5hPT10KXtLbih0aGlzKSx0aGlzLmE9bnVsbDt2YXIgbj0yfWVsc2V7aWYoIXZuKHRoaXMuYix0KSlyZXR1cm47ZT10LmoseW4odGhpcy5iLHQpLG49MX1pZih0aGlzLm09dC5vLDAhPXRoaXMudSlpZih0LmIpMT09bj8oZT13KCktdC52LEp0LmRpc3BhdGNoRXZlbnQobmV3IHRlKEp0LHQubD90LmwubGVuZ3RoOjAsZSx0aGlzLkEpKSxXbih0aGlzKSk6Vm4odGhpcyk7ZWxzZXt2YXIgcj10LmM7aWYoMz09cnx8MD09ciYmMDx0aGlzLm18fCEoMT09biYmZnVuY3Rpb24odCxlKXtyZXR1cm4hKGRuKHQuYik+PXQuYi5mLSh0Lmg/MTowKSkmJih0Lmg/KHQuZj1lLmouY29uY2F0KHQuZiksITApOiEoMT09dC51fHwyPT10LnV8fHQuQT49KHQuT2E/MDp0LlBhKSkmJih0Lmg9ZWUobSh0LkhhLHQsZSksSm4odCx0LkEpKSx0LkErKywhMCkpfSh0aGlzLHQpfHwyPT1uJiZYbih0aGlzKSkpc3dpdGNoKGUmJjA8ZS5sZW5ndGgmJih0PXRoaXMuYix0LmM9dC5jLmNvbmNhdChlKSkscil7Y2FzZSAxOlluKHRoaXMsNSk7YnJlYWs7Y2FzZSA0OlluKHRoaXMsMTApO2JyZWFrO2Nhc2UgMzpZbih0aGlzLDYpO2JyZWFrO2RlZmF1bHQ6WW4odGhpcywyKX19fSxyLmViPWZ1bmN0aW9uKHQpe1F0KHQ/MjoxKX0sci4kPWZ1bmN0aW9uKHQpe2lmKHQmJiF0aGlzLlIpdGhyb3cgRXJyb3IoIkNhbid0IGNyZWF0ZSBzZWNvbmRhcnkgZG9tYWluIGNhcGFibGUgWGhySW8gb2JqZWN0LiIpO3JldHVybih0PW5ldyBTbih0aGlzLkthKSkuRj10aGlzLlIsdH0sci5tYT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5jJiYhMH0sci5ZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUn0sKHI9UW4ucHJvdG90eXBlKS52YT1mdW5jdGlvbigpe30sci51YT1mdW5jdGlvbigpe30sci50YT1mdW5jdGlvbigpe30sci5zYT1mdW5jdGlvbigpe30sci5TYT1mdW5jdGlvbigpe30sdHIucHJvdG90eXBlLmE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGVyKHQsZSl9LEUoZXIsT3QpLChyPWVyLnByb3RvdHlwZSkuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUsbixyKXtlci5OLmFkZEV2ZW50TGlzdGVuZXIuY2FsbCh0aGlzLHQsZSxuLHIpfSxyLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlLG4scil7ZXIuTi5yZW1vdmVFdmVudExpc3RlbmVyLmNhbGwodGhpcyx0LGUsbixyKX0sci5WYT1mdW5jdGlvbigpe3RoaXMuYS5jPXRoaXMuZix0aGlzLmwmJih0aGlzLmEuUj0hMCk7dmFyIHQ9dGhpcy5hLGU9dGhpcy5tLG49dGhpcy5nLHI9dGhpcy5ifHx2b2lkIDA7UXQoMCksdC5oYT1uLHQuVj1yfHx7fSx0Lm8mJih0LkYuYj1bXSx0LkYuYT0hMSksdC53PW5ldyBybih0KSxudWxsPT09dC5nJiYodC53Lmg9dC5pKSxuPWUsdC5nJiZ0LmkmJihuPUxuKGUsdC5nLHQuaSkpLCh0PXQudykuaT1uLGU9Wm4odC5hLG51bGwsdC5pKSxRdCgzKSxudWxsIT0obj10LmEuRi5iKT8odC5mPW5bMF0sdC5NPTEsb24odCkpOihGZShlLCJNT0RFIiwiaW5pdCIpLCF0LmEubyYmdC5hLmomJkZlKGUsIlgtSFRUUC1TZXNzaW9uLUlkIix0LmEuaiksdC5iPW5ldyBmZSh0LHZvaWQgMCx2b2lkIDApLHQuYi5oPXQuaCx5ZSh0LmIsZSwhMSxudWxsKSx0Lk09MCl9LHIuY2xvc2U9ZnVuY3Rpb24oKXtNbih0aGlzLmEpfSxyLldhPWZ1bmN0aW9uKHQpe2lmKHModCkpe3ZhciBlPXt9O2UuX19kYXRhX189dCxGbih0aGlzLmEsZSl9ZWxzZSB0aGlzLmg/KChlPXt9KS5fX2RhdGFfXz1BdCh0KSxGbih0aGlzLmEsZSkpOkZuKHRoaXMuYSx0KX0sci5HPWZ1bmN0aW9uKCl7dGhpcy5hLmM9bnVsbCxkZWxldGUgdGhpcy5mLE1uKHRoaXMuYSksZGVsZXRlIHRoaXMuYSxlci5OLkcuY2FsbCh0aGlzKX0sRShucixjZSksRShycixoZSksRShpcixRbiksaXIucHJvdG90eXBlLnZhPWZ1bmN0aW9uKCl7dGhpcy5hLmRpc3BhdGNoRXZlbnQoImEiKX0saXIucHJvdG90eXBlLnVhPWZ1bmN0aW9uKHQpe3RoaXMuYS5kaXNwYXRjaEV2ZW50KG5ldyBucih0KSl9LGlyLnByb3RvdHlwZS50YT1mdW5jdGlvbih0KXt0aGlzLmEuZGlzcGF0Y2hFdmVudChuZXcgcnIodCkpfSxpci5wcm90b3R5cGUuc2E9ZnVuY3Rpb24oKXt0aGlzLmEuZGlzcGF0Y2hFdmVudCgiYiIpfTt2YXIgb3I9XygoZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7fW4ucHJvdG90eXBlPXQucHJvdG90eXBlO3ZhciByPW5ldyBuO3JldHVybiB0LmFwcGx5KHIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSxyfSksdHIpO3RyLnByb3RvdHlwZS5jcmVhdGVXZWJDaGFubmVsPXRyLnByb3RvdHlwZS5hLGVyLnByb3RvdHlwZS5zZW5kPWVyLnByb3RvdHlwZS5XYSxlci5wcm90b3R5cGUub3Blbj1lci5wcm90b3R5cGUuVmEsZXIucHJvdG90eXBlLmNsb3NlPWVyLnByb3RvdHlwZS5jbG9zZSxuZS5OT19FUlJPUj0wLG5lLlRJTUVPVVQ9OCxuZS5IVFRQX0VSUk9SPTYscmUuQ09NUExFVEU9ImNvbXBsZXRlIixhZS5FdmVudFR5cGU9dWUsdWUuT1BFTj0iYSIsdWUuQ0xPU0U9ImIiLHVlLkVSUk9SPSJjIix1ZS5NRVNTQUdFPSJkIixPdC5wcm90b3R5cGUubGlzdGVuPU90LnByb3RvdHlwZS56YSxTbi5wcm90b3R5cGUubGlzdGVuT25jZT1Tbi5wcm90b3R5cGUuQWEsU24ucHJvdG90eXBlLmdldExhc3RFcnJvcj1Tbi5wcm90b3R5cGUuWGEsU24ucHJvdG90eXBlLmdldExhc3RFcnJvckNvZGU9U24ucHJvdG90eXBlLnlhLFNuLnByb3RvdHlwZS5nZXRTdGF0dXM9U24ucHJvdG90eXBlLlQsU24ucHJvdG90eXBlLmdldFJlc3BvbnNlSnNvbj1Tbi5wcm90b3R5cGUuVWEsU24ucHJvdG90eXBlLmdldFJlc3BvbnNlVGV4dD1Tbi5wcm90b3R5cGUuYWEsU24ucHJvdG90eXBlLnNlbmQ9U24ucHJvdG90eXBlLmNhO3ZhciBhcj17Y3JlYXRlV2ViQ2hhbm5lbFRyYW5zcG9ydDpvcixFcnJvckNvZGU6bmUsRXZlbnRUeXBlOnJlLFdlYkNoYW5uZWw6YWUsWGhySW86U259LHNyPWFyLmNyZWF0ZVdlYkNoYW5uZWxUcmFuc3BvcnQsdXI9YXIuRXJyb3JDb2RlLGNyPWFyLkV2ZW50VHlwZSxocj1hci5XZWJDaGFubmVsLGxyPWFyLlhocklvO2UuZGVmYXVsdD1hcn0uY2FsbCh0aGlzLG4oInlMcGoiKSl9LHpWRjQ6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjsoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPW4oIm1yU0ciKSxpPXtOT0RFX0NMSUVOVDohMSxOT0RFX0FETUlOOiExLFNES19WRVJTSU9OOiIke0pTQ09SRV9WRVJTSU9OfSJ9LG89ZnVuY3Rpb24odCxlKXtpZighdCl0aHJvdyBhKGUpfSxhPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRXJyb3IoIkZpcmViYXNlIERhdGFiYXNlICgiK2kuU0RLX1ZFUlNJT04rIikgSU5URVJOQUwgQVNTRVJUIEZBSUxFRDogIit0KX0scz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dC5jaGFyQ29kZUF0KHIpO2k8MTI4P2VbbisrXT1pOmk8MjA0OD8oZVtuKytdPWk+PjZ8MTkyLGVbbisrXT02MyZpfDEyOCk6NTUyOTY9PT0oNjQ1MTImaSkmJnIrMTx0Lmxlbmd0aCYmNTYzMjA9PT0oNjQ1MTImdC5jaGFyQ29kZUF0KHIrMSkpPyhpPTY1NTM2KygoMTAyMyZpKTw8MTApKygxMDIzJnQuY2hhckNvZGVBdCgrK3IpKSxlW24rK109aT4+MTh8MjQwLGVbbisrXT1pPj4xMiY2M3wxMjgsZVtuKytdPWk+PjYmNjN8MTI4LGVbbisrXT02MyZpfDEyOCk6KGVbbisrXT1pPj4xMnwyMjQsZVtuKytdPWk+PjYmNjN8MTI4LGVbbisrXT02MyZpfDEyOCl9cmV0dXJuIGV9LHU9e2J5dGVUb0NoYXJNYXBfOm51bGwsY2hhclRvQnl0ZU1hcF86bnVsbCxieXRlVG9DaGFyTWFwV2ViU2FmZV86bnVsbCxjaGFyVG9CeXRlTWFwV2ViU2FmZV86bnVsbCxFTkNPREVEX1ZBTFNfQkFTRToiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkiLGdldCBFTkNPREVEX1ZBTFMoKXtyZXR1cm4gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRSsiKy89In0sZ2V0IEVOQ09ERURfVkFMU19XRUJTQUZFKCl7cmV0dXJuIHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UrIi1fLiJ9LEhBU19OQVRJVkVfU1VQUE9SVDoiZnVuY3Rpb24iPT09dHlwZW9mIGF0b2IsZW5jb2RlQnl0ZUFycmF5OmZ1bmN0aW9uKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgRXJyb3IoImVuY29kZUJ5dGVBcnJheSB0YWtlcyBhbiBhcnJheSBhcyBhIHBhcmFtZXRlciIpO3RoaXMuaW5pdF8oKTtmb3IodmFyIG49ZT90aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlXzp0aGlzLmJ5dGVUb0NoYXJNYXBfLHI9W10saT0wO2k8dC5sZW5ndGg7aSs9Myl7dmFyIG89dFtpXSxhPWkrMTx0Lmxlbmd0aCxzPWE/dFtpKzFdOjAsdT1pKzI8dC5sZW5ndGgsYz11P3RbaSsyXTowLGg9bz4+MixsPSgzJm8pPDw0fHM+PjQsZj0oMTUmcyk8PDJ8Yz4+NixwPTYzJmM7dXx8KHA9NjQsYXx8KGY9NjQpKSxyLnB1c2gobltoXSxuW2xdLG5bZl0sbltwXSl9cmV0dXJuIHIuam9pbigiIil9LGVuY29kZVN0cmluZzpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLkhBU19OQVRJVkVfU1VQUE9SVCYmIWU/YnRvYSh0KTp0aGlzLmVuY29kZUJ5dGVBcnJheShzKHQpLGUpfSxkZWNvZGVTdHJpbmc6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5IQVNfTkFUSVZFX1NVUFBPUlQmJiFlP2F0b2IodCk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxyPTA7bjx0Lmxlbmd0aDspe3ZhciBpPXRbbisrXTtpZihpPDEyOCllW3IrK109U3RyaW5nLmZyb21DaGFyQ29kZShpKTtlbHNlIGlmKGk+MTkxJiZpPDIyNCl7dmFyIG89dFtuKytdO2VbcisrXT1TdHJpbmcuZnJvbUNoYXJDb2RlKCgzMSZpKTw8Nnw2MyZvKX1lbHNlIGlmKGk+MjM5JiZpPDM2NSl7dmFyIGE9KCg3JmkpPDwxOHwoNjMmKG89dFtuKytdKSk8PDEyfCg2MyYocz10W24rK10pKTw8Nnw2MyZ0W24rK10pLTY1NTM2O2VbcisrXT1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2KyhhPj4xMCkpLGVbcisrXT1TdHJpbmcuZnJvbUNoYXJDb2RlKDU2MzIwKygxMDIzJmEpKX1lbHNle289dFtuKytdO3ZhciBzPXRbbisrXTtlW3IrK109U3RyaW5nLmZyb21DaGFyQ29kZSgoMTUmaSk8PDEyfCg2MyZvKTw8Nnw2MyZzKX19cmV0dXJuIGUuam9pbigiIil9KHRoaXMuZGVjb2RlU3RyaW5nVG9CeXRlQXJyYXkodCxlKSl9LGRlY29kZVN0cmluZ1RvQnl0ZUFycmF5OmZ1bmN0aW9uKHQsZSl7dGhpcy5pbml0XygpO2Zvcih2YXIgbj1lP3RoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfOnRoaXMuY2hhclRvQnl0ZU1hcF8scj1bXSxpPTA7aTx0Lmxlbmd0aDspe3ZhciBvPW5bdC5jaGFyQXQoaSsrKV0sYT1pPHQubGVuZ3RoP25bdC5jaGFyQXQoaSldOjAscz0rK2k8dC5sZW5ndGg/blt0LmNoYXJBdChpKV06NjQsdT0rK2k8dC5sZW5ndGg/blt0LmNoYXJBdChpKV06NjQ7aWYoKytpLG51bGw9PW98fG51bGw9PWF8fG51bGw9PXN8fG51bGw9PXUpdGhyb3cgRXJyb3IoKTt2YXIgYz1vPDwyfGE+PjQ7aWYoci5wdXNoKGMpLDY0IT09cyl7dmFyIGg9YTw8NCYyNDB8cz4+MjtpZihyLnB1c2goaCksNjQhPT11KXt2YXIgbD1zPDw2JjE5Mnx1O3IucHVzaChsKX19fXJldHVybiByfSxpbml0XzpmdW5jdGlvbigpe2lmKCF0aGlzLmJ5dGVUb0NoYXJNYXBfKXt0aGlzLmJ5dGVUb0NoYXJNYXBfPXt9LHRoaXMuY2hhclRvQnl0ZU1hcF89e30sdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV89e30sdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV89e307Zm9yKHZhciB0PTA7dDx0aGlzLkVOQ09ERURfVkFMUy5sZW5ndGg7dCsrKXRoaXMuYnl0ZVRvQ2hhck1hcF9bdF09dGhpcy5FTkNPREVEX1ZBTFMuY2hhckF0KHQpLHRoaXMuY2hhclRvQnl0ZU1hcF9bdGhpcy5ieXRlVG9DaGFyTWFwX1t0XV09dCx0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlX1t0XT10aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdCh0KSx0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1t0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlX1t0XV09dCx0Pj10aGlzLkVOQ09ERURfVkFMU19CQVNFLmxlbmd0aCYmKHRoaXMuY2hhclRvQnl0ZU1hcF9bdGhpcy5FTkNPREVEX1ZBTFNfV0VCU0FGRS5jaGFyQXQodCldPXQsdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV9bdGhpcy5FTkNPREVEX1ZBTFMuY2hhckF0KHQpXT10KX19fSxjPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdS5kZWNvZGVTdHJpbmcodCwhMCl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcigiYmFzZTY0RGVjb2RlIGZhaWxlZDogIixlKX1yZXR1cm4gbnVsbH07ZnVuY3Rpb24gaCh0LGUpe2lmKCEoZSBpbnN0YW5jZW9mIE9iamVjdCkpcmV0dXJuIGU7c3dpdGNoKGUuY29uc3RydWN0b3Ipe2Nhc2UgRGF0ZTpyZXR1cm4gbmV3IERhdGUoZS5nZXRUaW1lKCkpO2Nhc2UgT2JqZWN0OnZvaWQgMD09PXQmJih0PXt9KTticmVhaztjYXNlIEFycmF5OnQ9W107YnJlYWs7ZGVmYXVsdDpyZXR1cm4gZX1mb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1oKHRbbl0sZVtuXSkpO3JldHVybiB0fXZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciB0PXRoaXM7dGhpcy5yZWplY3Q9ZnVuY3Rpb24oKXt9LHRoaXMucmVzb2x2ZT1mdW5jdGlvbigpe30sdGhpcy5wcm9taXNlPW5ldyBQcm9taXNlKChmdW5jdGlvbihlLG4pe3QucmVzb2x2ZT1lLHQucmVqZWN0PW59KSl9cmV0dXJuIHQucHJvdG90eXBlLndyYXBDYWxsYmFjaz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbihuLHIpe24/ZS5yZWplY3Qobik6ZS5yZXNvbHZlKHIpLCJmdW5jdGlvbiI9PT10eXBlb2YgdCYmKGUucHJvbWlzZS5jYXRjaCgoZnVuY3Rpb24oKXt9KSksMT09PXQubGVuZ3RoP3Qobik6dChuLHIpKX19LHR9KCk7ZnVuY3Rpb24gZigpe3JldHVybiJ1bmRlZmluZWQiIT09dHlwZW9mIG5hdmlnYXRvciYmInN0cmluZyI9PT10eXBlb2YgbmF2aWdhdG9yLnVzZXJBZ2VudD9uYXZpZ2F0b3IudXNlckFnZW50OiIifXZhciBwPSJGaXJlYmFzZUVycm9yIixkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobixyKXt2YXIgaT10LmNhbGwodGhpcyxyKXx8dGhpcztyZXR1cm4gaS5jb2RlPW4saS5uYW1lPXAsT2JqZWN0LnNldFByb3RvdHlwZU9mKGksZS5wcm90b3R5cGUpLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShpLHYucHJvdG90eXBlLmNyZWF0ZSksaX1yZXR1cm4gci5fX2V4dGVuZHMoZSx0KSxlfShFcnJvciksdj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuc2VydmljZT10LHRoaXMuc2VydmljZU5hbWU9ZSx0aGlzLmVycm9ycz1ufXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07Zm9yKHZhciByPWVbMF18fHt9LGk9dGhpcy5zZXJ2aWNlKyIvIit0LG89dGhpcy5lcnJvcnNbdF0sYT1vP2IobyxyKToiRXJyb3IiLHM9dGhpcy5zZXJ2aWNlTmFtZSsiOiAiK2ErIiAoIitpKyIpLiIsdT1uZXcgZChpLHMpLGM9MCxoPU9iamVjdC5rZXlzKHIpO2M8aC5sZW5ndGg7YysrKXt2YXIgbD1oW2NdOyJfIiE9PWwuc2xpY2UoLTEpJiYobCBpbiB1JiZjb25zb2xlLndhcm4oJ092ZXJ3cml0aW5nIEZpcmViYXNlRXJyb3IgYmFzZSBmaWVsZCAiJytsKyciIGNhbiBjYXVzZSB1bmV4cGVjdGVkIGJlaGF2aW9yLicpLHVbbF09cltsXSl9cmV0dXJuIHV9LHR9KCk7ZnVuY3Rpb24gYih0LGUpe3JldHVybiB0LnJlcGxhY2UoeSwoZnVuY3Rpb24odCxuKXt2YXIgcj1lW25dO3JldHVybiBudWxsIT1yP3IudG9TdHJpbmcoKToiPCIrbisiPz4ifSkpfXZhciB5PS9ce1wkKFtefV0rKX0vZztmdW5jdGlvbiBnKHQpe3JldHVybiBKU09OLnBhcnNlKHQpfXZhciBtPWZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49e30scj17fSxpPSIiO3RyeXt2YXIgbz10LnNwbGl0KCIuIik7ZT1nKGMob1swXSl8fCIiKSxuPWcoYyhvWzFdKXx8IiIpLGk9b1syXSxyPW4uZHx8e30sZGVsZXRlIG4uZH1jYXRjaChhKXt9cmV0dXJue2hlYWRlcjplLGNsYWltczpuLGRhdGE6cixzaWduYXR1cmU6aX19O3ZhciBfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuY2hhaW5fPVtdLHRoaXMuYnVmXz1bXSx0aGlzLldfPVtdLHRoaXMucGFkXz1bXSx0aGlzLmluYnVmXz0wLHRoaXMudG90YWxfPTAsdGhpcy5ibG9ja1NpemU9NjQsdGhpcy5wYWRfWzBdPTEyODtmb3IodmFyIHQ9MTt0PHRoaXMuYmxvY2tTaXplOysrdCl0aGlzLnBhZF9bdF09MDt0aGlzLnJlc2V0KCl9cmV0dXJuIHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jaGFpbl9bMF09MTczMjU4NDE5Myx0aGlzLmNoYWluX1sxXT00MDIzMjMzNDE3LHRoaXMuY2hhaW5fWzJdPTI1NjIzODMxMDIsdGhpcy5jaGFpbl9bM109MjcxNzMzODc4LHRoaXMuY2hhaW5fWzRdPTMyODUzNzc1MjAsdGhpcy5pbmJ1Zl89MCx0aGlzLnRvdGFsXz0wfSx0LnByb3RvdHlwZS5jb21wcmVzc189ZnVuY3Rpb24odCxlKXtlfHwoZT0wKTt2YXIgbj10aGlzLldfO2lmKCJzdHJpbmciPT09dHlwZW9mIHQpZm9yKHZhciByPTA7cjwxNjtyKyspbltyXT10LmNoYXJDb2RlQXQoZSk8PDI0fHQuY2hhckNvZGVBdChlKzEpPDwxNnx0LmNoYXJDb2RlQXQoZSsyKTw8OHx0LmNoYXJDb2RlQXQoZSszKSxlKz00O2Vsc2UgZm9yKHI9MDtyPDE2O3IrKyluW3JdPXRbZV08PDI0fHRbZSsxXTw8MTZ8dFtlKzJdPDw4fHRbZSszXSxlKz00O2ZvcihyPTE2O3I8ODA7cisrKXt2YXIgaT1uW3ItM11ebltyLThdXm5bci0xNF1ebltyLTE2XTtuW3JdPTQyOTQ5NjcyOTUmKGk8PDF8aT4+PjMxKX12YXIgbyxhLHM9dGhpcy5jaGFpbl9bMF0sdT10aGlzLmNoYWluX1sxXSxjPXRoaXMuY2hhaW5fWzJdLGg9dGhpcy5jaGFpbl9bM10sbD10aGlzLmNoYWluX1s0XTtmb3Iocj0wO3I8ODA7cisrKXtyPDQwP3I8MjA/KG89aF51JihjXmgpLGE9MTUxODUwMDI0OSk6KG89dV5jXmgsYT0xODU5Nzc1MzkzKTpyPDYwPyhvPXUmY3xoJih1fGMpLGE9MjQwMDk1OTcwOCk6KG89dV5jXmgsYT0zMzk1NDY5NzgyKTtpPShzPDw1fHM+Pj4yNykrbytsK2ErbltyXSY0Mjk0OTY3Mjk1O2w9aCxoPWMsYz00Mjk0OTY3Mjk1Jih1PDwzMHx1Pj4+MiksdT1zLHM9aX10aGlzLmNoYWluX1swXT10aGlzLmNoYWluX1swXStzJjQyOTQ5NjcyOTUsdGhpcy5jaGFpbl9bMV09dGhpcy5jaGFpbl9bMV0rdSY0Mjk0OTY3Mjk1LHRoaXMuY2hhaW5fWzJdPXRoaXMuY2hhaW5fWzJdK2MmNDI5NDk2NzI5NSx0aGlzLmNoYWluX1szXT10aGlzLmNoYWluX1szXStoJjQyOTQ5NjcyOTUsdGhpcy5jaGFpbl9bNF09dGhpcy5jaGFpbl9bNF0rbCY0Mjk0OTY3Mjk1fSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXtpZihudWxsIT10KXt2b2lkIDA9PT1lJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPWUtdGhpcy5ibG9ja1NpemUscj0wLGk9dGhpcy5idWZfLG89dGhpcy5pbmJ1Zl87cjxlOyl7aWYoMD09PW8pZm9yKDtyPD1uOyl0aGlzLmNvbXByZXNzXyh0LHIpLHIrPXRoaXMuYmxvY2tTaXplO2lmKCJzdHJpbmciPT09dHlwZW9mIHQpe2Zvcig7cjxlOylpZihpW29dPXQuY2hhckNvZGVBdChyKSwrK3IsKytvPT09dGhpcy5ibG9ja1NpemUpe3RoaXMuY29tcHJlc3NfKGkpLG89MDticmVha319ZWxzZSBmb3IoO3I8ZTspaWYoaVtvXT10W3JdLCsrciwrK289PT10aGlzLmJsb2NrU2l6ZSl7dGhpcy5jb21wcmVzc18oaSksbz0wO2JyZWFrfX10aGlzLmluYnVmXz1vLHRoaXMudG90YWxfKz1lfX0sdC5wcm90b3R5cGUuZGlnZXN0PWZ1bmN0aW9uKCl7dmFyIHQ9W10sZT04KnRoaXMudG90YWxfO3RoaXMuaW5idWZfPDU2P3RoaXMudXBkYXRlKHRoaXMucGFkXyw1Ni10aGlzLmluYnVmXyk6dGhpcy51cGRhdGUodGhpcy5wYWRfLHRoaXMuYmxvY2tTaXplLSh0aGlzLmluYnVmXy01NikpO2Zvcih2YXIgbj10aGlzLmJsb2NrU2l6ZS0xO24+PTU2O24tLSl0aGlzLmJ1Zl9bbl09MjU1JmUsZS89MjU2O3RoaXMuY29tcHJlc3NfKHRoaXMuYnVmXyk7dmFyIHI9MDtmb3Iobj0wO248NTtuKyspZm9yKHZhciBpPTI0O2k+PTA7aS09OCl0W3JdPXRoaXMuY2hhaW5fW25dPj5pJjI1NSwrK3I7cmV0dXJuIHR9LHR9KCk7dmFyIHc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIG49dGhpczt0aGlzLm9ic2VydmVycz1bXSx0aGlzLnVuc3Vic2NyaWJlcz1bXSx0aGlzLm9ic2VydmVyQ291bnQ9MCx0aGlzLnRhc2s9UHJvbWlzZS5yZXNvbHZlKCksdGhpcy5maW5hbGl6ZWQ9ITEsdGhpcy5vbk5vT2JzZXJ2ZXJzPWUsdGhpcy50YXNrLnRoZW4oKGZ1bmN0aW9uKCl7dChuKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7bi5lcnJvcih0KX0pKX1yZXR1cm4gdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbih0KXt0aGlzLmZvckVhY2hPYnNlcnZlcigoZnVuY3Rpb24oZSl7ZS5uZXh0KHQpfSkpfSx0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbih0KXt0aGlzLmZvckVhY2hPYnNlcnZlcigoZnVuY3Rpb24oZSl7ZS5lcnJvcih0KX0pKSx0aGlzLmNsb3NlKHQpfSx0LnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuZm9yRWFjaE9ic2VydmVyKChmdW5jdGlvbih0KXt0LmNvbXBsZXRlKCl9KSksdGhpcy5jbG9zZSgpfSx0LnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9dGhpcztpZih2b2lkIDA9PT10JiZ2b2lkIDA9PT1lJiZ2b2lkIDA9PT1uKXRocm93IG5ldyBFcnJvcigiTWlzc2luZyBPYnNlcnZlci4iKTt2b2lkIDA9PT0ocj1mdW5jdGlvbih0LGUpe2lmKCJvYmplY3QiIT09dHlwZW9mIHR8fG51bGw9PT10KXJldHVybiExO2Zvcih2YXIgbj0wLHI9ZTtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXTtpZihpIGluIHQmJiJmdW5jdGlvbiI9PT10eXBlb2YgdFtpXSlyZXR1cm4hMH1yZXR1cm4hMX0odCxbIm5leHQiLCJlcnJvciIsImNvbXBsZXRlIl0pP3Q6e25leHQ6dCxlcnJvcjplLGNvbXBsZXRlOm59KS5uZXh0JiYoci5uZXh0PUUpLHZvaWQgMD09PXIuZXJyb3ImJihyLmVycm9yPUUpLHZvaWQgMD09PXIuY29tcGxldGUmJihyLmNvbXBsZXRlPUUpO3ZhciBvPXRoaXMudW5zdWJzY3JpYmVPbmUuYmluZCh0aGlzLHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCk7cmV0dXJuIHRoaXMuZmluYWxpemVkJiZ0aGlzLnRhc2sudGhlbigoZnVuY3Rpb24oKXt0cnl7aS5maW5hbEVycm9yP3IuZXJyb3IoaS5maW5hbEVycm9yKTpyLmNvbXBsZXRlKCl9Y2F0Y2godCl7fX0pKSx0aGlzLm9ic2VydmVycy5wdXNoKHIpLG99LHQucHJvdG90eXBlLnVuc3Vic2NyaWJlT25lPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXRoaXMub2JzZXJ2ZXJzJiZ2b2lkIDAhPT10aGlzLm9ic2VydmVyc1t0XSYmKGRlbGV0ZSB0aGlzLm9ic2VydmVyc1t0XSx0aGlzLm9ic2VydmVyQ291bnQtPTEsMD09PXRoaXMub2JzZXJ2ZXJDb3VudCYmdm9pZCAwIT09dGhpcy5vbk5vT2JzZXJ2ZXJzJiZ0aGlzLm9uTm9PYnNlcnZlcnModGhpcykpfSx0LnByb3RvdHlwZS5mb3JFYWNoT2JzZXJ2ZXI9ZnVuY3Rpb24odCl7aWYoIXRoaXMuZmluYWxpemVkKWZvcih2YXIgZT0wO2U8dGhpcy5vYnNlcnZlcnMubGVuZ3RoO2UrKyl0aGlzLnNlbmRPbmUoZSx0KX0sdC5wcm90b3R5cGUuc2VuZE9uZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy50YXNrLnRoZW4oKGZ1bmN0aW9uKCl7aWYodm9pZCAwIT09bi5vYnNlcnZlcnMmJnZvaWQgMCE9PW4ub2JzZXJ2ZXJzW3RdKXRyeXtlKG4ub2JzZXJ2ZXJzW3RdKX1jYXRjaChyKXsidW5kZWZpbmVkIiE9PXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKHIpfX0pKX0sdC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLmZpbmFsaXplZHx8KHRoaXMuZmluYWxpemVkPSEwLHZvaWQgMCE9PXQmJih0aGlzLmZpbmFsRXJyb3I9dCksdGhpcy50YXNrLnRoZW4oKGZ1bmN0aW9uKCl7ZS5vYnNlcnZlcnM9dm9pZCAwLGUub25Ob09ic2VydmVycz12b2lkIDB9KSkpfSx0fSgpO2Z1bmN0aW9uIEUoKXt9ZnVuY3Rpb24gVCh0LGUsbil7dmFyIHI9IiI7c3dpdGNoKGUpe2Nhc2UgMTpyPW4/ImZpcnN0IjoiRmlyc3QiO2JyZWFrO2Nhc2UgMjpyPW4/InNlY29uZCI6IlNlY29uZCI7YnJlYWs7Y2FzZSAzOnI9bj8idGhpcmQiOiJUaGlyZCI7YnJlYWs7Y2FzZSA0OnI9bj8iZm91cnRoIjoiRm91cnRoIjticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZXJyb3JQcmVmaXggY2FsbGVkIHdpdGggYXJndW1lbnROdW1iZXIgPiA0LiAgTmVlZCB0byB1cGRhdGUgaXQ/Iil9dmFyIGk9dCsiIGZhaWxlZDogIjtyZXR1cm4gaSs9cisiIGFyZ3VtZW50ICJ9ZS5DT05TVEFOVFM9aSxlLkRlZmVycmVkPWwsZS5FcnJvckZhY3Rvcnk9dixlLkZpcmViYXNlRXJyb3I9ZCxlLlNoYTE9XyxlLmFzc2VydD1vLGUuYXNzZXJ0aW9uRXJyb3I9YSxlLmFzeW5jPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBuPVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bcl09YXJndW1lbnRzW3JdO1Byb21pc2UucmVzb2x2ZSghMCkudGhlbigoZnVuY3Rpb24oKXt0LmFwcGx5KHZvaWQgMCxuKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ZSYmZSh0KX0pKX19LGUuYmFzZTY0PXUsZS5iYXNlNjREZWNvZGU9YyxlLmJhc2U2NEVuY29kZT1mdW5jdGlvbih0KXt2YXIgZT1zKHQpO3JldHVybiB1LmVuY29kZUJ5dGVBcnJheShlLCEwKX0sZS5jb250YWlucz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sZS5jcmVhdGVTdWJzY3JpYmU9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgdyh0LGUpO3JldHVybiBuLnN1YnNjcmliZS5iaW5kKG4pfSxlLmRlY29kZT1tLGUuZGVlcENvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIGgodm9pZCAwLHQpfSxlLmRlZXBFeHRlbmQ9aCxlLmVycm9yUHJlZml4PVQsZS5nZXRVQT1mLGUuaXNBZG1pbj1mdW5jdGlvbih0KXt2YXIgZT1tKHQpLmNsYWltcztyZXR1cm4ib2JqZWN0Ij09PXR5cGVvZiBlJiYhMD09PWUuYWRtaW59LGUuaXNCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuIm9iamVjdCI9PT10eXBlb2Ygc2VsZiYmc2VsZi5zZWxmPT09c2VsZn0sZS5pc0Jyb3dzZXJFeHRlbnNpb249ZnVuY3Rpb24oKXt2YXIgdD0ib2JqZWN0Ij09PXR5cGVvZiBjaHJvbWU/Y2hyb21lLnJ1bnRpbWU6Im9iamVjdCI9PT10eXBlb2YgYnJvd3Nlcj9icm93c2VyLnJ1bnRpbWU6dm9pZCAwO3JldHVybiJvYmplY3QiPT09dHlwZW9mIHQmJnZvaWQgMCE9PXQuaWR9LGUuaXNFbGVjdHJvbj1mdW5jdGlvbigpe3JldHVybiBmKCkuaW5kZXhPZigiRWxlY3Ryb24vIik+PTB9LGUuaXNFbXB0eT1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSlyZXR1cm4hMTtyZXR1cm4hMH0sZS5pc0lFPWZ1bmN0aW9uKCl7dmFyIHQ9ZigpO3JldHVybiB0LmluZGV4T2YoIk1TSUUgIik+PTB8fHQuaW5kZXhPZigiVHJpZGVudC8iKT49MH0sZS5pc01vYmlsZUNvcmRvdmE9ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cmJiEhKHdpbmRvdy5jb3Jkb3ZhfHx3aW5kb3cucGhvbmVnYXB8fHdpbmRvdy5QaG9uZUdhcCkmJi9pb3N8aXBob25lfGlwb2R8aXBhZHxhbmRyb2lkfGJsYWNrYmVycnl8aWVtb2JpbGUvaS50ZXN0KGYoKSl9LGUuaXNOb2RlPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiJbb2JqZWN0IHByb2Nlc3NdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0LnByb2Nlc3MpfWNhdGNoKGUpe3JldHVybiExfX0sZS5pc05vZGVTZGs9ZnVuY3Rpb24oKXtyZXR1cm4hMD09PWkuTk9ERV9DTElFTlR8fCEwPT09aS5OT0RFX0FETUlOfSxlLmlzUmVhY3ROYXRpdmU9ZnVuY3Rpb24oKXtyZXR1cm4ib2JqZWN0Ij09PXR5cGVvZiBuYXZpZ2F0b3ImJiJSZWFjdE5hdGl2ZSI9PT1uYXZpZ2F0b3IucHJvZHVjdH0sZS5pc1VXUD1mdW5jdGlvbigpe3JldHVybiBmKCkuaW5kZXhPZigiTVNBcHBIb3N0LyIpPj0wfSxlLmlzVmFsaWRGb3JtYXQ9ZnVuY3Rpb24odCl7dmFyIGU9bSh0KS5jbGFpbXM7cmV0dXJuISFlJiYib2JqZWN0Ij09PXR5cGVvZiBlJiZlLmhhc093blByb3BlcnR5KCJpYXQiKX0sZS5pc1ZhbGlkVGltZXN0YW1wPWZ1bmN0aW9uKHQpe3ZhciBlPW0odCkuY2xhaW1zLG49TWF0aC5mbG9vcigobmV3IERhdGUpLmdldFRpbWUoKS8xZTMpLHI9MCxpPTA7cmV0dXJuIm9iamVjdCI9PT10eXBlb2YgZSYmKGUuaGFzT3duUHJvcGVydHkoIm5iZiIpP3I9ZS5uYmY6ZS5oYXNPd25Qcm9wZXJ0eSgiaWF0IikmJihyPWUuaWF0KSxpPWUuaGFzT3duUHJvcGVydHkoImV4cCIpP2UuZXhwOnIrODY0MDApLCEhbiYmISFyJiYhIWkmJm4+PXImJm48PWl9LGUuaXNzdWVkQXRUaW1lPWZ1bmN0aW9uKHQpe3ZhciBlPW0odCkuY2xhaW1zO3JldHVybiJvYmplY3QiPT09dHlwZW9mIGUmJmUuaGFzT3duUHJvcGVydHkoImlhdCIpP2UuaWF0Om51bGx9LGUuanNvbkV2YWw9ZyxlLm1hcD1mdW5jdGlvbih0LGUsbil7dmFyIHI9e307Zm9yKHZhciBpIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJihyW2ldPWUuY2FsbChuLHRbaV0saSx0KSk7cmV0dXJuIHJ9LGUucXVlcnlzdHJpbmc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49ZnVuY3Rpb24odCxuKXtBcnJheS5pc0FycmF5KG4pP24uZm9yRWFjaCgoZnVuY3Rpb24obil7ZS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudCh0KSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKX0pKTplLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHQpKyI9IitlbmNvZGVVUklDb21wb25lbnQobikpfSxyPTAsaT1PYmplY3QuZW50cmllcyh0KTtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtuKG9bMF0sb1sxXSl9cmV0dXJuIGUubGVuZ3RoPyImIitlLmpvaW4oIiYiKToiIn0sZS5xdWVyeXN0cmluZ0RlY29kZT1mdW5jdGlvbih0KXt2YXIgZT17fTtyZXR1cm4gdC5yZXBsYWNlKC9eXD8vLCIiKS5zcGxpdCgiJiIpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBuPXQuc3BsaXQoIj0iKTtlW25bMF1dPW5bMV19fSkpLGV9LGUuc2FmZUdldD1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKT90W2VdOnZvaWQgMH0sZS5zdHJpbmdMZW5ndGg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10LmNoYXJDb2RlQXQobik7cjwxMjg/ZSsrOnI8MjA0OD9lKz0yOnI+PTU1Mjk2JiZyPD01NjMxOT8oZSs9NCxuKyspOmUrPTN9cmV0dXJuIGV9LGUuc3RyaW5nVG9CeXRlQXJyYXk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXQuY2hhckNvZGVBdChyKTtpZihpPj01NTI5NiYmaTw9NTYzMTkpe3ZhciBhPWktNTUyOTY7cisrLG8ocjx0Lmxlbmd0aCwiU3Vycm9nYXRlIHBhaXIgbWlzc2luZyB0cmFpbCBzdXJyb2dhdGUuIiksaT02NTUzNisoYTw8MTApKyh0LmNoYXJDb2RlQXQociktNTYzMjApfWk8MTI4P2VbbisrXT1pOmk8MjA0OD8oZVtuKytdPWk+PjZ8MTkyLGVbbisrXT02MyZpfDEyOCk6aTw2NTUzNj8oZVtuKytdPWk+PjEyfDIyNCxlW24rK109aT4+NiY2M3wxMjgsZVtuKytdPTYzJml8MTI4KTooZVtuKytdPWk+PjE4fDI0MCxlW24rK109aT4+MTImNjN8MTI4LGVbbisrXT1pPj42JjYzfDEyOCxlW24rK109NjMmaXwxMjgpfXJldHVybiBlfSxlLnN0cmluZ2lmeT1mdW5jdGlvbih0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCl9LGUudmFsaWRhdGVBcmdDb3VudD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaTtpZihyPGU/aT0iYXQgbGVhc3QgIitlOnI+biYmKGk9MD09PW4/Im5vbmUiOiJubyBtb3JlIHRoYW4gIituKSxpKXRocm93IG5ldyBFcnJvcih0KyIgZmFpbGVkOiBXYXMgY2FsbGVkIHdpdGggIityKygxPT09cj8iIGFyZ3VtZW50LiI6IiBhcmd1bWVudHMuIikrIiBFeHBlY3RzICIraSsiLiIpfSxlLnZhbGlkYXRlQ2FsbGJhY2s9ZnVuY3Rpb24odCxlLG4scil7aWYoKCFyfHxuKSYmImZ1bmN0aW9uIiE9PXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcihUKHQsZSxyKSsibXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLiIpfSxlLnZhbGlkYXRlQ29udGV4dE9iamVjdD1mdW5jdGlvbih0LGUsbixyKXtpZigoIXJ8fG4pJiYoIm9iamVjdCIhPT10eXBlb2Ygbnx8bnVsbD09PW4pKXRocm93IG5ldyBFcnJvcihUKHQsZSxyKSsibXVzdCBiZSBhIHZhbGlkIGNvbnRleHQgb2JqZWN0LiIpfSxlLnZhbGlkYXRlTmFtZXNwYWNlPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKCghcnx8bikmJiJzdHJpbmciIT09dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKFQodCxlLHIpKyJtdXN0IGJlIGEgdmFsaWQgZmlyZWJhc2UgbmFtZXNwYWNlLiIpfX0pLmNhbGwodGhpcyxuKCJ5THBqIikpfX1dKTs=" async=""></script><script src="data:application/javascript;charset=UTF-8;base64,KHdpbmRvdy53ZWJwYWNrSnNvbnA9d2luZG93LndlYnBhY2tKc29ucHx8W10pLnB1c2goW1s0XSx7IitpdWMiOmZ1bmN0aW9uKHQsZSxuKXtuKCJ3Z2VVIiksbigiRmxRZiIpLG4oImJCeTkiKSxuKCJCOWpoIiksbigiZEw0MCIpLG4oInh2djkiKSxuKCJWK083IiksdC5leHBvcnRzPW4oIldFcGsiKS5TZXR9LCIrcGxLIjpmdW5jdGlvbih0LGUsbil7bigiQXBQRCIpLHQuZXhwb3J0cz1uKCJXRXBrIikuT2JqZWN0LmdldFByb3RvdHlwZU9mfSwiLytQNCI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIkJodXEiKSxvPW4oIlRSWngiKTtmdW5jdGlvbiBpKGUpe3JldHVybiB0LmV4cG9ydHM9aT1vP3I6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxyKHQpfSxpKGUpfXQuZXhwb3J0cz1pfSwiLzArSCI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJoZkttIiksbz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtyKGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBpPW8obigicTF0SSIpKSx1PW4oImx3QUsiKTtmdW5jdGlvbiBhKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5hbXBGaXJzdCxuPXZvaWQgMCE9PWUmJmUscj10Lmh5YnJpZCxvPXZvaWQgMCE9PXImJnIsaT10Lmhhc1F1ZXJ5O3JldHVybiBufHxvJiYodm9pZCAwIT09aSYmaSl9ZS5pc0luQW1wTW9kZT1hLGUudXNlQW1wPWZ1bmN0aW9uKCl7cmV0dXJuIGEoaS5kZWZhdWx0LnVzZUNvbnRleHQodS5BbXBTdGF0ZUNvbnRleHQpKX19LCIwdFZRIjpmdW5jdGlvbih0LGUsbil7bigiRmxRZiIpLG4oIlZKc1AiKSx0LmV4cG9ydHM9bigiV0VwayIpLkFycmF5LmZyb219LCIyUERZIjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9fSwiOEt0LyI6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJ0dERZIiksbz1uKCJoZkttIiksaT10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtvKGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciB1PWkobigicTF0SSIpKSxhPWkobigiWHVhZSIpKSxmPW4oImx3QUsiKSxjPW4oIkZZYTgiKSxzPW4oIi8wK0giKTtmdW5jdGlvbiBsKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXSxlPVt1LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgibWV0YSIse2NoYXJTZXQ6InV0Zi04In0pXTtyZXR1cm4gdHx8ZS5wdXNoKHUuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJtZXRhIix7bmFtZToidmlld3BvcnQiLGNvbnRlbnQ6IndpZHRoPWRldmljZS13aWR0aCxtaW5pbXVtLXNjYWxlPTEsaW5pdGlhbC1zY2FsZT0xIn0pKSxlfWZ1bmN0aW9uIHAodCxlKXtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiBlfHwibnVtYmVyIj09PXR5cGVvZiBlP3Q6ZS50eXBlPT09dS5kZWZhdWx0LkZyYWdtZW50P3QuY29uY2F0KHUuZGVmYXVsdC5DaGlsZHJlbi50b0FycmF5KGUucHJvcHMuY2hpbGRyZW4pLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiBlfHwibnVtYmVyIj09PXR5cGVvZiBlP3Q6dC5jb25jYXQoZSl9KSxbXSkpOnQuY29uY2F0KGUpfWUuZGVmYXVsdEhlYWQ9bDt2YXIgZD1bIm5hbWUiLCJodHRwRXF1aXYiLCJjaGFyU2V0IiwiaXRlbVByb3AiXTtmdW5jdGlvbiB2KHQsZSl7cmV0dXJuIHQucmVkdWNlKChmdW5jdGlvbih0LGUpe3ZhciBuPXUuZGVmYXVsdC5DaGlsZHJlbi50b0FycmF5KGUucHJvcHMuY2hpbGRyZW4pO3JldHVybiB0LmNvbmNhdChuKX0pLFtdKS5yZWR1Y2UocCxbXSkucmV2ZXJzZSgpLmNvbmNhdChsKGUuaW5BbXBNb2RlKSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHIsZT1uZXcgcixuPW5ldyByLG89e307cmV0dXJuIGZ1bmN0aW9uKGkpe3ZhciB1PSEwO2lmKGkua2V5JiYibnVtYmVyIiE9PXR5cGVvZiBpLmtleSYmaS5rZXkuaW5kZXhPZigiJCIpPjApe3ZhciBhPWkua2V5LnNsaWNlKGkua2V5LmluZGV4T2YoIiQiKSsxKTt0LmhhcyhhKT91PSExOnQuYWRkKGEpfXN3aXRjaChpLnR5cGUpe2Nhc2UidGl0bGUiOmNhc2UiYmFzZSI6ZS5oYXMoaS50eXBlKT91PSExOmUuYWRkKGkudHlwZSk7YnJlYWs7Y2FzZSJtZXRhIjpmb3IodmFyIGY9MCxjPWQubGVuZ3RoO2Y8YztmKyspe3ZhciBzPWRbZl07aWYoaS5wcm9wcy5oYXNPd25Qcm9wZXJ0eShzKSlpZigiY2hhclNldCI9PT1zKW4uaGFzKHMpP3U9ITE6bi5hZGQocyk7ZWxzZXt2YXIgbD1pLnByb3BzW3NdLHA9b1tzXXx8bmV3IHI7cC5oYXMobCk/dT0hMToocC5hZGQobCksb1tzXT1wKX19fXJldHVybiB1fX0oKSkucmV2ZXJzZSgpLm1hcCgoZnVuY3Rpb24odCxlKXt2YXIgbj10LmtleXx8ZTtyZXR1cm4gdS5kZWZhdWx0LmNsb25lRWxlbWVudCh0LHtrZXk6bn0pfSkpfXZhciBoPWEuZGVmYXVsdCgpO2Z1bmN0aW9uIF8odCl7dmFyIGU9dC5jaGlsZHJlbjtyZXR1cm4gdS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoZi5BbXBTdGF0ZUNvbnRleHQuQ29uc3VtZXIsbnVsbCwoZnVuY3Rpb24odCl7cmV0dXJuIHUuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGMuSGVhZE1hbmFnZXJDb250ZXh0LkNvbnN1bWVyLG51bGwsKGZ1bmN0aW9uKG4pe3JldHVybiB1LmRlZmF1bHQuY3JlYXRlRWxlbWVudChoLHtyZWR1Y2VDb21wb25lbnRzVG9TdGF0ZTp2LGhhbmRsZVN0YXRlQ2hhbmdlOm4saW5BbXBNb2RlOnMuaXNJbkFtcE1vZGUodCl9LGUpfSkpfSkpfV8ucmV3aW5kPWgucmV3aW5kLGUuZGVmYXVsdD1ffSwiOGlpYSI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oIlFNTVQiKSxvPW4oIlJSYy8iKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYocih0aGlzKSE9dCl0aHJvdyBUeXBlRXJyb3IodCsiI3RvSlNPTiBpc24ndCBnZW5lcmljIik7cmV0dXJuIG8odGhpcyl9fX0sQXBQRDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiSkI2OCIpLG89bigiVStLRCIpO24oInpuN04iKSgiZ2V0UHJvdG90eXBlT2YiLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbyhyKHQpKX19KSl9LEI5amg6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJXdTVxIiksbz1uKCJuM2tvIik7dC5leHBvcnRzPW4oInJhVG0iKSgiU2V0IiwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQodGhpcyxhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSkse2FkZDpmdW5jdGlvbih0KXtyZXR1cm4gci5kZWYobyh0aGlzLCJTZXQiKSx0PTA9PT10PzA6dCx0KX19LHIpfSxCaHVxOmZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigiK3BsSyIpfSxGWWE4OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiaGZLbSIpLG89dGhpcyYmdGhpcy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgbiBpbiB0KU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfTtyKGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBpPW8obigicTF0SSIpKTtlLkhlYWRNYW5hZ2VyQ29udGV4dD1pLmNyZWF0ZUNvbnRleHQobnVsbCl9LElQMVo6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCIyZmFFIiksbz1uKCJycjFpIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtlIGluIHQ/ci5mKHQsZSxvKDAsbikpOnRbZV09bn19LEs0N0U6ZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiB0fX0sTjluMjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiU3FaZyIpLG89bigidmplYSIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCJmdW5jdGlvbiIhPT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTt0LnByb3RvdHlwZT1yKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmbyh0LGUpfX0sUFFKVzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZDA0ViIpLG89bigieUx1MyIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihvKE9iamVjdCh0KSl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiByKHQpfX0sIlJSYy8iOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKCJvaW9SIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107cmV0dXJuIHIodCwhMSxuLnB1c2gsbixlKSxufX0sVGJHdTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiZkdTSSIpLG89bigiUFFKVyIpLGk9bigiMlBEWSIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcih0KXx8byh0KXx8aSgpfX0sIlYrTzciOmZ1bmN0aW9uKHQsZSxuKXtuKCJhUGZnIikoIlNldCIpfSxWSnNQOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigiMkdUUCIpLG89bigiWTdaQyIpLGk9bigiSkI2OCIpLHU9bigic053SSIpLGE9bigiTndKMyIpLGY9bigidEVlaiIpLGM9bigiSVAxWiIpLHM9bigiZk5aQSIpO28oby5TK28uRiohbigiVHVHRCIpKChmdW5jdGlvbih0KXtBcnJheS5mcm9tKHQpfSkpLCJBcnJheSIse2Zyb206ZnVuY3Rpb24odCl7dmFyIGUsbixvLGwscD1pKHQpLGQ9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSx2PWFyZ3VtZW50cy5sZW5ndGgsaD12PjE/YXJndW1lbnRzWzFdOnZvaWQgMCxfPXZvaWQgMCE9PWgsbT0wLHk9cyhwKTtpZihfJiYoaD1yKGgsdj4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMikpLHZvaWQgMD09eXx8ZD09QXJyYXkmJmEoeSkpZm9yKG49bmV3IGQoZT1mKHAubGVuZ3RoKSk7ZT5tO20rKyljKG4sbSxfP2gocFttXSxtKTpwW21dKTtlbHNlIGZvcihsPXkuY2FsbChwKSxuPW5ldyBkOyEobz1sLm5leHQoKSkuZG9uZTttKyspYyhuLG0sXz91KGwsaCxbby52YWx1ZSxtXSwhMCk6by52YWx1ZSk7cmV0dXJuIG4ubGVuZ3RoPW0sbn19KX0sV3U1cTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIjJmYUUiKS5mLG89bigib1ZtbCIpLGk9bigiWEpVLyIpLHU9bigiMkdUUCIpLGE9bigiRVhNaiIpLGY9bigib2lvUiIpLGM9bigiTVBGcCIpLHM9bigiVU8zOSIpLGw9bigiVEpXTiIpLHA9bigiam1ESCIpLGQ9bigiNi8xcyIpLmZhc3RLZXksdj1uKCJuM2tvIiksaD1wPyJfcyI6InNpemUiLF89ZnVuY3Rpb24odCxlKXt2YXIgbixyPWQoZSk7aWYoIkYiIT09cilyZXR1cm4gdC5faVtyXTtmb3Iobj10Ll9mO247bj1uLm4paWYobi5rPT1lKXJldHVybiBufTt0LmV4cG9ydHM9e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKHQsZSxuLGMpe3ZhciBzPXQoKGZ1bmN0aW9uKHQscil7YSh0LHMsZSwiX2kiKSx0Ll90PWUsdC5faT1vKG51bGwpLHQuX2Y9dm9pZCAwLHQuX2w9dm9pZCAwLHRbaF09MCx2b2lkIDAhPXImJmYocixuLHRbY10sdCl9KSk7cmV0dXJuIGkocy5wcm90b3R5cGUse2NsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXYodGhpcyxlKSxuPXQuX2kscj10Ll9mO3I7cj1yLm4pci5yPSEwLHIucCYmKHIucD1yLnAubj12b2lkIDApLGRlbGV0ZSBuW3IuaV07dC5fZj10Ll9sPXZvaWQgMCx0W2hdPTB9LGRlbGV0ZTpmdW5jdGlvbih0KXt2YXIgbj12KHRoaXMsZSkscj1fKG4sdCk7aWYocil7dmFyIG89ci5uLGk9ci5wO2RlbGV0ZSBuLl9pW3IuaV0sci5yPSEwLGkmJihpLm49byksbyYmKG8ucD1pKSxuLl9mPT1yJiYobi5fZj1vKSxuLl9sPT1yJiYobi5fbD1pKSxuW2hdLS19cmV0dXJuISFyfSxmb3JFYWNoOmZ1bmN0aW9uKHQpe3YodGhpcyxlKTtmb3IodmFyIG4scj11KHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7bj1uP24ubjp0aGlzLl9mOylmb3IocihuLnYsbi5rLHRoaXMpO24mJm4ucjspbj1uLnB9LGhhczpmdW5jdGlvbih0KXtyZXR1cm4hIV8odih0aGlzLGUpLHQpfX0pLHAmJnIocy5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdih0aGlzLGUpW2hdfX0pLHN9LGRlZjpmdW5jdGlvbih0LGUsbil7dmFyIHIsbyxpPV8odCxlKTtyZXR1cm4gaT9pLnY9bjoodC5fbD1pPXtpOm89ZChlLCEwKSxrOmUsdjpuLHA6cj10Ll9sLG46dm9pZCAwLHI6ITF9LHQuX2Z8fCh0Ll9mPWkpLHImJihyLm49aSksdFtoXSsrLCJGIiE9PW8mJih0Ll9pW29dPWkpKSx0fSxnZXRFbnRyeTpfLHNldFN0cm9uZzpmdW5jdGlvbih0LGUsbil7Yyh0LGUsKGZ1bmN0aW9uKHQsbil7dGhpcy5fdD12KHQsZSksdGhpcy5faz1uLHRoaXMuX2w9dm9pZCAwfSksKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2ssZT10aGlzLl9sO2UmJmUucjspZT1lLnA7cmV0dXJuIHRoaXMuX3QmJih0aGlzLl9sPWU9ZT9lLm46dGhpcy5fdC5fZik/cygwLCJrZXlzIj09dD9lLms6InZhbHVlcyI9PXQ/ZS52OltlLmssZS52XSk6KHRoaXMuX3Q9dm9pZCAwLHMoMSkpfSksbj8iZW50cmllcyI6InZhbHVlcyIsIW4sITApLGwoZSl9fX0sWHVhZTpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oIi9IUk4iKSxvPW4oIlpEQTIiKSxpPW4oIi8rUDQiKSx1PW4oIks0N0UiKSxhPW4oIldhR2kiKSxmPW4oIk45bjIiKSxjPW4oIlRiR3UiKSxzPW4oInR0RFkiKTtuKCJoZkttIikoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9bigicTF0SSIpLHA9ITE7ZS5kZWZhdWx0PWZ1bmN0aW9uKCl7dmFyIHQsZT1uZXcgcztmdW5jdGlvbiBuKG4pe3Q9bi5wcm9wcy5yZWR1Y2VDb21wb25lbnRzVG9TdGF0ZShjKGUpLG4ucHJvcHMpLG4ucHJvcHMuaGFuZGxlU3RhdGVDaGFuZ2UmJm4ucHJvcHMuaGFuZGxlU3RhdGVDaGFuZ2UodCl9cmV0dXJuIGZ1bmN0aW9uKGMpe2Z1bmN0aW9uIHModCl7dmFyIGE7cmV0dXJuIHIodGhpcyxzKSxhPW8odGhpcyxpKHMpLmNhbGwodGhpcyx0KSkscCYmKGUuYWRkKHUoYSkpLG4odShhKSkpLGF9cmV0dXJuIGYocyxjKSxhKHMsbnVsbCxbe2tleToicmV3aW5kIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBuPXQ7cmV0dXJuIHQ9dm9pZCAwLGUuY2xlYXIoKSxufX1dKSxhKHMsW3trZXk6ImNvbXBvbmVudERpZE1vdW50Iix2YWx1ZTpmdW5jdGlvbigpe2UuYWRkKHRoaXMpLG4odGhpcyl9fSx7a2V5OiJjb21wb25lbnREaWRVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7bih0aGlzKX19LHtrZXk6ImNvbXBvbmVudFdpbGxVbm1vdW50Iix2YWx1ZTpmdW5jdGlvbigpe2UuZGVsZXRlKHRoaXMpLG4odGhpcyl9fSx7a2V5OiJyZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fV0pLHN9KGwuQ29tcG9uZW50KX19LFpEQTI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oImlaUDMiKSxvPW4oIks0N0UiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hZXx8Im9iamVjdCIhPT1yKGUpJiYiZnVuY3Rpb24iIT09dHlwZW9mIGU/byh0KTplfX0sZDA0VjpmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oIjB0VlEiKX0sZEw0MDpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigiWTdaQyIpO3Ioci5QK3IuUiwiU2V0Iix7dG9KU09OOm4oIjhpaWEiKSgiU2V0Iil9KX0sZkdTSTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bigicDBYQiIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihyKHQpKXtmb3IodmFyIGU9MCxuPW5ldyBBcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufX19LGx3QUs6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKCJoZkttIiksbz10aGlzJiZ0aGlzLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciBuIGluIHQpT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9O3IoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGk9byhuKCJxMXRJIikpO2UuQW1wU3RhdGVDb250ZXh0PWkuY3JlYXRlQ29udGV4dCh7fSl9LHR0RFk6ZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKCIraXVjIil9LHh2djk6ZnVuY3Rpb24odCxlLG4pe24oImNIVWQiKSgiU2V0Iil9fV0pOw==" async=""></script><script src="data:application/javascript;charset=UTF-8;base64,KHdpbmRvdy53ZWJwYWNrSnNvbnA9d2luZG93LndlYnBhY2tKc29ucHx8W10pLnB1c2goW1s1XSx7IjNuaVgiOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZmx1c2g9ZnVuY3Rpb24oKXt2YXIgZT1uLmNzc1J1bGVzKCk7cmV0dXJuIG4uZmx1c2goKSxlfSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBzLGk9cigicTF0SSIpO3ZhciBuPW5ldygoKHM9cigiU2V2WiIpKSYmcy5fX2VzTW9kdWxlP3M6e2RlZmF1bHQ6c30pLmRlZmF1bHQpLG89ZnVuY3Rpb24oZSl7dmFyIHQscjtmdW5jdGlvbiBzKHQpe3ZhciByO3JldHVybihyPWUuY2FsbCh0aGlzLHQpfHx0aGlzKS5wcmV2UHJvcHM9e30scn1yPWUsKHQ9cykucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5fX3Byb3RvX189cixzLmR5bmFtaWM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXt2YXIgdD1lWzBdLHI9ZVsxXTtyZXR1cm4gbi5jb21wdXRlSWQodCxyKX0pKS5qb2luKCIgIil9O3ZhciBpPXMucHJvdG90eXBlO3JldHVybiBpLnNob3VsZENvbXBvbmVudFVwZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wcm9wcy5pZCE9PWUuaWR8fFN0cmluZyh0aGlzLnByb3BzLmR5bmFtaWMpIT09U3RyaW5nKGUuZHluYW1pYyl9LGkuY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXtuLnJlbW92ZSh0aGlzLnByb3BzKX0saS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUodGhpcy5wcmV2UHJvcHMpJiYodGhpcy5wcmV2UHJvcHMuaWQmJm4ucmVtb3ZlKHRoaXMucHJldlByb3BzKSxuLmFkZCh0aGlzLnByb3BzKSx0aGlzLnByZXZQcm9wcz10aGlzLnByb3BzKSxudWxsfSxzfShpLkNvbXBvbmVudCk7dC5kZWZhdWx0PW99LCI0NGozIjpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxyLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSk7dmFyIHM9cigia093UyIpLGk9cigiTVgwbSIpLG49ci5uKGkpLG89cigibk9IdCIpLHU9cigicTF0SSIpLGM9ci5uKHUpLGE9Yy5hLmNyZWF0ZUVsZW1lbnQ7ZnVuY3Rpb24gbChlKXt2YXIgdD1lLnNsdWcscj1lLmNoaWxkcmVuLHM9ZS5vbk5hdmlnYXRlLGk9ZS5pc0FjdGl2ZSxsPSIvIi5jb25jYXQodCksaD0oT2JqZWN0KG8udXNlUm91dGVyKSgpLE9iamVjdCh1LnVzZUNhbGxiYWNrKSgoZnVuY3Rpb24oZSl7cmV0dXJuIShzJiYhZS5jdHJsS2V5JiYhZS5tZXRhS2V5JiYhZS5zaGlmdEtleSl8fChlLnByZXZlbnREZWZhdWx0KCkscyh0KSwhMSl9KSxbdCxzXSkpO3JldHVybiBzP2EoImEiLHtocmVmOmwsb25DbGljazpoLGNsYXNzTmFtZToianN4LTE1NTUwMzE2OTYgIisoKGk/IkFjdGl2ZSI6IiIpfHwiIil9LHIsYShuLmEse2lkOiIxNTU1MDMxNjk2In0sWyIuQWN0aXZlLmpzeC0xNTU1MDMxNjk2e2JhY2tncm91bmQtY29sb3I6cmdiYSgxMCwxMzIsMjU1LDAuMTUpO30iXSkpOmEoYy5hLkZyYWdtZW50LG51bGwscil9ZnVuY3Rpb24gaChlKXt2YXIgdD1hKCJzcGFuIix7b25Nb3VzZUVudGVyOmUub25Nb3VzZUVudGVyLG9uTW91c2VMZWF2ZTplLm9uTW91c2VMZWF2ZSxyZWY6ZS5saW5rUmVmfSxlLnRpdGxlKTtyZXR1cm4gZS5vbk5hdmlnYXRlP2EobCx7c2x1ZzplLnNsdWcsb25OYXZpZ2F0ZTplLm9uTmF2aWdhdGUsaXNBY3RpdmU6ZS5pc0FjdGl2ZX0sdCk6dH12YXIgZD1jLmEuZm9yd2FyZFJlZigoZnVuY3Rpb24oZSx0KXtyZXR1cm4gYShoLE9iamVjdChzLmEpKHtsaW5rUmVmOnR9LGUpKX0pKX0sIjlreVciOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD01MzgxLHI9ZS5sZW5ndGg7cjspdD0zMyp0XmUuY2hhckNvZGVBdCgtLXIpO3JldHVybiB0Pj4+MH19LE1YMG06ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKCIzbmlYIil9LFNldlo6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgcz1uKHIoIjlreVciKSksaT1uKHIoImJWWmMiKSk7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciB0PXZvaWQgMD09PWU/e306ZSxyPXQuc3R5bGVTaGVldCxzPXZvaWQgMD09PXI/bnVsbDpyLG49dC5vcHRpbWl6ZUZvclNwZWVkLG89dm9pZCAwIT09biYmbix1PXQuaXNCcm93c2VyLGM9dm9pZCAwPT09dT8idW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3c6dTt0aGlzLl9zaGVldD1zfHxuZXcgaS5kZWZhdWx0KHtuYW1lOiJzdHlsZWQtanN4IixvcHRpbWl6ZUZvclNwZWVkOm99KSx0aGlzLl9zaGVldC5pbmplY3QoKSxzJiYiYm9vbGVhbiI9PT10eXBlb2YgbyYmKHRoaXMuX3NoZWV0LnNldE9wdGltaXplRm9yU3BlZWQobyksdGhpcy5fb3B0aW1pemVGb3JTcGVlZD10aGlzLl9zaGVldC5pc09wdGltaXplRm9yU3BlZWQoKSksdGhpcy5faXNCcm93c2VyPWMsdGhpcy5fZnJvbVNlcnZlcj12b2lkIDAsdGhpcy5faW5kaWNlcz17fSx0aGlzLl9pbnN0YW5jZXNDb3VudHM9e30sdGhpcy5jb21wdXRlSWQ9dGhpcy5jcmVhdGVDb21wdXRlSWQoKSx0aGlzLmNvbXB1dGVTZWxlY3Rvcj10aGlzLmNyZWF0ZUNvbXB1dGVTZWxlY3RvcigpfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmFkZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3ZvaWQgMD09PXRoaXMuX29wdGltaXplRm9yU3BlZWQmJih0aGlzLl9vcHRpbWl6ZUZvclNwZWVkPUFycmF5LmlzQXJyYXkoZS5jaGlsZHJlbiksdGhpcy5fc2hlZXQuc2V0T3B0aW1pemVGb3JTcGVlZCh0aGlzLl9vcHRpbWl6ZUZvclNwZWVkKSx0aGlzLl9vcHRpbWl6ZUZvclNwZWVkPXRoaXMuX3NoZWV0LmlzT3B0aW1pemVGb3JTcGVlZCgpKSx0aGlzLl9pc0Jyb3dzZXImJiF0aGlzLl9mcm9tU2VydmVyJiYodGhpcy5fZnJvbVNlcnZlcj10aGlzLnNlbGVjdEZyb21TZXJ2ZXIoKSx0aGlzLl9pbnN0YW5jZXNDb3VudHM9T2JqZWN0LmtleXModGhpcy5fZnJvbVNlcnZlcikucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdPTAsZX0pLHt9KSk7dmFyIHI9dGhpcy5nZXRJZEFuZFJ1bGVzKGUpLHM9ci5zdHlsZUlkLGk9ci5ydWxlcztpZihzIGluIHRoaXMuX2luc3RhbmNlc0NvdW50cyl0aGlzLl9pbnN0YW5jZXNDb3VudHNbc10rPTE7ZWxzZXt2YXIgbj1pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX3NoZWV0Lmluc2VydFJ1bGUoZSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PWV9KSk7dGhpcy5faW5kaWNlc1tzXT1uLHRoaXMuX2luc3RhbmNlc0NvdW50c1tzXT0xfX0sdC5yZW1vdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMuZ2V0SWRBbmRSdWxlcyhlKS5zdHlsZUlkO2lmKGZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJTdHlsZVNoZWV0UmVnaXN0cnk6ICIrdCsiLiIpfShyIGluIHRoaXMuX2luc3RhbmNlc0NvdW50cywic3R5bGVJZDogYCIrcisiYCBub3QgZm91bmQiKSx0aGlzLl9pbnN0YW5jZXNDb3VudHNbcl0tPTEsdGhpcy5faW5zdGFuY2VzQ291bnRzW3JdPDEpe3ZhciBzPXRoaXMuX2Zyb21TZXJ2ZXImJnRoaXMuX2Zyb21TZXJ2ZXJbcl07cz8ocy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHMpLGRlbGV0ZSB0aGlzLl9mcm9tU2VydmVyW3JdKToodGhpcy5faW5kaWNlc1tyXS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdC5fc2hlZXQuZGVsZXRlUnVsZShlKX0pKSxkZWxldGUgdGhpcy5faW5kaWNlc1tyXSksZGVsZXRlIHRoaXMuX2luc3RhbmNlc0NvdW50c1tyXX19LHQudXBkYXRlPWZ1bmN0aW9uKGUsdCl7dGhpcy5hZGQodCksdGhpcy5yZW1vdmUoZSl9LHQuZmx1c2g9ZnVuY3Rpb24oKXt0aGlzLl9zaGVldC5mbHVzaCgpLHRoaXMuX3NoZWV0LmluamVjdCgpLHRoaXMuX2Zyb21TZXJ2ZXI9dm9pZCAwLHRoaXMuX2luZGljZXM9e30sdGhpcy5faW5zdGFuY2VzQ291bnRzPXt9LHRoaXMuY29tcHV0ZUlkPXRoaXMuY3JlYXRlQ29tcHV0ZUlkKCksdGhpcy5jb21wdXRlU2VsZWN0b3I9dGhpcy5jcmVhdGVDb21wdXRlU2VsZWN0b3IoKX0sdC5jc3NSdWxlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLl9mcm9tU2VydmVyP09iamVjdC5rZXlzKHRoaXMuX2Zyb21TZXJ2ZXIpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuW3QsZS5fZnJvbVNlcnZlclt0XV19KSk6W10scj10aGlzLl9zaGVldC5jc3NSdWxlcygpO3JldHVybiB0LmNvbmNhdChPYmplY3Qua2V5cyh0aGlzLl9pbmRpY2VzKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblt0LGUuX2luZGljZXNbdF0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcltlXS5jc3NUZXh0fSkpLmpvaW4oZS5fb3B0aW1pemVGb3JTcGVlZD8iIjoiXG4iKV19KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gQm9vbGVhbihlWzFdKX0pKSl9LHQuY3JlYXRlQ29tcHV0ZUlkPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGZ1bmN0aW9uKHQscil7aWYoIXIpcmV0dXJuImpzeC0iK3Q7dmFyIGk9U3RyaW5nKHIpLG49dCtpO3JldHVybiBlW25dfHwoZVtuXT0ianN4LSIrKDAscy5kZWZhdWx0KSh0KyItIitpKSksZVtuXX19LHQuY3JlYXRlQ29tcHV0ZVNlbGVjdG9yPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPS9fX2pzeC1zdHlsZS1keW5hbWljLXNlbGVjdG9yL2cpO3ZhciB0PXt9O3JldHVybiBmdW5jdGlvbihyLHMpe3RoaXMuX2lzQnJvd3Nlcnx8KHM9cy5yZXBsYWNlKC9cL3N0eWxlL2dpLCJcXC9zdHlsZSIpKTt2YXIgaT1yK3M7cmV0dXJuIHRbaV18fCh0W2ldPXMucmVwbGFjZShlLHIpKSx0W2ldfX0sdC5nZXRJZEFuZFJ1bGVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmNoaWxkcmVuLHM9ZS5keW5hbWljLGk9ZS5pZDtpZihzKXt2YXIgbj10aGlzLmNvbXB1dGVJZChpLHMpO3JldHVybntzdHlsZUlkOm4scnVsZXM6QXJyYXkuaXNBcnJheShyKT9yLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29tcHV0ZVNlbGVjdG9yKG4sZSl9KSk6W3RoaXMuY29tcHV0ZVNlbGVjdG9yKG4scildfX1yZXR1cm57c3R5bGVJZDp0aGlzLmNvbXB1dGVJZChpKSxydWxlczpBcnJheS5pc0FycmF5KHIpP3I6W3JdfX0sdC5zZWxlY3RGcm9tU2VydmVyPWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZF49Il9fanN4LSJdJykpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0LmlkLnNsaWNlKDIpXT10LGV9KSx7fSl9LGV9KCk7dC5kZWZhdWx0PW99LFVYWlY6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKCJVYmJFIil9LFViYkU6ZnVuY3Rpb24oZSx0LHIpe3IoIm84TkgiKSxlLmV4cG9ydHM9cigiV0VwayIpLk9iamVjdC5hc3NpZ259LGJWWmM6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgcz10W3JdO3MuZW51bWVyYWJsZT1zLmVudW1lcmFibGV8fCExLHMuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBzJiYocy53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscy5rZXkscyl9fXQuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBzPSJ1bmRlZmluZWQiIT09dHlwZW9mIGUmJmUuZW52JiYhMCxpPWZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IFN0cmluZ10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdD12b2lkIDA9PT1lP3t9OmUscj10Lm5hbWUsbj12b2lkIDA9PT1yPyJzdHlsZXNoZWV0IjpyLHU9dC5vcHRpbWl6ZUZvclNwZWVkLGM9dm9pZCAwPT09dT9zOnUsYT10LmlzQnJvd3NlcixsPXZvaWQgMD09PWE/InVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93OmE7byhpKG4pLCJgbmFtZWAgbXVzdCBiZSBhIHN0cmluZyIpLHRoaXMuX25hbWU9bix0aGlzLl9kZWxldGVkUnVsZVBsYWNlaG9sZGVyPSIjIituKyItZGVsZXRlZC1ydWxlX19fX3t9IixvKCJib29sZWFuIj09PXR5cGVvZiBjLCJgb3B0aW1pemVGb3JTcGVlZGAgbXVzdCBiZSBhIGJvb2xlYW4iKSx0aGlzLl9vcHRpbWl6ZUZvclNwZWVkPWMsdGhpcy5faXNCcm93c2VyPWwsdGhpcy5fc2VydmVyU2hlZXQ9dm9pZCAwLHRoaXMuX3RhZ3M9W10sdGhpcy5faW5qZWN0ZWQ9ITEsdGhpcy5fcnVsZXNDb3VudD0wO3ZhciBoPXRoaXMuX2lzQnJvd3NlciYmZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtwcm9wZXJ0eT0iY3NwLW5vbmNlIl0nKTt0aGlzLl9ub25jZT1oP2guZ2V0QXR0cmlidXRlKCJjb250ZW50Iik6bnVsbH12YXIgdCxuLHUsYz1lLnByb3RvdHlwZTtyZXR1cm4gYy5zZXRPcHRpbWl6ZUZvclNwZWVkPWZ1bmN0aW9uKGUpe28oImJvb2xlYW4iPT09dHlwZW9mIGUsImBzZXRPcHRpbWl6ZUZvclNwZWVkYCBhY2NlcHRzIGEgYm9vbGVhbiIpLG8oMD09PXRoaXMuX3J1bGVzQ291bnQsIm9wdGltaXplRm9yU3BlZWQgY2Fubm90IGJlIHdoZW4gcnVsZXMgaGF2ZSBhbHJlYWR5IGJlZW4gaW5zZXJ0ZWQiKSx0aGlzLmZsdXNoKCksdGhpcy5fb3B0aW1pemVGb3JTcGVlZD1lLHRoaXMuaW5qZWN0KCl9LGMuaXNPcHRpbWl6ZUZvclNwZWVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wdGltaXplRm9yU3BlZWR9LGMuaW5qZWN0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZihvKCF0aGlzLl9pbmplY3RlZCwic2hlZXQgYWxyZWFkeSBpbmplY3RlZCIpLHRoaXMuX2luamVjdGVkPSEwLHRoaXMuX2lzQnJvd3NlciYmdGhpcy5fb3B0aW1pemVGb3JTcGVlZClyZXR1cm4gdGhpcy5fdGFnc1swXT10aGlzLm1ha2VTdHlsZVRhZyh0aGlzLl9uYW1lKSx0aGlzLl9vcHRpbWl6ZUZvclNwZWVkPSJpbnNlcnRSdWxlImluIHRoaXMuZ2V0U2hlZXQoKSx2b2lkKHRoaXMuX29wdGltaXplRm9yU3BlZWR8fChzfHxjb25zb2xlLndhcm4oIlN0eWxlU2hlZXQ6IG9wdGltaXplRm9yU3BlZWQgbW9kZSBub3Qgc3VwcG9ydGVkIGZhbGxpbmcgYmFjayB0byBzdGFuZGFyZCBtb2RlLiIpLHRoaXMuZmx1c2goKSx0aGlzLl9pbmplY3RlZD0hMCkpO3RoaXMuX3NlcnZlclNoZWV0PXtjc3NSdWxlczpbXSxpbnNlcnRSdWxlOmZ1bmN0aW9uKHQscil7cmV0dXJuIm51bWJlciI9PT10eXBlb2Ygcj9lLl9zZXJ2ZXJTaGVldC5jc3NSdWxlc1tyXT17Y3NzVGV4dDp0fTplLl9zZXJ2ZXJTaGVldC5jc3NSdWxlcy5wdXNoKHtjc3NUZXh0OnR9KSxyfSxkZWxldGVSdWxlOmZ1bmN0aW9uKHQpe2UuX3NlcnZlclNoZWV0LmNzc1J1bGVzW3RdPW51bGx9fX0sYy5nZXRTaGVldEZvclRhZz1mdW5jdGlvbihlKXtpZihlLnNoZWV0KXJldHVybiBlLnNoZWV0O2Zvcih2YXIgdD0wO3Q8ZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoO3QrKylpZihkb2N1bWVudC5zdHlsZVNoZWV0c1t0XS5vd25lck5vZGU9PT1lKXJldHVybiBkb2N1bWVudC5zdHlsZVNoZWV0c1t0XX0sYy5nZXRTaGVldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNoZWV0Rm9yVGFnKHRoaXMuX3RhZ3NbdGhpcy5fdGFncy5sZW5ndGgtMV0pfSxjLmluc2VydFJ1bGU9ZnVuY3Rpb24oZSx0KXtpZihvKGkoZSksImBpbnNlcnRSdWxlYCBhY2NlcHRzIG9ubHkgc3RyaW5ncyIpLCF0aGlzLl9pc0Jyb3dzZXIpcmV0dXJuIm51bWJlciIhPT10eXBlb2YgdCYmKHQ9dGhpcy5fc2VydmVyU2hlZXQuY3NzUnVsZXMubGVuZ3RoKSx0aGlzLl9zZXJ2ZXJTaGVldC5pbnNlcnRSdWxlKGUsdCksdGhpcy5fcnVsZXNDb3VudCsrO2lmKHRoaXMuX29wdGltaXplRm9yU3BlZWQpe3ZhciByPXRoaXMuZ2V0U2hlZXQoKTsibnVtYmVyIiE9PXR5cGVvZiB0JiYodD1yLmNzc1J1bGVzLmxlbmd0aCk7dHJ5e3IuaW5zZXJ0UnVsZShlLHQpfWNhdGNoKHUpe3JldHVybiBzfHxjb25zb2xlLndhcm4oIlN0eWxlU2hlZXQ6IGlsbGVnYWwgcnVsZTogXG5cbiIrZSsiXG5cblNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMjAwMDc5OTIgZm9yIG1vcmUgaW5mbyIpLC0xfX1lbHNle3ZhciBuPXRoaXMuX3RhZ3NbdF07dGhpcy5fdGFncy5wdXNoKHRoaXMubWFrZVN0eWxlVGFnKHRoaXMuX25hbWUsZSxuKSl9cmV0dXJuIHRoaXMuX3J1bGVzQ291bnQrK30sYy5yZXBsYWNlUnVsZT1mdW5jdGlvbihlLHQpe2lmKHRoaXMuX29wdGltaXplRm9yU3BlZWR8fCF0aGlzLl9pc0Jyb3dzZXIpe3ZhciByPXRoaXMuX2lzQnJvd3Nlcj90aGlzLmdldFNoZWV0KCk6dGhpcy5fc2VydmVyU2hlZXQ7aWYodC50cmltKCl8fCh0PXRoaXMuX2RlbGV0ZWRSdWxlUGxhY2Vob2xkZXIpLCFyLmNzc1J1bGVzW2VdKXJldHVybiBlO3IuZGVsZXRlUnVsZShlKTt0cnl7ci5pbnNlcnRSdWxlKHQsZSl9Y2F0Y2gobil7c3x8Y29uc29sZS53YXJuKCJTdHlsZVNoZWV0OiBpbGxlZ2FsIHJ1bGU6IFxuXG4iK3QrIlxuXG5TZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzIwMDA3OTkyIGZvciBtb3JlIGluZm8iKSxyLmluc2VydFJ1bGUodGhpcy5fZGVsZXRlZFJ1bGVQbGFjZWhvbGRlcixlKX19ZWxzZXt2YXIgaT10aGlzLl90YWdzW2VdO28oaSwib2xkIHJ1bGUgYXQgaW5kZXggYCIrZSsiYCBub3QgZm91bmQiKSxpLnRleHRDb250ZW50PXR9cmV0dXJuIGV9LGMuZGVsZXRlUnVsZT1mdW5jdGlvbihlKXtpZih0aGlzLl9pc0Jyb3dzZXIpaWYodGhpcy5fb3B0aW1pemVGb3JTcGVlZCl0aGlzLnJlcGxhY2VSdWxlKGUsIiIpO2Vsc2V7dmFyIHQ9dGhpcy5fdGFnc1tlXTtvKHQsInJ1bGUgYXQgaW5kZXggYCIrZSsiYCBub3QgZm91bmQiKSx0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksdGhpcy5fdGFnc1tlXT1udWxsfWVsc2UgdGhpcy5fc2VydmVyU2hlZXQuZGVsZXRlUnVsZShlKX0sYy5mbHVzaD1mdW5jdGlvbigpe3RoaXMuX2luamVjdGVkPSExLHRoaXMuX3J1bGVzQ291bnQ9MCx0aGlzLl9pc0Jyb3dzZXI/KHRoaXMuX3RhZ3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX0pKSx0aGlzLl90YWdzPVtdKTp0aGlzLl9zZXJ2ZXJTaGVldC5jc3NSdWxlcz1bXX0sYy5jc3NSdWxlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX2lzQnJvd3Nlcj90aGlzLl90YWdzLnJlZHVjZSgoZnVuY3Rpb24odCxyKXtyZXR1cm4gcj90PXQuY29uY2F0KEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlLmdldFNoZWV0Rm9yVGFnKHIpLmNzc1J1bGVzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5jc3NUZXh0PT09ZS5fZGVsZXRlZFJ1bGVQbGFjZWhvbGRlcj9udWxsOnR9KSkpOnQucHVzaChudWxsKSx0fSksW10pOnRoaXMuX3NlcnZlclNoZWV0LmNzc1J1bGVzfSxjLm1ha2VTdHlsZVRhZz1mdW5jdGlvbihlLHQscil7dCYmbyhpKHQpLCJtYWtlU3R5bGVUYWcgYWNjZXBzIG9ubHkgc3RyaW5ncyBhcyBzZWNvbmQgcGFyYW1ldGVyIik7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTt0aGlzLl9ub25jZSYmcy5zZXRBdHRyaWJ1dGUoIm5vbmNlIix0aGlzLl9ub25jZSkscy50eXBlPSJ0ZXh0L2NzcyIscy5zZXRBdHRyaWJ1dGUoImRhdGEtIitlLCIiKSx0JiZzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpKTt2YXIgbj1kb2N1bWVudC5oZWFkfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdO3JldHVybiByP24uaW5zZXJ0QmVmb3JlKHMscik6bi5hcHBlbmRDaGlsZChzKSxzfSx0PWUsKG49W3trZXk6Imxlbmd0aCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bGVzQ291bnR9fV0pJiZyKHQucHJvdG90eXBlLG4pLHUmJnIodCx1KSxlfSgpO2Z1bmN0aW9uIG8oZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlN0eWxlU2hlZXQ6ICIrdCsiLiIpfXQuZGVmYXVsdD1ufSkuY2FsbCh0aGlzLHIoIjhveEIiKSl9LGtPd1M6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSk7dmFyIHM9cigiVVhaViIpLGk9ci5uKHMpO2Z1bmN0aW9uIG4oKXtyZXR1cm4obj1pLmF8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIHMgaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixzKSYmKGVbc109cltzXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxvOE5IOmZ1bmN0aW9uKGUsdCxyKXt2YXIgcz1yKCJZN1pDIik7cyhzLlMrcy5GLCJPYmplY3QiLHthc3NpZ246cigia3daMSIpfSl9fV0pOw==" async=""></script><script src="data:application/javascript;charset=UTF-8;base64,KHdpbmRvdy53ZWJwYWNrSnNvbnA9d2luZG93LndlYnBhY2tKc29ucHx8W10pLnB1c2goW1sxNl0seyI3akJXIjpmdW5jdGlvbihuLHcsbyl7fX1dKTs=" async=""></script><script src="data:application/javascript;charset=UTF-8;base64,c2VsZi5fX0JVSUxEX01BTklGRVNUID0gKGZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIHsiL1tub3RlXSI6W2EsYixjLGQsZSwic3RhdGljXHUwMDJGY3NzXHUwMDJGc3R5bGVzLmFmOGI3NzA5LmNodW5rLmNzcyIsInN0YXRpY1x1MDAyRmNodW5rc1x1MDAyRnN0eWxlcy43NDFiNmM3Zjc3ODQyMmYxOGUwMS5qcyJdLCIvX2Vycm9yIjpbZF0sIi9sb2dpbiI6W2EsYiwic3RhdGljXHUwMDJGY2h1bmtzXHUwMDJGYTJjMmE2OTYuMzM0NjRiZDRiMjEzZDJmODhhNGQuanMiLGNdLCIvc3BlY2lhbC9hbGwiOltlXX19KCJzdGF0aWNcdTAwMkZjaHVua3NcdTAwMkY0ODRiY2IxZS40NDFkN2VkYjQzNWExZGM2MWJmMC5qcyIsInN0YXRpY1x1MDAyRmNodW5rc1x1MDAyRmZmMjM5ZjlkLmE3ZTAxODM3NzFmZWMyMzk5ZTU4LmpzIiwic3RhdGljXHUwMDJGY2h1bmtzXHUwMDJGMDkzOGJkZWNkYzM3OWVhZDUyYTYzMjc1NzlhZGU1ODNjMDFlMGM4Yy40YmZjNjQ0YjI2MTRmODNmNjc1Ny5qcyIsInN0YXRpY1x1MDAyRmNodW5rc1x1MDAyRjIxNzcwNzJhZDNiMzNlN2E5ZWE1YTgyNjk3MzgyNzZmNjNjYjUwN2IuMTg1OWM4ZmE2N2Q4MGQ1MjBhOTkuanMiLCJzdGF0aWNcdTAwMkZjaHVua3NcdTAwMkY0N2VjYjgwNmUzZTEyZTIzY2MzNDg5MzdhY2QzMGY2OTQ0MGIwMmE2LmQ4NGNhZDU2YjdlN2JkM2QwYzNjLmpzIikpO3NlbGYuX19CVUlMRF9NQU5JRkVTVF9DQiAmJiBzZWxmLl9fQlVJTERfTUFOSUZFU1RfQ0IoKQ==" async=""></script></body></html>
